var L5=e=>{throw TypeError(e)};var M2=(e,t,n)=>t.has(e)||L5("Cannot "+n);var Ln=(e,t,n)=>(M2(e,t,"read from private field"),n?n.call(e):t.get(e)),Go=(e,t,n)=>t.has(e)?L5("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Za=(e,t,n,i)=>(M2(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),qo=(e,t,n)=>(M2(e,t,"access private method"),n);var k5=(e,t,n,i)=>({set _(a){Za(e,t,a,n)},get _(){return Ln(e,t,i)}});function gI(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in e)){const r=Object.getOwnPropertyDescriptor(i,a);r&&Object.defineProperty(e,a,r.get?r:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();var Jf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var D2={exports:{}},sm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j5;function mI(){if(j5)return sm;j5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,a,r){var s=null;if(r!==void 0&&(s=""+r),a.key!==void 0&&(s=""+a.key),"key"in a){r={};for(var l in a)l!=="key"&&(r[l]=a[l])}else r=a;return a=r.ref,{$$typeof:e,type:i,key:s,ref:a!==void 0?a:null,props:r}}return sm.Fragment=t,sm.jsx=n,sm.jsxs=n,sm}var F5;function vI(){return F5||(F5=1,D2.exports=mI()),D2.exports}var F=vI(),O2={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B5;function yI(){if(B5)return Ae;B5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=m&&H[m]||H["@@iterator"],typeof H=="function"?H:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,_={};function E(H,K,nt){this.props=H,this.context=K,this.refs=_,this.updater=nt||y}E.prototype.isReactComponent={},E.prototype.setState=function(H,K){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,K,"setState")},E.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function R(){}R.prototype=E.prototype;function A(H,K,nt){this.props=H,this.context=K,this.refs=_,this.updater=nt||y}var w=A.prototype=new R;w.constructor=A,x(w,E.prototype),w.isPureReactComponent=!0;var M=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function z(H,K,nt,$,lt,yt){return nt=yt.ref,{$$typeof:e,type:H,key:K,ref:nt!==void 0?nt:null,props:yt}}function L(H,K){return z(H.type,K,void 0,void 0,void 0,H.props)}function U(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function I(H){var K={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(nt){return K[nt]})}var q=/\/+/g;function J(H,K){return typeof H=="object"&&H!==null&&H.key!=null?I(""+H.key):K.toString(36)}function it(){}function at(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(it,it):(H.status="pending",H.then(function(K){H.status==="pending"&&(H.status="fulfilled",H.value=K)},function(K){H.status==="pending"&&(H.status="rejected",H.reason=K)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function et(H,K,nt,$,lt){var yt=typeof H;(yt==="undefined"||yt==="boolean")&&(H=null);var ot=!1;if(H===null)ot=!0;else switch(yt){case"bigint":case"string":case"number":ot=!0;break;case"object":switch(H.$$typeof){case e:case t:ot=!0;break;case f:return ot=H._init,et(ot(H._payload),K,nt,$,lt)}}if(ot)return lt=lt(H),ot=$===""?"."+J(H,0):$,M(lt)?(nt="",ot!=null&&(nt=ot.replace(q,"$&/")+"/"),et(lt,K,nt,"",function(Et){return Et})):lt!=null&&(U(lt)&&(lt=L(lt,nt+(lt.key==null||H&&H.key===lt.key?"":(""+lt.key).replace(q,"$&/")+"/")+ot)),K.push(lt)),1;ot=0;var tt=$===""?".":$+":";if(M(H))for(var ut=0;ut<H.length;ut++)$=H[ut],yt=tt+J($,ut),ot+=et($,K,nt,yt,lt);else if(ut=v(H),typeof ut=="function")for(H=ut.call(H),ut=0;!($=H.next()).done;)$=$.value,yt=tt+J($,ut++),ot+=et($,K,nt,yt,lt);else if(yt==="object"){if(typeof H.then=="function")return et(at(H),K,nt,$,lt);throw K=String(H),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ot}function Z(H,K,nt){if(H==null)return H;var $=[],lt=0;return et(H,$,"","",function(yt){return K.call(nt,yt,lt++)}),$}function B(H){if(H._status===-1){var K=H._result;K=K(),K.then(function(nt){(H._status===0||H._status===-1)&&(H._status=1,H._result=nt)},function(nt){(H._status===0||H._status===-1)&&(H._status=2,H._result=nt)}),H._status===-1&&(H._status=0,H._result=K)}if(H._status===1)return H._result.default;throw H._result}var V=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function W(){}return Ae.Children={map:Z,forEach:function(H,K,nt){Z(H,function(){K.apply(this,arguments)},nt)},count:function(H){var K=0;return Z(H,function(){K++}),K},toArray:function(H){return Z(H,function(K){return K})||[]},only:function(H){if(!U(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Ae.Component=E,Ae.Fragment=n,Ae.Profiler=a,Ae.PureComponent=A,Ae.StrictMode=i,Ae.Suspense=c,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(H){return D.H.useMemoCache(H)}},Ae.cache=function(H){return function(){return H.apply(null,arguments)}},Ae.cloneElement=function(H,K,nt){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var $=x({},H.props),lt=H.key,yt=void 0;if(K!=null)for(ot in K.ref!==void 0&&(yt=void 0),K.key!==void 0&&(lt=""+K.key),K)!P.call(K,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&K.ref===void 0||($[ot]=K[ot]);var ot=arguments.length-2;if(ot===1)$.children=nt;else if(1<ot){for(var tt=Array(ot),ut=0;ut<ot;ut++)tt[ut]=arguments[ut+2];$.children=tt}return z(H.type,lt,void 0,void 0,yt,$)},Ae.createContext=function(H){return H={$$typeof:s,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:r,_context:H},H},Ae.createElement=function(H,K,nt){var $,lt={},yt=null;if(K!=null)for($ in K.key!==void 0&&(yt=""+K.key),K)P.call(K,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(lt[$]=K[$]);var ot=arguments.length-2;if(ot===1)lt.children=nt;else if(1<ot){for(var tt=Array(ot),ut=0;ut<ot;ut++)tt[ut]=arguments[ut+2];lt.children=tt}if(H&&H.defaultProps)for($ in ot=H.defaultProps,ot)lt[$]===void 0&&(lt[$]=ot[$]);return z(H,yt,void 0,void 0,null,lt)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(H){return{$$typeof:l,render:H}},Ae.isValidElement=U,Ae.lazy=function(H){return{$$typeof:f,_payload:{_status:-1,_result:H},_init:B}},Ae.memo=function(H,K){return{$$typeof:d,type:H,compare:K===void 0?null:K}},Ae.startTransition=function(H){var K=D.T,nt={};D.T=nt;try{var $=H(),lt=D.S;lt!==null&&lt(nt,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(W,V)}catch(yt){V(yt)}finally{D.T=K}},Ae.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ae.use=function(H){return D.H.use(H)},Ae.useActionState=function(H,K,nt){return D.H.useActionState(H,K,nt)},Ae.useCallback=function(H,K){return D.H.useCallback(H,K)},Ae.useContext=function(H){return D.H.useContext(H)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(H,K){return D.H.useDeferredValue(H,K)},Ae.useEffect=function(H,K,nt){var $=D.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(H,K)},Ae.useId=function(){return D.H.useId()},Ae.useImperativeHandle=function(H,K,nt){return D.H.useImperativeHandle(H,K,nt)},Ae.useInsertionEffect=function(H,K){return D.H.useInsertionEffect(H,K)},Ae.useLayoutEffect=function(H,K){return D.H.useLayoutEffect(H,K)},Ae.useMemo=function(H,K){return D.H.useMemo(H,K)},Ae.useOptimistic=function(H,K){return D.H.useOptimistic(H,K)},Ae.useReducer=function(H,K,nt){return D.H.useReducer(H,K,nt)},Ae.useRef=function(H){return D.H.useRef(H)},Ae.useState=function(H){return D.H.useState(H)},Ae.useSyncExternalStore=function(H,K,nt){return D.H.useSyncExternalStore(H,K,nt)},Ae.useTransition=function(){return D.H.useTransition()},Ae.version="19.1.0",Ae}var I5;function il(){return I5||(I5=1,O2.exports=yI()),O2.exports}var j=il();const Y=Tr(j),z5=gI({__proto__:null,default:Y},[j]);var N2={exports:{}},om={},P2={exports:{}},L2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U5;function bI(){return U5||(U5=1,function(e){function t(Z,B){var V=Z.length;Z.push(B);t:for(;0<V;){var W=V-1>>>1,H=Z[W];if(0<a(H,B))Z[W]=B,Z[V]=H,V=W;else break t}}function n(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var B=Z[0],V=Z.pop();if(V!==B){Z[0]=V;t:for(var W=0,H=Z.length,K=H>>>1;W<K;){var nt=2*(W+1)-1,$=Z[nt],lt=nt+1,yt=Z[lt];if(0>a($,V))lt<H&&0>a(yt,$)?(Z[W]=yt,Z[lt]=V,W=lt):(Z[W]=$,Z[nt]=V,W=nt);else if(lt<H&&0>a(yt,V))Z[W]=yt,Z[lt]=V,W=lt;else break t}}return B}function a(Z,B){var V=Z.sortIndex-B.sortIndex;return V!==0?V:Z.id-B.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],d=[],f=1,m=null,v=3,y=!1,x=!1,_=!1,E=!1,R=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function M(Z){for(var B=n(d);B!==null;){if(B.callback===null)i(d);else if(B.startTime<=Z)i(d),B.sortIndex=B.expirationTime,t(c,B);else break;B=n(d)}}function D(Z){if(_=!1,M(Z),!x)if(n(c)!==null)x=!0,P||(P=!0,J());else{var B=n(d);B!==null&&et(D,B.startTime-Z)}}var P=!1,z=-1,L=5,U=-1;function I(){return E?!0:!(e.unstable_now()-U<L)}function q(){if(E=!1,P){var Z=e.unstable_now();U=Z;var B=!0;try{t:{x=!1,_&&(_=!1,A(z),z=-1),y=!0;var V=v;try{e:{for(M(Z),m=n(c);m!==null&&!(m.expirationTime>Z&&I());){var W=m.callback;if(typeof W=="function"){m.callback=null,v=m.priorityLevel;var H=W(m.expirationTime<=Z);if(Z=e.unstable_now(),typeof H=="function"){m.callback=H,M(Z),B=!0;break e}m===n(c)&&i(c),M(Z)}else i(c);m=n(c)}if(m!==null)B=!0;else{var K=n(d);K!==null&&et(D,K.startTime-Z),B=!1}}break t}finally{m=null,v=V,y=!1}B=void 0}}finally{B?J():P=!1}}}var J;if(typeof w=="function")J=function(){w(q)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,at=it.port2;it.port1.onmessage=q,J=function(){at.postMessage(null)}}else J=function(){R(q,0)};function et(Z,B){z=R(function(){Z(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(Z){switch(v){case 1:case 2:case 3:var B=3;break;default:B=v}var V=v;v=B;try{return Z()}finally{v=V}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(Z,B){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var V=v;v=Z;try{return B()}finally{v=V}},e.unstable_scheduleCallback=function(Z,B,V){var W=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?W+V:W):V=W,Z){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=V+H,Z={id:f++,callback:B,priorityLevel:Z,startTime:V,expirationTime:H,sortIndex:-1},V>W?(Z.sortIndex=V,t(d,Z),n(c)===null&&Z===n(d)&&(_?(A(z),z=-1):_=!0,et(D,V-W))):(Z.sortIndex=H,t(c,Z),x||y||(x=!0,P||(P=!0,J()))),Z},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(Z){var B=v;return function(){var V=v;v=B;try{return Z.apply(this,arguments)}finally{v=V}}}}(L2)),L2}var H5;function pC(){return H5||(H5=1,P2.exports=bI()),P2.exports}var k2={exports:{}},ga={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G5;function xI(){if(G5)return ga;G5=1;var e=il();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function r(c,d,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:c,containerInfo:d,implementation:f}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ga.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ga.createPortal=function(c,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return r(c,d,null,f)},ga.flushSync=function(c){var d=s.T,f=i.p;try{if(s.T=null,i.p=2,c)return c()}finally{s.T=d,i.p=f,i.d.f()}},ga.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(c,d))},ga.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},ga.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var f=d.as,m=l(f,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?i.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:y}):f==="script"&&i.d.X(c,{crossOrigin:m,integrity:v,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ga.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);i.d.M(c,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(c)},ga.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,m=l(f,d.crossOrigin);i.d.L(c,f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ga.preloadModule=function(c,d){if(typeof c=="string")if(d){var f=l(d.as,d.crossOrigin);i.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(c)},ga.requestFormReset=function(c){i.d.r(c)},ga.unstable_batchedUpdates=function(c,d){return c(d)},ga.useFormState=function(c,d,f){return s.H.useFormState(c,d,f)},ga.useFormStatus=function(){return s.H.useHostTransitionStatus()},ga.version="19.1.0",ga}var q5;function U7(){if(q5)return k2.exports;q5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),k2.exports=xI(),k2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V5;function SI(){if(V5)return om;V5=1;var e=pC(),t=il(),n=U7();function i(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)u+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function r(o){var u=o,g=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(g=u.return),o=u.return;while(o)}return u.tag===3?g:null}function s(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(r(o)!==o)throw Error(i(188))}function c(o){var u=o.alternate;if(!u){if(u=r(o),u===null)throw Error(i(188));return u!==o?null:o}for(var g=o,b=u;;){var C=g.return;if(C===null)break;var O=C.alternate;if(O===null){if(b=C.return,b!==null){g=b;continue}break}if(C.child===O.child){for(O=C.child;O;){if(O===g)return l(C),o;if(O===b)return l(C),u;O=O.sibling}throw Error(i(188))}if(g.return!==b.return)g=C,b=O;else{for(var G=!1,X=C.child;X;){if(X===g){G=!0,g=C,b=O;break}if(X===b){G=!0,b=C,g=O;break}X=X.sibling}if(!G){for(X=O.child;X;){if(X===g){G=!0,g=O,b=C;break}if(X===b){G=!0,b=O,g=C;break}X=X.sibling}if(!G)throw Error(i(189))}}if(g.alternate!==b)throw Error(i(190))}if(g.tag!==3)throw Error(i(188));return g.stateNode.current===g?o:u}function d(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=d(o),u!==null)return u;o=o.sibling}return null}var f=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),w=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function J(o){return o===null||typeof o!="object"?null:(o=q&&o[q]||o["@@iterator"],typeof o=="function"?o:null)}var it=Symbol.for("react.client.reference");function at(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===it?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case E:return"Profiler";case _:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList";case U:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case y:return"Portal";case w:return(o.displayName||"Context")+".Provider";case A:return(o._context.displayName||"Context")+".Consumer";case M:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case z:return u=o.displayName||null,u!==null?u:at(o.type)||"Memo";case L:u=o._payload,o=o._init;try{return at(o(u))}catch{}}return null}var et=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},W=[],H=-1;function K(o){return{current:o}}function nt(o){0>H||(o.current=W[H],W[H]=null,H--)}function $(o,u){H++,W[H]=o.current,o.current=u}var lt=K(null),yt=K(null),ot=K(null),tt=K(null);function ut(o,u){switch($(ot,u),$(yt,o),$(lt,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?l5(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=l5(u),o=c5(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}nt(lt),$(lt,o)}function Et(){nt(lt),nt(yt),nt(ot)}function Dt(o){o.memoizedState!==null&&$(tt,o);var u=lt.current,g=c5(u,o.type);u!==g&&($(yt,o),$(lt,g))}function jt(o){yt.current===o&&(nt(lt),nt(yt)),tt.current===o&&(nt(tt),em._currentValue=V)}var Bt=Object.prototype.hasOwnProperty,Ht=e.unstable_scheduleCallback,pe=e.unstable_cancelCallback,Lt=e.unstable_shouldYield,Re=e.unstable_requestPaint,Ft=e.unstable_now,Ce=e.unstable_getCurrentPriorityLevel,cn=e.unstable_ImmediatePriority,un=e.unstable_UserBlockingPriority,Sn=e.unstable_NormalPriority,Zt=e.unstable_LowPriority,Me=e.unstable_IdlePriority,Ot=e.log,Ut=e.unstable_setDisableYieldValue,ie=null,$t=null;function re(o){if(typeof Ot=="function"&&Ut(o),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(ie,o)}catch{}}var Ne=Math.clz32?Math.clz32:yi,nn=Math.log,_n=Math.LN2;function yi(o){return o>>>=0,o===0?32:31-(nn(o)/_n|0)|0}var Rn=256,Mt=4194304;function Vt(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function tn(o,u,g){var b=o.pendingLanes;if(b===0)return 0;var C=0,O=o.suspendedLanes,G=o.pingedLanes;o=o.warmLanes;var X=b&134217727;return X!==0?(b=X&~O,b!==0?C=Vt(b):(G&=X,G!==0?C=Vt(G):g||(g=X&~o,g!==0&&(C=Vt(g))))):(X=b&~O,X!==0?C=Vt(X):G!==0?C=Vt(G):g||(g=b&~o,g!==0&&(C=Vt(g)))),C===0?0:u!==0&&u!==C&&(u&O)===0&&(O=C&-C,g=u&-u,O>=g||O===32&&(g&4194048)!==0)?u:C}function An(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function Rr(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ms(){var o=Rn;return Rn<<=1,(Rn&4194048)===0&&(Rn=256),o}function zi(){var o=Mt;return Mt<<=1,(Mt&62914560)===0&&(Mt=4194304),o}function Mr(o){for(var u=[],g=0;31>g;g++)u.push(o);return u}function Ui(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function vs(o,u,g,b,C,O){var G=o.pendingLanes;o.pendingLanes=g,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=g,o.entangledLanes&=g,o.errorRecoveryDisabledLanes&=g,o.shellSuspendCounter=0;var X=o.entanglements,rt=o.expirationTimes,gt=o.hiddenUpdates;for(g=G&~g;0<g;){var wt=31-Ne(g),Ct=1<<wt;X[wt]=0,rt[wt]=-1;var vt=gt[wt];if(vt!==null)for(gt[wt]=null,wt=0;wt<vt.length;wt++){var bt=vt[wt];bt!==null&&(bt.lane&=-536870913)}g&=~Ct}b!==0&&Ua(o,b,0),O!==0&&C===0&&o.tag!==0&&(o.suspendedLanes|=O&~(G&~u))}function Ua(o,u,g){o.pendingLanes|=u,o.suspendedLanes&=~u;var b=31-Ne(u);o.entangledLanes|=u,o.entanglements[b]=o.entanglements[b]|1073741824|g&4194090}function ys(o,u){var g=o.entangledLanes|=u;for(o=o.entanglements;g;){var b=31-Ne(g),C=1<<b;C&u|o[b]&u&&(o[b]|=u),g&=~C}}function oc(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function lc(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function sl(){var o=B.p;return o!==0?o:(o=window.event,o===void 0?32:R5(o.type))}function cc(o,u){var g=B.p;try{return B.p=o,u()}finally{B.p=g}}var Jn=Math.random().toString(36).slice(2),dn="__reactFiber$"+Jn,Hi="__reactProps$"+Jn,bs="__reactContainer$"+Jn,Tu="__reactEvents$"+Jn,kp="__reactListeners$"+Jn,ro="__reactHandles$"+Jn,xs="__reactResources$"+Jn,Ss="__reactMarker$"+Jn;function Ru(o){delete o[dn],delete o[Hi],delete o[Tu],delete o[kp],delete o[ro]}function Dr(o){var u=o[dn];if(u)return u;for(var g=o.parentNode;g;){if(u=g[bs]||g[dn]){if(g=u.alternate,u.child!==null||g!==null&&g.child!==null)for(o=f5(o);o!==null;){if(g=o[dn])return g;o=f5(o)}return u}o=g,g=o.parentNode}return null}function Or(o){if(o=o[dn]||o[bs]){var u=o.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return o}return null}function uc(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(i(33))}function ol(o){var u=o[xs];return u||(u=o[xs]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function ti(o){o[Ss]=!0}var ph=new Set,gh={};function hn(o,u){so(o,u),so(o+"Capture",u)}function so(o,u){for(gh[o]=u,o=0;o<u.length;o++)ph.add(u[o])}var jp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fp={},Bp={};function Yx(o){return Bt.call(Bp,o)?!0:Bt.call(Fp,o)?!1:jp.test(o)?Bp[o]=!0:(Fp[o]=!0,!1)}function dc(o,u,g){if(Yx(u))if(g===null)o.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var b=u.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+g)}}function hc(o,u,g){if(g===null)o.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+g)}}function ur(o,u,g,b){if(b===null)o.removeAttribute(g);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(g);return}o.setAttributeNS(u,g,""+b)}}var Ai,In;function oo(o){if(Ai===void 0)try{throw Error()}catch(g){var u=g.stack.trim().match(/\n( *(at )?)/);Ai=u&&u[1]||"",In=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ai+o+In}var ll=!1;function fc(o,u){if(!o||ll)return"";ll=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(u){var Ct=function(){throw Error()};if(Object.defineProperty(Ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ct,[])}catch(bt){var vt=bt}Reflect.construct(o,[],Ct)}else{try{Ct.call()}catch(bt){vt=bt}o.call(Ct.prototype)}}else{try{throw Error()}catch(bt){vt=bt}(Ct=o())&&typeof Ct.catch=="function"&&Ct.catch(function(){})}}catch(bt){if(bt&&vt&&typeof bt.stack=="string")return[bt.stack,vt.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=b.DetermineComponentFrameRoot(),G=O[0],X=O[1];if(G&&X){var rt=G.split(`
`),gt=X.split(`
`);for(C=b=0;b<rt.length&&!rt[b].includes("DetermineComponentFrameRoot");)b++;for(;C<gt.length&&!gt[C].includes("DetermineComponentFrameRoot");)C++;if(b===rt.length||C===gt.length)for(b=rt.length-1,C=gt.length-1;1<=b&&0<=C&&rt[b]!==gt[C];)C--;for(;1<=b&&0<=C;b--,C--)if(rt[b]!==gt[C]){if(b!==1||C!==1)do if(b--,C--,0>C||rt[b]!==gt[C]){var wt=`
`+rt[b].replace(" at new "," at ");return o.displayName&&wt.includes("<anonymous>")&&(wt=wt.replace("<anonymous>",o.displayName)),wt}while(1<=b&&0<=C);break}}}finally{ll=!1,Error.prepareStackTrace=g}return(g=o?o.displayName||o.name:"")?oo(g):""}function Ip(o){switch(o.tag){case 26:case 27:case 5:return oo(o.type);case 16:return oo("Lazy");case 13:return oo("Suspense");case 19:return oo("SuspenseList");case 0:case 15:return fc(o.type,!1);case 11:return fc(o.type.render,!1);case 1:return fc(o.type,!0);case 31:return oo("Activity");default:return""}}function Nr(o){try{var u="";do u+=Ip(o),o=o.return;while(o);return u}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function Gi(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function mh(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function zp(o){var u=mh(o)?"checked":"value",g=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),b=""+o[u];if(!o.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var C=g.get,O=g.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return C.call(this)},set:function(G){b=""+G,O.call(this,G)}}),Object.defineProperty(o,u,{enumerable:g.enumerable}),{getValue:function(){return b},setValue:function(G){b=""+G},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Mu(o){o._valueTracker||(o._valueTracker=zp(o))}function Up(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var g=u.getValue(),b="";return o&&(b=mh(o)?o.checked?"true":"false":o.value),o=b,o!==g?(u.setValue(o),!0):!1}function Du(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Ov=/[\n"\\]/g;function xa(o){return o.replace(Ov,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function vh(o,u,g,b,C,O,G,X){o.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?o.type=G:o.removeAttribute("type"),u!=null?G==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+Gi(u)):o.value!==""+Gi(u)&&(o.value=""+Gi(u)):G!=="submit"&&G!=="reset"||o.removeAttribute("value"),u!=null?bh(o,G,Gi(u)):g!=null?bh(o,G,Gi(g)):b!=null&&o.removeAttribute("value"),C==null&&O!=null&&(o.defaultChecked=!!O),C!=null&&(o.checked=C&&typeof C!="function"&&typeof C!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?o.name=""+Gi(X):o.removeAttribute("name")}function yh(o,u,g,b,C,O,G,X){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(o.type=O),u!=null||g!=null){if(!(O!=="submit"&&O!=="reset"||u!=null))return;g=g!=null?""+Gi(g):"",u=u!=null?""+Gi(u):g,X||u===o.value||(o.value=u),o.defaultValue=u}b=b??C,b=typeof b!="function"&&typeof b!="symbol"&&!!b,o.checked=X?o.checked:!!b,o.defaultChecked=!!b,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(o.name=G)}function bh(o,u,g){u==="number"&&Du(o.ownerDocument)===o||o.defaultValue===""+g||(o.defaultValue=""+g)}function pc(o,u,g,b){if(o=o.options,u){u={};for(var C=0;C<g.length;C++)u["$"+g[C]]=!0;for(g=0;g<o.length;g++)C=u.hasOwnProperty("$"+o[g].value),o[g].selected!==C&&(o[g].selected=C),C&&b&&(o[g].defaultSelected=!0)}else{for(g=""+Gi(g),u=null,C=0;C<o.length;C++){if(o[C].value===g){o[C].selected=!0,b&&(o[C].defaultSelected=!0);return}u!==null||o[C].disabled||(u=o[C])}u!==null&&(u.selected=!0)}}function Hp(o,u,g){if(u!=null&&(u=""+Gi(u),u!==o.value&&(o.value=u),g==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=g!=null?""+Gi(g):""}function Gp(o,u,g,b){if(u==null){if(b!=null){if(g!=null)throw Error(i(92));if(et(b)){if(1<b.length)throw Error(i(93));b=b[0]}g=b}g==null&&(g=""),u=g}g=Gi(u),o.defaultValue=g,b=o.textContent,b===g&&b!==""&&b!==null&&(o.value=b)}function cl(o,u){if(u){var g=o.firstChild;if(g&&g===o.lastChild&&g.nodeType===3){g.nodeValue=u;return}}o.textContent=u}var qp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vp(o,u,g){var b=u.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?b?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":b?o.setProperty(u,g):typeof g!="number"||g===0||qp.has(u)?u==="float"?o.cssFloat=g:o[u]=(""+g).trim():o[u]=g+"px"}function Yp(o,u,g){if(u!=null&&typeof u!="object")throw Error(i(62));if(o=o.style,g!=null){for(var b in g)!g.hasOwnProperty(b)||u!=null&&u.hasOwnProperty(b)||(b.indexOf("--")===0?o.setProperty(b,""):b==="float"?o.cssFloat="":o[b]="");for(var C in u)b=u[C],u.hasOwnProperty(C)&&g[C]!==b&&Vp(o,C,b)}else for(var O in u)u.hasOwnProperty(O)&&Vp(o,O,u[O])}function xh(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sh(o){return Pv.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var _h=null;function lo(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var _s=null,ul=null;function Ou(o){var u=Or(o);if(u&&(o=u.stateNode)){var g=o[Hi]||null;t:switch(o=u.stateNode,u.type){case"input":if(vh(o,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),u=g.name,g.type==="radio"&&u!=null){for(g=o;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+xa(""+u)+'"][type="radio"]'),u=0;u<g.length;u++){var b=g[u];if(b!==o&&b.form===o.form){var C=b[Hi]||null;if(!C)throw Error(i(90));vh(b,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(u=0;u<g.length;u++)b=g[u],b.form===o.form&&Up(b)}break t;case"textarea":Hp(o,g.value,g.defaultValue);break t;case"select":u=g.value,u!=null&&pc(o,!!g.multiple,u,!1)}}}var dl=!1;function Kp(o,u,g){if(dl)return o(u,g);dl=!0;try{var b=o(u);return b}finally{if(dl=!1,(_s!==null||ul!==null)&&(Bo(),_s&&(u=_s,o=ul,ul=_s=null,Ou(u),o)))for(u=0;u<o.length;u++)Ou(o[u])}}function gc(o,u){var g=o.stateNode;if(g===null)return null;var b=g[Hi]||null;if(b===null)return null;g=b[u];t:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(o=o.type,b=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!b;break t;default:o=!1}if(o)return null;if(g&&typeof g!="function")throw Error(i(231,u,typeof g));return g}var Pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wh=!1;if(Pr)try{var mc={};Object.defineProperty(mc,"passive",{get:function(){wh=!0}}),window.addEventListener("test",mc,mc),window.removeEventListener("test",mc,mc)}catch{wh=!1}var ws=null,Nu=null,Pu=null;function Xp(){if(Pu)return Pu;var o,u=Nu,g=u.length,b,C="value"in ws?ws.value:ws.textContent,O=C.length;for(o=0;o<g&&u[o]===C[o];o++);var G=g-o;for(b=1;b<=G&&u[g-b]===C[O-b];b++);return Pu=C.slice(o,1<b?1-b:void 0)}function vc(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Lu(){return!0}function $p(){return!1}function qi(o){function u(g,b,C,O,G){this._reactName=g,this._targetInst=C,this.type=b,this.nativeEvent=O,this.target=G,this.currentTarget=null;for(var X in o)o.hasOwnProperty(X)&&(g=o[X],this[X]=g?g(O):O[X]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Lu:$p,this.isPropagationStopped=$p,this}return f(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Lu)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Lu)},persist:function(){},isPersistent:Lu}),u}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ku=qi(Es),yc=f({},Es,{view:0,detail:0}),Kx=qi(yc),Wp,Eh,As,bc=f({},yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rh,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==As&&(As&&o.type==="mousemove"?(Wp=o.screenX-As.screenX,Eh=o.screenY-As.screenY):Eh=Wp=0,As=o),Wp)},movementY:function(o){return"movementY"in o?o.movementY:Eh}}),ju=qi(bc),Lv=f({},bc,{dataTransfer:0}),kv=qi(Lv),Ah=f({},yc,{relatedTarget:0}),hl=qi(Ah),Ch=f({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),jv=qi(Ch),Fv=f({},Es,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),co=qi(Fv),Bv=f({},Es,{data:0}),Cs=qi(Bv),Ts={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Th={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iv(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=Qp[o])?!!u[o]:!1}function Rh(){return Iv}var fl=f({},yc,{key:function(o){if(o.key){var u=Ts[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=vc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Th[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rh,charCode:function(o){return o.type==="keypress"?vc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?vc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Mh=qi(fl),zv=f({},bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dh=qi(zv),Uv=f({},yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rh}),Hv=qi(Uv),Xx=f({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),bi=qi(Xx),Gv=f({},bc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),qv=qi(Gv),Vv=f({},Es,{newState:0,oldState:0}),Yv=qi(Vv),Kv=[9,13,27,32],xc=Pr&&"CompositionEvent"in window,pl=null;Pr&&"documentMode"in document&&(pl=document.documentMode);var Xv=Pr&&"TextEvent"in window&&!pl,Zp=Pr&&(!xc||pl&&8<pl&&11>=pl),Jp=" ",Oh=!1;function Nh(o,u){switch(o){case"keyup":return Kv.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tg(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var uo=!1;function Ph(o,u){switch(o){case"compositionend":return tg(u);case"keypress":return u.which!==32?null:(Oh=!0,Jp);case"textInput":return o=u.data,o===Jp&&Oh?null:o;default:return null}}function eg(o,u){if(uo)return o==="compositionend"||!xc&&Nh(o,u)?(o=Xp(),Pu=Nu=ws=null,uo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Zp&&u.locale!=="ko"?null:u.data;default:return null}}var $v={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lh(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!$v[o.type]:u==="textarea"}function ng(o,u,g,b){_s?ul?ul.push(b):ul=[b]:_s=b,u=Yy(u,"onChange"),0<u.length&&(g=new ku("onChange","change",null,g,b),o.push({event:g,listeners:u}))}var Sa=null,gl=null;function $x(o){i5(o,0)}function Fu(o){var u=uc(o);if(Up(u))return o}function ra(o,u){if(o==="change")return u}var ig=!1;if(Pr){var Bu;if(Pr){var kh="oninput"in document;if(!kh){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),kh=typeof ag.oninput=="function"}Bu=kh}else Bu=!1;ig=Bu&&(!document.documentMode||9<document.documentMode)}function jh(){Sa&&(Sa.detachEvent("onpropertychange",Fh),gl=Sa=null)}function Fh(o){if(o.propertyName==="value"&&Fu(gl)){var u=[];ng(u,gl,o,lo(o)),Kp($x,u)}}function Wv(o,u,g){o==="focusin"?(jh(),Sa=u,gl=g,Sa.attachEvent("onpropertychange",Fh)):o==="focusout"&&jh()}function Bh(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Fu(gl)}function Iu(o,u){if(o==="click")return Fu(u)}function Mn(o,u){if(o==="input"||o==="change")return Fu(u)}function Wx(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var _a=typeof Object.is=="function"?Object.is:Wx;function Sc(o,u){if(_a(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var g=Object.keys(o),b=Object.keys(u);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++){var C=g[b];if(!Bt.call(u,C)||!_a(o[C],u[C]))return!1}return!0}function _c(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Rs(o,u){var g=_c(o);o=0;for(var b;g;){if(g.nodeType===3){if(b=o+g.textContent.length,o<=u&&b>=u)return{node:g,offset:u-o};o=b}t:{for(;g;){if(g.nextSibling){g=g.nextSibling;break t}g=g.parentNode}g=void 0}g=_c(g)}}function rg(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?rg(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function sg(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=Du(o.document);u instanceof o.HTMLIFrameElement;){try{var g=typeof u.contentWindow.location.href=="string"}catch{g=!1}if(g)o=u.contentWindow;else break;u=Du(o.document)}return u}function ml(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var Lr=Pr&&"documentMode"in document&&11>=document.documentMode,vl=null,zu=null,wc=null,Uu=!1;function Ih(o,u,g){var b=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Uu||vl==null||vl!==Du(b)||(b=vl,"selectionStart"in b&&ml(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),wc&&Sc(wc,b)||(wc=b,b=Yy(zu,"onSelect"),0<b.length&&(u=new ku("onSelect","select",null,u,g),o.push({event:u,listeners:b}),u.target=vl)))}function kr(o,u){var g={};return g[o.toLowerCase()]=u.toLowerCase(),g["Webkit"+o]="webkit"+u,g["Moz"+o]="moz"+u,g}var yl={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionrun:kr("Transition","TransitionRun"),transitionstart:kr("Transition","TransitionStart"),transitioncancel:kr("Transition","TransitionCancel"),transitionend:kr("Transition","TransitionEnd")},zh={},Qv={};Pr&&(Qv=document.createElement("div").style,"AnimationEvent"in window||(delete yl.animationend.animation,delete yl.animationiteration.animation,delete yl.animationstart.animation),"TransitionEvent"in window||delete yl.transitionend.transition);function ho(o){if(zh[o])return zh[o];if(!yl[o])return o;var u=yl[o],g;for(g in u)if(u.hasOwnProperty(g)&&g in Qv)return zh[o]=u[g];return o}var og=ho("animationend"),Ha=ho("animationiteration"),Uh=ho("animationstart"),Zv=ho("transitionrun"),Qx=ho("transitionstart"),lg=ho("transitioncancel"),Ci=ho("transitionend"),cg=new Map,Ti="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ti.push("scrollEnd");function Ga(o,u){cg.set(o,u),hn(u,[o])}var Ms=new WeakMap;function ci(o,u){if(typeof o=="object"&&o!==null){var g=Ms.get(o);return g!==void 0?g:(u={value:o,source:u,stack:Nr(u)},Ms.set(o,u),u)}return{value:o,source:u,stack:Nr(u)}}var ei=[],fo=0,Hu=0;function wa(){for(var o=fo,u=Hu=fo=0;u<o;){var g=ei[u];ei[u++]=null;var b=ei[u];ei[u++]=null;var C=ei[u];ei[u++]=null;var O=ei[u];if(ei[u++]=null,b!==null&&C!==null){var G=b.pending;G===null?C.next=C:(C.next=G.next,G.next=C),b.pending=C}O!==0&&go(g,C,O)}}function Gu(o,u,g,b){ei[fo++]=o,ei[fo++]=u,ei[fo++]=g,ei[fo++]=b,Hu|=b,o.lanes|=b,o=o.alternate,o!==null&&(o.lanes|=b)}function po(o,u,g,b){return Gu(o,u,g,b),qu(o)}function jr(o,u){return Gu(o,null,null,u),qu(o)}function go(o,u,g){o.lanes|=g;var b=o.alternate;b!==null&&(b.lanes|=g);for(var C=!1,O=o.return;O!==null;)O.childLanes|=g,b=O.alternate,b!==null&&(b.childLanes|=g),O.tag===22&&(o=O.stateNode,o===null||o._visibility&1||(C=!0)),o=O,O=O.return;return o.tag===3?(O=o.stateNode,C&&u!==null&&(C=31-Ne(g),o=O.hiddenUpdates,b=o[C],b===null?o[C]=[u]:b.push(u),u.lane=g|536870912),O):null}function qu(o){if(50<Zr)throw Zr=0,_d=null,Error(i(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var bl={};function Vu(o,u,g,b){this.tag=o,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(o,u,g,b){return new Vu(o,u,g,b)}function Ec(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Fr(o,u){var g=o.alternate;return g===null?(g=sa(o.tag,u,o.key,o.mode),g.elementType=o.elementType,g.type=o.type,g.stateNode=o.stateNode,g.alternate=o,o.alternate=g):(g.pendingProps=u,g.type=o.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=o.flags&65011712,g.childLanes=o.childLanes,g.lanes=o.lanes,g.child=o.child,g.memoizedProps=o.memoizedProps,g.memoizedState=o.memoizedState,g.updateQueue=o.updateQueue,u=o.dependencies,g.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},g.sibling=o.sibling,g.index=o.index,g.ref=o.ref,g.refCleanup=o.refCleanup,g}function Hh(o,u){o.flags&=65011714;var g=o.alternate;return g===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=g.childLanes,o.lanes=g.lanes,o.child=g.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=g.memoizedProps,o.memoizedState=g.memoizedState,o.updateQueue=g.updateQueue,o.type=g.type,u=g.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function Ac(o,u,g,b,C,O){var G=0;if(b=o,typeof o=="function")Ec(o)&&(G=1);else if(typeof o=="string")G=nI(o,g,lt.current)?26:o==="html"||o==="head"||o==="body"?27:5;else t:switch(o){case U:return o=sa(31,g,u,C),o.elementType=U,o.lanes=O,o;case x:return Ds(g.children,C,O,u);case _:G=8,C|=24;break;case E:return o=sa(12,g,u,C|2),o.elementType=E,o.lanes=O,o;case D:return o=sa(13,g,u,C),o.elementType=D,o.lanes=O,o;case P:return o=sa(19,g,u,C),o.elementType=P,o.lanes=O,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case R:case w:G=10;break t;case A:G=9;break t;case M:G=11;break t;case z:G=14;break t;case L:G=16,b=null;break t}G=29,g=Error(i(130,o===null?"null":typeof o,"")),b=null}return u=sa(G,g,u,C),u.elementType=o,u.type=b,u.lanes=O,u}function Ds(o,u,g,b){return o=sa(7,o,b,u),o.lanes=g,o}function Gh(o,u,g){return o=sa(6,o,null,u),o.lanes=g,o}function Yu(o,u,g){return u=sa(4,o.children!==null?o.children:[],o.key,u),u.lanes=g,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var ui=[],xl=0,Ri=null,Ku=0,Ea=[],qa=0,oa=null,Br=1,dr="";function Va(o,u){ui[xl++]=Ku,ui[xl++]=Ri,Ri=o,Ku=u}function ug(o,u,g){Ea[qa++]=Br,Ea[qa++]=dr,Ea[qa++]=oa,oa=o;var b=Br;o=dr;var C=32-Ne(b)-1;b&=~(1<<C),g+=1;var O=32-Ne(u)+C;if(30<O){var G=C-C%5;O=(b&(1<<G)-1).toString(32),b>>=G,C-=G,Br=1<<32-Ne(u)+C|g<<C|b,dr=O+o}else Br=1<<O|g<<C|b,dr=o}function qh(o){o.return!==null&&(Va(o,1),ug(o,1,0))}function Vh(o){for(;o===Ri;)Ri=ui[--xl],ui[xl]=null,Ku=ui[--xl],ui[xl]=null;for(;o===oa;)oa=Ea[--qa],Ea[qa]=null,dr=Ea[--qa],Ea[qa]=null,Br=Ea[--qa],Ea[qa]=null}var Mi=null,Cn=null,He=!1,Sl=null,Ir=!1,dg=Error(i(519));function mo(o){var u=Error(i(418,""));throw Tc(ci(u,o)),dg}function hg(o){var u=o.stateNode,g=o.type,b=o.memoizedProps;switch(u[dn]=o,u[Hi]=b,g){case"dialog":Fe("cancel",u),Fe("close",u);break;case"iframe":case"object":case"embed":Fe("load",u);break;case"video":case"audio":for(g=0;g<$g.length;g++)Fe($g[g],u);break;case"source":Fe("error",u);break;case"img":case"image":case"link":Fe("error",u),Fe("load",u);break;case"details":Fe("toggle",u);break;case"input":Fe("invalid",u),yh(u,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0),Mu(u);break;case"select":Fe("invalid",u);break;case"textarea":Fe("invalid",u),Gp(u,b.value,b.defaultValue,b.children),Mu(u)}g=b.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||u.textContent===""+g||b.suppressHydrationWarning===!0||o5(u.textContent,g)?(b.popover!=null&&(Fe("beforetoggle",u),Fe("toggle",u)),b.onScroll!=null&&Fe("scroll",u),b.onScrollEnd!=null&&Fe("scrollend",u),b.onClick!=null&&(u.onclick=Ky),u=!0):u=!1,u||mo(o)}function _l(o){for(Mi=o.return;Mi;)switch(Mi.tag){case 5:case 13:Ir=!1;return;case 27:case 3:Ir=!0;return;default:Mi=Mi.return}}function vo(o){if(o!==Mi)return!1;if(!He)return _l(o),He=!0,!1;var u=o.tag,g;if((g=u!==3&&u!==27)&&((g=u===5)&&(g=o.type,g=!(g!=="form"&&g!=="button")||g2(o.type,o.memoizedProps)),g=!g),g&&Cn&&mo(o),_l(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));t:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8)if(g=o.data,g==="/$"){if(u===0){Cn=Vs(o.nextSibling);break t}u--}else g!=="$"&&g!=="$!"&&g!=="$?"||u++;o=o.nextSibling}Cn=null}}else u===27?(u=Cn,Wc(o.type)?(o=b2,b2=null,Cn=o):Cn=u):Cn=Mi?Vs(o.stateNode.nextSibling):null;return!0}function Cc(){Cn=Mi=null,He=!1}function fg(){var o=Sl;return o!==null&&(_i===null?_i=o:_i.push.apply(_i,o),Sl=null),o}function Tc(o){Sl===null?Sl=[o]:Sl.push(o)}var Yh=K(null),yo=null,zr=null;function Ya(o,u,g){$(Yh,u._currentValue),u._currentValue=g}function Ur(o){o._currentValue=Yh.current,nt(Yh)}function Kh(o,u,g){for(;o!==null;){var b=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,b!==null&&(b.childLanes|=u)):b!==null&&(b.childLanes&u)!==u&&(b.childLanes|=u),o===g)break;o=o.return}}function Qe(o,u,g,b){var C=o.child;for(C!==null&&(C.return=o);C!==null;){var O=C.dependencies;if(O!==null){var G=C.child;O=O.firstContext;t:for(;O!==null;){var X=O;O=C;for(var rt=0;rt<u.length;rt++)if(X.context===u[rt]){O.lanes|=g,X=O.alternate,X!==null&&(X.lanes|=g),Kh(O.return,g,o),b||(G=null);break t}O=X.next}}else if(C.tag===18){if(G=C.return,G===null)throw Error(i(341));G.lanes|=g,O=G.alternate,O!==null&&(O.lanes|=g),Kh(G,g,o),G=null}else G=C.child;if(G!==null)G.return=C;else for(G=C;G!==null;){if(G===o){G=null;break}if(C=G.sibling,C!==null){C.return=G.return,G=C;break}G=G.return}C=G}}function wl(o,u,g,b){o=null;for(var C=u,O=!1;C!==null;){if(!O){if((C.flags&524288)!==0)O=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var G=C.alternate;if(G===null)throw Error(i(387));if(G=G.memoizedProps,G!==null){var X=C.type;_a(C.pendingProps.value,G.value)||(o!==null?o.push(X):o=[X])}}else if(C===tt.current){if(G=C.alternate,G===null)throw Error(i(387));G.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(o!==null?o.push(em):o=[em])}C=C.return}o!==null&&Qe(u,o,g,b),u.flags|=262144}function Xh(o){for(o=o.firstContext;o!==null;){if(!_a(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function bo(o){yo=o,zr=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Di(o){return Jv(yo,o)}function $h(o,u){return yo===null&&bo(o),Jv(o,u)}function Jv(o,u){var g=u._currentValue;if(u={context:u,memoizedValue:g,next:null},zr===null){if(o===null)throw Error(i(308));zr=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else zr=zr.next=u;return g}var Zx=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(g,b){o.push(b)}};this.abort=function(){u.aborted=!0,o.forEach(function(g){return g()})}},pg=e.unstable_scheduleCallback,Os=e.unstable_NormalPriority,Vn={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rc(){return{controller:new Zx,data:new Map,refCount:0}}function hr(o){o.refCount--,o.refCount===0&&pg(Os,function(){o.controller.abort()})}var El=null,Xu=0,Mc=0,Al=null;function ty(o,u){if(El===null){var g=El=[];Xu=0,Mc=s2(),Al={status:"pending",value:void 0,then:function(b){g.push(b)}}}return Xu++,u.then(gg,gg),u}function gg(){if(--Xu===0&&El!==null){Al!==null&&(Al.status="fulfilled");var o=El;El=null,Mc=0,Al=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function ey(o,u){var g=[],b={status:"pending",value:null,reason:null,then:function(C){g.push(C)}};return o.then(function(){b.status="fulfilled",b.value=u;for(var C=0;C<g.length;C++)(0,g[C])(u)},function(C){for(b.status="rejected",b.reason=C,C=0;C<g.length;C++)(0,g[C])(void 0)}),b}var mg=Z.S;Z.S=function(o,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&ty(o,u),mg!==null&&mg(o,u)};var Ns=K(null);function Se(){var o=Ns.current;return o!==null?o:on.pooledCache}function Wh(o,u){u===null?$(Ns,Ns.current):$(Ns,u.pool)}function la(){var o=Se();return o===null?null:{parent:Vn._currentValue,pool:o}}var Cl=Error(i(460)),ny=Error(i(474)),Tl=Error(i(542)),xo={then:function(){}};function Rl(o){return o=o.status,o==="fulfilled"||o==="rejected"}function $u(){}function Qh(o,u,g){switch(g=o[g],g===void 0?o.push(u):g!==u&&(u.then($u,$u),u=g),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,Ps(o),o;default:if(typeof u.status=="string")u.then($u,$u);else{if(o=on,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=u,o.status="pending",o.then(function(b){if(u.status==="pending"){var C=u;C.status="fulfilled",C.value=b}},function(b){if(u.status==="pending"){var C=u;C.status="rejected",C.reason=b}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,Ps(o),o}throw Wu=u,Cl}}var Wu=null;function vg(){if(Wu===null)throw Error(i(459));var o=Wu;return Wu=null,o}function Ps(o){if(o===Cl||o===Tl)throw Error(i(483))}var Hr=!1;function Qu(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zu(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Gr(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Vi(o,u,g){var b=o.updateQueue;if(b===null)return null;if(b=b.shared,(ce&2)!==0){var C=b.pending;return C===null?u.next=u:(u.next=C.next,C.next=u),b.pending=u,u=qu(o),go(o,null,g),u}return Gu(o,b,u,g),qu(o)}function Ml(o,u,g){if(u=u.updateQueue,u!==null&&(u=u.shared,(g&4194048)!==0)){var b=u.lanes;b&=o.pendingLanes,g|=b,u.lanes=g,ys(o,g)}}function yg(o,u){var g=o.updateQueue,b=o.alternate;if(b!==null&&(b=b.updateQueue,g===b)){var C=null,O=null;if(g=g.firstBaseUpdate,g!==null){do{var G={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};O===null?C=O=G:O=O.next=G,g=g.next}while(g!==null);O===null?C=O=u:O=O.next=u}else C=O=u;g={baseState:b.baseState,firstBaseUpdate:C,lastBaseUpdate:O,shared:b.shared,callbacks:b.callbacks},o.updateQueue=g;return}o=g.lastBaseUpdate,o===null?g.firstBaseUpdate=u:o.next=u,g.lastBaseUpdate=u}var Zh=!1;function Ju(){if(Zh){var o=Al;if(o!==null)throw o}}function So(o,u,g,b){Zh=!1;var C=o.updateQueue;Hr=!1;var O=C.firstBaseUpdate,G=C.lastBaseUpdate,X=C.shared.pending;if(X!==null){C.shared.pending=null;var rt=X,gt=rt.next;rt.next=null,G===null?O=gt:G.next=gt,G=rt;var wt=o.alternate;wt!==null&&(wt=wt.updateQueue,X=wt.lastBaseUpdate,X!==G&&(X===null?wt.firstBaseUpdate=gt:X.next=gt,wt.lastBaseUpdate=rt))}if(O!==null){var Ct=C.baseState;G=0,wt=gt=rt=null,X=O;do{var vt=X.lane&-536870913,bt=vt!==X.lane;if(bt?(je&vt)===vt:(b&vt)===vt){vt!==0&&vt===Mc&&(Zh=!0),wt!==null&&(wt=wt.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});t:{var de=o,ae=X;vt=u;var bn=g;switch(ae.tag){case 1:if(de=ae.payload,typeof de=="function"){Ct=de.call(bn,Ct,vt);break t}Ct=de;break t;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ae.payload,vt=typeof de=="function"?de.call(bn,Ct,vt):de,vt==null)break t;Ct=f({},Ct,vt);break t;case 2:Hr=!0}}vt=X.callback,vt!==null&&(o.flags|=64,bt&&(o.flags|=8192),bt=C.callbacks,bt===null?C.callbacks=[vt]:bt.push(vt))}else bt={lane:vt,tag:X.tag,payload:X.payload,callback:X.callback,next:null},wt===null?(gt=wt=bt,rt=Ct):wt=wt.next=bt,G|=vt;if(X=X.next,X===null){if(X=C.shared.pending,X===null)break;bt=X,X=bt.next,bt.next=null,C.lastBaseUpdate=bt,C.shared.pending=null}}while(!0);wt===null&&(rt=Ct),C.baseState=rt,C.firstBaseUpdate=gt,C.lastBaseUpdate=wt,O===null&&(C.shared.lanes=0),pn|=G,o.lanes=G,o.memoizedState=Ct}}function te(o,u){if(typeof o!="function")throw Error(i(191,o));o.call(u)}function iy(o,u){var g=o.callbacks;if(g!==null)for(o.callbacks=null,o=0;o<g.length;o++)te(g[o],u)}var Dc=K(null),td=K(0);function Oc(o,u){o=Qr,$(td,o),$(Dc,u),Qr=o|u.baseLanes}function bg(){$(td,Qr),$(Dc,Dc.current)}function xg(){Qr=td.current,nt(Dc),nt(td)}var _o=0,_e=null,rn=null,Pn=null,ed=!1,Ls=!1,wo=!1,Jh=0,nd=0,Ka=null,ks=0;function Pe(){throw Error(i(321))}function qr(o,u){if(u===null)return!1;for(var g=0;g<u.length&&g<o.length;g++)if(!_a(o[g],u[g]))return!1;return!0}function ca(o,u,g,b,C,O){return _o=O,_e=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Z.H=o===null||o.memoizedState===null?Ly:Fg,wo=!1,O=g(b,C),wo=!1,Ls&&(O=ry(u,g,b,C)),ay(o),O}function ay(o){Z.H=sf;var u=rn!==null&&rn.next!==null;if(_o=0,Pn=rn=_e=null,ed=!1,nd=0,Ka=null,u)throw Error(i(300));o===null||sn||(o=o.dependencies,o!==null&&Xh(o)&&(sn=!0))}function ry(o,u,g,b){_e=o;var C=0;do{if(Ls&&(Ka=null),nd=0,Ls=!1,25<=C)throw Error(i(301));if(C+=1,Pn=rn=null,o.updateQueue!=null){var O=o.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}Z.H=n2,O=u(g,b)}while(Ls);return O}function di(){var o=Z.H,u=o.useState()[0];return u=typeof u.then=="function"?id(u):u,o=o.useState()[0],(rn!==null?rn.memoizedState:null)!==o&&(_e.flags|=1024),u}function fr(){var o=Jh!==0;return Jh=0,o}function Sg(o,u,g){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~g}function _g(o){if(ed){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}ed=!1}_o=0,Pn=rn=_e=null,Ls=!1,nd=Jh=0,Ka=null}function ua(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?_e.memoizedState=Pn=o:Pn=Pn.next=o,Pn}function Yn(){if(rn===null){var o=_e.alternate;o=o!==null?o.memoizedState:null}else o=rn.next;var u=Pn===null?_e.memoizedState:Pn.next;if(u!==null)Pn=u,rn=o;else{if(o===null)throw _e.alternate===null?Error(i(467)):Error(i(310));rn=o,o={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},Pn===null?_e.memoizedState=Pn=o:Pn=Pn.next=o}return Pn}function tf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function id(o){var u=nd;return nd+=1,Ka===null&&(Ka=[]),o=Qh(Ka,o,u),u=_e,(Pn===null?u.memoizedState:Pn.next)===null&&(u=u.alternate,Z.H=u===null||u.memoizedState===null?Ly:Fg),o}function ad(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return id(o);if(o.$$typeof===w)return Di(o)}throw Error(i(438,String(o)))}function wg(o){var u=null,g=_e.updateQueue;if(g!==null&&(u=g.memoCache),u==null){var b=_e.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(u={data:b.data.map(function(C){return C.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),g===null&&(g=tf(),_e.updateQueue=g),g.memoCache=u,g=u.data[u.index],g===void 0)for(g=u.data[u.index]=Array(o),b=0;b<o;b++)g[b]=I;return u.index++,g}function da(o,u){return typeof u=="function"?u(o):u}function Vr(o){var u=Yn();return Eg(u,rn,o)}function Eg(o,u,g){var b=o.queue;if(b===null)throw Error(i(311));b.lastRenderedReducer=g;var C=o.baseQueue,O=b.pending;if(O!==null){if(C!==null){var G=C.next;C.next=O.next,O.next=G}u.baseQueue=C=O,b.pending=null}if(O=o.baseState,C===null)o.memoizedState=O;else{u=C.next;var X=G=null,rt=null,gt=u,wt=!1;do{var Ct=gt.lane&-536870913;if(Ct!==gt.lane?(je&Ct)===Ct:(_o&Ct)===Ct){var vt=gt.revertLane;if(vt===0)rt!==null&&(rt=rt.next={lane:0,revertLane:0,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null}),Ct===Mc&&(wt=!0);else if((_o&vt)===vt){gt=gt.next,vt===Mc&&(wt=!0);continue}else Ct={lane:0,revertLane:gt.revertLane,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null},rt===null?(X=rt=Ct,G=O):rt=rt.next=Ct,_e.lanes|=vt,pn|=vt;Ct=gt.action,wo&&g(O,Ct),O=gt.hasEagerState?gt.eagerState:g(O,Ct)}else vt={lane:Ct,revertLane:gt.revertLane,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null},rt===null?(X=rt=vt,G=O):rt=rt.next=vt,_e.lanes|=Ct,pn|=Ct;gt=gt.next}while(gt!==null&&gt!==u);if(rt===null?G=O:rt.next=X,!_a(O,o.memoizedState)&&(sn=!0,wt&&(g=Al,g!==null)))throw g;o.memoizedState=O,o.baseState=G,o.baseQueue=rt,b.lastRenderedState=O}return C===null&&(b.lanes=0),[o.memoizedState,b.dispatch]}function Ag(o){var u=Yn(),g=u.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=o;var b=g.dispatch,C=g.pending,O=u.memoizedState;if(C!==null){g.pending=null;var G=C=C.next;do O=o(O,G.action),G=G.next;while(G!==C);_a(O,u.memoizedState)||(sn=!0),u.memoizedState=O,u.baseQueue===null&&(u.baseState=O),g.lastRenderedState=O}return[O,b]}function sy(o,u,g){var b=_e,C=Yn(),O=He;if(O){if(g===void 0)throw Error(i(407));g=g()}else g=u();var G=!_a((rn||C).memoizedState,g);G&&(C.memoizedState=g,sn=!0),C=C.queue;var X=ly.bind(null,b,C,o);if(rd(2048,8,X,[o]),C.getSnapshot!==u||G||Pn!==null&&Pn.memoizedState.tag&1){if(b.flags|=2048,Lc(9,ef(),oy.bind(null,b,C,g,u),null),on===null)throw Error(i(349));O||(_o&124)!==0||Nc(b,u,g)}return g}function Nc(o,u,g){o.flags|=16384,o={getSnapshot:u,value:g},u=_e.updateQueue,u===null?(u=tf(),_e.updateQueue=u,u.stores=[o]):(g=u.stores,g===null?u.stores=[o]:g.push(o))}function oy(o,u,g,b){u.value=g,u.getSnapshot=b,cy(u)&&Pc(o)}function ly(o,u,g){return g(function(){cy(u)&&Pc(o)})}function cy(o){var u=o.getSnapshot;o=o.value;try{var g=u();return!_a(o,g)}catch{return!0}}function Pc(o){var u=jr(o,2);u!==null&&Wn(u,o,2)}function Cg(o){var u=ua();if(typeof o=="function"){var g=o;if(o=g(),wo){re(!0);try{g()}finally{re(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:o},u}function uy(o,u,g,b){return o.baseState=g,Eg(o,rn,typeof b=="function"?b:da)}function Jx(o,u,g,b,C){if(rf(o))throw Error(i(485));if(o=u.action,o!==null){var O={payload:C,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){O.listeners.push(G)}};Z.T!==null?g(!0):O.isTransition=!1,b(O),g=u.pending,g===null?(O.next=u.pending=O,dy(u,O)):(O.next=g.next,u.pending=g.next=O)}}function dy(o,u){var g=u.action,b=u.payload,C=o.state;if(u.isTransition){var O=Z.T,G={};Z.T=G;try{var X=g(C,b),rt=Z.S;rt!==null&&rt(G,X),hy(o,u,X)}catch(gt){Tg(o,u,gt)}finally{Z.T=O}}else try{O=g(C,b),hy(o,u,O)}catch(gt){Tg(o,u,gt)}}function hy(o,u,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(b){fy(o,u,b)},function(b){return Tg(o,u,b)}):fy(o,u,g)}function fy(o,u,g){u.status="fulfilled",u.value=g,py(u),o.state=g,u=o.pending,u!==null&&(g=u.next,g===u?o.pending=null:(g=g.next,u.next=g,dy(o,g)))}function Tg(o,u,g){var b=o.pending;if(o.pending=null,b!==null){b=b.next;do u.status="rejected",u.reason=g,py(u),u=u.next;while(u!==b)}o.action=null}function py(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function gy(o,u){return u}function my(o,u){if(He){var g=on.formState;if(g!==null){t:{var b=_e;if(He){if(Cn){e:{for(var C=Cn,O=Ir;C.nodeType!==8;){if(!O){C=null;break e}if(C=Vs(C.nextSibling),C===null){C=null;break e}}O=C.data,C=O==="F!"||O==="F"?C:null}if(C){Cn=Vs(C.nextSibling),b=C.data==="F!";break t}}mo(b)}b=!1}b&&(u=g[0])}}return g=ua(),g.memoizedState=g.baseState=u,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gy,lastRenderedState:u},g.queue=b,g=Oy.bind(null,_e,b),b.dispatch=g,b=Cg(!1),O=jg.bind(null,_e,!1,b.queue),b=ua(),C={state:u,dispatch:null,action:o,pending:null},b.queue=C,g=Jx.bind(null,_e,C,O,g),C.dispatch=g,b.memoizedState=o,[u,g,!1]}function vy(o){var u=Yn();return yy(u,rn,o)}function yy(o,u,g){if(u=Eg(o,u,gy)[0],o=Vr(da)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var b=id(u)}catch(G){throw G===Cl?Tl:G}else b=u;u=Yn();var C=u.queue,O=C.dispatch;return g!==u.memoizedState&&(_e.flags|=2048,Lc(9,ef(),by.bind(null,C,g),null)),[b,O,o]}function by(o,u){o.action=u}function xy(o){var u=Yn(),g=rn;if(g!==null)return yy(u,g,o);Yn(),u=u.memoizedState,g=Yn();var b=g.queue.dispatch;return g.memoizedState=o,[u,b,!1]}function Lc(o,u,g,b){return o={tag:o,create:g,deps:b,inst:u,next:null},u=_e.updateQueue,u===null&&(u=tf(),_e.updateQueue=u),g=u.lastEffect,g===null?u.lastEffect=o.next=o:(b=g.next,g.next=o,o.next=b,u.lastEffect=o),o}function ef(){return{destroy:void 0,resource:void 0}}function Sy(){return Yn().memoizedState}function nf(o,u,g,b){var C=ua();b=b===void 0?null:b,_e.flags|=o,C.memoizedState=Lc(1|u,ef(),g,b)}function rd(o,u,g,b){var C=Yn();b=b===void 0?null:b;var O=C.memoizedState.inst;rn!==null&&b!==null&&qr(b,rn.memoizedState.deps)?C.memoizedState=Lc(u,O,g,b):(_e.flags|=o,C.memoizedState=Lc(1|u,O,g,b))}function Rg(o,u){nf(8390656,8,o,u)}function Mg(o,u){rd(2048,8,o,u)}function _y(o,u){return rd(4,2,o,u)}function Dg(o,u){return rd(4,4,o,u)}function Og(o,u){if(typeof u=="function"){o=o();var g=u(o);return function(){typeof g=="function"?g():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function Ng(o,u,g){g=g!=null?g.concat([o]):null,rd(4,4,Og.bind(null,u,o),g)}function sd(){}function af(o,u){var g=Yn();u=u===void 0?null:u;var b=g.memoizedState;return u!==null&&qr(u,b[1])?b[0]:(g.memoizedState=[o,u],o)}function wy(o,u){var g=Yn();u=u===void 0?null:u;var b=g.memoizedState;if(u!==null&&qr(u,b[1]))return b[0];if(b=o(),wo){re(!0);try{o()}finally{re(!1)}}return g.memoizedState=[b,u],b}function Pg(o,u,g){return g===void 0||(_o&1073741824)!==0?o.memoizedState=u:(o.memoizedState=g,o=On(),_e.lanes|=o,pn|=o,g)}function Ey(o,u,g,b){return _a(g,u)?g:Dc.current!==null?(o=Pg(o,g,b),_a(o,u)||(sn=!0),o):(_o&42)===0?(sn=!0,o.memoizedState=g):(o=On(),_e.lanes|=o,pn|=o,u)}function Ay(o,u,g,b,C){var O=B.p;B.p=O!==0&&8>O?O:8;var G=Z.T,X={};Z.T=X,jg(o,!1,u,g);try{var rt=C(),gt=Z.S;if(gt!==null&&gt(X,rt),rt!==null&&typeof rt=="object"&&typeof rt.then=="function"){var wt=ey(rt,b);od(o,u,wt,zn(o))}else od(o,u,b,zn(o))}catch(Ct){od(o,u,{then:function(){},status:"rejected",reason:Ct},zn())}finally{B.p=O,Z.T=G}}function Cy(){}function Lg(o,u,g,b){if(o.tag!==5)throw Error(i(476));var C=Ty(o).queue;Ay(o,C,u,V,g===null?Cy:function(){return Ry(o),g(b)})}function Ty(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:V},next:null};var g={};return u.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:g},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function Ry(o){var u=Ty(o).next.queue;od(o,u,{},zn())}function kg(){return Di(em)}function My(){return Yn().memoizedState}function Dy(){return Yn().memoizedState}function t2(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var g=zn();o=Gr(g);var b=Vi(u,o,g);b!==null&&(Wn(b,u,g),Ml(b,u,g)),u={cache:Rc()},o.payload=u;return}u=u.return}}function e2(o,u,g){var b=zn();g={lane:b,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},rf(o)?Ny(u,g):(g=po(o,u,g,b),g!==null&&(Wn(g,o,b),Py(g,u,b)))}function Oy(o,u,g){var b=zn();od(o,u,g,b)}function od(o,u,g,b){var C={lane:b,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(rf(o))Ny(u,C);else{var O=o.alternate;if(o.lanes===0&&(O===null||O.lanes===0)&&(O=u.lastRenderedReducer,O!==null))try{var G=u.lastRenderedState,X=O(G,g);if(C.hasEagerState=!0,C.eagerState=X,_a(X,G))return Gu(o,u,C,0),on===null&&wa(),!1}catch{}finally{}if(g=po(o,u,C,b),g!==null)return Wn(g,o,b),Py(g,u,b),!0}return!1}function jg(o,u,g,b){if(b={lane:2,revertLane:s2(),action:b,hasEagerState:!1,eagerState:null,next:null},rf(o)){if(u)throw Error(i(479))}else u=po(o,g,b,2),u!==null&&Wn(u,o,2)}function rf(o){var u=o.alternate;return o===_e||u!==null&&u===_e}function Ny(o,u){Ls=ed=!0;var g=o.pending;g===null?u.next=u:(u.next=g.next,g.next=u),o.pending=u}function Py(o,u,g){if((g&4194048)!==0){var b=u.lanes;b&=o.pendingLanes,g|=b,u.lanes=g,ys(o,g)}}var sf={readContext:Di,use:ad,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe},Ly={readContext:Di,use:ad,useCallback:function(o,u){return ua().memoizedState=[o,u===void 0?null:u],o},useContext:Di,useEffect:Rg,useImperativeHandle:function(o,u,g){g=g!=null?g.concat([o]):null,nf(4194308,4,Og.bind(null,u,o),g)},useLayoutEffect:function(o,u){return nf(4194308,4,o,u)},useInsertionEffect:function(o,u){nf(4,2,o,u)},useMemo:function(o,u){var g=ua();u=u===void 0?null:u;var b=o();if(wo){re(!0);try{o()}finally{re(!1)}}return g.memoizedState=[b,u],b},useReducer:function(o,u,g){var b=ua();if(g!==void 0){var C=g(u);if(wo){re(!0);try{g(u)}finally{re(!1)}}}else C=u;return b.memoizedState=b.baseState=C,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:C},b.queue=o,o=o.dispatch=e2.bind(null,_e,o),[b.memoizedState,o]},useRef:function(o){var u=ua();return o={current:o},u.memoizedState=o},useState:function(o){o=Cg(o);var u=o.queue,g=Oy.bind(null,_e,u);return u.dispatch=g,[o.memoizedState,g]},useDebugValue:sd,useDeferredValue:function(o,u){var g=ua();return Pg(g,o,u)},useTransition:function(){var o=Cg(!1);return o=Ay.bind(null,_e,o.queue,!0,!1),ua().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,g){var b=_e,C=ua();if(He){if(g===void 0)throw Error(i(407));g=g()}else{if(g=u(),on===null)throw Error(i(349));(je&124)!==0||Nc(b,u,g)}C.memoizedState=g;var O={value:g,getSnapshot:u};return C.queue=O,Rg(ly.bind(null,b,O,o),[o]),b.flags|=2048,Lc(9,ef(),oy.bind(null,b,O,g,u),null),g},useId:function(){var o=ua(),u=on.identifierPrefix;if(He){var g=dr,b=Br;g=(b&~(1<<32-Ne(b)-1)).toString(32)+g,u="«"+u+"R"+g,g=Jh++,0<g&&(u+="H"+g.toString(32)),u+="»"}else g=ks++,u="«"+u+"r"+g.toString(32)+"»";return o.memoizedState=u},useHostTransitionStatus:kg,useFormState:my,useActionState:my,useOptimistic:function(o){var u=ua();u.memoizedState=u.baseState=o;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=g,u=jg.bind(null,_e,!0,g),g.dispatch=u,[o,u]},useMemoCache:wg,useCacheRefresh:function(){return ua().memoizedState=t2.bind(null,_e)}},Fg={readContext:Di,use:ad,useCallback:af,useContext:Di,useEffect:Mg,useImperativeHandle:Ng,useInsertionEffect:_y,useLayoutEffect:Dg,useMemo:wy,useReducer:Vr,useRef:Sy,useState:function(){return Vr(da)},useDebugValue:sd,useDeferredValue:function(o,u){var g=Yn();return Ey(g,rn.memoizedState,o,u)},useTransition:function(){var o=Vr(da)[0],u=Yn().memoizedState;return[typeof o=="boolean"?o:id(o),u]},useSyncExternalStore:sy,useId:My,useHostTransitionStatus:kg,useFormState:vy,useActionState:vy,useOptimistic:function(o,u){var g=Yn();return uy(g,rn,o,u)},useMemoCache:wg,useCacheRefresh:Dy},n2={readContext:Di,use:ad,useCallback:af,useContext:Di,useEffect:Mg,useImperativeHandle:Ng,useInsertionEffect:_y,useLayoutEffect:Dg,useMemo:wy,useReducer:Ag,useRef:Sy,useState:function(){return Ag(da)},useDebugValue:sd,useDeferredValue:function(o,u){var g=Yn();return rn===null?Pg(g,o,u):Ey(g,rn.memoizedState,o,u)},useTransition:function(){var o=Ag(da)[0],u=Yn().memoizedState;return[typeof o=="boolean"?o:id(o),u]},useSyncExternalStore:sy,useId:My,useHostTransitionStatus:kg,useFormState:xy,useActionState:xy,useOptimistic:function(o,u){var g=Yn();return rn!==null?uy(g,rn,o,u):(g.baseState=o,[o,g.queue.dispatch])},useMemoCache:wg,useCacheRefresh:Dy},kc=null,Yi=0;function ld(o){var u=Yi;return Yi+=1,kc===null&&(kc=[]),Qh(kc,o,u)}function Dl(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function cd(o,u){throw u.$$typeof===m?Error(i(525)):(o=Object.prototype.toString.call(u),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function Bg(o){var u=o._init;return u(o._payload)}function Ig(o){function u(ht,ct){if(o){var pt=ht.deletions;pt===null?(ht.deletions=[ct],ht.flags|=16):pt.push(ct)}}function g(ht,ct){if(!o)return null;for(;ct!==null;)u(ht,ct),ct=ct.sibling;return null}function b(ht){for(var ct=new Map;ht!==null;)ht.key!==null?ct.set(ht.key,ht):ct.set(ht.index,ht),ht=ht.sibling;return ct}function C(ht,ct){return ht=Fr(ht,ct),ht.index=0,ht.sibling=null,ht}function O(ht,ct,pt){return ht.index=pt,o?(pt=ht.alternate,pt!==null?(pt=pt.index,pt<ct?(ht.flags|=67108866,ct):pt):(ht.flags|=67108866,ct)):(ht.flags|=1048576,ct)}function G(ht){return o&&ht.alternate===null&&(ht.flags|=67108866),ht}function X(ht,ct,pt,At){return ct===null||ct.tag!==6?(ct=Gh(pt,ht.mode,At),ct.return=ht,ct):(ct=C(ct,pt),ct.return=ht,ct)}function rt(ht,ct,pt,At){var Yt=pt.type;return Yt===x?wt(ht,ct,pt.props.children,At,pt.key):ct!==null&&(ct.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===L&&Bg(Yt)===ct.type)?(ct=C(ct,pt.props),Dl(ct,pt),ct.return=ht,ct):(ct=Ac(pt.type,pt.key,pt.props,null,ht.mode,At),Dl(ct,pt),ct.return=ht,ct)}function gt(ht,ct,pt,At){return ct===null||ct.tag!==4||ct.stateNode.containerInfo!==pt.containerInfo||ct.stateNode.implementation!==pt.implementation?(ct=Yu(pt,ht.mode,At),ct.return=ht,ct):(ct=C(ct,pt.children||[]),ct.return=ht,ct)}function wt(ht,ct,pt,At,Yt){return ct===null||ct.tag!==7?(ct=Ds(pt,ht.mode,At,Yt),ct.return=ht,ct):(ct=C(ct,pt),ct.return=ht,ct)}function Ct(ht,ct,pt){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return ct=Gh(""+ct,ht.mode,pt),ct.return=ht,ct;if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case v:return pt=Ac(ct.type,ct.key,ct.props,null,ht.mode,pt),Dl(pt,ct),pt.return=ht,pt;case y:return ct=Yu(ct,ht.mode,pt),ct.return=ht,ct;case L:var At=ct._init;return ct=At(ct._payload),Ct(ht,ct,pt)}if(et(ct)||J(ct))return ct=Ds(ct,ht.mode,pt,null),ct.return=ht,ct;if(typeof ct.then=="function")return Ct(ht,ld(ct),pt);if(ct.$$typeof===w)return Ct(ht,$h(ht,ct),pt);cd(ht,ct)}return null}function vt(ht,ct,pt,At){var Yt=ct!==null?ct.key:null;if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return Yt!==null?null:X(ht,ct,""+pt,At);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case v:return pt.key===Yt?rt(ht,ct,pt,At):null;case y:return pt.key===Yt?gt(ht,ct,pt,At):null;case L:return Yt=pt._init,pt=Yt(pt._payload),vt(ht,ct,pt,At)}if(et(pt)||J(pt))return Yt!==null?null:wt(ht,ct,pt,At,null);if(typeof pt.then=="function")return vt(ht,ct,ld(pt),At);if(pt.$$typeof===w)return vt(ht,ct,$h(ht,pt),At);cd(ht,pt)}return null}function bt(ht,ct,pt,At,Yt){if(typeof At=="string"&&At!==""||typeof At=="number"||typeof At=="bigint")return ht=ht.get(pt)||null,X(ct,ht,""+At,Yt);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case v:return ht=ht.get(At.key===null?pt:At.key)||null,rt(ct,ht,At,Yt);case y:return ht=ht.get(At.key===null?pt:At.key)||null,gt(ct,ht,At,Yt);case L:var Le=At._init;return At=Le(At._payload),bt(ht,ct,pt,At,Yt)}if(et(At)||J(At))return ht=ht.get(pt)||null,wt(ct,ht,At,Yt,null);if(typeof At.then=="function")return bt(ht,ct,pt,ld(At),Yt);if(At.$$typeof===w)return bt(ht,ct,pt,$h(ct,At),Yt);cd(ct,At)}return null}function de(ht,ct,pt,At){for(var Yt=null,Le=null,Wt=ct,oe=ct=0,ki=null;Wt!==null&&oe<pt.length;oe++){Wt.index>oe?(ki=Wt,Wt=null):ki=Wt.sibling;var en=vt(ht,Wt,pt[oe],At);if(en===null){Wt===null&&(Wt=ki);break}o&&Wt&&en.alternate===null&&u(ht,Wt),ct=O(en,ct,oe),Le===null?Yt=en:Le.sibling=en,Le=en,Wt=ki}if(oe===pt.length)return g(ht,Wt),He&&Va(ht,oe),Yt;if(Wt===null){for(;oe<pt.length;oe++)Wt=Ct(ht,pt[oe],At),Wt!==null&&(ct=O(Wt,ct,oe),Le===null?Yt=Wt:Le.sibling=Wt,Le=Wt);return He&&Va(ht,oe),Yt}for(Wt=b(Wt);oe<pt.length;oe++)ki=bt(Wt,ht,oe,pt[oe],At),ki!==null&&(o&&ki.alternate!==null&&Wt.delete(ki.key===null?oe:ki.key),ct=O(ki,ct,oe),Le===null?Yt=ki:Le.sibling=ki,Le=ki);return o&&Wt.forEach(function(eu){return u(ht,eu)}),He&&Va(ht,oe),Yt}function ae(ht,ct,pt,At){if(pt==null)throw Error(i(151));for(var Yt=null,Le=null,Wt=ct,oe=ct=0,ki=null,en=pt.next();Wt!==null&&!en.done;oe++,en=pt.next()){Wt.index>oe?(ki=Wt,Wt=null):ki=Wt.sibling;var eu=vt(ht,Wt,en.value,At);if(eu===null){Wt===null&&(Wt=ki);break}o&&Wt&&eu.alternate===null&&u(ht,Wt),ct=O(eu,ct,oe),Le===null?Yt=eu:Le.sibling=eu,Le=eu,Wt=ki}if(en.done)return g(ht,Wt),He&&Va(ht,oe),Yt;if(Wt===null){for(;!en.done;oe++,en=pt.next())en=Ct(ht,en.value,At),en!==null&&(ct=O(en,ct,oe),Le===null?Yt=en:Le.sibling=en,Le=en);return He&&Va(ht,oe),Yt}for(Wt=b(Wt);!en.done;oe++,en=pt.next())en=bt(Wt,ht,oe,en.value,At),en!==null&&(o&&en.alternate!==null&&Wt.delete(en.key===null?oe:en.key),ct=O(en,ct,oe),Le===null?Yt=en:Le.sibling=en,Le=en);return o&&Wt.forEach(function(pI){return u(ht,pI)}),He&&Va(ht,oe),Yt}function bn(ht,ct,pt,At){if(typeof pt=="object"&&pt!==null&&pt.type===x&&pt.key===null&&(pt=pt.props.children),typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case v:t:{for(var Yt=pt.key;ct!==null;){if(ct.key===Yt){if(Yt=pt.type,Yt===x){if(ct.tag===7){g(ht,ct.sibling),At=C(ct,pt.props.children),At.return=ht,ht=At;break t}}else if(ct.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===L&&Bg(Yt)===ct.type){g(ht,ct.sibling),At=C(ct,pt.props),Dl(At,pt),At.return=ht,ht=At;break t}g(ht,ct);break}else u(ht,ct);ct=ct.sibling}pt.type===x?(At=Ds(pt.props.children,ht.mode,At,pt.key),At.return=ht,ht=At):(At=Ac(pt.type,pt.key,pt.props,null,ht.mode,At),Dl(At,pt),At.return=ht,ht=At)}return G(ht);case y:t:{for(Yt=pt.key;ct!==null;){if(ct.key===Yt)if(ct.tag===4&&ct.stateNode.containerInfo===pt.containerInfo&&ct.stateNode.implementation===pt.implementation){g(ht,ct.sibling),At=C(ct,pt.children||[]),At.return=ht,ht=At;break t}else{g(ht,ct);break}else u(ht,ct);ct=ct.sibling}At=Yu(pt,ht.mode,At),At.return=ht,ht=At}return G(ht);case L:return Yt=pt._init,pt=Yt(pt._payload),bn(ht,ct,pt,At)}if(et(pt))return de(ht,ct,pt,At);if(J(pt)){if(Yt=J(pt),typeof Yt!="function")throw Error(i(150));return pt=Yt.call(pt),ae(ht,ct,pt,At)}if(typeof pt.then=="function")return bn(ht,ct,ld(pt),At);if(pt.$$typeof===w)return bn(ht,ct,$h(ht,pt),At);cd(ht,pt)}return typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint"?(pt=""+pt,ct!==null&&ct.tag===6?(g(ht,ct.sibling),At=C(ct,pt),At.return=ht,ht=At):(g(ht,ct),At=Gh(pt,ht.mode,At),At.return=ht,ht=At),G(ht)):g(ht,ct)}return function(ht,ct,pt,At){try{Yi=0;var Yt=bn(ht,ct,pt,At);return kc=null,Yt}catch(Wt){if(Wt===Cl||Wt===Tl)throw Wt;var Le=sa(29,Wt,null,ht.mode);return Le.lanes=At,Le.return=ht,Le}finally{}}}var jc=Ig(!0),zg=Ig(!1),Aa=K(null),Yr=null;function Eo(o){var u=o.alternate;$(De,De.current&1),$(Aa,o),Yr===null&&(u===null||Dc.current!==null||u.memoizedState!==null)&&(Yr=o)}function ky(o){if(o.tag===22){if($(De,De.current),$(Aa,o),Yr===null){var u=o.alternate;u!==null&&u.memoizedState!==null&&(Yr=o)}}else js()}function js(){$(De,De.current),$(Aa,Aa.current)}function Fs(o){nt(Aa),Yr===o&&(Yr=null),nt(De)}var De=K(0);function ud(o){for(var u=o;u!==null;){if(u.tag===13){var g=u.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||y2(g)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function Ug(o,u,g,b){u=o.memoizedState,g=g(b,u),g=g==null?u:f({},u,g),o.memoizedState=g,o.lanes===0&&(o.updateQueue.baseState=g)}var of={enqueueSetState:function(o,u,g){o=o._reactInternals;var b=zn(),C=Gr(b);C.payload=u,g!=null&&(C.callback=g),u=Vi(o,C,b),u!==null&&(Wn(u,o,b),Ml(u,o,b))},enqueueReplaceState:function(o,u,g){o=o._reactInternals;var b=zn(),C=Gr(b);C.tag=1,C.payload=u,g!=null&&(C.callback=g),u=Vi(o,C,b),u!==null&&(Wn(u,o,b),Ml(u,o,b))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var g=zn(),b=Gr(g);b.tag=2,u!=null&&(b.callback=u),u=Vi(o,b,g),u!==null&&(Wn(u,o,g),Ml(u,o,g))}};function Hg(o,u,g,b,C,O,G){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(b,O,G):u.prototype&&u.prototype.isPureReactComponent?!Sc(g,b)||!Sc(C,O):!0}function Ol(o,u,g,b){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(g,b),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(g,b),u.state!==o&&of.enqueueReplaceState(u,u.state,null)}function Bs(o,u){var g=u;if("ref"in u){g={};for(var b in u)b!=="ref"&&(g[b]=u[b])}if(o=o.defaultProps){g===u&&(g=f({},g));for(var C in o)g[C]===void 0&&(g[C]=o[C])}return g}var Is=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function Nl(o){Is(o)}function ha(o){console.error(o)}function jy(o){Is(o)}function lf(o,u){try{var g=o.onUncaughtError;g(u.value,{componentStack:u.stack})}catch(b){setTimeout(function(){throw b})}}function dd(o,u,g){try{var b=o.onCaughtError;b(g.value,{componentStack:g.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function Fc(o,u,g){return g=Gr(g),g.tag=3,g.payload={element:null},g.callback=function(){lf(o,u)},g}function hd(o){return o=Gr(o),o.tag=3,o}function cf(o,u,g,b){var C=g.type.getDerivedStateFromError;if(typeof C=="function"){var O=b.value;o.payload=function(){return C(O)},o.callback=function(){dd(u,g,b)}}var G=g.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(o.callback=function(){dd(u,g,b),typeof C!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var X=b.stack;this.componentDidCatch(b.value,{componentStack:X!==null?X:""})})}function i2(o,u,g,b,C){if(g.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(u=g.alternate,u!==null&&wl(u,g,C,!0),g=Aa.current,g!==null){switch(g.tag){case 13:return Yr===null?Jr():g.alternate===null&&we===0&&(we=3),g.flags&=-257,g.flags|=65536,g.lanes=C,b===xo?g.flags|=16384:(u=g.updateQueue,u===null?g.updateQueue=new Set([b]):u.add(b),Tt(o,b,C)),!1;case 22:return g.flags|=65536,b===xo?g.flags|=16384:(u=g.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([b])},g.updateQueue=u):(g=u.retryQueue,g===null?u.retryQueue=new Set([b]):g.add(b)),Tt(o,b,C)),!1}throw Error(i(435,g.tag))}return Tt(o,b,C),Jr(),!1}if(He)return u=Aa.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=C,b!==dg&&(o=Error(i(422),{cause:b}),Tc(ci(o,g)))):(b!==dg&&(u=Error(i(423),{cause:b}),Tc(ci(u,g))),o=o.current.alternate,o.flags|=65536,C&=-C,o.lanes|=C,b=ci(b,g),C=Fc(o.stateNode,b,C),yg(o,C),we!==4&&(we=2)),!1;var O=Error(i(520),{cause:b});if(O=ci(O,g),Lo===null?Lo=[O]:Lo.push(O),we!==4&&(we=2),u===null)return!0;b=ci(b,g),g=u;do{switch(g.tag){case 3:return g.flags|=65536,o=C&-C,g.lanes|=o,o=Fc(g.stateNode,b,o),yg(g,o),!1;case 1:if(u=g.type,O=g.stateNode,(g.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(jo===null||!jo.has(O))))return g.flags|=65536,C&=-C,g.lanes|=C,C=hd(C),cf(C,o,g,b),yg(g,C),!1}g=g.return}while(g!==null);return!1}var Fy=Error(i(461)),sn=!1;function hi(o,u,g,b){u.child=o===null?zg(u,null,g,b):jc(u,o.child,g,b)}function By(o,u,g,b,C){g=g.render;var O=u.ref;if("ref"in b){var G={};for(var X in b)X!=="ref"&&(G[X]=b[X])}else G=b;return bo(u),b=ca(o,u,g,G,O,C),X=fr(),o!==null&&!sn?(Sg(o,u,C),wn(o,u,C)):(He&&X&&qh(u),u.flags|=1,hi(o,u,b,C),u.child)}function uf(o,u,g,b,C){if(o===null){var O=g.type;return typeof O=="function"&&!Ec(O)&&O.defaultProps===void 0&&g.compare===null?(u.tag=15,u.type=O,Iy(o,u,O,b,C)):(o=Ac(g.type,null,b,u,u.mode,C),o.ref=u.ref,o.return=u,u.child=o)}if(O=o.child,!Pl(o,C)){var G=O.memoizedProps;if(g=g.compare,g=g!==null?g:Sc,g(G,b)&&o.ref===u.ref)return wn(o,u,C)}return u.flags|=1,o=Fr(O,b),o.ref=u.ref,o.return=u,u.child=o}function Iy(o,u,g,b,C){if(o!==null){var O=o.memoizedProps;if(Sc(O,b)&&o.ref===u.ref)if(sn=!1,u.pendingProps=b=O,Pl(o,C))(o.flags&131072)!==0&&(sn=!0);else return u.lanes=o.lanes,wn(o,u,C)}return Ki(o,u,g,b,C)}function zy(o,u,g){var b=u.pendingProps,C=b.children,O=o!==null?o.memoizedState:null;if(b.mode==="hidden"){if((u.flags&128)!==0){if(b=O!==null?O.baseLanes|g:g,o!==null){for(C=u.child=o.child,O=0;C!==null;)O=O|C.lanes|C.childLanes,C=C.sibling;u.childLanes=O&~b}else u.childLanes=0,u.child=null;return Uy(o,u,b,g)}if((g&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&Wh(u,O!==null?O.cachePool:null),O!==null?Oc(u,O):bg(),ky(u);else return u.lanes=u.childLanes=536870912,Uy(o,u,O!==null?O.baseLanes|g:g,g)}else O!==null?(Wh(u,O.cachePool),Oc(u,O),js(),u.memoizedState=null):(o!==null&&Wh(u,null),bg(),js());return hi(o,u,C,g),u.child}function Uy(o,u,g,b){var C=Se();return C=C===null?null:{parent:Vn._currentValue,pool:C},u.memoizedState={baseLanes:g,cachePool:C},o!==null&&Wh(u,null),bg(),ky(u),o!==null&&wl(o,u,b,!0),null}function Ao(o,u){var g=u.ref;if(g===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(i(284));(o===null||o.ref!==g)&&(u.flags|=4194816)}}function Ki(o,u,g,b,C){return bo(u),g=ca(o,u,g,b,void 0,C),b=fr(),o!==null&&!sn?(Sg(o,u,C),wn(o,u,C)):(He&&b&&qh(u),u.flags|=1,hi(o,u,g,C),u.child)}function df(o,u,g,b,C,O){return bo(u),u.updateQueue=null,g=ry(u,b,g,C),ay(o),b=fr(),o!==null&&!sn?(Sg(o,u,O),wn(o,u,O)):(He&&b&&qh(u),u.flags|=1,hi(o,u,g,O),u.child)}function Gg(o,u,g,b,C){if(bo(u),u.stateNode===null){var O=bl,G=g.contextType;typeof G=="object"&&G!==null&&(O=Di(G)),O=new g(b,O),u.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=of,u.stateNode=O,O._reactInternals=u,O=u.stateNode,O.props=b,O.state=u.memoizedState,O.refs={},Qu(u),G=g.contextType,O.context=typeof G=="object"&&G!==null?Di(G):bl,O.state=u.memoizedState,G=g.getDerivedStateFromProps,typeof G=="function"&&(Ug(u,g,G,b),O.state=u.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(G=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),G!==O.state&&of.enqueueReplaceState(O,O.state,null),So(u,b,O,C),Ju(),O.state=u.memoizedState),typeof O.componentDidMount=="function"&&(u.flags|=4194308),b=!0}else if(o===null){O=u.stateNode;var X=u.memoizedProps,rt=Bs(g,X);O.props=rt;var gt=O.context,wt=g.contextType;G=bl,typeof wt=="object"&&wt!==null&&(G=Di(wt));var Ct=g.getDerivedStateFromProps;wt=typeof Ct=="function"||typeof O.getSnapshotBeforeUpdate=="function",X=u.pendingProps!==X,wt||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(X||gt!==G)&&Ol(u,O,b,G),Hr=!1;var vt=u.memoizedState;O.state=vt,So(u,b,O,C),Ju(),gt=u.memoizedState,X||vt!==gt||Hr?(typeof Ct=="function"&&(Ug(u,g,Ct,b),gt=u.memoizedState),(rt=Hr||Hg(u,g,rt,b,vt,gt,G))?(wt||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(u.flags|=4194308)):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=b,u.memoizedState=gt),O.props=b,O.state=gt,O.context=G,b=rt):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),b=!1)}else{O=u.stateNode,Zu(o,u),G=u.memoizedProps,wt=Bs(g,G),O.props=wt,Ct=u.pendingProps,vt=O.context,gt=g.contextType,rt=bl,typeof gt=="object"&&gt!==null&&(rt=Di(gt)),X=g.getDerivedStateFromProps,(gt=typeof X=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(G!==Ct||vt!==rt)&&Ol(u,O,b,rt),Hr=!1,vt=u.memoizedState,O.state=vt,So(u,b,O,C),Ju();var bt=u.memoizedState;G!==Ct||vt!==bt||Hr||o!==null&&o.dependencies!==null&&Xh(o.dependencies)?(typeof X=="function"&&(Ug(u,g,X,b),bt=u.memoizedState),(wt=Hr||Hg(u,g,wt,b,vt,bt,rt)||o!==null&&o.dependencies!==null&&Xh(o.dependencies))?(gt||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(b,bt,rt),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(b,bt,rt)),typeof O.componentDidUpdate=="function"&&(u.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof O.componentDidUpdate!="function"||G===o.memoizedProps&&vt===o.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||G===o.memoizedProps&&vt===o.memoizedState||(u.flags|=1024),u.memoizedProps=b,u.memoizedState=bt),O.props=b,O.state=bt,O.context=rt,b=wt):(typeof O.componentDidUpdate!="function"||G===o.memoizedProps&&vt===o.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||G===o.memoizedProps&&vt===o.memoizedState||(u.flags|=1024),b=!1)}return O=b,Ao(o,u),b=(u.flags&128)!==0,O||b?(O=u.stateNode,g=b&&typeof g.getDerivedStateFromError!="function"?null:O.render(),u.flags|=1,o!==null&&b?(u.child=jc(u,o.child,null,C),u.child=jc(u,null,g,C)):hi(o,u,g,C),u.memoizedState=O.state,o=u.child):o=wn(o,u,C),o}function hf(o,u,g,b){return Cc(),u.flags|=256,hi(o,u,g,b),u.child}var ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Co(o){return{baseLanes:o,cachePool:la()}}function To(o,u,g){return o=o!==null?o.childLanes&~g:0,u&&(o|=Si),o}function fd(o,u,g){var b=u.pendingProps,C=!1,O=(u.flags&128)!==0,G;if((G=O)||(G=o!==null&&o.memoizedState===null?!1:(De.current&2)!==0),G&&(C=!0,u.flags&=-129),G=(u.flags&32)!==0,u.flags&=-33,o===null){if(He){if(C?Eo(u):js(),He){var X=Cn,rt;if(rt=X){t:{for(rt=X,X=Ir;rt.nodeType!==8;){if(!X){X=null;break t}if(rt=Vs(rt.nextSibling),rt===null){X=null;break t}}X=rt}X!==null?(u.memoizedState={dehydrated:X,treeContext:oa!==null?{id:Br,overflow:dr}:null,retryLane:536870912,hydrationErrors:null},rt=sa(18,null,null,0),rt.stateNode=X,rt.return=u,u.child=rt,Mi=u,Cn=null,rt=!0):rt=!1}rt||mo(u)}if(X=u.memoizedState,X!==null&&(X=X.dehydrated,X!==null))return y2(X)?u.lanes=32:u.lanes=536870912,null;Fs(u)}return X=b.children,b=b.fallback,C?(js(),C=u.mode,X=Xi({mode:"hidden",children:X},C),b=Ds(b,C,g,null),X.return=u,b.return=u,X.sibling=b,u.child=X,C=u.child,C.memoizedState=Co(g),C.childLanes=To(o,G,g),u.memoizedState=ff,b):(Eo(u),Bc(u,X))}if(rt=o.memoizedState,rt!==null&&(X=rt.dehydrated,X!==null)){if(O)u.flags&256?(Eo(u),u.flags&=-257,u=fa(o,u,g)):u.memoizedState!==null?(js(),u.child=o.child,u.flags|=128,u=null):(js(),C=b.fallback,X=u.mode,b=Xi({mode:"visible",children:b.children},X),C=Ds(C,X,g,null),C.flags|=2,b.return=u,C.return=u,b.sibling=C,u.child=b,jc(u,o.child,null,g),b=u.child,b.memoizedState=Co(g),b.childLanes=To(o,G,g),u.memoizedState=ff,u=C);else if(Eo(u),y2(X)){if(G=X.nextSibling&&X.nextSibling.dataset,G)var gt=G.dgst;G=gt,b=Error(i(419)),b.stack="",b.digest=G,Tc({value:b,source:null,stack:null}),u=fa(o,u,g)}else if(sn||wl(o,u,g,!1),G=(g&o.childLanes)!==0,sn||G){if(G=on,G!==null&&(b=g&-g,b=(b&42)!==0?1:oc(b),b=(b&(G.suspendedLanes|g))!==0?0:b,b!==0&&b!==rt.retryLane))throw rt.retryLane=b,jr(o,b),Wn(G,o,b),Fy;X.data==="$?"||Jr(),u=fa(o,u,g)}else X.data==="$?"?(u.flags|=192,u.child=o.child,u=null):(o=rt.treeContext,Cn=Vs(X.nextSibling),Mi=u,He=!0,Sl=null,Ir=!1,o!==null&&(Ea[qa++]=Br,Ea[qa++]=dr,Ea[qa++]=oa,Br=o.id,dr=o.overflow,oa=u),u=Bc(u,b.children),u.flags|=4096);return u}return C?(js(),C=b.fallback,X=u.mode,rt=o.child,gt=rt.sibling,b=Fr(rt,{mode:"hidden",children:b.children}),b.subtreeFlags=rt.subtreeFlags&65011712,gt!==null?C=Fr(gt,C):(C=Ds(C,X,g,null),C.flags|=2),C.return=u,b.return=u,b.sibling=C,u.child=b,b=C,C=u.child,X=o.child.memoizedState,X===null?X=Co(g):(rt=X.cachePool,rt!==null?(gt=Vn._currentValue,rt=rt.parent!==gt?{parent:gt,pool:gt}:rt):rt=la(),X={baseLanes:X.baseLanes|g,cachePool:rt}),C.memoizedState=X,C.childLanes=To(o,G,g),u.memoizedState=ff,b):(Eo(u),g=o.child,o=g.sibling,g=Fr(g,{mode:"visible",children:b.children}),g.return=u,g.sibling=null,o!==null&&(G=u.deletions,G===null?(u.deletions=[o],u.flags|=16):G.push(o)),u.child=g,u.memoizedState=null,g)}function Bc(o,u){return u=Xi({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function Xi(o,u){return o=sa(22,o,null,u),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function fa(o,u,g){return jc(u,o.child,null,g),o=Bc(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function Ro(o,u,g){o.lanes|=u;var b=o.alternate;b!==null&&(b.lanes|=u),Kh(o.return,u,g)}function pr(o,u,g,b,C){var O=o.memoizedState;O===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:C}:(O.isBackwards=u,O.rendering=null,O.renderingStartTime=0,O.last=b,O.tail=g,O.tailMode=C)}function Kr(o,u,g){var b=u.pendingProps,C=b.revealOrder,O=b.tail;if(hi(o,u,b.children,g),b=De.current,(b&2)!==0)b=b&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)t:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Ro(o,g,u);else if(o.tag===19)Ro(o,g,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break t;for(;o.sibling===null;){if(o.return===null||o.return===u)break t;o=o.return}o.sibling.return=o.return,o=o.sibling}b&=1}switch($(De,b),C){case"forwards":for(g=u.child,C=null;g!==null;)o=g.alternate,o!==null&&ud(o)===null&&(C=g),g=g.sibling;g=C,g===null?(C=u.child,u.child=null):(C=g.sibling,g.sibling=null),pr(u,!1,C,g,O);break;case"backwards":for(g=null,C=u.child,u.child=null;C!==null;){if(o=C.alternate,o!==null&&ud(o)===null){u.child=C;break}o=C.sibling,C.sibling=g,g=C,C=o}pr(u,!0,g,null,O);break;case"together":pr(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function wn(o,u,g){if(o!==null&&(u.dependencies=o.dependencies),pn|=u.lanes,(g&u.childLanes)===0)if(o!==null){if(wl(o,u,g,!1),(g&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(i(153));if(u.child!==null){for(o=u.child,g=Fr(o,o.pendingProps),u.child=g,g.return=u;o.sibling!==null;)o=o.sibling,g=g.sibling=Fr(o,o.pendingProps),g.return=u;g.sibling=null}return u.child}function Pl(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Xh(o)))}function Mo(o,u,g){switch(u.tag){case 3:ut(u,u.stateNode.containerInfo),Ya(u,Vn,o.memoizedState.cache),Cc();break;case 27:case 5:Dt(u);break;case 4:ut(u,u.stateNode.containerInfo);break;case 10:Ya(u,u.type,u.memoizedProps.value);break;case 13:var b=u.memoizedState;if(b!==null)return b.dehydrated!==null?(Eo(u),u.flags|=128,null):(g&u.child.childLanes)!==0?fd(o,u,g):(Eo(u),o=wn(o,u,g),o!==null?o.sibling:null);Eo(u);break;case 19:var C=(o.flags&128)!==0;if(b=(g&u.childLanes)!==0,b||(wl(o,u,g,!1),b=(g&u.childLanes)!==0),C){if(b)return Kr(o,u,g);u.flags|=128}if(C=u.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),$(De,De.current),b)break;return null;case 22:case 23:return u.lanes=0,zy(o,u,g);case 24:Ya(u,Vn,o.memoizedState.cache)}return wn(o,u,g)}function pd(o,u,g){if(o!==null)if(o.memoizedProps!==u.pendingProps)sn=!0;else{if(!Pl(o,g)&&(u.flags&128)===0)return sn=!1,Mo(o,u,g);sn=(o.flags&131072)!==0}else sn=!1,He&&(u.flags&1048576)!==0&&ug(u,Ku,u.index);switch(u.lanes=0,u.tag){case 16:t:{o=u.pendingProps;var b=u.elementType,C=b._init;if(b=C(b._payload),u.type=b,typeof b=="function")Ec(b)?(o=Bs(b,o),u.tag=1,u=Gg(null,u,b,o,g)):(u.tag=0,u=Ki(null,u,b,o,g));else{if(b!=null){if(C=b.$$typeof,C===M){u.tag=11,u=By(null,u,b,o,g);break t}else if(C===z){u.tag=14,u=uf(null,u,b,o,g);break t}}throw u=at(b)||b,Error(i(306,u,""))}}return u;case 0:return Ki(o,u,u.type,u.pendingProps,g);case 1:return b=u.type,C=Bs(b,u.pendingProps),Gg(o,u,b,C,g);case 3:t:{if(ut(u,u.stateNode.containerInfo),o===null)throw Error(i(387));b=u.pendingProps;var O=u.memoizedState;C=O.element,Zu(o,u),So(u,b,null,g);var G=u.memoizedState;if(b=G.cache,Ya(u,Vn,b),b!==O.cache&&Qe(u,[Vn],g,!0),Ju(),b=G.element,O.isDehydrated)if(O={element:b,isDehydrated:!1,cache:G.cache},u.updateQueue.baseState=O,u.memoizedState=O,u.flags&256){u=hf(o,u,b,g);break t}else if(b!==C){C=ci(Error(i(424)),u),Tc(C),u=hf(o,u,b,g);break t}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Cn=Vs(o.firstChild),Mi=u,He=!0,Sl=null,Ir=!0,g=zg(u,null,b,g),u.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(Cc(),b===C){u=wn(o,u,g);break t}hi(o,u,b,g)}u=u.child}return u;case 26:return Ao(o,u),o===null?(g=v5(u.type,null,u.pendingProps,null))?u.memoizedState=g:He||(g=u.type,o=u.pendingProps,b=Xy(ot.current).createElement(g),b[dn]=u,b[Hi]=o,Zi(b,g,o),ti(b),u.stateNode=b):u.memoizedState=v5(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Dt(u),o===null&&He&&(b=u.stateNode=p5(u.type,u.pendingProps,ot.current),Mi=u,Ir=!0,C=Cn,Wc(u.type)?(b2=C,Cn=Vs(b.firstChild)):Cn=C),hi(o,u,u.pendingProps.children,g),Ao(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&He&&((C=b=Cn)&&(b=GB(b,u.type,u.pendingProps,Ir),b!==null?(u.stateNode=b,Mi=u,Cn=Vs(b.firstChild),Ir=!1,C=!0):C=!1),C||mo(u)),Dt(u),C=u.type,O=u.pendingProps,G=o!==null?o.memoizedProps:null,b=O.children,g2(C,O)?b=null:G!==null&&g2(C,G)&&(u.flags|=32),u.memoizedState!==null&&(C=ca(o,u,di,null,null,g),em._currentValue=C),Ao(o,u),hi(o,u,b,g),u.child;case 6:return o===null&&He&&((o=g=Cn)&&(g=qB(g,u.pendingProps,Ir),g!==null?(u.stateNode=g,Mi=u,Cn=null,o=!0):o=!1),o||mo(u)),null;case 13:return fd(o,u,g);case 4:return ut(u,u.stateNode.containerInfo),b=u.pendingProps,o===null?u.child=jc(u,null,b,g):hi(o,u,b,g),u.child;case 11:return By(o,u,u.type,u.pendingProps,g);case 7:return hi(o,u,u.pendingProps,g),u.child;case 8:return hi(o,u,u.pendingProps.children,g),u.child;case 12:return hi(o,u,u.pendingProps.children,g),u.child;case 10:return b=u.pendingProps,Ya(u,u.type,b.value),hi(o,u,b.children,g),u.child;case 9:return C=u.type._context,b=u.pendingProps.children,bo(u),C=Di(C),b=b(C),u.flags|=1,hi(o,u,b,g),u.child;case 14:return uf(o,u,u.type,u.pendingProps,g);case 15:return Iy(o,u,u.type,u.pendingProps,g);case 19:return Kr(o,u,g);case 31:return b=u.pendingProps,g=u.mode,b={mode:b.mode,children:b.children},o===null?(g=Xi(b,g),g.ref=u.ref,u.child=g,g.return=u,u=g):(g=Fr(o.child,b),g.ref=u.ref,u.child=g,g.return=u,u=g),u;case 22:return zy(o,u,g);case 24:return bo(u),b=Di(Vn),o===null?(C=Se(),C===null&&(C=on,O=Rc(),C.pooledCache=O,O.refCount++,O!==null&&(C.pooledCacheLanes|=g),C=O),u.memoizedState={parent:b,cache:C},Qu(u),Ya(u,Vn,C)):((o.lanes&g)!==0&&(Zu(o,u),So(u,null,null,g),Ju()),C=o.memoizedState,O=u.memoizedState,C.parent!==b?(C={parent:b,cache:b},u.memoizedState=C,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=C),Ya(u,Vn,b)):(b=O.cache,Ya(u,Vn,b),b!==C.cache&&Qe(u,[Vn],g,!0))),hi(o,u,u.pendingProps.children,g),u.child;case 29:throw u.pendingProps}throw Error(i(156,u.tag))}function Dn(o){o.flags|=4}function Kn(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!_5(u)){if(u=Aa.current,u!==null&&((je&4194048)===je?Yr!==null:(je&62914560)!==je&&(je&536870912)===0||u!==Yr))throw Wu=xo,ny;o.flags|=8192}}function Ie(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?zi():536870912,o.lanes|=u,qc|=u)}function gr(o,u){if(!He)switch(o.tailMode){case"hidden":u=o.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?o.tail=null:g.sibling=null;break;case"collapsed":g=o.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:b.sibling=null}}function Xe(o){var u=o.alternate!==null&&o.alternate.child===o.child,g=0,b=0;if(u)for(var C=o.child;C!==null;)g|=C.lanes|C.childLanes,b|=C.subtreeFlags&65011712,b|=C.flags&65011712,C.return=o,C=C.sibling;else for(C=o.child;C!==null;)g|=C.lanes|C.childLanes,b|=C.subtreeFlags,b|=C.flags,C.return=o,C=C.sibling;return o.subtreeFlags|=b,o.childLanes=g,u}function qg(o,u,g){var b=u.pendingProps;switch(Vh(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(u),null;case 1:return Xe(u),null;case 3:return g=u.stateNode,b=null,o!==null&&(b=o.memoizedState.cache),u.memoizedState.cache!==b&&(u.flags|=2048),Ur(Vn),Et(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(vo(u)?Dn(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,fg())),Xe(u),null;case 26:return g=u.memoizedState,o===null?(Dn(u),g!==null?(Xe(u),Kn(u,g)):(Xe(u),u.flags&=-16777217)):g?g!==o.memoizedState?(Dn(u),Xe(u),Kn(u,g)):(Xe(u),u.flags&=-16777217):(o.memoizedProps!==b&&Dn(u),Xe(u),u.flags&=-16777217),null;case 27:jt(u),g=ot.current;var C=u.type;if(o!==null&&u.stateNode!=null)o.memoizedProps!==b&&Dn(u);else{if(!b){if(u.stateNode===null)throw Error(i(166));return Xe(u),null}o=lt.current,vo(u)?hg(u):(o=p5(C,b,g),u.stateNode=o,Dn(u))}return Xe(u),null;case 5:if(jt(u),g=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==b&&Dn(u);else{if(!b){if(u.stateNode===null)throw Error(i(166));return Xe(u),null}if(o=lt.current,vo(u))hg(u);else{switch(C=Xy(ot.current),o){case 1:o=C.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:o=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":o=C.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":o=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":o=C.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof b.is=="string"?C.createElement("select",{is:b.is}):C.createElement("select"),b.multiple?o.multiple=!0:b.size&&(o.size=b.size);break;default:o=typeof b.is=="string"?C.createElement(g,{is:b.is}):C.createElement(g)}}o[dn]=u,o[Hi]=b;t:for(C=u.child;C!==null;){if(C.tag===5||C.tag===6)o.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===u)break t;for(;C.sibling===null;){if(C.return===null||C.return===u)break t;C=C.return}C.sibling.return=C.return,C=C.sibling}u.stateNode=o;t:switch(Zi(o,g,b),g){case"button":case"input":case"select":case"textarea":o=!!b.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Dn(u)}}return Xe(u),u.flags&=-16777217,null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==b&&Dn(u);else{if(typeof b!="string"&&u.stateNode===null)throw Error(i(166));if(o=ot.current,vo(u)){if(o=u.stateNode,g=u.memoizedProps,b=null,C=Mi,C!==null)switch(C.tag){case 27:case 5:b=C.memoizedProps}o[dn]=u,o=!!(o.nodeValue===g||b!==null&&b.suppressHydrationWarning===!0||o5(o.nodeValue,g)),o||mo(u)}else o=Xy(o).createTextNode(b),o[dn]=u,u.stateNode=o}return Xe(u),null;case 13:if(b=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(C=vo(u),b!==null&&b.dehydrated!==null){if(o===null){if(!C)throw Error(i(318));if(C=u.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(i(317));C[dn]=u}else Cc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Xe(u),C=!1}else C=fg(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=C),C=!0;if(!C)return u.flags&256?(Fs(u),u):(Fs(u),null)}if(Fs(u),(u.flags&128)!==0)return u.lanes=g,u;if(g=b!==null,o=o!==null&&o.memoizedState!==null,g){b=u.child,C=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(C=b.alternate.memoizedState.cachePool.pool);var O=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(O=b.memoizedState.cachePool.pool),O!==C&&(b.flags|=2048)}return g!==o&&g&&(u.child.flags|=8192),Ie(u,u.updateQueue),Xe(u),null;case 4:return Et(),o===null&&u2(u.stateNode.containerInfo),Xe(u),null;case 10:return Ur(u.type),Xe(u),null;case 19:if(nt(De),C=u.memoizedState,C===null)return Xe(u),null;if(b=(u.flags&128)!==0,O=C.rendering,O===null)if(b)gr(C,!1);else{if(we!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(O=ud(o),O!==null){for(u.flags|=128,gr(C,!1),o=O.updateQueue,u.updateQueue=o,Ie(u,o),u.subtreeFlags=0,o=g,g=u.child;g!==null;)Hh(g,o),g=g.sibling;return $(De,De.current&1|2),u.child}o=o.sibling}C.tail!==null&&Ft()>jl&&(u.flags|=128,b=!0,gr(C,!1),u.lanes=4194304)}else{if(!b)if(o=ud(O),o!==null){if(u.flags|=128,b=!0,o=o.updateQueue,u.updateQueue=o,Ie(u,o),gr(C,!0),C.tail===null&&C.tailMode==="hidden"&&!O.alternate&&!He)return Xe(u),null}else 2*Ft()-C.renderingStartTime>jl&&g!==536870912&&(u.flags|=128,b=!0,gr(C,!1),u.lanes=4194304);C.isBackwards?(O.sibling=u.child,u.child=O):(o=C.last,o!==null?o.sibling=O:u.child=O,C.last=O)}return C.tail!==null?(u=C.tail,C.rendering=u,C.tail=u.sibling,C.renderingStartTime=Ft(),u.sibling=null,o=De.current,$(De,b?o&1|2:o&1),u):(Xe(u),null);case 22:case 23:return Fs(u),xg(),b=u.memoizedState!==null,o!==null?o.memoizedState!==null!==b&&(u.flags|=8192):b&&(u.flags|=8192),b?(g&536870912)!==0&&(u.flags&128)===0&&(Xe(u),u.subtreeFlags&6&&(u.flags|=8192)):Xe(u),g=u.updateQueue,g!==null&&Ie(u,g.retryQueue),g=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),b=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),b!==g&&(u.flags|=2048),o!==null&&nt(Ns),null;case 24:return g=null,o!==null&&(g=o.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),Ur(Vn),Xe(u),null;case 25:return null;case 30:return null}throw Error(i(156,u.tag))}function Ca(o,u){switch(Vh(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return Ur(Vn),Et(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return jt(u),null;case 13:if(Fs(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(i(340));Cc()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return nt(De),null;case 4:return Et(),null;case 10:return Ur(u.type),null;case 22:case 23:return Fs(u),xg(),o!==null&&nt(Ns),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return Ur(Vn),null;case 25:return null;default:return null}}function gd(o,u){switch(Vh(u),u.tag){case 3:Ur(Vn),Et();break;case 26:case 27:case 5:jt(u);break;case 4:Et();break;case 13:Fs(u);break;case 19:nt(De);break;case 10:Ur(u.type);break;case 22:case 23:Fs(u),xg(),o!==null&&nt(Ns);break;case 24:Ur(Vn)}}function mr(o,u){try{var g=u.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var C=b.next;g=C;do{if((g.tag&o)===o){b=void 0;var O=g.create,G=g.inst;b=O(),G.destroy=b}g=g.next}while(g!==C)}}catch(X){ft(u,u.return,X)}}function Oi(o,u,g){try{var b=u.updateQueue,C=b!==null?b.lastEffect:null;if(C!==null){var O=C.next;b=O;do{if((b.tag&o)===o){var G=b.inst,X=G.destroy;if(X!==void 0){G.destroy=void 0,C=u;var rt=g,gt=X;try{gt()}catch(wt){ft(C,rt,wt)}}}b=b.next}while(b!==O)}}catch(wt){ft(u,u.return,wt)}}function Hy(o){var u=o.updateQueue;if(u!==null){var g=o.stateNode;try{iy(u,g)}catch(b){ft(o,o.return,b)}}}function Gy(o,u,g){g.props=Bs(o.type,o.memoizedProps),g.state=o.memoizedState;try{g.componentWillUnmount()}catch(b){ft(o,u,b)}}function md(o,u){try{var g=o.ref;if(g!==null){switch(o.tag){case 26:case 27:case 5:var b=o.stateNode;break;case 30:b=o.stateNode;break;default:b=o.stateNode}typeof g=="function"?o.refCleanup=g(b):g.current=b}}catch(C){ft(o,u,C)}}function Ze(o,u){var g=o.ref,b=o.refCleanup;if(g!==null)if(typeof b=="function")try{b()}catch(C){ft(o,u,C)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(C){ft(o,u,C)}else g.current=null}function vd(o){var u=o.type,g=o.memoizedProps,b=o.stateNode;try{t:switch(u){case"button":case"input":case"select":case"textarea":g.autoFocus&&b.focus();break t;case"img":g.src?b.src=g.src:g.srcSet&&(b.srcset=g.srcSet)}}catch(C){ft(o,o.return,C)}}function Do(o,u,g){try{var b=o.stateNode;BB(b,o.type,g,u),b[Hi]=u}catch(C){ft(o,o.return,C)}}function pf(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Wc(o.type)||o.tag===4}function Ic(o){t:for(;;){for(;o.sibling===null;){if(o.return===null||pf(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Wc(o.type)||o.flags&2||o.child===null||o.tag===4)continue t;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function yd(o,u,g){var b=o.tag;if(b===5||b===6)o=o.stateNode,u?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(o,u):(u=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,u.appendChild(o),g=g._reactRootContainer,g!=null||u.onclick!==null||(u.onclick=Ky));else if(b!==4&&(b===27&&Wc(o.type)&&(g=o.stateNode,u=null),o=o.child,o!==null))for(yd(o,u,g),o=o.sibling;o!==null;)yd(o,u,g),o=o.sibling}function zs(o,u,g){var b=o.tag;if(b===5||b===6)o=o.stateNode,u?g.insertBefore(o,u):g.appendChild(o);else if(b!==4&&(b===27&&Wc(o.type)&&(g=o.stateNode),o=o.child,o!==null))for(zs(o,u,g),o=o.sibling;o!==null;)zs(o,u,g),o=o.sibling}function zc(o){var u=o.stateNode,g=o.memoizedProps;try{for(var b=o.type,C=u.attributes;C.length;)u.removeAttributeNode(C[0]);Zi(u,b,g),u[dn]=o,u[Hi]=g}catch(O){ft(o,o.return,O)}}var vr=!1,gn=!1,Oo=!1,Vg=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function a2(o,u){if(o=o.containerInfo,f2=tb,o=sg(o),ml(o)){if("selectionStart"in o)var g={start:o.selectionStart,end:o.selectionEnd};else t:{g=(g=o.ownerDocument)&&g.defaultView||window;var b=g.getSelection&&g.getSelection();if(b&&b.rangeCount!==0){g=b.anchorNode;var C=b.anchorOffset,O=b.focusNode;b=b.focusOffset;try{g.nodeType,O.nodeType}catch{g=null;break t}var G=0,X=-1,rt=-1,gt=0,wt=0,Ct=o,vt=null;e:for(;;){for(var bt;Ct!==g||C!==0&&Ct.nodeType!==3||(X=G+C),Ct!==O||b!==0&&Ct.nodeType!==3||(rt=G+b),Ct.nodeType===3&&(G+=Ct.nodeValue.length),(bt=Ct.firstChild)!==null;)vt=Ct,Ct=bt;for(;;){if(Ct===o)break e;if(vt===g&&++gt===C&&(X=G),vt===O&&++wt===b&&(rt=G),(bt=Ct.nextSibling)!==null)break;Ct=vt,vt=Ct.parentNode}Ct=bt}g=X===-1||rt===-1?null:{start:X,end:rt}}else g=null}g=g||{start:0,end:0}}else g=null;for(p2={focusedElem:o,selectionRange:g},tb=!1,Tn=u;Tn!==null;)if(u=Tn,o=u.child,(u.subtreeFlags&1024)!==0&&o!==null)o.return=u,Tn=o;else for(;Tn!==null;){switch(u=Tn,O=u.alternate,o=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&O!==null){o=void 0,g=u,C=O.memoizedProps,O=O.memoizedState,b=g.stateNode;try{var de=Bs(g.type,C,g.elementType===g.type);o=b.getSnapshotBeforeUpdate(de,O),b.__reactInternalSnapshotBeforeUpdate=o}catch(ae){ft(g,g.return,ae)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,g=o.nodeType,g===9)v2(o);else if(g===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":v2(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=u.sibling,o!==null){o.return=u.return,Tn=o;break}Tn=u.return}}function Uc(o,u,g){var b=g.flags;switch(g.tag){case 0:case 11:case 15:ke(o,g),b&4&&mr(5,g);break;case 1:if(ke(o,g),b&4)if(o=g.stateNode,u===null)try{o.componentDidMount()}catch(G){ft(g,g.return,G)}else{var C=Bs(g.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(C,u,o.__reactInternalSnapshotBeforeUpdate)}catch(G){ft(g,g.return,G)}}b&64&&Hy(g),b&512&&md(g,g.return);break;case 3:if(ke(o,g),b&64&&(o=g.updateQueue,o!==null)){if(u=null,g.child!==null)switch(g.child.tag){case 27:case 5:u=g.child.stateNode;break;case 1:u=g.child.stateNode}try{iy(o,u)}catch(G){ft(g,g.return,G)}}break;case 27:u===null&&b&4&&zc(g);case 26:case 5:ke(o,g),u===null&&b&4&&vd(g),b&512&&md(g,g.return);break;case 12:ke(o,g);break;case 13:ke(o,g),b&4&&Ll(o,g),b&64&&(o=g.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(g=zt.bind(null,g),VB(o,g))));break;case 22:if(b=g.memoizedState!==null||vr,!b){u=u!==null&&u.memoizedState!==null||gn,C=vr;var O=gn;vr=b,(gn=u)&&!O?yr(o,g,(g.subtreeFlags&8772)!==0):ke(o,g),vr=C,gn=O}break;case 30:break;default:ke(o,g)}}function gf(o){var u=o.alternate;u!==null&&(o.alternate=null,gf(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&Ru(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var fn=null,xi=!1;function pa(o,u,g){for(g=g.child;g!==null;)Ta(o,u,g),g=g.sibling}function Ta(o,u,g){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(ie,g)}catch{}switch(g.tag){case 26:gn||Ze(g,u),pa(o,u,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:gn||Ze(g,u);var b=fn,C=xi;Wc(g.type)&&(fn=g.stateNode,xi=!1),pa(o,u,g),Qg(g.stateNode),fn=b,xi=C;break;case 5:gn||Ze(g,u);case 6:if(b=fn,C=xi,fn=null,pa(o,u,g),fn=b,xi=C,fn!==null)if(xi)try{(fn.nodeType===9?fn.body:fn.nodeName==="HTML"?fn.ownerDocument.body:fn).removeChild(g.stateNode)}catch(O){ft(g,u,O)}else try{fn.removeChild(g.stateNode)}catch(O){ft(g,u,O)}break;case 18:fn!==null&&(xi?(o=fn,h5(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,g.stateNode),rm(o)):h5(fn,g.stateNode));break;case 4:b=fn,C=xi,fn=g.stateNode.containerInfo,xi=!0,pa(o,u,g),fn=b,xi=C;break;case 0:case 11:case 14:case 15:gn||Oi(2,g,u),gn||Oi(4,g,u),pa(o,u,g);break;case 1:gn||(Ze(g,u),b=g.stateNode,typeof b.componentWillUnmount=="function"&&Gy(g,u,b)),pa(o,u,g);break;case 21:pa(o,u,g);break;case 22:gn=(b=gn)||g.memoizedState!==null,pa(o,u,g),gn=b;break;default:pa(o,u,g)}}function Ll(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{rm(o)}catch(g){ft(u,u.return,g)}}function Yg(o){switch(o.tag){case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new Vg),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new Vg),u;default:throw Error(i(435,o.tag))}}function Xr(o,u){var g=Yg(o);u.forEach(function(b){var C=ye.bind(null,o,b);g.has(b)||(g.add(b),b.then(C,C))})}function $i(o,u){var g=u.deletions;if(g!==null)for(var b=0;b<g.length;b++){var C=g[b],O=o,G=u,X=G;t:for(;X!==null;){switch(X.tag){case 27:if(Wc(X.type)){fn=X.stateNode,xi=!1;break t}break;case 5:fn=X.stateNode,xi=!1;break t;case 3:case 4:fn=X.stateNode.containerInfo,xi=!0;break t}X=X.return}if(fn===null)throw Error(i(160));Ta(O,G,C),fn=null,xi=!1,O=C.alternate,O!==null&&(O.return=null),C.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)bd(u,o),u=u.sibling}var Ni=null;function bd(o,u){var g=o.alternate,b=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:$i(u,o),Xn(o),b&4&&(Oi(3,o,o.return),mr(3,o),Oi(5,o,o.return));break;case 1:$i(u,o),Xn(o),b&512&&(gn||g===null||Ze(g,g.return)),b&64&&vr&&(o=o.updateQueue,o!==null&&(b=o.callbacks,b!==null&&(g=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=g===null?b:g.concat(b))));break;case 26:var C=Ni;if($i(u,o),Xn(o),b&512&&(gn||g===null||Ze(g,g.return)),b&4){var O=g!==null?g.memoizedState:null;if(b=o.memoizedState,g===null)if(b===null)if(o.stateNode===null){t:{b=o.type,g=o.memoizedProps,C=C.ownerDocument||C;e:switch(b){case"title":O=C.getElementsByTagName("title")[0],(!O||O[Ss]||O[dn]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=C.createElement(b),C.head.insertBefore(O,C.querySelector("head > title"))),Zi(O,b,g),O[dn]=o,ti(O),b=O;break t;case"link":var G=x5("link","href",C).get(b+(g.href||""));if(G){for(var X=0;X<G.length;X++)if(O=G[X],O.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&O.getAttribute("rel")===(g.rel==null?null:g.rel)&&O.getAttribute("title")===(g.title==null?null:g.title)&&O.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){G.splice(X,1);break e}}O=C.createElement(b),Zi(O,b,g),C.head.appendChild(O);break;case"meta":if(G=x5("meta","content",C).get(b+(g.content||""))){for(X=0;X<G.length;X++)if(O=G[X],O.getAttribute("content")===(g.content==null?null:""+g.content)&&O.getAttribute("name")===(g.name==null?null:g.name)&&O.getAttribute("property")===(g.property==null?null:g.property)&&O.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&O.getAttribute("charset")===(g.charSet==null?null:g.charSet)){G.splice(X,1);break e}}O=C.createElement(b),Zi(O,b,g),C.head.appendChild(O);break;default:throw Error(i(468,b))}O[dn]=o,ti(O),b=O}o.stateNode=b}else S5(C,o.type,o.stateNode);else o.stateNode=b5(C,b,o.memoizedProps);else O!==b?(O===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):O.count--,b===null?S5(C,o.type,o.stateNode):b5(C,b,o.memoizedProps)):b===null&&o.stateNode!==null&&Do(o,o.memoizedProps,g.memoizedProps)}break;case 27:$i(u,o),Xn(o),b&512&&(gn||g===null||Ze(g,g.return)),g!==null&&b&4&&Do(o,o.memoizedProps,g.memoizedProps);break;case 5:if($i(u,o),Xn(o),b&512&&(gn||g===null||Ze(g,g.return)),o.flags&32){C=o.stateNode;try{cl(C,"")}catch(bt){ft(o,o.return,bt)}}b&4&&o.stateNode!=null&&(C=o.memoizedProps,Do(o,C,g!==null?g.memoizedProps:C)),b&1024&&(Oo=!0);break;case 6:if($i(u,o),Xn(o),b&4){if(o.stateNode===null)throw Error(i(162));b=o.memoizedProps,g=o.stateNode;try{g.nodeValue=b}catch(bt){ft(o,o.return,bt)}}break;case 3:if(Qy=null,C=Ni,Ni=$y(u.containerInfo),$i(u,o),Ni=C,Xn(o),b&4&&g!==null&&g.memoizedState.isDehydrated)try{rm(u.containerInfo)}catch(bt){ft(o,o.return,bt)}Oo&&(Oo=!1,be(o));break;case 4:b=Ni,Ni=$y(o.stateNode.containerInfo),$i(u,o),Xn(o),Ni=b;break;case 12:$i(u,o),Xn(o);break;case 13:$i(u,o),Xn(o),o.child.flags&8192&&o.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Yc=Ft()),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,Xr(o,b)));break;case 22:C=o.memoizedState!==null;var rt=g!==null&&g.memoizedState!==null,gt=vr,wt=gn;if(vr=gt||C,gn=wt||rt,$i(u,o),gn=wt,vr=gt,Xn(o),b&8192)t:for(u=o.stateNode,u._visibility=C?u._visibility&-2:u._visibility|1,C&&(g===null||rt||vr||gn||mn(o)),g=null,u=o;;){if(u.tag===5||u.tag===26){if(g===null){rt=g=u;try{if(O=rt.stateNode,C)G=O.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{X=rt.stateNode;var Ct=rt.memoizedProps.style,vt=Ct!=null&&Ct.hasOwnProperty("display")?Ct.display:null;X.style.display=vt==null||typeof vt=="boolean"?"":(""+vt).trim()}}catch(bt){ft(rt,rt.return,bt)}}}else if(u.tag===6){if(g===null){rt=u;try{rt.stateNode.nodeValue=C?"":rt.memoizedProps}catch(bt){ft(rt,rt.return,bt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break t;for(;u.sibling===null;){if(u.return===null||u.return===o)break t;g===u&&(g=null),u=u.return}g===u&&(g=null),u.sibling.return=u.return,u=u.sibling}b&4&&(b=o.updateQueue,b!==null&&(g=b.retryQueue,g!==null&&(b.retryQueue=null,Xr(o,g))));break;case 19:$i(u,o),Xn(o),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,Xr(o,b)));break;case 30:break;case 21:break;default:$i(u,o),Xn(o)}}function Xn(o){var u=o.flags;if(u&2){try{for(var g,b=o.return;b!==null;){if(pf(b)){g=b;break}b=b.return}if(g==null)throw Error(i(160));switch(g.tag){case 27:var C=g.stateNode,O=Ic(o);zs(o,O,C);break;case 5:var G=g.stateNode;g.flags&32&&(cl(G,""),g.flags&=-33);var X=Ic(o);zs(o,X,G);break;case 3:case 4:var rt=g.stateNode.containerInfo,gt=Ic(o);yd(o,gt,rt);break;default:throw Error(i(161))}}catch(wt){ft(o,o.return,wt)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function be(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;be(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function ke(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Uc(o,u.alternate,u),u=u.sibling}function mn(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Oi(4,u,u.return),mn(u);break;case 1:Ze(u,u.return);var g=u.stateNode;typeof g.componentWillUnmount=="function"&&Gy(u,u.return,g),mn(u);break;case 27:Qg(u.stateNode);case 26:case 5:Ze(u,u.return),mn(u);break;case 22:u.memoizedState===null&&mn(u);break;case 30:mn(u);break;default:mn(u)}o=o.sibling}}function yr(o,u,g){for(g=g&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var b=u.alternate,C=o,O=u,G=O.flags;switch(O.tag){case 0:case 11:case 15:yr(C,O,g),mr(4,O);break;case 1:if(yr(C,O,g),b=O,C=b.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(gt){ft(b,b.return,gt)}if(b=O,C=b.updateQueue,C!==null){var X=b.stateNode;try{var rt=C.shared.hiddenCallbacks;if(rt!==null)for(C.shared.hiddenCallbacks=null,C=0;C<rt.length;C++)te(rt[C],X)}catch(gt){ft(b,b.return,gt)}}g&&G&64&&Hy(O),md(O,O.return);break;case 27:zc(O);case 26:case 5:yr(C,O,g),g&&b===null&&G&4&&vd(O),md(O,O.return);break;case 12:yr(C,O,g);break;case 13:yr(C,O,g),g&&G&4&&Ll(C,O);break;case 22:O.memoizedState===null&&yr(C,O,g),md(O,O.return);break;case 30:break;default:yr(C,O,g)}u=u.sibling}}function No(o,u){var g=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==g&&(o!=null&&o.refCount++,g!=null&&hr(g))}function Us(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&hr(o))}function Ra(o,u,g,b){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Hc(o,u,g,b),u=u.sibling}function Hc(o,u,g,b){var C=u.flags;switch(u.tag){case 0:case 11:case 15:Ra(o,u,g,b),C&2048&&mr(9,u);break;case 1:Ra(o,u,g,b);break;case 3:Ra(o,u,g,b),C&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&hr(o)));break;case 12:if(C&2048){Ra(o,u,g,b),o=u.stateNode;try{var O=u.memoizedProps,G=O.id,X=O.onPostCommit;typeof X=="function"&&X(G,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(rt){ft(u,u.return,rt)}}else Ra(o,u,g,b);break;case 13:Ra(o,u,g,b);break;case 23:break;case 22:O=u.stateNode,G=u.alternate,u.memoizedState!==null?O._visibility&2?Ra(o,u,g,b):xd(o,u):O._visibility&2?Ra(o,u,g,b):(O._visibility|=2,br(o,u,g,b,(u.subtreeFlags&10256)!==0)),C&2048&&No(G,u);break;case 24:Ra(o,u,g,b),C&2048&&Us(u.alternate,u);break;default:Ra(o,u,g,b)}}function br(o,u,g,b,C){for(C=C&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var O=o,G=u,X=g,rt=b,gt=G.flags;switch(G.tag){case 0:case 11:case 15:br(O,G,X,rt,C),mr(8,G);break;case 23:break;case 22:var wt=G.stateNode;G.memoizedState!==null?wt._visibility&2?br(O,G,X,rt,C):xd(O,G):(wt._visibility|=2,br(O,G,X,rt,C)),C&&gt&2048&&No(G.alternate,G);break;case 24:br(O,G,X,rt,C),C&&gt&2048&&Us(G.alternate,G);break;default:br(O,G,X,rt,C)}u=u.sibling}}function xd(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var g=o,b=u,C=b.flags;switch(b.tag){case 22:xd(g,b),C&2048&&No(b.alternate,b);break;case 24:xd(g,b),C&2048&&Us(b.alternate,b);break;default:xd(g,b)}u=u.sibling}}var Po=8192;function kl(o){if(o.subtreeFlags&Po)for(o=o.child;o!==null;)Kg(o),o=o.sibling}function Kg(o){switch(o.tag){case 26:kl(o),o.flags&Po&&o.memoizedState!==null&&aI(Ni,o.memoizedState,o.memoizedProps);break;case 5:kl(o);break;case 3:case 4:var u=Ni;Ni=$y(o.stateNode.containerInfo),kl(o),Ni=u;break;case 22:o.memoizedState===null&&(u=o.alternate,u!==null&&u.memoizedState!==null?(u=Po,Po=16777216,kl(o),Po=u):kl(o));break;default:kl(o)}}function qy(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function $r(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var g=0;g<u.length;g++){var b=u[g];Tn=b,Xg(b,o)}qy(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Gc(o),o=o.sibling}function Gc(o){switch(o.tag){case 0:case 11:case 15:$r(o),o.flags&2048&&Oi(9,o,o.return);break;case 3:$r(o);break;case 12:$r(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,Hs(o)):$r(o);break;default:$r(o)}}function Hs(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var g=0;g<u.length;g++){var b=u[g];Tn=b,Xg(b,o)}qy(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Oi(8,u,u.return),Hs(u);break;case 22:g=u.stateNode,g._visibility&2&&(g._visibility&=-3,Hs(u));break;default:Hs(u)}o=o.sibling}}function Xg(o,u){for(;Tn!==null;){var g=Tn;switch(g.tag){case 0:case 11:case 15:Oi(8,g,u);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var b=g.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:hr(g.memoizedState.cache)}if(b=g.child,b!==null)b.return=g,Tn=b;else t:for(g=o;Tn!==null;){b=Tn;var C=b.sibling,O=b.return;if(gf(b),b===g){Tn=null;break t}if(C!==null){C.return=O,Tn=C;break t}Tn=O}}}var Xa={getCacheForType:function(o){var u=Di(Vn),g=u.data.get(o);return g===void 0&&(g=o(),u.data.set(o,g)),g}},Wr=typeof WeakMap=="function"?WeakMap:Map,ce=0,on=null,Te=null,je=0,ue=0,Wi=null,Pi=!1,vn=!1,Sd=!1,Qr=0,we=0,pn=0,$n=0,Ma=0,Si=0,qc=0,Lo=null,_i=null,Vc=!1,Yc=0,jl=1/0,ko=null,jo=null,ee=0,Ge=null,ge=null,Ee=0,Je=0,Qi=null,Gs=null,Zr=0,_d=null;function zn(){if((ce&2)!==0&&je!==0)return je&-je;if(Z.T!==null){var o=Mc;return o!==0?o:s2()}return sl()}function On(){Si===0&&(Si=(je&536870912)===0||He?ms():536870912);var o=Aa.current;return o!==null&&(o.flags|=32),Si}function Wn(o,u,g){(o===on&&(ue===2||ue===9)||o.cancelPendingCommit!==null)&&(Io(o,0),Da(o,je,Si,!1)),Ui(o,g),((ce&2)===0||o!==on)&&(o===on&&((ce&2)===0&&($n|=g),we===4&&Da(o,je,Si,!1)),Gt(o))}function Fo(o,u,g){if((ce&6)!==0)throw Error(i(327));var b=!g&&(u&124)===0&&(u&o.expiredLanes)===0||An(o,u),C=b?Xc(o,u):ni(o,u,!0),O=b;do{if(C===0){vn&&!b&&Da(o,u,0,!1);break}else{if(g=o.current.alternate,O&&!$a(g)){C=ni(o,u,!1),O=!1;continue}if(C===2){if(O=u,o.errorRecoveryDisabledLanes&O)var G=0;else G=o.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){u=G;t:{var X=o;C=Lo;var rt=X.current.memoizedState.isDehydrated;if(rt&&(Io(X,G).flags|=256),G=ni(X,G,!1),G!==2){if(Sd&&!rt){X.errorRecoveryDisabledLanes|=O,$n|=O,C=4;break t}O=_i,_i=C,O!==null&&(_i===null?_i=O:_i.push.apply(_i,O))}C=G}if(O=!1,C!==2)continue}}if(C===1){Io(o,0),Da(o,u,0,!0);break}t:{switch(b=o,O=C,O){case 0:case 1:throw Error(i(345));case 4:if((u&4194048)!==u)break;case 6:Da(b,u,Si,!Pi);break t;case 2:_i=null;break;case 3:case 5:break;default:throw Error(i(329))}if((u&62914560)===u&&(C=Yc+300-Ft(),10<C)){if(Da(b,u,Si,!Pi),tn(b,0,!0)!==0)break t;b.timeoutHandle=u5(mf.bind(null,b,g,_i,ko,Vc,u,Si,$n,qc,Pi,O,2,-0,0),C);break t}mf(b,g,_i,ko,Vc,u,Si,$n,qc,Pi,O,0,-0,0)}}break}while(!0);Gt(o)}function mf(o,u,g,b,C,O,G,X,rt,gt,wt,Ct,vt,bt){if(o.timeoutHandle=-1,Ct=u.subtreeFlags,(Ct&8192||(Ct&16785408)===16785408)&&(tm={stylesheets:null,count:0,unsuspend:iI},Kg(u),Ct=rI(),Ct!==null)){o.cancelPendingCommit=Ct(h.bind(null,o,u,O,g,b,C,G,X,rt,wt,1,vt,bt)),Da(o,O,G,!gt);return}h(o,u,O,g,b,C,G,X,rt)}function $a(o){for(var u=o;;){var g=u.tag;if((g===0||g===11||g===15)&&u.flags&16384&&(g=u.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var b=0;b<g.length;b++){var C=g[b],O=C.getSnapshot;C=C.value;try{if(!_a(O(),C))return!1}catch{return!1}}if(g=u.child,u.subtreeFlags&16384&&g!==null)g.return=u,u=g;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Da(o,u,g,b){u&=~Ma,u&=~$n,o.suspendedLanes|=u,o.pingedLanes&=~u,b&&(o.warmLanes|=u),b=o.expirationTimes;for(var C=u;0<C;){var O=31-Ne(C),G=1<<O;b[O]=-1,C&=~G}g!==0&&Ua(o,g,u)}function Bo(){return(ce&6)===0?(an(0),!1):!0}function Li(){if(Te!==null){if(ue===0)var o=Te.return;else o=Te,zr=yo=null,_g(o),kc=null,Yi=0,o=Te;for(;o!==null;)gd(o.alternate,o),o=o.return;Te=null}}function Io(o,u){var g=o.timeoutHandle;g!==-1&&(o.timeoutHandle=-1,zB(g)),g=o.cancelPendingCommit,g!==null&&(o.cancelPendingCommit=null,g()),Li(),on=o,Te=g=Fr(o.current,null),je=u,ue=0,Wi=null,Pi=!1,vn=An(o,u),Sd=!1,qc=Si=Ma=$n=pn=we=0,_i=Lo=null,Vc=!1,(u&8)!==0&&(u|=u&32);var b=o.entangledLanes;if(b!==0)for(o=o.entanglements,b&=u;0<b;){var C=31-Ne(b),O=1<<C;u|=o[C],b&=~O}return Qr=u,wa(),g}function vf(o,u){_e=null,Z.H=sf,u===Cl||u===Tl?(u=vg(),ue=3):u===ny?(u=vg(),ue=4):ue=u===Fy?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Wi=u,Te===null&&(we=1,lf(o,ci(u,o.current)))}function Kc(){var o=Z.H;return Z.H=sf,o===null?sf:o}function wd(){var o=Z.A;return Z.A=Xa,o}function Jr(){we=4,Pi||(je&4194048)!==je&&Aa.current!==null||(vn=!0),(pn&134217727)===0&&($n&134217727)===0||on===null||Da(on,je,Si,!1)}function ni(o,u,g){var b=ce;ce|=2;var C=Kc(),O=wd();(on!==o||je!==u)&&(ko=null,Io(o,u)),u=!1;var G=we;t:do try{if(ue!==0&&Te!==null){var X=Te,rt=Wi;switch(ue){case 8:Li(),G=6;break t;case 3:case 2:case 9:case 6:Aa.current===null&&(u=!0);var gt=ue;if(ue=0,Wi=null,Fl(o,X,rt,gt),g&&vn){G=0;break t}break;default:gt=ue,ue=0,Wi=null,Fl(o,X,rt,gt)}}zo(),G=we;break}catch(wt){vf(o,wt)}while(!0);return u&&o.shellSuspendCounter++,zr=yo=null,ce=b,Z.H=C,Z.A=O,Te===null&&(on=null,je=0,wa()),G}function zo(){for(;Te!==null;)yf(Te)}function Xc(o,u){var g=ce;ce|=2;var b=Kc(),C=wd();on!==o||je!==u?(ko=null,jl=Ft()+500,Io(o,u)):vn=An(o,u);t:do try{if(ue!==0&&Te!==null){u=Te;var O=Wi;e:switch(ue){case 1:ue=0,Wi=null,Fl(o,u,O,1);break;case 2:case 9:if(Rl(O)){ue=0,Wi=null,bf(u);break}u=function(){ue!==2&&ue!==9||on!==o||(ue=7),Gt(o)},O.then(u,u);break t;case 3:ue=7;break t;case 4:ue=5;break t;case 7:Rl(O)?(ue=0,Wi=null,bf(u)):(ue=0,Wi=null,Fl(o,u,O,7));break;case 5:var G=null;switch(Te.tag){case 26:G=Te.memoizedState;case 5:case 27:var X=Te;if(!G||_5(G)){ue=0,Wi=null;var rt=X.sibling;if(rt!==null)Te=rt;else{var gt=X.return;gt!==null?(Te=gt,Uo(gt)):Te=null}break e}}ue=0,Wi=null,Fl(o,u,O,5);break;case 6:ue=0,Wi=null,Fl(o,u,O,6);break;case 8:Li(),we=6;break t;default:throw Error(i(462))}}$c();break}catch(wt){vf(o,wt)}while(!0);return zr=yo=null,Z.H=b,Z.A=C,ce=g,Te!==null?0:(on=null,je=0,wa(),we)}function $c(){for(;Te!==null&&!Lt();)yf(Te)}function yf(o){var u=pd(o.alternate,o,Qr);o.memoizedProps=o.pendingProps,u===null?Uo(o):Te=u}function bf(o){var u=o,g=u.alternate;switch(u.tag){case 15:case 0:u=df(g,u,u.pendingProps,u.type,void 0,je);break;case 11:u=df(g,u,u.pendingProps,u.type.render,u.ref,je);break;case 5:_g(u);default:gd(g,u),u=Te=Hh(u,Qr),u=pd(g,u,Qr)}o.memoizedProps=o.pendingProps,u===null?Uo(o):Te=u}function Fl(o,u,g,b){zr=yo=null,_g(u),kc=null,Yi=0;var C=u.return;try{if(i2(o,C,u,g,je)){we=1,lf(o,ci(g,o.current)),Te=null;return}}catch(O){if(C!==null)throw Te=C,O;we=1,lf(o,ci(g,o.current)),Te=null;return}u.flags&32768?(He||b===1?o=!0:vn||(je&536870912)!==0?o=!1:(Pi=o=!0,(b===2||b===9||b===3||b===6)&&(b=Aa.current,b!==null&&b.tag===13&&(b.flags|=16384))),xf(u,o)):Uo(u)}function Uo(o){var u=o;do{if((u.flags&32768)!==0){xf(u,Pi);return}o=u.return;var g=qg(u.alternate,u,Qr);if(g!==null){Te=g;return}if(u=u.sibling,u!==null){Te=u;return}Te=u=o}while(u!==null);we===0&&(we=5)}function xf(o,u){do{var g=Ca(o.alternate,o);if(g!==null){g.flags&=32767,Te=g;return}if(g=o.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!u&&(o=o.sibling,o!==null)){Te=o;return}Te=o=g}while(o!==null);we=6,Te=null}function h(o,u,g,b,C,O,G,X,rt){o.cancelPendingCommit=null;do k();while(ee!==0);if((ce&6)!==0)throw Error(i(327));if(u!==null){if(u===o.current)throw Error(i(177));if(O=u.lanes|u.childLanes,O|=Hu,vs(o,g,O,G,X,rt),o===on&&(Te=on=null,je=0),ge=u,Ge=o,Ee=g,Je=O,Qi=C,Gs=b,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Wa(Sn,function(){return Q(),null})):(o.callbackNode=null,o.callbackPriority=0),b=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||b){b=Z.T,Z.T=null,C=B.p,B.p=2,G=ce,ce|=4;try{a2(o,u,g)}finally{ce=G,B.p=C,Z.T=b}}ee=1,p(),S(),T()}}function p(){if(ee===1){ee=0;var o=Ge,u=ge,g=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||g){g=Z.T,Z.T=null;var b=B.p;B.p=2;var C=ce;ce|=4;try{bd(u,o);var O=p2,G=sg(o.containerInfo),X=O.focusedElem,rt=O.selectionRange;if(G!==X&&X&&X.ownerDocument&&rg(X.ownerDocument.documentElement,X)){if(rt!==null&&ml(X)){var gt=rt.start,wt=rt.end;if(wt===void 0&&(wt=gt),"selectionStart"in X)X.selectionStart=gt,X.selectionEnd=Math.min(wt,X.value.length);else{var Ct=X.ownerDocument||document,vt=Ct&&Ct.defaultView||window;if(vt.getSelection){var bt=vt.getSelection(),de=X.textContent.length,ae=Math.min(rt.start,de),bn=rt.end===void 0?ae:Math.min(rt.end,de);!bt.extend&&ae>bn&&(G=bn,bn=ae,ae=G);var ht=Rs(X,ae),ct=Rs(X,bn);if(ht&&ct&&(bt.rangeCount!==1||bt.anchorNode!==ht.node||bt.anchorOffset!==ht.offset||bt.focusNode!==ct.node||bt.focusOffset!==ct.offset)){var pt=Ct.createRange();pt.setStart(ht.node,ht.offset),bt.removeAllRanges(),ae>bn?(bt.addRange(pt),bt.extend(ct.node,ct.offset)):(pt.setEnd(ct.node,ct.offset),bt.addRange(pt))}}}}for(Ct=[],bt=X;bt=bt.parentNode;)bt.nodeType===1&&Ct.push({element:bt,left:bt.scrollLeft,top:bt.scrollTop});for(typeof X.focus=="function"&&X.focus(),X=0;X<Ct.length;X++){var At=Ct[X];At.element.scrollLeft=At.left,At.element.scrollTop=At.top}}tb=!!f2,p2=f2=null}finally{ce=C,B.p=b,Z.T=g}}o.current=u,ee=2}}function S(){if(ee===2){ee=0;var o=Ge,u=ge,g=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||g){g=Z.T,Z.T=null;var b=B.p;B.p=2;var C=ce;ce|=4;try{Uc(o,u.alternate,u)}finally{ce=C,B.p=b,Z.T=g}}ee=3}}function T(){if(ee===4||ee===3){ee=0,Re();var o=Ge,u=ge,g=Ee,b=Gs;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?ee=5:(ee=0,ge=Ge=null,N(o,o.pendingLanes));var C=o.pendingLanes;if(C===0&&(jo=null),lc(g),u=u.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(ie,u,void 0,(u.current.flags&128)===128)}catch{}if(b!==null){u=Z.T,C=B.p,B.p=2,Z.T=null;try{for(var O=o.onRecoverableError,G=0;G<b.length;G++){var X=b[G];O(X.value,{componentStack:X.stack})}}finally{Z.T=u,B.p=C}}(Ee&3)!==0&&k(),Gt(o),C=o.pendingLanes,(g&4194090)!==0&&(C&42)!==0?o===_d?Zr++:(Zr=0,_d=o):Zr=0,an(0)}}function N(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,hr(u)))}function k(o){return p(),S(),T(),Q()}function Q(){if(ee!==5)return!1;var o=Ge,u=Je;Je=0;var g=lc(Ee),b=Z.T,C=B.p;try{B.p=32>g?32:g,Z.T=null,g=Qi,Qi=null;var O=Ge,G=Ee;if(ee=0,ge=Ge=null,Ee=0,(ce&6)!==0)throw Error(i(331));var X=ce;if(ce|=4,Gc(O.current),Hc(O,O.current,G,g),ce=X,an(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(ie,O)}catch{}return!0}finally{B.p=C,Z.T=b,N(o,u)}}function st(o,u,g){u=ci(g,u),u=Fc(o.stateNode,u,2),o=Vi(o,u,2),o!==null&&(Ui(o,2),Gt(o))}function ft(o,u,g){if(o.tag===3)st(o,o,g);else for(;u!==null;){if(u.tag===3){st(u,o,g);break}else if(u.tag===1){var b=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(jo===null||!jo.has(b))){o=ci(g,o),g=hd(2),b=Vi(u,g,2),b!==null&&(cf(g,b,u,o),Ui(b,2),Gt(b));break}}u=u.return}}function Tt(o,u,g){var b=o.pingCache;if(b===null){b=o.pingCache=new Wr;var C=new Set;b.set(u,C)}else C=b.get(u),C===void 0&&(C=new Set,b.set(u,C));C.has(g)||(Sd=!0,C.add(g),o=Nt.bind(null,o,u,g),u.then(o,o))}function Nt(o,u,g){var b=o.pingCache;b!==null&&b.delete(u),o.pingedLanes|=o.suspendedLanes&g,o.warmLanes&=~g,on===o&&(je&g)===g&&(we===4||we===3&&(je&62914560)===je&&300>Ft()-Yc?(ce&2)===0&&Io(o,0):Ma|=g,qc===je&&(qc=0)),Gt(o)}function It(o,u){u===0&&(u=zi()),o=jr(o,u),o!==null&&(Ui(o,u),Gt(o))}function zt(o){var u=o.memoizedState,g=0;u!==null&&(g=u.retryLane),It(o,g)}function ye(o,u){var g=0;switch(o.tag){case 13:var b=o.stateNode,C=o.memoizedState;C!==null&&(g=C.retryLane);break;case 19:b=o.stateNode;break;case 22:b=o.stateNode._retryCache;break;default:throw Error(i(314))}b!==null&&b.delete(u),It(o,g)}function Wa(o,u){return Ht(o,u)}var Ho=null,Qa=null,mt=!1,dt=!1,xt=!1,Rt=0;function Gt(o){o!==Qa&&o.next===null&&(Qa===null?Ho=Qa=o:Qa=Qa.next=o),dt=!0,mt||(mt=!0,r2())}function an(o,u){if(!xt&&dt){xt=!0;do for(var g=!1,b=Ho;b!==null;){if(o!==0){var C=b.pendingLanes;if(C===0)var O=0;else{var G=b.suspendedLanes,X=b.pingedLanes;O=(1<<31-Ne(42|o)+1)-1,O&=C&~(G&~X),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(g=!0,qs(b,O))}else O=je,O=tn(b,b===on?O:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(O&3)===0||An(b,O)||(g=!0,qs(b,O));b=b.next}while(g);xt=!1}}function se(){qe()}function qe(){dt=mt=!1;var o=0;Rt!==0&&(IB()&&(o=Rt),Rt=0);for(var u=Ft(),g=null,b=Ho;b!==null;){var C=b.next,O=ii(b,u);O===0?(b.next=null,g===null?Ho=C:g.next=C,C===null&&(Qa=g)):(g=b,(o!==0||(O&3)!==0)&&(dt=!0)),b=C}an(o)}function ii(o,u){for(var g=o.suspendedLanes,b=o.pingedLanes,C=o.expirationTimes,O=o.pendingLanes&-62914561;0<O;){var G=31-Ne(O),X=1<<G,rt=C[G];rt===-1?((X&g)===0||(X&b)!==0)&&(C[G]=Rr(X,u)):rt<=u&&(o.expiredLanes|=X),O&=~X}if(u=on,g=je,g=tn(o,o===u?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),b=o.callbackNode,g===0||o===u&&(ue===2||ue===9)||o.cancelPendingCommit!==null)return b!==null&&b!==null&&pe(b),o.callbackNode=null,o.callbackPriority=0;if((g&3)===0||An(o,g)){if(u=g&-g,u===o.callbackPriority)return u;switch(b!==null&&pe(b),lc(g)){case 2:case 8:g=un;break;case 32:g=Sn;break;case 268435456:g=Me;break;default:g=Sn}return b=Ve.bind(null,o),g=Ht(g,b),o.callbackPriority=u,o.callbackNode=g,u}return b!==null&&b!==null&&pe(b),o.callbackPriority=2,o.callbackNode=null,2}function Ve(o,u){if(ee!==0&&ee!==5)return o.callbackNode=null,o.callbackPriority=0,null;var g=o.callbackNode;if(k()&&o.callbackNode!==g)return null;var b=je;return b=tn(o,o===on?b:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),b===0?null:(Fo(o,b,u),ii(o,Ft()),o.callbackNode!=null&&o.callbackNode===g?Ve.bind(null,o):null)}function qs(o,u){if(k())return null;Fo(o,u,!0)}function r2(){UB(function(){(ce&6)!==0?Ht(cn,se):qe()})}function s2(){return Rt===0&&(Rt=ms()),Rt}function e5(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Sh(""+o)}function n5(o,u){var g=u.ownerDocument.createElement("input");return g.name=u.name,g.value=u.value,o.id&&g.setAttribute("form",o.id),u.parentNode.insertBefore(g,u),o=new FormData(o),g.parentNode.removeChild(g),o}function NB(o,u,g,b,C){if(u==="submit"&&g&&g.stateNode===C){var O=e5((C[Hi]||null).action),G=b.submitter;G&&(u=(u=G[Hi]||null)?e5(u.formAction):G.getAttribute("formAction"),u!==null&&(O=u,G=null));var X=new ku("action","action",null,b,C);o.push({event:X,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(Rt!==0){var rt=G?n5(C,G):new FormData(C);Lg(g,{pending:!0,data:rt,method:C.method,action:O},null,rt)}}else typeof O=="function"&&(X.preventDefault(),rt=G?n5(C,G):new FormData(C),Lg(g,{pending:!0,data:rt,method:C.method,action:O},O,rt))},currentTarget:C}]})}}for(var o2=0;o2<Ti.length;o2++){var l2=Ti[o2],PB=l2.toLowerCase(),LB=l2[0].toUpperCase()+l2.slice(1);Ga(PB,"on"+LB)}Ga(og,"onAnimationEnd"),Ga(Ha,"onAnimationIteration"),Ga(Uh,"onAnimationStart"),Ga("dblclick","onDoubleClick"),Ga("focusin","onFocus"),Ga("focusout","onBlur"),Ga(Zv,"onTransitionRun"),Ga(Qx,"onTransitionStart"),Ga(lg,"onTransitionCancel"),Ga(Ci,"onTransitionEnd"),so("onMouseEnter",["mouseout","mouseover"]),so("onMouseLeave",["mouseout","mouseover"]),so("onPointerEnter",["pointerout","pointerover"]),so("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $g="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($g));function i5(o,u){u=(u&4)!==0;for(var g=0;g<o.length;g++){var b=o[g],C=b.event;b=b.listeners;t:{var O=void 0;if(u)for(var G=b.length-1;0<=G;G--){var X=b[G],rt=X.instance,gt=X.currentTarget;if(X=X.listener,rt!==O&&C.isPropagationStopped())break t;O=X,C.currentTarget=gt;try{O(C)}catch(wt){Is(wt)}C.currentTarget=null,O=rt}else for(G=0;G<b.length;G++){if(X=b[G],rt=X.instance,gt=X.currentTarget,X=X.listener,rt!==O&&C.isPropagationStopped())break t;O=X,C.currentTarget=gt;try{O(C)}catch(wt){Is(wt)}C.currentTarget=null,O=rt}}}}function Fe(o,u){var g=u[Tu];g===void 0&&(g=u[Tu]=new Set);var b=o+"__bubble";g.has(b)||(a5(u,o,2,!1),g.add(b))}function c2(o,u,g){var b=0;u&&(b|=4),a5(g,o,b,u)}var Vy="_reactListening"+Math.random().toString(36).slice(2);function u2(o){if(!o[Vy]){o[Vy]=!0,ph.forEach(function(g){g!=="selectionchange"&&(kB.has(g)||c2(g,!1,o),c2(g,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[Vy]||(u[Vy]=!0,c2("selectionchange",!1,u))}}function a5(o,u,g,b){switch(R5(u)){case 2:var C=lI;break;case 8:C=cI;break;default:C=E2}g=C.bind(null,u,g,o),C=void 0,!wh||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(C=!0),b?C!==void 0?o.addEventListener(u,g,{capture:!0,passive:C}):o.addEventListener(u,g,!0):C!==void 0?o.addEventListener(u,g,{passive:C}):o.addEventListener(u,g,!1)}function d2(o,u,g,b,C){var O=b;if((u&1)===0&&(u&2)===0&&b!==null)t:for(;;){if(b===null)return;var G=b.tag;if(G===3||G===4){var X=b.stateNode.containerInfo;if(X===C)break;if(G===4)for(G=b.return;G!==null;){var rt=G.tag;if((rt===3||rt===4)&&G.stateNode.containerInfo===C)return;G=G.return}for(;X!==null;){if(G=Dr(X),G===null)return;if(rt=G.tag,rt===5||rt===6||rt===26||rt===27){b=O=G;continue t}X=X.parentNode}}b=b.return}Kp(function(){var gt=O,wt=lo(g),Ct=[];t:{var vt=cg.get(o);if(vt!==void 0){var bt=ku,de=o;switch(o){case"keypress":if(vc(g)===0)break t;case"keydown":case"keyup":bt=Mh;break;case"focusin":de="focus",bt=hl;break;case"focusout":de="blur",bt=hl;break;case"beforeblur":case"afterblur":bt=hl;break;case"click":if(g.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":bt=ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":bt=kv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":bt=Hv;break;case og:case Ha:case Uh:bt=jv;break;case Ci:bt=bi;break;case"scroll":case"scrollend":bt=Kx;break;case"wheel":bt=qv;break;case"copy":case"cut":case"paste":bt=co;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":bt=Dh;break;case"toggle":case"beforetoggle":bt=Yv}var ae=(u&4)!==0,bn=!ae&&(o==="scroll"||o==="scrollend"),ht=ae?vt!==null?vt+"Capture":null:vt;ae=[];for(var ct=gt,pt;ct!==null;){var At=ct;if(pt=At.stateNode,At=At.tag,At!==5&&At!==26&&At!==27||pt===null||ht===null||(At=gc(ct,ht),At!=null&&ae.push(Wg(ct,At,pt))),bn)break;ct=ct.return}0<ae.length&&(vt=new bt(vt,de,null,g,wt),Ct.push({event:vt,listeners:ae}))}}if((u&7)===0){t:{if(vt=o==="mouseover"||o==="pointerover",bt=o==="mouseout"||o==="pointerout",vt&&g!==_h&&(de=g.relatedTarget||g.fromElement)&&(Dr(de)||de[bs]))break t;if((bt||vt)&&(vt=wt.window===wt?wt:(vt=wt.ownerDocument)?vt.defaultView||vt.parentWindow:window,bt?(de=g.relatedTarget||g.toElement,bt=gt,de=de?Dr(de):null,de!==null&&(bn=r(de),ae=de.tag,de!==bn||ae!==5&&ae!==27&&ae!==6)&&(de=null)):(bt=null,de=gt),bt!==de)){if(ae=ju,At="onMouseLeave",ht="onMouseEnter",ct="mouse",(o==="pointerout"||o==="pointerover")&&(ae=Dh,At="onPointerLeave",ht="onPointerEnter",ct="pointer"),bn=bt==null?vt:uc(bt),pt=de==null?vt:uc(de),vt=new ae(At,ct+"leave",bt,g,wt),vt.target=bn,vt.relatedTarget=pt,At=null,Dr(wt)===gt&&(ae=new ae(ht,ct+"enter",de,g,wt),ae.target=pt,ae.relatedTarget=bn,At=ae),bn=At,bt&&de)e:{for(ae=bt,ht=de,ct=0,pt=ae;pt;pt=Sf(pt))ct++;for(pt=0,At=ht;At;At=Sf(At))pt++;for(;0<ct-pt;)ae=Sf(ae),ct--;for(;0<pt-ct;)ht=Sf(ht),pt--;for(;ct--;){if(ae===ht||ht!==null&&ae===ht.alternate)break e;ae=Sf(ae),ht=Sf(ht)}ae=null}else ae=null;bt!==null&&r5(Ct,vt,bt,ae,!1),de!==null&&bn!==null&&r5(Ct,bn,de,ae,!0)}}t:{if(vt=gt?uc(gt):window,bt=vt.nodeName&&vt.nodeName.toLowerCase(),bt==="select"||bt==="input"&&vt.type==="file")var Yt=ra;else if(Lh(vt))if(ig)Yt=Mn;else{Yt=Bh;var Le=Wv}else bt=vt.nodeName,!bt||bt.toLowerCase()!=="input"||vt.type!=="checkbox"&&vt.type!=="radio"?gt&&xh(gt.elementType)&&(Yt=ra):Yt=Iu;if(Yt&&(Yt=Yt(o,gt))){ng(Ct,Yt,g,wt);break t}Le&&Le(o,vt,gt),o==="focusout"&&gt&&vt.type==="number"&&gt.memoizedProps.value!=null&&bh(vt,"number",vt.value)}switch(Le=gt?uc(gt):window,o){case"focusin":(Lh(Le)||Le.contentEditable==="true")&&(vl=Le,zu=gt,wc=null);break;case"focusout":wc=zu=vl=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,Ih(Ct,g,wt);break;case"selectionchange":if(Lr)break;case"keydown":case"keyup":Ih(Ct,g,wt)}var Wt;if(xc)t:{switch(o){case"compositionstart":var oe="onCompositionStart";break t;case"compositionend":oe="onCompositionEnd";break t;case"compositionupdate":oe="onCompositionUpdate";break t}oe=void 0}else uo?Nh(o,g)&&(oe="onCompositionEnd"):o==="keydown"&&g.keyCode===229&&(oe="onCompositionStart");oe&&(Zp&&g.locale!=="ko"&&(uo||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&uo&&(Wt=Xp()):(ws=wt,Nu="value"in ws?ws.value:ws.textContent,uo=!0)),Le=Yy(gt,oe),0<Le.length&&(oe=new Cs(oe,o,null,g,wt),Ct.push({event:oe,listeners:Le}),Wt?oe.data=Wt:(Wt=tg(g),Wt!==null&&(oe.data=Wt)))),(Wt=Xv?Ph(o,g):eg(o,g))&&(oe=Yy(gt,"onBeforeInput"),0<oe.length&&(Le=new Cs("onBeforeInput","beforeinput",null,g,wt),Ct.push({event:Le,listeners:oe}),Le.data=Wt)),NB(Ct,o,gt,g,wt)}i5(Ct,u)})}function Wg(o,u,g){return{instance:o,listener:u,currentTarget:g}}function Yy(o,u){for(var g=u+"Capture",b=[];o!==null;){var C=o,O=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||O===null||(C=gc(o,g),C!=null&&b.unshift(Wg(o,C,O)),C=gc(o,u),C!=null&&b.push(Wg(o,C,O))),o.tag===3)return b;o=o.return}return[]}function Sf(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function r5(o,u,g,b,C){for(var O=u._reactName,G=[];g!==null&&g!==b;){var X=g,rt=X.alternate,gt=X.stateNode;if(X=X.tag,rt!==null&&rt===b)break;X!==5&&X!==26&&X!==27||gt===null||(rt=gt,C?(gt=gc(g,O),gt!=null&&G.unshift(Wg(g,gt,rt))):C||(gt=gc(g,O),gt!=null&&G.push(Wg(g,gt,rt)))),g=g.return}G.length!==0&&o.push({event:u,listeners:G})}var jB=/\r\n?/g,FB=/\u0000|\uFFFD/g;function s5(o){return(typeof o=="string"?o:""+o).replace(jB,`
`).replace(FB,"")}function o5(o,u){return u=s5(u),s5(o)===u}function Ky(){}function yn(o,u,g,b,C,O){switch(g){case"children":typeof b=="string"?u==="body"||u==="textarea"&&b===""||cl(o,b):(typeof b=="number"||typeof b=="bigint")&&u!=="body"&&cl(o,""+b);break;case"className":hc(o,"class",b);break;case"tabIndex":hc(o,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":hc(o,g,b);break;case"style":Yp(o,b,O);break;case"data":if(u!=="object"){hc(o,"data",b);break}case"src":case"href":if(b===""&&(u!=="a"||g!=="href")){o.removeAttribute(g);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){o.removeAttribute(g);break}b=Sh(""+b),o.setAttribute(g,b);break;case"action":case"formAction":if(typeof b=="function"){o.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(g==="formAction"?(u!=="input"&&yn(o,u,"name",C.name,C,null),yn(o,u,"formEncType",C.formEncType,C,null),yn(o,u,"formMethod",C.formMethod,C,null),yn(o,u,"formTarget",C.formTarget,C,null)):(yn(o,u,"encType",C.encType,C,null),yn(o,u,"method",C.method,C,null),yn(o,u,"target",C.target,C,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){o.removeAttribute(g);break}b=Sh(""+b),o.setAttribute(g,b);break;case"onClick":b!=null&&(o.onclick=Ky);break;case"onScroll":b!=null&&Fe("scroll",o);break;case"onScrollEnd":b!=null&&Fe("scrollend",o);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(i(61));if(g=b.__html,g!=null){if(C.children!=null)throw Error(i(60));o.innerHTML=g}}break;case"multiple":o.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":o.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){o.removeAttribute("xlink:href");break}g=Sh(""+b),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?o.setAttribute(g,""+b):o.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?o.setAttribute(g,""):o.removeAttribute(g);break;case"capture":case"download":b===!0?o.setAttribute(g,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?o.setAttribute(g,b):o.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?o.setAttribute(g,b):o.removeAttribute(g);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?o.removeAttribute(g):o.setAttribute(g,b);break;case"popover":Fe("beforetoggle",o),Fe("toggle",o),dc(o,"popover",b);break;case"xlinkActuate":ur(o,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":ur(o,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":ur(o,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":ur(o,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":ur(o,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":ur(o,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":ur(o,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":ur(o,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":ur(o,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":dc(o,"is",b);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Nv.get(g)||g,dc(o,g,b))}}function h2(o,u,g,b,C,O){switch(g){case"style":Yp(o,b,O);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(i(61));if(g=b.__html,g!=null){if(C.children!=null)throw Error(i(60));o.innerHTML=g}}break;case"children":typeof b=="string"?cl(o,b):(typeof b=="number"||typeof b=="bigint")&&cl(o,""+b);break;case"onScroll":b!=null&&Fe("scroll",o);break;case"onScrollEnd":b!=null&&Fe("scrollend",o);break;case"onClick":b!=null&&(o.onclick=Ky);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gh.hasOwnProperty(g))t:{if(g[0]==="o"&&g[1]==="n"&&(C=g.endsWith("Capture"),u=g.slice(2,C?g.length-7:void 0),O=o[Hi]||null,O=O!=null?O[g]:null,typeof O=="function"&&o.removeEventListener(u,O,C),typeof b=="function")){typeof O!="function"&&O!==null&&(g in o?o[g]=null:o.hasAttribute(g)&&o.removeAttribute(g)),o.addEventListener(u,b,C);break t}g in o?o[g]=b:b===!0?o.setAttribute(g,""):dc(o,g,b)}}}function Zi(o,u,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",o),Fe("load",o);var b=!1,C=!1,O;for(O in g)if(g.hasOwnProperty(O)){var G=g[O];if(G!=null)switch(O){case"src":b=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:yn(o,u,O,G,g,null)}}C&&yn(o,u,"srcSet",g.srcSet,g,null),b&&yn(o,u,"src",g.src,g,null);return;case"input":Fe("invalid",o);var X=O=G=C=null,rt=null,gt=null;for(b in g)if(g.hasOwnProperty(b)){var wt=g[b];if(wt!=null)switch(b){case"name":C=wt;break;case"type":G=wt;break;case"checked":rt=wt;break;case"defaultChecked":gt=wt;break;case"value":O=wt;break;case"defaultValue":X=wt;break;case"children":case"dangerouslySetInnerHTML":if(wt!=null)throw Error(i(137,u));break;default:yn(o,u,b,wt,g,null)}}yh(o,O,X,rt,gt,G,C,!1),Mu(o);return;case"select":Fe("invalid",o),b=G=O=null;for(C in g)if(g.hasOwnProperty(C)&&(X=g[C],X!=null))switch(C){case"value":O=X;break;case"defaultValue":G=X;break;case"multiple":b=X;default:yn(o,u,C,X,g,null)}u=O,g=G,o.multiple=!!b,u!=null?pc(o,!!b,u,!1):g!=null&&pc(o,!!b,g,!0);return;case"textarea":Fe("invalid",o),O=C=b=null;for(G in g)if(g.hasOwnProperty(G)&&(X=g[G],X!=null))switch(G){case"value":b=X;break;case"defaultValue":C=X;break;case"children":O=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(91));break;default:yn(o,u,G,X,g,null)}Gp(o,b,C,O),Mu(o);return;case"option":for(rt in g)if(g.hasOwnProperty(rt)&&(b=g[rt],b!=null))switch(rt){case"selected":o.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:yn(o,u,rt,b,g,null)}return;case"dialog":Fe("beforetoggle",o),Fe("toggle",o),Fe("cancel",o),Fe("close",o);break;case"iframe":case"object":Fe("load",o);break;case"video":case"audio":for(b=0;b<$g.length;b++)Fe($g[b],o);break;case"image":Fe("error",o),Fe("load",o);break;case"details":Fe("toggle",o);break;case"embed":case"source":case"link":Fe("error",o),Fe("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(gt in g)if(g.hasOwnProperty(gt)&&(b=g[gt],b!=null))switch(gt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:yn(o,u,gt,b,g,null)}return;default:if(xh(u)){for(wt in g)g.hasOwnProperty(wt)&&(b=g[wt],b!==void 0&&h2(o,u,wt,b,g,void 0));return}}for(X in g)g.hasOwnProperty(X)&&(b=g[X],b!=null&&yn(o,u,X,b,g,null))}function BB(o,u,g,b){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,O=null,G=null,X=null,rt=null,gt=null,wt=null;for(bt in g){var Ct=g[bt];if(g.hasOwnProperty(bt)&&Ct!=null)switch(bt){case"checked":break;case"value":break;case"defaultValue":rt=Ct;default:b.hasOwnProperty(bt)||yn(o,u,bt,null,b,Ct)}}for(var vt in b){var bt=b[vt];if(Ct=g[vt],b.hasOwnProperty(vt)&&(bt!=null||Ct!=null))switch(vt){case"type":O=bt;break;case"name":C=bt;break;case"checked":gt=bt;break;case"defaultChecked":wt=bt;break;case"value":G=bt;break;case"defaultValue":X=bt;break;case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(i(137,u));break;default:bt!==Ct&&yn(o,u,vt,bt,b,Ct)}}vh(o,G,X,rt,gt,wt,O,C);return;case"select":bt=G=X=vt=null;for(O in g)if(rt=g[O],g.hasOwnProperty(O)&&rt!=null)switch(O){case"value":break;case"multiple":bt=rt;default:b.hasOwnProperty(O)||yn(o,u,O,null,b,rt)}for(C in b)if(O=b[C],rt=g[C],b.hasOwnProperty(C)&&(O!=null||rt!=null))switch(C){case"value":vt=O;break;case"defaultValue":X=O;break;case"multiple":G=O;default:O!==rt&&yn(o,u,C,O,b,rt)}u=X,g=G,b=bt,vt!=null?pc(o,!!g,vt,!1):!!b!=!!g&&(u!=null?pc(o,!!g,u,!0):pc(o,!!g,g?[]:"",!1));return;case"textarea":bt=vt=null;for(X in g)if(C=g[X],g.hasOwnProperty(X)&&C!=null&&!b.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:yn(o,u,X,null,b,C)}for(G in b)if(C=b[G],O=g[G],b.hasOwnProperty(G)&&(C!=null||O!=null))switch(G){case"value":vt=C;break;case"defaultValue":bt=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:C!==O&&yn(o,u,G,C,b,O)}Hp(o,vt,bt);return;case"option":for(var de in g)if(vt=g[de],g.hasOwnProperty(de)&&vt!=null&&!b.hasOwnProperty(de))switch(de){case"selected":o.selected=!1;break;default:yn(o,u,de,null,b,vt)}for(rt in b)if(vt=b[rt],bt=g[rt],b.hasOwnProperty(rt)&&vt!==bt&&(vt!=null||bt!=null))switch(rt){case"selected":o.selected=vt&&typeof vt!="function"&&typeof vt!="symbol";break;default:yn(o,u,rt,vt,b,bt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in g)vt=g[ae],g.hasOwnProperty(ae)&&vt!=null&&!b.hasOwnProperty(ae)&&yn(o,u,ae,null,b,vt);for(gt in b)if(vt=b[gt],bt=g[gt],b.hasOwnProperty(gt)&&vt!==bt&&(vt!=null||bt!=null))switch(gt){case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(i(137,u));break;default:yn(o,u,gt,vt,b,bt)}return;default:if(xh(u)){for(var bn in g)vt=g[bn],g.hasOwnProperty(bn)&&vt!==void 0&&!b.hasOwnProperty(bn)&&h2(o,u,bn,void 0,b,vt);for(wt in b)vt=b[wt],bt=g[wt],!b.hasOwnProperty(wt)||vt===bt||vt===void 0&&bt===void 0||h2(o,u,wt,vt,b,bt);return}}for(var ht in g)vt=g[ht],g.hasOwnProperty(ht)&&vt!=null&&!b.hasOwnProperty(ht)&&yn(o,u,ht,null,b,vt);for(Ct in b)vt=b[Ct],bt=g[Ct],!b.hasOwnProperty(Ct)||vt===bt||vt==null&&bt==null||yn(o,u,Ct,vt,b,bt)}var f2=null,p2=null;function Xy(o){return o.nodeType===9?o:o.ownerDocument}function l5(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c5(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function g2(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var m2=null;function IB(){var o=window.event;return o&&o.type==="popstate"?o===m2?!1:(m2=o,!0):(m2=null,!1)}var u5=typeof setTimeout=="function"?setTimeout:void 0,zB=typeof clearTimeout=="function"?clearTimeout:void 0,d5=typeof Promise=="function"?Promise:void 0,UB=typeof queueMicrotask=="function"?queueMicrotask:typeof d5<"u"?function(o){return d5.resolve(null).then(o).catch(HB)}:u5;function HB(o){setTimeout(function(){throw o})}function Wc(o){return o==="head"}function h5(o,u){var g=u,b=0,C=0;do{var O=g.nextSibling;if(o.removeChild(g),O&&O.nodeType===8)if(g=O.data,g==="/$"){if(0<b&&8>b){g=b;var G=o.ownerDocument;if(g&1&&Qg(G.documentElement),g&2&&Qg(G.body),g&4)for(g=G.head,Qg(g),G=g.firstChild;G;){var X=G.nextSibling,rt=G.nodeName;G[Ss]||rt==="SCRIPT"||rt==="STYLE"||rt==="LINK"&&G.rel.toLowerCase()==="stylesheet"||g.removeChild(G),G=X}}if(C===0){o.removeChild(O),rm(u);return}C--}else g==="$"||g==="$?"||g==="$!"?C++:b=g.charCodeAt(0)-48;else b=0;g=O}while(g);rm(u)}function v2(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var g=u;switch(u=u.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":v2(g),Ru(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}o.removeChild(g)}}function GB(o,u,g,b){for(;o.nodeType===1;){var C=g;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!b&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(b){if(!o[Ss])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(O=o.getAttribute("rel"),O==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(O!==C.rel||o.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||o.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||o.getAttribute("title")!==(C.title==null?null:C.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(O=o.getAttribute("src"),(O!==(C.src==null?null:C.src)||o.getAttribute("type")!==(C.type==null?null:C.type)||o.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&O&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var O=C.name==null?null:""+C.name;if(C.type==="hidden"&&o.getAttribute("name")===O)return o}else return o;if(o=Vs(o.nextSibling),o===null)break}return null}function qB(o,u,g){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!g||(o=Vs(o.nextSibling),o===null))return null;return o}function y2(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function VB(o,u){var g=o.ownerDocument;if(o.data!=="$?"||g.readyState==="complete")u();else{var b=function(){u(),g.removeEventListener("DOMContentLoaded",b)};g.addEventListener("DOMContentLoaded",b),o._reactRetry=b}}function Vs(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return o}var b2=null;function f5(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var g=o.data;if(g==="$"||g==="$!"||g==="$?"){if(u===0)return o;u--}else g==="/$"&&u++}o=o.previousSibling}return null}function p5(o,u,g){switch(u=Xy(g),o){case"html":if(o=u.documentElement,!o)throw Error(i(452));return o;case"head":if(o=u.head,!o)throw Error(i(453));return o;case"body":if(o=u.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function Qg(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);Ru(o)}var ts=new Map,g5=new Set;function $y(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Bl=B.d;B.d={f:YB,r:KB,D:XB,C:$B,L:WB,m:QB,X:JB,S:ZB,M:tI};function YB(){var o=Bl.f(),u=Bo();return o||u}function KB(o){var u=Or(o);u!==null&&u.tag===5&&u.type==="form"?Ry(u):Bl.r(o)}var _f=typeof document>"u"?null:document;function m5(o,u,g){var b=_f;if(b&&typeof u=="string"&&u){var C=xa(u);C='link[rel="'+o+'"][href="'+C+'"]',typeof g=="string"&&(C+='[crossorigin="'+g+'"]'),g5.has(C)||(g5.add(C),o={rel:o,crossOrigin:g,href:u},b.querySelector(C)===null&&(u=b.createElement("link"),Zi(u,"link",o),ti(u),b.head.appendChild(u)))}}function XB(o){Bl.D(o),m5("dns-prefetch",o,null)}function $B(o,u){Bl.C(o,u),m5("preconnect",o,u)}function WB(o,u,g){Bl.L(o,u,g);var b=_f;if(b&&o&&u){var C='link[rel="preload"][as="'+xa(u)+'"]';u==="image"&&g&&g.imageSrcSet?(C+='[imagesrcset="'+xa(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(C+='[imagesizes="'+xa(g.imageSizes)+'"]')):C+='[href="'+xa(o)+'"]';var O=C;switch(u){case"style":O=wf(o);break;case"script":O=Ef(o)}ts.has(O)||(o=f({rel:"preload",href:u==="image"&&g&&g.imageSrcSet?void 0:o,as:u},g),ts.set(O,o),b.querySelector(C)!==null||u==="style"&&b.querySelector(Zg(O))||u==="script"&&b.querySelector(Jg(O))||(u=b.createElement("link"),Zi(u,"link",o),ti(u),b.head.appendChild(u)))}}function QB(o,u){Bl.m(o,u);var g=_f;if(g&&o){var b=u&&typeof u.as=="string"?u.as:"script",C='link[rel="modulepreload"][as="'+xa(b)+'"][href="'+xa(o)+'"]',O=C;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=Ef(o)}if(!ts.has(O)&&(o=f({rel:"modulepreload",href:o},u),ts.set(O,o),g.querySelector(C)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Jg(O)))return}b=g.createElement("link"),Zi(b,"link",o),ti(b),g.head.appendChild(b)}}}function ZB(o,u,g){Bl.S(o,u,g);var b=_f;if(b&&o){var C=ol(b).hoistableStyles,O=wf(o);u=u||"default";var G=C.get(O);if(!G){var X={loading:0,preload:null};if(G=b.querySelector(Zg(O)))X.loading=5;else{o=f({rel:"stylesheet",href:o,"data-precedence":u},g),(g=ts.get(O))&&x2(o,g);var rt=G=b.createElement("link");ti(rt),Zi(rt,"link",o),rt._p=new Promise(function(gt,wt){rt.onload=gt,rt.onerror=wt}),rt.addEventListener("load",function(){X.loading|=1}),rt.addEventListener("error",function(){X.loading|=2}),X.loading|=4,Wy(G,u,b)}G={type:"stylesheet",instance:G,count:1,state:X},C.set(O,G)}}}function JB(o,u){Bl.X(o,u);var g=_f;if(g&&o){var b=ol(g).hoistableScripts,C=Ef(o),O=b.get(C);O||(O=g.querySelector(Jg(C)),O||(o=f({src:o,async:!0},u),(u=ts.get(C))&&S2(o,u),O=g.createElement("script"),ti(O),Zi(O,"link",o),g.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},b.set(C,O))}}function tI(o,u){Bl.M(o,u);var g=_f;if(g&&o){var b=ol(g).hoistableScripts,C=Ef(o),O=b.get(C);O||(O=g.querySelector(Jg(C)),O||(o=f({src:o,async:!0,type:"module"},u),(u=ts.get(C))&&S2(o,u),O=g.createElement("script"),ti(O),Zi(O,"link",o),g.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},b.set(C,O))}}function v5(o,u,g,b){var C=(C=ot.current)?$y(C):null;if(!C)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(u=wf(g.href),g=ol(C).hoistableStyles,b=g.get(u),b||(b={type:"style",instance:null,count:0,state:null},g.set(u,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){o=wf(g.href);var O=ol(C).hoistableStyles,G=O.get(o);if(G||(C=C.ownerDocument||C,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(o,G),(O=C.querySelector(Zg(o)))&&!O._p&&(G.instance=O,G.state.loading=5),ts.has(o)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},ts.set(o,g),O||eI(C,o,g,G.state))),u&&b===null)throw Error(i(528,""));return G}if(u&&b!==null)throw Error(i(529,""));return null;case"script":return u=g.async,g=g.src,typeof g=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Ef(g),g=ol(C).hoistableScripts,b=g.get(u),b||(b={type:"script",instance:null,count:0,state:null},g.set(u,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function wf(o){return'href="'+xa(o)+'"'}function Zg(o){return'link[rel="stylesheet"]['+o+"]"}function y5(o){return f({},o,{"data-precedence":o.precedence,precedence:null})}function eI(o,u,g,b){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?b.loading=1:(u=o.createElement("link"),b.preload=u,u.addEventListener("load",function(){return b.loading|=1}),u.addEventListener("error",function(){return b.loading|=2}),Zi(u,"link",g),ti(u),o.head.appendChild(u))}function Ef(o){return'[src="'+xa(o)+'"]'}function Jg(o){return"script[async]"+o}function b5(o,u,g){if(u.count++,u.instance===null)switch(u.type){case"style":var b=o.querySelector('style[data-href~="'+xa(g.href)+'"]');if(b)return u.instance=b,ti(b),b;var C=f({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return b=(o.ownerDocument||o).createElement("style"),ti(b),Zi(b,"style",C),Wy(b,g.precedence,o),u.instance=b;case"stylesheet":C=wf(g.href);var O=o.querySelector(Zg(C));if(O)return u.state.loading|=4,u.instance=O,ti(O),O;b=y5(g),(C=ts.get(C))&&x2(b,C),O=(o.ownerDocument||o).createElement("link"),ti(O);var G=O;return G._p=new Promise(function(X,rt){G.onload=X,G.onerror=rt}),Zi(O,"link",b),u.state.loading|=4,Wy(O,g.precedence,o),u.instance=O;case"script":return O=Ef(g.src),(C=o.querySelector(Jg(O)))?(u.instance=C,ti(C),C):(b=g,(C=ts.get(O))&&(b=f({},g),S2(b,C)),o=o.ownerDocument||o,C=o.createElement("script"),ti(C),Zi(C,"link",b),o.head.appendChild(C),u.instance=C);case"void":return null;default:throw Error(i(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(b=u.instance,u.state.loading|=4,Wy(b,g.precedence,o));return u.instance}function Wy(o,u,g){for(var b=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=b.length?b[b.length-1]:null,O=C,G=0;G<b.length;G++){var X=b[G];if(X.dataset.precedence===u)O=X;else if(O!==C)break}O?O.parentNode.insertBefore(o,O.nextSibling):(u=g.nodeType===9?g.head:g,u.insertBefore(o,u.firstChild))}function x2(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function S2(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var Qy=null;function x5(o,u,g){if(Qy===null){var b=new Map,C=Qy=new Map;C.set(g,b)}else C=Qy,b=C.get(g),b||(b=new Map,C.set(g,b));if(b.has(o))return b;for(b.set(o,null),g=g.getElementsByTagName(o),C=0;C<g.length;C++){var O=g[C];if(!(O[Ss]||O[dn]||o==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var G=O.getAttribute(u)||"";G=o+G;var X=b.get(G);X?X.push(O):b.set(G,[O])}}return b}function S5(o,u,g){o=o.ownerDocument||o,o.head.insertBefore(g,u==="title"?o.querySelector("head > title"):null)}function nI(o,u,g){if(g===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function _5(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var tm=null;function iI(){}function aI(o,u,g){if(tm===null)throw Error(i(475));var b=tm;if(u.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var C=wf(g.href),O=o.querySelector(Zg(C));if(O){o=O._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(b.count++,b=Zy.bind(b),o.then(b,b)),u.state.loading|=4,u.instance=O,ti(O);return}O=o.ownerDocument||o,g=y5(g),(C=ts.get(C))&&x2(g,C),O=O.createElement("link"),ti(O);var G=O;G._p=new Promise(function(X,rt){G.onload=X,G.onerror=rt}),Zi(O,"link",g),u.instance=O}b.stylesheets===null&&(b.stylesheets=new Map),b.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(b.count++,u=Zy.bind(b),o.addEventListener("load",u),o.addEventListener("error",u))}}function rI(){if(tm===null)throw Error(i(475));var o=tm;return o.stylesheets&&o.count===0&&_2(o,o.stylesheets),0<o.count?function(u){var g=setTimeout(function(){if(o.stylesheets&&_2(o,o.stylesheets),o.unsuspend){var b=o.unsuspend;o.unsuspend=null,b()}},6e4);return o.unsuspend=u,function(){o.unsuspend=null,clearTimeout(g)}}:null}function Zy(){if(this.count--,this.count===0){if(this.stylesheets)_2(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Jy=null;function _2(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Jy=new Map,u.forEach(sI,o),Jy=null,Zy.call(o))}function sI(o,u){if(!(u.state.loading&4)){var g=Jy.get(o);if(g)var b=g.get(null);else{g=new Map,Jy.set(o,g);for(var C=o.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<C.length;O++){var G=C[O];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(g.set(G.dataset.precedence,G),b=G)}b&&g.set(null,b)}C=u.instance,G=C.getAttribute("data-precedence"),O=g.get(G)||b,O===b&&g.set(null,C),g.set(G,C),this.count++,b=Zy.bind(this),C.addEventListener("load",b),C.addEventListener("error",b),O?O.parentNode.insertBefore(C,O.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(C,o.firstChild)),u.state.loading|=4}}var em={$$typeof:w,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function oI(o,u,g,b,C,O,G,X){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mr(0),this.hiddenUpdates=Mr(null),this.identifierPrefix=b,this.onUncaughtError=C,this.onCaughtError=O,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function w5(o,u,g,b,C,O,G,X,rt,gt,wt,Ct){return o=new oI(o,u,g,G,X,rt,gt,Ct),u=1,O===!0&&(u|=24),O=sa(3,null,null,u),o.current=O,O.stateNode=o,u=Rc(),u.refCount++,o.pooledCache=u,u.refCount++,O.memoizedState={element:b,isDehydrated:g,cache:u},Qu(O),o}function E5(o){return o?(o=bl,o):bl}function A5(o,u,g,b,C,O){C=E5(C),b.context===null?b.context=C:b.pendingContext=C,b=Gr(u),b.payload={element:g},O=O===void 0?null:O,O!==null&&(b.callback=O),g=Vi(o,b,u),g!==null&&(Wn(g,o,u),Ml(g,o,u))}function C5(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var g=o.retryLane;o.retryLane=g!==0&&g<u?g:u}}function w2(o,u){C5(o,u),(o=o.alternate)&&C5(o,u)}function T5(o){if(o.tag===13){var u=jr(o,67108864);u!==null&&Wn(u,o,67108864),w2(o,67108864)}}var tb=!0;function lI(o,u,g,b){var C=Z.T;Z.T=null;var O=B.p;try{B.p=2,E2(o,u,g,b)}finally{B.p=O,Z.T=C}}function cI(o,u,g,b){var C=Z.T;Z.T=null;var O=B.p;try{B.p=8,E2(o,u,g,b)}finally{B.p=O,Z.T=C}}function E2(o,u,g,b){if(tb){var C=A2(b);if(C===null)d2(o,u,b,eb,g),M5(o,b);else if(dI(C,o,u,g,b))b.stopPropagation();else if(M5(o,b),u&4&&-1<uI.indexOf(o)){for(;C!==null;){var O=Or(C);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var G=Vt(O.pendingLanes);if(G!==0){var X=O;for(X.pendingLanes|=2,X.entangledLanes|=2;G;){var rt=1<<31-Ne(G);X.entanglements[1]|=rt,G&=~rt}Gt(O),(ce&6)===0&&(jl=Ft()+500,an(0))}}break;case 13:X=jr(O,2),X!==null&&Wn(X,O,2),Bo(),w2(O,2)}if(O=A2(b),O===null&&d2(o,u,b,eb,g),O===C)break;C=O}C!==null&&b.stopPropagation()}else d2(o,u,b,null,g)}}function A2(o){return o=lo(o),C2(o)}var eb=null;function C2(o){if(eb=null,o=Dr(o),o!==null){var u=r(o);if(u===null)o=null;else{var g=u.tag;if(g===13){if(o=s(u),o!==null)return o;o=null}else if(g===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return eb=o,null}function R5(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ce()){case cn:return 2;case un:return 8;case Sn:case Zt:return 32;case Me:return 268435456;default:return 32}default:return 32}}var T2=!1,Qc=null,Zc=null,Jc=null,nm=new Map,im=new Map,tu=[],uI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M5(o,u){switch(o){case"focusin":case"focusout":Qc=null;break;case"dragenter":case"dragleave":Zc=null;break;case"mouseover":case"mouseout":Jc=null;break;case"pointerover":case"pointerout":nm.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":im.delete(u.pointerId)}}function am(o,u,g,b,C,O){return o===null||o.nativeEvent!==O?(o={blockedOn:u,domEventName:g,eventSystemFlags:b,nativeEvent:O,targetContainers:[C]},u!==null&&(u=Or(u),u!==null&&T5(u)),o):(o.eventSystemFlags|=b,u=o.targetContainers,C!==null&&u.indexOf(C)===-1&&u.push(C),o)}function dI(o,u,g,b,C){switch(u){case"focusin":return Qc=am(Qc,o,u,g,b,C),!0;case"dragenter":return Zc=am(Zc,o,u,g,b,C),!0;case"mouseover":return Jc=am(Jc,o,u,g,b,C),!0;case"pointerover":var O=C.pointerId;return nm.set(O,am(nm.get(O)||null,o,u,g,b,C)),!0;case"gotpointercapture":return O=C.pointerId,im.set(O,am(im.get(O)||null,o,u,g,b,C)),!0}return!1}function D5(o){var u=Dr(o.target);if(u!==null){var g=r(u);if(g!==null){if(u=g.tag,u===13){if(u=s(g),u!==null){o.blockedOn=u,cc(o.priority,function(){if(g.tag===13){var b=zn();b=oc(b);var C=jr(g,b);C!==null&&Wn(C,g,b),w2(g,b)}});return}}else if(u===3&&g.stateNode.current.memoizedState.isDehydrated){o.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}o.blockedOn=null}function nb(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var g=A2(o.nativeEvent);if(g===null){g=o.nativeEvent;var b=new g.constructor(g.type,g);_h=b,g.target.dispatchEvent(b),_h=null}else return u=Or(g),u!==null&&T5(u),o.blockedOn=g,!1;u.shift()}return!0}function O5(o,u,g){nb(o)&&g.delete(u)}function hI(){T2=!1,Qc!==null&&nb(Qc)&&(Qc=null),Zc!==null&&nb(Zc)&&(Zc=null),Jc!==null&&nb(Jc)&&(Jc=null),nm.forEach(O5),im.forEach(O5)}function ib(o,u){o.blockedOn===u&&(o.blockedOn=null,T2||(T2=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hI)))}var ab=null;function N5(o){ab!==o&&(ab=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ab===o&&(ab=null);for(var u=0;u<o.length;u+=3){var g=o[u],b=o[u+1],C=o[u+2];if(typeof b!="function"){if(C2(b||g)===null)continue;break}var O=Or(g);O!==null&&(o.splice(u,3),u-=3,Lg(O,{pending:!0,data:C,method:g.method,action:b},b,C))}}))}function rm(o){function u(rt){return ib(rt,o)}Qc!==null&&ib(Qc,o),Zc!==null&&ib(Zc,o),Jc!==null&&ib(Jc,o),nm.forEach(u),im.forEach(u);for(var g=0;g<tu.length;g++){var b=tu[g];b.blockedOn===o&&(b.blockedOn=null)}for(;0<tu.length&&(g=tu[0],g.blockedOn===null);)D5(g),g.blockedOn===null&&tu.shift();if(g=(o.ownerDocument||o).$$reactFormReplay,g!=null)for(b=0;b<g.length;b+=3){var C=g[b],O=g[b+1],G=C[Hi]||null;if(typeof O=="function")G||N5(g);else if(G){var X=null;if(O&&O.hasAttribute("formAction")){if(C=O,G=O[Hi]||null)X=G.formAction;else if(C2(C)!==null)continue}else X=G.action;typeof X=="function"?g[b+1]=X:(g.splice(b,3),b-=3),N5(g)}}}function R2(o){this._internalRoot=o}rb.prototype.render=R2.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(i(409));var g=u.current,b=zn();A5(g,b,o,u,null,null)},rb.prototype.unmount=R2.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;A5(o.current,2,null,o,null,null),Bo(),u[bs]=null}};function rb(o){this._internalRoot=o}rb.prototype.unstable_scheduleHydration=function(o){if(o){var u=sl();o={blockedOn:null,target:o,priority:u};for(var g=0;g<tu.length&&u!==0&&u<tu[g].priority;g++);tu.splice(g,0,o),g===0&&D5(o)}};var P5=t.version;if(P5!=="19.1.0")throw Error(i(527,P5,"19.1.0"));B.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=c(u),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var fI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sb.isDisabled&&sb.supportsFiber)try{ie=sb.inject(fI),$t=sb}catch{}}return om.createRoot=function(o,u){if(!a(o))throw Error(i(299));var g=!1,b="",C=Nl,O=ha,G=jy,X=null;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(C=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(G=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(X=u.unstable_transitionCallbacks)),u=w5(o,1,!1,null,null,g,b,C,O,G,X,null),o[bs]=u.current,u2(o),new R2(u)},om.hydrateRoot=function(o,u,g){if(!a(o))throw Error(i(299));var b=!1,C="",O=Nl,G=ha,X=jy,rt=null,gt=null;return g!=null&&(g.unstable_strictMode===!0&&(b=!0),g.identifierPrefix!==void 0&&(C=g.identifierPrefix),g.onUncaughtError!==void 0&&(O=g.onUncaughtError),g.onCaughtError!==void 0&&(G=g.onCaughtError),g.onRecoverableError!==void 0&&(X=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(rt=g.unstable_transitionCallbacks),g.formState!==void 0&&(gt=g.formState)),u=w5(o,1,!0,u,g??null,b,C,O,G,X,rt,gt),u.context=E5(null),g=u.current,b=zn(),b=oc(b),C=Gr(b),C.callback=null,Vi(g,C,b),g=b,u.current.lanes=g,Ui(u,g),Gt(u),o[bs]=u.current,u2(o),new rb(u)},om.version="19.1.0",om}var Y5;function _I(){if(Y5)return N2.exports;Y5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),N2.exports=SI(),N2.exports}var wI=_I();const H7=Tr(wI);var lm={},K5;function EI(){if(K5)return lm;K5=1,Object.defineProperty(lm,"__esModule",{value:!0}),lm.parse=s,lm.serialize=d;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,r=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function s(v,y){const x=new r,_=v.length;if(_<2)return x;const E=y?.decode||f;let R=0;do{const A=v.indexOf("=",R);if(A===-1)break;const w=v.indexOf(";",R),M=w===-1?_:w;if(A>M){R=v.lastIndexOf(";",A-1)+1;continue}const D=l(v,R,A),P=c(v,A,D),z=v.slice(D,P);if(x[z]===void 0){let L=l(v,A+1,M),U=c(v,M,L);const I=E(v.slice(L,U));x[z]=I}R=M+1}while(R<_);return x}function l(v,y,x){do{const _=v.charCodeAt(y);if(_!==32&&_!==9)return y}while(++y<x);return x}function c(v,y,x){for(;y>x;){const _=v.charCodeAt(--y);if(_!==32&&_!==9)return y+1}return x}function d(v,y,x){const _=x?.encode||encodeURIComponent;if(!e.test(v))throw new TypeError(`argument name is invalid: ${v}`);const E=_(y);if(!t.test(E))throw new TypeError(`argument val is invalid: ${y}`);let R=v+"="+E;if(!x)return R;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);R+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);R+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);R+="; Path="+x.path}if(x.expires){if(!m(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);R+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(R+="; HttpOnly"),x.secure&&(R+="; Secure"),x.partitioned&&(R+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return R}function f(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function m(v){return a.call(v)==="[object Date]"}return lm}EI();var X5="popstate";function AI(e={}){function t(i,a){let{pathname:r,search:s,hash:l}=i.location;return KE("",{pathname:r,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:L0(a)}return TI(t,n,null,e)}function Bn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Zs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function CI(){return Math.random().toString(36).substring(2,10)}function $5(e,t){return{usr:e.state,key:e.key,idx:t}}function KE(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?bp(t):t,state:n,key:t&&t.key||i||CI()}}function L0({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function bp(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function TI(e,t,n,i={}){let{window:a=document.defaultView,v5Compat:r=!1}=i,s=a.history,l="POP",c=null,d=f();d==null&&(d=0,s.replaceState({...s.state,idx:d},""));function f(){return(s.state||{idx:null}).idx}function m(){l="POP";let E=f(),R=E==null?null:E-d;d=E,c&&c({action:l,location:_.location,delta:R})}function v(E,R){l="PUSH";let A=KE(_.location,E,R);d=f()+1;let w=$5(A,d),M=_.createHref(A);try{s.pushState(w,"",M)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;a.location.assign(M)}r&&c&&c({action:l,location:_.location,delta:1})}function y(E,R){l="REPLACE";let A=KE(_.location,E,R);d=f();let w=$5(A,d),M=_.createHref(A);s.replaceState(w,"",M),r&&c&&c({action:l,location:_.location,delta:0})}function x(E){return RI(E)}let _={get action(){return l},get location(){return e(a,s)},listen(E){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(X5,m),c=E,()=>{a.removeEventListener(X5,m),c=null}},createHref(E){return t(a,E)},createURL:x,encodeLocation(E){let R=x(E);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:v,replace:y,go(E){return s.go(E)}};return _}function RI(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Bn(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:L0(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function G7(e,t,n="/"){return MI(e,t,n,!1)}function MI(e,t,n,i){let a=typeof t=="string"?bp(t):t,r=Ql(a.pathname||"/",n);if(r==null)return null;let s=q7(e);DI(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let d=UI(r);l=II(s[c],d,i)}return l}function q7(e,t=[],n=[],i=""){let a=(r,s,l)=>{let c={relativePath:l===void 0?r.path||"":l,caseSensitive:r.caseSensitive===!0,childrenIndex:s,route:r};c.relativePath.startsWith("/")&&(Bn(c.relativePath.startsWith(i),`Absolute route path "${c.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(i.length));let d=$l([i,c.relativePath]),f=n.concat(c);r.children&&r.children.length>0&&(Bn(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),q7(r.children,t,f,d)),!(r.path==null&&!r.index)&&t.push({path:d,score:FI(d,r.index),routesMeta:f})};return e.forEach((r,s)=>{if(r.path===""||!r.path?.includes("?"))a(r,s);else for(let l of V7(r.path))a(r,s,l)}),t}function V7(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,a=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return a?[r,""]:[r];let s=V7(i.join("/")),l=[];return l.push(...s.map(c=>c===""?r:[r,c].join("/"))),a&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function DI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:BI(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var OI=/^:[\w-]+$/,NI=3,PI=2,LI=1,kI=10,jI=-2,W5=e=>e==="*";function FI(e,t){let n=e.split("/"),i=n.length;return n.some(W5)&&(i+=jI),t&&(i+=PI),n.filter(a=>!W5(a)).reduce((a,r)=>a+(OI.test(r)?NI:r===""?LI:kI),i)}function BI(e,t){return e.length===t.length&&e.slice(0,-1).every((i,a)=>i===t[a])?e[e.length-1]-t[t.length-1]:0}function II(e,t,n=!1){let{routesMeta:i}=e,a={},r="/",s=[];for(let l=0;l<i.length;++l){let c=i[l],d=l===i.length-1,f=r==="/"?t:t.slice(r.length)||"/",m=Zb({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),v=c.route;if(!m&&d&&n&&!i[i.length-1].route.index&&(m=Zb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!m)return null;Object.assign(a,m.params),s.push({params:a,pathname:$l([r,m.pathname]),pathnameBase:VI($l([r,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(r=$l([r,m.pathnameBase]))}return s}function Zb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=zI(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let r=a[0],s=r.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:i.reduce((d,{paramName:f,isOptional:m},v)=>{if(f==="*"){let x=l[v]||"";s=r.slice(0,r.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[v];return m&&!y?d[f]=void 0:d[f]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:s,pattern:e}}function zI(e,t=!1,n=!0){Zs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(i.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function UI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Zs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ql(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function HI(e,t="/"){let{pathname:n,search:i="",hash:a=""}=typeof e=="string"?bp(e):e;return{pathname:n?n.startsWith("/")?n:GI(n,t):t,search:YI(i),hash:KI(a)}}function GI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function j2(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function gC(e){let t=qI(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function mC(e,t,n,i=!1){let a;typeof e=="string"?a=bp(e):(a={...e},Bn(!a.pathname||!a.pathname.includes("?"),j2("?","pathname","search",a)),Bn(!a.pathname||!a.pathname.includes("#"),j2("#","pathname","hash",a)),Bn(!a.search||!a.search.includes("#"),j2("#","search","hash",a)));let r=e===""||a.pathname==="",s=r?"/":a.pathname,l;if(s==null)l=n;else{let m=t.length-1;if(!i&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),m-=1;a.pathname=v.join("/")}l=m>=0?t[m]:"/"}let c=HI(a,l),d=s&&s!=="/"&&s.endsWith("/"),f=(r||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var $l=e=>e.join("/").replace(/\/\/+/g,"/"),VI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),YI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,KI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function XI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Y7=["POST","PUT","PATCH","DELETE"];new Set(Y7);var $I=["GET",...Y7];new Set($I);var xp=j.createContext(null);xp.displayName="DataRouter";var H1=j.createContext(null);H1.displayName="DataRouterState";var K7=j.createContext({isTransitioning:!1});K7.displayName="ViewTransition";var WI=j.createContext(new Map);WI.displayName="Fetchers";var QI=j.createContext(null);QI.displayName="Await";var to=j.createContext(null);to.displayName="Navigation";var av=j.createContext(null);av.displayName="Location";var fs=j.createContext({outlet:null,matches:[],isDataRoute:!1});fs.displayName="Route";var vC=j.createContext(null);vC.displayName="RouteError";function ZI(e,{relative:t}={}){Bn(Sp(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=j.useContext(to),{hash:a,pathname:r,search:s}=rv(e,{relative:t}),l=r;return n!=="/"&&(l=r==="/"?n:$l([n,r])),i.createHref({pathname:l,search:s,hash:a})}function Sp(){return j.useContext(av)!=null}function _u(){return Bn(Sp(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(av).location}var X7="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $7(e){j.useContext(to).static||j.useLayoutEffect(e)}function eh(){let{isDataRoute:e}=j.useContext(fs);return e?pz():JI()}function JI(){Bn(Sp(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(xp),{basename:t,navigator:n}=j.useContext(to),{matches:i}=j.useContext(fs),{pathname:a}=_u(),r=JSON.stringify(gC(i)),s=j.useRef(!1);return $7(()=>{s.current=!0}),j.useCallback((c,d={})=>{if(Zs(s.current,X7),!s.current)return;if(typeof c=="number"){n.go(c);return}let f=mC(c,JSON.parse(r),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:$l([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,r,a,e])}var tz=j.createContext(null);function ez(e){let t=j.useContext(fs).outlet;return t&&j.createElement(tz.Provider,{value:e},t)}function nz(){let{matches:e}=j.useContext(fs),t=e[e.length-1];return t?t.params:{}}function rv(e,{relative:t}={}){let{matches:n}=j.useContext(fs),{pathname:i}=_u(),a=JSON.stringify(gC(n));return j.useMemo(()=>mC(e,JSON.parse(a),i,t==="path"),[e,a,i,t])}function iz(e,t){return W7(e,t)}function W7(e,t,n,i){Bn(Sp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=j.useContext(to),{matches:r}=j.useContext(fs),s=r[r.length-1],l=s?s.params:{},c=s?s.pathname:"/",d=s?s.pathnameBase:"/",f=s&&s.route;{let R=f&&f.path||"";Q7(c,!f||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let m=_u(),v;if(t){let R=typeof t=="string"?bp(t):t;Bn(d==="/"||R.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${R.pathname}" was given in the \`location\` prop.`),v=R}else v=m;let y=v.pathname||"/",x=y;if(d!=="/"){let R=d.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(R.length).join("/")}let _=G7(e,{pathname:x});Zs(f||_!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Zs(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=lz(_&&_.map(R=>Object.assign({},R,{params:Object.assign({},l,R.params),pathname:$l([d,a.encodeLocation?a.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?d:$l([d,a.encodeLocation?a.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),r,n,i);return t&&E?j.createElement(av.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},E):E}function az(){let e=fz(),t=XI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:r},"ErrorBoundary")," or"," ",j.createElement("code",{style:r},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:a},n):null,s)}var rz=j.createElement(az,null),sz=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?j.createElement(fs.Provider,{value:this.props.routeContext},j.createElement(vC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oz({routeContext:e,match:t,children:n}){let i=j.useContext(xp);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(fs.Provider,{value:e},n)}function lz(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,r=n?.errors;if(r!=null){let c=a.findIndex(d=>d.route.id&&r?.[d.route.id]!==void 0);Bn(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let s=!1,l=-1;if(n)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:f,errors:m}=n,v=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||v){s=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,d,f)=>{let m,v=!1,y=null,x=null;n&&(m=r&&d.route.id?r[d.route.id]:void 0,y=d.route.errorElement||rz,s&&(l<0&&f===0?(Q7("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):l===f&&(v=!0,x=d.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,f+1)),E=()=>{let R;return m?R=y:v?R=x:d.route.Component?R=j.createElement(d.route.Component,null):d.route.element?R=d.route.element:R=c,j.createElement(oz,{match:d,routeContext:{outlet:c,matches:_,isDataRoute:n!=null},children:R})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?j.createElement(sz,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):E()},null)}function yC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cz(e){let t=j.useContext(xp);return Bn(t,yC(e)),t}function uz(e){let t=j.useContext(H1);return Bn(t,yC(e)),t}function dz(e){let t=j.useContext(fs);return Bn(t,yC(e)),t}function bC(e){let t=dz(e),n=t.matches[t.matches.length-1];return Bn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function hz(){return bC("useRouteId")}function fz(){let e=j.useContext(vC),t=uz("useRouteError"),n=bC("useRouteError");return e!==void 0?e:t.errors?.[n]}function pz(){let{router:e}=cz("useNavigate"),t=bC("useNavigate"),n=j.useRef(!1);return $7(()=>{n.current=!0}),j.useCallback(async(a,r={})=>{Zs(n.current,X7),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...r}))},[e,t])}var Q5={};function Q7(e,t,n){!t&&!Q5[e]&&(Q5[e]=!0,Zs(!1,n))}j.memo(gz);function gz({routes:e,future:t,state:n}){return W7(e,void 0,n,t)}function Lb({to:e,replace:t,state:n,relative:i}){Bn(Sp(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext(to);Zs(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=j.useContext(fs),{pathname:s}=_u(),l=eh(),c=mC(e,gC(r),s,i==="path"),d=JSON.stringify(c);return j.useEffect(()=>{l(JSON.parse(d),{replace:t,state:n,relative:i})},[l,d,i,t,n]),null}function Z7(e){return ez(e.context)}function ql(e){Bn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mz({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:a,static:r=!1}){Bn(!Sp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),l=j.useMemo(()=>({basename:s,navigator:a,static:r,future:{}}),[s,a,r]);typeof n=="string"&&(n=bp(n));let{pathname:c="/",search:d="",hash:f="",state:m=null,key:v="default"}=n,y=j.useMemo(()=>{let x=Ql(c,s);return x==null?null:{location:{pathname:x,search:d,hash:f,state:m,key:v},navigationType:i}},[s,c,d,f,m,v,i]);return Zs(y!=null,`<Router basename="${s}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:j.createElement(to.Provider,{value:l},j.createElement(av.Provider,{children:t,value:y}))}function vz({children:e,location:t}){return iz(XE(e),t)}function XE(e,t=[]){let n=[];return j.Children.forEach(e,(i,a)=>{if(!j.isValidElement(i))return;let r=[...t,a];if(i.type===j.Fragment){n.push.apply(n,XE(i.props.children,r));return}Bn(i.type===ql,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let s={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=XE(i.props.children,r)),n.push(s)}),n}var kb="get",jb="application/x-www-form-urlencoded";function G1(e){return e!=null&&typeof e.tagName=="string"}function yz(e){return G1(e)&&e.tagName.toLowerCase()==="button"}function bz(e){return G1(e)&&e.tagName.toLowerCase()==="form"}function xz(e){return G1(e)&&e.tagName.toLowerCase()==="input"}function Sz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _z(e,t){return e.button===0&&(!t||t==="_self")&&!Sz(e)}var ob=null;function wz(){if(ob===null)try{new FormData(document.createElement("form"),0),ob=!1}catch{ob=!0}return ob}var Ez=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function F2(e){return e!=null&&!Ez.has(e)?(Zs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jb}"`),null):e}function Az(e,t){let n,i,a,r,s;if(bz(e)){let l=e.getAttribute("action");i=l?Ql(l,t):null,n=e.getAttribute("method")||kb,a=F2(e.getAttribute("enctype"))||jb,r=new FormData(e)}else if(yz(e)||xz(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(i=c?Ql(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||kb,a=F2(e.getAttribute("formenctype"))||F2(l.getAttribute("enctype"))||jb,r=new FormData(l,e),!wz()){let{name:d,type:f,value:m}=e;if(f==="image"){let v=d?`${d}.`:"";r.append(`${v}x`,"0"),r.append(`${v}y`,"0")}else d&&r.append(d,m)}}else{if(G1(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=kb,i=null,a=jb,s=e}return r&&a==="text/plain"&&(s=r,r=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:r,body:s}}function xC(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function Cz(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Tz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Rz(e,t,n){let i=await Promise.all(e.map(async a=>{let r=t.routes[a.route.id];if(r){let s=await Cz(r,n);return s.links?s.links():[]}return[]}));return Nz(i.flat(1).filter(Tz).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Z5(e,t,n,i,a,r){let s=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,l=(c,d)=>n[d].pathname!==c.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==c.params["*"];return r==="assets"?t.filter((c,d)=>s(c,d)||l(c,d)):r==="data"?t.filter((c,d)=>{let f=i.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(s(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Mz(e,t,{includeHydrateFallback:n}={}){return Dz(e.map(i=>{let a=t.routes[i.route.id];if(!a)return[];let r=[a.module];return a.clientActionModule&&(r=r.concat(a.clientActionModule)),a.clientLoaderModule&&(r=r.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(r=r.concat(a.hydrateFallbackModule)),a.imports&&(r=r.concat(a.imports)),r}).flat(1))}function Dz(e){return[...new Set(e)]}function Oz(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function Nz(e,t){let n=new Set;return new Set(t),e.reduce((i,a)=>{let r=JSON.stringify(Oz(a));return n.has(r)||(n.add(r),i.push({key:r,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Pz=new Set([100,101,204,205]);function Lz(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Ql(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function J7(){let e=j.useContext(xp);return xC(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function kz(){let e=j.useContext(H1);return xC(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var SC=j.createContext(void 0);SC.displayName="FrameworkContext";function tN(){let e=j.useContext(SC);return xC(e,"You must render this element inside a <HydratedRouter> element"),e}function jz(e,t){let n=j.useContext(SC),[i,a]=j.useState(!1),[r,s]=j.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:m}=t,v=j.useRef(null);j.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let _=R=>{R.forEach(A=>{s(A.isIntersecting)})},E=new IntersectionObserver(_,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[e]),j.useEffect(()=>{if(i){let _=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(_)}}},[i]);let y=()=>{a(!0)},x=()=>{a(!1),s(!1)};return n?e!=="intent"?[r,v,{}]:[r,v,{onFocus:cm(l,y),onBlur:cm(c,x),onMouseEnter:cm(d,y),onMouseLeave:cm(f,x),onTouchStart:cm(m,y)}]:[!1,v,{}]}function cm(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Fz({page:e,...t}){let{router:n}=J7(),i=j.useMemo(()=>G7(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?j.createElement(Iz,{page:e,matches:i,...t}):null}function Bz(e){let{manifest:t,routeModules:n}=tN(),[i,a]=j.useState([]);return j.useEffect(()=>{let r=!1;return Rz(e,t,n).then(s=>{r||a(s)}),()=>{r=!0}},[e,t,n]),i}function Iz({page:e,matches:t,...n}){let i=_u(),{manifest:a,routeModules:r}=tN(),{basename:s}=J7(),{loaderData:l,matches:c}=kz(),d=j.useMemo(()=>Z5(e,t,c,a,i,"data"),[e,t,c,a,i]),f=j.useMemo(()=>Z5(e,t,c,a,i,"assets"),[e,t,c,a,i]),m=j.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let x=new Set,_=!1;if(t.forEach(R=>{let A=a.routes[R.route.id];!A||!A.hasLoader||(!d.some(w=>w.route.id===R.route.id)&&R.route.id in l&&r[R.route.id]?.shouldRevalidate||A.hasClientLoader?_=!0:x.add(R.route.id))}),x.size===0)return[];let E=Lz(e,s);return _&&x.size>0&&E.searchParams.set("_routes",t.filter(R=>x.has(R.route.id)).map(R=>R.route.id).join(",")),[E.pathname+E.search]},[s,l,i,a,d,t,e,r]),v=j.useMemo(()=>Mz(f,a),[f,a]),y=Bz(f);return j.createElement(j.Fragment,null,m.map(x=>j.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),v.map(x=>j.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),y.map(({key:x,link:_})=>j.createElement("link",{key:x,..._})))}function zz(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var eN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eN&&(window.__reactRouterVersion="7.6.3")}catch{}function Uz({basename:e,children:t,window:n}){let i=j.useRef();i.current==null&&(i.current=AI({window:n,v5Compat:!0}));let a=i.current,[r,s]=j.useState({action:a.action,location:a.location}),l=j.useCallback(c=>{j.startTransition(()=>s(c))},[s]);return j.useLayoutEffect(()=>a.listen(l),[a,l]),j.createElement(mz,{basename:e,children:t,location:r.location,navigationType:r.action,navigator:a})}var nN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q1=j.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:a,reloadDocument:r,replace:s,state:l,target:c,to:d,preventScrollReset:f,viewTransition:m,...v},y){let{basename:x}=j.useContext(to),_=typeof d=="string"&&nN.test(d),E,R=!1;if(typeof d=="string"&&_&&(E=d,eN))try{let U=new URL(window.location.href),I=d.startsWith("//")?new URL(U.protocol+d):new URL(d),q=Ql(I.pathname,x);I.origin===U.origin&&q!=null?d=q+I.search+I.hash:R=!0}catch{Zs(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=ZI(d,{relative:a}),[w,M,D]=jz(i,v),P=qz(d,{replace:s,state:l,target:c,preventScrollReset:f,relative:a,viewTransition:m});function z(U){t&&t(U),U.defaultPrevented||P(U)}let L=j.createElement("a",{...v,...D,href:E||A,onClick:R||r?t:z,ref:zz(y,M),target:c,"data-discover":!_&&n==="render"?"true":void 0});return w&&!_?j.createElement(j.Fragment,null,L,j.createElement(Fz,{page:A})):L});q1.displayName="Link";var $E=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:a=!1,style:r,to:s,viewTransition:l,children:c,...d},f){let m=rv(s,{relative:d.relative}),v=_u(),y=j.useContext(H1),{navigator:x,basename:_}=j.useContext(to),E=y!=null&&$z(m)&&l===!0,R=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,A=v.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(A=A.toLowerCase(),w=w?w.toLowerCase():null,R=R.toLowerCase()),w&&_&&(w=Ql(w,_)||w);const M=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let D=A===R||!a&&A.startsWith(R)&&A.charAt(M)==="/",P=w!=null&&(w===R||!a&&w.startsWith(R)&&w.charAt(R.length)==="/"),z={isActive:D,isPending:P,isTransitioning:E},L=D?t:void 0,U;typeof i=="function"?U=i(z):U=[i,D?"active":null,P?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let I=typeof r=="function"?r(z):r;return j.createElement(q1,{...d,"aria-current":L,className:U,ref:f,style:I,to:s,viewTransition:l},typeof c=="function"?c(z):c)});$E.displayName="NavLink";var Hz=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:a,state:r,method:s=kb,action:l,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:m,...v},y)=>{let x=Kz(),_=Xz(l,{relative:d}),E=s.toLowerCase()==="get"?"get":"post",R=typeof l=="string"&&nN.test(l),A=w=>{if(c&&c(w),w.defaultPrevented)return;w.preventDefault();let M=w.nativeEvent.submitter,D=M?.getAttribute("formmethod")||s;x(M||w.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:a,state:r,relative:d,preventScrollReset:f,viewTransition:m})};return j.createElement("form",{ref:y,method:E,action:_,onSubmit:i?c:A,...v,"data-discover":!R&&e==="render"?"true":void 0})});Hz.displayName="Form";function Gz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iN(e){let t=j.useContext(xp);return Bn(t,Gz(e)),t}function qz(e,{target:t,replace:n,state:i,preventScrollReset:a,relative:r,viewTransition:s}={}){let l=eh(),c=_u(),d=rv(e,{relative:r});return j.useCallback(f=>{if(_z(f,t)){f.preventDefault();let m=n!==void 0?n:L0(c)===L0(d);l(e,{replace:m,state:i,preventScrollReset:a,relative:r,viewTransition:s})}},[c,l,d,n,i,t,e,a,r,s])}var Vz=0,Yz=()=>`__${String(++Vz)}__`;function Kz(){let{router:e}=iN("useSubmit"),{basename:t}=j.useContext(to),n=hz();return j.useCallback(async(i,a={})=>{let{action:r,method:s,encType:l,formData:c,body:d}=Az(i,t);if(a.navigate===!1){let f=a.fetcherKey||Yz();await e.fetch(f,n,a.action||r,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||s,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||r,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||s,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function Xz(e,{relative:t}={}){let{basename:n}=j.useContext(to),i=j.useContext(fs);Bn(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),r={...rv(e||".",{relative:t})},s=_u();if(e==null){r.search=s.search;let l=new URLSearchParams(r.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let f=l.toString();r.search=f?`?${f}`:""}}return(!e||e===".")&&a.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:$l([n,r.pathname])),L0(r)}function $z(e,t={}){let n=j.useContext(K7);Bn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=iN("useViewTransitionState"),a=rv(e,{relative:t.relative});if(!n.isTransitioning)return!1;let r=Ql(n.currentLocation.pathname,i)||n.currentLocation.pathname,s=Ql(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Zb(a.pathname,s)!=null||Zb(a.pathname,r)!=null}[...Pz];var sv=U7();const Wz=Tr(sv);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zz=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),J5=e=>{const t=Zz(e);return t.charAt(0).toUpperCase()+t.slice(1)},aN=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),Jz=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:r,iconNode:s,...l},c)=>j.createElement("svg",{ref:c,...tU,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:aN("lucide",a),...!r&&!Jz(l)&&{"aria-hidden":"true"},...l},[...s.map(([d,f])=>j.createElement(d,f)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=(e,t)=>{const n=j.forwardRef(({className:i,...a},r)=>j.createElement(eU,{ref:r,iconNode:t,className:aN(`lucide-${Qz(J5(e))}`,`lucide-${e}`,i),...a}));return n.displayName=J5(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],iU=Kt("arrow-down-to-line",nU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],rU=Kt("arrow-down",aU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],oU=Kt("arrow-right",sU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M5 3h14",key:"7usisc"}],["path",{d:"m18 13-6-6-6 6",key:"1kf1n9"}],["path",{d:"M12 7v14",key:"1akyts"}]],cU=Kt("arrow-up-to-line",lU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],dU=Kt("arrow-up",uU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],fU=Kt("banknote",hU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],gU=Kt("bell",pU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],k0=Kt("chevron-down",mU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yU=Kt("chevron-right",vU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Jb=Kt("chevron-up",bU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],t1=Kt("circle-plus",xU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],WE=Kt("circle-user",SU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wU=Kt("circle",_U);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["path",{d:"M11 14h10",key:"1w8e9d"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v1.344",key:"1e62lh"}],["path",{d:"m17 18 4-4-4-4",key:"z2g111"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 1.793-1.113",key:"bjbb7m"}],["rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",key:"ublpy"}]],t4=Kt("clipboard-paste",EU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],CU=Kt("clipboard",AU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],RU=Kt("coffee",TU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],rN=Kt("copy",MU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Fb=Kt("download",DU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],_C=Kt("droplet",OU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],up=Kt("eye-off",NU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vd=Kt("eye",PU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],kU=Kt("facebook",LU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],e4=Kt("file-image",jU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],n4=Kt("file-text",FU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],IU=Kt("grid-3x3",BU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],UU=Kt("hand",zU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],GU=Kt("house",HU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],wC=Kt("image",qU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],sN=Kt("info",VU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],KU=Kt("instagram",YU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],$U=Kt("layers",XU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],j0=Kt("layout-grid",WU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],oN=Kt("loader-circle",QU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],JU=Kt("locate-fixed",ZU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],eH=Kt("lock-open",tH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],i4=Kt("log-in",nH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],e1=Kt("lock",iH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],QE=Kt("log-out",aH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],lN=Kt("mail",rH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],oH=Kt("map-pin",sH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],cH=Kt("menu",lH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],dH=Kt("mouse-pointer-click",uH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]],cN=Kt("paint-bucket",hH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],pH=Kt("pen-tool",fH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],n1=Kt("pencil",gH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],vH=Kt("redo",mH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],a4=Kt("refresh-cw",yH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],uN=Kt("save",bH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dN=Kt("settings",xH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["path",{d:"M22 2 2 22",key:"y4kqgn"}]],_H=Kt("slash",SH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],EH=Kt("square",wH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],CH=Kt("table-2",AH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],EC=Kt("trash-2",TH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],MH=Kt("twitter",RH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],OH=Kt("type",DH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],hN=Kt("undo-2",NH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],LH=Kt("undo",PH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],r4=Kt("user-plus",kH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],s4=Kt("user",jH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],BH=Kt("users",FH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ov=Kt("x",IH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],UH=Kt("zoom-in",zH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],GH=Kt("zoom-out",HH);var _p=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yd=typeof window>"u"||"Deno"in globalThis;function Fa(){}function qH(e,t){return typeof e=="function"?e(t):e}function ZE(e){return typeof e=="number"&&e>=0&&e!==1/0}function fN(e,t){return Math.max(e+(t||0)-Date.now(),0)}function du(e,t){return typeof e=="function"?e(t):e}function ls(e,t){return typeof e=="function"?e(t):e}function o4(e,t){const{type:n="all",exact:i,fetchStatus:a,predicate:r,queryKey:s,stale:l}=e;if(s){if(i){if(t.queryHash!==AC(s,t.options))return!1}else if(!F0(t.queryKey,s))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||r&&!r(t))}function l4(e,t){const{exact:n,status:i,predicate:a,mutationKey:r}=e;if(r){if(!t.options.mutationKey)return!1;if(n){if(Kd(t.options.mutationKey)!==Kd(r))return!1}else if(!F0(t.options.mutationKey,r))return!1}return!(i&&t.state.status!==i||a&&!a(t))}function AC(e,t){return(t?.queryKeyHashFn||Kd)(e)}function Kd(e){return JSON.stringify(e,(t,n)=>JE(n)?Object.keys(n).sort().reduce((i,a)=>(i[a]=n[a],i),{}):n)}function F0(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>F0(e[n],t[n])):!1}function pN(e,t){if(e===t)return e;const n=c4(e)&&c4(t);if(n||JE(e)&&JE(t)){const i=n?e:Object.keys(e),a=i.length,r=n?t:Object.keys(t),s=r.length,l=n?[]:{},c=new Set(i);let d=0;for(let f=0;f<s;f++){const m=n?f:r[f];(!n&&c.has(m)||n)&&e[m]===void 0&&t[m]===void 0?(l[m]=void 0,d++):(l[m]=pN(e[m],t[m]),l[m]===e[m]&&e[m]!==void 0&&d++)}return a===s&&d===a?e:l}return t}function i1(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function c4(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function JE(e){if(!u4(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!u4(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function u4(e){return Object.prototype.toString.call(e)==="[object Object]"}function VH(e){return new Promise(t=>{setTimeout(t,e)})}function tA(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?pN(e,t):t}function YH(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function KH(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var CC=Symbol();function gN(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===CC?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function mN(e,t){return typeof e=="function"?e(...t):!!e}var XH=class extends _p{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!Yd&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},TC=new XH,$H=class extends _p{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!Yd&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#t}},a1=new $H;function eA(){let e,t;const n=new Promise((a,r)=>{e=a,t=r});n.status="pending",n.catch(()=>{});function i(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{i({status:"fulfilled",value:a}),e(a)},n.reject=a=>{i({status:"rejected",reason:a}),t(a)},n}function WH(e){return Math.min(1e3*2**e,3e4)}function vN(e){return(e??"online")==="online"?a1.isOnline():!0}var yN=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function B2(e){return e instanceof yN}function bN(e){let t=!1,n=0,i=!1,a;const r=eA(),s=_=>{i||(v(new yN(_)),e.abort?.())},l=()=>{t=!0},c=()=>{t=!1},d=()=>TC.isFocused()&&(e.networkMode==="always"||a1.isOnline())&&e.canRun(),f=()=>vN(e.networkMode)&&e.canRun(),m=_=>{i||(i=!0,e.onSuccess?.(_),a?.(),r.resolve(_))},v=_=>{i||(i=!0,e.onError?.(_),a?.(),r.reject(_))},y=()=>new Promise(_=>{a=E=>{(i||d())&&_(E)},e.onPause?.()}).then(()=>{a=void 0,i||e.onContinue?.()}),x=()=>{if(i)return;let _;const E=n===0?e.initialPromise:void 0;try{_=E??e.fn()}catch(R){_=Promise.reject(R)}Promise.resolve(_).then(m).catch(R=>{if(i)return;const A=e.retry??(Yd?0:3),w=e.retryDelay??WH,M=typeof w=="function"?w(n,R):w,D=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,R);if(t||!D){v(R);return}n++,e.onFail?.(n,R),VH(M).then(()=>d()?void 0:y()).then(()=>{t?v(R):x()})})};return{promise:r,cancel:s,continue:()=>(a?.(),r),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?x():y().then(x),r)}}var QH=e=>setTimeout(e,0);function ZH(){let e=[],t=0,n=l=>{l()},i=l=>{l()},a=QH;const r=l=>{t?e.push(l):a(()=>{n(l)})},s=()=>{const l=e;e=[],l.length&&a(()=>{i(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||s()}return c},batchCalls:l=>(...c)=>{r(()=>{l(...c)})},schedule:r,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{i=l},setScheduler:l=>{a=l}}}var Ei=ZH(),xN=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ZE(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Yd?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},JH=class extends xN{#t;#e;#n;#i;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=tG(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=tA(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Fa).catch(Fa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>ls(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===CC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>du(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!fN(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,i=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},a=()=>{const c=gN(this.options,t),f=(()=>{const m={client:this.#i,queryKey:this.queryKey,meta:this.meta};return i(m),m})();return this.#o=!1,this.options.persister?this.options.persister(c,f,this):c(f)},s=(()=>{const c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:a};return i(c),c})();this.options.behavior?.onFetch(s,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#s({type:"fetch",meta:s.fetchOptions?.meta});const l=c=>{B2(c)&&c.silent||this.#s({type:"error",error:c}),B2(c)||(this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#r=bN({initialPromise:t?.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:c=>{if(c===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(d){l(d);return}this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:l,onFail:(c,d)=>{this.#s({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#r.start()}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...SN(n.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return B2(i)&&i.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Ei.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function SN(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vN(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function tG(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var eG=class extends _p{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,n){const i=t.queryKey,a=t.queryHash??AC(i,t);let r=this.get(a);return r||(r=new JH({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(r)),r}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ei.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>o4(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>o4(e,n)):t}notify(e){Ei.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Ei.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ei.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},nG=class extends xN{#t;#e;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||_N(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#i({type:"continue"})};this.#n=bN({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(a,r)=>{this.#i({type:"failed",failureCount:a,error:r})},onPause:()=>{this.#i({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",i=!this.#n.canStart();try{if(n)t();else{this.#i({type:"pending",variables:e,isPaused:i}),await this.#e.config.onMutate?.(e,this);const r=await this.options.onMutate?.(e);r!==this.state.context&&this.#i({type:"pending",context:r,variables:e,isPaused:i})}const a=await this.#n.start();return await this.#e.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#e.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#i({type:"success",data:a}),a}catch(a){try{throw await this.#e.config.onError?.(a,e,this.state.context,this),await this.options.onError?.(a,e,this.state.context),await this.#e.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,e,this.state.context),a}finally{this.#i({type:"error",error:a})}}finally{this.#e.runNext(this)}}#i(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Ei.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function _N(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var iG=class extends _p{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,t,n){const i=new nG({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(i),i}add(e){this.#t.add(e);const t=lb(e);if(typeof t=="string"){const n=this.#e.get(t);n?n.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=lb(e);if(typeof t=="string"){const n=this.#e.get(t);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=lb(e);if(typeof t=="string"){const i=this.#e.get(t)?.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){const t=lb(e);return typeof t=="string"?this.#e.get(t)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ei.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>l4(t,n))}findAll(e={}){return this.getAll().filter(t=>l4(e,t))}notify(e){Ei.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Ei.batch(()=>Promise.all(e.map(t=>t.continue().catch(Fa))))}};function lb(e){return e.options.scope?.id}function d4(e){return{onFetch:(t,n)=>{const i=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,r=t.state.data?.pages||[],s=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let f=!1;const m=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},v=gN(t.options,t.fetchOptions),y=async(x,_,E)=>{if(f)return Promise.reject();if(_==null&&x.pages.length)return Promise.resolve(x);const A=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:_,direction:E?"backward":"forward",meta:t.options.meta};return m(P),P})(),w=await v(A),{maxPages:M}=t.options,D=E?KH:YH;return{pages:D(x.pages,w,M),pageParams:D(x.pageParams,_,M)}};if(a&&r.length){const x=a==="backward",_=x?aG:h4,E={pages:r,pageParams:s},R=_(i,E);l=await y(E,R,x)}else{const x=e??r.length;do{const _=c===0?s[0]??i.initialPageParam:h4(i,l);if(c>0&&_==null)break;l=await y(l,_),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=d}}}function h4(e,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function aG(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var rG=class{#t;#e;#n;#i;#r;#a;#o;#s;constructor(e={}){this.#t=e.queryCache||new eG,this.#e=e.mutationCache||new iG,this.#n=e.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=TC.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=a1.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#t.build(this,t),i=n.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(du(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),r=this.#t.get(i.queryHash)?.state.data,s=qH(t,r);if(s!==void 0)return this.#t.build(this,i).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return Ei.batch(()=>this.#t.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;Ei.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#t;return Ei.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},i=Ei.batch(()=>this.#t.findAll(e).map(a=>a.cancel(n)));return Promise.all(i).then(Fa).catch(Fa)}invalidateQueries(e,t={}){return Ei.batch(()=>(this.#t.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},i=Ei.batch(()=>this.#t.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let r=a.fetch(void 0,n);return n.throwOnError||(r=r.catch(Fa)),a.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(i).then(Fa)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#t.build(this,t);return n.isStaleByTime(du(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Fa).catch(Fa)}fetchInfiniteQuery(e){return e.behavior=d4(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Fa).catch(Fa)}ensureInfiniteQueryData(e){return e.behavior=d4(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return a1.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(Kd(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(i=>{F0(e,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(Kd(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(i=>{F0(e,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=AC(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===CC&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},sG=class extends _p{constructor(e,t){super(),this.options=t,this.#t=e,this.#s=null,this.#o=eA(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#n=void 0;#i=void 0;#r;#a;#o;#s;#d;#l;#h;#u;#f;#p;#g=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),f4(this.#e,this.options)?this.#c():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return nA(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return nA(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#_(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ls(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#e.setOptions(this.options),t._defaulted&&!i1(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const i=this.hasListeners();i&&p4(this.#e,n,this.options,t)&&this.#c(),this.updateResult(),i&&(this.#e!==n||ls(this.options.enabled,this.#e)!==ls(t.enabled,this.#e)||du(this.options.staleTime,this.#e)!==du(t.staleTime,this.#e))&&this.#m();const a=this.#v();i&&(this.#e!==n||ls(this.options.enabled,this.#e)!==ls(t.enabled,this.#e)||a!==this.#p)&&this.#y(a)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),n=this.createResult(t,e);return lG(this,n)&&(this.#i=n,this.#a=this.options,this.#r=this.#e.state),n}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),t?.(i),Reflect.get(n,i))})}trackProp(e){this.#g.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),n=this.#t.getQueryCache().build(this.#t,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#c({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#c(e){this.#w();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Fa)),t}#m(){this.#x();const e=du(this.options.staleTime,this.#e);if(Yd||this.#i.isStale||!ZE(e))return;const n=fN(this.#i.dataUpdatedAt,e)+1;this.#u=setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(e){this.#_(),this.#p=e,!(Yd||ls(this.options.enabled,this.#e)===!1||!ZE(this.#p)||this.#p===0)&&(this.#f=setInterval(()=>{(this.options.refetchIntervalInBackground||TC.isFocused())&&this.#c()},this.#p))}#b(){this.#m(),this.#y(this.#v())}#x(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#_(){this.#f&&(clearInterval(this.#f),this.#f=void 0)}createResult(e,t){const n=this.#e,i=this.options,a=this.#i,r=this.#r,s=this.#a,c=e!==n?e.state:this.#n,{state:d}=e;let f={...d},m=!1,v;if(t._optimisticResults){const L=this.hasListeners(),U=!L&&f4(e,t),I=L&&p4(e,n,t,i);(U||I)&&(f={...f,...SN(d.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:x,status:_}=f;v=f.data;let E=!1;if(t.placeholderData!==void 0&&v===void 0&&_==="pending"){let L;a?.isPlaceholderData&&t.placeholderData===s?.placeholderData?(L=a.data,E=!0):L=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,L!==void 0&&(_="success",v=tA(a?.data,L,t),m=!0)}if(t.select&&v!==void 0&&!E)if(a&&v===r?.data&&t.select===this.#d)v=this.#l;else try{this.#d=t.select,v=t.select(v),v=tA(a?.data,v,t),this.#l=v,this.#s=null}catch(L){this.#s=L}this.#s&&(y=this.#s,v=this.#l,x=Date.now(),_="error");const R=f.fetchStatus==="fetching",A=_==="pending",w=_==="error",M=A&&R,D=v!==void 0,z={status:_,fetchStatus:f.fetchStatus,isPending:A,isSuccess:_==="success",isError:w,isInitialLoading:M,isLoading:M,data:v,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:R,isRefetching:R&&!A,isLoadingError:w&&!D,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:w&&D,isStale:RC(e,t),refetch:this.refetch,promise:this.#o,isEnabled:ls(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const L=q=>{z.status==="error"?q.reject(z.error):z.data!==void 0&&q.resolve(z.data)},U=()=>{const q=this.#o=z.promise=eA();L(q)},I=this.#o;switch(I.status){case"pending":e.queryHash===n.queryHash&&L(I);break;case"fulfilled":(z.status==="error"||z.data!==I.value)&&U();break;case"rejected":(z.status!=="error"||z.error!==I.reason)&&U();break}}return z}updateResult(){const e=this.#i,t=this.createResult(this.#e,this.options);if(this.#r=this.#e.state,this.#a=this.options,this.#r.data!==void 0&&(this.#h=this.#e),i1(t,e))return;this.#i=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!this.#g.size)return!0;const r=new Set(a??this.#g);return this.options.throwOnError&&r.add("error"),Object.keys(this.#i).some(s=>{const l=s;return this.#i[l]!==e[l]&&r.has(l)})};this.#C({listeners:n()})}#w(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#C(e){Ei.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#i)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function oG(e,t){return ls(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function f4(e,t){return oG(e,t)||e.state.data!==void 0&&nA(e,t,t.refetchOnMount)}function nA(e,t,n){if(ls(t.enabled,e)!==!1&&du(t.staleTime,e)!=="static"){const i=typeof n=="function"?n(e):n;return i==="always"||i!==!1&&RC(e,t)}return!1}function p4(e,t,n,i){return(e!==t||ls(i.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&RC(e,n)}function RC(e,t){return ls(t.enabled,e)!==!1&&e.isStaleByTime(du(t.staleTime,e))}function lG(e,t){return!i1(e.getCurrentResult(),t)}var cG=class extends _p{#t;#e=void 0;#n;#i;constructor(t,n){super(),this.#t=t,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#t.defaultMutationOptions(t),i1(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Kd(n.mutationKey)!==Kd(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#a(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(t,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??_N();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){Ei.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#e.variables,i=this.#e.context;t?.type==="success"?(this.#i.onSuccess?.(t.data,n,i),this.#i.onSettled?.(t.data,null,n,i)):t?.type==="error"&&(this.#i.onError?.(t.error,n,i),this.#i.onSettled?.(void 0,t.error,n,i))}this.listeners.forEach(n=>{n(this.#e)})})}},wN=j.createContext(void 0),ps=e=>{const t=j.useContext(wN);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},uG=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),F.jsx(wN.Provider,{value:e,children:t})),EN=j.createContext(!1),dG=()=>j.useContext(EN);EN.Provider;function hG(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var fG=j.createContext(hG()),pG=()=>j.useContext(fG),gG=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},mG=e=>{j.useEffect(()=>{e.clearReset()},[e])},vG=({result:e,errorResetBoundary:t,throwOnError:n,query:i,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(a&&e.data===void 0||mN(n,[e.error,i])),yG=e=>{if(e.suspense){const t=i=>i==="static"?i:Math.max(i??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...i)=>t(n(...i)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},bG=(e,t)=>e.isLoading&&e.isFetching&&!t,xG=(e,t)=>e?.suspense&&t.isPending,g4=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function SG(e,t,n){const i=dG(),a=pG(),r=ps(),s=r.defaultQueryOptions(e);r.getDefaultOptions().queries?._experimental_beforeQuery?.(s),s._optimisticResults=i?"isRestoring":"optimistic",yG(s),gG(s,a),mG(a);const l=!r.getQueryCache().get(s.queryHash),[c]=j.useState(()=>new t(r,s)),d=c.getOptimisticResult(s),f=!i&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(m=>{const v=f?c.subscribe(Ei.batchCalls(m)):Fa;return c.updateResult(),v},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(s)},[s,c]),xG(s,d))throw g4(s,c,a);if(vG({result:d,errorResetBoundary:a,throwOnError:s.throwOnError,query:r.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw d.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(s,d),s.experimental_prefetchInRender&&!Yd&&bG(d,i)&&(l?g4(s,c,a):r.getQueryCache().get(s.queryHash)?.promise)?.catch(Fa).finally(()=>{c.updateResult()}),s.notifyOnChangeProps?d:c.trackResult(d)}function lv(e,t){return SG(e,sG)}function eo(e,t){const n=ps(),[i]=j.useState(()=>new cG(n,e));j.useEffect(()=>{i.setOptions(e)},[i,e]);const a=j.useSyncExternalStore(j.useCallback(s=>i.subscribe(Ei.batchCalls(s)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),r=j.useCallback((s,l)=>{i.mutate(s,l).catch(Fa)},[i]);if(a.error&&mN(i.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:r,mutateAsync:a.mutate}}function AN(e,t){return function(){return e.apply(t,arguments)}}const{toString:_G}=Object.prototype,{getPrototypeOf:MC}=Object,{iterator:V1,toStringTag:CN}=Symbol,Y1=(e=>t=>{const n=_G.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),no=e=>(e=e.toLowerCase(),t=>Y1(t)===e),K1=e=>t=>typeof t===e,{isArray:wp}=Array,B0=K1("undefined");function wG(e){return e!==null&&!B0(e)&&e.constructor!==null&&!B0(e.constructor)&&rr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const TN=no("ArrayBuffer");function EG(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&TN(e.buffer),t}const AG=K1("string"),rr=K1("function"),RN=K1("number"),X1=e=>e!==null&&typeof e=="object",CG=e=>e===!0||e===!1,Bb=e=>{if(Y1(e)!=="object")return!1;const t=MC(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(CN in e)&&!(V1 in e)},TG=no("Date"),RG=no("File"),MG=no("Blob"),DG=no("FileList"),OG=e=>X1(e)&&rr(e.pipe),NG=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||rr(e.append)&&((t=Y1(e))==="formdata"||t==="object"&&rr(e.toString)&&e.toString()==="[object FormData]"))},PG=no("URLSearchParams"),[LG,kG,jG,FG]=["ReadableStream","Request","Response","Headers"].map(no),BG=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cv(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,a;if(typeof e!="object"&&(e=[e]),wp(e))for(i=0,a=e.length;i<a;i++)t.call(null,e[i],i,e);else{const r=n?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let l;for(i=0;i<s;i++)l=r[i],t.call(null,e[l],l,e)}}function MN(e,t){t=t.toLowerCase();const n=Object.keys(e);let i=n.length,a;for(;i-- >0;)if(a=n[i],t===a.toLowerCase())return a;return null}const Nd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,DN=e=>!B0(e)&&e!==Nd;function iA(){const{caseless:e}=DN(this)&&this||{},t={},n=(i,a)=>{const r=e&&MN(t,a)||a;Bb(t[r])&&Bb(i)?t[r]=iA(t[r],i):Bb(i)?t[r]=iA({},i):wp(i)?t[r]=i.slice():t[r]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&cv(arguments[i],n);return t}const IG=(e,t,n,{allOwnKeys:i}={})=>(cv(t,(a,r)=>{n&&rr(a)?e[r]=AN(a,n):e[r]=a},{allOwnKeys:i}),e),zG=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),UG=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},HG=(e,t,n,i)=>{let a,r,s;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),r=a.length;r-- >0;)s=a[r],(!i||i(s,e,t))&&!l[s]&&(t[s]=e[s],l[s]=!0);e=n!==!1&&MC(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},GG=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},qG=e=>{if(!e)return null;if(wp(e))return e;let t=e.length;if(!RN(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},VG=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&MC(Uint8Array)),YG=(e,t)=>{const i=(e&&e[V1]).call(e);let a;for(;(a=i.next())&&!a.done;){const r=a.value;t.call(e,r[0],r[1])}},KG=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},XG=no("HTMLFormElement"),$G=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,a){return i.toUpperCase()+a}),m4=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),WG=no("RegExp"),ON=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};cv(n,(a,r)=>{let s;(s=t(a,r,e))!==!1&&(i[r]=s||a)}),Object.defineProperties(e,i)},QG=e=>{ON(e,(t,n)=>{if(rr(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(rr(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ZG=(e,t)=>{const n={},i=a=>{a.forEach(r=>{n[r]=!0})};return wp(e)?i(e):i(String(e).split(t)),n},JG=()=>{},tq=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function eq(e){return!!(e&&rr(e.append)&&e[CN]==="FormData"&&e[V1])}const nq=e=>{const t=new Array(10),n=(i,a)=>{if(X1(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[a]=i;const r=wp(i)?[]:{};return cv(i,(s,l)=>{const c=n(s,a+1);!B0(c)&&(r[l]=c)}),t[a]=void 0,r}}return i};return n(e,0)},iq=no("AsyncFunction"),aq=e=>e&&(X1(e)||rr(e))&&rr(e.then)&&rr(e.catch),NN=((e,t)=>e?setImmediate:t?((n,i)=>(Nd.addEventListener("message",({source:a,data:r})=>{a===Nd&&r===n&&i.length&&i.shift()()},!1),a=>{i.push(a),Nd.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",rr(Nd.postMessage)),rq=typeof queueMicrotask<"u"?queueMicrotask.bind(Nd):typeof process<"u"&&process.nextTick||NN,sq=e=>e!=null&&rr(e[V1]),_t={isArray:wp,isArrayBuffer:TN,isBuffer:wG,isFormData:NG,isArrayBufferView:EG,isString:AG,isNumber:RN,isBoolean:CG,isObject:X1,isPlainObject:Bb,isReadableStream:LG,isRequest:kG,isResponse:jG,isHeaders:FG,isUndefined:B0,isDate:TG,isFile:RG,isBlob:MG,isRegExp:WG,isFunction:rr,isStream:OG,isURLSearchParams:PG,isTypedArray:VG,isFileList:DG,forEach:cv,merge:iA,extend:IG,trim:BG,stripBOM:zG,inherits:UG,toFlatObject:HG,kindOf:Y1,kindOfTest:no,endsWith:GG,toArray:qG,forEachEntry:YG,matchAll:KG,isHTMLForm:XG,hasOwnProperty:m4,hasOwnProp:m4,reduceDescriptors:ON,freezeMethods:QG,toObjectSet:ZG,toCamelCase:$G,noop:JG,toFiniteNumber:tq,findKey:MN,global:Nd,isContextDefined:DN,isSpecCompliantForm:eq,toJSONObject:nq,isAsyncFn:iq,isThenable:aq,setImmediate:NN,asap:rq,isIterable:sq};function xe(e,t,n,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}_t.inherits(xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_t.toJSONObject(this.config),code:this.code,status:this.status}}});const PN=xe.prototype,LN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{LN[e]={value:e}});Object.defineProperties(xe,LN);Object.defineProperty(PN,"isAxiosError",{value:!0});xe.from=(e,t,n,i,a,r)=>{const s=Object.create(PN);return _t.toFlatObject(e,s,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),xe.call(s,e.message,t,n,i,a),s.cause=e,s.name=e.name,r&&Object.assign(s,r),s};const oq=null;function aA(e){return _t.isPlainObject(e)||_t.isArray(e)}function kN(e){return _t.endsWith(e,"[]")?e.slice(0,-2):e}function v4(e,t,n){return e?e.concat(t).map(function(a,r){return a=kN(a),!n&&r?"["+a+"]":a}).join(n?".":""):t}function lq(e){return _t.isArray(e)&&!e.some(aA)}const cq=_t.toFlatObject(_t,{},null,function(t){return/^is[A-Z]/.test(t)});function $1(e,t,n){if(!_t.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=_t.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,E){return!_t.isUndefined(E[_])});const i=n.metaTokens,a=n.visitor||f,r=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&_t.isSpecCompliantForm(t);if(!_t.isFunction(a))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(_t.isDate(x))return x.toISOString();if(_t.isBoolean(x))return x.toString();if(!c&&_t.isBlob(x))throw new xe("Blob is not supported. Use a Buffer instead.");return _t.isArrayBuffer(x)||_t.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function f(x,_,E){let R=x;if(x&&!E&&typeof x=="object"){if(_t.endsWith(_,"{}"))_=i?_:_.slice(0,-2),x=JSON.stringify(x);else if(_t.isArray(x)&&lq(x)||(_t.isFileList(x)||_t.endsWith(_,"[]"))&&(R=_t.toArray(x)))return _=kN(_),R.forEach(function(w,M){!(_t.isUndefined(w)||w===null)&&t.append(s===!0?v4([_],M,r):s===null?_:_+"[]",d(w))}),!1}return aA(x)?!0:(t.append(v4(E,_,r),d(x)),!1)}const m=[],v=Object.assign(cq,{defaultVisitor:f,convertValue:d,isVisitable:aA});function y(x,_){if(!_t.isUndefined(x)){if(m.indexOf(x)!==-1)throw Error("Circular reference detected in "+_.join("."));m.push(x),_t.forEach(x,function(R,A){(!(_t.isUndefined(R)||R===null)&&a.call(t,R,_t.isString(A)?A.trim():A,_,v))===!0&&y(R,_?_.concat(A):[A])}),m.pop()}}if(!_t.isObject(e))throw new TypeError("data must be an object");return y(e),t}function y4(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function DC(e,t){this._pairs=[],e&&$1(e,this,t)}const jN=DC.prototype;jN.append=function(t,n){this._pairs.push([t,n])};jN.toString=function(t){const n=t?function(i){return t.call(this,i,y4)}:y4;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function uq(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function FN(e,t,n){if(!t)return e;const i=n&&n.encode||uq;_t.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let r;if(a?r=a(t,n):r=_t.isURLSearchParams(t)?t.toString():new DC(t,n).toString(i),r){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e}class b4{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){_t.forEach(this.handlers,function(i){i!==null&&t(i)})}}const BN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dq=typeof URLSearchParams<"u"?URLSearchParams:DC,hq=typeof FormData<"u"?FormData:null,fq=typeof Blob<"u"?Blob:null,pq={isBrowser:!0,classes:{URLSearchParams:dq,FormData:hq,Blob:fq},protocols:["http","https","file","blob","url","data"]},OC=typeof window<"u"&&typeof document<"u",rA=typeof navigator=="object"&&navigator||void 0,gq=OC&&(!rA||["ReactNative","NativeScript","NS"].indexOf(rA.product)<0),mq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",vq=OC&&window.location.href||"http://localhost",yq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:OC,hasStandardBrowserEnv:gq,hasStandardBrowserWebWorkerEnv:mq,navigator:rA,origin:vq},Symbol.toStringTag,{value:"Module"})),va={...yq,...pq};function bq(e,t){return $1(e,new va.classes.URLSearchParams,Object.assign({visitor:function(n,i,a,r){return va.isNode&&_t.isBuffer(n)?(this.append(i,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function xq(e){return _t.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Sq(e){const t={},n=Object.keys(e);let i;const a=n.length;let r;for(i=0;i<a;i++)r=n[i],t[r]=e[r];return t}function IN(e){function t(n,i,a,r){let s=n[r++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),c=r>=n.length;return s=!s&&_t.isArray(a)?a.length:s,c?(_t.hasOwnProp(a,s)?a[s]=[a[s],i]:a[s]=i,!l):((!a[s]||!_t.isObject(a[s]))&&(a[s]=[]),t(n,i,a[s],r)&&_t.isArray(a[s])&&(a[s]=Sq(a[s])),!l)}if(_t.isFormData(e)&&_t.isFunction(e.entries)){const n={};return _t.forEachEntry(e,(i,a)=>{t(xq(i),a,n,0)}),n}return null}function _q(e,t,n){if(_t.isString(e))try{return(t||JSON.parse)(e),_t.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const uv={transitional:BN,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const i=n.getContentType()||"",a=i.indexOf("application/json")>-1,r=_t.isObject(t);if(r&&_t.isHTMLForm(t)&&(t=new FormData(t)),_t.isFormData(t))return a?JSON.stringify(IN(t)):t;if(_t.isArrayBuffer(t)||_t.isBuffer(t)||_t.isStream(t)||_t.isFile(t)||_t.isBlob(t)||_t.isReadableStream(t))return t;if(_t.isArrayBufferView(t))return t.buffer;if(_t.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return bq(t,this.formSerializer).toString();if((l=_t.isFileList(t))||i.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return $1(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return r||a?(n.setContentType("application/json",!1),_q(t)):t}],transformResponse:[function(t){const n=this.transitional||uv.transitional,i=n&&n.forcedJSONParsing,a=this.responseType==="json";if(_t.isResponse(t)||_t.isReadableStream(t))return t;if(t&&_t.isString(t)&&(i&&!this.responseType||a)){const s=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(s)throw l.name==="SyntaxError"?xe.from(l,xe.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:va.classes.FormData,Blob:va.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_t.forEach(["delete","get","head","post","put","patch"],e=>{uv.headers[e]={}});const wq=_t.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Eq=e=>{const t={};let n,i,a;return e&&e.split(`
`).forEach(function(s){a=s.indexOf(":"),n=s.substring(0,a).trim().toLowerCase(),i=s.substring(a+1).trim(),!(!n||t[n]&&wq[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},x4=Symbol("internals");function um(e){return e&&String(e).trim().toLowerCase()}function Ib(e){return e===!1||e==null?e:_t.isArray(e)?e.map(Ib):String(e)}function Aq(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const Cq=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function I2(e,t,n,i,a){if(_t.isFunction(i))return i.call(this,t,n);if(a&&(t=n),!!_t.isString(t)){if(_t.isString(i))return t.indexOf(i)!==-1;if(_t.isRegExp(i))return i.test(t)}}function Tq(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function Rq(e,t){const n=_t.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(a,r,s){return this[i].call(this,t,a,r,s)},configurable:!0})})}let sr=class{constructor(t){t&&this.set(t)}set(t,n,i){const a=this;function r(l,c,d){const f=um(c);if(!f)throw new Error("header name must be a non-empty string");const m=_t.findKey(a,f);(!m||a[m]===void 0||d===!0||d===void 0&&a[m]!==!1)&&(a[m||c]=Ib(l))}const s=(l,c)=>_t.forEach(l,(d,f)=>r(d,f,c));if(_t.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(_t.isString(t)&&(t=t.trim())&&!Cq(t))s(Eq(t),n);else if(_t.isObject(t)&&_t.isIterable(t)){let l={},c,d;for(const f of t){if(!_t.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[d=f[0]]=(c=l[d])?_t.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}s(l,n)}else t!=null&&r(n,t,i);return this}get(t,n){if(t=um(t),t){const i=_t.findKey(this,t);if(i){const a=this[i];if(!n)return a;if(n===!0)return Aq(a);if(_t.isFunction(n))return n.call(this,a,i);if(_t.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=um(t),t){const i=_t.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||I2(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let a=!1;function r(s){if(s=um(s),s){const l=_t.findKey(i,s);l&&(!n||I2(i,i[l],l,n))&&(delete i[l],a=!0)}}return _t.isArray(t)?t.forEach(r):r(t),a}clear(t){const n=Object.keys(this);let i=n.length,a=!1;for(;i--;){const r=n[i];(!t||I2(this,this[r],r,t,!0))&&(delete this[r],a=!0)}return a}normalize(t){const n=this,i={};return _t.forEach(this,(a,r)=>{const s=_t.findKey(i,r);if(s){n[s]=Ib(a),delete n[r];return}const l=t?Tq(r):String(r).trim();l!==r&&delete n[r],n[l]=Ib(a),i[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return _t.forEach(this,(i,a)=>{i!=null&&i!==!1&&(n[a]=t&&_t.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(a=>i.set(a)),i}static accessor(t){const i=(this[x4]=this[x4]={accessors:{}}).accessors,a=this.prototype;function r(s){const l=um(s);i[l]||(Rq(a,s),i[l]=!0)}return _t.isArray(t)?t.forEach(r):r(t),this}};sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_t.reduceDescriptors(sr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});_t.freezeMethods(sr);function z2(e,t){const n=this||uv,i=t||n,a=sr.from(i.headers);let r=i.data;return _t.forEach(e,function(l){r=l.call(n,r,a.normalize(),t?t.status:void 0)}),a.normalize(),r}function zN(e){return!!(e&&e.__CANCEL__)}function Ep(e,t,n){xe.call(this,e??"canceled",xe.ERR_CANCELED,t,n),this.name="CanceledError"}_t.inherits(Ep,xe,{__CANCEL__:!0});function UN(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new xe("Request failed with status code "+n.status,[xe.ERR_BAD_REQUEST,xe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Mq(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Dq(e,t){e=e||10;const n=new Array(e),i=new Array(e);let a=0,r=0,s;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),f=i[r];s||(s=d),n[a]=c,i[a]=d;let m=r,v=0;for(;m!==a;)v+=n[m++],m=m%e;if(a=(a+1)%e,a===r&&(r=(r+1)%e),d-s<t)return;const y=f&&d-f;return y?Math.round(v*1e3/y):void 0}}function Oq(e,t){let n=0,i=1e3/t,a,r;const s=(d,f=Date.now())=>{n=f,a=null,r&&(clearTimeout(r),r=null),e.apply(null,d)};return[(...d)=>{const f=Date.now(),m=f-n;m>=i?s(d,f):(a=d,r||(r=setTimeout(()=>{r=null,s(a)},i-m)))},()=>a&&s(a)]}const r1=(e,t,n=3)=>{let i=0;const a=Dq(50,250);return Oq(r=>{const s=r.loaded,l=r.lengthComputable?r.total:void 0,c=s-i,d=a(c),f=s<=l;i=s;const m={loaded:s,total:l,progress:l?s/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&f?(l-s)/d:void 0,event:r,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},n)},S4=(e,t)=>{const n=e!=null;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},_4=e=>(...t)=>_t.asap(()=>e(...t)),Nq=va.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,va.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(va.origin),va.navigator&&/(msie|trident)/i.test(va.navigator.userAgent)):()=>!0,Pq=va.hasStandardBrowserEnv?{write(e,t,n,i,a,r){const s=[e+"="+encodeURIComponent(t)];_t.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),_t.isString(i)&&s.push("path="+i),_t.isString(a)&&s.push("domain="+a),r===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Lq(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function kq(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function HN(e,t,n){let i=!Lq(t);return e&&(i||n==!1)?kq(e,t):t}const w4=e=>e instanceof sr?{...e}:e;function Xd(e,t){t=t||{};const n={};function i(d,f,m,v){return _t.isPlainObject(d)&&_t.isPlainObject(f)?_t.merge.call({caseless:v},d,f):_t.isPlainObject(f)?_t.merge({},f):_t.isArray(f)?f.slice():f}function a(d,f,m,v){if(_t.isUndefined(f)){if(!_t.isUndefined(d))return i(void 0,d,m,v)}else return i(d,f,m,v)}function r(d,f){if(!_t.isUndefined(f))return i(void 0,f)}function s(d,f){if(_t.isUndefined(f)){if(!_t.isUndefined(d))return i(void 0,d)}else return i(void 0,f)}function l(d,f,m){if(m in t)return i(d,f);if(m in e)return i(void 0,d)}const c={url:r,method:r,data:r,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(d,f,m)=>a(w4(d),w4(f),m,!0)};return _t.forEach(Object.keys(Object.assign({},e,t)),function(f){const m=c[f]||a,v=m(e[f],t[f],f);_t.isUndefined(v)&&m!==l||(n[f]=v)}),n}const GN=e=>{const t=Xd({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:r,headers:s,auth:l}=t;t.headers=s=sr.from(s),t.url=FN(HN(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(_t.isFormData(n)){if(va.hasStandardBrowserEnv||va.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[d,...f]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];s.setContentType([d||"multipart/form-data",...f].join("; "))}}if(va.hasStandardBrowserEnv&&(i&&_t.isFunction(i)&&(i=i(t)),i||i!==!1&&Nq(t.url))){const d=a&&r&&Pq.read(r);d&&s.set(a,d)}return t},jq=typeof XMLHttpRequest<"u",Fq=jq&&function(e){return new Promise(function(n,i){const a=GN(e);let r=a.data;const s=sr.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,f,m,v,y,x;function _(){y&&y(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(f),a.signal&&a.signal.removeEventListener("abort",f)}let E=new XMLHttpRequest;E.open(a.method.toUpperCase(),a.url,!0),E.timeout=a.timeout;function R(){if(!E)return;const w=sr.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),D={data:!l||l==="text"||l==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:w,config:e,request:E};UN(function(z){n(z),_()},function(z){i(z),_()},D),E=null}"onloadend"in E?E.onloadend=R:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(R)},E.onabort=function(){E&&(i(new xe("Request aborted",xe.ECONNABORTED,e,E)),E=null)},E.onerror=function(){i(new xe("Network Error",xe.ERR_NETWORK,e,E)),E=null},E.ontimeout=function(){let M=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const D=a.transitional||BN;a.timeoutErrorMessage&&(M=a.timeoutErrorMessage),i(new xe(M,D.clarifyTimeoutError?xe.ETIMEDOUT:xe.ECONNABORTED,e,E)),E=null},r===void 0&&s.setContentType(null),"setRequestHeader"in E&&_t.forEach(s.toJSON(),function(M,D){E.setRequestHeader(D,M)}),_t.isUndefined(a.withCredentials)||(E.withCredentials=!!a.withCredentials),l&&l!=="json"&&(E.responseType=a.responseType),d&&([v,x]=r1(d,!0),E.addEventListener("progress",v)),c&&E.upload&&([m,y]=r1(c),E.upload.addEventListener("progress",m),E.upload.addEventListener("loadend",y)),(a.cancelToken||a.signal)&&(f=w=>{E&&(i(!w||w.type?new Ep(null,e,E):w),E.abort(),E=null)},a.cancelToken&&a.cancelToken.subscribe(f),a.signal&&(a.signal.aborted?f():a.signal.addEventListener("abort",f)));const A=Mq(a.url);if(A&&va.protocols.indexOf(A)===-1){i(new xe("Unsupported protocol "+A+":",xe.ERR_BAD_REQUEST,e));return}E.send(r||null)})},Bq=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let i=new AbortController,a;const r=function(d){if(!a){a=!0,l();const f=d instanceof Error?d:this.reason;i.abort(f instanceof xe?f:new Ep(f instanceof Error?f.message:f))}};let s=t&&setTimeout(()=>{s=null,r(new xe(`timeout ${t} of ms exceeded`,xe.ETIMEDOUT))},t);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(r):d.removeEventListener("abort",r)}),e=null)};e.forEach(d=>d.addEventListener("abort",r));const{signal:c}=i;return c.unsubscribe=()=>_t.asap(l),c}},Iq=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let i=0,a;for(;i<n;)a=i+t,yield e.slice(i,a),i=a},zq=async function*(e,t){for await(const n of Uq(e))yield*Iq(n,t)},Uq=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:i}=await t.read();if(n)break;yield i}}finally{await t.cancel()}},E4=(e,t,n,i)=>{const a=zq(e,t);let r=0,s,l=c=>{s||(s=!0,i&&i(c))};return new ReadableStream({async pull(c){try{const{done:d,value:f}=await a.next();if(d){l(),c.close();return}let m=f.byteLength;if(n){let v=r+=m;n(v)}c.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},W1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",qN=W1&&typeof ReadableStream=="function",Hq=W1&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),VN=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Gq=qN&&VN(()=>{let e=!1;const t=new Request(va.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),A4=64*1024,sA=qN&&VN(()=>_t.isReadableStream(new Response("").body)),s1={stream:sA&&(e=>e.body)};W1&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!s1[t]&&(s1[t]=_t.isFunction(e[t])?n=>n[t]():(n,i)=>{throw new xe(`Response type '${t}' is not supported`,xe.ERR_NOT_SUPPORT,i)})})})(new Response);const qq=async e=>{if(e==null)return 0;if(_t.isBlob(e))return e.size;if(_t.isSpecCompliantForm(e))return(await new Request(va.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(_t.isArrayBufferView(e)||_t.isArrayBuffer(e))return e.byteLength;if(_t.isURLSearchParams(e)&&(e=e+""),_t.isString(e))return(await Hq(e)).byteLength},Vq=async(e,t)=>{const n=_t.toFiniteNumber(e.getContentLength());return n??qq(t)},Yq=W1&&(async e=>{let{url:t,method:n,data:i,signal:a,cancelToken:r,timeout:s,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:f,withCredentials:m="same-origin",fetchOptions:v}=GN(e);d=d?(d+"").toLowerCase():"text";let y=Bq([a,r&&r.toAbortSignal()],s),x;const _=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let E;try{if(c&&Gq&&n!=="get"&&n!=="head"&&(E=await Vq(f,i))!==0){let D=new Request(t,{method:"POST",body:i,duplex:"half"}),P;if(_t.isFormData(i)&&(P=D.headers.get("content-type"))&&f.setContentType(P),D.body){const[z,L]=S4(E,r1(_4(c)));i=E4(D.body,A4,z,L)}}_t.isString(m)||(m=m?"include":"omit");const R="credentials"in Request.prototype;x=new Request(t,{...v,signal:y,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:i,duplex:"half",credentials:R?m:void 0});let A=await fetch(x,v);const w=sA&&(d==="stream"||d==="response");if(sA&&(l||w&&_)){const D={};["status","statusText","headers"].forEach(U=>{D[U]=A[U]});const P=_t.toFiniteNumber(A.headers.get("content-length")),[z,L]=l&&S4(P,r1(_4(l),!0))||[];A=new Response(E4(A.body,A4,z,()=>{L&&L(),_&&_()}),D)}d=d||"text";let M=await s1[_t.findKey(s1,d)||"text"](A,e);return!w&&_&&_(),await new Promise((D,P)=>{UN(D,P,{data:M,headers:sr.from(A.headers),status:A.status,statusText:A.statusText,config:e,request:x})})}catch(R){throw _&&_(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new xe("Network Error",xe.ERR_NETWORK,e,x),{cause:R.cause||R}):xe.from(R,R&&R.code,e,x)}}),oA={http:oq,xhr:Fq,fetch:Yq};_t.forEach(oA,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const C4=e=>`- ${e}`,Kq=e=>_t.isFunction(e)||e===null||e===!1,YN={getAdapter:e=>{e=_t.isArray(e)?e:[e];const{length:t}=e;let n,i;const a={};for(let r=0;r<t;r++){n=e[r];let s;if(i=n,!Kq(n)&&(i=oA[(s=String(n)).toLowerCase()],i===void 0))throw new xe(`Unknown adapter '${s}'`);if(i)break;a[s||"#"+r]=i}if(!i){const r=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=t?r.length>1?`since :
`+r.map(C4).join(`
`):" "+C4(r[0]):"as no adapter specified";throw new xe("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i},adapters:oA};function U2(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ep(null,e)}function T4(e){return U2(e),e.headers=sr.from(e.headers),e.data=z2.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),YN.getAdapter(e.adapter||uv.adapter)(e).then(function(i){return U2(e),i.data=z2.call(e,e.transformResponse,i),i.headers=sr.from(i.headers),i},function(i){return zN(i)||(U2(e),i&&i.response&&(i.response.data=z2.call(e,e.transformResponse,i.response),i.response.headers=sr.from(i.response.headers))),Promise.reject(i)})}const KN="1.10.0",Q1={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Q1[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const R4={};Q1.transitional=function(t,n,i){function a(r,s){return"[Axios v"+KN+"] Transitional option '"+r+"'"+s+(i?". "+i:"")}return(r,s,l)=>{if(t===!1)throw new xe(a(s," has been removed"+(n?" in "+n:"")),xe.ERR_DEPRECATED);return n&&!R4[s]&&(R4[s]=!0,console.warn(a(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(r,s,l):!0}};Q1.spelling=function(t){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function Xq(e,t,n){if(typeof e!="object")throw new xe("options must be an object",xe.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let a=i.length;for(;a-- >0;){const r=i[a],s=t[r];if(s){const l=e[r],c=l===void 0||s(l,r,e);if(c!==!0)throw new xe("option "+r+" must be "+c,xe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new xe("Unknown option "+r,xe.ERR_BAD_OPTION)}}const zb={assertOptions:Xq,validators:Q1},Vo=zb.validators;let Ud=class{constructor(t){this.defaults=t||{},this.interceptors={request:new b4,response:new b4}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const r=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}catch{}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Xd(this.defaults,n);const{transitional:i,paramsSerializer:a,headers:r}=n;i!==void 0&&zb.assertOptions(i,{silentJSONParsing:Vo.transitional(Vo.boolean),forcedJSONParsing:Vo.transitional(Vo.boolean),clarifyTimeoutError:Vo.transitional(Vo.boolean)},!1),a!=null&&(_t.isFunction(a)?n.paramsSerializer={serialize:a}:zb.assertOptions(a,{encode:Vo.function,serialize:Vo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),zb.assertOptions(n,{baseUrl:Vo.spelling("baseURL"),withXsrfToken:Vo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=r&&_t.merge(r.common,r[n.method]);r&&_t.forEach(["delete","get","head","post","put","patch","common"],x=>{delete r[x]}),n.headers=sr.concat(s,r);const l=[];let c=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(c=c&&_.synchronous,l.unshift(_.fulfilled,_.rejected))});const d=[];this.interceptors.response.forEach(function(_){d.push(_.fulfilled,_.rejected)});let f,m=0,v;if(!c){const x=[T4.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,d),v=x.length,f=Promise.resolve(n);m<v;)f=f.then(x[m++],x[m++]);return f}v=l.length;let y=n;for(m=0;m<v;){const x=l[m++],_=l[m++];try{y=x(y)}catch(E){_.call(this,E);break}}try{f=T4.call(this,y)}catch(x){return Promise.reject(x)}for(m=0,v=d.length;m<v;)f=f.then(d[m++],d[m++]);return f}getUri(t){t=Xd(this.defaults,t);const n=HN(t.baseURL,t.url,t.allowAbsoluteUrls);return FN(n,t.params,t.paramsSerializer)}};_t.forEach(["delete","get","head","options"],function(t){Ud.prototype[t]=function(n,i){return this.request(Xd(i||{},{method:t,url:n,data:(i||{}).data}))}});_t.forEach(["post","put","patch"],function(t){function n(i){return function(r,s,l){return this.request(Xd(l||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:s}))}}Ud.prototype[t]=n(),Ud.prototype[t+"Form"]=n(!0)});let $q=class XN{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const i=this;this.promise.then(a=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](a);i._listeners=null}),this.promise.then=a=>{let r;const s=new Promise(l=>{i.subscribe(l),r=l}).then(a);return s.cancel=function(){i.unsubscribe(r)},s},t(function(r,s,l){i.reason||(i.reason=new Ep(r,s,l),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=i=>{t.abort(i)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new XN(function(a){t=a}),cancel:t}}};function Wq(e){return function(n){return e.apply(null,n)}}function Qq(e){return _t.isObject(e)&&e.isAxiosError===!0}const lA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lA).forEach(([e,t])=>{lA[t]=e});function $N(e){const t=new Ud(e),n=AN(Ud.prototype.request,t);return _t.extend(n,Ud.prototype,t,{allOwnKeys:!0}),_t.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return $N(Xd(e,a))},n}const si=$N(uv);si.Axios=Ud;si.CanceledError=Ep;si.CancelToken=$q;si.isCancel=zN;si.VERSION=KN;si.toFormData=$1;si.AxiosError=xe;si.Cancel=si.CanceledError;si.all=function(t){return Promise.all(t)};si.spread=Wq;si.isAxiosError=Qq;si.mergeConfig=Xd;si.AxiosHeaders=sr;si.formToJSON=e=>IN(_t.isHTMLForm(e)?new FormData(e):e);si.getAdapter=YN.getAdapter;si.HttpStatusCode=lA;si.default=si;const{Axios:syt,AxiosError:oyt,CanceledError:lyt,isCancel:cyt,CancelToken:uyt,VERSION:dyt,all:hyt,Cancel:fyt,isAxiosError:pyt,spread:gyt,toFormData:myt,AxiosHeaders:vyt,HttpStatusCode:yyt,formToJSON:byt,getAdapter:xyt,mergeConfig:Syt}=si,WN="http://localhost:8055",Bi=si.create({baseURL:WN});Bi.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Bi.interceptors.response.use(e=>e,e=>(e.response&&e.response.status===401&&(localStorage.removeItem("access_token"),window.location.pathname!=="/login"&&(window.location.href="/login")),Promise.reject(e)));const Zq=({email:e,password:t})=>Bi.post("/auth/login",{email:e,password:t}),Jq=({email:e,password:t,first_name:n,last_name:i})=>Bi.post("/users/register",{email:e,password:t,first_name:n,last_name:i}),tV=()=>Bi.get("/users/me?fields=id,first_name,last_name,email,avatar"),M4=e=>{let t;const n=new Set,i=(d,f)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const v=t;t=f??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(y=>y(t,v))}},a=()=>t,l={setState:i,getState:a,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d))},c=t=e(i,a,l);return l},eV=e=>e?M4(e):M4,nV=e=>e;function iV(e,t=nV){const n=Y.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return Y.useDebugValue(n),n}const D4=e=>{const t=eV(e),n=i=>iV(t,i);return Object.assign(n,t),n},QN=e=>e?D4(e):D4,dp=QN(e=>({user:null,setUser:t=>e({user:t}),clearUser:()=>e({user:null})}));function aV(){const e=ps();return eo({mutationFn:Zq,onSuccess:t=>{localStorage.setItem("access_token",t.data.data.access_token),e.invalidateQueries({queryKey:["me"]})}})}function rV(){return eo({mutationFn:Jq})}function sV(){const e=dp(n=>n.setUser),t=lv({queryKey:["me"],queryFn:tV,select:n=>n.data.data,retry:!1,enabled:!!localStorage.getItem("access_token")});return j.useEffect(()=>{t.data&&e(t.data)},[t.data,e]),t}const NC=j.createContext({});function PC(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const LC=typeof window<"u",ZN=LC?j.useLayoutEffect:j.useEffect,Z1=j.createContext(null);function kC(e,t){e.indexOf(t)===-1&&e.push(t)}function jC(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Zl=(e,t,n)=>n>t?t:n<e?e:n;let FC=()=>{};const Jl={},JN=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function tP(e){return typeof e=="object"&&e!==null}const eP=e=>/^0[^.\s]+$/u.test(e);function BC(e){let t;return()=>(t===void 0&&(t=e()),t)}const us=e=>e,oV=(e,t)=>n=>t(e(n)),dv=(...e)=>e.reduce(oV),I0=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class IC{constructor(){this.subscriptions=[]}add(t){return kC(this.subscriptions,t),()=>jC(this.subscriptions,t)}notify(t,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,i);else for(let r=0;r<a;r++){const s=this.subscriptions[r];s&&s(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zo=e=>e*1e3,Jo=e=>e/1e3;function nP(e,t){return t?e*(1e3/t):0}const iP=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,lV=1e-7,cV=12;function uV(e,t,n,i,a){let r,s,l=0;do s=t+(n-t)/2,r=iP(s,i,a)-e,r>0?n=s:t=s;while(Math.abs(r)>lV&&++l<cV);return s}function hv(e,t,n,i){if(e===t&&n===i)return us;const a=r=>uV(r,0,1,e,n);return r=>r===0||r===1?r:iP(a(r),t,i)}const aP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,rP=e=>t=>1-e(1-t),sP=hv(.33,1.53,.69,.99),zC=rP(sP),oP=aP(zC),lP=e=>(e*=2)<1?.5*zC(e):.5*(2-Math.pow(2,-10*(e-1))),UC=e=>1-Math.sin(Math.acos(e)),cP=rP(UC),uP=aP(UC),dV=hv(.42,0,1,1),hV=hv(0,0,.58,1),dP=hv(.42,0,.58,1),fV=e=>Array.isArray(e)&&typeof e[0]!="number",hP=e=>Array.isArray(e)&&typeof e[0]=="number",pV={linear:us,easeIn:dV,easeInOut:dP,easeOut:hV,circIn:UC,circInOut:uP,circOut:cP,backIn:zC,backInOut:oP,backOut:sP,anticipate:lP},gV=e=>typeof e=="string",O4=e=>{if(hP(e)){FC(e.length===4);const[t,n,i,a]=e;return hv(t,n,i,a)}else if(gV(e))return pV[e];return e},cb=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function mV(e,t){let n=new Set,i=new Set,a=!1,r=!1;const s=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){s.has(f)&&(d.schedule(f),e()),f(l)}const d={schedule:(f,m=!1,v=!1)=>{const x=v&&a?n:i;return m&&s.add(f),x.has(f)||x.add(f),f},cancel:f=>{i.delete(f),s.delete(f)},process:f=>{if(l=f,a){r=!0;return}a=!0,[n,i]=[i,n],n.forEach(c),n.clear(),a=!1,r&&(r=!1,d.process(f))}};return d}const vV=40;function fP(e,t){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,s=cb.reduce((w,M)=>(w[M]=mV(r),w),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:f,update:m,preRender:v,render:y,postRender:x}=s,_=()=>{const w=Jl.useManualTiming?a.timestamp:performance.now();n=!1,Jl.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(w-a.timestamp,vV),1)),a.timestamp=w,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),f.process(a),m.process(a),v.process(a),y.process(a),x.process(a),a.isProcessing=!1,n&&t&&(i=!1,e(_))},E=()=>{n=!0,i=!0,a.isProcessing||e(_)};return{schedule:cb.reduce((w,M)=>{const D=s[M];return w[M]=(P,z=!1,L=!1)=>(n||E(),D.schedule(P,z,L)),w},{}),cancel:w=>{for(let M=0;M<cb.length;M++)s[cb[M]].cancel(w)},state:a,steps:s}}const{schedule:Fn,cancel:gu,state:ea,steps:H2}=fP(typeof requestAnimationFrame<"u"?requestAnimationFrame:us,!0);let Ub;function yV(){Ub=void 0}const ar={now:()=>(Ub===void 0&&ar.set(ea.isProcessing||Jl.useManualTiming?ea.timestamp:performance.now()),Ub),set:e=>{Ub=e,queueMicrotask(yV)}},pP=e=>t=>typeof t=="string"&&t.startsWith(e),HC=pP("--"),bV=pP("var(--"),GC=e=>bV(e)?xV.test(e.split("/*")[0].trim()):!1,xV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ap={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},z0={...Ap,transform:e=>Zl(0,1,e)},ub={...Ap,default:1},_0=e=>Math.round(e*1e5)/1e5,qC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SV(e){return e==null}const _V=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,VC=(e,t)=>n=>!!(typeof n=="string"&&_V.test(n)&&n.startsWith(e)||t&&!SV(n)&&Object.prototype.hasOwnProperty.call(n,t)),gP=(e,t,n)=>i=>{if(typeof i!="string")return i;const[a,r,s,l]=i.match(qC);return{[e]:parseFloat(a),[t]:parseFloat(r),[n]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},wV=e=>Zl(0,255,e),G2={...Ap,transform:e=>Math.round(wV(e))},Pd={test:VC("rgb","red"),parse:gP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+G2.transform(e)+", "+G2.transform(t)+", "+G2.transform(n)+", "+_0(z0.transform(i))+")"};function EV(e){let t="",n="",i="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const cA={test:VC("#"),parse:EV,transform:Pd.transform},fv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),iu=fv("deg"),tl=fv("%"),he=fv("px"),AV=fv("vh"),CV=fv("vw"),N4={...tl,parse:e=>tl.parse(e)/100,transform:e=>tl.transform(e*100)},tp={test:VC("hsl","hue"),parse:gP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+tl.transform(_0(t))+", "+tl.transform(_0(n))+", "+_0(z0.transform(i))+")"},gi={test:e=>Pd.test(e)||cA.test(e)||tp.test(e),parse:e=>Pd.test(e)?Pd.parse(e):tp.test(e)?tp.parse(e):cA.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Pd.transform(e):tp.transform(e),getAnimatableNone:e=>{const t=gi.parse(e);return t.alpha=0,gi.transform(t)}},TV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function RV(e){return isNaN(e)&&typeof e=="string"&&(e.match(qC)?.length||0)+(e.match(TV)?.length||0)>0}const mP="number",vP="color",MV="var",DV="var(",P4="${}",OV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function U0(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},a=[];let r=0;const l=t.replace(OV,c=>(gi.test(c)?(i.color.push(r),a.push(vP),n.push(gi.parse(c))):c.startsWith(DV)?(i.var.push(r),a.push(MV),n.push(c)):(i.number.push(r),a.push(mP),n.push(parseFloat(c))),++r,P4)).split(P4);return{values:n,split:l,indexes:i,types:a}}function yP(e){return U0(e).values}function bP(e){const{split:t,types:n}=U0(e),i=t.length;return a=>{let r="";for(let s=0;s<i;s++)if(r+=t[s],a[s]!==void 0){const l=n[s];l===mP?r+=_0(a[s]):l===vP?r+=gi.transform(a[s]):r+=a[s]}return r}}const NV=e=>typeof e=="number"?0:gi.test(e)?gi.getAnimatableNone(e):e;function PV(e){const t=yP(e);return bP(e)(t.map(NV))}const mu={test:RV,parse:yP,createTransformer:bP,getAnimatableNone:PV};function q2(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function LV({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let a=0,r=0,s=0;if(!t)a=r=s=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;a=q2(c,l,e+1/3),r=q2(c,l,e),s=q2(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(r*255),blue:Math.round(s*255),alpha:i}}function o1(e,t){return n=>n>0?t:e}const qn=(e,t,n)=>e+(t-e)*n,V2=(e,t,n)=>{const i=e*e,a=n*(t*t-i)+i;return a<0?0:Math.sqrt(a)},kV=[cA,Pd,tp],jV=e=>kV.find(t=>t.test(e));function L4(e){const t=jV(e);if(!t)return!1;let n=t.parse(e);return t===tp&&(n=LV(n)),n}const k4=(e,t)=>{const n=L4(e),i=L4(t);if(!n||!i)return o1(e,t);const a={...n};return r=>(a.red=V2(n.red,i.red,r),a.green=V2(n.green,i.green,r),a.blue=V2(n.blue,i.blue,r),a.alpha=qn(n.alpha,i.alpha,r),Pd.transform(a))},uA=new Set(["none","hidden"]);function FV(e,t){return uA.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function BV(e,t){return n=>qn(e,t,n)}function YC(e){return typeof e=="number"?BV:typeof e=="string"?GC(e)?o1:gi.test(e)?k4:UV:Array.isArray(e)?xP:typeof e=="object"?gi.test(e)?k4:IV:o1}function xP(e,t){const n=[...e],i=n.length,a=e.map((r,s)=>YC(r)(r,t[s]));return r=>{for(let s=0;s<i;s++)n[s]=a[s](r);return n}}function IV(e,t){const n={...e,...t},i={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(i[a]=YC(e[a])(e[a],t[a]));return a=>{for(const r in i)n[r]=i[r](a);return n}}function zV(e,t){const n=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const r=t.types[a],s=e.indexes[r][i[r]],l=e.values[s]??0;n[a]=l,i[r]++}return n}const UV=(e,t)=>{const n=mu.createTransformer(t),i=U0(e),a=U0(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?uA.has(e)&&!a.values.length||uA.has(t)&&!i.values.length?FV(e,t):dv(xP(zV(i,a),a.values),n):o1(e,t)};function SP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?qn(e,t,n):YC(e)(e,t)}const HV=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Fn.update(t,n),stop:()=>gu(t),now:()=>ea.isProcessing?ea.timestamp:ar.now()}},_P=(e,t,n=10)=>{let i="";const a=Math.max(Math.round(t/n),2);for(let r=0;r<a;r++)i+=Math.round(e(r/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},l1=2e4;function KC(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<l1;)t+=n,i=e.next(t);return t>=l1?1/0:t}function GV(e,t=100,n){const i=n({...e,keyframes:[0,t]}),a=Math.min(KC(i),l1);return{type:"keyframes",ease:r=>i.next(a*r).value/t,duration:Jo(a)}}const qV=5;function wP(e,t,n){const i=Math.max(t-qV,0);return nP(n-e(i),t-i)}const Qn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Y2=.001;function VV({duration:e=Qn.duration,bounce:t=Qn.bounce,velocity:n=Qn.velocity,mass:i=Qn.mass}){let a,r,s=1-t;s=Zl(Qn.minDamping,Qn.maxDamping,s),e=Zl(Qn.minDuration,Qn.maxDuration,Jo(e)),s<1?(a=d=>{const f=d*s,m=f*e,v=f-n,y=dA(d,s),x=Math.exp(-m);return Y2-v/y*x},r=d=>{const m=d*s*e,v=m*n+n,y=Math.pow(s,2)*Math.pow(d,2)*e,x=Math.exp(-m),_=dA(Math.pow(d,2),s);return(-a(d)+Y2>0?-1:1)*((v-y)*x)/_}):(a=d=>{const f=Math.exp(-d*e),m=(d-n)*e+1;return-Y2+f*m},r=d=>{const f=Math.exp(-d*e),m=(n-d)*(e*e);return f*m});const l=5/e,c=KV(a,r,l);if(e=Zo(e),isNaN(c))return{stiffness:Qn.stiffness,damping:Qn.damping,duration:e};{const d=Math.pow(c,2)*i;return{stiffness:d,damping:s*2*Math.sqrt(i*d),duration:e}}}const YV=12;function KV(e,t,n){let i=n;for(let a=1;a<YV;a++)i=i-e(i)/t(i);return i}function dA(e,t){return e*Math.sqrt(1-t*t)}const XV=["duration","bounce"],$V=["stiffness","damping","mass"];function j4(e,t){return t.some(n=>e[n]!==void 0)}function WV(e){let t={velocity:Qn.velocity,stiffness:Qn.stiffness,damping:Qn.damping,mass:Qn.mass,isResolvedFromDuration:!1,...e};if(!j4(e,$V)&&j4(e,XV))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,r=2*Zl(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Qn.mass,stiffness:a,damping:r}}else{const n=VV(e);t={...t,...n,mass:Qn.mass},t.isResolvedFromDuration=!0}return t}function c1(e=Qn.visualDuration,t=Qn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:a}=n;const r=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],l={done:!1,value:r},{stiffness:c,damping:d,mass:f,duration:m,velocity:v,isResolvedFromDuration:y}=WV({...n,velocity:-Jo(n.velocity||0)}),x=v||0,_=d/(2*Math.sqrt(c*f)),E=s-r,R=Jo(Math.sqrt(c/f)),A=Math.abs(E)<5;i||(i=A?Qn.restSpeed.granular:Qn.restSpeed.default),a||(a=A?Qn.restDelta.granular:Qn.restDelta.default);let w;if(_<1){const D=dA(R,_);w=P=>{const z=Math.exp(-_*R*P);return s-z*((x+_*R*E)/D*Math.sin(D*P)+E*Math.cos(D*P))}}else if(_===1)w=D=>s-Math.exp(-R*D)*(E+(x+R*E)*D);else{const D=R*Math.sqrt(_*_-1);w=P=>{const z=Math.exp(-_*R*P),L=Math.min(D*P,300);return s-z*((x+_*R*E)*Math.sinh(L)+D*E*Math.cosh(L))/D}}const M={calculatedDuration:y&&m||null,next:D=>{const P=w(D);if(y)l.done=D>=m;else{let z=D===0?x:0;_<1&&(z=D===0?Zo(x):wP(w,D,P));const L=Math.abs(z)<=i,U=Math.abs(s-P)<=a;l.done=L&&U}return l.value=l.done?s:P,l},toString:()=>{const D=Math.min(KC(M),l1),P=_P(z=>M.next(D*z).value,D,30);return D+"ms "+P},toTransition:()=>{}};return M}c1.applyToOptions=e=>{const t=GV(e,100,c1);return e.ease=t.ease,e.duration=Zo(t.duration),e.type="keyframes",e};function hA({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:r=500,modifyTarget:s,min:l,max:c,restDelta:d=.5,restSpeed:f}){const m=e[0],v={done:!1,value:m},y=L=>l!==void 0&&L<l||c!==void 0&&L>c,x=L=>l===void 0?c:c===void 0||Math.abs(l-L)<Math.abs(c-L)?l:c;let _=n*t;const E=m+_,R=s===void 0?E:s(E);R!==E&&(_=R-m);const A=L=>-_*Math.exp(-L/i),w=L=>R+A(L),M=L=>{const U=A(L),I=w(L);v.done=Math.abs(U)<=d,v.value=v.done?R:I};let D,P;const z=L=>{y(v.value)&&(D=L,P=c1({keyframes:[v.value,x(v.value)],velocity:wP(w,L,v.value),damping:a,stiffness:r,restDelta:d,restSpeed:f}))};return z(0),{calculatedDuration:null,next:L=>{let U=!1;return!P&&D===void 0&&(U=!0,M(L),z(L)),D!==void 0&&L>=D?P.next(L-D):(!U&&M(L),v)}}}function QV(e,t,n){const i=[],a=n||Jl.mix||SP,r=e.length-1;for(let s=0;s<r;s++){let l=a(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]||us:t;l=dv(c,l)}i.push(l)}return i}function ZV(e,t,{clamp:n=!0,ease:i,mixer:a}={}){const r=e.length;if(FC(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=QV(t,i,a),c=l.length,d=f=>{if(s&&f<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(f<e[m+1]);m++);const v=I0(e[m],e[m+1],f);return l[m](v)};return n?f=>d(Zl(e[0],e[r-1],f)):d}function JV(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const a=I0(0,t,i);e.push(qn(n,1,a))}}function tY(e){const t=[0];return JV(t,e.length-1),t}function eY(e,t){return e.map(n=>n*t)}function nY(e,t){return e.map(()=>t||dP).splice(0,e.length-1)}function w0({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const a=fV(i)?i.map(O4):O4(i),r={done:!1,value:t[0]},s=eY(n&&n.length===t.length?n:tY(t),e),l=ZV(s,t,{ease:Array.isArray(a)?a:nY(t,a)});return{calculatedDuration:e,next:c=>(r.value=l(c),r.done=c>=e,r)}}const iY=e=>e!==null;function XC(e,{repeat:t,repeatType:n="loop"},i,a=1){const r=e.filter(iY),l=a<0||t&&n!=="loop"&&t%2===1?0:r.length-1;return!l||i===void 0?r[l]:i}const aY={decay:hA,inertia:hA,tween:w0,keyframes:w0,spring:c1};function EP(e){typeof e.type=="string"&&(e.type=aY[e.type])}class $C{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const rY=e=>e/100;class WC extends $C{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==ar.now()&&this.tick(ar.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;EP(t);const{type:n=w0,repeat:i=0,repeatDelay:a=0,repeatType:r,velocity:s=0}=t;let{keyframes:l}=t;const c=n||w0;c!==w0&&typeof l[0]!="number"&&(this.mixKeyframes=dv(rY,SP(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});r==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-s})),d.calculatedDuration===null&&(d.calculatedDuration=KC(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:a,mixKeyframes:r,mirroredGenerator:s,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:f,repeat:m,repeatType:v,repeatDelay:y,type:x,onUpdate:_,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const R=this.currentTime-d*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?R<0:R>a;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,M=i;if(m){const L=Math.min(this.currentTime,a)/l;let U=Math.floor(L),I=L%1;!I&&L>=1&&(I=1),I===1&&U--,U=Math.min(U,m+1),!!(U%2)&&(v==="reverse"?(I=1-I,y&&(I-=y/l)):v==="mirror"&&(M=s)),w=Zl(0,1,I)*l}const D=A?{done:!1,value:f[0]}:M.next(w);r&&(D.value=r(D.value));let{done:P}=D;!A&&c!==null&&(P=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return z&&x!==hA&&(D.value=XC(f,this.options,E,this.speed)),_&&_(D.value),z&&this.finish(),D}then(t,n){return this.finished.then(t,n)}get duration(){return Jo(this.calculatedDuration)}get time(){return Jo(this.currentTime)}set time(t){t=Zo(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ar.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Jo(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=HV,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ar.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function sY(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ld=e=>e*180/Math.PI,fA=e=>{const t=Ld(Math.atan2(e[1],e[0]));return pA(t)},oY={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:fA,rotateZ:fA,skewX:e=>Ld(Math.atan(e[1])),skewY:e=>Ld(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},pA=e=>(e=e%360,e<0&&(e+=360),e),F4=fA,B4=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),I4=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),lY={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:B4,scaleY:I4,scale:e=>(B4(e)+I4(e))/2,rotateX:e=>pA(Ld(Math.atan2(e[6],e[5]))),rotateY:e=>pA(Ld(Math.atan2(-e[2],e[0]))),rotateZ:F4,rotate:F4,skewX:e=>Ld(Math.atan(e[4])),skewY:e=>Ld(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function gA(e){return e.includes("scale")?1:0}function mA(e,t){if(!e||e==="none")return gA(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=lY,a=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=oY,a=l}if(!a)return gA(t);const r=i[t],s=a[1].split(",").map(uY);return typeof r=="function"?r(s):s[r]}const cY=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return mA(n,t)};function uY(e){return parseFloat(e.trim())}const Cp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tp=new Set(Cp),z4=e=>e===Ap||e===he,dY=new Set(["x","y","z"]),hY=Cp.filter(e=>!dY.has(e));function fY(e){const t=[];return hY.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Hd={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>mA(t,"x"),y:(e,{transform:t})=>mA(t,"y")};Hd.translateX=Hd.x;Hd.translateY=Hd.y;const Gd=new Set;let vA=!1,yA=!1,bA=!1;function AP(){if(yA){const e=Array.from(Gd).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const a=fY(i);a.length&&(n.set(i,a),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([r,s])=>{i.getValue(r)?.set(s)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}yA=!1,vA=!1,Gd.forEach(e=>e.complete(bA)),Gd.clear()}function CP(){Gd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(yA=!0)})}function pY(){bA=!0,CP(),AP(),bA=!1}class QC{constructor(t,n,i,a,r,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=a,this.element=r,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Gd.add(this),vA||(vA=!0,Fn.read(CP),Fn.resolveKeyframes(AP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:a}=this;if(t[0]===null){const r=a?.get(),s=t[t.length-1];if(r!==void 0)t[0]=r;else if(i&&n){const l=i.readValue(n,s);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=s),a&&r===void 0&&a.set(t[0])}sY(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Gd.delete(this)}cancel(){this.state==="scheduled"&&(Gd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const gY=e=>e.startsWith("--");function mY(e,t,n){gY(t)?e.style.setProperty(t,n):e.style[t]=n}const vY=BC(()=>window.ScrollTimeline!==void 0),yY={};function bY(e,t){const n=BC(e);return()=>yY[t]??n()}const TP=bY(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),c0=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,U4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:c0([0,.65,.55,1]),circOut:c0([.55,0,1,.45]),backIn:c0([.31,.01,.66,-.59]),backOut:c0([.33,1.53,.69,.99])};function RP(e,t){if(e)return typeof e=="function"?TP()?_P(e,t):"ease-out":hP(e)?c0(e):Array.isArray(e)?e.map(n=>RP(n,t)||U4.easeOut):U4[e]}function xY(e,t,n,{delay:i=0,duration:a=300,repeat:r=0,repeatType:s="loop",ease:l="easeOut",times:c}={},d=void 0){const f={[t]:n};c&&(f.offset=c);const m=RP(l,a);Array.isArray(m)&&(f.easing=m);const v={delay:i,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:r+1,direction:s==="reverse"?"alternate":"normal"};return d&&(v.pseudoElement=d),e.animate(f,v)}function MP(e){return typeof e=="function"&&"applyToOptions"in e}function SY({type:e,...t}){return MP(e)&&TP()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class _Y extends $C{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:a,pseudoElement:r,allowFlatten:s=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!r,this.allowFlatten=s,this.options=t,FC(typeof t.type!="string");const d=SY(t);this.animation=xY(n,i,a,d,r),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const f=XC(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):mY(n,i,f),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Jo(Number(t))}get time(){return Jo(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Zo(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&vY()?(this.animation.timeline=t,us):n(this)}}const DP={anticipate:lP,backInOut:oP,circInOut:uP};function wY(e){return e in DP}function EY(e){typeof e.ease=="string"&&wY(e.ease)&&(e.ease=DP[e.ease])}const H4=10;class AY extends _Y{constructor(t){EY(t),EP(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:a,element:r,...s}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new WC({...s,autoplay:!1}),c=Zo(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-H4).value,l.sample(c).value,H4),l.stop()}}const G4=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(mu.test(e)||e==="0")&&!e.startsWith("url("));function CY(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function TY(e,t,n,i){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const r=e[e.length-1],s=G4(a,t),l=G4(r,t);return!s||!l?!1:CY(e)||(n==="spring"||MP(n))&&i}const RY=new Set(["opacity","clipPath","filter","transform"]),MY=BC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function DY(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:a,damping:r,type:s}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return MY()&&n&&RY.has(n)&&(n!=="transform"||!d)&&!c&&!i&&a!=="mirror"&&r!==0&&s!=="inertia"}const OY=40;class NY extends $C{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:r=0,repeatType:s="loop",keyframes:l,name:c,motionValue:d,element:f,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ar.now();const v={autoplay:t,delay:n,type:i,repeat:a,repeatDelay:r,repeatType:s,name:c,motionValue:d,element:f,...m},y=f?.KeyframeResolver||QC;this.keyframeResolver=new y(l,(x,_,E)=>this.onKeyframesResolved(x,_,v,!E),c,d,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,a){this.keyframeResolver=void 0;const{name:r,type:s,velocity:l,delay:c,isHandoff:d,onUpdate:f}=i;this.resolvedAt=ar.now(),TY(t,r,s,l)||((Jl.instantAnimations||!c)&&f?.(XC(t,i,n)),t[0]=t[t.length-1],i.duration=0,i.repeat=0);const v={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>OY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},y=!d&&DY(v)?new AY({...v,element:v.motionValue.owner.current}):new WC(v);y.finished.then(()=>this.notifyFinished()).catch(us),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),pY()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const PY=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function LY(e){const t=PY.exec(e);if(!t)return[,];const[,n,i,a]=t;return[`--${n??i}`,a]}function OP(e,t,n=1){const[i,a]=LY(e);if(!i)return;const r=window.getComputedStyle(t).getPropertyValue(i);if(r){const s=r.trim();return JN(s)?parseFloat(s):s}return GC(a)?OP(a,t,n+1):a}function ZC(e,t){return e?.[t]??e?.default??e}const NP=new Set(["width","height","top","left","right","bottom",...Cp]),kY={test:e=>e==="auto",parse:e=>e},PP=e=>t=>t.test(e),LP=[Ap,he,tl,iu,CV,AV,kY],q4=e=>LP.find(PP(e));function jY(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||eP(e):!0}const FY=new Set(["brightness","contrast","saturate","opacity"]);function BY(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(qC)||[];if(!i)return e;const a=n.replace(i,"");let r=FY.has(t)?1:0;return i!==n&&(r*=100),t+"("+r+a+")"}const IY=/\b([a-z-]*)\(.*?\)/gu,xA={...mu,getAnimatableNone:e=>{const t=e.match(IY);return t?t.map(BY).join(" "):e}},V4={...Ap,transform:Math.round},zY={rotate:iu,rotateX:iu,rotateY:iu,rotateZ:iu,scale:ub,scaleX:ub,scaleY:ub,scaleZ:ub,skew:iu,skewX:iu,skewY:iu,distance:he,translateX:he,translateY:he,translateZ:he,x:he,y:he,z:he,perspective:he,transformPerspective:he,opacity:z0,originX:N4,originY:N4,originZ:he},JC={borderWidth:he,borderTopWidth:he,borderRightWidth:he,borderBottomWidth:he,borderLeftWidth:he,borderRadius:he,radius:he,borderTopLeftRadius:he,borderTopRightRadius:he,borderBottomRightRadius:he,borderBottomLeftRadius:he,width:he,maxWidth:he,height:he,maxHeight:he,top:he,right:he,bottom:he,left:he,padding:he,paddingTop:he,paddingRight:he,paddingBottom:he,paddingLeft:he,margin:he,marginTop:he,marginRight:he,marginBottom:he,marginLeft:he,backgroundPositionX:he,backgroundPositionY:he,...zY,zIndex:V4,fillOpacity:z0,strokeOpacity:z0,numOctaves:V4},UY={...JC,color:gi,backgroundColor:gi,outlineColor:gi,fill:gi,stroke:gi,borderColor:gi,borderTopColor:gi,borderRightColor:gi,borderBottomColor:gi,borderLeftColor:gi,filter:xA,WebkitFilter:xA},kP=e=>UY[e];function jP(e,t){let n=kP(e);return n!==xA&&(n=mu),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const HY=new Set(["auto","none","0"]);function GY(e,t,n){let i=0,a;for(;i<e.length&&!a;){const r=e[i];typeof r=="string"&&!HY.has(r)&&U0(r).values.length&&(a=e[i]),i++}if(a&&n)for(const r of t)e[r]=jP(n,a)}class qY extends QC{constructor(t,n,i,a,r){super(t,n,i,a,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),GC(d))){const f=OP(d,n.current);f!==void 0&&(t[c]=f),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!NP.has(i)||t.length!==2)return;const[a,r]=t,s=q4(a),l=q4(r);if(s!==l)if(z4(s)&&z4(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else Hd[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let a=0;a<t.length;a++)(t[a]===null||jY(t[a]))&&i.push(a);i.length&&GY(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hd[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const r=i.length-1,s=i[r];i[r]=Hd[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function VY(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const a=n?.[e]??i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const FP=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function BP(e){return tP(e)&&"offsetHeight"in e}const Y4=30,YY=e=>!isNaN(parseFloat(e));class KY{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,a=!0)=>{const r=ar.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty();a&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ar.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=YY(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new IC);const i=this.events[t].add(n);return t==="change"?()=>{i(),Fn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ar.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Y4)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Y4);return nP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hp(e,t){return new KY(e,t)}const{schedule:t3}=fP(queueMicrotask,!1),Ks={x:!1,y:!1};function IP(){return Ks.x||Ks.y}function XY(e){return e==="x"||e==="y"?Ks[e]?null:(Ks[e]=!0,()=>{Ks[e]=!1}):Ks.x||Ks.y?null:(Ks.x=Ks.y=!0,()=>{Ks.x=Ks.y=!1})}function zP(e,t){const n=VY(e),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[n,a,()=>i.abort()]}function K4(e){return!(e.pointerType==="touch"||IP())}function $Y(e,t,n={}){const[i,a,r]=zP(e,n),s=l=>{if(!K4(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const f=m=>{K4(m)&&(d(m),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,a)};return i.forEach(l=>{l.addEventListener("pointerenter",s,a)}),r}const UP=(e,t)=>t?e===t?!0:UP(e,t.parentElement):!1,e3=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,WY=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function QY(e){return WY.has(e.tagName)||e.tabIndex!==-1}const Hb=new WeakSet;function X4(e){return t=>{t.key==="Enter"&&e(t)}}function K2(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ZY=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=X4(()=>{if(Hb.has(n))return;K2(n,"down");const a=X4(()=>{K2(n,"up")}),r=()=>K2(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",r,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function $4(e){return e3(e)&&!IP()}function JY(e,t,n={}){const[i,a,r]=zP(e,n),s=l=>{const c=l.currentTarget;if(!$4(l))return;Hb.add(c);const d=t(c,l),f=(y,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",v),Hb.has(c)&&Hb.delete(c),$4(y)&&typeof d=="function"&&d(y,{success:x})},m=y=>{f(y,c===window||c===document||n.useGlobalTarget||UP(c,y.target))},v=y=>{f(y,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",v,a)};return i.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",s,a),BP(l)&&(l.addEventListener("focus",d=>ZY(d,a)),!QY(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),r}function HP(e){return tP(e)&&"ownerSVGElement"in e}function tK(e){return HP(e)&&e.tagName==="svg"}const ya=e=>!!(e&&e.getVelocity),eK=[...LP,gi,mu],nK=e=>eK.find(PP(e)),n3=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class iK extends j.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=BP(i)&&i.offsetWidth||0,r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft,r.right=a-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function aK({children:e,isPresent:t,anchorX:n,root:i}){const a=j.useId(),r=j.useRef(null),s=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=j.useContext(n3);return j.useInsertionEffect(()=>{const{width:c,height:d,top:f,left:m,right:v}=s.current;if(t||!r.current||!c||!d)return;const y=n==="left"?`left: ${m}`:`right: ${v}`;r.current.dataset.motionPopId=a;const x=document.createElement("style");l&&(x.nonce=l);const _=i??document.head;return _.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${f}px !important;
          }
        `),()=>{_.removeChild(x),_.contains(x)&&_.removeChild(x)}},[t]),F.jsx(iK,{isPresent:t,childRef:r,sizeRef:s,children:j.cloneElement(e,{ref:r})})}const rK=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:r,mode:s,anchorX:l,root:c})=>{const d=PC(sK),f=j.useId();let m=!0,v=j.useMemo(()=>(m=!1,{id:f,initial:t,isPresent:n,custom:a,onExitComplete:y=>{d.set(y,!0);for(const x of d.values())if(!x)return;i&&i()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[n,d,i]);return r&&m&&(v={...v}),j.useMemo(()=>{d.forEach((y,x)=>d.set(x,!1))},[n]),j.useEffect(()=>{!n&&!d.size&&i&&i()},[n]),s==="popLayout"&&(e=F.jsx(aK,{isPresent:n,anchorX:l,root:c,children:e})),F.jsx(Z1.Provider,{value:v,children:e})};function sK(){return new Map}function GP(e=!0){const t=j.useContext(Z1);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=t,r=j.useId();j.useEffect(()=>{if(e)return a(r)},[e]);const s=j.useCallback(()=>e&&i&&i(r),[r,i,e]);return!n&&i?[!1,s]:[!0]}const db=e=>e.key||"";function W4(e){const t=[];return j.Children.forEach(e,n=>{j.isValidElement(n)&&t.push(n)}),t}const J1=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:r="sync",propagate:s=!1,anchorX:l="left",root:c})=>{const[d,f]=GP(s),m=j.useMemo(()=>W4(e),[e]),v=s&&!d?[]:m.map(db),y=j.useRef(!0),x=j.useRef(m),_=PC(()=>new Map),[E,R]=j.useState(m),[A,w]=j.useState(m);ZN(()=>{y.current=!1,x.current=m;for(let P=0;P<A.length;P++){const z=db(A[P]);v.includes(z)?_.delete(z):_.get(z)!==!0&&_.set(z,!1)}},[A,v.length,v.join("-")]);const M=[];if(m!==E){let P=[...m];for(let z=0;z<A.length;z++){const L=A[z],U=db(L);v.includes(U)||(P.splice(z,0,L),M.push(L))}return r==="wait"&&M.length&&(P=M),w(W4(P)),R(m),null}const{forceRender:D}=j.useContext(NC);return F.jsx(F.Fragment,{children:A.map(P=>{const z=db(P),L=s&&!d?!1:m===A||v.includes(z),U=()=>{if(_.has(z))_.set(z,!0);else return;let I=!0;_.forEach(q=>{q||(I=!1)}),I&&(D?.(),w(x.current),s&&f?.(),i&&i())};return F.jsx(rK,{isPresent:L,initial:!y.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:r,root:c,onExitComplete:L?void 0:U,anchorX:l,children:P},z)})})},qP=j.createContext({strict:!1}),Q4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fp={};for(const e in Q4)fp[e]={isEnabled:t=>Q4[e].some(n=>!!t[n])};function oK(e){for(const t in e)fp[t]={...fp[t],...e[t]}}const lK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function u1(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||lK.has(e)}let VP=e=>!u1(e);function cK(e){typeof e=="function"&&(VP=t=>t.startsWith("on")?!u1(t):e(t))}try{cK(require("@emotion/is-prop-valid").default)}catch{}function uK(e,t,n){const i={};for(const a in e)a==="values"&&typeof e.values=="object"||(VP(a)||n===!0&&u1(a)||!t&&!u1(a)||e.draggable&&a.startsWith("onDrag"))&&(i[a]=e[a]);return i}const tx=j.createContext({});function ex(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function H0(e){return typeof e=="string"||Array.isArray(e)}const i3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],a3=["initial",...i3];function nx(e){return ex(e.animate)||a3.some(t=>H0(e[t]))}function YP(e){return!!(nx(e)||e.variants)}function dK(e,t){if(nx(e)){const{initial:n,animate:i}=e;return{initial:n===!1||H0(n)?n:void 0,animate:H0(i)?i:void 0}}return e.inherit!==!1?t:{}}function hK(e){const{initial:t,animate:n}=dK(e,j.useContext(tx));return j.useMemo(()=>({initial:t,animate:n}),[Z4(t),Z4(n)])}function Z4(e){return Array.isArray(e)?e.join(" "):e}const G0={};function fK(e){for(const t in e)G0[t]=e[t],HC(t)&&(G0[t].isCSSVariable=!0)}function KP(e,{layout:t,layoutId:n}){return Tp.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!G0[e]||e==="opacity")}const pK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gK=Cp.length;function mK(e,t,n){let i="",a=!0;for(let r=0;r<gK;r++){const s=Cp[r],l=e[s];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(s.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=FP(l,JC[s]);if(!c){a=!1;const f=pK[s]||s;i+=`${f}(${d}) `}n&&(t[s]=d)}}return i=i.trim(),n?i=n(t,a?"":i):a&&(i="none"),i}function r3(e,t,n){const{style:i,vars:a,transformOrigin:r}=e;let s=!1,l=!1;for(const c in t){const d=t[c];if(Tp.has(c)){s=!0;continue}else if(HC(c)){a[c]=d;continue}else{const f=FP(d,JC[c]);c.startsWith("origin")?(l=!0,r[c]=f):i[c]=f}}if(t.transform||(s||n?i.transform=mK(t,e.transform,n):i.transform&&(i.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:f=0}=r;i.transformOrigin=`${c} ${d} ${f}`}}const s3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function XP(e,t,n){for(const i in t)!ya(t[i])&&!KP(i,n)&&(e[i]=t[i])}function vK({transformTemplate:e},t){return j.useMemo(()=>{const n=s3();return r3(n,t,e),Object.assign({},n.vars,n.style)},[t])}function yK(e,t){const n=e.style||{},i={};return XP(i,n,e),Object.assign(i,vK(e,t)),i}function bK(e,t){const n={},i=yK(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const xK={offset:"stroke-dashoffset",array:"stroke-dasharray"},SK={offset:"strokeDashoffset",array:"strokeDasharray"};function _K(e,t,n=1,i=0,a=!0){e.pathLength=1;const r=a?xK:SK;e[r.offset]=he.transform(-i);const s=he.transform(t),l=he.transform(n);e[r.array]=`${s} ${l}`}function $P(e,{attrX:t,attrY:n,attrScale:i,pathLength:a,pathSpacing:r=1,pathOffset:s=0,...l},c,d,f){if(r3(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:v}=e;m.transform&&(v.transform=m.transform,delete m.transform),(v.transform||m.transformOrigin)&&(v.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),v.transform&&(v.transformBox=f?.transformBox??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),i!==void 0&&(m.scale=i),a!==void 0&&_K(m,a,r,s,!1)}const WP=()=>({...s3(),attrs:{}}),QP=e=>typeof e=="string"&&e.toLowerCase()==="svg";function wK(e,t,n,i){const a=j.useMemo(()=>{const r=WP();return $P(r,t,QP(i),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};XP(r,e.style,e),a.style={...r,...a.style}}return a}const EK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function o3(e){return typeof e!="string"||e.includes("-")?!1:!!(EK.indexOf(e)>-1||/[A-Z]/u.test(e))}function AK(e,t,n,{latestValues:i},a,r=!1){const l=(o3(e)?wK:bK)(t,i,a,e),c=uK(t,typeof e=="string",r),d=e!==j.Fragment?{...c,...l,ref:n}:{},{children:f}=t,m=j.useMemo(()=>ya(f)?f.get():f,[f]);return j.createElement(e,{...d,children:m})}function J4(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function l3(e,t,n,i){if(typeof t=="function"){const[a,r]=J4(i);t=t(n!==void 0?n:e.custom,a,r)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,r]=J4(i);t=t(n!==void 0?n:e.custom,a,r)}return t}function Gb(e){return ya(e)?e.get():e}function CK({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,a){return{latestValues:TK(n,i,a,e),renderState:t()}}function TK(e,t,n,i){const a={},r=i(e,{});for(const v in r)a[v]=Gb(r[v]);let{initial:s,animate:l}=e;const c=nx(e),d=YP(e);t&&d&&!c&&e.inherit!==!1&&(s===void 0&&(s=t.initial),l===void 0&&(l=t.animate));let f=n?n.initial===!1:!1;f=f||s===!1;const m=f?l:s;if(m&&typeof m!="boolean"&&!ex(m)){const v=Array.isArray(m)?m:[m];for(let y=0;y<v.length;y++){const x=l3(e,v[y]);if(x){const{transitionEnd:_,transition:E,...R}=x;for(const A in R){let w=R[A];if(Array.isArray(w)){const M=f?w.length-1:0;w=w[M]}w!==null&&(a[A]=w)}for(const A in _)a[A]=_[A]}}}return a}const ZP=e=>(t,n)=>{const i=j.useContext(tx),a=j.useContext(Z1),r=()=>CK(e,t,i,a);return n?r():PC(r)};function c3(e,t,n){const{style:i}=e,a={};for(const r in i)(ya(i[r])||t.style&&ya(t.style[r])||KP(r,e)||n?.getValue(r)?.liveStyle!==void 0)&&(a[r]=i[r]);return a}const RK=ZP({scrapeMotionValuesFromProps:c3,createRenderState:s3});function JP(e,t,n){const i=c3(e,t,n);for(const a in e)if(ya(e[a])||ya(t[a])){const r=Cp.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[r]=e[a]}return i}const MK=ZP({scrapeMotionValuesFromProps:JP,createRenderState:WP}),DK=Symbol.for("motionComponentSymbol");function ep(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function OK(e,t,n){return j.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):ep(n)&&(n.current=i))},[t])}const u3=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),NK="framerAppearId",tL="data-"+u3(NK),eL=j.createContext({});function PK(e,t,n,i,a){const{visualElement:r}=j.useContext(tx),s=j.useContext(qP),l=j.useContext(Z1),c=j.useContext(n3).reducedMotion,d=j.useRef(null);i=i||s.renderer,!d.current&&i&&(d.current=i(e,{visualState:t,parent:r,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,m=j.useContext(eL);f&&!f.projection&&a&&(f.type==="html"||f.type==="svg")&&LK(d.current,n,a,m);const v=j.useRef(!1);j.useInsertionEffect(()=>{f&&v.current&&f.update(n,l)});const y=n[tL],x=j.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return ZN(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),x.current&&f.animationState&&f.animationState.animateChanges())}),j.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),x.current=!1))}),f}function LK(e,t,n,i){const{layoutId:a,layout:r,drag:s,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:nL(e.parent)),e.projection.setOptions({layoutId:a,layout:r,alwaysMeasureLayout:!!s||l&&ep(l),visualElement:e,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:f,layoutScroll:c,layoutRoot:d})}function nL(e){if(e)return e.options.allowProjection!==!1?e.projection:nL(e.parent)}function X2(e,{forwardMotionProps:t=!1}={},n,i){n&&oK(n);const a=o3(e)?MK:RK;function r(l,c){let d;const f={...j.useContext(n3),...l,layoutId:kK(l)},{isStatic:m}=f,v=hK(l),y=a(l,m);if(!m&&LC){jK();const x=FK(f);d=x.MeasureLayout,v.visualElement=PK(e,y,f,i,x.ProjectionNode)}return F.jsxs(tx.Provider,{value:v,children:[d&&v.visualElement?F.jsx(d,{visualElement:v.visualElement,...f}):null,AK(e,l,OK(y,v.visualElement,c),y,m,t)]})}r.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const s=j.forwardRef(r);return s[DK]=e,s}function kK({layoutId:e}){const t=j.useContext(NC).id;return t&&e!==void 0?t+"-"+e:e}function jK(e,t){j.useContext(qP).strict}function FK(e){const{drag:t,layout:n}=fp;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function BK(e,t){if(typeof Proxy>"u")return X2;const n=new Map,i=(r,s)=>X2(r,s,e,t),a=(r,s)=>i(r,s);return new Proxy(a,{get:(r,s)=>s==="create"?i:(n.has(s)||n.set(s,X2(s,void 0,e,t)),n.get(s))})}function iL({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function IK({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function zK(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function $2(e){return e===void 0||e===1}function SA({scale:e,scaleX:t,scaleY:n}){return!$2(e)||!$2(t)||!$2(n)}function Td(e){return SA(e)||aL(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function aL(e){return t6(e.x)||t6(e.y)}function t6(e){return e&&e!=="0%"}function d1(e,t,n){const i=e-n,a=t*i;return n+a}function e6(e,t,n,i,a){return a!==void 0&&(e=d1(e,a,i)),d1(e,n,i)+t}function _A(e,t=0,n=1,i,a){e.min=e6(e.min,t,n,i,a),e.max=e6(e.max,t,n,i,a)}function rL(e,{x:t,y:n}){_A(e.x,t.translate,t.scale,t.originPoint),_A(e.y,n.translate,n.scale,n.originPoint)}const n6=.999999999999,i6=1.0000000000001;function UK(e,t,n,i=!1){const a=n.length;if(!a)return;t.x=t.y=1;let r,s;for(let l=0;l<a;l++){r=n[l],s=r.projectionDelta;const{visualElement:c}=r.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&ip(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,rL(e,s)),i&&Td(r.latestValues)&&ip(e,r.latestValues))}t.x<i6&&t.x>n6&&(t.x=1),t.y<i6&&t.y>n6&&(t.y=1)}function np(e,t){e.min=e.min+t,e.max=e.max+t}function a6(e,t,n,i,a=.5){const r=qn(e.min,e.max,a);_A(e,t,n,r,i)}function ip(e,t){a6(e.x,t.x,t.scaleX,t.scale,t.originX),a6(e.y,t.y,t.scaleY,t.scale,t.originY)}function sL(e,t){return iL(zK(e.getBoundingClientRect(),t))}function HK(e,t,n){const i=sL(e,n),{scroll:a}=t;return a&&(np(i.x,a.offset.x),np(i.y,a.offset.y)),i}const r6=()=>({translate:0,scale:1,origin:0,originPoint:0}),ap=()=>({x:r6(),y:r6()}),s6=()=>({min:0,max:0}),ri=()=>({x:s6(),y:s6()}),wA={current:null},oL={current:!1};function GK(){if(oL.current=!0,!!LC)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>wA.current=e.matches;e.addEventListener("change",t),t()}else wA.current=!1}const qK=new WeakMap;function VK(e,t,n){for(const i in t){const a=t[i],r=n[i];if(ya(a))e.addValue(i,a);else if(ya(r))e.addValue(i,hp(a,{owner:e}));else if(r!==a)if(e.hasValue(i)){const s=e.getValue(i);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(i);e.addValue(i,hp(s!==void 0?s:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const o6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class YK{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:r,visualState:s},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=QC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=ar.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Fn.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=s;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!r,this.isControllingVariants=nx(n),this.isVariantNode=YP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in m){const y=m[v];c[v]!==void 0&&ya(y)&&y.set(c[v],!1)}}mount(t){this.current=t,qK.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),oL.current||GK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),gu(this.notifyUpdate),gu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Tp.has(t);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Fn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),r=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),r(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in fp){const n=fp[t];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ri()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<o6.length;i++){const a=o6[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const r="on"+a,s=t[r];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=VK(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=hp(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(JN(i)||eP(i))?i=parseFloat(i):!nK(i)&&mu.test(n)&&(i=jP(t,n)),this.setBaseTarget(t,ya(i)?i.get():i)),ya(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const r=l3(this.props,n,this.presenceContext?.custom);r&&(i=r[t])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ya(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new IC),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){t3.render(this.render)}}class lL extends YK{constructor(){super(...arguments),this.KeyframeResolver=qY}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ya(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function cL(e,{style:t,vars:n},i,a){const r=e.style;let s;for(s in t)r[s]=t[s];a?.applyProjectionStyles(r,i);for(s in n)r.setProperty(s,n[s])}function KK(e){return window.getComputedStyle(e)}class XK extends lL{constructor(){super(...arguments),this.type="html",this.renderInstance=cL}readValueFromInstance(t,n){if(Tp.has(n))return this.projection?.isProjecting?gA(n):cY(t,n);{const i=KK(t),a=(HC(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return sL(t,n)}build(t,n,i){r3(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return c3(t,n,i)}}const uL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $K(e,t,n,i){cL(e,t,void 0,i);for(const a in t.attrs)e.setAttribute(uL.has(a)?a:u3(a),t.attrs[a])}class WK extends lL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ri}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Tp.has(n)){const i=kP(n);return i&&i.default||0}return n=uL.has(n)?n:u3(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return JP(t,n,i)}build(t,n,i){$P(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,a){$K(t,n,i,a)}mount(t){this.isSVGTag=QP(t.tagName),super.mount(t)}}const QK=(e,t)=>o3(e)?new WK(t):new XK(t,{allowProjection:e!==j.Fragment});function q0(e,t,n){const i=e.getProps();return l3(i,t,n!==void 0?n:i.custom,e)}const EA=e=>Array.isArray(e);function ZK(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,hp(n))}function JK(e){return EA(e)?e[e.length-1]||0:e}function tX(e,t){const n=q0(e,t);let{transitionEnd:i={},transition:a={},...r}=n||{};r={...r,...i};for(const s in r){const l=JK(r[s]);ZK(e,s,l)}}function eX(e){return!!(ya(e)&&e.add)}function AA(e,t){const n=e.getValue("willChange");if(eX(n))return n.add(t);if(!n&&Jl.WillChange){const i=new Jl.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function dL(e){return e.props[tL]}const nX=e=>e!==null;function iX(e,{repeat:t,repeatType:n="loop"},i){const a=e.filter(nX),r=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[r]}const aX={type:"spring",stiffness:500,damping:25,restSpeed:10},rX=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),sX={type:"keyframes",duration:.8},oX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lX=(e,{keyframes:t})=>t.length>2?sX:Tp.has(e)?e.startsWith("scale")?rX(t[1]):aX:oX;function cX({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:r,repeatType:s,repeatDelay:l,from:c,elapsed:d,...f}){return!!Object.keys(f).length}const d3=(e,t,n,i={},a,r)=>s=>{const l=ZC(i,e)||{},c=l.delay||i.delay||0;let{elapsed:d=0}=i;d=d-Zo(c);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:v=>{t.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:r?void 0:a};cX(l)||Object.assign(f,lX(e,f)),f.duration&&(f.duration=Zo(f.duration)),f.repeatDelay&&(f.repeatDelay=Zo(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(m=!0)),(Jl.instantAnimations||Jl.skipAnimations)&&(m=!0,f.duration=0,f.delay=0),f.allowFlatten=!l.type&&!l.ease,m&&!r&&t.get()!==void 0){const v=iX(f.keyframes,l);if(v!==void 0){Fn.update(()=>{f.onUpdate(v),f.onComplete()});return}}return l.isSync?new WC(f):new NY(f)};function uX({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function hL(e,t,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:r=e.getDefaultTransition(),transitionEnd:s,...l}=t;i&&(r=i);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in l){const m=e.getValue(f,e.latestValues[f]??null),v=l[f];if(v===void 0||d&&uX(d,f))continue;const y={delay:n,...ZC(r||{},f)},x=m.get();if(x!==void 0&&!m.isAnimating&&!Array.isArray(v)&&v===x&&!y.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const R=dL(e);if(R){const A=window.MotionHandoffAnimation(R,f,Fn);A!==null&&(y.startTime=A,_=!0)}}AA(e,f),m.start(d3(f,m,v,e.shouldReduceMotion&&NP.has(f)?{type:!1}:y,e,_));const E=m.animation;E&&c.push(E)}return s&&Promise.all(c).then(()=>{Fn.update(()=>{s&&tX(e,s)})}),c}function CA(e,t,n={}){const i=q0(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const r=i?()=>Promise.all(hL(e,i,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:m}=a;return dX(e,t,c,d,f,m,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,d]=l==="beforeChildren"?[r,s]:[s,r];return c().then(()=>d())}else return Promise.all([r(),s(n.delay)])}function dX(e,t,n=0,i=0,a=0,r=1,s){const l=[],c=e.variantChildren.size,d=(c-1)*a,f=typeof i=="function",m=f?v=>i(v,c):r===1?(v=0)=>v*a:(v=0)=>d-v*a;return Array.from(e.variantChildren).sort(hX).forEach((v,y)=>{v.notify("AnimationStart",t),l.push(CA(v,t,{...s,delay:n+(f?0:i)+m(y)}).then(()=>v.notify("AnimationComplete",t)))}),Promise.all(l)}function hX(e,t){return e.sortNodePosition(t)}function fX(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(r=>CA(e,r,n));i=Promise.all(a)}else if(typeof t=="string")i=CA(e,t,n);else{const a=typeof t=="function"?q0(e,t,n.custom):t;i=Promise.all(hL(e,a,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function fL(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const pX=a3.length;function pL(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?pL(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<pX;n++){const i=a3[n],a=e.props[i];(H0(a)||a===!1)&&(t[i]=a)}return t}const gX=[...i3].reverse(),mX=i3.length;function vX(e){return t=>Promise.all(t.map(({animation:n,options:i})=>fX(e,n,i)))}function yX(e){let t=vX(e),n=l6(),i=!0;const a=c=>(d,f)=>{const m=q0(e,f,c==="exit"?e.presenceContext?.custom:void 0);if(m){const{transition:v,transitionEnd:y,...x}=m;d={...d,...x,...y}}return d};function r(c){t=c(e)}function s(c){const{props:d}=e,f=pL(e.parent)||{},m=[],v=new Set;let y={},x=1/0;for(let E=0;E<mX;E++){const R=gX[E],A=n[R],w=d[R]!==void 0?d[R]:f[R],M=H0(w),D=R===c?A.isActive:null;D===!1&&(x=E);let P=w===f[R]&&w!==d[R]&&M;if(P&&i&&e.manuallyAnimateOnMount&&(P=!1),A.protectedKeys={...y},!A.isActive&&D===null||!w&&!A.prevProp||ex(w)||typeof w=="boolean")continue;const z=bX(A.prevProp,w);let L=z||R===c&&A.isActive&&!P&&M||E>x&&M,U=!1;const I=Array.isArray(w)?w:[w];let q=I.reduce(a(R),{});D===!1&&(q={});const{prevResolvedValues:J={}}=A,it={...J,...q},at=B=>{L=!0,v.has(B)&&(U=!0,v.delete(B)),A.needsAnimating[B]=!0;const V=e.getValue(B);V&&(V.liveStyle=!1)};for(const B in it){const V=q[B],W=J[B];if(y.hasOwnProperty(B))continue;let H=!1;EA(V)&&EA(W)?H=!fL(V,W):H=V!==W,H?V!=null?at(B):v.add(B):V!==void 0&&v.has(B)?at(B):A.protectedKeys[B]=!0}A.prevProp=w,A.prevResolvedValues=q,A.isActive&&(y={...y,...q}),i&&e.blockInitialAnimation&&(L=!1),L&&(!(P&&z)||U)&&m.push(...I.map(B=>({animation:B,options:{type:R}})))}if(v.size){const E={};if(typeof d.initial!="boolean"){const R=q0(e,Array.isArray(d.initial)?d.initial[0]:d.initial);R&&R.transition&&(E.transition=R.transition)}v.forEach(R=>{const A=e.getBaseTarget(R),w=e.getValue(R);w&&(w.liveStyle=!0),E[R]=A??null}),m.push({animation:E})}let _=!!m.length;return i&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(_=!1),i=!1,_?t(m):Promise.resolve()}function l(c,d){if(n[c].isActive===d)return Promise.resolve();e.variantChildren?.forEach(m=>m.animationState?.setActive(c,d)),n[c].isActive=d;const f=s(c);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:s,setActive:l,setAnimateFunction:r,getState:()=>n,reset:()=>{n=l6(),i=!0}}}function bX(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!fL(t,e):!1}function Ed(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function l6(){return{animate:Ed(!0),whileInView:Ed(),whileHover:Ed(),whileTap:Ed(),whileDrag:Ed(),whileFocus:Ed(),exit:Ed()}}class wu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class xX extends wu{constructor(t){super(t),t.animationState||(t.animationState=yX(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ex(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let SX=0;class _X extends wu{constructor(){super(...arguments),this.id=SX++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const wX={animation:{Feature:xX},exit:{Feature:_X}};function V0(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function pv(e){return{point:{x:e.pageX,y:e.pageY}}}const EX=e=>t=>e3(t)&&e(t,pv(t));function E0(e,t,n,i){return V0(e,t,EX(n),i)}const gL=1e-4,AX=1-gL,CX=1+gL,mL=.01,TX=0-mL,RX=0+mL;function Ia(e){return e.max-e.min}function MX(e,t,n){return Math.abs(e-t)<=n}function c6(e,t,n,i=.5){e.origin=i,e.originPoint=qn(t.min,t.max,e.origin),e.scale=Ia(n)/Ia(t),e.translate=qn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=AX&&e.scale<=CX||isNaN(e.scale))&&(e.scale=1),(e.translate>=TX&&e.translate<=RX||isNaN(e.translate))&&(e.translate=0)}function A0(e,t,n,i){c6(e.x,t.x,n.x,i?i.originX:void 0),c6(e.y,t.y,n.y,i?i.originY:void 0)}function u6(e,t,n){e.min=n.min+t.min,e.max=e.min+Ia(t)}function DX(e,t,n){u6(e.x,t.x,n.x),u6(e.y,t.y,n.y)}function d6(e,t,n){e.min=t.min-n.min,e.max=e.min+Ia(t)}function C0(e,t,n){d6(e.x,t.x,n.x),d6(e.y,t.y,n.y)}function ss(e){return[e("x"),e("y")]}const vL=({current:e})=>e?e.ownerDocument.defaultView:null,h6=(e,t)=>Math.abs(e-t);function OX(e,t){const n=h6(e.x,t.x),i=h6(e.y,t.y);return Math.sqrt(n**2+i**2)}class yL{constructor(t,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:r=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Q2(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,x=OX(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!x)return;const{point:_}=v,{timestamp:E}=ea;this.history.push({..._,timestamp:E});const{onStart:R,onMove:A}=this.handlers;y||(R&&R(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,v)},this.handlePointerMove=(v,y)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=W2(y,this.transformPagePoint),Fn.update(this.updatePoint,!0)},this.handlePointerUp=(v,y)=>{this.end();const{onEnd:x,onSessionEnd:_,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Q2(v.type==="pointercancel"?this.lastMoveEventInfo:W2(y,this.transformPagePoint),this.history);this.startEvent&&x&&x(v,R),_&&_(v,R)},!e3(t))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=s,this.contextWindow=a||window;const l=pv(t),c=W2(l,this.transformPagePoint),{point:d}=c,{timestamp:f}=ea;this.history=[{...d,timestamp:f}];const{onSessionStart:m}=n;m&&m(t,Q2(c,this.history)),this.removeListeners=dv(E0(this.contextWindow,"pointermove",this.handlePointerMove),E0(this.contextWindow,"pointerup",this.handlePointerUp),E0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),gu(this.updatePoint)}}function W2(e,t){return t?{point:t(e.point)}:e}function f6(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Q2({point:e},t){return{point:e,delta:f6(e,bL(t)),offset:f6(e,NX(t)),velocity:PX(t,.1)}}function NX(e){return e[0]}function bL(e){return e[e.length-1]}function PX(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const a=bL(e);for(;n>=0&&(i=e[n],!(a.timestamp-i.timestamp>Zo(t)));)n--;if(!i)return{x:0,y:0};const r=Jo(a.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const s={x:(a.x-i.x)/r,y:(a.y-i.y)/r};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function LX(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?qn(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?qn(n,e,i.max):Math.min(e,n)),e}function p6(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function kX(e,{top:t,left:n,bottom:i,right:a}){return{x:p6(e.x,n,a),y:p6(e.y,t,i)}}function g6(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function jX(e,t){return{x:g6(e.x,t.x),y:g6(e.y,t.y)}}function FX(e,t){let n=.5;const i=Ia(e),a=Ia(t);return a>i?n=I0(t.min,t.max-i,e.min):i>a&&(n=I0(e.min,e.max-a,t.min)),Zl(0,1,n)}function BX(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const TA=.35;function IX(e=TA){return e===!1?e=0:e===!0&&(e=TA),{x:m6(e,"left","right"),y:m6(e,"top","bottom")}}function m6(e,t,n){return{min:v6(e,t),max:v6(e,n)}}function v6(e,t){return typeof e=="number"?e:e[t]||0}const zX=new WeakMap;class UX{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ri(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const r=m=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(pv(m).point)},s=(m,v)=>{const{drag:y,dragPropagation:x,onDragStart:_}=this.getProps();if(y&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=XY(y),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ss(R=>{let A=this.getAxisMotionValue(R).get()||0;if(tl.test(A)){const{projection:w}=this.visualElement;if(w&&w.layout){const M=w.layout.layoutBox[R];M&&(A=Ia(M)*(parseFloat(A)/100))}}this.originPoint[R]=A}),_&&Fn.postRender(()=>_(m,v)),AA(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},l=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v;const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:_,onDrag:E}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:R}=v;if(x&&this.currentDirection===null){this.currentDirection=HX(R),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",v.point,R),this.updateAxis("y",v.point,R),this.visualElement.render(),E&&E(m,v)},c=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v,this.stop(m,v),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>ss(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new yL(t,{onSessionStart:r,onStart:s,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:i,contextWindow:vL(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,a=n||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!a||!i)return;const{velocity:s}=a;this.startAnimation(s);const{onDragEnd:l}=this.getProps();l&&Fn.postRender(()=>l(i,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:a}=this.getProps();if(!i||!hb(t,a,this.currentDirection))return;const r=this.getAxisMotionValue(t);let s=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(s=LX(s,this.constraints[t],this.elastic[t])),r.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&ep(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=kX(i.layoutBox,t):this.constraints=!1,this.elastic=IX(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ss(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=BX(i.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ep(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const r=HK(i,a.root,this.visualElement.getTransformPagePoint());let s=jX(a.layout.layoutBox,r);if(n){const l=n(IK(s));this.hasMutatedConstraints=!!l,l&&(s=iL(l))}return s}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:r,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=ss(f=>{if(!hb(f,n,this.currentDirection))return;let m=c&&c[f]||{};s&&(m={min:0,max:0});const v=a?200:1e6,y=a?40:1e7,x={type:"inertia",velocity:i?t[f]:0,bounceStiffness:v,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...r,...m};return this.startAxisValueAnimation(f,x)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return AA(this.visualElement,t),i.start(d3(t,i,0,n,this.visualElement,!1))}stopAnimation(){ss(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ss(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){ss(n=>{const{drag:i}=this.getProps();if(!hb(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,r=this.getAxisMotionValue(n);if(a&&a.layout){const{min:s,max:l}=a.layout.layoutBox[n];r.set(t[n]-qn(s,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!ep(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ss(s=>{const l=this.getAxisMotionValue(s);if(l&&this.constraints!==!1){const c=l.get();a[s]=FX({min:c,max:c},this.constraints[s])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ss(s=>{if(!hb(s,t,null))return;const l=this.getAxisMotionValue(s),{min:c,max:d}=this.constraints[s];l.set(qn(c,d,a[s]))})}addListeners(){if(!this.visualElement.current)return;zX.set(this.visualElement,this);const t=this.visualElement.current,n=E0(t,"pointerdown",c=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();ep(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,r=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Fn.read(i);const s=V0(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ss(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=c[f].translate,m.set(m.get()+c[f].translate))}),this.visualElement.render())});return()=>{s(),n(),r(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:r=!1,dragElastic:s=TA,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:r,dragElastic:s,dragMomentum:l}}}function hb(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function HX(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class GX extends wu{constructor(t){super(t),this.removeGroupControls=us,this.removeListeners=us,this.controls=new UX(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||us}unmount(){this.removeGroupControls(),this.removeListeners()}}const y6=e=>(t,n)=>{e&&Fn.postRender(()=>e(t,n))};class qX extends wu{constructor(){super(...arguments),this.removePointerDownListener=us}onPointerDown(t){this.session=new yL(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vL(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:y6(t),onStart:y6(n),onMove:i,onEnd:(r,s)=>{delete this.session,a&&Fn.postRender(()=>a(r,s))}}}mount(){this.removePointerDownListener=E0(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function b6(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const dm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(he.test(e))e=parseFloat(e);else return e;const n=b6(e,t.target.x),i=b6(e,t.target.y);return`${n}% ${i}%`}},VX={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,a=mu.parse(e);if(a.length>5)return i;const r=mu.createTransformer(e),s=typeof a[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;a[0+s]/=l,a[1+s]/=c;const d=qn(l,c,.5);return typeof a[2+s]=="number"&&(a[2+s]/=d),typeof a[3+s]=="number"&&(a[3+s]/=d),r(a)}};let x6=!1;class YX extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:r}=t;fK(KX),r&&(n.group&&n.group.add(r),i&&i.register&&a&&i.register(r),x6&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),qb.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:a,isPresent:r}=this.props,{projection:s}=i;return s&&(s.isPresent=r,x6=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==r?s.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?s.promote():s.relegate()||Fn.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),t3.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function xL(e){const[t,n]=GP(),i=j.useContext(NC);return F.jsx(YX,{...e,layoutGroup:i,switchLayoutGroup:j.useContext(eL),isPresent:t,safeToRemove:n})}const KX={borderRadius:{...dm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dm,borderTopRightRadius:dm,borderBottomLeftRadius:dm,borderBottomRightRadius:dm,boxShadow:VX};function XX(e,t,n){const i=ya(e)?e:hp(e);return i.start(d3("",i,t,n)),i.animation}const $X=(e,t)=>e.depth-t.depth;class WX{constructor(){this.children=[],this.isDirty=!1}add(t){kC(this.children,t),this.isDirty=!0}remove(t){jC(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort($X),this.isDirty=!1,this.children.forEach(t)}}function QX(e,t){const n=ar.now(),i=({timestamp:a})=>{const r=a-n;r>=t&&(gu(i),e(r-t))};return Fn.setup(i,!0),()=>gu(i)}const SL=["TopLeft","TopRight","BottomLeft","BottomRight"],ZX=SL.length,S6=e=>typeof e=="string"?parseFloat(e):e,_6=e=>typeof e=="number"||he.test(e);function JX(e,t,n,i,a,r){a?(e.opacity=qn(0,n.opacity??1,t$(i)),e.opacityExit=qn(t.opacity??1,0,e$(i))):r&&(e.opacity=qn(t.opacity??1,n.opacity??1,i));for(let s=0;s<ZX;s++){const l=`border${SL[s]}Radius`;let c=w6(t,l),d=w6(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||_6(c)===_6(d)?(e[l]=Math.max(qn(S6(c),S6(d),i),0),(tl.test(d)||tl.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=qn(t.rotate||0,n.rotate||0,i))}function w6(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const t$=_L(0,.5,cP),e$=_L(.5,.95,us);function _L(e,t,n){return i=>i<e?0:i>t?1:n(I0(e,t,i))}function E6(e,t){e.min=t.min,e.max=t.max}function es(e,t){E6(e.x,t.x),E6(e.y,t.y)}function A6(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function C6(e,t,n,i,a){return e-=t,e=d1(e,1/n,i),a!==void 0&&(e=d1(e,1/a,i)),e}function n$(e,t=0,n=1,i=.5,a,r=e,s=e){if(tl.test(t)&&(t=parseFloat(t),t=qn(s.min,s.max,t/100)-s.min),typeof t!="number")return;let l=qn(r.min,r.max,i);e===r&&(l-=t),e.min=C6(e.min,t,n,l,a),e.max=C6(e.max,t,n,l,a)}function T6(e,t,[n,i,a],r,s){n$(e,t[n],t[i],t[a],t.scale,r,s)}const i$=["x","scaleX","originX"],a$=["y","scaleY","originY"];function R6(e,t,n,i){T6(e.x,t,i$,n?n.x:void 0,i?i.x:void 0),T6(e.y,t,a$,n?n.y:void 0,i?i.y:void 0)}function M6(e){return e.translate===0&&e.scale===1}function wL(e){return M6(e.x)&&M6(e.y)}function D6(e,t){return e.min===t.min&&e.max===t.max}function r$(e,t){return D6(e.x,t.x)&&D6(e.y,t.y)}function O6(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function EL(e,t){return O6(e.x,t.x)&&O6(e.y,t.y)}function N6(e){return Ia(e.x)/Ia(e.y)}function P6(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class s${constructor(){this.members=[]}add(t){kC(this.members,t),t.scheduleRender()}remove(t){if(jC(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const r=this.members[a];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function o$(e,t,n){let i="";const a=e.x.translate/t.x,r=e.y.translate/t.y,s=n?.z||0;if((a||r||s)&&(i=`translate3d(${a}px, ${r}px, ${s}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:m,rotateY:v,skewX:y,skewY:x}=n;d&&(i=`perspective(${d}px) ${i}`),f&&(i+=`rotate(${f}deg) `),m&&(i+=`rotateX(${m}deg) `),v&&(i+=`rotateY(${v}deg) `),y&&(i+=`skewX(${y}deg) `),x&&(i+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(i+=`scale(${l}, ${c})`),i||"none"}const Z2=["","X","Y","Z"],l$=1e3;let c$=0;function J2(e,t,n,i){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),i&&(i[e]=0))}function AL(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=dL(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Fn,!(a||r))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&AL(i)}function CL({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(s={},l=t?.()){this.id=c$++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(h$),this.nodes.forEach(m$),this.nodes.forEach(v$),this.nodes.forEach(f$)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new WX)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new IC),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const c=this.eventHandlers.get(s);c&&c.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=HP(s)&&!tK(s),this.instance=s;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let f,m=0;const v=()=>this.root.updateBlockedByResize=!1;Fn.read(()=>{m=window.innerWidth}),e(s,()=>{const y=window.innerWidth;y!==m&&(m=y,this.root.updateBlockedByResize=!0,f&&f(),f=QX(v,250),qb.hasAnimatedSinceResize&&(qb.hasAnimatedSinceResize=!1,this.nodes.forEach(j6)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:v,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||_$,{onLayoutAnimationStart:_,onLayoutAnimationComplete:E}=d.getProps(),R=!this.targetLayout||!EL(this.targetLayout,y),A=!m&&v;if(this.options.layoutRoot||this.resumeFrom||A||m&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...ZC(x,"layout"),onPlay:_,onComplete:E};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(f,A)}else m||j6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),gu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(y$),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&AL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(L6);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(k6);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(g$),this.nodes.forEach(u$),this.nodes.forEach(d$)):this.nodes.forEach(k6),this.clearAllSnapshots();const l=ar.now();ea.delta=Zl(0,1e3/60,l-ea.timestamp),ea.timestamp=l,ea.isProcessing=!0,H2.update.process(ea),H2.preRender.process(ea),H2.render.process(ea),ea.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,t3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(p$),this.sharedNodes.forEach(b$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ia(this.snapshot.measuredBox.x)&&!Ia(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ri(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l&&this.instance){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!wL(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;s&&this.instance&&(l||Td(this.latestValues)||f)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return s&&(c=this.removeTransform(c)),w$(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return ri();const l=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(E$))){const{scroll:d}=this.root;d&&(np(l.x,d.offset.x),np(l.y,d.offset.y))}return l}removeElementScroll(s){const l=ri();if(es(l,s),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:m}=d;d!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&es(l,s),np(l.x,f.offset.x),np(l.y,f.offset.y))}return l}applyTransform(s,l=!1){const c=ri();es(c,s);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&ip(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Td(f.latestValues)&&ip(c,f.latestValues)}return Td(this.latestValues)&&ip(c,this.latestValues),c}removeTransform(s){const l=ri();es(l,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Td(d.latestValues))continue;SA(d.latestValues)&&d.updateSnapshot();const f=ri(),m=d.measurePageBox();es(f,m),R6(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Td(this.latestValues)&&R6(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ea.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=ea.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ri(),this.relativeTargetOrigin=ri(),C0(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),es(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ri(),this.targetWithTransforms=ri()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):es(this.target,this.layout.layoutBox),rL(this.target,this.targetDelta)):es(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ri(),this.relativeTargetOrigin=ri(),C0(this.relativeTargetOrigin,this.target,v.target),es(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||SA(this.parent.latestValues)||aL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const s=this.getLead(),l=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ea.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;es(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,v=this.treeScale.y;UK(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=ri());const{target:y}=s;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(A6(this.prevProjectionDelta.x,this.projectionDelta.x),A6(this.prevProjectionDelta.y,this.projectionDelta.y)),A0(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==v||!P6(this.projectionDelta.x,this.prevProjectionDelta.x)||!P6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ap(),this.projectionDelta=ap(),this.projectionDeltaWithTransform=ap()}setAnimationOrigin(s,l=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},m=ap();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=ri(),y=c?c.source:void 0,x=this.layout?this.layout.source:void 0,_=y!==x,E=this.getStack(),R=!E||E.members.length<=1,A=!!(_&&!R&&this.options.crossfade===!0&&!this.path.some(S$));this.animationProgress=0;let w;this.mixTargetDelta=M=>{const D=M/1e3;F6(m.x,s.x,D),F6(m.y,s.y,D),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(C0(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),x$(this.relativeTarget,this.relativeTargetOrigin,v,D),w&&r$(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=ri()),es(w,this.relativeTarget)),_&&(this.animationValues=f,JX(f,d,this.latestValues,D,A,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(gu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fn.update(()=>{qb.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=hp(0)),this.currentAnimation=XX(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),s.onUpdate&&s.onUpdate(l)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(l$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:f}=s;if(!(!l||!c||!d)){if(this!==s&&this.layout&&d&&TL(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||ri();const m=Ia(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+m;const v=Ia(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+v}es(l,c),ip(l,f),A0(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new s$),this.sharedNodes.get(s).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){const{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&J2("z",s,d,this.animationValues);for(let f=0;f<Z2.length;f++)J2(`rotate${Z2[f]}`,s,d,this.animationValues),J2(`skew${Z2[f]}`,s,d,this.animationValues);s.render();for(const f in d)s.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);s.scheduleRender()}applyProjectionStyles(s,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=Gb(l?.pointerEvents)||"",s.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=Gb(l?.pointerEvents)||""),this.hasProjected&&!Td(this.latestValues)&&(s.transform=c?c({},""):"none",this.hasProjected=!1);return}s.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=o$(this.projectionDeltaWithTransform,this.treeScale,f);c&&(m=c(f,m)),s.transform=m;const{x:v,y}=this.projectionDelta;s.transformOrigin=`${v.origin*100}% ${y.origin*100}% 0`,d.animationValues?s.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:s.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in G0){if(f[x]===void 0)continue;const{correct:_,applyTo:E,isCSSVariable:R}=G0[x],A=m==="none"?f[x]:_(f[x],d);if(E){const w=E.length;for(let M=0;M<w;M++)s[E[M]]=A}else R?this.options.visualElement.renderState.vars[x]=A:s[x]=A}this.options.layoutId&&(s.pointerEvents=d===this?Gb(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(L6),this.root.sharedNodes.clear()}}}function u$(e){e.updateLayout()}function d$(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,r=t.source!==e.layout.source;a==="size"?ss(f=>{const m=r?t.measuredBox[f]:t.layoutBox[f],v=Ia(m);m.min=n[f].min,m.max=m.min+v}):TL(a,t.layoutBox,n)&&ss(f=>{const m=r?t.measuredBox[f]:t.layoutBox[f],v=Ia(n[f]);m.max=m.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+v)});const s=ap();A0(s,n,t.layoutBox);const l=ap();r?A0(l,e.applyTransform(i,!0),t.measuredBox):A0(l,n,t.layoutBox);const c=!wL(s);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:v}=f;if(m&&v){const y=ri();C0(y,t.layoutBox,m.layoutBox);const x=ri();C0(x,n,v.layoutBox),EL(y,x)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=y,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:s,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function h$(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function f$(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function p$(e){e.clearSnapshot()}function L6(e){e.clearMeasurements()}function k6(e){e.isLayoutDirty=!1}function g$(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function j6(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function m$(e){e.resolveTargetDelta()}function v$(e){e.calcProjection()}function y$(e){e.resetSkewAndRotation()}function b$(e){e.removeLeadSnapshot()}function F6(e,t,n){e.translate=qn(t.translate,0,n),e.scale=qn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function B6(e,t,n,i){e.min=qn(t.min,n.min,i),e.max=qn(t.max,n.max,i)}function x$(e,t,n,i){B6(e.x,t.x,n.x,i),B6(e.y,t.y,n.y,i)}function S$(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const _$={duration:.45,ease:[.4,0,.1,1]},I6=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),z6=I6("applewebkit/")&&!I6("chrome/")?Math.round:us;function U6(e){e.min=z6(e.min),e.max=z6(e.max)}function w$(e){U6(e.x),U6(e.y)}function TL(e,t,n){return e==="position"||e==="preserve-aspect"&&!MX(N6(t),N6(n),.2)}function E$(e){return e!==e.root&&e.scroll?.wasRoot}const A$=CL({attachResizeListener:(e,t)=>V0(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tS={current:void 0},RL=CL({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!tS.current){const e=new A$({});e.mount(window),e.setOptions({layoutScroll:!0}),tS.current=e}return tS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),C$={pan:{Feature:qX},drag:{Feature:GX,ProjectionNode:RL,MeasureLayout:xL}};function H6(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,r=i[a];r&&Fn.postRender(()=>r(t,pv(t)))}class T$ extends wu{mount(){const{current:t}=this.node;t&&(this.unmount=$Y(t,(n,i)=>(H6(this.node,i,"Start"),a=>H6(this.node,a,"End"))))}unmount(){}}class R$ extends wu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dv(V0(this.node.current,"focus",()=>this.onFocus()),V0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function G6(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),r=i[a];r&&Fn.postRender(()=>r(t,pv(t)))}class M$ extends wu{mount(){const{current:t}=this.node;t&&(this.unmount=JY(t,(n,i)=>(G6(this.node,i,"Start"),(a,{success:r})=>G6(this.node,a,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const RA=new WeakMap,eS=new WeakMap,D$=e=>{const t=RA.get(e.target);t&&t(e)},O$=e=>{e.forEach(D$)};function N$({root:e,...t}){const n=e||document;eS.has(n)||eS.set(n,{});const i=eS.get(n),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver(O$,{root:e,...t})),i[a]}function P$(e,t,n){const i=N$(t);return RA.set(e,n),i.observe(e),()=>{RA.delete(e),i.unobserve(e)}}const L$={some:0,all:1};class k$ extends wu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:r}=t,s={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:L$[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,r&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),v=d?f:m;v&&v(c)};return P$(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(j$(t,n))&&this.startObserver()}unmount(){}}function j$({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const F$={inView:{Feature:k$},tap:{Feature:M$},focus:{Feature:R$},hover:{Feature:T$}},B$={layout:{ProjectionNode:RL,MeasureLayout:xL}},I$={...wX,...F$,...C$,...B$},$e=BK(I$,QK),q6=["¡Nos alegra verte de vuelta!","Tu creatividad comienza aquí.","¡Bienvenido a Ntropia!","Haz tus ideas realidad."];function z$(){const[e,t]=j.useState(""),[n,i]=j.useState(""),[a,r]=j.useState(!1),[s,l]=j.useState(""),c=eh(),d=aV(),f=j.useMemo(()=>q6[Math.floor(Math.random()*q6.length)],[]),m=v=>{v.preventDefault(),l(""),d.mutate({email:e,password:n},{onSuccess:()=>{c("/dashboard")},onError:()=>{l("Correo o contraseña incorrectos.")}})};return F.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-900 via-indigo-900 to-sky-600",children:F.jsxs($e.div,{className:"bg-white/90 shadow-2xl rounded-2xl p-8 max-w-sm w-full",initial:{opacity:0,scale:.98,y:40},animate:{opacity:1,scale:1,y:0},transition:{duration:.4},children:[F.jsxs("div",{className:"flex flex-col items-center mb-6",children:[F.jsx(i4,{className:"h-12 w-12 text-sky-600 mb-2 animate-pulse"}),F.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Iniciar Sesión"}),F.jsx($e.p,{className:"text-gray-500 text-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},children:f})]}),F.jsxs("form",{className:"space-y-4",onSubmit:m,autoComplete:"on",children:[F.jsxs("div",{className:"relative",children:[F.jsx(lN,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),F.jsx("input",{type:"email",className:`w-full py-2 pl-10 pr-3 rounded-xl border ${s?"border-red-400":"border-gray-300"} focus:ring-2 focus:ring-sky-500 outline-none`,placeholder:"Correo electrónico",value:e,onChange:v=>t(v.target.value),autoFocus:!0,required:!0,autoComplete:"username",disabled:d.isPending})]}),F.jsxs("div",{className:"relative",children:[F.jsx(e1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),F.jsx("input",{type:a?"text":"password",className:`w-full py-2 pl-10 pr-10 rounded-xl border ${s?"border-red-400":"border-gray-300"} focus:ring-2 focus:ring-sky-500 outline-none`,placeholder:"Contraseña",value:n,onChange:v=>i(v.target.value),required:!0,autoComplete:"current-password",disabled:d.isPending,onKeyDown:v=>{v.key==="Enter"&&m(v)}}),F.jsx("button",{type:"button",tabIndex:-1,"aria-label":a?"Ocultar contraseña":"Mostrar contraseña",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-sky-600",onClick:()=>r(v=>!v),children:a?F.jsx(up,{className:"w-5 h-5"}):F.jsx(Vd,{className:"w-5 h-5"})})]}),F.jsx(J1,{children:s&&F.jsx($e.div,{className:"text-red-600 text-sm text-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:s})}),F.jsxs("button",{type:"submit",disabled:d.isPending,className:"w-full bg-sky-600 hover:bg-sky-700 text-white py-2 rounded-xl font-bold transition-all shadow-md flex items-center justify-center gap-2 disabled:opacity-70",children:[F.jsx(i4,{className:"w-5 h-5"}),d.isPending?"Entrando...":"Entrar"]})]}),F.jsxs("div",{className:"text-center text-sm mt-6 text-gray-500",children:["¿No tienes cuenta?"," ",F.jsx(q1,{to:"/register",className:"text-sky-600 font-bold hover:underline",children:"Regístrate aquí"})]})]})})}const V6=["¡Regístrate y crea sin límites!","Construye tus ideas con Ntropia.","Haz crecer tu creatividad.","Una cuenta, infinitas posibilidades."];function U$(){const[e,t]=j.useState(""),[n,i]=j.useState(""),[a,r]=j.useState(""),[s,l]=j.useState(!1),[c,d]=j.useState(!1),[f,m]=j.useState(""),[v,y]=j.useState(""),[x,_]=j.useState(""),[E,R]=j.useState(""),[A,w]=j.useState(""),M=eh(),D=rV(),P=j.useMemo(()=>V6[Math.floor(Math.random()*V6.length)],[]),z=L=>{if(L.preventDefault(),_(""),R(""),!/\S+@\S+\.\S+/.test(e)){_("Ingresa un correo electrónico válido.");return}if(n!==a){_("Las contraseñas no coinciden.");return}D.mutate({email:e,password:n,first_name:f,last_name:v||""},{onSuccess:()=>{R("¡Usuario registrado correctamente! Ahora puedes iniciar sesión."),setTimeout(()=>M("/login"),1800)},onError:()=>{_("No se pudo registrar. Contacta al administrador.")}})};return F.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-sky-600 via-indigo-900 to-purple-900",children:F.jsxs($e.div,{className:"bg-white/90 shadow-2xl rounded-2xl p-8 max-w-sm w-full",initial:{opacity:0,scale:.98,y:40},animate:{opacity:1,scale:1,y:0},transition:{duration:.4},children:[F.jsxs("div",{className:"flex flex-col items-center mb-6",children:[F.jsx(r4,{className:"h-12 w-12 text-purple-600 mb-2 animate-pulse"}),F.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Crear Cuenta"}),F.jsx($e.p,{className:"text-gray-500 text-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},children:P})]}),F.jsxs("form",{className:"space-y-4",onSubmit:z,autoComplete:"on",children:[F.jsxs("div",{className:"relative",children:[F.jsx(s4,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),F.jsx("input",{type:"text",className:`w-full py-2 pl-10 pr-3 rounded-xl border ${x&&!f?"border-red-400":"border-gray-300"} focus:ring-2 focus:ring-purple-500 outline-none`,placeholder:"Nombre",value:f,autoFocus:!0,onChange:L=>m(L.target.value),required:!0,autoComplete:"given-name",disabled:D.isPending})]}),F.jsxs("div",{className:"relative",children:[F.jsx(s4,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),F.jsx("input",{type:"text",className:`w-full py-2 pl-10 pr-3 rounded-xl border ${x&&!v?"border-red-400":"border-gray-300"} focus:ring-2 focus:ring-purple-500 outline-none`,placeholder:"Apellidos",value:v,onChange:L=>y(L.target.value),required:!0,autoComplete:"family-name",disabled:D.isPending})]}),F.jsxs("div",{className:"relative",children:[F.jsx(lN,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),F.jsx("input",{type:"email",className:`w-full py-2 pl-10 pr-3 rounded-xl border ${x&&x.toLowerCase().includes("correo")?"border-red-400":"border-gray-300"} focus:ring-2 focus:ring-purple-500 outline-none`,placeholder:"Correo electrónico",value:e,onChange:L=>t(L.target.value),required:!0,autoComplete:"email",disabled:D.isPending})]}),F.jsxs("div",{className:"relative",children:[F.jsx(e1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),F.jsx("input",{type:s?"text":"password",className:`w-full py-2 pl-10 pr-10 rounded-xl border ${x&&x.toLowerCase().includes("contraseña")?"border-red-400":"border-gray-300"} focus:ring-2 focus:ring-purple-500 outline-none`,placeholder:"Contraseña",value:n,onChange:L=>{i(L.target.value),a&&L.target.value===a&&w("")},required:!0,autoComplete:"new-password",disabled:D.isPending}),F.jsx("button",{type:"button",tabIndex:-1,"aria-label":s?"Ocultar contraseña":"Mostrar contraseña",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-purple-600",onClick:()=>l(L=>!L),children:s?F.jsx(up,{className:"w-5 h-5"}):F.jsx(Vd,{className:"w-5 h-5"})})]}),F.jsxs("div",{className:"relative",children:[F.jsx(e1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),F.jsx("input",{type:c?"text":"password",className:`w-full py-2 pl-10 pr-10 rounded-xl border ${x&&x.toLowerCase().includes("contraseña")?"border-red-400":"border-gray-300"} focus:ring-2 focus:ring-purple-500 outline-none`,placeholder:"Confirmar contraseña",value:a,onChange:L=>r(L.target.value),required:!0,autoComplete:"new-password",onBlur:()=>{w(a&&a!==n?"Las contraseñas no coinciden.":"")},disabled:D.isPending}),F.jsx("button",{type:"button",tabIndex:-1,"aria-label":c?"Ocultar contraseña":"Mostrar contraseña",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-purple-600",onClick:()=>d(L=>!L),children:c?F.jsx(up,{className:"w-5 h-5"}):F.jsx(Vd,{className:"w-5 h-5"})})]}),A&&F.jsx("div",{className:"text-red-500 text-xs pl-2 mt-1",children:A}),F.jsxs(J1,{children:[x&&F.jsx($e.div,{className:"text-red-600 text-sm text-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:x}),E&&F.jsx($e.div,{className:"text-green-600 text-sm text-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:E})]}),F.jsxs("button",{type:"submit",disabled:D.isPending,className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-2 rounded-xl font-bold transition-all shadow-md flex items-center justify-center gap-2 disabled:opacity-70",children:[F.jsx(r4,{className:"w-5 h-5"}),D.isPending?"Registrando...":"Crear cuenta"]})]}),F.jsxs("div",{className:"text-center text-sm mt-6 text-gray-500",children:["¿Ya tienes cuenta?"," ",F.jsx(q1,{to:"/login",className:"text-purple-600 font-bold hover:underline",children:"Inicia sesión aquí"})]})]})})}function ML(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=ML(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function Y6(){for(var e,t,n=0,i="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=ML(e))&&(i&&(i+=" "),i+=t);return i}var H$=Object.defineProperty,G$=(e,t,n)=>t in e?H$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nS=(e,t,n)=>(G$(e,typeof t!="symbol"?t+"":t,n),n);let q$=class{constructor(){nS(this,"current",this.detect()),nS(this,"handoffState","pending"),nS(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},qd=new q$;function ix(e){var t,n;return qd.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function ax(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function nc(){let e=[],t={addEventListener(n,i,a,r){return n.addEventListener(i,a,r),t.add(()=>n.removeEventListener(i,a,r))},requestAnimationFrame(...n){let i=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(i))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let i=setTimeout(...n);return t.add(()=>clearTimeout(i))},microTask(...n){let i={current:!0};return ax(()=>{i.current&&n[0]()}),t.add(()=>{i.current=!1})},style(n,i,a){let r=n.style.getPropertyValue(i);return Object.assign(n.style,{[i]:a}),this.add(()=>{Object.assign(n.style,{[i]:r})})},group(n){let i=nc();return n(i),this.add(()=>i.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let i=e.indexOf(n);if(i>=0)for(let a of e.splice(i,1))a()}},dispose(){for(let n of e.splice(0))n()}};return t}function h3(){let[e]=j.useState(nc);return j.useEffect(()=>()=>e.dispose(),[e]),e}let ba=(e,t)=>{qd.isServer?j.useEffect(e,t):j.useLayoutEffect(e,t)};function nh(e){let t=j.useRef(e);return ba(()=>{t.current=e},[e]),t}let En=function(e){let t=nh(e);return Y.useCallback((...n)=>t.current(...n),[t])},V$=j.createContext(void 0);function Y$(){return j.useContext(V$)}function MA(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function tc(e,t,...n){if(e in t){let a=t[e];return typeof a=="function"?a(...n):a}let i=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,tc),i}var h1=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(h1||{}),cu=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(cu||{});function gs(){let e=X$();return j.useCallback(t=>K$({mergeRefs:e,...t}),[e])}function K$({ourProps:e,theirProps:t,slot:n,defaultTag:i,features:a,visible:r=!0,name:s,mergeRefs:l}){l=l??$$;let c=DL(t,e);if(r)return fb(c,n,i,s,l);let d=a??0;if(d&2){let{static:f=!1,...m}=c;if(f)return fb(m,n,i,s,l)}if(d&1){let{unmount:f=!0,...m}=c;return tc(f?0:1,{0(){return null},1(){return fb({...m,hidden:!0,style:{display:"none"}},n,i,s,l)}})}return fb(c,n,i,s,l)}function fb(e,t={},n,i,a){let{as:r=n,children:s,refName:l="ref",...c}=iS(e,["unmount","static"]),d=e.ref!==void 0?{[l]:e.ref}:{},f=typeof s=="function"?s(t):s;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let m={};if(t){let v=!1,y=[];for(let[x,_]of Object.entries(t))typeof _=="boolean"&&(v=!0),_===!0&&y.push(x.replace(/([A-Z])/g,E=>`-${E.toLowerCase()}`));if(v){m["data-headlessui-state"]=y.join(" ");for(let x of y)m[`data-${x}`]=""}}if(r===j.Fragment&&(Object.keys(Rd(c)).length>0||Object.keys(Rd(m)).length>0))if(!j.isValidElement(f)||Array.isArray(f)&&f.length>1){if(Object.keys(Rd(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Rd(c)).concat(Object.keys(Rd(m))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=f.props,y=v?.className,x=typeof y=="function"?(...R)=>MA(y(...R),c.className):MA(y,c.className),_=x?{className:x}:{},E=DL(f.props,Rd(iS(c,["ref"])));for(let R in m)R in E&&delete m[R];return j.cloneElement(f,Object.assign({},E,m,d,{ref:a(W$(f),d.ref)},_))}return j.createElement(r,Object.assign({},iS(c,["ref"]),r!==j.Fragment&&d,r!==j.Fragment&&m),f)}function X$(){let e=j.useRef([]),t=j.useCallback(n=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(n):i.current=n)},[]);return(...n)=>{if(!n.every(i=>i==null))return e.current=n,t}}function $$(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function DL(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let i of e)for(let a in i)a.startsWith("on")&&typeof i[a]=="function"?(n[a]!=null||(n[a]=[]),n[a].push(i[a])):t[a]=i[a];if(t.disabled||t["aria-disabled"])for(let i in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(n[i]=[a=>{var r;return(r=a?.preventDefault)==null?void 0:r.call(a)}]);for(let i in n)Object.assign(t,{[i](a,...r){let s=n[i];for(let l of s){if((a instanceof Event||a?.nativeEvent instanceof Event)&&a.defaultPrevented)return;l(a,...r)}}});return t}function or(e){var t;return Object.assign(j.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Rd(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function iS(e,t=[]){let n=Object.assign({},e);for(let i of t)i in n&&delete n[i];return n}function W$(e){return Y.version.split(".")[0]>="19"?e.props.ref:e.ref}let Q$="span";var f1=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(f1||{});function Z$(e,t){var n;let{features:i=1,...a}=e,r={ref:t,"aria-hidden":(i&2)===2?!0:(n=a["aria-hidden"])!=null?n:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return gs()({ourProps:r,theirProps:a,slot:{},defaultTag:Q$,name:"Hidden"})}let DA=or(Z$);function OL(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function hu(e){return OL(e)&&"tagName"in e}function $d(e){return hu(e)&&"accessKey"in e}function uu(e){return hu(e)&&"tabIndex"in e}function J$(e){return hu(e)&&"style"in e}function tW(e){return $d(e)&&e.nodeName==="IFRAME"}function eW(e){return $d(e)&&e.nodeName==="INPUT"}let NL=Symbol();function nW(e,t=!0){return Object.assign(e,{[NL]:t})}function al(...e){let t=j.useRef(e);j.useEffect(()=>{t.current=e},[e]);let n=En(i=>{for(let a of t.current)a!=null&&(typeof a=="function"?a(i):a.current=i)});return e.every(i=>i==null||i?.[NL])?void 0:n}let f3=j.createContext(null);f3.displayName="DescriptionContext";function PL(){let e=j.useContext(f3);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,PL),t}return e}function iW(){let[e,t]=j.useState([]);return[e.length>0?e.join(" "):void 0,j.useMemo(()=>function(n){let i=En(r=>(t(s=>[...s,r]),()=>t(s=>{let l=s.slice(),c=l.indexOf(r);return c!==-1&&l.splice(c,1),l}))),a=j.useMemo(()=>({register:i,slot:n.slot,name:n.name,props:n.props,value:n.value}),[i,n.slot,n.name,n.props,n.value]);return Y.createElement(f3.Provider,{value:a},n.children)},[t])]}let aW="p";function rW(e,t){let n=j.useId(),i=Y$(),{id:a=`headlessui-description-${n}`,...r}=e,s=PL(),l=al(t);ba(()=>s.register(a),[a,s.register]);let c=i||!1,d=j.useMemo(()=>({...s.slot,disabled:c}),[s.slot,c]),f={ref:l,...s.props,id:a};return gs()({ourProps:f,theirProps:r,slot:d,defaultTag:aW,name:s.name||"Description"})}let sW=or(rW),oW=Object.assign(sW,{});var LL=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(LL||{});let lW=j.createContext(()=>{});function cW({value:e,children:t}){return Y.createElement(lW.Provider,{value:e},t)}let kL=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var uW=Object.defineProperty,dW=(e,t,n)=>t in e?uW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hW=(e,t,n)=>(dW(e,t+"",n),n),jL=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},ns=(e,t,n)=>(jL(e,t,"read from private field"),n?n.call(e):t.get(e)),aS=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},K6=(e,t,n,i)=>(jL(e,t,"write to private field"),t.set(e,n),n),$o,u0,d0;let fW=class{constructor(t){aS(this,$o,{}),aS(this,u0,new kL(()=>new Set)),aS(this,d0,new Set),hW(this,"disposables",nc()),K6(this,$o,t)}dispose(){this.disposables.dispose()}get state(){return ns(this,$o)}subscribe(t,n){let i={selector:t,callback:n,current:t(ns(this,$o))};return ns(this,d0).add(i),this.disposables.add(()=>{ns(this,d0).delete(i)})}on(t,n){return ns(this,u0).get(t).add(n),this.disposables.add(()=>{ns(this,u0).get(t).delete(n)})}send(t){let n=this.reduce(ns(this,$o),t);if(n!==ns(this,$o)){K6(this,$o,n);for(let i of ns(this,d0)){let a=i.selector(ns(this,$o));FL(i.current,a)||(i.current=a,i.callback(a))}for(let i of ns(this,u0).get(t.type))i(ns(this,$o),t)}}};$o=new WeakMap,u0=new WeakMap,d0=new WeakMap;function FL(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:rS(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:rS(e.entries(),t.entries()):X6(e)&&X6(t)?rS(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function rS(e,t){do{let n=e.next(),i=t.next();if(n.done&&i.done)return!0;if(n.done||i.done||!Object.is(n.value,i.value))return!1}while(!0)}function X6(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var pW=Object.defineProperty,gW=(e,t,n)=>t in e?pW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$6=(e,t,n)=>(gW(e,typeof t!="symbol"?t+"":t,n),n),mW=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(mW||{});let vW={0(e,t){let n=t.id,i=e.stack,a=e.stack.indexOf(n);if(a!==-1){let r=e.stack.slice();return r.splice(a,1),r.push(n),i=r,{...e,stack:i}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,i=e.stack.indexOf(n);if(i===-1)return e;let a=e.stack.slice();return a.splice(i,1),{...e,stack:a}}},yW=class BL extends fW{constructor(){super(...arguments),$6(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),$6(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new BL({stack:[]})}reduce(t,n){return tc(n.type,vW,t,n)}};const IL=new kL(()=>yW.new());var sS={exports:{}},oS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W6;function bW(){if(W6)return oS;W6=1;var e=il();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,a=e.useRef,r=e.useEffect,s=e.useMemo,l=e.useDebugValue;return oS.useSyncExternalStoreWithSelector=function(c,d,f,m,v){var y=a(null);if(y.current===null){var x={hasValue:!1,value:null};y.current=x}else x=y.current;y=s(function(){function E(D){if(!R){if(R=!0,A=D,D=m(D),v!==void 0&&x.hasValue){var P=x.value;if(v(P,D))return w=P}return w=D}if(P=w,n(A,D))return P;var z=m(D);return v!==void 0&&v(P,z)?(A=D,P):(A=D,w=z)}var R=!1,A,w,M=f===void 0?null:f;return[function(){return E(d())},M===null?void 0:function(){return E(M())}]},[d,f,m,v]);var _=i(c,y[0],y[1]);return r(function(){x.hasValue=!0,x.value=_},[_]),l(_),_},oS}var Q6;function xW(){return Q6||(Q6=1,sS.exports=bW()),sS.exports}var SW=xW();function zL(e,t,n=FL){return SW.useSyncExternalStoreWithSelector(En(i=>e.subscribe(_W,i)),En(()=>e.state),En(()=>e.state),En(t),n)}function _W(e){return e}function gv(e,t){let n=j.useId(),i=IL.get(t),[a,r]=zL(i,j.useCallback(s=>[i.selectors.isTop(s,n),i.selectors.inStack(s,n)],[i,n]));return ba(()=>{if(e)return i.actions.push(n),()=>i.actions.pop(n)},[i,e,n]),e?r?a:!0:!1}let OA=new Map,T0=new Map;function Z6(e){var t;let n=(t=T0.get(e))!=null?t:0;return T0.set(e,n+1),n!==0?()=>J6(e):(OA.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>J6(e))}function J6(e){var t;let n=(t=T0.get(e))!=null?t:1;if(n===1?T0.delete(e):T0.set(e,n-1),n!==1)return;let i=OA.get(e);i&&(i["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",i["aria-hidden"]),e.inert=i.inert,OA.delete(e))}function wW(e,{allowed:t,disallowed:n}={}){let i=gv(e,"inert-others");ba(()=>{var a,r;if(!i)return;let s=nc();for(let c of(a=n?.())!=null?a:[])c&&s.add(Z6(c));let l=(r=t?.())!=null?r:[];for(let c of l){if(!c)continue;let d=ix(c);if(!d)continue;let f=c.parentElement;for(;f&&f!==d.body;){for(let m of f.children)l.some(v=>m.contains(v))||s.add(Z6(m));f=f.parentElement}}return s.dispose},[i,t,n])}function EW(e,t,n){let i=nh(a=>{let r=a.getBoundingClientRect();r.x===0&&r.y===0&&r.width===0&&r.height===0&&n()});j.useEffect(()=>{if(!e)return;let a=t===null?null:$d(t)?t:t.current;if(!a)return;let r=nc();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>i.current(a));s.observe(a),r.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>i.current(a));s.observe(a),r.add(()=>s.disconnect())}return()=>r.dispose()},[t,i,e])}let p1=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),AW=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Xl=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Xl||{}),NA=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(NA||{}),CW=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(CW||{});function TW(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(p1)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function RW(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(AW)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var UL=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(UL||{});function MW(e,t=0){var n;return e===((n=ix(e))==null?void 0:n.body)?!1:tc(t,{0(){return e.matches(p1)},1(){let i=e;for(;i!==null;){if(i.matches(p1))return!0;i=i.parentElement}return!1}})}var DW=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(DW||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Wl(e){e?.focus({preventScroll:!0})}let OW=["textarea","input"].join(",");function NW(e){var t,n;return(n=(t=e?.matches)==null?void 0:t.call(e,OW))!=null?n:!1}function PW(e,t=n=>n){return e.slice().sort((n,i)=>{let a=t(n),r=t(i);if(a===null||r===null)return 0;let s=a.compareDocumentPosition(r);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function R0(e,t,{sorted:n=!0,relativeTo:i=null,skipElements:a=[]}={}){let r=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?n?PW(e):e:t&64?RW(e):TW(e);a.length>0&&s.length>1&&(s=s.filter(y=>!a.some(x=>x!=null&&"current"in x?x?.current===y:x===y))),i=i??r.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,s.indexOf(i))-1;if(t&4)return Math.max(0,s.indexOf(i))+1;if(t&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},f=0,m=s.length,v;do{if(f>=m||f+m<=0)return 0;let y=c+f;if(t&16)y=(y+m)%m;else{if(y<0)return 3;if(y>=m)return 1}v=s[y],v?.focus(d),f+=l}while(v!==r.activeElement);return t&6&&NW(v)&&v.select(),2}function HL(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function LW(){return/Android/gi.test(window.navigator.userAgent)}function tR(){return HL()||LW()}function pb(e,t,n,i){let a=nh(n);j.useEffect(()=>{if(!e)return;function r(s){a.current(s)}return document.addEventListener(t,r,i),()=>document.removeEventListener(t,r,i)},[e,t,i])}function GL(e,t,n,i){let a=nh(n);j.useEffect(()=>{if(!e)return;function r(s){a.current(s)}return window.addEventListener(t,r,i),()=>window.removeEventListener(t,r,i)},[e,t,i])}const eR=30;function kW(e,t,n){let i=nh(n),a=j.useCallback(function(l,c){if(l.defaultPrevented)return;let d=c(l);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let f=function m(v){return typeof v=="function"?m(v()):Array.isArray(v)||v instanceof Set?v:[v]}(t);for(let m of f)if(m!==null&&(m.contains(d)||l.composed&&l.composedPath().includes(m)))return;return!MW(d,UL.Loose)&&d.tabIndex!==-1&&l.preventDefault(),i.current(l,d)},[i,t]),r=j.useRef(null);pb(e,"pointerdown",l=>{var c,d;tR()||(r.current=((d=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:d[0])||l.target)},!0),pb(e,"pointerup",l=>{if(tR()||!r.current)return;let c=r.current;return r.current=null,a(l,()=>c)},!0);let s=j.useRef({x:0,y:0});pb(e,"touchstart",l=>{s.current.x=l.touches[0].clientX,s.current.y=l.touches[0].clientY},!0),pb(e,"touchend",l=>{let c={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(c.x-s.current.x)>=eR||Math.abs(c.y-s.current.y)>=eR))return a(l,()=>uu(l.target)?l.target:null)},!0),GL(e,"blur",l=>a(l,()=>tW(window.document.activeElement)?window.document.activeElement:null),!0)}function rx(...e){return j.useMemo(()=>ix(...e),[...e])}function qL(e,t,n,i){let a=nh(n);j.useEffect(()=>{e=e??window;function r(s){a.current(s)}return e.addEventListener(t,r,i),()=>e.removeEventListener(t,r,i)},[e,t,i])}function jW(e){return j.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function FW(e,t){let n=e(),i=new Set;return{getSnapshot(){return n},subscribe(a){return i.add(a),()=>i.delete(a)},dispatch(a,...r){let s=t[a].call(n,...r);s&&(n=s,i.forEach(l=>l()))}}}function BW(){let e;return{before({doc:t}){var n;let i=t.documentElement,a=(n=t.defaultView)!=null?n:window;e=Math.max(0,a.innerWidth-i.clientWidth)},after({doc:t,d:n}){let i=t.documentElement,a=Math.max(0,i.clientWidth-i.offsetWidth),r=Math.max(0,e-a);n.style(i,"paddingRight",`${r}px`)}}}function IW(){return HL()?{before({doc:e,d:t,meta:n}){function i(a){return n.containers.flatMap(r=>r()).some(r=>r.contains(a))}t.microTask(()=>{var a;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=nc();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let r=(a=window.scrollY)!=null?a:window.pageYOffset,s=null;t.addEventListener(e,"click",l=>{if(uu(l.target))try{let c=l.target.closest("a");if(!c)return;let{hash:d}=new URL(c.href),f=e.querySelector(d);uu(f)&&!i(f)&&(s=f)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(uu(l.target)&&J$(l.target))if(i(l.target)){let c=l.target;for(;c.parentElement&&i(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(uu(l.target)){if(eW(l.target))return;if(i(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;r!==c&&window.scrollTo(0,r),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function zW(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function UW(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let kd=FW(()=>new Map,{PUSH(e,t){var n;let i=(n=this.get(e))!=null?n:{doc:e,count:0,d:nc(),meta:new Set};return i.count++,i.meta.add(t),this.set(e,i),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let i={doc:e,d:t,meta:UW(n)},a=[IW(),BW(),zW()];a.forEach(({before:r})=>r?.(i)),a.forEach(({after:r})=>r?.(i))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});kd.subscribe(()=>{let e=kd.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let i=t.get(n.doc)==="hidden",a=n.count!==0;(a&&!i||!a&&i)&&kd.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&kd.dispatch("TEARDOWN",n)}});function HW(e,t,n=()=>({containers:[]})){let i=jW(kd),a=t?i.get(t):void 0,r=a?a.count>0:!1;return ba(()=>{if(!(!t||!e))return kd.dispatch("PUSH",t,n),()=>kd.dispatch("POP",t,n)},[e,t]),r}function GW(e,t,n=()=>[document.body]){let i=gv(e,"scroll-lock");HW(i,t,a=>{var r;return{containers:[...(r=a.containers)!=null?r:[],n]}})}function qW(e=0){let[t,n]=j.useState(e),i=j.useCallback(c=>n(c),[t]),a=j.useCallback(c=>n(d=>d|c),[t]),r=j.useCallback(c=>(t&c)===c,[t]),s=j.useCallback(c=>n(d=>d&~c),[n]),l=j.useCallback(c=>n(d=>d^c),[n]);return{flags:t,setFlag:i,addFlag:a,hasFlag:r,removeFlag:s,toggleFlag:l}}var VW={},nR,iR;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((nR=process==null?void 0:VW)==null?void 0:nR.NODE_ENV)==="test"&&typeof((iR=Element?.prototype)==null?void 0:iR.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var YW=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(YW||{});function KW(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function XW(e,t,n,i){let[a,r]=j.useState(n),{hasFlag:s,addFlag:l,removeFlag:c}=qW(e&&a?3:0),d=j.useRef(!1),f=j.useRef(!1),m=h3();return ba(()=>{var v;if(e){if(n&&r(!0),!t){n&&l(3);return}return(v=i?.start)==null||v.call(i,n),$W(t,{inFlight:d,prepare(){f.current?f.current=!1:f.current=d.current,d.current=!0,!f.current&&(n?(l(3),c(4)):(l(4),c(2)))},run(){f.current?n?(c(3),l(4)):(c(4),l(3)):n?c(1):l(1)},done(){var y;f.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(d.current=!1,c(7),n||r(!1),(y=i?.end)==null||y.call(i,n))}})}},[e,n,t,m]),e?[a,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function $W(e,{prepare:t,run:n,done:i,inFlight:a}){let r=nc();return QW(e,{prepare:t,inFlight:a}),r.nextFrame(()=>{n(),r.requestAnimationFrame(()=>{r.add(WW(e,i))})}),r.dispose}function WW(e,t){var n,i;let a=nc();if(!e)return a.dispose;let r=!1;a.add(()=>{r=!0});let s=(i=(n=e.getAnimations)==null?void 0:n.call(e).filter(l=>l instanceof CSSTransition))!=null?i:[];return s.length===0?(t(),a.dispose):(Promise.allSettled(s.map(l=>l.finished)).then(()=>{r||t()}),a.dispose)}function QW(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let i=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=i}function p3(e,t){let n=j.useRef([]),i=En(e);j.useEffect(()=>{let a=[...n.current];for(let[r,s]of t.entries())if(n.current[r]!==s){let l=i(t,a);return n.current=t,l}},[i,...t])}let sx=j.createContext(null);sx.displayName="OpenClosedContext";var $s=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))($s||{});function ox(){return j.useContext(sx)}function ZW({value:e,children:t}){return Y.createElement(sx.Provider,{value:e},t)}function JW({children:e}){return Y.createElement(sx.Provider,{value:null},e)}function tQ(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let ru=[];tQ(()=>{function e(t){if(!uu(t.target)||t.target===document.body||ru[0]===t.target)return;let n=t.target;n=n.closest(p1),ru.unshift(n??t.target),ru=ru.filter(i=>i!=null&&i.isConnected),ru.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function VL(e){let t=En(e),n=j.useRef(!1);j.useEffect(()=>(n.current=!1,()=>{n.current=!0,ax(()=>{n.current&&t()})}),[t])}function eQ(){let e=typeof document>"u";return"useSyncExternalStore"in z5?(t=>t.useSyncExternalStore)(z5)(()=>()=>{},()=>!1,()=>!e):!1}function mv(){let e=eQ(),[t,n]=j.useState(qd.isHandoffComplete);return t&&qd.isHandoffComplete===!1&&n(!1),j.useEffect(()=>{t!==!0&&n(!0)},[t]),j.useEffect(()=>qd.handoff(),[]),e?!1:t}let YL=j.createContext(!1);function nQ(){return j.useContext(YL)}function aR(e){return Y.createElement(YL.Provider,{value:e.force},e.children)}function iQ(e){let t=nQ(),n=j.useContext(XL),[i,a]=j.useState(()=>{var r;if(!t&&n!==null)return(r=n.current)!=null?r:null;if(qd.isServer)return null;let s=e?.getElementById("headlessui-portal-root");if(s)return s;if(e===null)return null;let l=e.createElement("div");return l.setAttribute("id","headlessui-portal-root"),e.body.appendChild(l)});return j.useEffect(()=>{i!==null&&(e!=null&&e.body.contains(i)||e==null||e.body.appendChild(i))},[i,e]),j.useEffect(()=>{t||n!==null&&a(n.current)},[n,a,t]),i}let KL=j.Fragment,aQ=or(function(e,t){let{ownerDocument:n=null,...i}=e,a=j.useRef(null),r=al(nW(y=>{a.current=y}),t),s=rx(a),l=n??s,c=iQ(l),[d]=j.useState(()=>{var y;return qd.isServer?null:(y=l?.createElement("div"))!=null?y:null}),f=j.useContext(PA),m=mv();ba(()=>{!c||!d||c.contains(d)||(d.setAttribute("data-headlessui-portal",""),c.appendChild(d))},[c,d]),ba(()=>{if(d&&f)return f.register(d)},[f,d]),VL(()=>{var y;!c||!d||(OL(d)&&c.contains(d)&&c.removeChild(d),c.childNodes.length<=0&&((y=c.parentElement)==null||y.removeChild(c)))});let v=gs();return m?!c||!d?null:sv.createPortal(v({ourProps:{ref:r},theirProps:i,slot:{},defaultTag:KL,name:"Portal"}),d):null});function rQ(e,t){let n=al(t),{enabled:i=!0,ownerDocument:a,...r}=e,s=gs();return i?Y.createElement(aQ,{...r,ownerDocument:a,ref:n}):s({ourProps:{ref:n},theirProps:r,slot:{},defaultTag:KL,name:"Portal"})}let sQ=j.Fragment,XL=j.createContext(null);function oQ(e,t){let{target:n,...i}=e,a={ref:al(t)},r=gs();return Y.createElement(XL.Provider,{value:n},r({ourProps:a,theirProps:i,defaultTag:sQ,name:"Popover.Group"}))}let PA=j.createContext(null);function lQ(){let e=j.useContext(PA),t=j.useRef([]),n=En(r=>(t.current.push(r),e&&e.register(r),()=>i(r))),i=En(r=>{let s=t.current.indexOf(r);s!==-1&&t.current.splice(s,1),e&&e.unregister(r)}),a=j.useMemo(()=>({register:n,unregister:i,portals:t}),[n,i,t]);return[t,j.useMemo(()=>function({children:r}){return Y.createElement(PA.Provider,{value:a},r)},[a])]}let cQ=or(rQ),$L=or(oQ),uQ=Object.assign(cQ,{Group:$L});function dQ(e,t=typeof document<"u"?document.defaultView:null,n){let i=gv(e,"escape");qL(t,"keydown",a=>{i&&(a.defaultPrevented||a.key===LL.Escape&&n(a))})}function hQ(){var e;let[t]=j.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,i]=j.useState((e=t?.matches)!=null?e:!1);return ba(()=>{if(!t)return;function a(r){i(r.matches)}return t.addEventListener("change",a),()=>t.removeEventListener("change",a)},[t]),n}function fQ({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let i=rx(n),a=En(()=>{var r,s;let l=[];for(let c of e)c!==null&&(hu(c)?l.push(c):"current"in c&&hu(c.current)&&l.push(c.current));if(t!=null&&t.current)for(let c of t.current)l.push(c);for(let c of(r=i?.querySelectorAll("html > *, body > *"))!=null?r:[])c!==document.body&&c!==document.head&&hu(c)&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((s=n?.getRootNode())==null?void 0:s.host))||l.some(d=>c.contains(d))||l.push(c));return l});return{resolveContainers:a,contains:En(r=>a().some(s=>s.contains(r)))}}let WL=j.createContext(null);function rR({children:e,node:t}){let[n,i]=j.useState(null),a=QL(t??n);return Y.createElement(WL.Provider,{value:a},e,a===null&&Y.createElement(DA,{features:f1.Hidden,ref:r=>{var s,l;if(r){for(let c of(l=(s=ix(r))==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])if(c!==document.body&&c!==document.head&&hu(c)&&c!=null&&c.contains(r)){i(c);break}}}}))}function QL(e=null){var t;return(t=j.useContext(WL))!=null?t:e}function g3(){let e=j.useRef(!1);return ba(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var h0=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(h0||{});function pQ(){let e=j.useRef(0);return GL(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function ZL(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)hu(n.current)&&t.add(n.current);return t}let gQ="div";var Dd=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Dd||{});function mQ(e,t){let n=j.useRef(null),i=al(n,t),{initialFocus:a,initialFocusFallback:r,containers:s,features:l=15,...c}=e;mv()||(l=0);let d=rx(n);xQ(l,{ownerDocument:d});let f=SQ(l,{ownerDocument:d,container:n,initialFocus:a,initialFocusFallback:r});_Q(l,{ownerDocument:d,container:n,containers:s,previousActiveElement:f});let m=pQ(),v=En(A=>{if(!$d(n.current))return;let w=n.current;(M=>M())(()=>{tc(m.current,{[h0.Forwards]:()=>{R0(w,Xl.First,{skipElements:[A.relatedTarget,r]})},[h0.Backwards]:()=>{R0(w,Xl.Last,{skipElements:[A.relatedTarget,r]})}})})}),y=gv(!!(l&2),"focus-trap#tab-lock"),x=h3(),_=j.useRef(!1),E={ref:i,onKeyDown(A){A.key=="Tab"&&(_.current=!0,x.requestAnimationFrame(()=>{_.current=!1}))},onBlur(A){if(!(l&4))return;let w=ZL(s);$d(n.current)&&w.add(n.current);let M=A.relatedTarget;uu(M)&&M.dataset.headlessuiFocusGuard!=="true"&&(JL(w,M)||(_.current?R0(n.current,tc(m.current,{[h0.Forwards]:()=>Xl.Next,[h0.Backwards]:()=>Xl.Previous})|Xl.WrapAround,{relativeTo:A.target}):uu(A.target)&&Wl(A.target)))}},R=gs();return Y.createElement(Y.Fragment,null,y&&Y.createElement(DA,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:f1.Focusable}),R({ourProps:E,theirProps:c,defaultTag:gQ,name:"FocusTrap"}),y&&Y.createElement(DA,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:f1.Focusable}))}let vQ=or(mQ),yQ=Object.assign(vQ,{features:Dd});function bQ(e=!0){let t=j.useRef(ru.slice());return p3(([n],[i])=>{i===!0&&n===!1&&ax(()=>{t.current.splice(0)}),i===!1&&n===!0&&(t.current=ru.slice())},[e,ru,t]),En(()=>{var n;return(n=t.current.find(i=>i!=null&&i.isConnected))!=null?n:null})}function xQ(e,{ownerDocument:t}){let n=!!(e&8),i=bQ(n);p3(()=>{n||t?.activeElement===t?.body&&Wl(i())},[n]),VL(()=>{n&&Wl(i())})}function SQ(e,{ownerDocument:t,container:n,initialFocus:i,initialFocusFallback:a}){let r=j.useRef(null),s=gv(!!(e&1),"focus-trap#initial-focus"),l=g3();return p3(()=>{if(e===0)return;if(!s){a!=null&&a.current&&Wl(a.current);return}let c=n.current;c&&ax(()=>{if(!l.current)return;let d=t?.activeElement;if(i!=null&&i.current){if(i?.current===d){r.current=d;return}}else if(c.contains(d)){r.current=d;return}if(i!=null&&i.current)Wl(i.current);else{if(e&16){if(R0(c,Xl.First|Xl.AutoFocus)!==NA.Error)return}else if(R0(c,Xl.First)!==NA.Error)return;if(a!=null&&a.current&&(Wl(a.current),t?.activeElement===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}r.current=t?.activeElement})},[a,s,e]),r}function _Q(e,{ownerDocument:t,container:n,containers:i,previousActiveElement:a}){let r=g3(),s=!!(e&4);qL(t?.defaultView,"focus",l=>{if(!s||!r.current)return;let c=ZL(i);$d(n.current)&&c.add(n.current);let d=a.current;if(!d)return;let f=l.target;$d(f)?JL(c,f)?(a.current=f,Wl(f)):(l.preventDefault(),l.stopPropagation(),Wl(d)):Wl(a.current)},!0)}function JL(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function tk(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:nk)!==j.Fragment||Y.Children.count(e.children)===1}let lx=j.createContext(null);lx.displayName="TransitionContext";var wQ=(e=>(e.Visible="visible",e.Hidden="hidden",e))(wQ||{});function EQ(){let e=j.useContext(lx);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function AQ(){let e=j.useContext(cx);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let cx=j.createContext(null);cx.displayName="NestingContext";function ux(e){return"children"in e?ux(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function ek(e,t){let n=nh(e),i=j.useRef([]),a=g3(),r=h3(),s=En((y,x=cu.Hidden)=>{let _=i.current.findIndex(({el:E})=>E===y);_!==-1&&(tc(x,{[cu.Unmount](){i.current.splice(_,1)},[cu.Hidden](){i.current[_].state="hidden"}}),r.microTask(()=>{var E;!ux(i)&&a.current&&((E=n.current)==null||E.call(n))}))}),l=En(y=>{let x=i.current.find(({el:_})=>_===y);return x?x.state!=="visible"&&(x.state="visible"):i.current.push({el:y,state:"visible"}),()=>s(y,cu.Unmount)}),c=j.useRef([]),d=j.useRef(Promise.resolve()),f=j.useRef({enter:[],leave:[]}),m=En((y,x,_)=>{c.current.splice(0),t&&(t.chains.current[x]=t.chains.current[x].filter(([E])=>E!==y)),t?.chains.current[x].push([y,new Promise(E=>{c.current.push(E)})]),t?.chains.current[x].push([y,new Promise(E=>{Promise.all(f.current[x].map(([R,A])=>A)).then(()=>E())})]),x==="enter"?d.current=d.current.then(()=>t?.wait.current).then(()=>_(x)):_(x)}),v=En((y,x,_)=>{Promise.all(f.current[x].splice(0).map(([E,R])=>R)).then(()=>{var E;(E=c.current.shift())==null||E()}).then(()=>_(x))});return j.useMemo(()=>({children:i,register:l,unregister:s,onStart:m,onStop:v,wait:d,chains:f}),[l,s,i,m,v,f,d])}let nk=j.Fragment,ik=h1.RenderStrategy;function CQ(e,t){var n,i;let{transition:a=!0,beforeEnter:r,afterEnter:s,beforeLeave:l,afterLeave:c,enter:d,enterFrom:f,enterTo:m,entered:v,leave:y,leaveFrom:x,leaveTo:_,...E}=e,[R,A]=j.useState(null),w=j.useRef(null),M=tk(e),D=al(...M?[w,t,A]:t===null?[]:[t]),P=(n=E.unmount)==null||n?cu.Unmount:cu.Hidden,{show:z,appear:L,initial:U}=EQ(),[I,q]=j.useState(z?"visible":"hidden"),J=AQ(),{register:it,unregister:at}=J;ba(()=>it(w),[it,w]),ba(()=>{if(P===cu.Hidden&&w.current){if(z&&I!=="visible"){q("visible");return}return tc(I,{hidden:()=>at(w),visible:()=>it(w)})}},[I,w,it,at,z,P]);let et=mv();ba(()=>{if(M&&et&&I==="visible"&&w.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[w,I,et,M]);let Z=U&&!L,B=L&&z&&U,V=j.useRef(!1),W=ek(()=>{V.current||(q("hidden"),at(w))},J),H=En(tt=>{V.current=!0;let ut=tt?"enter":"leave";W.onStart(w,ut,Et=>{Et==="enter"?r?.():Et==="leave"&&l?.()})}),K=En(tt=>{let ut=tt?"enter":"leave";V.current=!1,W.onStop(w,ut,Et=>{Et==="enter"?s?.():Et==="leave"&&c?.()}),ut==="leave"&&!ux(W)&&(q("hidden"),at(w))});j.useEffect(()=>{M&&a||(H(z),K(z))},[z,M,a]);let nt=!(!a||!M||!et||Z),[,$]=XW(nt,R,z,{start:H,end:K}),lt=Rd({ref:D,className:((i=MA(E.className,B&&d,B&&f,$.enter&&d,$.enter&&$.closed&&f,$.enter&&!$.closed&&m,$.leave&&y,$.leave&&!$.closed&&x,$.leave&&$.closed&&_,!$.transition&&z&&v))==null?void 0:i.trim())||void 0,...KW($)}),yt=0;I==="visible"&&(yt|=$s.Open),I==="hidden"&&(yt|=$s.Closed),z&&I==="hidden"&&(yt|=$s.Opening),!z&&I==="visible"&&(yt|=$s.Closing);let ot=gs();return Y.createElement(cx.Provider,{value:W},Y.createElement(ZW,{value:yt},ot({ourProps:lt,theirProps:E,defaultTag:nk,features:ik,visible:I==="visible",name:"Transition.Child"})))}function TQ(e,t){let{show:n,appear:i=!1,unmount:a=!0,...r}=e,s=j.useRef(null),l=tk(e),c=al(...l?[s,t]:t===null?[]:[t]);mv();let d=ox();if(n===void 0&&d!==null&&(n=(d&$s.Open)===$s.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[f,m]=j.useState(n?"visible":"hidden"),v=ek(()=>{n||m("hidden")}),[y,x]=j.useState(!0),_=j.useRef([n]);ba(()=>{y!==!1&&_.current[_.current.length-1]!==n&&(_.current.push(n),x(!1))},[_,n]);let E=j.useMemo(()=>({show:n,appear:i,initial:y}),[n,i,y]);ba(()=>{n?m("visible"):!ux(v)&&s.current!==null&&m("hidden")},[n,v]);let R={unmount:a},A=En(()=>{var D;y&&x(!1),(D=e.beforeEnter)==null||D.call(e)}),w=En(()=>{var D;y&&x(!1),(D=e.beforeLeave)==null||D.call(e)}),M=gs();return Y.createElement(cx.Provider,{value:v},Y.createElement(lx.Provider,{value:E},M({ourProps:{...R,as:j.Fragment,children:Y.createElement(ak,{ref:c,...R,...r,beforeEnter:A,beforeLeave:w})},theirProps:{},defaultTag:j.Fragment,features:ik,visible:f==="visible",name:"Transition"})))}function RQ(e,t){let n=j.useContext(lx)!==null,i=ox()!==null;return Y.createElement(Y.Fragment,null,!n&&i?Y.createElement(LA,{ref:t,...e}):Y.createElement(ak,{ref:t,...e}))}let LA=or(TQ),ak=or(CQ),m3=or(RQ),MQ=Object.assign(LA,{Child:m3,Root:LA});var DQ=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(DQ||{}),OQ=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(OQ||{});let NQ={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},v3=j.createContext(null);v3.displayName="DialogContext";function dx(e){let t=j.useContext(v3);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,dx),n}return t}function PQ(e,t){return tc(t.type,NQ,e,t)}let sR=or(function(e,t){let n=j.useId(),{id:i=`headlessui-dialog-${n}`,open:a,onClose:r,initialFocus:s,role:l="dialog",autoFocus:c=!0,__demoMode:d=!1,unmount:f=!1,...m}=e,v=j.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(v.current||(v.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let y=ox();a===void 0&&y!==null&&(a=(y&$s.Open)===$s.Open);let x=j.useRef(null),_=al(x,t),E=rx(x),R=a?0:1,[A,w]=j.useReducer(PQ,{titleId:null,descriptionId:null,panelRef:j.createRef()}),M=En(()=>r(!1)),D=En($=>w({type:0,id:$})),P=mv()?R===0:!1,[z,L]=lQ(),U={get current(){var $;return($=A.panelRef.current)!=null?$:x.current}},I=QL(),{resolveContainers:q}=fQ({mainTreeNode:I,portals:z,defaultContainers:[U]}),J=y!==null?(y&$s.Closing)===$s.Closing:!1;wW(d||J?!1:P,{allowed:En(()=>{var $,lt;return[(lt=($=x.current)==null?void 0:$.closest("[data-headlessui-portal]"))!=null?lt:null]}),disallowed:En(()=>{var $;return[($=I?.closest("body > *:not(#headlessui-portal-root)"))!=null?$:null]})});let it=IL.get(null);ba(()=>{if(P)return it.actions.push(i),()=>it.actions.pop(i)},[it,i,P]);let at=zL(it,j.useCallback($=>it.selectors.isTop($,i),[it,i]));kW(at,q,$=>{$.preventDefault(),M()}),dQ(at,E?.defaultView,$=>{$.preventDefault(),$.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),M()}),GW(d||J?!1:P,E,q),EW(P,x,M);let[et,Z]=iW(),B=j.useMemo(()=>[{dialogState:R,close:M,setTitleId:D,unmount:f},A],[R,A,M,D,f]),V=j.useMemo(()=>({open:R===0}),[R]),W={ref:_,id:i,role:l,tabIndex:-1,"aria-modal":d?void 0:R===0?!0:void 0,"aria-labelledby":A.titleId,"aria-describedby":et,unmount:f},H=!hQ(),K=Dd.None;P&&!d&&(K|=Dd.RestoreFocus,K|=Dd.TabLock,c&&(K|=Dd.AutoFocus),H&&(K|=Dd.InitialFocus));let nt=gs();return Y.createElement(JW,null,Y.createElement(aR,{force:!0},Y.createElement(uQ,null,Y.createElement(v3.Provider,{value:B},Y.createElement($L,{target:x},Y.createElement(aR,{force:!1},Y.createElement(Z,{slot:V},Y.createElement(L,null,Y.createElement(yQ,{initialFocus:s,initialFocusFallback:x,containers:q,features:K},Y.createElement(cW,{value:M},nt({ourProps:W,theirProps:m,slot:V,defaultTag:LQ,features:kQ,visible:R===0,name:"Dialog"})))))))))))}),LQ="div",kQ=h1.RenderStrategy|h1.Static;function jQ(e,t){let{transition:n=!1,open:i,...a}=e,r=ox(),s=e.hasOwnProperty("open")||r!==null,l=e.hasOwnProperty("onClose");if(!s&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!s)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!r&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(i!==void 0||n)&&!a.static?Y.createElement(rR,null,Y.createElement(MQ,{show:i,transition:n,unmount:a.unmount},Y.createElement(sR,{ref:t,...a}))):Y.createElement(rR,null,Y.createElement(sR,{ref:t,open:i,...a}))}let FQ="div";function BQ(e,t){let n=j.useId(),{id:i=`headlessui-dialog-panel-${n}`,transition:a=!1,...r}=e,[{dialogState:s,unmount:l},c]=dx("Dialog.Panel"),d=al(t,c.panelRef),f=j.useMemo(()=>({open:s===0}),[s]),m=En(E=>{E.stopPropagation()}),v={ref:d,id:i,onClick:m},y=a?m3:j.Fragment,x=a?{unmount:l}:{},_=gs();return Y.createElement(y,{...x},_({ourProps:v,theirProps:r,slot:f,defaultTag:FQ,name:"Dialog.Panel"}))}let IQ="div";function zQ(e,t){let{transition:n=!1,...i}=e,[{dialogState:a,unmount:r}]=dx("Dialog.Backdrop"),s=j.useMemo(()=>({open:a===0}),[a]),l={ref:t,"aria-hidden":!0},c=n?m3:j.Fragment,d=n?{unmount:r}:{},f=gs();return Y.createElement(c,{...d},f({ourProps:l,theirProps:i,slot:s,defaultTag:IQ,name:"Dialog.Backdrop"}))}let UQ="h2";function HQ(e,t){let n=j.useId(),{id:i=`headlessui-dialog-title-${n}`,...a}=e,[{dialogState:r,setTitleId:s}]=dx("Dialog.Title"),l=al(t);j.useEffect(()=>(s(i),()=>s(null)),[i,s]);let c=j.useMemo(()=>({open:r===0}),[r]),d={ref:l,id:i};return gs()({ourProps:d,theirProps:a,slot:c,defaultTag:UQ,name:"Dialog.Title"})}let GQ=or(jQ),rk=or(BQ),qQ=or(zQ),sk=or(HQ),VQ=Object.assign(GQ,{Panel:rk,Title:sk,Description:oW});function y3({isOpen:e,onClose:t,title:n,children:i,panelClassName:a=""}){return F.jsxs(VQ,{open:e,onClose:t,className:"fixed inset-0 z-50 flex items-center justify-center",children:[F.jsx(qQ,{className:"fixed inset-0 bg-black opacity-30"}),F.jsxs(rk,{className:`bg-white rounded-lg shadow-lg p-6 z-10 w-full max-w-[95%] md:max-w-2xl ${a}`,children:[n&&F.jsxs(sk,{as:"h2",className:"text-xl font-semibold mb-4 flex justify-between items-center",children:[F.jsx("span",{children:n}),F.jsx("span",{children:F.jsx(ov,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 cursor-pointer",onClick:t})})]}),i]})]})}const YQ=()=>Bi.get("/items/workspaces?sort=-date_created"),KQ=e=>Bi.get(`/items/workspaces/${e}`),XQ=e=>Bi.post("/items/workspaces",e),$Q=(e,t)=>Bi.patch(`/items/workspaces/${e}`,t);function WQ(){return lv({queryKey:["workspaces"],queryFn:YQ,select:e=>e.data.data||[]})}function QQ(e){return lv({queryKey:["workspace",e],queryFn:()=>KQ(e),enabled:!!e})}function ZQ(){const e=ps();return eo({mutationFn:XQ,onSuccess:()=>{e.invalidateQueries({queryKey:["workspaces"]})}})}function ok(){const e=ps();return eo({mutationFn:({id:t,data:n})=>$Q(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["workspaces"]})}})}function JQ({isOpen:e,onClose:t,initialData:n=null,onSuccess:i}){const a=dp(A=>A.user),r=!!n,[s,l]=j.useState(""),[c,d]=j.useState(""),[f,m]=j.useState(!1),[v,y]=j.useState(""),x=ZQ(),_=ok(),E=x.isPending||_.isPending;j.useEffect(()=>{r?(l(n.name||""),d(n.description||""),m(!!n.is_public)):(l(""),d(""),m(!1)),y("")},[r,n,e]);function R(A){A.preventDefault(),y("");const w={name:s,description:c,is_public:f,owner:a.id};r?_.mutate({id:n.id,data:w},{onSuccess:M=>{i&&i(M.data.data),t()},onError:()=>{y("No se pudo guardar la mesa de trabajo.")}}):x.mutate(w,{onSuccess:M=>{i&&i(M.data.data),t()},onError:()=>{y("No se pudo guardar la mesa de trabajo.")}})}return F.jsx(y3,{isOpen:e,onClose:t,title:F.jsx("span",{className:"flex items-center gap-2",children:r?F.jsxs(F.Fragment,{children:[F.jsx(n1,{className:"w-6 h-6 text-purple-600"}),"Editar Mesa de Trabajo"]}):F.jsxs(F.Fragment,{children:[F.jsx(t1,{className:"w-6 h-6 text-sky-600"}),"Nueva Mesa de Trabajo"]})}),panelClassName:"p-0",children:F.jsxs("form",{className:"space-y-5 p-6",onSubmit:R,children:[F.jsxs("div",{children:[F.jsxs("label",{className:"block mb-1 font-bold text-gray-700",children:["Nombre ",F.jsx("span",{className:"text-sky-600",children:"*"})]}),F.jsx("input",{className:"w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-sky-500 outline-none text-lg",type:"text",placeholder:"Ej. Planos de mi proyecto",value:s,onChange:A=>l(A.target.value),required:!0,maxLength:50})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block mb-1 font-bold text-gray-700",children:"Descripción"}),F.jsx("textarea",{className:"w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-sky-500 outline-none resize-none",placeholder:"Describe brevemente esta mesa de trabajo...",value:c,onChange:A=>d(A.target.value),maxLength:160,rows:3})]}),F.jsxs("div",{className:"flex items-center gap-3",children:[F.jsxs("label",{className:"inline-flex items-center cursor-pointer select-none",children:[F.jsx("input",{type:"checkbox",className:"form-checkbox accent-sky-600 w-5 h-5",checked:f,onChange:()=>m(A=>!A)}),F.jsx("span",{className:"ml-2 text-sm font-semibold text-sky-700 flex items-center gap-1",children:f?F.jsxs(F.Fragment,{children:[F.jsx(Vd,{className:"w-4 h-4"})," Pública"]}):F.jsxs(F.Fragment,{children:[F.jsx(up,{className:"w-4 h-4"})," Privada"]})})]}),F.jsx("span",{className:"text-xs text-gray-400",children:f?"Cualquiera con el enlace podrá acceder":"Solo usuarios invitados podrán acceder"})]}),v&&F.jsx("div",{className:"text-red-600 text-center font-bold",children:v}),F.jsx("button",{type:"submit",disabled:E,className:`w-full py-2 rounded-xl font-bold flex items-center justify-center gap-2 text-lg transition
            ${r?"bg-purple-600 hover:bg-purple-700":"bg-sky-600 hover:bg-sky-700"}
            text-white`,children:E?F.jsxs(F.Fragment,{children:[F.jsx(oN,{className:"w-5 h-5 animate-spin"}),r?"Guardando...":"Creando..."]}):F.jsx(F.Fragment,{children:r?F.jsxs(F.Fragment,{children:[F.jsx(n1,{className:"w-5 h-5"}),"Guardar cambios"]}):F.jsxs(F.Fragment,{children:[F.jsx(t1,{className:"w-5 h-5"}),"Crear mesa"]})})})]})})}const tZ=e=>e?.id?`${WN}/assets/${e.id}`:null;function eZ(){const e=dp(f=>f.user),{data:t,isLoading:n,refetch:i}=WQ(),a=t||[],r=eh(),[s,l]=j.useState(!1),[c,d]=j.useState(null);return F.jsxs("div",{className:"w-full min-h-[calc(100vh-120px)] flex flex-col items-center justify-center px-2 py-8",children:[F.jsxs($e.div,{className:"w-full max-w-xl mx-auto bg-white/10 rounded-3xl shadow-2xl p-8 flex flex-col items-center gap-6 backdrop-blur",initial:{opacity:0,y:48},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:70},children:[F.jsxs("div",{className:"relative",children:[F.jsx("div",{className:"h-20 w-20 rounded-full border-4 border-[#2563eb] bg-white shadow flex items-center justify-center overflow-hidden mb-1",children:e?.avatar?F.jsx("img",{src:e.avatar,alt:"avatar",className:"h-full w-full object-cover"}):F.jsx(WE,{className:"w-16 h-16 text-[#2563eb]"})}),F.jsx("button",{className:"absolute bottom-2 right-0 bg-white rounded-full shadow p-1.5 border-2 border-[#2563eb] hover:bg-[#e8f1fa] transition",onClick:()=>r("/profile"),title:"Editar perfil",children:F.jsx(n1,{className:"w-5 h-5 text-[#2563eb]"})}),F.jsx("div",{className:"absolute -bottom-2 left-0 text-[#2563eb] bg-white rounded-full shadow p-1 border hidden md:block",children:F.jsx(BH,{className:"w-6 h-6"})})]}),F.jsx("div",{className:"w-full text-center flex flex-col items-center",children:F.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold text-white mb-1",children:e?.first_name||e?.last_name?`¡Bienvenido, ${e?.first_name??""} ${e?.last_name??""}!`:"¡Bienvenido!"})}),F.jsxs("div",{className:"w-full flex flex-col items-center gap-3",children:[F.jsx("span",{className:"font-bold text-white/90 text-base",children:"Tus Mesas de Trabajo"}),F.jsxs("button",{className:"flex items-center gap-2 px-5 py-2 rounded-xl bg-[#2563eb] hover:bg-[#274B8A] text-white font-bold shadow transition",onClick:()=>{d(null),l(!0)},children:[F.jsx(t1,{className:"w-5 h-5"}),"Nueva mesa"]}),F.jsx("span",{className:"text-xs text-gray-300",children:"Organiza, colabora y comparte tus ideas con tu equipo."})]})]}),F.jsxs("div",{className:"w-full max-w-3xl mx-auto mt-12",children:[F.jsx("h2",{className:"text-xl font-extrabold text-white/90 mb-5 text-center",children:"Tus mesas recientes"}),n?F.jsxs("div",{className:"flex items-center gap-2 text-white/80 justify-center py-10",children:[F.jsx(oN,{className:"animate-spin"})," Cargando mesas..."]}):a.length===0?F.jsxs("div",{className:"text-white/60 text-center py-12 text-lg",children:[F.jsx("span",{className:"text-5xl block mb-3",children:"🪑"}),"No tienes mesas de trabajo todavía.",F.jsx("br",{}),F.jsx("span",{className:"text-white/40",children:"¡Crea una nueva y comienza a organizar tus ideas!"})]}):F.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-7",children:a.map(f=>F.jsxs($e.div,{className:"relative flex rounded-2xl bg-white/90 shadow-xl hover:shadow-2xl border border-[#e6eaf7] hover:scale-[1.03] transition cursor-pointer overflow-hidden min-h-[120px]",onClick:()=>r(`/workspace/${f.id}`),whileHover:{y:-3,scale:1.02,boxShadow:"0 6px 24px #2563eb30"},children:[f.preview&&F.jsx("img",{src:tZ(f.preview),alt:"Vista previa",className:"absolute inset-0 w-full h-full object-cover",style:{objectPosition:"right center"}}),F.jsx("div",{className:"absolute inset-0 bg-gradient-to-l from-white/90 via-white/60 to-white/0 pointer-events-none"}),F.jsxs("div",{className:"relative z-10 flex-1 flex flex-col justify-between p-5 min-w-0",children:[F.jsxs("div",{children:[F.jsx("div",{className:"flex items-center gap-2 mb-1 font-bold text-lg text-[#274B8A]",children:f.name}),F.jsx("div",{className:"text-sm text-gray-600 mb-2 line-clamp-2 min-h-[2em]",children:f.description||F.jsx("span",{className:"text-gray-300 italic",children:"Sin descripción"})})]}),F.jsx("div",{className:"flex items-center gap-2 mt-auto text-xs text-gray-400",children:f.date_created&&new Date(f.date_created).toLocaleDateString()})]}),!f.preview&&F.jsx("div",{className:"flex items-center justify-center w-32 bg-[#f4f7fb]",children:F.jsx(CH,{className:"w-12 h-12 text-[#2563eb] opacity-80"})})]},f.id))})]}),F.jsx(JQ,{isOpen:s,onClose:()=>{d(null),l(!1)},initialData:c,onSuccess:async()=>{l(!1),d(null),await i()}})]})}const Ji=[];for(let e=0;e<256;++e)Ji.push((e+256).toString(16).slice(1));function nZ(e,t=0){return(Ji[e[t+0]]+Ji[e[t+1]]+Ji[e[t+2]]+Ji[e[t+3]]+"-"+Ji[e[t+4]]+Ji[e[t+5]]+"-"+Ji[e[t+6]]+Ji[e[t+7]]+"-"+Ji[e[t+8]]+Ji[e[t+9]]+"-"+Ji[e[t+10]]+Ji[e[t+11]]+Ji[e[t+12]]+Ji[e[t+13]]+Ji[e[t+14]]+Ji[e[t+15]]).toLowerCase()}let lS;const iZ=new Uint8Array(16);function aZ(){if(!lS){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");lS=crypto.getRandomValues.bind(crypto)}return lS(iZ)}const rZ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),oR={randomUUID:rZ};function sZ(e,t,n){if(oR.randomUUID&&!e)return oR.randomUUID();e=e||{};const i=e.random??e.rng?.()??aZ();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,nZ(i)}function Vb(){return sZ()}const oZ=20,lZ="black",cZ="transparent",lR="#ffffff",cR=Vb();function uZ(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Pt=QN((e,t)=>({mode:"view",tool:"select",selectedShapeId:null,selectedShapeIds:[],zoom:1,pan:{x:0,y:0},gridEnabled:!0,strokeColor:lZ,fillColor:cZ,backgroundColor:lR,backgroundImage:null,layers:[{id:cR,name:"Capa 1",visible:!0,locked:!1,opacity:1,_isNew:!1,_dirty:!1,_toDelete:!1}],activeLayerId:cR,shapes:[],clipboardShape:null,history:[],future:[],canvasWidth:1200,canvasHeight:900,setAllLayers:n=>e({layers:n.map((i,a)=>({...i,_isNew:!1,_dirty:!1,_toDelete:!1,name:i.name||`Capa ${a+1}`}))}),setAllShapes:n=>e({shapes:n.map(i=>({...i,_isNew:!1,_dirty:!1,_toDelete:!1}))}),markAsNew:(n,i)=>e(a=>({[n]:a[n].map(r=>r.id===i?{...r,_isNew:!0,_dirty:!1,_toDelete:!1}:r)})),markAsDirty:(n,i)=>e(a=>({[n]:a[n].map(r=>r.id===i&&!r._isNew?{...r,_dirty:!0}:r)})),markAsToDelete:(n,i)=>e(a=>({[n]:a[n].map(r=>r.id===i?{...r,_toDelete:!0}:r)})),clearAllFlags:()=>e(n=>({layers:n.layers.map(i=>({...i,_isNew:!1,_dirty:!1,_toDelete:!1})),shapes:n.shapes.map(i=>({...i,_isNew:!1,_dirty:!1,_toDelete:!1}))})),saveToHistory:()=>{const{shapes:n,layers:i,backgroundColor:a,history:r}=t();e({history:[...r,{shapes:JSON.parse(JSON.stringify(n)),layers:JSON.parse(JSON.stringify(i)),backgroundColor:a}],future:[]})},undo:()=>{const{history:n,future:i,shapes:a,layers:r,backgroundColor:s}=t();if(n.length===0)return;const l=n[n.length-1];e({shapes:l.shapes,layers:l.layers,backgroundColor:l.backgroundColor,history:n.slice(0,n.length-1),future:[...i,{shapes:JSON.parse(JSON.stringify(a)),layers:JSON.parse(JSON.stringify(r)),backgroundColor:s}]})},redo:()=>{const{history:n,future:i,shapes:a,layers:r,backgroundColor:s}=t();if(i.length===0)return;const l=i[i.length-1];e({shapes:l.shapes,layers:l.layers,backgroundColor:l.backgroundColor,history:[...n,{shapes:JSON.parse(JSON.stringify(a)),layers:JSON.parse(JSON.stringify(r)),backgroundColor:s}],future:i.slice(0,i.length-1)})},setMode:n=>e({mode:n}),toggleMode:()=>e(n=>({mode:n.mode==="edit"?"view":"edit"})),setTool:n=>e({tool:n}),setSelectedShape:n=>{t().selectedShapeId!==n&&e({selectedShapeId:n,selectedShapeIds:n?[n]:[]})},addToSelection:n=>{const i=t().selectedShapeIds;if(!i.includes(n)){const a=[...i,n];e({selectedShapeIds:a,selectedShapeId:a.length===1?a[0]:null})}},removeFromSelection:n=>{const a=t().selectedShapeIds.filter(r=>r!==n);e({selectedShapeIds:a,selectedShapeId:a.length===1?a[0]:null})},toggleSelection:n=>{t().selectedShapeIds.includes(n)?t().removeFromSelection(n):t().addToSelection(n)},clearSelection:()=>{e({selectedShapeId:null,selectedShapeIds:[]})},setMultipleSelection:n=>{e({selectedShapeIds:n,selectedShapeId:n.length===1?n[0]:null})},setZoom:n=>e({zoom:n}),setPan:n=>e({pan:n}),zoomIn:()=>e(n=>({zoom:n.zoom*1.2})),zoomOut:()=>e(n=>({zoom:n.zoom/1.2})),resetView:()=>e({zoom:1,pan:{x:0,y:0}}),toggleGrid:()=>e(n=>({gridEnabled:!n.gridEnabled})),setStrokeColor:n=>e({strokeColor:n}),setFillColor:n=>e({fillColor:n}),setBackgroundColor:n=>{t().saveToHistory(),e({backgroundColor:n})},setBackgroundImage:n=>e({backgroundImage:n}),clearBackgroundImage:()=>e({backgroundImage:null}),setCanvasSize:({width:n,height:i})=>e({canvasWidth:n,canvasHeight:i}),addLayer:()=>{t().saveToHistory();const n=Vb(),i=t().layers||[];let a=0;const r=/^Capa (\d+)$/i;i.forEach(l=>{const c=l.name&&l.name.match(r);if(c){const d=parseInt(c[1],10);!isNaN(d)&&d>a&&(a=d)}});const s=`Capa ${a+1}`;return e(l=>({layers:[...l.layers,{id:n,name:s,visible:!0,locked:!1,opacity:1,order:l.layers.length,_isNew:!0,_dirty:!1,_toDelete:!1}],activeLayerId:n})),n},toggleLayerVisibility:n=>{t().saveToHistory(),e(i=>({layers:i.layers.map(a=>a.id===n?{...a,visible:!a.visible,_dirty:a._isNew?a._dirty:!0}:a)}))},toggleLayerLock:n=>{t().saveToHistory(),e(i=>({layers:i.layers.map(a=>a.id===n?{...a,locked:!a.locked,_dirty:a._isNew?a._dirty:!0}:a)}))},setActiveLayer:n=>e({activeLayerId:n}),removeLayer:n=>{t().saveToHistory(),e(i=>({layers:i.layers.map(a=>a.id===n?{...a,_toDelete:!0}:a),shapes:i.shapes.map(a=>a.layerId===n?{...a,_toDelete:!0}:a),activeLayerId:i.activeLayerId===n?i.layers[0]?.id||null:i.activeLayerId}))},moveLayerUp:n=>{t().saveToHistory(),e(i=>{const a=i.layers.findIndex(s=>s.id===n);if(a<=0)return{};const r=[...i.layers];return[r[a-1],r[a]]=[r[a],r[a-1]],{layers:r.map((s,l)=>({...s,_dirty:s._isNew?s._dirty:!0}))}})},moveLayerDown:n=>{t().saveToHistory(),e(i=>{const a=i.layers.findIndex(s=>s.id===n);if(a===-1||a===i.layers.length-1)return{};const r=[...i.layers];return[r[a],r[a+1]]=[r[a+1],r[a]],{layers:r.map((s,l)=>({...s,_dirty:s._isNew?s._dirty:!0}))}})},setLayerOpacity:(n,i)=>{t().saveToHistory(),e(a=>({layers:a.layers.map(r=>r.id===n?{...r,opacity:i,_dirty:r._isNew?r._dirty:!0}:r)}))},renameLayer:(n,i)=>e(a=>({layers:a.layers.map(r=>r.id===n?{...r,name:i,_dirty:r._isNew?r._dirty:!0}:r)})),addShape:n=>{t().saveToHistory();const i=Vb(),a=t(),r=n.type||"Shape",s=a.shapes.filter(f=>f.layerId===n.layerId),l=typeof n.order=="number"?n.order:s.length,c=a.shapes.filter(f=>f.type===r),d=`${uZ(r)} ${c.length+1}`;return e(f=>({shapes:[...f.shapes,{id:i,...n,order:l,name:n.name||d,_isNew:!0,_dirty:!1,_toDelete:!1}]})),i},updateShape:(n,i)=>{e(a=>({shapes:a.shapes.map(r=>r.id===n?{...r,props:{...r.props,...i},_dirty:r._isNew?r._dirty:!0}:r)}))},removeShape:n=>{t().saveToHistory(),e(i=>({shapes:i.shapes.map(a=>a.id===n?{...a,_toDelete:!0}:a),selectedShapeIds:i.selectedShapeIds.filter(a=>a!==n),selectedShapeId:i.selectedShapeId===n?null:i.selectedShapeId}))},removeSelectedShapes:()=>{const{selectedShapeIds:n}=t();n.length>0&&(t().saveToHistory(),e(i=>({shapes:i.shapes.map(a=>n.includes(a.id)?{...a,_toDelete:!0}:a),selectedShapeIds:[],selectedShapeId:null})))},bringShapeToFront:n=>{t().saveToHistory(),e(i=>{const a=[...i.shapes],r=a.findIndex(l=>l.id===n);if(r===-1)return{};const[s]=a.splice(r,1);return a.push(s),{shapes:a.map(l=>({...l,_dirty:l._isNew?l._dirty:!0}))}})},sendShapeToBack:n=>{t().saveToHistory(),e(i=>{const a=[...i.shapes],r=a.findIndex(l=>l.id===n);if(r===-1)return{};const[s]=a.splice(r,1);return a.unshift(s),{shapes:a.map(l=>({...l,_dirty:l._isNew?l._dirty:!0}))}})},bringShapeForward:n=>{t().saveToHistory(),e(i=>{const a=[...i.shapes],r=a.findIndex(s=>s.id===n);return r<0||r===a.length-1?{}:([a[r],a[r+1]]=[a[r+1],a[r]],{shapes:a.map(s=>({...s,_dirty:s._isNew?s._dirty:!0}))})})},sendShapeBackward:n=>{t().saveToHistory(),e(i=>{const a=[...i.shapes],r=a.findIndex(s=>s.id===n);return r<=0?{}:([a[r],a[r-1]]=[a[r-1],a[r]],{shapes:a.map(s=>({...s,_dirty:s._isNew?s._dirty:!0}))})})},copyShape:n=>{const i=t().shapes.find(a=>a.id===n);i&&e({clipboardShape:JSON.parse(JSON.stringify({...i,id:void 0}))})},pasteShape:()=>{const n=t().clipboardShape;if(n){let i={...n.props};if(typeof i.x=="number"&&(i.x+=30),typeof i.y=="number"&&(i.y+=30),Array.isArray(i.points))for(let a=0;a<i.points.length;a+=2)i.points[a]+=30,i.points[a+1]+=30;t().addShape({...n,props:i})}},replaceShape:n=>{const{clipboardShape:i,shapes:a,addShape:r,removeShape:s}=t();if(!i)return;const l=a.find(f=>f.id===n);if(!l)return;let c={...i.props};delete c.id,c.x=l.props.x,c.y=l.props.y,"width"in l.props&&(c.width=l.props.width),"height"in l.props&&(c.height=l.props.height),"radius"in l.props&&(c.radius=l.props.radius),"points"in l.props&&(c.points=[...l.props.points]),"rotation"in l.props&&(c.rotation=l.props.rotation),"scaleX"in l.props&&(c.scaleX=l.props.scaleX),"scaleY"in l.props&&(c.scaleY=l.props.scaleY);const d=l.name||i.name;"text"in l.props&&(c.text=l.props.text),s(n),r({id:Vb(),...i,layerId:l.layerId,name:d,props:c})},toggleShapeVisibility:n=>{t().saveToHistory(),e(i=>({shapes:i.shapes.map(a=>a.id===n?{...a,visible:!a.visible,_dirty:a._isNew?a._dirty:!0}:a)}))},renameShape:(n,i)=>e(a=>({shapes:a.shapes.map(r=>r.id===n?{...r,name:i,_dirty:r._isNew?r._dirty:!0}:r)})),layersPanelVisible:!1,showLayersPanel:()=>e({layersPanelVisible:!0}),hideLayersPanel:()=>e({layersPanelVisible:!1}),toggleLayersPanel:()=>e(n=>({layersPanelVisible:!n.layersPanelVisible})),resetAll:()=>e({layers:[],shapes:[],selectedShapeId:null,selectedShapeIds:[],history:[],future:[],backgroundImage:null,backgroundColor:lR,canvasWidth:1200,canvasHeight:900,layersPanelVisible:!1,mode:"view",tool:"select",pan:{x:0,y:0},zoom:1})}));var Ja={},Af={},cS,uR;function lk(){if(uR)return cS;uR=1;var e=typeof Jf=="object"&&Jf&&Jf.Object===Object&&Jf;return cS=e,cS}var uS,dR;function rl(){if(dR)return uS;dR=1;var e=lk(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return uS=n,uS}var dS,hR;function vv(){if(hR)return dS;hR=1;var e=rl(),t=e.Symbol;return dS=t,dS}var hS,fR;function dZ(){if(fR)return hS;fR=1;var e=vv(),t=Object.prototype,n=t.hasOwnProperty,i=t.toString,a=e?e.toStringTag:void 0;function r(s){var l=n.call(s,a),c=s[a];try{s[a]=void 0;var d=!0}catch{}var f=i.call(s);return d&&(l?s[a]=c:delete s[a]),f}return hS=r,hS}var fS,pR;function hZ(){if(pR)return fS;pR=1;var e=Object.prototype,t=e.toString;function n(i){return t.call(i)}return fS=n,fS}var pS,gR;function ih(){if(gR)return pS;gR=1;var e=vv(),t=dZ(),n=hZ(),i="[object Null]",a="[object Undefined]",r=e?e.toStringTag:void 0;function s(l){return l==null?l===void 0?a:i:r&&r in Object(l)?t(l):n(l)}return pS=s,pS}var gS,mR;function io(){if(mR)return gS;mR=1;var e=Array.isArray;return gS=e,gS}var mS,vR;function ic(){if(vR)return mS;vR=1;function e(t){return t!=null&&typeof t=="object"}return mS=e,mS}var vS,yR;function fZ(){if(yR)return vS;yR=1;var e=ih(),t=io(),n=ic(),i="[object String]";function a(r){return typeof r=="string"||!t(r)&&n(r)&&e(r)==i}return vS=a,vS}var yS,bR;function pZ(){if(bR)return yS;bR=1;function e(t){return function(n,i,a){for(var r=-1,s=Object(n),l=a(n),c=l.length;c--;){var d=l[t?c:++r];if(i(s[d],d,s)===!1)break}return n}}return yS=e,yS}var bS,xR;function gZ(){if(xR)return bS;xR=1;var e=pZ(),t=e();return bS=t,bS}var xS,SR;function mZ(){if(SR)return xS;SR=1;function e(t,n){for(var i=-1,a=Array(t);++i<t;)a[i]=n(i);return a}return xS=e,xS}var SS,_R;function vZ(){if(_R)return SS;_R=1;var e=ih(),t=ic(),n="[object Arguments]";function i(a){return t(a)&&e(a)==n}return SS=i,SS}var _S,wR;function ck(){if(wR)return _S;wR=1;var e=vZ(),t=ic(),n=Object.prototype,i=n.hasOwnProperty,a=n.propertyIsEnumerable,r=e(function(){return arguments}())?e:function(s){return t(s)&&i.call(s,"callee")&&!a.call(s,"callee")};return _S=r,_S}var f0={exports:{}},wS,ER;function yZ(){if(ER)return wS;ER=1;function e(){return!1}return wS=e,wS}f0.exports;var AR;function b3(){return AR||(AR=1,function(e,t){var n=rl(),i=yZ(),a=t&&!t.nodeType&&t,r=a&&!0&&e&&!e.nodeType&&e,s=r&&r.exports===a,l=s?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||i;e.exports=d}(f0,f0.exports)),f0.exports}var ES,CR;function uk(){if(CR)return ES;CR=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(i,a){var r=typeof i;return a=a??e,!!a&&(r=="number"||r!="symbol"&&t.test(i))&&i>-1&&i%1==0&&i<a}return ES=n,ES}var AS,TR;function x3(){if(TR)return AS;TR=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return AS=t,AS}var CS,RR;function bZ(){if(RR)return CS;RR=1;var e=ih(),t=x3(),n=ic(),i="[object Arguments]",a="[object Array]",r="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",f="[object Number]",m="[object Object]",v="[object RegExp]",y="[object Set]",x="[object String]",_="[object WeakMap]",E="[object ArrayBuffer]",R="[object DataView]",A="[object Float32Array]",w="[object Float64Array]",M="[object Int8Array]",D="[object Int16Array]",P="[object Int32Array]",z="[object Uint8Array]",L="[object Uint8ClampedArray]",U="[object Uint16Array]",I="[object Uint32Array]",q={};q[A]=q[w]=q[M]=q[D]=q[P]=q[z]=q[L]=q[U]=q[I]=!0,q[i]=q[a]=q[E]=q[r]=q[R]=q[s]=q[l]=q[c]=q[d]=q[f]=q[m]=q[v]=q[y]=q[x]=q[_]=!1;function J(it){return n(it)&&t(it.length)&&!!q[e(it)]}return CS=J,CS}var TS,MR;function S3(){if(MR)return TS;MR=1;function e(t){return function(n){return t(n)}}return TS=e,TS}var p0={exports:{}};p0.exports;var DR;function _3(){return DR||(DR=1,function(e,t){var n=lk(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,r=a&&a.exports===i,s=r&&n.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=l}(p0,p0.exports)),p0.exports}var RS,OR;function dk(){if(OR)return RS;OR=1;var e=bZ(),t=S3(),n=_3(),i=n&&n.isTypedArray,a=i?t(i):e;return RS=a,RS}var MS,NR;function hk(){if(NR)return MS;NR=1;var e=mZ(),t=ck(),n=io(),i=b3(),a=uk(),r=dk(),s=Object.prototype,l=s.hasOwnProperty;function c(d,f){var m=n(d),v=!m&&t(d),y=!m&&!v&&i(d),x=!m&&!v&&!y&&r(d),_=m||v||y||x,E=_?e(d.length,String):[],R=E.length;for(var A in d)(f||l.call(d,A))&&!(_&&(A=="length"||y&&(A=="offset"||A=="parent")||x&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||a(A,R)))&&E.push(A);return E}return MS=c,MS}var DS,PR;function w3(){if(PR)return DS;PR=1;var e=Object.prototype;function t(n){var i=n&&n.constructor,a=typeof i=="function"&&i.prototype||e;return n===a}return DS=t,DS}var OS,LR;function fk(){if(LR)return OS;LR=1;function e(t,n){return function(i){return t(n(i))}}return OS=e,OS}var NS,kR;function xZ(){if(kR)return NS;kR=1;var e=fk(),t=e(Object.keys,Object);return NS=t,NS}var PS,jR;function SZ(){if(jR)return PS;jR=1;var e=w3(),t=xZ(),n=Object.prototype,i=n.hasOwnProperty;function a(r){if(!e(r))return t(r);var s=[];for(var l in Object(r))i.call(r,l)&&l!="constructor"&&s.push(l);return s}return PS=a,PS}var LS,FR;function Rp(){if(FR)return LS;FR=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return LS=e,LS}var kS,BR;function pk(){if(BR)return kS;BR=1;var e=ih(),t=Rp(),n="[object AsyncFunction]",i="[object Function]",a="[object GeneratorFunction]",r="[object Proxy]";function s(l){if(!t(l))return!1;var c=e(l);return c==i||c==a||c==n||c==r}return kS=s,kS}var jS,IR;function hx(){if(IR)return jS;IR=1;var e=pk(),t=x3();function n(i){return i!=null&&t(i.length)&&!e(i)}return jS=n,jS}var FS,zR;function yv(){if(zR)return FS;zR=1;var e=hk(),t=SZ(),n=hx();function i(a){return n(a)?e(a):t(a)}return FS=i,FS}var BS,UR;function gk(){if(UR)return BS;UR=1;var e=gZ(),t=yv();function n(i,a){return i&&e(i,a,t)}return BS=n,BS}var IS,HR;function mk(){if(HR)return IS;HR=1;function e(t){return t}return IS=e,IS}var zS,GR;function _Z(){if(GR)return zS;GR=1;var e=mk();function t(n){return typeof n=="function"?n:e}return zS=t,zS}var US,qR;function E3(){if(qR)return US;qR=1;var e=gk(),t=_Z();function n(i,a){return i&&e(i,t(a))}return US=n,US}var HS,VR;function A3(){if(VR)return HS;VR=1;var e=fk(),t=e(Object.getPrototypeOf,Object);return HS=t,HS}var GS,YR;function wZ(){if(YR)return GS;YR=1;var e=ih(),t=A3(),n=ic(),i="[object Object]",a=Function.prototype,r=Object.prototype,s=a.toString,l=r.hasOwnProperty,c=s.call(Object);function d(f){if(!n(f)||e(f)!=i)return!1;var m=t(f);if(m===null)return!0;var v=l.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&s.call(v)==c}return GS=d,GS}var qS,KR;function vk(){if(KR)return qS;KR=1;function e(t,n){for(var i=-1,a=t==null?0:t.length,r=Array(a);++i<a;)r[i]=n(t[i],i,t);return r}return qS=e,qS}var VS,XR;function EZ(){if(XR)return VS;XR=1;function e(){this.__data__=[],this.size=0}return VS=e,VS}var YS,$R;function C3(){if($R)return YS;$R=1;function e(t,n){return t===n||t!==t&&n!==n}return YS=e,YS}var KS,WR;function fx(){if(WR)return KS;WR=1;var e=C3();function t(n,i){for(var a=n.length;a--;)if(e(n[a][0],i))return a;return-1}return KS=t,KS}var XS,QR;function AZ(){if(QR)return XS;QR=1;var e=fx(),t=Array.prototype,n=t.splice;function i(a){var r=this.__data__,s=e(r,a);if(s<0)return!1;var l=r.length-1;return s==l?r.pop():n.call(r,s,1),--this.size,!0}return XS=i,XS}var $S,ZR;function CZ(){if(ZR)return $S;ZR=1;var e=fx();function t(n){var i=this.__data__,a=e(i,n);return a<0?void 0:i[a][1]}return $S=t,$S}var WS,JR;function TZ(){if(JR)return WS;JR=1;var e=fx();function t(n){return e(this.__data__,n)>-1}return WS=t,WS}var QS,t8;function RZ(){if(t8)return QS;t8=1;var e=fx();function t(n,i){var a=this.__data__,r=e(a,n);return r<0?(++this.size,a.push([n,i])):a[r][1]=i,this}return QS=t,QS}var ZS,e8;function px(){if(e8)return ZS;e8=1;var e=EZ(),t=AZ(),n=CZ(),i=TZ(),a=RZ();function r(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var d=s[l];this.set(d[0],d[1])}}return r.prototype.clear=e,r.prototype.delete=t,r.prototype.get=n,r.prototype.has=i,r.prototype.set=a,ZS=r,ZS}var JS,n8;function MZ(){if(n8)return JS;n8=1;var e=px();function t(){this.__data__=new e,this.size=0}return JS=t,JS}var t_,i8;function DZ(){if(i8)return t_;i8=1;function e(t){var n=this.__data__,i=n.delete(t);return this.size=n.size,i}return t_=e,t_}var e_,a8;function OZ(){if(a8)return e_;a8=1;function e(t){return this.__data__.get(t)}return e_=e,e_}var n_,r8;function NZ(){if(r8)return n_;r8=1;function e(t){return this.__data__.has(t)}return n_=e,n_}var i_,s8;function PZ(){if(s8)return i_;s8=1;var e=rl(),t=e["__core-js_shared__"];return i_=t,i_}var a_,o8;function LZ(){if(o8)return a_;o8=1;var e=PZ(),t=function(){var i=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function n(i){return!!t&&t in i}return a_=n,a_}var r_,l8;function yk(){if(l8)return r_;l8=1;var e=Function.prototype,t=e.toString;function n(i){if(i!=null){try{return t.call(i)}catch{}try{return i+""}catch{}}return""}return r_=n,r_}var s_,c8;function kZ(){if(c8)return s_;c8=1;var e=pk(),t=LZ(),n=Rp(),i=yk(),a=/[\\^$.*+?()[\]{}|]/g,r=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,d=l.hasOwnProperty,f=RegExp("^"+c.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(v){if(!n(v)||t(v))return!1;var y=e(v)?f:r;return y.test(i(v))}return s_=m,s_}var o_,u8;function jZ(){if(u8)return o_;u8=1;function e(t,n){return t?.[n]}return o_=e,o_}var l_,d8;function ah(){if(d8)return l_;d8=1;var e=kZ(),t=jZ();function n(i,a){var r=t(i,a);return e(r)?r:void 0}return l_=n,l_}var c_,h8;function T3(){if(h8)return c_;h8=1;var e=ah(),t=rl(),n=e(t,"Map");return c_=n,c_}var u_,f8;function gx(){if(f8)return u_;f8=1;var e=ah(),t=e(Object,"create");return u_=t,u_}var d_,p8;function FZ(){if(p8)return d_;p8=1;var e=gx();function t(){this.__data__=e?e(null):{},this.size=0}return d_=t,d_}var h_,g8;function BZ(){if(g8)return h_;g8=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return h_=e,h_}var f_,m8;function IZ(){if(m8)return f_;m8=1;var e=gx(),t="__lodash_hash_undefined__",n=Object.prototype,i=n.hasOwnProperty;function a(r){var s=this.__data__;if(e){var l=s[r];return l===t?void 0:l}return i.call(s,r)?s[r]:void 0}return f_=a,f_}var p_,v8;function zZ(){if(v8)return p_;v8=1;var e=gx(),t=Object.prototype,n=t.hasOwnProperty;function i(a){var r=this.__data__;return e?r[a]!==void 0:n.call(r,a)}return p_=i,p_}var g_,y8;function UZ(){if(y8)return g_;y8=1;var e=gx(),t="__lodash_hash_undefined__";function n(i,a){var r=this.__data__;return this.size+=this.has(i)?0:1,r[i]=e&&a===void 0?t:a,this}return g_=n,g_}var m_,b8;function HZ(){if(b8)return m_;b8=1;var e=FZ(),t=BZ(),n=IZ(),i=zZ(),a=UZ();function r(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var d=s[l];this.set(d[0],d[1])}}return r.prototype.clear=e,r.prototype.delete=t,r.prototype.get=n,r.prototype.has=i,r.prototype.set=a,m_=r,m_}var v_,x8;function GZ(){if(x8)return v_;x8=1;var e=HZ(),t=px(),n=T3();function i(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return v_=i,v_}var y_,S8;function qZ(){if(S8)return y_;S8=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return y_=e,y_}var b_,_8;function mx(){if(_8)return b_;_8=1;var e=qZ();function t(n,i){var a=n.__data__;return e(i)?a[typeof i=="string"?"string":"hash"]:a.map}return b_=t,b_}var x_,w8;function VZ(){if(w8)return x_;w8=1;var e=mx();function t(n){var i=e(this,n).delete(n);return this.size-=i?1:0,i}return x_=t,x_}var S_,E8;function YZ(){if(E8)return S_;E8=1;var e=mx();function t(n){return e(this,n).get(n)}return S_=t,S_}var __,A8;function KZ(){if(A8)return __;A8=1;var e=mx();function t(n){return e(this,n).has(n)}return __=t,__}var w_,C8;function XZ(){if(C8)return w_;C8=1;var e=mx();function t(n,i){var a=e(this,n),r=a.size;return a.set(n,i),this.size+=a.size==r?0:1,this}return w_=t,w_}var E_,T8;function R3(){if(T8)return E_;T8=1;var e=GZ(),t=VZ(),n=YZ(),i=KZ(),a=XZ();function r(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var d=s[l];this.set(d[0],d[1])}}return r.prototype.clear=e,r.prototype.delete=t,r.prototype.get=n,r.prototype.has=i,r.prototype.set=a,E_=r,E_}var A_,R8;function $Z(){if(R8)return A_;R8=1;var e=px(),t=T3(),n=R3(),i=200;function a(r,s){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<i-1)return c.push([r,s]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(r,s),this.size=l.size,this}return A_=a,A_}var C_,M8;function M3(){if(M8)return C_;M8=1;var e=px(),t=MZ(),n=DZ(),i=OZ(),a=NZ(),r=$Z();function s(l){var c=this.__data__=new e(l);this.size=c.size}return s.prototype.clear=t,s.prototype.delete=n,s.prototype.get=i,s.prototype.has=a,s.prototype.set=r,C_=s,C_}var T_,D8;function WZ(){if(D8)return T_;D8=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return T_=t,T_}var R_,O8;function QZ(){if(O8)return R_;O8=1;function e(t){return this.__data__.has(t)}return R_=e,R_}var M_,N8;function ZZ(){if(N8)return M_;N8=1;var e=R3(),t=WZ(),n=QZ();function i(a){var r=-1,s=a==null?0:a.length;for(this.__data__=new e;++r<s;)this.add(a[r])}return i.prototype.add=i.prototype.push=t,i.prototype.has=n,M_=i,M_}var D_,P8;function JZ(){if(P8)return D_;P8=1;function e(t,n){for(var i=-1,a=t==null?0:t.length;++i<a;)if(n(t[i],i,t))return!0;return!1}return D_=e,D_}var O_,L8;function tJ(){if(L8)return O_;L8=1;function e(t,n){return t.has(n)}return O_=e,O_}var N_,k8;function bk(){if(k8)return N_;k8=1;var e=ZZ(),t=JZ(),n=tJ(),i=1,a=2;function r(s,l,c,d,f,m){var v=c&i,y=s.length,x=l.length;if(y!=x&&!(v&&x>y))return!1;var _=m.get(s),E=m.get(l);if(_&&E)return _==l&&E==s;var R=-1,A=!0,w=c&a?new e:void 0;for(m.set(s,l),m.set(l,s);++R<y;){var M=s[R],D=l[R];if(d)var P=v?d(D,M,R,l,s,m):d(M,D,R,s,l,m);if(P!==void 0){if(P)continue;A=!1;break}if(w){if(!t(l,function(z,L){if(!n(w,L)&&(M===z||f(M,z,c,d,m)))return w.push(L)})){A=!1;break}}else if(!(M===D||f(M,D,c,d,m))){A=!1;break}}return m.delete(s),m.delete(l),A}return N_=r,N_}var P_,j8;function xk(){if(j8)return P_;j8=1;var e=rl(),t=e.Uint8Array;return P_=t,P_}var L_,F8;function eJ(){if(F8)return L_;F8=1;function e(t){var n=-1,i=Array(t.size);return t.forEach(function(a,r){i[++n]=[r,a]}),i}return L_=e,L_}var k_,B8;function nJ(){if(B8)return k_;B8=1;function e(t){var n=-1,i=Array(t.size);return t.forEach(function(a){i[++n]=a}),i}return k_=e,k_}var j_,I8;function iJ(){if(I8)return j_;I8=1;var e=vv(),t=xk(),n=C3(),i=bk(),a=eJ(),r=nJ(),s=1,l=2,c="[object Boolean]",d="[object Date]",f="[object Error]",m="[object Map]",v="[object Number]",y="[object RegExp]",x="[object Set]",_="[object String]",E="[object Symbol]",R="[object ArrayBuffer]",A="[object DataView]",w=e?e.prototype:void 0,M=w?w.valueOf:void 0;function D(P,z,L,U,I,q,J){switch(L){case A:if(P.byteLength!=z.byteLength||P.byteOffset!=z.byteOffset)return!1;P=P.buffer,z=z.buffer;case R:return!(P.byteLength!=z.byteLength||!q(new t(P),new t(z)));case c:case d:case v:return n(+P,+z);case f:return P.name==z.name&&P.message==z.message;case y:case _:return P==z+"";case m:var it=a;case x:var at=U&s;if(it||(it=r),P.size!=z.size&&!at)return!1;var et=J.get(P);if(et)return et==z;U|=l,J.set(P,z);var Z=i(it(P),it(z),U,I,q,J);return J.delete(P),Z;case E:if(M)return M.call(P)==M.call(z)}return!1}return j_=D,j_}var F_,z8;function Sk(){if(z8)return F_;z8=1;function e(t,n){for(var i=-1,a=n.length,r=t.length;++i<a;)t[r+i]=n[i];return t}return F_=e,F_}var B_,U8;function _k(){if(U8)return B_;U8=1;var e=Sk(),t=io();function n(i,a,r){var s=a(i);return t(i)?s:e(s,r(i))}return B_=n,B_}var I_,H8;function aJ(){if(H8)return I_;H8=1;function e(t,n){for(var i=-1,a=t==null?0:t.length,r=0,s=[];++i<a;){var l=t[i];n(l,i,t)&&(s[r++]=l)}return s}return I_=e,I_}var z_,G8;function wk(){if(G8)return z_;G8=1;function e(){return[]}return z_=e,z_}var U_,q8;function D3(){if(q8)return U_;q8=1;var e=aJ(),t=wk(),n=Object.prototype,i=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,r=a?function(s){return s==null?[]:(s=Object(s),e(a(s),function(l){return i.call(s,l)}))}:t;return U_=r,U_}var H_,V8;function Ek(){if(V8)return H_;V8=1;var e=_k(),t=D3(),n=yv();function i(a){return e(a,n,t)}return H_=i,H_}var G_,Y8;function rJ(){if(Y8)return G_;Y8=1;var e=Ek(),t=1,n=Object.prototype,i=n.hasOwnProperty;function a(r,s,l,c,d,f){var m=l&t,v=e(r),y=v.length,x=e(s),_=x.length;if(y!=_&&!m)return!1;for(var E=y;E--;){var R=v[E];if(!(m?R in s:i.call(s,R)))return!1}var A=f.get(r),w=f.get(s);if(A&&w)return A==s&&w==r;var M=!0;f.set(r,s),f.set(s,r);for(var D=m;++E<y;){R=v[E];var P=r[R],z=s[R];if(c)var L=m?c(z,P,R,s,r,f):c(P,z,R,r,s,f);if(!(L===void 0?P===z||d(P,z,l,c,f):L)){M=!1;break}D||(D=R=="constructor")}if(M&&!D){var U=r.constructor,I=s.constructor;U!=I&&"constructor"in r&&"constructor"in s&&!(typeof U=="function"&&U instanceof U&&typeof I=="function"&&I instanceof I)&&(M=!1)}return f.delete(r),f.delete(s),M}return G_=a,G_}var q_,K8;function sJ(){if(K8)return q_;K8=1;var e=ah(),t=rl(),n=e(t,"DataView");return q_=n,q_}var V_,X8;function oJ(){if(X8)return V_;X8=1;var e=ah(),t=rl(),n=e(t,"Promise");return V_=n,V_}var Y_,$8;function lJ(){if($8)return Y_;$8=1;var e=ah(),t=rl(),n=e(t,"Set");return Y_=n,Y_}var K_,W8;function cJ(){if(W8)return K_;W8=1;var e=ah(),t=rl(),n=e(t,"WeakMap");return K_=n,K_}var X_,Q8;function vx(){if(Q8)return X_;Q8=1;var e=sJ(),t=T3(),n=oJ(),i=lJ(),a=cJ(),r=ih(),s=yk(),l="[object Map]",c="[object Object]",d="[object Promise]",f="[object Set]",m="[object WeakMap]",v="[object DataView]",y=s(e),x=s(t),_=s(n),E=s(i),R=s(a),A=r;return(e&&A(new e(new ArrayBuffer(1)))!=v||t&&A(new t)!=l||n&&A(n.resolve())!=d||i&&A(new i)!=f||a&&A(new a)!=m)&&(A=function(w){var M=r(w),D=M==c?w.constructor:void 0,P=D?s(D):"";if(P)switch(P){case y:return v;case x:return l;case _:return d;case E:return f;case R:return m}return M}),X_=A,X_}var $_,Z8;function uJ(){if(Z8)return $_;Z8=1;var e=M3(),t=bk(),n=iJ(),i=rJ(),a=vx(),r=io(),s=b3(),l=dk(),c=1,d="[object Arguments]",f="[object Array]",m="[object Object]",v=Object.prototype,y=v.hasOwnProperty;function x(_,E,R,A,w,M){var D=r(_),P=r(E),z=D?f:a(_),L=P?f:a(E);z=z==d?m:z,L=L==d?m:L;var U=z==m,I=L==m,q=z==L;if(q&&s(_)){if(!s(E))return!1;D=!0,U=!1}if(q&&!U)return M||(M=new e),D||l(_)?t(_,E,R,A,w,M):n(_,E,z,R,A,w,M);if(!(R&c)){var J=U&&y.call(_,"__wrapped__"),it=I&&y.call(E,"__wrapped__");if(J||it){var at=J?_.value():_,et=it?E.value():E;return M||(M=new e),w(at,et,R,A,M)}}return q?(M||(M=new e),i(_,E,R,A,w,M)):!1}return $_=x,$_}var W_,J8;function Ak(){if(J8)return W_;J8=1;var e=uJ(),t=ic();function n(i,a,r,s,l){return i===a?!0:i==null||a==null||!t(i)&&!t(a)?i!==i&&a!==a:e(i,a,r,s,n,l)}return W_=n,W_}var Q_,tM;function dJ(){if(tM)return Q_;tM=1;var e=M3(),t=Ak(),n=1,i=2;function a(r,s,l,c){var d=l.length,f=d,m=!c;if(r==null)return!f;for(r=Object(r);d--;){var v=l[d];if(m&&v[2]?v[1]!==r[v[0]]:!(v[0]in r))return!1}for(;++d<f;){v=l[d];var y=v[0],x=r[y],_=v[1];if(m&&v[2]){if(x===void 0&&!(y in r))return!1}else{var E=new e;if(c)var R=c(x,_,y,r,s,E);if(!(R===void 0?t(_,x,n|i,c,E):R))return!1}}return!0}return Q_=a,Q_}var Z_,eM;function Ck(){if(eM)return Z_;eM=1;var e=Rp();function t(n){return n===n&&!e(n)}return Z_=t,Z_}var J_,nM;function hJ(){if(nM)return J_;nM=1;var e=Ck(),t=yv();function n(i){for(var a=t(i),r=a.length;r--;){var s=a[r],l=i[s];a[r]=[s,l,e(l)]}return a}return J_=n,J_}var tw,iM;function Tk(){if(iM)return tw;iM=1;function e(t,n){return function(i){return i==null?!1:i[t]===n&&(n!==void 0||t in Object(i))}}return tw=e,tw}var ew,aM;function fJ(){if(aM)return ew;aM=1;var e=dJ(),t=hJ(),n=Tk();function i(a){var r=t(a);return r.length==1&&r[0][2]?n(r[0][0],r[0][1]):function(s){return s===a||e(s,a,r)}}return ew=i,ew}var nw,rM;function O3(){if(rM)return nw;rM=1;var e=ih(),t=ic(),n="[object Symbol]";function i(a){return typeof a=="symbol"||t(a)&&e(a)==n}return nw=i,nw}var iw,sM;function N3(){if(sM)return iw;sM=1;var e=io(),t=O3(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function a(r,s){if(e(r))return!1;var l=typeof r;return l=="number"||l=="symbol"||l=="boolean"||r==null||t(r)?!0:i.test(r)||!n.test(r)||s!=null&&r in Object(s)}return iw=a,iw}var aw,oM;function pJ(){if(oM)return aw;oM=1;var e=R3(),t="Expected a function";function n(i,a){if(typeof i!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var r=function(){var s=arguments,l=a?a.apply(this,s):s[0],c=r.cache;if(c.has(l))return c.get(l);var d=i.apply(this,s);return r.cache=c.set(l,d)||c,d};return r.cache=new(n.Cache||e),r}return n.Cache=e,aw=n,aw}var rw,lM;function gJ(){if(lM)return rw;lM=1;var e=pJ(),t=500;function n(i){var a=e(i,function(s){return r.size===t&&r.clear(),s}),r=a.cache;return a}return rw=n,rw}var sw,cM;function mJ(){if(cM)return sw;cM=1;var e=gJ(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,i=e(function(a){var r=[];return a.charCodeAt(0)===46&&r.push(""),a.replace(t,function(s,l,c,d){r.push(c?d.replace(n,"$1"):l||s)}),r});return sw=i,sw}var ow,uM;function vJ(){if(uM)return ow;uM=1;var e=vv(),t=vk(),n=io(),i=O3(),a=e?e.prototype:void 0,r=a?a.toString:void 0;function s(l){if(typeof l=="string")return l;if(n(l))return t(l,s)+"";if(i(l))return r?r.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return ow=s,ow}var lw,dM;function yJ(){if(dM)return lw;dM=1;var e=vJ();function t(n){return n==null?"":e(n)}return lw=t,lw}var cw,hM;function Rk(){if(hM)return cw;hM=1;var e=io(),t=N3(),n=mJ(),i=yJ();function a(r,s){return e(r)?r:t(r,s)?[r]:n(i(r))}return cw=a,cw}var uw,fM;function yx(){if(fM)return uw;fM=1;var e=O3();function t(n){if(typeof n=="string"||e(n))return n;var i=n+"";return i=="0"&&1/n==-1/0?"-0":i}return uw=t,uw}var dw,pM;function Mk(){if(pM)return dw;pM=1;var e=Rk(),t=yx();function n(i,a){a=e(a,i);for(var r=0,s=a.length;i!=null&&r<s;)i=i[t(a[r++])];return r&&r==s?i:void 0}return dw=n,dw}var hw,gM;function bJ(){if(gM)return hw;gM=1;var e=Mk();function t(n,i,a){var r=n==null?void 0:e(n,i);return r===void 0?a:r}return hw=t,hw}var fw,mM;function xJ(){if(mM)return fw;mM=1;function e(t,n){return t!=null&&n in Object(t)}return fw=e,fw}var pw,vM;function SJ(){if(vM)return pw;vM=1;var e=Rk(),t=ck(),n=io(),i=uk(),a=x3(),r=yx();function s(l,c,d){c=e(c,l);for(var f=-1,m=c.length,v=!1;++f<m;){var y=r(c[f]);if(!(v=l!=null&&d(l,y)))break;l=l[y]}return v||++f!=m?v:(m=l==null?0:l.length,!!m&&a(m)&&i(y,m)&&(n(l)||t(l)))}return pw=s,pw}var gw,yM;function _J(){if(yM)return gw;yM=1;var e=xJ(),t=SJ();function n(i,a){return i!=null&&t(i,a,e)}return gw=n,gw}var mw,bM;function wJ(){if(bM)return mw;bM=1;var e=Ak(),t=bJ(),n=_J(),i=N3(),a=Ck(),r=Tk(),s=yx(),l=1,c=2;function d(f,m){return i(f)&&a(m)?r(s(f),m):function(v){var y=t(v,f);return y===void 0&&y===m?n(v,f):e(m,y,l|c)}}return mw=d,mw}var vw,xM;function EJ(){if(xM)return vw;xM=1;function e(t){return function(n){return n?.[t]}}return vw=e,vw}var yw,SM;function AJ(){if(SM)return yw;SM=1;var e=Mk();function t(n){return function(i){return e(i,n)}}return yw=t,yw}var bw,_M;function CJ(){if(_M)return bw;_M=1;var e=EJ(),t=AJ(),n=N3(),i=yx();function a(r){return n(r)?e(i(r)):t(r)}return bw=a,bw}var xw,wM;function TJ(){if(wM)return xw;wM=1;var e=fJ(),t=wJ(),n=mk(),i=io(),a=CJ();function r(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?i(s)?t(s[0],s[1]):e(s):a(s)}return xw=r,xw}var Sw,EM;function RJ(){if(EM)return Sw;EM=1;var e=hx();function t(n,i){return function(a,r){if(a==null)return a;if(!e(a))return n(a,r);for(var s=a.length,l=i?s:-1,c=Object(a);(i?l--:++l<s)&&r(c[l],l,c)!==!1;);return a}}return Sw=t,Sw}var _w,AM;function MJ(){if(AM)return _w;AM=1;var e=gk(),t=RJ(),n=t(e);return _w=n,_w}var ww,CM;function DJ(){if(CM)return ww;CM=1;var e=MJ(),t=hx();function n(i,a){var r=-1,s=t(i)?Array(i.length):[];return e(i,function(l,c,d){s[++r]=a(l,c,d)}),s}return ww=n,ww}var Ew,TM;function OJ(){if(TM)return Ew;TM=1;var e=vk(),t=TJ(),n=DJ(),i=io();function a(r,s){var l=i(r)?e:n;return l(r,t(s,3))}return Ew=a,Ew}var RM;function NJ(){if(RM)return Af;RM=1,Object.defineProperty(Af,"__esModule",{value:!0}),Af.flattenNames=void 0;var e=fZ(),t=c(e),n=E3(),i=c(n),a=wZ(),r=c(a),s=OJ(),l=c(s);function c(f){return f&&f.__esModule?f:{default:f}}var d=Af.flattenNames=function f(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],v=[];return(0,l.default)(m,function(y){Array.isArray(y)?f(y).map(function(x){return v.push(x)}):(0,r.default)(y)?(0,i.default)(y,function(x,_){x===!0&&v.push(_),v.push(_+"-"+x)}):(0,t.default)(y)&&v.push(y)}),v};return Af.default=d,Af}var Cf={},Aw,MM;function PJ(){if(MM)return Aw;MM=1;function e(t,n){for(var i=-1,a=t==null?0:t.length;++i<a&&n(t[i],i,t)!==!1;);return t}return Aw=e,Aw}var Cw,DM;function LJ(){if(DM)return Cw;DM=1;var e=ah(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Cw=t,Cw}var Tw,OM;function Dk(){if(OM)return Tw;OM=1;var e=LJ();function t(n,i,a){i=="__proto__"&&e?e(n,i,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[i]=a}return Tw=t,Tw}var Rw,NM;function Ok(){if(NM)return Rw;NM=1;var e=Dk(),t=C3(),n=Object.prototype,i=n.hasOwnProperty;function a(r,s,l){var c=r[s];(!(i.call(r,s)&&t(c,l))||l===void 0&&!(s in r))&&e(r,s,l)}return Rw=a,Rw}var Mw,PM;function bx(){if(PM)return Mw;PM=1;var e=Ok(),t=Dk();function n(i,a,r,s){var l=!r;r||(r={});for(var c=-1,d=a.length;++c<d;){var f=a[c],m=s?s(r[f],i[f],f,r,i):void 0;m===void 0&&(m=i[f]),l?t(r,f,m):e(r,f,m)}return r}return Mw=n,Mw}var Dw,LM;function kJ(){if(LM)return Dw;LM=1;var e=bx(),t=yv();function n(i,a){return i&&e(a,t(a),i)}return Dw=n,Dw}var Ow,kM;function jJ(){if(kM)return Ow;kM=1;function e(t){var n=[];if(t!=null)for(var i in Object(t))n.push(i);return n}return Ow=e,Ow}var Nw,jM;function FJ(){if(jM)return Nw;jM=1;var e=Rp(),t=w3(),n=jJ(),i=Object.prototype,a=i.hasOwnProperty;function r(s){if(!e(s))return n(s);var l=t(s),c=[];for(var d in s)d=="constructor"&&(l||!a.call(s,d))||c.push(d);return c}return Nw=r,Nw}var Pw,FM;function P3(){if(FM)return Pw;FM=1;var e=hk(),t=FJ(),n=hx();function i(a){return n(a)?e(a,!0):t(a)}return Pw=i,Pw}var Lw,BM;function BJ(){if(BM)return Lw;BM=1;var e=bx(),t=P3();function n(i,a){return i&&e(a,t(a),i)}return Lw=n,Lw}var g0={exports:{}};g0.exports;var IM;function IJ(){return IM||(IM=1,function(e,t){var n=rl(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,r=a&&a.exports===i,s=r?n.Buffer:void 0,l=s?s.allocUnsafe:void 0;function c(d,f){if(f)return d.slice();var m=d.length,v=l?l(m):new d.constructor(m);return d.copy(v),v}e.exports=c}(g0,g0.exports)),g0.exports}var kw,zM;function zJ(){if(zM)return kw;zM=1;function e(t,n){var i=-1,a=t.length;for(n||(n=Array(a));++i<a;)n[i]=t[i];return n}return kw=e,kw}var jw,UM;function UJ(){if(UM)return jw;UM=1;var e=bx(),t=D3();function n(i,a){return e(i,t(i),a)}return jw=n,jw}var Fw,HM;function Nk(){if(HM)return Fw;HM=1;var e=Sk(),t=A3(),n=D3(),i=wk(),a=Object.getOwnPropertySymbols,r=a?function(s){for(var l=[];s;)e(l,n(s)),s=t(s);return l}:i;return Fw=r,Fw}var Bw,GM;function HJ(){if(GM)return Bw;GM=1;var e=bx(),t=Nk();function n(i,a){return e(i,t(i),a)}return Bw=n,Bw}var Iw,qM;function GJ(){if(qM)return Iw;qM=1;var e=_k(),t=Nk(),n=P3();function i(a){return e(a,n,t)}return Iw=i,Iw}var zw,VM;function qJ(){if(VM)return zw;VM=1;var e=Object.prototype,t=e.hasOwnProperty;function n(i){var a=i.length,r=new i.constructor(a);return a&&typeof i[0]=="string"&&t.call(i,"index")&&(r.index=i.index,r.input=i.input),r}return zw=n,zw}var Uw,YM;function L3(){if(YM)return Uw;YM=1;var e=xk();function t(n){var i=new n.constructor(n.byteLength);return new e(i).set(new e(n)),i}return Uw=t,Uw}var Hw,KM;function VJ(){if(KM)return Hw;KM=1;var e=L3();function t(n,i){var a=i?e(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.byteLength)}return Hw=t,Hw}var Gw,XM;function YJ(){if(XM)return Gw;XM=1;var e=/\w*$/;function t(n){var i=new n.constructor(n.source,e.exec(n));return i.lastIndex=n.lastIndex,i}return Gw=t,Gw}var qw,$M;function KJ(){if($M)return qw;$M=1;var e=vv(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function i(a){return n?Object(n.call(a)):{}}return qw=i,qw}var Vw,WM;function XJ(){if(WM)return Vw;WM=1;var e=L3();function t(n,i){var a=i?e(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.length)}return Vw=t,Vw}var Yw,QM;function $J(){if(QM)return Yw;QM=1;var e=L3(),t=VJ(),n=YJ(),i=KJ(),a=XJ(),r="[object Boolean]",s="[object Date]",l="[object Map]",c="[object Number]",d="[object RegExp]",f="[object Set]",m="[object String]",v="[object Symbol]",y="[object ArrayBuffer]",x="[object DataView]",_="[object Float32Array]",E="[object Float64Array]",R="[object Int8Array]",A="[object Int16Array]",w="[object Int32Array]",M="[object Uint8Array]",D="[object Uint8ClampedArray]",P="[object Uint16Array]",z="[object Uint32Array]";function L(U,I,q){var J=U.constructor;switch(I){case y:return e(U);case r:case s:return new J(+U);case x:return t(U,q);case _:case E:case R:case A:case w:case M:case D:case P:case z:return a(U,q);case l:return new J;case c:case m:return new J(U);case d:return n(U);case f:return new J;case v:return i(U)}}return Yw=L,Yw}var Kw,ZM;function WJ(){if(ZM)return Kw;ZM=1;var e=Rp(),t=Object.create,n=function(){function i(){}return function(a){if(!e(a))return{};if(t)return t(a);i.prototype=a;var r=new i;return i.prototype=void 0,r}}();return Kw=n,Kw}var Xw,JM;function QJ(){if(JM)return Xw;JM=1;var e=WJ(),t=A3(),n=w3();function i(a){return typeof a.constructor=="function"&&!n(a)?e(t(a)):{}}return Xw=i,Xw}var $w,tD;function ZJ(){if(tD)return $w;tD=1;var e=vx(),t=ic(),n="[object Map]";function i(a){return t(a)&&e(a)==n}return $w=i,$w}var Ww,eD;function JJ(){if(eD)return Ww;eD=1;var e=ZJ(),t=S3(),n=_3(),i=n&&n.isMap,a=i?t(i):e;return Ww=a,Ww}var Qw,nD;function ttt(){if(nD)return Qw;nD=1;var e=vx(),t=ic(),n="[object Set]";function i(a){return t(a)&&e(a)==n}return Qw=i,Qw}var Zw,iD;function ett(){if(iD)return Zw;iD=1;var e=ttt(),t=S3(),n=_3(),i=n&&n.isSet,a=i?t(i):e;return Zw=a,Zw}var Jw,aD;function ntt(){if(aD)return Jw;aD=1;var e=M3(),t=PJ(),n=Ok(),i=kJ(),a=BJ(),r=IJ(),s=zJ(),l=UJ(),c=HJ(),d=Ek(),f=GJ(),m=vx(),v=qJ(),y=$J(),x=QJ(),_=io(),E=b3(),R=JJ(),A=Rp(),w=ett(),M=yv(),D=P3(),P=1,z=2,L=4,U="[object Arguments]",I="[object Array]",q="[object Boolean]",J="[object Date]",it="[object Error]",at="[object Function]",et="[object GeneratorFunction]",Z="[object Map]",B="[object Number]",V="[object Object]",W="[object RegExp]",H="[object Set]",K="[object String]",nt="[object Symbol]",$="[object WeakMap]",lt="[object ArrayBuffer]",yt="[object DataView]",ot="[object Float32Array]",tt="[object Float64Array]",ut="[object Int8Array]",Et="[object Int16Array]",Dt="[object Int32Array]",jt="[object Uint8Array]",Bt="[object Uint8ClampedArray]",Ht="[object Uint16Array]",pe="[object Uint32Array]",Lt={};Lt[U]=Lt[I]=Lt[lt]=Lt[yt]=Lt[q]=Lt[J]=Lt[ot]=Lt[tt]=Lt[ut]=Lt[Et]=Lt[Dt]=Lt[Z]=Lt[B]=Lt[V]=Lt[W]=Lt[H]=Lt[K]=Lt[nt]=Lt[jt]=Lt[Bt]=Lt[Ht]=Lt[pe]=!0,Lt[it]=Lt[at]=Lt[$]=!1;function Re(Ft,Ce,cn,un,Sn,Zt){var Me,Ot=Ce&P,Ut=Ce&z,ie=Ce&L;if(cn&&(Me=Sn?cn(Ft,un,Sn,Zt):cn(Ft)),Me!==void 0)return Me;if(!A(Ft))return Ft;var $t=_(Ft);if($t){if(Me=v(Ft),!Ot)return s(Ft,Me)}else{var re=m(Ft),Ne=re==at||re==et;if(E(Ft))return r(Ft,Ot);if(re==V||re==U||Ne&&!Sn){if(Me=Ut||Ne?{}:x(Ft),!Ot)return Ut?c(Ft,a(Me,Ft)):l(Ft,i(Me,Ft))}else{if(!Lt[re])return Sn?Ft:{};Me=y(Ft,re,Ot)}}Zt||(Zt=new e);var nn=Zt.get(Ft);if(nn)return nn;Zt.set(Ft,Me),w(Ft)?Ft.forEach(function(Rn){Me.add(Re(Rn,Ce,cn,Rn,Ft,Zt))}):R(Ft)&&Ft.forEach(function(Rn,Mt){Me.set(Mt,Re(Rn,Ce,cn,Mt,Ft,Zt))});var _n=ie?Ut?f:d:Ut?D:M,yi=$t?void 0:_n(Ft);return t(yi||Ft,function(Rn,Mt){yi&&(Mt=Rn,Rn=Ft[Mt]),n(Me,Mt,Re(Rn,Ce,cn,Mt,Ft,Zt))}),Me}return Jw=Re,Jw}var tE,rD;function itt(){if(rD)return tE;rD=1;var e=ntt(),t=1,n=4;function i(a){return e(a,t|n)}return tE=i,tE}var sD;function att(){if(sD)return Cf;sD=1,Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.mergeClasses=void 0;var e=E3(),t=r(e),n=itt(),i=r(n),a=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var d=arguments[c];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(l[f]=d[f])}return l};function r(l){return l&&l.__esModule?l:{default:l}}var s=Cf.mergeClasses=function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],f=c.default&&(0,i.default)(c.default)||{};return d.map(function(m){var v=c[m];return v&&(0,t.default)(v,function(y,x){f[x]||(f[x]={}),f[x]=a({},f[x],v[x])}),m}),f};return Cf.default=s,Cf}var Tf={},oD;function rtt(){if(oD)return Tf;oD=1,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.autoprefix=void 0;var e=E3(),t=i(e),n=Object.assign||function(s){for(var l=1;l<arguments.length;l++){var c=arguments[l];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(s[d]=c[d])}return s};function i(s){return s&&s.__esModule?s:{default:s}}var a={borderRadius:function(l){return{msBorderRadius:l,MozBorderRadius:l,OBorderRadius:l,WebkitBorderRadius:l,borderRadius:l}},boxShadow:function(l){return{msBoxShadow:l,MozBoxShadow:l,OBoxShadow:l,WebkitBoxShadow:l,boxShadow:l}},userSelect:function(l){return{WebkitTouchCallout:l,KhtmlUserSelect:l,MozUserSelect:l,msUserSelect:l,WebkitUserSelect:l,userSelect:l}},flex:function(l){return{WebkitBoxFlex:l,MozBoxFlex:l,WebkitFlex:l,msFlex:l,flex:l}},flexBasis:function(l){return{WebkitFlexBasis:l,flexBasis:l}},justifyContent:function(l){return{WebkitJustifyContent:l,justifyContent:l}},transition:function(l){return{msTransition:l,MozTransition:l,OTransition:l,WebkitTransition:l,transition:l}},transform:function(l){return{msTransform:l,MozTransform:l,OTransform:l,WebkitTransform:l,transform:l}},absolute:function(l){var c=l&&l.split(" ");return{position:"absolute",top:c&&c[0],right:c&&c[1],bottom:c&&c[2],left:c&&c[3]}},extend:function(l,c){var d=c[l];return d||{extend:l}}},r=Tf.autoprefix=function(l){var c={};return(0,t.default)(l,function(d,f){var m={};(0,t.default)(d,function(v,y){var x=a[y];x?m=n({},m,x(v)):m[y]=v}),c[f]=m}),c};return Tf.default=r,Tf}var Rf={},lD;function stt(){if(lD)return Rf;lD=1,Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.hover=void 0;var e=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var f=arguments[d];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(c[m]=f[m])}return c},t=il(),n=i(t);function i(c){return c&&c.__esModule?c:{default:c}}function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function r(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function s(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var l=Rf.hover=function(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(m){s(v,m);function v(){var y,x,_,E;a(this,v);for(var R=arguments.length,A=Array(R),w=0;w<R;w++)A[w]=arguments[w];return E=(x=(_=r(this,(y=v.__proto__||Object.getPrototypeOf(v)).call.apply(y,[this].concat(A))),_),_.state={hover:!1},_.handleMouseOver=function(){return _.setState({hover:!0})},_.handleMouseOut=function(){return _.setState({hover:!1})},_.render=function(){return n.default.createElement(f,{onMouseOver:_.handleMouseOver,onMouseOut:_.handleMouseOut},n.default.createElement(d,e({},_.props,_.state)))},x),r(_,E)}return v}(n.default.Component)};return Rf.default=l,Rf}var Mf={},cD;function ott(){if(cD)return Mf;cD=1,Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.active=void 0;var e=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var f=arguments[d];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(c[m]=f[m])}return c},t=il(),n=i(t);function i(c){return c&&c.__esModule?c:{default:c}}function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function r(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function s(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var l=Mf.active=function(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(m){s(v,m);function v(){var y,x,_,E;a(this,v);for(var R=arguments.length,A=Array(R),w=0;w<R;w++)A[w]=arguments[w];return E=(x=(_=r(this,(y=v.__proto__||Object.getPrototypeOf(v)).call.apply(y,[this].concat(A))),_),_.state={active:!1},_.handleMouseDown=function(){return _.setState({active:!0})},_.handleMouseUp=function(){return _.setState({active:!1})},_.render=function(){return n.default.createElement(f,{onMouseDown:_.handleMouseDown,onMouseUp:_.handleMouseUp},n.default.createElement(d,e({},_.props,_.state)))},x),r(_,E)}return v}(n.default.Component)};return Mf.default=l,Mf}var gb={},uD;function ltt(){if(uD)return gb;uD=1,Object.defineProperty(gb,"__esModule",{value:!0});var e=function(n,i){var a={},r=function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;a[l]=c};return n===0&&r("first-child"),n===i-1&&r("last-child"),(n===0||n%2===0)&&r("even"),Math.abs(n%2)===1&&r("odd"),r("nth-child",n),a};return gb.default=e,gb}var dD;function ctt(){if(dD)return Ja;dD=1,Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.ReactCSS=Ja.loop=Ja.handleActive=Ja.handleHover=Ja.hover=void 0;var e=NJ(),t=v(e),n=att(),i=v(n),a=rtt(),r=v(a),s=stt(),l=v(s),c=ott(),d=v(c),f=ltt(),m=v(f);function v(x){return x&&x.__esModule?x:{default:x}}Ja.hover=l.default,Ja.handleHover=l.default,Ja.handleActive=d.default,Ja.loop=m.default;var y=Ja.ReactCSS=function(_){for(var E=arguments.length,R=Array(E>1?E-1:0),A=1;A<E;A++)R[A-1]=arguments[A];var w=(0,t.default)(R),M=(0,i.default)(_,w);return(0,r.default)(M)};return Ja.default=y,Ja}var k3=ctt();const fe=Tr(k3);var utt=function(t,n,i,a,r){var s=r.clientWidth,l=r.clientHeight,c=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,d=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,f=c-(r.getBoundingClientRect().left+window.pageXOffset),m=d-(r.getBoundingClientRect().top+window.pageYOffset);if(i==="vertical"){var v=void 0;if(m<0?v=0:m>l?v=1:v=Math.round(m*100/l)/100,n.a!==v)return{h:n.h,s:n.s,l:n.l,a:v,source:"rgb"}}else{var y=void 0;if(f<0?y=0:f>s?y=1:y=Math.round(f*100/s)/100,a!==y)return{h:n.h,s:n.s,l:n.l,a:y,source:"rgb"}}return null},eE={},dtt=function(t,n,i,a){if(typeof document>"u"&&!a)return null;var r=a?new a:document.createElement("canvas");r.width=i*2,r.height=i*2;var s=r.getContext("2d");return s?(s.fillStyle=t,s.fillRect(0,0,r.width,r.height),s.fillStyle=n,s.fillRect(0,0,i,i),s.translate(i,i),s.fillRect(0,0,i,i),r.toDataURL()):null},htt=function(t,n,i,a){var r=t+"-"+n+"-"+i+(a?"-server":"");if(eE[r])return eE[r];var s=dtt(t,n,i,a);return eE[r]=s,s},hD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Mp=function(t){var n=t.white,i=t.grey,a=t.size,r=t.renderers,s=t.borderRadius,l=t.boxShadow,c=t.children,d=fe({default:{grid:{borderRadius:s,boxShadow:l,absolute:"0px 0px 0px 0px",background:"url("+htt(n,i,a,r.canvas)+") center left"}}});return j.isValidElement(c)?Y.cloneElement(c,hD({},c.props,{style:hD({},c.props.style,d.grid)})):Y.createElement("div",{style:d.grid})};Mp.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var ftt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ptt=function(){function e(t,n){for(var i=0;i<n.length;i++){var a=n[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function gtt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fD(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function mtt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j3=function(e){mtt(t,e);function t(){var n,i,a,r;gtt(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return r=(i=(a=fD(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(l))),a),a.handleChange=function(d){var f=utt(d,a.props.hsl,a.props.direction,a.props.a,a.container);f&&typeof a.props.onChange=="function"&&a.props.onChange(f,d)},a.handleMouseDown=function(d){a.handleChange(d),window.addEventListener("mousemove",a.handleChange),window.addEventListener("mouseup",a.handleMouseUp)},a.handleMouseUp=function(){a.unbindEventListeners()},a.unbindEventListeners=function(){window.removeEventListener("mousemove",a.handleChange),window.removeEventListener("mouseup",a.handleMouseUp)},i),fD(a,r)}return ptt(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var i=this,a=this.props.rgb,r=fe({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+a.r+","+a.g+","+a.b+`, 0) 0%,
           rgba(`+a.r+","+a.g+","+a.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:a.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+a.r+","+a.g+","+a.b+`, 0) 0%,
           rgba(`+a.r+","+a.g+","+a.b+", 1) 100%)"},pointer:{left:0,top:a.a*100+"%"}},overwrite:ftt({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return Y.createElement("div",{style:r.alpha},Y.createElement("div",{style:r.checkboard},Y.createElement(Mp,{renderers:this.props.renderers})),Y.createElement("div",{style:r.gradient}),Y.createElement("div",{style:r.container,ref:function(l){return i.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Y.createElement("div",{style:r.pointer},this.props.pointer?Y.createElement(this.props.pointer,this.props):Y.createElement("div",{style:r.slider}))))}}]),t}(j.PureComponent||j.Component),vtt=function(){function e(t,n){for(var i=0;i<n.length;i++){var a=n[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function ytt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function btt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xtt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Stt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _tt=1,Pk=38,wtt=40,Ett=[Pk,wtt],Att=function(t){return Ett.indexOf(t)>-1},Ctt=function(t){return Number(String(t).replace(/%/g,""))},Ttt=1,Ke=function(e){Stt(t,e);function t(n){btt(this,t);var i=xtt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.handleBlur=function(){i.state.blurValue&&i.setState({value:i.state.blurValue,blurValue:null})},i.handleChange=function(a){i.setUpdatedValue(a.target.value,a)},i.handleKeyDown=function(a){var r=Ctt(a.target.value);if(!isNaN(r)&&Att(a.keyCode)){var s=i.getArrowOffset(),l=a.keyCode===Pk?r+s:r-s;i.setUpdatedValue(l,a)}},i.handleDrag=function(a){if(i.props.dragLabel){var r=Math.round(i.props.value+a.movementX);r>=0&&r<=i.props.dragMax&&i.props.onChange&&i.props.onChange(i.getValueObjectWithLabel(r),a)}},i.handleMouseDown=function(a){i.props.dragLabel&&(a.preventDefault(),i.handleDrag(a),window.addEventListener("mousemove",i.handleDrag),window.addEventListener("mouseup",i.handleMouseUp))},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleDrag),window.removeEventListener("mouseup",i.handleMouseUp)},i.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},i.inputId="rc-editable-input-"+Ttt++,i}return vtt(t,[{key:"componentDidUpdate",value:function(i,a){this.props.value!==this.state.value&&(i.value!==this.props.value||a.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(i){return ytt({},this.props.label,i)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||_tt}},{key:"setUpdatedValue",value:function(i,a){var r=this.props.label?this.getValueObjectWithLabel(i):i;this.props.onChange&&this.props.onChange(r,a),this.setState({value:i})}},{key:"render",value:function(){var i=this,a=fe({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return Y.createElement("div",{style:a.wrap},Y.createElement("input",{id:this.inputId,style:a.input,ref:function(s){return i.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?Y.createElement("label",{htmlFor:this.inputId,style:a.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(j.PureComponent||j.Component),Rtt=function(t,n,i,a){var r=a.clientWidth,s=a.clientHeight,l=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,c=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,d=l-(a.getBoundingClientRect().left+window.pageXOffset),f=c-(a.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var m=void 0;if(f<0)m=359;else if(f>s)m=0;else{var v=-(f*100/s)+100;m=360*v/100}if(i.h!==m)return{h:m,s:i.s,l:i.l,a:i.a,source:"hsl"}}else{var y=void 0;if(d<0)y=0;else if(d>r)y=359;else{var x=d*100/r;y=360*x/100}if(i.h!==y)return{h:y,s:i.s,l:i.l,a:i.a,source:"hsl"}}return null},Mtt=function(){function e(t,n){for(var i=0;i<n.length;i++){var a=n[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function Dtt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pD(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Ott(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Dp=function(e){Ott(t,e);function t(){var n,i,a,r;Dtt(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return r=(i=(a=pD(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(l))),a),a.handleChange=function(d){var f=Rtt(d,a.props.direction,a.props.hsl,a.container);f&&typeof a.props.onChange=="function"&&a.props.onChange(f,d)},a.handleMouseDown=function(d){a.handleChange(d),window.addEventListener("mousemove",a.handleChange),window.addEventListener("mouseup",a.handleMouseUp)},a.handleMouseUp=function(){a.unbindEventListeners()},i),pD(a,r)}return Mtt(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var i=this,a=this.props.direction,r=a===void 0?"horizontal":a,s=fe({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:r==="vertical"});return Y.createElement("div",{style:s.hue},Y.createElement("div",{className:"hue-"+r,style:s.container,ref:function(c){return i.container=c},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Y.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),Y.createElement("div",{style:s.pointer},this.props.pointer?Y.createElement(this.props.pointer,this.props):Y.createElement("div",{style:s.slider}))))}}]),t}(j.PureComponent||j.Component),nE={exports:{}},iE,gD;function Ntt(){if(gD)return iE;gD=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return iE=e,iE}var aE,mD;function Ptt(){if(mD)return aE;mD=1;var e=Ntt();function t(){}function n(){}return n.resetWarningCache=t,aE=function(){function i(s,l,c,d,f,m){if(m!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}i.isRequired=i;function a(){return i}var r={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return r.PropTypes=r,r},aE}var vD;function Ltt(){return vD||(vD=1,nE.exports=Ptt()()),nE.exports}var ktt=Ltt();const St=Tr(ktt);function jtt(){this.__data__=[],this.size=0}function bv(e,t){return e===t||e!==e&&t!==t}function xx(e,t){for(var n=e.length;n--;)if(bv(e[n][0],t))return n;return-1}var Ftt=Array.prototype,Btt=Ftt.splice;function Itt(e){var t=this.__data__,n=xx(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():Btt.call(t,n,1),--this.size,!0}function ztt(e){var t=this.__data__,n=xx(t,e);return n<0?void 0:t[n][1]}function Utt(e){return xx(this.__data__,e)>-1}function Htt(e,t){var n=this.__data__,i=xx(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}function ac(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}ac.prototype.clear=jtt;ac.prototype.delete=Itt;ac.prototype.get=ztt;ac.prototype.has=Utt;ac.prototype.set=Htt;function Gtt(){this.__data__=new ac,this.size=0}function qtt(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Vtt(e){return this.__data__.get(e)}function Ytt(e){return this.__data__.has(e)}var Lk=typeof global=="object"&&global&&global.Object===Object&&global,Ktt=typeof self=="object"&&self&&self.Object===Object&&self,ao=Lk||Ktt||Function("return this")(),vu=ao.Symbol,kk=Object.prototype,Xtt=kk.hasOwnProperty,$tt=kk.toString,hm=vu?vu.toStringTag:void 0;function Wtt(e){var t=Xtt.call(e,hm),n=e[hm];try{e[hm]=void 0;var i=!0}catch{}var a=$tt.call(e);return i&&(t?e[hm]=n:delete e[hm]),a}var Qtt=Object.prototype,Ztt=Qtt.toString;function Jtt(e){return Ztt.call(e)}var tet="[object Null]",eet="[object Undefined]",yD=vu?vu.toStringTag:void 0;function rh(e){return e==null?e===void 0?eet:tet:yD&&yD in Object(e)?Wtt(e):Jtt(e)}function hs(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var net="[object AsyncFunction]",iet="[object Function]",aet="[object GeneratorFunction]",ret="[object Proxy]";function F3(e){if(!hs(e))return!1;var t=rh(e);return t==iet||t==aet||t==net||t==ret}var rE=ao["__core-js_shared__"],bD=function(){var e=/[^.]+$/.exec(rE&&rE.keys&&rE.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function set(e){return!!bD&&bD in e}var oet=Function.prototype,cet=oet.toString;function sh(e){if(e!=null){try{return cet.call(e)}catch{}try{return e+""}catch{}}return""}var uet=/[\\^$.*+?()[\]{}|]/g,det=/^\[object .+?Constructor\]$/,het=Function.prototype,fet=Object.prototype,pet=het.toString,get=fet.hasOwnProperty,met=RegExp("^"+pet.call(get).replace(uet,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vet(e){if(!hs(e)||set(e))return!1;var t=F3(e)?met:det;return t.test(sh(e))}function yet(e,t){return e?.[t]}function oh(e,t){var n=yet(e,t);return vet(n)?n:void 0}var Y0=oh(ao,"Map"),K0=oh(Object,"create");function bet(){this.__data__=K0?K0(null):{},this.size=0}function xet(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _et="__lodash_hash_undefined__",wet=Object.prototype,Eet=wet.hasOwnProperty;function Aet(e){var t=this.__data__;if(K0){var n=t[e];return n===_et?void 0:n}return Eet.call(t,e)?t[e]:void 0}var Cet=Object.prototype,Tet=Cet.hasOwnProperty;function Ret(e){var t=this.__data__;return K0?t[e]!==void 0:Tet.call(t,e)}var Met="__lodash_hash_undefined__";function Det(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=K0&&t===void 0?Met:t,this}function Wd(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Wd.prototype.clear=bet;Wd.prototype.delete=xet;Wd.prototype.get=Aet;Wd.prototype.has=Ret;Wd.prototype.set=Det;function Oet(){this.size=0,this.__data__={hash:new Wd,map:new(Y0||ac),string:new Wd}}function Net(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Sx(e,t){var n=e.__data__;return Net(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Pet(e){var t=Sx(this,e).delete(e);return this.size-=t?1:0,t}function Let(e){return Sx(this,e).get(e)}function ket(e){return Sx(this,e).has(e)}function jet(e,t){var n=Sx(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}function rc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}rc.prototype.clear=Oet;rc.prototype.delete=Pet;rc.prototype.get=Let;rc.prototype.has=ket;rc.prototype.set=jet;var Fet=200;function Bet(e,t){var n=this.__data__;if(n instanceof ac){var i=n.__data__;if(!Y0||i.length<Fet-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new rc(i)}return n.set(e,t),this.size=n.size,this}function el(e){var t=this.__data__=new ac(e);this.size=t.size}el.prototype.clear=Gtt;el.prototype.delete=qtt;el.prototype.get=Vtt;el.prototype.has=Ytt;el.prototype.set=Bet;var g1=function(){try{var e=oh(Object,"defineProperty");return e({},"",{}),e}catch{}}();function B3(e,t,n){t=="__proto__"&&g1?g1(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function kA(e,t,n){(n!==void 0&&!bv(e[t],n)||n===void 0&&!(t in e))&&B3(e,t,n)}function Iet(e){return function(t,n,i){for(var a=-1,r=Object(t),s=i(t),l=s.length;l--;){var c=s[++a];if(n(r[c],c,r)===!1)break}return t}}var jk=Iet(),Fk=typeof exports=="object"&&exports&&!exports.nodeType&&exports,xD=Fk&&typeof module=="object"&&module&&!module.nodeType&&module,zet=xD&&xD.exports===Fk,SD=zet?ao.Buffer:void 0;SD&&SD.allocUnsafe;function Uet(e,t){return e.slice()}var m1=ao.Uint8Array;function Het(e){var t=new e.constructor(e.byteLength);return new m1(t).set(new m1(e)),t}function Get(e,t){var n=Het(e.buffer);return new e.constructor(n,e.byteOffset,e.length)}function qet(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}var _D=Object.create,Vet=function(){function e(){}return function(t){if(!hs(t))return{};if(_D)return _D(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Bk(e,t){return function(n){return e(t(n))}}var Ik=Bk(Object.getPrototypeOf,Object),Yet=Object.prototype;function I3(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Yet;return e===n}function Ket(e){return typeof e.constructor=="function"&&!I3(e)?Vet(Ik(e)):{}}function yu(e){return e!=null&&typeof e=="object"}var Xet="[object Arguments]";function wD(e){return yu(e)&&rh(e)==Xet}var zk=Object.prototype,$et=zk.hasOwnProperty,Wet=zk.propertyIsEnumerable,v1=wD(function(){return arguments}())?wD:function(e){return yu(e)&&$et.call(e,"callee")&&!Wet.call(e,"callee")},Cr=Array.isArray,Qet=9007199254740991;function z3(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Qet}function Op(e){return e!=null&&z3(e.length)&&!F3(e)}function Zet(e){return yu(e)&&Op(e)}function Jet(){return!1}var Uk=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ED=Uk&&typeof module=="object"&&module&&!module.nodeType&&module,tnt=ED&&ED.exports===Uk,AD=tnt?ao.Buffer:void 0,ent=AD?AD.isBuffer:void 0,y1=ent||Jet,nnt="[object Object]",int=Function.prototype,ant=Object.prototype,Hk=int.toString,rnt=ant.hasOwnProperty,snt=Hk.call(Object);function ont(e){if(!yu(e)||rh(e)!=nnt)return!1;var t=Ik(e);if(t===null)return!0;var n=rnt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Hk.call(n)==snt}var lnt="[object Arguments]",cnt="[object Array]",unt="[object Boolean]",dnt="[object Date]",hnt="[object Error]",fnt="[object Function]",pnt="[object Map]",gnt="[object Number]",mnt="[object Object]",vnt="[object RegExp]",ynt="[object Set]",bnt="[object String]",xnt="[object WeakMap]",Snt="[object ArrayBuffer]",_nt="[object DataView]",wnt="[object Float32Array]",Ent="[object Float64Array]",Ant="[object Int8Array]",Cnt="[object Int16Array]",Tnt="[object Int32Array]",Rnt="[object Uint8Array]",Mnt="[object Uint8ClampedArray]",Dnt="[object Uint16Array]",Ont="[object Uint32Array]",Nn={};Nn[wnt]=Nn[Ent]=Nn[Ant]=Nn[Cnt]=Nn[Tnt]=Nn[Rnt]=Nn[Mnt]=Nn[Dnt]=Nn[Ont]=!0;Nn[lnt]=Nn[cnt]=Nn[Snt]=Nn[unt]=Nn[_nt]=Nn[dnt]=Nn[hnt]=Nn[fnt]=Nn[pnt]=Nn[gnt]=Nn[mnt]=Nn[vnt]=Nn[ynt]=Nn[bnt]=Nn[xnt]=!1;function Nnt(e){return yu(e)&&z3(e.length)&&!!Nn[rh(e)]}function Pnt(e){return function(t){return e(t)}}var Gk=typeof exports=="object"&&exports&&!exports.nodeType&&exports,M0=Gk&&typeof module=="object"&&module&&!module.nodeType&&module,Lnt=M0&&M0.exports===Gk,sE=Lnt&&Lk.process,CD=function(){try{var e=M0&&M0.require&&M0.require("util").types;return e||sE&&sE.binding&&sE.binding("util")}catch{}}(),TD=CD&&CD.isTypedArray,U3=TD?Pnt(TD):Nnt;function jA(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var knt=Object.prototype,jnt=knt.hasOwnProperty;function Fnt(e,t,n){var i=e[t];(!(jnt.call(e,t)&&bv(i,n))||n===void 0&&!(t in e))&&B3(e,t,n)}function Bnt(e,t,n,i){var a=!n;n||(n={});for(var r=-1,s=t.length;++r<s;){var l=t[r],c=void 0;c===void 0&&(c=e[l]),a?B3(n,l,c):Fnt(n,l,c)}return n}function Int(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var znt=9007199254740991,Unt=/^(?:0|[1-9]\d*)$/;function H3(e,t){var n=typeof e;return t=t??znt,!!t&&(n=="number"||n!="symbol"&&Unt.test(e))&&e>-1&&e%1==0&&e<t}var Hnt=Object.prototype,Gnt=Hnt.hasOwnProperty;function qk(e,t){var n=Cr(e),i=!n&&v1(e),a=!n&&!i&&y1(e),r=!n&&!i&&!a&&U3(e),s=n||i||a||r,l=s?Int(e.length,String):[],c=l.length;for(var d in e)(t||Gnt.call(e,d))&&!(s&&(d=="length"||a&&(d=="offset"||d=="parent")||r&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||H3(d,c)))&&l.push(d);return l}function qnt(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Vnt=Object.prototype,Ynt=Vnt.hasOwnProperty;function Knt(e){if(!hs(e))return qnt(e);var t=I3(e),n=[];for(var i in e)i=="constructor"&&(t||!Ynt.call(e,i))||n.push(i);return n}function Vk(e){return Op(e)?qk(e,!0):Knt(e)}function Xnt(e){return Bnt(e,Vk(e))}function $nt(e,t,n,i,a,r,s){var l=jA(e,n),c=jA(t,n),d=s.get(c);if(d){kA(e,n,d);return}var f=r?r(l,c,n+"",e,t,s):void 0,m=f===void 0;if(m){var v=Cr(c),y=!v&&y1(c),x=!v&&!y&&U3(c);f=c,v||y||x?Cr(l)?f=l:Zet(l)?f=qet(l):y?(m=!1,f=Uet(c)):x?(m=!1,f=Get(c)):f=[]:ont(c)||v1(c)?(f=l,v1(l)?f=Xnt(l):(!hs(l)||F3(l))&&(f=Ket(c))):m=!1}m&&(s.set(c,f),a(f,c,i,r,s),s.delete(c)),kA(e,n,f)}function Yk(e,t,n,i,a){e!==t&&jk(t,function(r,s){if(a||(a=new el),hs(r))$nt(e,t,s,n,Yk,i,a);else{var l=i?i(jA(e,s),r,s+"",e,t,a):void 0;l===void 0&&(l=r),kA(e,s,l)}},Vk)}function _x(e){return e}function Wnt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var RD=Math.max;function Qnt(e,t,n){return t=RD(t===void 0?e.length-1:t,0),function(){for(var i=arguments,a=-1,r=RD(i.length-t,0),s=Array(r);++a<r;)s[a]=i[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=i[a];return l[t]=n(s),Wnt(e,this,l)}}function Znt(e){return function(){return e}}var Jnt=g1?function(e,t){return g1(e,"toString",{configurable:!0,enumerable:!1,value:Znt(t),writable:!0})}:_x,tit=800,eit=16,nit=Date.now;function iit(e){var t=0,n=0;return function(){var i=nit(),a=eit-(i-n);if(n=i,a>0){if(++t>=tit)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var ait=iit(Jnt);function rit(e,t){return ait(Qnt(e,t,_x),e+"")}function sit(e,t,n){if(!hs(n))return!1;var i=typeof t;return(i=="number"?Op(n)&&H3(t,n.length):i=="string"&&t in n)?bv(n[t],e):!1}function oit(e){return rit(function(t,n){var i=-1,a=n.length,r=a>1?n[a-1]:void 0,s=a>2?n[2]:void 0;for(r=e.length>3&&typeof r=="function"?(a--,r):void 0,s&&sit(n[0],n[1],s)&&(r=a<3?void 0:r,a=1),t=Object(t);++i<a;){var l=n[i];l&&e(t,l,i,r)}return t})}var lr=oit(function(e,t,n){Yk(e,t,n)}),xv=function(t){var n=t.zDepth,i=t.radius,a=t.background,r=t.children,s=t.styles,l=s===void 0?{}:s,c=fe(lr({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:i,background:a}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},l),{"zDepth-1":n===1});return Y.createElement("div",{style:c.wrap},Y.createElement("div",{style:c.bg}),Y.createElement("div",{style:c.content},r))};xv.propTypes={background:St.string,zDepth:St.oneOf([0,1,2,3,4,5]),radius:St.number,styles:St.object};xv.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var oE=function(){return ao.Date.now()},lit=/\s/;function cit(e){for(var t=e.length;t--&&lit.test(e.charAt(t)););return t}var uit=/^\s+/;function dit(e){return e&&e.slice(0,cit(e)+1).replace(uit,"")}var hit="[object Symbol]";function wx(e){return typeof e=="symbol"||yu(e)&&rh(e)==hit}var MD=NaN,fit=/^[-+]0x[0-9a-f]+$/i,pit=/^0b[01]+$/i,git=/^0o[0-7]+$/i,mit=parseInt;function DD(e){if(typeof e=="number")return e;if(wx(e))return MD;if(hs(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=hs(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=dit(e);var n=pit.test(e);return n||git.test(e)?mit(e.slice(2),n?2:8):fit.test(e)?MD:+e}var vit="Expected a function",yit=Math.max,bit=Math.min;function Kk(e,t,n){var i,a,r,s,l,c,d=0,f=!1,m=!1,v=!0;if(typeof e!="function")throw new TypeError(vit);t=DD(t)||0,hs(n)&&(f=!!n.leading,m="maxWait"in n,r=m?yit(DD(n.maxWait)||0,t):r,v="trailing"in n?!!n.trailing:v);function y(P){var z=i,L=a;return i=a=void 0,d=P,s=e.apply(L,z),s}function x(P){return d=P,l=setTimeout(R,t),f?y(P):s}function _(P){var z=P-c,L=P-d,U=t-z;return m?bit(U,r-L):U}function E(P){var z=P-c,L=P-d;return c===void 0||z>=t||z<0||m&&L>=r}function R(){var P=oE();if(E(P))return A(P);l=setTimeout(R,_(P))}function A(P){return l=void 0,v&&i?y(P):(i=a=void 0,s)}function w(){l!==void 0&&clearTimeout(l),d=0,i=c=a=l=void 0}function M(){return l===void 0?s:A(oE())}function D(){var P=oE(),z=E(P);if(i=arguments,a=this,c=P,z){if(l===void 0)return x(c);if(m)return clearTimeout(l),l=setTimeout(R,t),y(c)}return l===void 0&&(l=setTimeout(R,t)),s}return D.cancel=w,D.flush=M,D}var xit="Expected a function";function Sit(e,t,n){var i=!0,a=!0;if(typeof e!="function")throw new TypeError(xit);return hs(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),Kk(e,t,{leading:i,maxWait:t,trailing:a})}var _it=function(t,n,i){var a=i.getBoundingClientRect(),r=a.width,s=a.height,l=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,c=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,d=l-(i.getBoundingClientRect().left+window.pageXOffset),f=c-(i.getBoundingClientRect().top+window.pageYOffset);d<0?d=0:d>r&&(d=r),f<0?f=0:f>s&&(f=s);var m=d/r,v=1-f/s;return{h:n.h,s:m,v,a:n.a,source:"hsv"}},wit=function(){function e(t,n){for(var i=0;i<n.length;i++){var a=n[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function Eit(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ait(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Cit(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ex=function(e){Cit(t,e);function t(n){Eit(this,t);var i=Ait(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return i.handleChange=function(a){typeof i.props.onChange=="function"&&i.throttle(i.props.onChange,_it(a,i.props.hsl,i.container),a)},i.handleMouseDown=function(a){i.handleChange(a);var r=i.getContainerRenderWindow();r.addEventListener("mousemove",i.handleChange),r.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.throttle=Sit(function(a,r,s){a(r,s)},50),i}return wit(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var i=this.container,a=window;!a.document.contains(i)&&a.parent!==a;)a=a.parent;return a}},{key:"unbindEventListeners",value:function(){var i=this.getContainerRenderWindow();i.removeEventListener("mousemove",this.handleChange),i.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var i=this,a=this.props.style||{},r=a.color,s=a.white,l=a.black,c=a.pointer,d=a.circle,f=fe({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:r,white:s,black:l,pointer:c,circle:d}},{custom:!!this.props.style});return Y.createElement("div",{style:f.color,ref:function(v){return i.container=v},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Y.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),Y.createElement("div",{style:f.white,className:"saturation-white"},Y.createElement("div",{style:f.black,className:"saturation-black"}),Y.createElement("div",{style:f.pointer},this.props.pointer?Y.createElement(this.props.pointer,this.props):Y.createElement("div",{style:f.circle}))))}}]),t}(j.PureComponent||j.Component);function Tit(e,t){for(var n=-1,i=e==null?0:e.length;++n<i&&t(e[n],n,e)!==!1;);return e}var Rit=Bk(Object.keys,Object),Mit=Object.prototype,Dit=Mit.hasOwnProperty;function Oit(e){if(!I3(e))return Rit(e);var t=[];for(var n in Object(e))Dit.call(e,n)&&n!="constructor"&&t.push(n);return t}function G3(e){return Op(e)?qk(e):Oit(e)}function Nit(e,t){return e&&jk(e,t,G3)}function Pit(e,t){return function(n,i){if(n==null)return n;if(!Op(n))return e(n,i);for(var a=n.length,r=-1,s=Object(n);++r<a&&i(s[r],r,s)!==!1;);return n}}var Xk=Pit(Nit);function Lit(e){return typeof e=="function"?e:_x}function kit(e,t){var n=Cr(e)?Tit:Xk;return n(e,Lit(t))}function b1(e){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b1(e)}var jit=/^\s+/,Fit=/\s+$/;function Xt(e,t){if(e=e||"",t=t||{},e instanceof Xt)return e;if(!(this instanceof Xt))return new Xt(e,t);var n=Bit(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Xt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,i,a,r,s,l;return n=t.r/255,i=t.g/255,a=t.b/255,n<=.03928?r=n/12.92:r=Math.pow((n+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),a<=.03928?l=a/12.92:l=Math.pow((a+.055)/1.055,2.4),.2126*r+.7152*s+.0722*l},setAlpha:function(t){return this._a=$k(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=ND(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=ND(this._r,this._g,this._b),n=Math.round(t.h*360),i=Math.round(t.s*100),a=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+i+"%, "+a+"%)":"hsva("+n+", "+i+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var t=OD(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=OD(this._r,this._g,this._b),n=Math.round(t.h*360),i=Math.round(t.s*100),a=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+i+"%, "+a+"%)":"hsla("+n+", "+i+"%, "+a+"%, "+this._roundA+")"},toHex:function(t){return PD(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return Hit(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(jn(this._r,255)*100)+"%",g:Math.round(jn(this._g,255)*100)+"%",b:Math.round(jn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(jn(this._r,255)*100)+"%, "+Math.round(jn(this._g,255)*100)+"%, "+Math.round(jn(this._b,255)*100)+"%)":"rgba("+Math.round(jn(this._r,255)*100)+"%, "+Math.round(jn(this._g,255)*100)+"%, "+Math.round(jn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:tat[PD(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+LD(this._r,this._g,this._b,this._a),i=n,a=this._gradientType?"GradientType = 1, ":"";if(t){var r=Xt(t);i="#"+LD(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+n+",endColorstr="+i+")"},toString:function(t){var n=!!t;t=t||this._format;var i=!1,a=this._a<1&&this._a>=0,r=!n&&a&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return r?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(i=this.toRgbString()),t==="prgb"&&(i=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(i=this.toHexString()),t==="hex3"&&(i=this.toHexString(!0)),t==="hex4"&&(i=this.toHex8String(!0)),t==="hex8"&&(i=this.toHex8String()),t==="name"&&(i=this.toName()),t==="hsl"&&(i=this.toHslString()),t==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return Xt(this.toString())},_applyModification:function(t,n){var i=t.apply(null,[this].concat([].slice.call(n)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(Yit,arguments)},brighten:function(){return this._applyModification(Kit,arguments)},darken:function(){return this._applyModification(Xit,arguments)},desaturate:function(){return this._applyModification(Git,arguments)},saturate:function(){return this._applyModification(qit,arguments)},greyscale:function(){return this._applyModification(Vit,arguments)},spin:function(){return this._applyModification($it,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(Zit,arguments)},complement:function(){return this._applyCombination(Wit,arguments)},monochromatic:function(){return this._applyCombination(Jit,arguments)},splitcomplement:function(){return this._applyCombination(Qit,arguments)},triad:function(){return this._applyCombination(kD,[3])},tetrad:function(){return this._applyCombination(kD,[4])}};Xt.fromRatio=function(e,t){if(b1(e)=="object"){var n={};for(var i in e)e.hasOwnProperty(i)&&(i==="a"?n[i]=e[i]:n[i]=m0(e[i]));e=n}return Xt(e,t)};function Bit(e){var t={r:0,g:0,b:0},n=1,i=null,a=null,r=null,s=!1,l=!1;return typeof e=="string"&&(e=aat(e)),b1(e)=="object"&&(Il(e.r)&&Il(e.g)&&Il(e.b)?(t=Iit(e.r,e.g,e.b),s=!0,l=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Il(e.h)&&Il(e.s)&&Il(e.v)?(i=m0(e.s),a=m0(e.v),t=Uit(e.h,i,a),s=!0,l="hsv"):Il(e.h)&&Il(e.s)&&Il(e.l)&&(i=m0(e.s),r=m0(e.l),t=zit(e.h,i,r),s=!0,l="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=$k(n),{ok:s,format:e.format||l,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function Iit(e,t,n){return{r:jn(e,255)*255,g:jn(t,255)*255,b:jn(n,255)*255}}function OD(e,t,n){e=jn(e,255),t=jn(t,255),n=jn(n,255);var i=Math.max(e,t,n),a=Math.min(e,t,n),r,s,l=(i+a)/2;if(i==a)r=s=0;else{var c=i-a;switch(s=l>.5?c/(2-i-a):c/(i+a),i){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4;break}r/=6}return{h:r,s,l}}function zit(e,t,n){var i,a,r;e=jn(e,360),t=jn(t,100),n=jn(n,100);function s(d,f,m){return m<0&&(m+=1),m>1&&(m-=1),m<1/6?d+(f-d)*6*m:m<1/2?f:m<2/3?d+(f-d)*(2/3-m)*6:d}if(t===0)i=a=r=n;else{var l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;i=s(c,l,e+1/3),a=s(c,l,e),r=s(c,l,e-1/3)}return{r:i*255,g:a*255,b:r*255}}function ND(e,t,n){e=jn(e,255),t=jn(t,255),n=jn(n,255);var i=Math.max(e,t,n),a=Math.min(e,t,n),r,s,l=i,c=i-a;if(s=i===0?0:c/i,i==a)r=0;else{switch(i){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4;break}r/=6}return{h:r,s,v:l}}function Uit(e,t,n){e=jn(e,360)*6,t=jn(t,100),n=jn(n,100);var i=Math.floor(e),a=e-i,r=n*(1-t),s=n*(1-a*t),l=n*(1-(1-a)*t),c=i%6,d=[n,s,r,r,l,n][c],f=[l,n,n,s,r,r][c],m=[r,r,l,n,n,s][c];return{r:d*255,g:f*255,b:m*255}}function PD(e,t,n,i){var a=[Ws(Math.round(e).toString(16)),Ws(Math.round(t).toString(16)),Ws(Math.round(n).toString(16))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function Hit(e,t,n,i,a){var r=[Ws(Math.round(e).toString(16)),Ws(Math.round(t).toString(16)),Ws(Math.round(n).toString(16)),Ws(Wk(i))];return a&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}function LD(e,t,n,i){var a=[Ws(Wk(i)),Ws(Math.round(e).toString(16)),Ws(Math.round(t).toString(16)),Ws(Math.round(n).toString(16))];return a.join("")}Xt.equals=function(e,t){return!e||!t?!1:Xt(e).toRgbString()==Xt(t).toRgbString()};Xt.random=function(){return Xt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Git(e,t){t=t===0?0:t||10;var n=Xt(e).toHsl();return n.s-=t/100,n.s=Ax(n.s),Xt(n)}function qit(e,t){t=t===0?0:t||10;var n=Xt(e).toHsl();return n.s+=t/100,n.s=Ax(n.s),Xt(n)}function Vit(e){return Xt(e).desaturate(100)}function Yit(e,t){t=t===0?0:t||10;var n=Xt(e).toHsl();return n.l+=t/100,n.l=Ax(n.l),Xt(n)}function Kit(e,t){t=t===0?0:t||10;var n=Xt(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),Xt(n)}function Xit(e,t){t=t===0?0:t||10;var n=Xt(e).toHsl();return n.l-=t/100,n.l=Ax(n.l),Xt(n)}function $it(e,t){var n=Xt(e).toHsl(),i=(n.h+t)%360;return n.h=i<0?360+i:i,Xt(n)}function Wit(e){var t=Xt(e).toHsl();return t.h=(t.h+180)%360,Xt(t)}function kD(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Xt(e).toHsl(),i=[Xt(e)],a=360/t,r=1;r<t;r++)i.push(Xt({h:(n.h+r*a)%360,s:n.s,l:n.l}));return i}function Qit(e){var t=Xt(e).toHsl(),n=t.h;return[Xt(e),Xt({h:(n+72)%360,s:t.s,l:t.l}),Xt({h:(n+216)%360,s:t.s,l:t.l})]}function Zit(e,t,n){t=t||6,n=n||30;var i=Xt(e).toHsl(),a=360/n,r=[Xt(e)];for(i.h=(i.h-(a*t>>1)+720)%360;--t;)i.h=(i.h+a)%360,r.push(Xt(i));return r}function Jit(e,t){t=t||6;for(var n=Xt(e).toHsv(),i=n.h,a=n.s,r=n.v,s=[],l=1/t;t--;)s.push(Xt({h:i,s:a,v:r})),r=(r+l)%1;return s}Xt.mix=function(e,t,n){n=n===0?0:n||50;var i=Xt(e).toRgb(),a=Xt(t).toRgb(),r=n/100,s={r:(a.r-i.r)*r+i.r,g:(a.g-i.g)*r+i.g,b:(a.b-i.b)*r+i.b,a:(a.a-i.a)*r+i.a};return Xt(s)};Xt.readability=function(e,t){var n=Xt(e),i=Xt(t);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)};Xt.isReadable=function(e,t,n){var i=Xt.readability(e,t),a,r;switch(r=!1,a=rat(n),a.level+a.size){case"AAsmall":case"AAAlarge":r=i>=4.5;break;case"AAlarge":r=i>=3;break;case"AAAsmall":r=i>=7;break}return r};Xt.mostReadable=function(e,t,n){var i=null,a=0,r,s,l,c;n=n||{},s=n.includeFallbackColors,l=n.level,c=n.size;for(var d=0;d<t.length;d++)r=Xt.readability(e,t[d]),r>a&&(a=r,i=Xt(t[d]));return Xt.isReadable(e,i,{level:l,size:c})||!s?i:(n.includeFallbackColors=!1,Xt.mostReadable(e,["#fff","#000"],n))};var FA=Xt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},tat=Xt.hexNames=eat(FA);function eat(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function $k(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function jn(e,t){nat(e)&&(e="100%");var n=iat(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Ax(e){return Math.min(1,Math.max(0,e))}function xr(e){return parseInt(e,16)}function nat(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function iat(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Ws(e){return e.length==1?"0"+e:""+e}function m0(e){return e<=1&&(e=e*100+"%"),e}function Wk(e){return Math.round(parseFloat(e)*255).toString(16)}function jD(e){return xr(e)/255}var Ys=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",a="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+a),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Il(e){return!!Ys.CSS_UNIT.exec(e)}function aat(e){e=e.replace(jit,"").replace(Fit,"").toLowerCase();var t=!1;if(FA[e])e=FA[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Ys.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Ys.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Ys.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Ys.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Ys.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Ys.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Ys.hex8.exec(e))?{r:xr(n[1]),g:xr(n[2]),b:xr(n[3]),a:jD(n[4]),format:t?"name":"hex8"}:(n=Ys.hex6.exec(e))?{r:xr(n[1]),g:xr(n[2]),b:xr(n[3]),format:t?"name":"hex"}:(n=Ys.hex4.exec(e))?{r:xr(n[1]+""+n[1]),g:xr(n[2]+""+n[2]),b:xr(n[3]+""+n[3]),a:jD(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=Ys.hex3.exec(e))?{r:xr(n[1]+""+n[1]),g:xr(n[2]+""+n[2]),b:xr(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function rat(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}var FD=function(t){var n=["r","g","b","a","h","s","l","v"],i=0,a=0;return kit(n,function(r){if(t[r]&&(i+=1,isNaN(t[r])||(a+=1),r==="s"||r==="l")){var s=/^\d+%$/;s.test(t[r])&&(a+=1)}}),i===a?t:!1},v0=function(t,n){var i=t.hex?Xt(t.hex):Xt(t),a=i.toHsl(),r=i.toHsv(),s=i.toRgb(),l=i.toHex();a.s===0&&(a.h=n||0,r.h=n||0);var c=l==="000000"&&s.a===0;return{hsl:a,hex:c?"transparent":"#"+l,rgb:s,hsv:r,oldHue:t.h||n||a.h,source:t.source}},Eu=function(t){if(t==="transparent")return!0;var n=String(t).charAt(0)==="#"?1:0;return t.length!==4+n&&t.length<7+n&&Xt(t).isValid()},q3=function(t){if(!t)return"#fff";var n=v0(t);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var i=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return i>=128?"#000":"#fff"},lE=function(t,n){var i=t.replace("°","");return Xt(n+" ("+i+")")._ok},fm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sat=function(){function e(t,n){for(var i=0;i<n.length;i++){var a=n[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function oat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lat(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function cat(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var cr=function(t){var n=function(i){cat(a,i);function a(r){oat(this,a);var s=lat(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return s.handleChange=function(l,c){var d=FD(l);if(d){var f=v0(l,l.h||s.state.oldHue);s.setState(f),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,f,c),s.props.onChange&&s.props.onChange(f,c)}},s.handleSwatchHover=function(l,c){var d=FD(l);if(d){var f=v0(l,l.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(f,c)}},s.state=fm({},v0(r.color,0)),s.debounce=Kk(function(l,c,d){l(c,d)},100),s}return sat(a,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),Y.createElement(t,fm({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,l){return fm({},v0(s.color,l.oldHue))}}]),a}(j.PureComponent||j.Component);return n.propTypes=fm({},t.propTypes),n.defaultProps=fm({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},uat=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dat=function(){function e(t,n){for(var i=0;i<n.length;i++){var a=n[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function hat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BD(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function fat(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var pat=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(i){fat(a,i);function a(){var r,s,l,c;hat(this,a);for(var d=arguments.length,f=Array(d),m=0;m<d;m++)f[m]=arguments[m];return c=(s=(l=BD(this,(r=a.__proto__||Object.getPrototypeOf(a)).call.apply(r,[this].concat(f))),l),l.state={focus:!1},l.handleFocus=function(){return l.setState({focus:!0})},l.handleBlur=function(){return l.setState({focus:!1})},s),BD(l,c)}return dat(a,[{key:"render",value:function(){return Y.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},Y.createElement(t,uat({},this.props,this.state)))}}]),a}(Y.Component)},ID=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gat=13,mat=function(t){var n=t.color,i=t.style,a=t.onClick,r=a===void 0?function(){}:a,s=t.onHover,l=t.title,c=l===void 0?n:l,d=t.children,f=t.focus,m=t.focusStyle,v=m===void 0?{}:m,y=n==="transparent",x=fe({default:{swatch:ID({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},i,f?v:{})}}),_=function(M){return r(n,M)},E=function(M){return M.keyCode===gat&&r(n,M)},R=function(M){return s(n,M)},A={};return s&&(A.onMouseOver=R),Y.createElement("div",ID({style:x.swatch,onClick:_,title:c,tabIndex:0,onKeyDown:E},A),d,y&&Y.createElement(Mp,{borderRadius:x.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const lh=pat(mat);var vat=function(t){var n=t.direction,i=fe({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return Y.createElement("div",{style:i.picker})},yat=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Qk=function(t){var n=t.rgb,i=t.hsl,a=t.width,r=t.height,s=t.onChange,l=t.direction,c=t.style,d=t.renderers,f=t.pointer,m=t.className,v=m===void 0?"":m,y=fe({default:{picker:{position:"relative",width:a,height:r},alpha:{radius:"2px",style:c}}});return Y.createElement("div",{style:y.picker,className:"alpha-picker "+v},Y.createElement(j3,yat({},y.alpha,{rgb:n,hsl:i,pointer:f,renderers:d,onChange:s,direction:l})))};Qk.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:vat};cr(Qk);function Zk(e,t){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=t(e[n],n,e);return a}var bat="__lodash_hash_undefined__";function xat(e){return this.__data__.set(e,bat),this}function Sat(e){return this.__data__.has(e)}function x1(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new rc;++t<n;)this.add(e[t])}x1.prototype.add=x1.prototype.push=xat;x1.prototype.has=Sat;function _at(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function wat(e,t){return e.has(t)}var Eat=1,Aat=2;function Jk(e,t,n,i,a,r){var s=n&Eat,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var d=r.get(e),f=r.get(t);if(d&&f)return d==t&&f==e;var m=-1,v=!0,y=n&Aat?new x1:void 0;for(r.set(e,t),r.set(t,e);++m<l;){var x=e[m],_=t[m];if(i)var E=s?i(_,x,m,t,e,r):i(x,_,m,e,t,r);if(E!==void 0){if(E)continue;v=!1;break}if(y){if(!_at(t,function(R,A){if(!wat(y,A)&&(x===R||a(x,R,n,i,r)))return y.push(A)})){v=!1;break}}else if(!(x===_||a(x,_,n,i,r))){v=!1;break}}return r.delete(e),r.delete(t),v}function Cat(e){var t=-1,n=Array(e.size);return e.forEach(function(i,a){n[++t]=[a,i]}),n}function Tat(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}var Rat=1,Mat=2,Dat="[object Boolean]",Oat="[object Date]",Nat="[object Error]",Pat="[object Map]",Lat="[object Number]",kat="[object RegExp]",jat="[object Set]",Fat="[object String]",Bat="[object Symbol]",Iat="[object ArrayBuffer]",zat="[object DataView]",zD=vu?vu.prototype:void 0,cE=zD?zD.valueOf:void 0;function Uat(e,t,n,i,a,r,s){switch(n){case zat:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Iat:return!(e.byteLength!=t.byteLength||!r(new m1(e),new m1(t)));case Dat:case Oat:case Lat:return bv(+e,+t);case Nat:return e.name==t.name&&e.message==t.message;case kat:case Fat:return e==t+"";case Pat:var l=Cat;case jat:var c=i&Rat;if(l||(l=Tat),e.size!=t.size&&!c)return!1;var d=s.get(e);if(d)return d==t;i|=Mat,s.set(e,t);var f=Jk(l(e),l(t),i,a,r,s);return s.delete(e),f;case Bat:if(cE)return cE.call(e)==cE.call(t)}return!1}function Hat(e,t){for(var n=-1,i=t.length,a=e.length;++n<i;)e[a+n]=t[n];return e}function Gat(e,t,n){var i=t(e);return Cr(e)?i:Hat(i,n(e))}function qat(e,t){for(var n=-1,i=e==null?0:e.length,a=0,r=[];++n<i;){var s=e[n];t(s,n,e)&&(r[a++]=s)}return r}function Vat(){return[]}var Yat=Object.prototype,Kat=Yat.propertyIsEnumerable,UD=Object.getOwnPropertySymbols,Xat=UD?function(e){return e==null?[]:(e=Object(e),qat(UD(e),function(t){return Kat.call(e,t)}))}:Vat;function HD(e){return Gat(e,G3,Xat)}var $at=1,Wat=Object.prototype,Qat=Wat.hasOwnProperty;function Zat(e,t,n,i,a,r){var s=n&$at,l=HD(e),c=l.length,d=HD(t),f=d.length;if(c!=f&&!s)return!1;for(var m=c;m--;){var v=l[m];if(!(s?v in t:Qat.call(t,v)))return!1}var y=r.get(e),x=r.get(t);if(y&&x)return y==t&&x==e;var _=!0;r.set(e,t),r.set(t,e);for(var E=s;++m<c;){v=l[m];var R=e[v],A=t[v];if(i)var w=s?i(A,R,v,t,e,r):i(R,A,v,e,t,r);if(!(w===void 0?R===A||a(R,A,n,i,r):w)){_=!1;break}E||(E=v=="constructor")}if(_&&!E){var M=e.constructor,D=t.constructor;M!=D&&"constructor"in e&&"constructor"in t&&!(typeof M=="function"&&M instanceof M&&typeof D=="function"&&D instanceof D)&&(_=!1)}return r.delete(e),r.delete(t),_}var BA=oh(ao,"DataView"),IA=oh(ao,"Promise"),zA=oh(ao,"Set"),UA=oh(ao,"WeakMap"),GD="[object Map]",Jat="[object Object]",qD="[object Promise]",VD="[object Set]",YD="[object WeakMap]",KD="[object DataView]",trt=sh(BA),ert=sh(Y0),nrt=sh(IA),irt=sh(zA),art=sh(UA),au=rh;(BA&&au(new BA(new ArrayBuffer(1)))!=KD||Y0&&au(new Y0)!=GD||IA&&au(IA.resolve())!=qD||zA&&au(new zA)!=VD||UA&&au(new UA)!=YD)&&(au=function(e){var t=rh(e),n=t==Jat?e.constructor:void 0,i=n?sh(n):"";if(i)switch(i){case trt:return KD;case ert:return GD;case nrt:return qD;case irt:return VD;case art:return YD}return t});var rrt=1,XD="[object Arguments]",$D="[object Array]",mb="[object Object]",srt=Object.prototype,WD=srt.hasOwnProperty;function ort(e,t,n,i,a,r){var s=Cr(e),l=Cr(t),c=s?$D:au(e),d=l?$D:au(t);c=c==XD?mb:c,d=d==XD?mb:d;var f=c==mb,m=d==mb,v=c==d;if(v&&y1(e)){if(!y1(t))return!1;s=!0,f=!1}if(v&&!f)return r||(r=new el),s||U3(e)?Jk(e,t,n,i,a,r):Uat(e,t,c,n,i,a,r);if(!(n&rrt)){var y=f&&WD.call(e,"__wrapped__"),x=m&&WD.call(t,"__wrapped__");if(y||x){var _=y?e.value():e,E=x?t.value():t;return r||(r=new el),a(_,E,n,i,r)}}return v?(r||(r=new el),Zat(e,t,n,i,a,r)):!1}function V3(e,t,n,i,a){return e===t?!0:e==null||t==null||!yu(e)&&!yu(t)?e!==e&&t!==t:ort(e,t,n,i,V3,a)}var lrt=1,crt=2;function urt(e,t,n,i){var a=n.length,r=a;if(e==null)return!r;for(e=Object(e);a--;){var s=n[a];if(s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<r;){s=n[a];var l=s[0],c=e[l],d=s[1];if(s[2]){if(c===void 0&&!(l in e))return!1}else{var f=new el,m;if(!(m===void 0?V3(d,c,lrt|crt,i,f):m))return!1}}return!0}function tj(e){return e===e&&!hs(e)}function drt(e){for(var t=G3(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,tj(a)]}return t}function ej(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function hrt(e){var t=drt(e);return t.length==1&&t[0][2]?ej(t[0][0],t[0][1]):function(n){return n===e||urt(n,e,t)}}var frt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,prt=/^\w*$/;function Y3(e,t){if(Cr(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||wx(e)?!0:prt.test(e)||!frt.test(e)||t!=null&&e in Object(t)}var grt="Expected a function";function K3(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(grt);var n=function(){var i=arguments,a=t?t.apply(this,i):i[0],r=n.cache;if(r.has(a))return r.get(a);var s=e.apply(this,i);return n.cache=r.set(a,s)||r,s};return n.cache=new(K3.Cache||rc),n}K3.Cache=rc;var mrt=500;function vrt(e){var t=K3(e,function(i){return n.size===mrt&&n.clear(),i}),n=t.cache;return t}var yrt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,brt=/\\(\\)?/g,xrt=vrt(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(yrt,function(n,i,a,r){t.push(a?r.replace(brt,"$1"):i||n)}),t}),QD=vu?vu.prototype:void 0,ZD=QD?QD.toString:void 0;function nj(e){if(typeof e=="string")return e;if(Cr(e))return Zk(e,nj)+"";if(wx(e))return ZD?ZD.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Srt(e){return e==null?"":nj(e)}function ij(e,t){return Cr(e)?e:Y3(e,t)?[e]:xrt(Srt(e))}function Cx(e){if(typeof e=="string"||wx(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function aj(e,t){t=ij(t,e);for(var n=0,i=t.length;e!=null&&n<i;)e=e[Cx(t[n++])];return n&&n==i?e:void 0}function _rt(e,t,n){var i=e==null?void 0:aj(e,t);return i===void 0?n:i}function wrt(e,t){return e!=null&&t in Object(e)}function Ert(e,t,n){t=ij(t,e);for(var i=-1,a=t.length,r=!1;++i<a;){var s=Cx(t[i]);if(!(r=e!=null&&n(e,s)))break;e=e[s]}return r||++i!=a?r:(a=e==null?0:e.length,!!a&&z3(a)&&H3(s,a)&&(Cr(e)||v1(e)))}function Art(e,t){return e!=null&&Ert(e,t,wrt)}var Crt=1,Trt=2;function Rrt(e,t){return Y3(e)&&tj(t)?ej(Cx(e),t):function(n){var i=_rt(n,e);return i===void 0&&i===t?Art(n,e):V3(t,i,Crt|Trt)}}function Mrt(e){return function(t){return t?.[e]}}function Drt(e){return function(t){return aj(t,e)}}function Ort(e){return Y3(e)?Mrt(Cx(e)):Drt(e)}function Nrt(e){return typeof e=="function"?e:e==null?_x:typeof e=="object"?Cr(e)?Rrt(e[0],e[1]):hrt(e):Ort(e)}function Prt(e,t){var n=-1,i=Op(e)?Array(e.length):[];return Xk(e,function(a,r,s){i[++n]=t(a,r,s)}),i}function ch(e,t){var n=Cr(e)?Zk:Prt;return n(e,Nrt(t))}var Lrt=function(t){var n=t.colors,i=t.onClick,a=t.onSwatchHover,r=fe({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return Y.createElement("div",{style:r.swatches},ch(n,function(s){return Y.createElement(lh,{key:s,color:s,style:r.swatch,onClick:i,onHover:a,focusStyle:{boxShadow:"0 0 4px "+s}})}),Y.createElement("div",{style:r.clear}))},X3=function(t){var n=t.onChange,i=t.onSwatchHover,a=t.hex,r=t.colors,s=t.width,l=t.triangle,c=t.styles,d=c===void 0?{}:c,f=t.className,m=f===void 0?"":f,v=a==="transparent",y=function(E,R){Eu(E)&&n({hex:E,source:"hex"},R)},x=fe(lr({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:a,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:q3(a),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+a+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},d),{"hide-triangle":l==="hide"});return Y.createElement("div",{style:x.card,className:"block-picker "+m},Y.createElement("div",{style:x.triangle}),Y.createElement("div",{style:x.head},v&&Y.createElement(Mp,{borderRadius:"6px 6px 0 0"}),Y.createElement("div",{style:x.label},a)),Y.createElement("div",{style:x.body},Y.createElement(Lrt,{colors:r,onClick:y,onSwatchHover:i}),Y.createElement(Ke,{style:{input:x.input},value:a,onChange:y})))};X3.propTypes={width:St.oneOfType([St.string,St.number]),colors:St.arrayOf(St.string),triangle:St.oneOf(["top","hide"]),styles:St.object};X3.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};cr(X3);var Of={100:"#ffcdd2",300:"#e57373",500:"#f44336",700:"#d32f2f",900:"#b71c1c"},Nf={100:"#f8bbd0",300:"#f06292",500:"#e91e63",700:"#c2185b",900:"#880e4f"},Pf={100:"#e1bee7",300:"#ba68c8",500:"#9c27b0",700:"#7b1fa2",900:"#4a148c"},Lf={100:"#d1c4e9",300:"#9575cd",500:"#673ab7",700:"#512da8",900:"#311b92"},kf={100:"#c5cae9",300:"#7986cb",500:"#3f51b5",700:"#303f9f",900:"#1a237e"},jf={100:"#bbdefb",300:"#64b5f6",500:"#2196f3",700:"#1976d2",900:"#0d47a1"},Ff={100:"#b3e5fc",300:"#4fc3f7",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Bf={100:"#b2ebf2",300:"#4dd0e1",500:"#00bcd4",700:"#0097a7",900:"#006064"},If={100:"#b2dfdb",300:"#4db6ac",500:"#009688",700:"#00796b",900:"#004d40"},y0={100:"#c8e6c9",300:"#81c784",500:"#4caf50",700:"#388e3c"},zf={100:"#dcedc8",300:"#aed581",500:"#8bc34a",700:"#689f38",900:"#33691e"},Uf={100:"#f0f4c3",300:"#dce775",500:"#cddc39",700:"#afb42b",900:"#827717"},Hf={100:"#fff9c4",300:"#fff176",500:"#ffeb3b",700:"#fbc02d",900:"#f57f17"},Gf={100:"#ffecb3",300:"#ffd54f",500:"#ffc107",700:"#ffa000",900:"#ff6f00"},qf={100:"#ffe0b2",300:"#ffb74d",500:"#ff9800",700:"#f57c00",900:"#e65100"},Vf={100:"#ffccbc",300:"#ff8a65",500:"#ff5722",700:"#e64a19",900:"#bf360c"},Yf={100:"#d7ccc8",300:"#a1887f",500:"#795548",700:"#5d4037",900:"#3e2723"},Kf={100:"#cfd8dc",300:"#90a4ae",500:"#607d8b",700:"#455a64",900:"#263238"},rj=function(t){var n=t.color,i=t.onClick,a=t.onSwatchHover,r=t.hover,s=t.active,l=t.circleSize,c=t.circleSpacing,d=fe({default:{swatch:{width:l,height:l,marginRight:c,marginBottom:c,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(l/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:r,active:s});return Y.createElement("div",{style:d.swatch},Y.createElement(lh,{style:d.Swatch,color:n,onClick:i,onHover:a,focusStyle:{boxShadow:d.Swatch.boxShadow+", 0 0 5px "+n}}))};rj.defaultProps={circleSize:28,circleSpacing:14};const krt=k3.handleHover(rj);var $3=function(t){var n=t.width,i=t.onChange,a=t.onSwatchHover,r=t.colors,s=t.hex,l=t.circleSize,c=t.styles,d=c===void 0?{}:c,f=t.circleSpacing,m=t.className,v=m===void 0?"":m,y=fe(lr({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-f,marginBottom:-f}}},d)),x=function(E,R){return i({hex:E,source:"hex"},R)};return Y.createElement("div",{style:y.card,className:"circle-picker "+v},ch(r,function(_){return Y.createElement(krt,{key:_,color:_,onClick:x,onSwatchHover:a,active:s===_.toLowerCase(),circleSize:l,circleSpacing:f})}))};$3.propTypes={width:St.oneOfType([St.string,St.number]),circleSize:St.number,circleSpacing:St.number,styles:St.object};$3.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Of[500],Nf[500],Pf[500],Lf[500],kf[500],jf[500],Ff[500],Bf[500],If[500],y0[500],zf[500],Uf[500],Hf[500],Gf[500],qf[500],Vf[500],Yf[500],Kf[500]],styles:{}};cr($3);function JD(e){return e===void 0}var vb={},tO;function jrt(){if(tO)return vb;tO=1,Object.defineProperty(vb,"__esModule",{value:!0});var e=Object.assign||function(s){for(var l=1;l<arguments.length;l++){var c=arguments[l];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(s[d]=c[d])}return s},t=il(),n=i(t);function i(s){return s&&s.__esModule?s:{default:s}}function a(s,l){var c={};for(var d in s)l.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(s,d)&&(c[d]=s[d]);return c}var r=24;return vb.default=function(s){var l=s.fill,c=l===void 0?"currentColor":l,d=s.width,f=d===void 0?r:d,m=s.height,v=m===void 0?r:m,y=s.style,x=y===void 0?{}:y,_=a(s,["fill","width","height","style"]);return n.default.createElement("svg",e({viewBox:"0 0 "+r+" "+r,style:e({fill:c,width:f,height:v},x)},_),n.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},vb}var Frt=jrt();const Brt=Tr(Frt);var Irt=function(){function e(t,n){for(var i=0;i<n.length;i++){var a=n[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function zrt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Urt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Hrt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var sj=function(e){Hrt(t,e);function t(n){zrt(this,t);var i=Urt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.toggleViews=function(){i.state.view==="hex"?i.setState({view:"rgb"}):i.state.view==="rgb"?i.setState({view:"hsl"}):i.state.view==="hsl"&&(i.props.hsl.a===1?i.setState({view:"hex"}):i.setState({view:"rgb"}))},i.handleChange=function(a,r){a.hex?Eu(a.hex)&&i.props.onChange({hex:a.hex,source:"hex"},r):a.r||a.g||a.b?i.props.onChange({r:a.r||i.props.rgb.r,g:a.g||i.props.rgb.g,b:a.b||i.props.rgb.b,source:"rgb"},r):a.a?(a.a<0?a.a=0:a.a>1&&(a.a=1),i.props.onChange({h:i.props.hsl.h,s:i.props.hsl.s,l:i.props.hsl.l,a:Math.round(a.a*100)/100,source:"rgb"},r)):(a.h||a.s||a.l)&&(typeof a.s=="string"&&a.s.includes("%")&&(a.s=a.s.replace("%","")),typeof a.l=="string"&&a.l.includes("%")&&(a.l=a.l.replace("%","")),a.s==1?a.s=.01:a.l==1&&(a.l=.01),i.props.onChange({h:a.h||i.props.hsl.h,s:Number(JD(a.s)?i.props.hsl.s:a.s),l:Number(JD(a.l)?i.props.hsl.l:a.l),source:"hsl"},r))},i.showHighlight=function(a){a.currentTarget.style.background="#eee"},i.hideHighlight=function(a){a.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?i.state={view:"rgb"}:i.state={view:n.view},i}return Irt(t,[{key:"render",value:function(){var i=this,a=fe({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),r=void 0;return this.state.view==="hex"?r=Y.createElement("div",{style:a.fields,className:"flexbox-fix"},Y.createElement("div",{style:a.field},Y.createElement(Ke,{style:{input:a.input,label:a.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?r=Y.createElement("div",{style:a.fields,className:"flexbox-fix"},Y.createElement("div",{style:a.field},Y.createElement(Ke,{style:{input:a.input,label:a.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),Y.createElement("div",{style:a.field},Y.createElement(Ke,{style:{input:a.input,label:a.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),Y.createElement("div",{style:a.field},Y.createElement(Ke,{style:{input:a.input,label:a.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),Y.createElement("div",{style:a.alpha},Y.createElement(Ke,{style:{input:a.input,label:a.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(r=Y.createElement("div",{style:a.fields,className:"flexbox-fix"},Y.createElement("div",{style:a.field},Y.createElement(Ke,{style:{input:a.input,label:a.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),Y.createElement("div",{style:a.field},Y.createElement(Ke,{style:{input:a.input,label:a.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),Y.createElement("div",{style:a.field},Y.createElement(Ke,{style:{input:a.input,label:a.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),Y.createElement("div",{style:a.alpha},Y.createElement(Ke,{style:{input:a.input,label:a.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),Y.createElement("div",{style:a.wrap,className:"flexbox-fix"},r,Y.createElement("div",{style:a.toggle},Y.createElement("div",{style:a.icon,onClick:this.toggleViews,ref:function(l){return i.icon=l}},Y.createElement(Brt,{style:a.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(i,a){return i.hsl.a!==1&&a.view==="hex"?{view:"rgb"}:null}}]),t}(Y.Component);sj.defaultProps={view:"hex"};var eO=function(){var t=fe({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return Y.createElement("div",{style:t.picker})},Grt=function(){var t=fe({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return Y.createElement("div",{style:t.picker})},W3=function(t){var n=t.width,i=t.onChange,a=t.disableAlpha,r=t.rgb,s=t.hsl,l=t.hsv,c=t.hex,d=t.renderers,f=t.styles,m=f===void 0?{}:f,v=t.className,y=v===void 0?"":v,x=t.defaultView,_=fe(lr({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+r.r+", "+r.g+", "+r.b+", "+r.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},m),{disableAlpha:a});return Y.createElement("div",{style:_.picker,className:"chrome-picker "+y},Y.createElement("div",{style:_.saturation},Y.createElement(Ex,{style:_.Saturation,hsl:s,hsv:l,pointer:Grt,onChange:i})),Y.createElement("div",{style:_.body},Y.createElement("div",{style:_.controls,className:"flexbox-fix"},Y.createElement("div",{style:_.color},Y.createElement("div",{style:_.swatch},Y.createElement("div",{style:_.active}),Y.createElement(Mp,{renderers:d}))),Y.createElement("div",{style:_.toggles},Y.createElement("div",{style:_.hue},Y.createElement(Dp,{style:_.Hue,hsl:s,pointer:eO,onChange:i})),Y.createElement("div",{style:_.alpha},Y.createElement(j3,{style:_.Alpha,rgb:r,hsl:s,pointer:eO,renderers:d,onChange:i})))),Y.createElement(sj,{rgb:r,hsl:s,hex:c,view:x,onChange:i,disableAlpha:a})))};W3.propTypes={width:St.oneOfType([St.string,St.number]),disableAlpha:St.bool,styles:St.object,defaultView:St.oneOf(["hex","rgb","hsl"])};W3.defaultProps={width:225,disableAlpha:!1,styles:{}};cr(W3);var qrt=function(t){var n=t.color,i=t.onClick,a=i===void 0?function(){}:i,r=t.onSwatchHover,s=t.active,l=fe({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:q3(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:s,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return Y.createElement(lh,{style:l.color,color:n,onClick:a,onHover:r,focusStyle:{boxShadow:"0 0 4px "+n}},Y.createElement("div",{style:l.dot}))},Vrt=function(t){var n=t.hex,i=t.rgb,a=t.onChange,r=fe({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(c,d){c.r||c.g||c.b?a({r:c.r||i.r,g:c.g||i.g,b:c.b||i.b,source:"rgb"},d):a({hex:c.hex,source:"hex"},d)};return Y.createElement("div",{style:r.fields,className:"flexbox-fix"},Y.createElement("div",{style:r.active}),Y.createElement(Ke,{style:{wrap:r.HEXwrap,input:r.HEXinput,label:r.HEXlabel},label:"hex",value:n,onChange:s}),Y.createElement(Ke,{style:{wrap:r.RGBwrap,input:r.RGBinput,label:r.RGBlabel},label:"r",value:i.r,onChange:s}),Y.createElement(Ke,{style:{wrap:r.RGBwrap,input:r.RGBinput,label:r.RGBlabel},label:"g",value:i.g,onChange:s}),Y.createElement(Ke,{style:{wrap:r.RGBwrap,input:r.RGBinput,label:r.RGBlabel},label:"b",value:i.b,onChange:s}))},Q3=function(t){var n=t.onChange,i=t.onSwatchHover,a=t.colors,r=t.hex,s=t.rgb,l=t.styles,c=l===void 0?{}:l,d=t.className,f=d===void 0?"":d,m=fe(lr({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},c)),v=function(x,_){x.hex?Eu(x.hex)&&n({hex:x.hex,source:"hex"},_):n(x,_)};return Y.createElement(xv,{style:m.Compact,styles:c},Y.createElement("div",{style:m.compact,className:"compact-picker "+f},Y.createElement("div",null,ch(a,function(y){return Y.createElement(qrt,{key:y,color:y,active:y.toLowerCase()===r,onClick:v,onSwatchHover:i})}),Y.createElement("div",{style:m.clear})),Y.createElement(Vrt,{hex:r,rgb:s,onChange:v})))};Q3.propTypes={colors:St.arrayOf(St.string),styles:St.object};Q3.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};cr(Q3);var Yrt=function(t){var n=t.hover,i=t.color,a=t.onClick,r=t.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},l=fe({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:n});return Y.createElement("div",{style:l.swatch},Y.createElement(lh,{color:i,onClick:a,onHover:r,focusStyle:s}))};const Krt=k3.handleHover(Yrt);var Z3=function(t){var n=t.width,i=t.colors,a=t.onChange,r=t.onSwatchHover,s=t.triangle,l=t.styles,c=l===void 0?{}:l,d=t.className,f=d===void 0?"":d,m=fe(lr({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},c),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right","bottom-left-triangle":s==="bottom-left","bottom-right-triangle":s==="bottom-right"}),v=function(x,_){return a({hex:x,source:"hex"},_)};return Y.createElement("div",{style:m.card,className:"github-picker "+f},Y.createElement("div",{style:m.triangleShadow}),Y.createElement("div",{style:m.triangle}),ch(i,function(y){return Y.createElement(Krt,{color:y,key:y,onClick:v,onSwatchHover:r})}))};Z3.propTypes={width:St.oneOfType([St.string,St.number]),colors:St.arrayOf(St.string),triangle:St.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:St.object};Z3.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};cr(Z3);var Xrt=function(t){var n=t.direction,i=fe({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return Y.createElement("div",{style:i.picker})},$rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},J3=function(t){var n=t.width,i=t.height,a=t.onChange,r=t.hsl,s=t.direction,l=t.pointer,c=t.styles,d=c===void 0?{}:c,f=t.className,m=f===void 0?"":f,v=fe(lr({default:{picker:{position:"relative",width:n,height:i},hue:{radius:"2px"}}},d)),y=function(_){return a({a:1,h:_.h,l:.5,s:1})};return Y.createElement("div",{style:v.picker,className:"hue-picker "+m},Y.createElement(Dp,$rt({},v.hue,{hsl:r,pointer:l,onChange:y,direction:s})))};J3.propTypes={styles:St.object};J3.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Xrt,styles:{}};cr(J3);var Wrt=function(t){var n=t.onChange,i=t.hex,a=t.rgb,r=t.styles,s=r===void 0?{}:r,l=t.className,c=l===void 0?"":l,d=fe(lr({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+i,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},s)),f=function(v,y){v.hex?Eu(v.hex)&&n({hex:v.hex,source:"hex"},y):(v.r||v.g||v.b)&&n({r:v.r||a.r,g:v.g||a.g,b:v.b||a.b,source:"rgb"},y)};return Y.createElement(xv,{styles:s},Y.createElement("div",{style:d.material,className:"material-picker "+c},Y.createElement(Ke,{style:{wrap:d.HEXwrap,input:d.HEXinput,label:d.HEXlabel},label:"hex",value:i,onChange:f}),Y.createElement("div",{style:d.split,className:"flexbox-fix"},Y.createElement("div",{style:d.third},Y.createElement(Ke,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"r",value:a.r,onChange:f})),Y.createElement("div",{style:d.third},Y.createElement(Ke,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"g",value:a.g,onChange:f})),Y.createElement("div",{style:d.third},Y.createElement(Ke,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"b",value:a.b,onChange:f})))))};cr(Wrt);var Qrt=function(t){var n=t.onChange,i=t.rgb,a=t.hsv,r=t.hex,s=fe({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),l=function(d,f){d["#"]?Eu(d["#"])&&n({hex:d["#"],source:"hex"},f):d.r||d.g||d.b?n({r:d.r||i.r,g:d.g||i.g,b:d.b||i.b,source:"rgb"},f):(d.h||d.s||d.v)&&n({h:d.h||a.h,s:d.s||a.s,v:d.v||a.v,source:"hsv"},f)};return Y.createElement("div",{style:s.fields},Y.createElement(Ke,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"h",value:Math.round(a.h),onChange:l}),Y.createElement(Ke,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"s",value:Math.round(a.s*100),onChange:l}),Y.createElement(Ke,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"v",value:Math.round(a.v*100),onChange:l}),Y.createElement("div",{style:s.divider}),Y.createElement(Ke,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:i.r,onChange:l}),Y.createElement(Ke,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:i.g,onChange:l}),Y.createElement(Ke,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:i.b,onChange:l}),Y.createElement("div",{style:s.divider}),Y.createElement(Ke,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"#",value:r.replace("#",""),onChange:l}),Y.createElement("div",{style:s.fieldSymbols},Y.createElement("div",{style:s.symbol},"°"),Y.createElement("div",{style:s.symbol},"%"),Y.createElement("div",{style:s.symbol},"%")))},Zrt=function(t){var n=t.hsl,i=fe({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return Y.createElement("div",{style:i.picker})},Jrt=function(){var t=fe({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return Y.createElement("div",{style:t.pointer},Y.createElement("div",{style:t.left},Y.createElement("div",{style:t.leftInside})),Y.createElement("div",{style:t.right},Y.createElement("div",{style:t.rightInside})))},nO=function(t){var n=t.onClick,i=t.label,a=t.children,r=t.active,s=fe({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:r});return Y.createElement("div",{style:s.button,onClick:n},i||a)},tst=function(t){var n=t.rgb,i=t.currentColor,a=fe({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:i,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return Y.createElement("div",null,Y.createElement("div",{style:a.label},"new"),Y.createElement("div",{style:a.swatches},Y.createElement("div",{style:a.new}),Y.createElement("div",{style:a.current})),Y.createElement("div",{style:a.label},"current"))},est=function(){function e(t,n){for(var i=0;i<n.length;i++){var a=n[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function nst(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ist(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function ast(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var tT=function(e){ast(t,e);function t(n){nst(this,t);var i=ist(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.state={currentColor:n.hex},i}return est(t,[{key:"render",value:function(){var i=this.props,a=i.styles,r=a===void 0?{}:a,s=i.className,l=s===void 0?"":s,c=fe(lr({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},r));return Y.createElement("div",{style:c.picker,className:"photoshop-picker "+l},Y.createElement("div",{style:c.head},this.props.header),Y.createElement("div",{style:c.body,className:"flexbox-fix"},Y.createElement("div",{style:c.saturation},Y.createElement(Ex,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Zrt,onChange:this.props.onChange})),Y.createElement("div",{style:c.hue},Y.createElement(Dp,{direction:"vertical",hsl:this.props.hsl,pointer:Jrt,onChange:this.props.onChange})),Y.createElement("div",{style:c.controls},Y.createElement("div",{style:c.top,className:"flexbox-fix"},Y.createElement("div",{style:c.previews},Y.createElement(tst,{rgb:this.props.rgb,currentColor:this.state.currentColor})),Y.createElement("div",{style:c.actions},Y.createElement(nO,{label:"OK",onClick:this.props.onAccept,active:!0}),Y.createElement(nO,{label:"Cancel",onClick:this.props.onCancel}),Y.createElement(Qrt,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(Y.Component);tT.propTypes={header:St.string,styles:St.object};tT.defaultProps={header:"Color Picker",styles:{}};cr(tT);var rst=function(t){var n=t.onChange,i=t.rgb,a=t.hsl,r=t.hex,s=t.disableAlpha,l=fe({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:s}),c=function(f,m){f.hex?Eu(f.hex)&&n({hex:f.hex,source:"hex"},m):f.r||f.g||f.b?n({r:f.r||i.r,g:f.g||i.g,b:f.b||i.b,a:i.a,source:"rgb"},m):f.a&&(f.a<0?f.a=0:f.a>100&&(f.a=100),f.a/=100,n({h:a.h,s:a.s,l:a.l,a:f.a,source:"rgb"},m))};return Y.createElement("div",{style:l.fields,className:"flexbox-fix"},Y.createElement("div",{style:l.double},Y.createElement(Ke,{style:{input:l.input,label:l.label},label:"hex",value:r.replace("#",""),onChange:c})),Y.createElement("div",{style:l.single},Y.createElement(Ke,{style:{input:l.input,label:l.label},label:"r",value:i.r,onChange:c,dragLabel:"true",dragMax:"255"})),Y.createElement("div",{style:l.single},Y.createElement(Ke,{style:{input:l.input,label:l.label},label:"g",value:i.g,onChange:c,dragLabel:"true",dragMax:"255"})),Y.createElement("div",{style:l.single},Y.createElement(Ke,{style:{input:l.input,label:l.label},label:"b",value:i.b,onChange:c,dragLabel:"true",dragMax:"255"})),Y.createElement("div",{style:l.alpha},Y.createElement(Ke,{style:{input:l.input,label:l.label},label:"a",value:Math.round(i.a*100),onChange:c,dragLabel:"true",dragMax:"100"})))},sst=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},oj=function(t){var n=t.colors,i=t.onClick,a=i===void 0?function(){}:i,r=t.onSwatchHover,s=fe({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),l=function(d,f){a({hex:d,source:"hex"},f)};return Y.createElement("div",{style:s.colors,className:"flexbox-fix"},n.map(function(c){var d=typeof c=="string"?{color:c}:c,f=""+d.color+(d.title||"");return Y.createElement("div",{key:f,style:s.swatchWrap},Y.createElement(lh,sst({},d,{style:s.swatch,onClick:l,onHover:r,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+d.color}})))}))};oj.propTypes={colors:St.arrayOf(St.oneOfType([St.string,St.shape({color:St.string,title:St.string})])).isRequired};var ost=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},eT=function(t){var n=t.width,i=t.rgb,a=t.hex,r=t.hsv,s=t.hsl,l=t.onChange,c=t.onSwatchHover,d=t.disableAlpha,f=t.presetColors,m=t.renderers,v=t.styles,y=v===void 0?{}:v,x=t.className,_=x===void 0?"":x,E=fe(lr({default:ost({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+i.r+","+i.g+","+i.b+","+i.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},y),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},y),{disableAlpha:d});return Y.createElement("div",{style:E.picker,className:"sketch-picker "+_},Y.createElement("div",{style:E.saturation},Y.createElement(Ex,{style:E.Saturation,hsl:s,hsv:r,onChange:l})),Y.createElement("div",{style:E.controls,className:"flexbox-fix"},Y.createElement("div",{style:E.sliders},Y.createElement("div",{style:E.hue},Y.createElement(Dp,{style:E.Hue,hsl:s,onChange:l})),Y.createElement("div",{style:E.alpha},Y.createElement(j3,{style:E.Alpha,rgb:i,hsl:s,renderers:m,onChange:l}))),Y.createElement("div",{style:E.color},Y.createElement(Mp,null),Y.createElement("div",{style:E.activeColor}))),Y.createElement(rst,{rgb:i,hsl:s,hex:a,onChange:l,disableAlpha:d}),Y.createElement(oj,{colors:f,onClick:l,onSwatchHover:c}))};eT.propTypes={disableAlpha:St.bool,width:St.oneOfType([St.string,St.number]),styles:St.object};eT.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const lst=cr(eT);var pm=function(t){var n=t.hsl,i=t.offset,a=t.onClick,r=a===void 0?function(){}:a,s=t.active,l=t.first,c=t.last,d=fe({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+i*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:l,last:c}),f=function(v){return r({h:n.h,s:.5,l:i,source:"hsl"},v)};return Y.createElement("div",{style:d.swatch,onClick:f})},cst=function(t){var n=t.onClick,i=t.hsl,a=fe({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),r=.1;return Y.createElement("div",{style:a.swatches},Y.createElement("div",{style:a.swatch},Y.createElement(pm,{hsl:i,offset:".80",active:Math.abs(i.l-.8)<r&&Math.abs(i.s-.5)<r,onClick:n,first:!0})),Y.createElement("div",{style:a.swatch},Y.createElement(pm,{hsl:i,offset:".65",active:Math.abs(i.l-.65)<r&&Math.abs(i.s-.5)<r,onClick:n})),Y.createElement("div",{style:a.swatch},Y.createElement(pm,{hsl:i,offset:".50",active:Math.abs(i.l-.5)<r&&Math.abs(i.s-.5)<r,onClick:n})),Y.createElement("div",{style:a.swatch},Y.createElement(pm,{hsl:i,offset:".35",active:Math.abs(i.l-.35)<r&&Math.abs(i.s-.5)<r,onClick:n})),Y.createElement("div",{style:a.swatch},Y.createElement(pm,{hsl:i,offset:".20",active:Math.abs(i.l-.2)<r&&Math.abs(i.s-.5)<r,onClick:n,last:!0})),Y.createElement("div",{style:a.clear}))},ust=function(){var t=fe({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return Y.createElement("div",{style:t.picker})},nT=function(t){var n=t.hsl,i=t.onChange,a=t.pointer,r=t.styles,s=r===void 0?{}:r,l=t.className,c=l===void 0?"":l,d=fe(lr({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},s));return Y.createElement("div",{style:d.wrap||{},className:"slider-picker "+c},Y.createElement("div",{style:d.hue},Y.createElement(Dp,{style:d.Hue,hsl:n,pointer:a,onChange:i})),Y.createElement("div",{style:d.swatches},Y.createElement(cst,{hsl:n,onClick:i})))};nT.propTypes={styles:St.object};nT.defaultProps={pointer:ust,styles:{}};cr(nT);var yb={},iO;function dst(){if(iO)return yb;iO=1,Object.defineProperty(yb,"__esModule",{value:!0});var e=Object.assign||function(s){for(var l=1;l<arguments.length;l++){var c=arguments[l];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(s[d]=c[d])}return s},t=il(),n=i(t);function i(s){return s&&s.__esModule?s:{default:s}}function a(s,l){var c={};for(var d in s)l.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(s,d)&&(c[d]=s[d]);return c}var r=24;return yb.default=function(s){var l=s.fill,c=l===void 0?"currentColor":l,d=s.width,f=d===void 0?r:d,m=s.height,v=m===void 0?r:m,y=s.style,x=y===void 0?{}:y,_=a(s,["fill","width","height","style"]);return n.default.createElement("svg",e({viewBox:"0 0 "+r+" "+r,style:e({fill:c,width:f,height:v},x)},_),n.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},yb}var hst=dst();const fst=Tr(hst);var pst=function(t){var n=t.color,i=t.onClick,a=i===void 0?function(){}:i,r=t.onSwatchHover,s=t.first,l=t.last,c=t.active,d=fe({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:q3(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:s,last:l,active:c,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return Y.createElement(lh,{color:n,style:d.color,onClick:a,onHover:r,focusStyle:{boxShadow:"0 0 4px "+n}},Y.createElement("div",{style:d.check},Y.createElement(fst,null)))},gst=function(t){var n=t.onClick,i=t.onSwatchHover,a=t.group,r=t.active,s=fe({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return Y.createElement("div",{style:s.group},ch(a,function(l,c){return Y.createElement(pst,{key:l,color:l,active:l.toLowerCase()===r,first:c===0,last:c===a.length-1,onClick:n,onSwatchHover:i})}))},iT=function(t){var n=t.width,i=t.height,a=t.onChange,r=t.onSwatchHover,s=t.colors,l=t.hex,c=t.styles,d=c===void 0?{}:c,f=t.className,m=f===void 0?"":f,v=fe(lr({default:{picker:{width:n,height:i},overflow:{height:i,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},d)),y=function(_,E){return a({hex:_,source:"hex"},E)};return Y.createElement("div",{style:v.picker,className:"swatches-picker "+m},Y.createElement(xv,null,Y.createElement("div",{style:v.overflow},Y.createElement("div",{style:v.body},ch(s,function(x){return Y.createElement(gst,{key:x.toString(),group:x,active:l,onClick:y,onSwatchHover:r})}),Y.createElement("div",{style:v.clear})))))};iT.propTypes={width:St.oneOfType([St.string,St.number]),height:St.oneOfType([St.string,St.number]),colors:St.arrayOf(St.arrayOf(St.string)),styles:St.object};iT.defaultProps={width:320,height:240,colors:[[Of[900],Of[700],Of[500],Of[300],Of[100]],[Nf[900],Nf[700],Nf[500],Nf[300],Nf[100]],[Pf[900],Pf[700],Pf[500],Pf[300],Pf[100]],[Lf[900],Lf[700],Lf[500],Lf[300],Lf[100]],[kf[900],kf[700],kf[500],kf[300],kf[100]],[jf[900],jf[700],jf[500],jf[300],jf[100]],[Ff[900],Ff[700],Ff[500],Ff[300],Ff[100]],[Bf[900],Bf[700],Bf[500],Bf[300],Bf[100]],[If[900],If[700],If[500],If[300],If[100]],["#194D33",y0[700],y0[500],y0[300],y0[100]],[zf[900],zf[700],zf[500],zf[300],zf[100]],[Uf[900],Uf[700],Uf[500],Uf[300],Uf[100]],[Hf[900],Hf[700],Hf[500],Hf[300],Hf[100]],[Gf[900],Gf[700],Gf[500],Gf[300],Gf[100]],[qf[900],qf[700],qf[500],qf[300],qf[100]],[Vf[900],Vf[700],Vf[500],Vf[300],Vf[100]],[Yf[900],Yf[700],Yf[500],Yf[300],Yf[100]],[Kf[900],Kf[700],Kf[500],Kf[300],Kf[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};cr(iT);var aT=function(t){var n=t.onChange,i=t.onSwatchHover,a=t.hex,r=t.colors,s=t.width,l=t.triangle,c=t.styles,d=c===void 0?{}:c,f=t.className,m=f===void 0?"":f,v=fe(lr({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},d),{"hide-triangle":l==="hide","top-left-triangle":l==="top-left","top-right-triangle":l==="top-right"}),y=function(_,E){Eu(_)&&n({hex:_,source:"hex"},E)};return Y.createElement("div",{style:v.card,className:"twitter-picker "+m},Y.createElement("div",{style:v.triangleShadow}),Y.createElement("div",{style:v.triangle}),Y.createElement("div",{style:v.body},ch(r,function(x,_){return Y.createElement(lh,{key:_,color:x,hex:x,style:v.swatch,onClick:y,onHover:i,focusStyle:{boxShadow:"0 0 4px "+x}})}),Y.createElement("div",{style:v.hash},"#"),Y.createElement(Ke,{label:null,style:{input:v.input},value:a.replace("#",""),onChange:y}),Y.createElement("div",{style:v.clear})))};aT.propTypes={width:St.oneOfType([St.string,St.number]),triangle:St.oneOf(["hide","top-left","top-right"]),colors:St.arrayOf(St.string),styles:St.object};aT.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};cr(aT);var rT=function(t){var n=fe({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(t.hsl.h)+", "+Math.round(t.hsl.s*100)+"%, "+Math.round(t.hsl.l*100)+"%)"}}});return Y.createElement("div",{style:n.picker})};rT.propTypes={hsl:St.shape({h:St.number,s:St.number,l:St.number,a:St.number})};rT.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var sT=function(t){var n=fe({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(t.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return Y.createElement("div",{style:n.picker})};sT.propTypes={hsl:St.shape({h:St.number,s:St.number,l:St.number,a:St.number})};sT.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var mst=function(t){var n=t.onChange,i=t.rgb,a=t.hsl,r=t.hex,s=t.hsv,l=function(y,x){if(y.hex)Eu(y.hex)&&n({hex:y.hex,source:"hex"},x);else if(y.rgb){var _=y.rgb.split(",");lE(y.rgb,"rgb")&&n({r:_[0],g:_[1],b:_[2],a:1,source:"rgb"},x)}else if(y.hsv){var E=y.hsv.split(",");lE(y.hsv,"hsv")&&(E[2]=E[2].replace("%",""),E[1]=E[1].replace("%",""),E[0]=E[0].replace("°",""),E[1]==1?E[1]=.01:E[2]==1&&(E[2]=.01),n({h:Number(E[0]),s:Number(E[1]),v:Number(E[2]),source:"hsv"},x))}else if(y.hsl){var R=y.hsl.split(",");lE(y.hsl,"hsl")&&(R[2]=R[2].replace("%",""),R[1]=R[1].replace("%",""),R[0]=R[0].replace("°",""),m[1]==1?m[1]=.01:m[2]==1&&(m[2]=.01),n({h:Number(R[0]),s:Number(R[1]),v:Number(R[2]),source:"hsl"},x))}},c=fe({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),d=i.r+", "+i.g+", "+i.b,f=Math.round(a.h)+"°, "+Math.round(a.s*100)+"%, "+Math.round(a.l*100)+"%",m=Math.round(s.h)+"°, "+Math.round(s.s*100)+"%, "+Math.round(s.v*100)+"%";return Y.createElement("div",{style:c.wrap,className:"flexbox-fix"},Y.createElement("div",{style:c.fields},Y.createElement("div",{style:c.double},Y.createElement(Ke,{style:{input:c.input,label:c.label},label:"hex",value:r,onChange:l})),Y.createElement("div",{style:c.column},Y.createElement("div",{style:c.single},Y.createElement(Ke,{style:{input:c.input2,label:c.label2},label:"rgb",value:d,onChange:l})),Y.createElement("div",{style:c.single},Y.createElement(Ke,{style:{input:c.input2,label:c.label2},label:"hsv",value:m,onChange:l})),Y.createElement("div",{style:c.single},Y.createElement(Ke,{style:{input:c.input2,label:c.label2},label:"hsl",value:f,onChange:l})))))},oT=function(t){var n=t.width,i=t.onChange,a=t.rgb,r=t.hsl,s=t.hsv,l=t.hex,c=t.header,d=t.styles,f=d===void 0?{}:d,m=t.className,v=m===void 0?"":m,y=fe(lr({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+a.r+", "+a.g+", "+a.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},f));return Y.createElement("div",{style:y.picker,className:"google-picker "+v},Y.createElement("div",{style:y.head},c),Y.createElement("div",{style:y.swatch}),Y.createElement("div",{style:y.saturation},Y.createElement(Ex,{hsl:r,hsv:s,pointer:rT,onChange:i})),Y.createElement("div",{style:y.body},Y.createElement("div",{style:y.controls,className:"flexbox-fix"},Y.createElement("div",{style:y.hue},Y.createElement(Dp,{style:y.Hue,hsl:r,radius:"4px",pointer:sT,onChange:i}))),Y.createElement(mst,{rgb:a,hsl:r,hex:l,hsv:s,onChange:i})))};oT.propTypes={width:St.oneOfType([St.string,St.number]),styles:St.object,header:St.string};oT.defaultProps={width:652,styles:{},header:"Color picker"};cr(oT);var uE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var aO;function vst(){return aO||(aO=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r="",s=0;s<arguments.length;s++){var l=arguments[s];l&&(r=a(r,i(l)))}return r}function i(r){if(typeof r=="string"||typeof r=="number")return r;if(typeof r!="object")return"";if(Array.isArray(r))return n.apply(null,r);if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]"))return r.toString();var s="";for(var l in r)t.call(r,l)&&r[l]&&(s=a(s,l));return s}function a(r,s){return s?r?r+" "+s:r+s:r}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(uE)),uE.exports}var yst=vst();const Gn=Tr(yst);function bst(e){let t=e.replace("#","");t.length===3&&(t=t.split("").map(r=>r+r).join(""));const n=parseInt(t.substr(0,2),16),i=parseInt(t.substr(2,2),16),a=parseInt(t.substr(4,2),16);return(n*299+i*587+a*114)/1e3>=128?"black":"white"}function S1({color:e="#000",onChange:t,icon:n,disabled:i=!1,size:a=28,label:r="",pickerPlacement:s="bottom",className:l}){const[c,d]=j.useState(!1),f=j.useRef(null),[m,v]=j.useState({top:0,left:0});j.useEffect(()=>{if(c&&f.current){const x=f.current.getBoundingClientRect(),_=225;let E=x.left+window.scrollX;E+_>window.innerWidth-8&&(E=Math.max(8,window.innerWidth-_-30)),v({top:s==="top"?x.top+window.scrollY-320:x.top+x.height+window.scrollY+8,left:E})}},[c,s]);const y=bst(e);return F.jsxs(F.Fragment,{children:[F.jsxs("button",{type:"button",ref:f,className:Gn("relative flex items-center justify-center rounded-full shadow transition-all border",{"opacity-60 cursor-not-allowed":i},l),style:{width:a,height:a,background:e,borderColor:y==="white"?"#ddd":"#222"},onClick:()=>!i&&d(x=>!x),disabled:i,title:r,children:[F.jsx(n,{size:a*.6,color:y}),F.jsx("span",{className:"absolute inset-0 rounded-full pointer-events-none border-2",style:{borderColor:y==="white"?"#bbb":"#fff",opacity:.4}})]}),c&&sv.createPortal(F.jsx("div",{className:"z-[9999] absolute",style:{top:m.top,left:m.left},onMouseDown:x=>x.stopPropagation(),onClick:x=>x.stopPropagation(),children:F.jsxs("div",{className:"bg-white p-2 rounded-xl shadow-2xl border",style:{minWidth:210,position:"relative"},children:[F.jsx(lst,{color:e,onChange:x=>t?.(x.hex),disableAlpha:!0}),F.jsx("button",{className:"absolute top-0 right-1 text-gray-500 hover:text-black text-xs",onClick:()=>d(!1),children:F.jsx(ov,{size:20})})]})}),document.body)]})}var bb={},rO;function xst(){if(rO)return bb;rO=1,bb.match=r,bb.parse=s;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,i=/(em|rem|px|cm|mm|in|pt|pc)?$/,a=/(dpi|dpcm|dppx)?$/;function r(f,m){return s(f).some(function(v){var y=v.inverse,x=v.type==="all"||m.type===v.type;if(x&&y||!(x||y))return!1;var _=v.expressions.every(function(E){var R=E.feature,A=E.modifier,w=E.value,M=m[R];if(!M)return!1;switch(R){case"orientation":case"scan":return M.toLowerCase()===w.toLowerCase();case"width":case"height":case"device-width":case"device-height":w=d(w),M=d(M);break;case"resolution":w=c(w),M=c(M);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":w=l(w),M=l(M);break;case"grid":case"color":case"color-index":case"monochrome":w=parseInt(w,10)||1,M=parseInt(M,10)||0;break}switch(A){case"min":return M>=w;case"max":return M<=w;default:return M===w}});return _&&!y||!_&&y})}function s(f){return f.split(",").map(function(m){m=m.trim();var v=m.match(e),y=v[1],x=v[2],_=v[3]||"",E={};return E.inverse=!!y&&y.toLowerCase()==="not",E.type=x?x.toLowerCase():"all",_=_.match(/\([^\)]+\)/g)||[],E.expressions=_.map(function(R){var A=R.match(t),w=A[1].toLowerCase().match(n);return{modifier:w[1],feature:w[2],value:A[2]}}),E})}function l(f){var m=Number(f),v;return m||(v=f.match(/^(\d+)\s*\/\s*(\d+)$/),m=v[1]/v[2]),m}function c(f){var m=parseFloat(f),v=String(f).match(a)[1];switch(v){case"dpcm":return m/2.54;case"dppx":return m*96;default:return m}}function d(f){var m=parseFloat(f),v=String(f).match(i)[1];switch(v){case"em":return m*16;case"rem":return m*16;case"cm":return m*96/2.54;case"mm":return m*96/2.54/10;case"in":return m*96;case"pt":return m*72;case"pc":return m*72/12;default:return m}}return bb}var dE,sO;function Sst(){if(sO)return dE;sO=1;var e=xst().match,t=typeof window<"u"?window.matchMedia:null;function n(a,r,s){var l=this,c;t&&!s&&(c=t.call(window,a)),c?(this.matches=c.matches,this.media=c.media,c.addListener(m)):(this.matches=e(a,r),this.media=a),this.addListener=d,this.removeListener=f,this.dispose=v;function d(y){c&&c.addListener(y)}function f(y){c&&c.removeListener(y)}function m(y){l.matches=y.matches,l.media=y.media}function v(){c&&c.removeListener(m)}}function i(a,r,s){return new n(a,r,s)}return dE=i,dE}var _st=Sst();const wst=Tr(_st);var Est=/[A-Z]/g,Ast=/^ms-/,hE={};function Cst(e){return"-"+e.toLowerCase()}function lj(e){if(hE.hasOwnProperty(e))return hE[e];var t=e.replace(Est,Cst);return hE[e]=Ast.test(t)?"-"+t:t}function Tst(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),i=Object.keys(t),a=n.length;if(i.length!==a)return!1;for(let r=0;r<a;r++){const s=n[r];if(e[s]!==t[s]||!Object.prototype.hasOwnProperty.call(t,s))return!1}return!0}const La=St.oneOfType([St.string,St.number]),cj={all:St.bool,grid:St.bool,aural:St.bool,braille:St.bool,handheld:St.bool,print:St.bool,projection:St.bool,screen:St.bool,tty:St.bool,tv:St.bool,embossed:St.bool},Rst={orientation:St.oneOf(["portrait","landscape"]),scan:St.oneOf(["progressive","interlace"]),aspectRatio:St.string,deviceAspectRatio:St.string,height:La,deviceHeight:La,width:La,deviceWidth:La,color:St.bool,colorIndex:St.bool,monochrome:St.bool,resolution:La,type:Object.keys(cj)},{type:Cyt,...Mst}=Rst,Dst={minAspectRatio:St.string,maxAspectRatio:St.string,minDeviceAspectRatio:St.string,maxDeviceAspectRatio:St.string,minHeight:La,maxHeight:La,minDeviceHeight:La,maxDeviceHeight:La,minWidth:La,maxWidth:La,minDeviceWidth:La,maxDeviceWidth:La,minColor:St.number,maxColor:St.number,minColorIndex:St.number,maxColorIndex:St.number,minMonochrome:St.number,maxMonochrome:St.number,minResolution:La,maxResolution:La,...Mst},Ost={...cj,...Dst};var Nst={all:Ost};const Pst=e=>`not ${e}`,Lst=(e,t)=>{const n=lj(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?Pst(n):`(${n}: ${t})`},kst=e=>e.join(" and "),jst=e=>{const t=[];return Object.keys(Nst.all).forEach(n=>{const i=e[n];i!=null&&t.push(Lst(n,i))}),kst(t)},Fst=j.createContext(void 0),Bst=e=>e.query||jst(e),oO=e=>e?Object.keys(e).reduce((n,i)=>(n[lj(i)]=e[i],n),{}):void 0,uj=()=>{const e=j.useRef(!1);return j.useEffect(()=>{e.current=!0},[]),e.current},Ist=e=>{const t=j.useContext(Fst),n=()=>oO(e)||oO(t),[i,a]=j.useState(n);return j.useEffect(()=>{const r=n();Tst(i,r)||a(r)},[e,t]),i},zst=e=>{const t=()=>Bst(e),[n,i]=j.useState(t);return j.useEffect(()=>{const a=t();n!==a&&i(a)},[e]),n},Ust=(e,t)=>{const n=()=>wst(e,t||{},!!t),[i,a]=j.useState(n),r=uj();return j.useEffect(()=>{if(r){const s=n();return a(s),()=>{s&&s.dispose()}}},[e,t]),i},Hst=e=>{const[t,n]=j.useState(e.matches);return j.useEffect(()=>{const i=a=>{n(a.matches)};return e.addListener(i),n(e.matches),()=>{e.removeListener(i)}},[e]),t},lT=(e,t,n)=>{const i=Ist(t),a=zst(e);if(!a)throw new Error("Invalid or missing MediaQuery!");const r=Ust(a,i),s=Hst(r);return uj(),j.useEffect(()=>{},[s]),j.useEffect(()=>()=>{r&&r.dispose()},[]),s},ka=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),HA=[.001,0,0,.001,0,0],fE=1.35,Sr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},su={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},dj="pdfjs_internal_editor_",me={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},Ye={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},Gst={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ma={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Yb={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},pi={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Xf={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Tx={ERRORS:0,WARNINGS:1,INFOS:5},_1={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},xb={moveTo:0,lineTo:1,curveTo:2,closePath:3},qst={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Rx=Tx.WARNINGS;function Vst(e){Number.isInteger(e)&&(Rx=e)}function Yst(){return Rx}function Mx(e){Rx>=Tx.INFOS&&console.log(`Info: ${e}`)}function ve(e){Rx>=Tx.WARNINGS&&console.log(`Warning: ${e}`)}function xn(e){throw new Error(e)}function vi(e,t){e||xn(t)}function Kst(e){switch(e?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function hj(e,t=null,n=null){if(!e)return null;if(n&&typeof e=="string"&&(n.addDefaultProtocol&&e.startsWith("www.")&&e.match(/\./g)?.length>=2&&(e=`http://${e}`),n.tryConvertEncoding))try{e=Zst(e)}catch{}const i=t?URL.parse(e,t):URL.parse(e);return Kst(i)?i:null}function fj(e,t,n=!1){const i=URL.parse(e);return i?(i.hash=t,i.href):n&&hj(e,"http://example.com")?e.split("#",1)[0]+`${t?`#${t}`:""}`:""}function ze(e,t,n,i=!1){return Object.defineProperty(e,t,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const uh=function(){function t(n,i){this.message=n,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class lO extends uh{constructor(t,n){super(t,"PasswordException"),this.code=n}}class pE extends uh{constructor(t,n){super(t,"UnknownErrorException"),this.details=n}}class GA extends uh{constructor(t){super(t,"InvalidPDFException")}}class w1 extends uh{constructor(t,n,i){super(t,"ResponseException"),this.status=n,this.missing=i}}class Xst extends uh{constructor(t){super(t,"FormatError")}}class bu extends uh{constructor(t){super(t,"AbortException")}}function pj(e){(typeof e!="object"||e?.length===void 0)&&xn("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const i=[];for(let a=0;a<t;a+=n){const r=Math.min(a+n,t),s=e.subarray(a,r);i.push(String.fromCharCode.apply(null,s))}return i.join("")}function Sv(e){typeof e!="string"&&xn("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let i=0;i<t;++i)n[i]=e.charCodeAt(i)&255;return n}function $st(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function Wst(){const e=new Uint8Array(4);return e[0]=1,new Uint32Array(e.buffer,0,1)[0]===1}function Qst(){try{return new Function(""),!0}catch{return!1}}class aa{static get isLittleEndian(){return ze(this,"isLittleEndian",Wst())}static get isEvalSupported(){return ze(this,"isEvalSupported",Qst())}static get isOffscreenCanvasSupported(){return ze(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return ze(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:n}=navigator;return ze(this,"platform",{isAndroid:n.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){return ze(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const gE=Array.from(Array(256).keys(),e=>e.toString(16).padStart(2,"0"));let Jt=class{static makeHexColor(t,n,i){return`#${gE[t]}${gE[n]}${gE[i]}`}static scaleMinMax(t,n){let i;t[0]?(t[0]<0&&(i=n[0],n[0]=n[2],n[2]=i),n[0]*=t[0],n[2]*=t[0],t[3]<0&&(i=n[1],n[1]=n[3],n[3]=i),n[1]*=t[3],n[3]*=t[3]):(i=n[0],n[0]=n[1],n[1]=i,i=n[2],n[2]=n[3],n[3]=i,t[1]<0&&(i=n[1],n[1]=n[3],n[3]=i),n[1]*=t[1],n[3]*=t[1],t[2]<0&&(i=n[0],n[0]=n[2],n[2]=i),n[0]*=t[2],n[2]*=t[2]),n[0]+=t[4],n[1]+=t[5],n[2]+=t[4],n[3]+=t[5]}static transform(t,n){return[t[0]*n[0]+t[2]*n[1],t[1]*n[0]+t[3]*n[1],t[0]*n[2]+t[2]*n[3],t[1]*n[2]+t[3]*n[3],t[0]*n[4]+t[2]*n[5]+t[4],t[1]*n[4]+t[3]*n[5]+t[5]]}static applyTransform(t,n,i=0){const a=t[i],r=t[i+1];t[i]=a*n[0]+r*n[2]+n[4],t[i+1]=a*n[1]+r*n[3]+n[5]}static applyTransformToBezier(t,n,i=0){const a=n[0],r=n[1],s=n[2],l=n[3],c=n[4],d=n[5];for(let f=0;f<6;f+=2){const m=t[i+f],v=t[i+f+1];t[i+f]=m*a+v*s+c,t[i+f+1]=m*r+v*l+d}}static applyInverseTransform(t,n){const i=t[0],a=t[1],r=n[0]*n[3]-n[1]*n[2];t[0]=(i*n[3]-a*n[2]+n[2]*n[5]-n[4]*n[3])/r,t[1]=(-i*n[1]+a*n[0]+n[4]*n[1]-n[5]*n[0])/r}static axialAlignedBoundingBox(t,n,i){const a=n[0],r=n[1],s=n[2],l=n[3],c=n[4],d=n[5],f=t[0],m=t[1],v=t[2],y=t[3];let x=a*f+c,_=x,E=a*v+c,R=E,A=l*m+d,w=A,M=l*y+d,D=M;if(r!==0||s!==0){const P=r*f,z=r*v,L=s*m,U=s*y;x+=L,R+=L,E+=U,_+=U,A+=P,D+=P,M+=z,w+=z}i[0]=Math.min(i[0],x,E,_,R),i[1]=Math.min(i[1],A,M,w,D),i[2]=Math.max(i[2],x,E,_,R),i[3]=Math.max(i[3],A,M,w,D)}static inverseTransform(t){const n=t[0]*t[3]-t[1]*t[2];return[t[3]/n,-t[1]/n,-t[2]/n,t[0]/n,(t[2]*t[5]-t[4]*t[3])/n,(t[4]*t[1]-t[5]*t[0])/n]}static singularValueDecompose2dScale(t,n){const i=t[0],a=t[1],r=t[2],s=t[3],l=i**2+a**2,c=i*r+a*s,d=r**2+s**2,f=(l+d)/2,m=Math.sqrt(f**2-(l*d-c**2));n[0]=Math.sqrt(f+m||1),n[1]=Math.sqrt(f-m||1)}static normalizeRect(t){const n=t.slice(0);return t[0]>t[2]&&(n[0]=t[2],n[2]=t[0]),t[1]>t[3]&&(n[1]=t[3],n[3]=t[1]),n}static intersect(t,n){const i=Math.max(Math.min(t[0],t[2]),Math.min(n[0],n[2])),a=Math.min(Math.max(t[0],t[2]),Math.max(n[0],n[2]));if(i>a)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(n[1],n[3])),s=Math.min(Math.max(t[1],t[3]),Math.max(n[1],n[3]));return r>s?null:[i,r,a,s]}static pointBoundingBox(t,n,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],n),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],n)}static rectBoundingBox(t,n,i,a,r){r[0]=Math.min(r[0],t,i),r[1]=Math.min(r[1],n,a),r[2]=Math.max(r[2],t,i),r[3]=Math.max(r[3],n,a)}static#t(t,n,i,a,r,s,l,c,d,f){if(d<=0||d>=1)return;const m=1-d,v=d*d,y=v*d,x=m*(m*(m*t+3*d*n)+3*v*i)+y*a,_=m*(m*(m*r+3*d*s)+3*v*l)+y*c;f[0]=Math.min(f[0],x),f[1]=Math.min(f[1],_),f[2]=Math.max(f[2],x),f[3]=Math.max(f[3],_)}static#e(t,n,i,a,r,s,l,c,d,f,m,v){if(Math.abs(d)<1e-12){Math.abs(f)>=1e-12&&this.#t(t,n,i,a,r,s,l,c,-m/f,v);return}const y=f**2-4*m*d;if(y<0)return;const x=Math.sqrt(y),_=2*d;this.#t(t,n,i,a,r,s,l,c,(-f+x)/_,v),this.#t(t,n,i,a,r,s,l,c,(-f-x)/_,v)}static bezierBoundingBox(t,n,i,a,r,s,l,c,d){d[0]=Math.min(d[0],t,l),d[1]=Math.min(d[1],n,c),d[2]=Math.max(d[2],t,l),d[3]=Math.max(d[3],n,c),this.#e(t,i,r,l,n,a,s,c,3*(-t+3*(i-r)+l),6*(t-2*i+r),3*(i-t),d),this.#e(t,i,r,l,n,a,s,c,3*(-n+3*(a-s)+c),6*(n-2*a+s),3*(a-n),d)}};function Zst(e){return decodeURIComponent(escape(e))}let mE=null,cO=null;function Jst(e){return mE||(mE=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,cO=new Map([["ﬅ","ſt"]])),e.replaceAll(mE,(t,n,i)=>n?n.normalize("NFKC"):cO.get(i))}function gj(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const e=new Uint8Array(32);return crypto.getRandomValues(e),pj(e)}const cT="pdfjs_internal_id_";function tot(e,t,n){if(!Array.isArray(n)||n.length<2)return!1;const[i,a,...r]=n;if(!e(i)&&!Number.isInteger(i)||!t(a))return!1;const s=r.length;let l=!0;switch(a.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return s===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(s!==4)return!1;l=!1;break;default:return!1}for(const c of r)if(!(typeof c=="number"||l&&c===null))return!1;return!0}function ja(e,t,n){return Math.min(Math.max(e,t),n)}function mj(e){return Uint8Array.prototype.toBase64?e.toBase64():btoa(pj(e))}function eot(e){return Uint8Array.fromBase64?Uint8Array.fromBase64(e):Sv(atob(e))}typeof Promise.try!="function"&&(Promise.try=function(e,...t){return new Promise(n=>{n(e(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(e){return e.reduce((t,n)=>t+n,0)});const Vl="http://www.w3.org/2000/svg";class pp{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function _v(e,t="text"){if(b0(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,i)=>{const a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType=t,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(t){case"arraybuffer":case"blob":case"json":n(a.response);return}n(a.responseText);return}i(new Error(a.statusText))}},a.send(null)})}class wv{constructor({viewBox:t,userUnit:n,scale:i,rotation:a,offsetX:r=0,offsetY:s=0,dontFlip:l=!1}){this.viewBox=t,this.userUnit=n,this.scale=i,this.rotation=a,this.offsetX=r,this.offsetY=s,i*=n;const c=(t[2]+t[0])/2,d=(t[3]+t[1])/2;let f,m,v,y;switch(a%=360,a<0&&(a+=360),a){case 180:f=-1,m=0,v=0,y=1;break;case 90:f=0,m=1,v=1,y=0;break;case 270:f=0,m=-1,v=-1,y=0;break;case 0:f=1,m=0,v=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(v=-v,y=-y);let x,_,E,R;f===0?(x=Math.abs(d-t[1])*i+r,_=Math.abs(c-t[0])*i+s,E=(t[3]-t[1])*i,R=(t[2]-t[0])*i):(x=Math.abs(c-t[0])*i+r,_=Math.abs(d-t[1])*i+s,E=(t[2]-t[0])*i,R=(t[3]-t[1])*i),this.transform=[f*i,m*i,v*i,y*i,x-f*i*c-v*i*d,_-m*i*c-y*i*d],this.width=E,this.height=R}get rawDims(){const t=this.viewBox;return ze(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:n=this.rotation,offsetX:i=this.offsetX,offsetY:a=this.offsetY,dontFlip:r=!1}={}){return new wv({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:n,offsetX:i,offsetY:a,dontFlip:r})}convertToViewportPoint(t,n){const i=[t,n];return Jt.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const n=[t[0],t[1]];Jt.applyTransform(n,this.transform);const i=[t[2],t[3]];return Jt.applyTransform(i,this.transform),[n[0],n[1],i[0],i[1]]}convertToPdfPoint(t,n){const i=[t,n];return Jt.applyInverseTransform(i,this.transform),i}}class uT extends uh{constructor(t,n=0){super(t,"RenderingCancelledException"),this.extraDelay=n}}function Dx(e){const t=e.length;let n=0;for(;n<t&&e[n].trim()==="";)n++;return e.substring(n,n+5).toLowerCase()==="data:"}function dT(e){return typeof e=="string"&&/\.pdf$/i.test(e)}function not(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)}function iot(e,t="document.pdf"){if(typeof e!="string")return t;if(Dx(e))return ve('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=(l=>{try{return new URL(l)}catch{try{return new URL(decodeURIComponent(l))}catch{try{return new URL(l,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(l),"https://foo.bar")}catch{return null}}}}})(e);if(!i)return t;const a=l=>{try{let c=decodeURIComponent(l);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:l):c}catch{return l}},r=/\.pdf$/i,s=i.pathname.split("/").at(-1);if(r.test(s))return a(s);if(i.searchParams.size>0){const l=Array.from(i.searchParams.values()).reverse();for(const d of l)if(r.test(d))return a(d);const c=Array.from(i.searchParams.keys()).reverse();for(const d of c)if(r.test(d))return a(d)}if(i.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(c)return a(c[0])}return t}class uO{started=Object.create(null);times=[];time(t){t in this.started&&ve(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||ve(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let n=0;for(const{name:i}of this.times)n=Math.max(i.length,n);for(const{name:i,start:a,end:r}of this.times)t.push(`${i.padEnd(n)} ${r-a}ms
`);return t.join("")}}function b0(e,t){const n=t?URL.parse(e,t):URL.parse(e);return n?.protocol==="http:"||n?.protocol==="https:"}function Js(e){e.preventDefault()}function mi(e){e.preventDefault(),e.stopPropagation()}function aot(e){console.log("Deprecated API usage: "+e)}class vj{static#t;static toDateObject(t){if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const n=this.#t.exec(t);if(!n)return null;const i=parseInt(n[1],10);let a=parseInt(n[2],10);a=a>=1&&a<=12?a-1:0;let r=parseInt(n[3],10);r=r>=1&&r<=31?r:1;let s=parseInt(n[4],10);s=s>=0&&s<=23?s:0;let l=parseInt(n[5],10);l=l>=0&&l<=59?l:0;let c=parseInt(n[6],10);c=c>=0&&c<=59?c:0;const d=n[7]||"Z";let f=parseInt(n[8],10);f=f>=0&&f<=23?f:0;let m=parseInt(n[9],10)||0;return m=m>=0&&m<=59?m:0,d==="-"?(s+=f,l+=m):d==="+"&&(s-=f,l-=m),new Date(Date.UTC(i,a,r,s,l,c))}}function rot(e,{scale:t=1,rotation:n=0}){const{width:i,height:a}=e.attributes.style,r=[0,0,parseInt(i),parseInt(a)];return new wv({viewBox:r,userUnit:1,scale:t,rotation:n})}function hT(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map(t=>parseInt(t)):e.startsWith("rgba(")?e.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(ve(`Not a valid color format: "${e}"`),[0,0,0])}function sot(e){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const n of e.keys()){t.style.color=n;const i=window.getComputedStyle(t).color;e.set(n,hT(i))}t.remove()}function Un(e){const{a:t,b:n,c:i,d:a,e:r,f:s}=e.getTransform();return[t,n,i,a,r,s]}function Yo(e){const{a:t,b:n,c:i,d:a,e:r,f:s}=e.getTransform().invertSelf();return[t,n,i,a,r,s]}function Qd(e,t,n=!1,i=!0){if(t instanceof wv){const{pageWidth:a,pageHeight:r}=t.rawDims,{style:s}=e,l=aa.isCSSRoundSupported,c=`var(--total-scale-factor) * ${a}px`,d=`var(--total-scale-factor) * ${r}px`,f=l?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,m=l?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!n||t.rotation%180===0?(s.width=f,s.height=m):(s.width=m,s.height=f)}i&&e.setAttribute("data-main-rotation",t.rotation)}class nl{constructor(){const{pixelRatio:t}=nl;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,n,i,a,r=-1){let s=1/0,l=1/0,c=1/0;i=nl.capPixels(i,r),i>0&&(s=Math.sqrt(i/(t*n))),a!==-1&&(l=a/t,c=a/n);const d=Math.min(s,l,c);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,n){if(n>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return t>0?Math.min(t,i):i}return t}}const qA=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class D0{#t=null;#e=null;#n;#i=null;#r=null;#a=null;static#o=null;constructor(t){this.#n=t,D0.#o||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const n=this.#n._uiManager._signal;t.addEventListener("contextmenu",Js,{signal:n}),t.addEventListener("pointerdown",D0.#s,{signal:n});const i=this.#i=document.createElement("div");i.className="buttons",t.append(i);const a=this.#n.toolbarPosition;if(a){const{style:r}=t,s=this.#n._uiManager.direction==="ltr"?1-a[0]:a[0];r.insetInlineEnd=`${100*s}%`,r.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#s(t){t.stopPropagation()}#d(t){this.#n._focusEventsAllowed=!1,mi(t)}#l(t){this.#n._focusEventsAllowed=!0,mi(t)}#h(t){const n=this.#n._uiManager._signal;t.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:n}),t.addEventListener("focusout",this.#l.bind(this),{capture:!0,signal:n}),t.addEventListener("contextmenu",Js,{signal:n})}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#r?.shown()}addDeleteButton(){const{editorType:t,_uiManager:n}=this.#n,i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",D0.#o[t]),this.#h(i),i.addEventListener("click",a=>{n.delete()},{signal:n._signal}),this.#i.append(i)}get#u(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const n=await t.render();this.#h(n),this.#i.append(n,this.#u),this.#r=t}addColorPicker(t){this.#e=t;const n=t.renderButton();this.#h(n),this.#i.append(n,this.#u)}async addEditSignatureButton(t){const n=this.#a=await t.renderEditButton(this.#n);this.#h(n),this.#i.append(n,this.#u)}async addButton(t,n){switch(t){case"colorPicker":this.addColorPicker(n);break;case"altText":await this.addAltText(n);break;case"editSignature":await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(t){this.#a&&(this.#a.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class oot{#t=null;#e=null;#n;constructor(t){this.#n=t}#i(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Js,{signal:this.#n._signal});const n=this.#t=document.createElement("div");return n.className="buttons",t.append(n),this.#a(),t}#r(t,n){let i=0,a=0;for(const r of t){const s=r.y+r.height;if(s<i)continue;const l=r.x+(n?r.width:0);if(s>i){a=l,i=s;continue}n?l>a&&(a=l):l<a&&(a=l)}return[n?1-a:a,i]}show(t,n,i){const[a,r]=this.#r(n,i),{style:s}=this.#e||=this.#i();t.append(this.#e),s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#a(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");t.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=this.#n._signal;t.addEventListener("contextmenu",Js,{signal:i}),t.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:i}),this.#t.append(t)}}function yj(e,t,n){for(const i of n)t.addEventListener(i,e[i].bind(e))}class lot{#t=0;get id(){return`${dj}${this.#t++}`}}class fT{#t=gj();#e=0;#n=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=t;const r=a.decode().then(()=>(i.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return ze(this,"_isSVGFittingCanvas",r)}async#i(t,n){this.#n||=new Map;let i=this.#n.get(t);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let a;if(typeof n=="string"?(i.url=n,a=await _v(n,"blob")):n instanceof File?a=i.file=n:n instanceof Blob&&(a=n),a.type==="image/svg+xml"){const r=fT._isSVGFittingCanvas,s=new FileReader,l=new Image,c=new Promise((d,f)=>{l.onload=()=>{i.bitmap=l,i.isSvg=!0,d()},s.onload=async()=>{const m=i.svgUrl=s.result;l.src=await r?`${m}#svgView(preserveAspectRatio(none))`:m},l.onerror=s.onerror=f});s.readAsDataURL(a),await c}else i.bitmap=await createImageBitmap(a);i.refCounter=1}catch(a){ve(a),i=null}return this.#n.set(t,i),i&&this.#n.set(i.id,i),i}async getFromFile(t){const{lastModified:n,name:i,size:a,type:r}=t;return this.#i(`${n}_${i}_${a}_${r}`,t)}async getFromUrl(t){return this.#i(t,t)}async getFromBlob(t,n){const i=await n;return this.#i(t,i)}async getFromId(t){this.#n||=new Map;const n=this.#n.get(t);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:i}=n;return delete n.blobPromise,this.getFromBlob(n.id,i)}return this.getFromUrl(n.url)}getFromCanvas(t,n){this.#n||=new Map;let i=this.#n.get(t);if(i?.bitmap)return i.refCounter+=1,i;const a=new OffscreenCanvas(n.width,n.height);return a.getContext("2d").drawImage(n,0,0),i={bitmap:a.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#n.set(t,i),this.#n.set(i.id,i),i}getSvgUrl(t){const n=this.#n.get(t);return n?.isSvg?n.svgUrl:null}deleteId(t){this.#n||=new Map;const n=this.#n.get(t);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:i}=n;if(!n.url&&!n.file){const a=new OffscreenCanvas(i.width,i.height);a.getContext("bitmaprenderer").transferFromImageBitmap(i),n.blobPromise=a.convertToBlob()}i.close?.(),n.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class cot{#t=[];#e=!1;#n;#i=-1;constructor(t=128){this.#n=t}add({cmd:t,undo:n,post:i,mustExec:a,type:r=NaN,overwriteIfSameType:s=!1,keepUndo:l=!1}){if(a&&t(),this.#e)return;const c={cmd:t,undo:n,post:i,type:r};if(this.#i===-1){this.#t.length>0&&(this.#t.length=0),this.#i=0,this.#t.push(c);return}if(s&&this.#t[this.#i].type===r){l&&(c.undo=this.#t[this.#i].undo),this.#t[this.#i]=c;return}const d=this.#i+1;d===this.#n?this.#t.splice(0,1):(this.#i=d,d<this.#t.length&&this.#t.splice(d)),this.#t.push(c)}undo(){if(this.#i===-1)return;this.#e=!0;const{undo:t,post:n}=this.#t[this.#i];t(),n?.(),this.#e=!1,this.#i-=1}redo(){if(this.#i<this.#t.length-1){this.#i+=1,this.#e=!0;const{cmd:t,post:n}=this.#t[this.#i];t(),n?.(),this.#e=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#t.length-1}cleanType(t){if(this.#i!==-1){for(let n=this.#i;n>=0;n--)if(this.#t[n].type!==t){this.#t.splice(n+1,this.#i-n),this.#i=n;return}this.#t.length=0,this.#i=-1}}destroy(){this.#t=null}}class Ev{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=aa.platform;for(const[i,a,r={}]of t)for(const s of i){const l=s.startsWith("mac+");n&&l?(this.callbacks.set(s.slice(4),{callback:a,options:r}),this.allKeys.add(s.split("+").at(-1))):!n&&!l&&(this.callbacks.set(s,{callback:a,options:r}),this.allKeys.add(s.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const n=this.buffer.join("+");return this.buffer.length=0,n}exec(t,n){if(!this.allKeys.has(n.key))return;const i=this.callbacks.get(this.#t(n));if(!i)return;const{callback:a,options:{bubbles:r=!1,args:s=[],checker:l=null}}=i;l&&!l(t,n)||(a.bind(t,...s,n)(),r||mi(n))}}class pT{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return sot(t),ze(this,"_colors",t)}convert(t){const n=hT(t);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[i,a]of this._colors)if(a.every((r,s)=>r===n[s]))return pT._colorsMapping.get(i);return n}getHexCode(t){const n=this._colors.get(t);return n?Jt.makeHexColor(...n):t}}class xu{#t=new AbortController;#e=null;#n=new Map;#i=new Map;#r=null;#a=null;#o=null;#s=new cot;#d=null;#l=null;#h=0;#u=new Set;#f=null;#p=null;#g=new Set;_editorUndoBar=null;#c=!1;#m=!1;#v=!1;#y=null;#b=null;#x=null;#_=null;#w=!1;#C=null;#M=new lot;#E=!1;#R=!1;#T=null;#O=null;#N=null;#P=null;#z=null;#A=me.NONE;#S=new Set;#F=null;#B=null;#G=null;#q=null;#V={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#U=[0,0];#L=null;#k=null;#H=null;#$=null;#j=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=xu.prototype,n=s=>s.#k.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),i=(s,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return c!=="text"&&c!=="number"}return!0},a=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return ze(this,"_keyboardManager",new Ev([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(s,{target:l})=>!(l instanceof HTMLButtonElement)&&s.#k.contains(l)&&!s.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(s,{target:l})=>!(l instanceof HTMLButtonElement)&&s.#k.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:n}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:n}]]))}constructor(t,n,i,a,r,s,l,c,d,f,m,v,y,x,_){const E=this._signal=this.#t.signal;this.#k=t,this.#H=n,this.#$=i,this.#r=a,this.#B=r,this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:E}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:E}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:E}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:E}),s._on("setpreference",this.onSetPreference.bind(this),{signal:E}),s._on("switchannotationeditorparams",R=>this.updateParams(R.type,R.value),{signal:E}),this.#at(),this.#lt(),this.#Q(),this.#a=l.annotationStorage,this.#y=l.filterFactory,this.#G=c,this.#_=d||null,this.#c=f,this.#m=m,this.#v=v,this.#z=y||null,this.viewParameters={realScale:pp.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=x||null,this._supportsPinchToZoom=_!==!1}destroy(){this.#j?.resolve(),this.#j=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#i.values())t.destroy();this.#i.clear(),this.#n.clear(),this.#g.clear(),this.#P?.clear(),this.#e=null,this.#S.clear(),this.#s.destroy(),this.#r?.destroy(),this.#B?.destroy(),this.#C?.hide(),this.#C=null,this.#N?.destroy(),this.#N=null,this.#b&&(clearTimeout(this.#b),this.#b=null),this.#L&&(clearTimeout(this.#L),this.#L=null),this._editorUndoBar?.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#z}get useNewAltTextFlow(){return this.#m}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return ze(this,"hcmFilter",this.#G?this.#y.addHCMFilter(this.#G.foreground,this.#G.background):"none")}get direction(){return ze(this,"direction",getComputedStyle(this.#k).direction)}get highlightColors(){return ze(this,"highlightColors",this.#_?new Map(this.#_.split(",").map(t=>(t=t.split("=").map(n=>n.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColorNames(){return ze(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#l=t}setMainHighlightColorPicker(t){this.#N=t}editAltText(t,n=!1){this.#r?.editAltText(this,t,n)}getSignature(t){this.#B?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#B}switchToMode(t,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,n){this._eventBus.dispatch("setpreference",{source:this,name:t,value:n})}onSetPreference({name:t,value:n}){switch(t){case"enableNewAltTextWhenAddingImage":this.#v=n;break}}onPageChanging({pageNumber:t}){this.#h=t-1}focusMainContainer(){this.#k.focus()}findParent(t,n){for(const i of this.#i.values()){const{x:a,y:r,width:s,height:l}=i.div.getBoundingClientRect();if(t>=a&&t<=a+s&&n>=r&&n<=r+l)return i}return null}disableUserSelect(t=!1){this.#H.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#g.add(t)}removeShouldRescale(t){this.#g.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*pp.PDF_TO_CSS_UNITS;for(const n of this.#g)n.onScaleChanging();this.#l?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#K({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#W(t){const{currentLayer:n}=this;if(n.hasTextLayer(t))return n;for(const i of this.#i.values())if(i.hasTextLayer(t))return i;return null}highlightSelection(t=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:r,focusOffset:s}=n,l=n.toString(),d=this.#K(n).closest(".textLayer"),f=this.getSelectionBoxes(d);if(!f)return;n.empty();const m=this.#W(d),v=this.#A===me.NONE,y=()=>{m?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:f,anchorNode:i,anchorOffset:a,focusNode:r,focusOffset:s,text:l}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(me.HIGHLIGHT,y);return}y()}#nt(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=this.#K(t).closest(".textLayer"),a=this.getSelectionBoxes(i);a&&(this.#C||=new oot(this),this.#C.show(i,a,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#a&&!this.#a.has(t.id)&&this.#a.setValue(t.id,t)}a11yAlert(t,n=null){const i=this.#$;i&&(i.setAttribute("data-l10n-id",t),n?i.setAttribute("data-l10n-args",JSON.stringify(n)):i.removeAttribute("data-l10n-args"))}#it(){const t=document.getSelection();if(!t||t.isCollapsed){this.#F&&(this.#C?.hide(),this.#F=null,this.#D({hasSelectedText:!1}));return}const{anchorNode:n}=t;if(n===this.#F)return;const a=this.#K(t).closest(".textLayer");if(!a){this.#F&&(this.#C?.hide(),this.#F=null,this.#D({hasSelectedText:!1}));return}if(this.#C?.hide(),this.#F=n,this.#D({hasSelectedText:!0}),!(this.#A!==me.HIGHLIGHT&&this.#A!==me.NONE)&&(this.#A===me.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#w=this.isShiftKeyDown,!this.isShiftKeyDown)){const r=this.#A===me.HIGHLIGHT?this.#W(a):null;r?.toggleDrawing();const s=new AbortController,l=this.combinedSignal(s),c=d=>{d.type==="pointerup"&&d.button!==0||(s.abort(),r?.toggleDrawing(!0),d.type==="pointerup"&&this.#X("main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}}#X(t=""){this.#A===me.HIGHLIGHT?this.highlightSelection(t):this.#c&&this.#nt()}#at(){document.addEventListener("selectionchange",this.#it.bind(this),{signal:this._signal})}#rt(){if(this.#x)return;this.#x=new AbortController;const t=this.combinedSignal(this.#x);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#st(){this.#x?.abort(),this.#x=null}blur(){if(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#X("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const n of this.#S)if(n.div.contains(t)){this.#O=[n,t],n._focusEventsAllowed=!1;break}}focus(){if(!this.#O)return;const[t,n]=this.#O;this.#O=null,n.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}#Q(){if(this.#T)return;this.#T=new AbortController;const t=this.combinedSignal(this.#T);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ot(){this.#T?.abort(),this.#T=null}#Z(){if(this.#d)return;this.#d=new AbortController;const t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#J(){this.#d?.abort(),this.#d=null}#lt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#Q(),this.#Z()}removeEditListeners(){this.#ot(),this.#J()}dragOver(t){for(const{type:n}of t.dataTransfer.items)for(const i of this.#p)if(i.isHandlingMimeForPasting(n)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const n of t.dataTransfer.items)for(const i of this.#p)if(i.isHandlingMimeForPasting(n.type)){i.paste(n,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of this.#S){const a=i.serialize(!0);a&&n.push(a)}n.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:n}=t;for(const r of n.items)for(const s of this.#p)if(s.isHandlingMimeForPasting(r.type)){s.paste(r,this.currentLayer);return}let i=n.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(r){ve(`paste: "${r.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const a=this.currentLayer;try{const r=[];for(const c of i){const d=await a.deserialize(c);if(!d)return;r.push(d)}const s=()=>{for(const c of r)this.#tt(c);this.#et(r)},l=()=>{for(const c of r)c.remove()};this.addCommands({cmd:s,undo:l,mustExec:!0})}catch(r){ve(`paste: "${r.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#A!==me.NONE&&!this.isEditorHandlingKeyboard&&xu._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#X("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#D(t){Object.entries(t).some(([i,a])=>this.#V[i]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#V,t)}),this.#A===me.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#I([[Ye.HIGHLIGHT_FREE,!0]]))}#I(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#rt(),this.#Z(),this.#D({isEditing:this.#A!==me.NONE,isEmpty:this.#Y(),hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:this.#s.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#st(),this.#J(),this.#D({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#p){this.#p=t;for(const n of this.#p)this.#I(n.defaultPropertiesToUpdate)}}getId(){return this.#M.id}get currentLayer(){return this.#i.get(this.#h)}getLayer(t){return this.#i.get(t)}get currentPageIndex(){return this.#h}addLayer(t){this.#i.set(t.pageIndex,t),this.#E?t.enable():t.disable()}removeLayer(t){this.#i.delete(t.pageIndex)}async updateMode(t,n=null,i=!1,a=!1){if(this.#A!==t&&!(this.#j&&(await this.#j.promise,!this.#j))){if(this.#j=Promise.withResolvers(),this.#l?.commitOrRemove(),this.#A=t,t===me.NONE){this.setEditingState(!1),this.#ut(),this._editorUndoBar?.hide(),this.#j.resolve();return}t===me.SIGNATURE&&await this.#B?.loadSignatures(),this.setEditingState(!0),await this.#ct(),this.unselectAll();for(const r of this.#i.values())r.updateMode(t);if(!n){i&&this.addNewEditorFromKeyboard(),this.#j.resolve();return}for(const r of this.#n.values())r.annotationElementId===n||r.id===n?(this.setSelected(r),a&&r.enterInEditMode()):r.unselect();this.#j.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#A&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,n){if(this.#p){switch(t){case Ye.CREATE:this.currentLayer.addNewEditor(n);return;case Ye.HIGHLIGHT_DEFAULT_COLOR:this.#N?.updateColor(n);break;case Ye.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#q||=new Map).set(t,n),this.showAllEditors("highlight",n);break}for(const i of this.#S)i.updateParams(t,n);for(const i of this.#p)i.updateDefaultParams(t,n)}}showAllEditors(t,n,i=!1){for(const r of this.#n.values())r.editorType===t&&r.show(n);(this.#q?.get(Ye.HIGHLIGHT_SHOW_ALL)??!0)!==n&&this.#I([[Ye.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(t=!1){if(this.#R!==t){this.#R=t;for(const n of this.#i.values())t?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",t)}}async#ct(){if(!this.#E){this.#E=!0;const t=[];for(const n of this.#i.values())t.push(n.enable());await Promise.all(t);for(const n of this.#n.values())n.enable()}}#ut(){if(this.unselectAll(),this.#E){this.#E=!1;for(const t of this.#i.values())t.disable();for(const t of this.#n.values())t.disable()}}getEditors(t){const n=[];for(const i of this.#n.values())i.pageIndex===t&&n.push(i);return n}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.focusMainContainer(),this.#b=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#P?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#u.has(t.annotationElementId))&&this.#a?.remove(t.id)}addDeletedAnnotationElement(t){this.#u.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#u.has(t)}removeDeletedAnnotationElement(t){this.#u.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#tt(t){const n=this.#i.get(t.pageIndex);n?n.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#I(t.propertiesToUpdate))}get#dt(){let t=null;for(t of this.#S);return t}updateUI(t){this.#dt===t&&this.#I(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#I(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#S.has(t)){this.#S.delete(t),t.unselect(),this.#D({hasSelectedEditor:this.hasSelection});return}this.#S.add(t),t.select(),this.#I(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#l?.commitOrRemove();for(const n of this.#S)n!==t&&n.unselect();this.#S.clear(),this.#S.add(t),t.select(),this.#I(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}isSelected(t){return this.#S.has(t)}get firstSelectedEditor(){return this.#S.values().next().value}unselect(t){t.unselect(),this.#S.delete(t),this.#D({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#S.size!==0}get isEnterHandled(){return this.#S.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#s.undo(),this.#D({hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Y()}),this._editorUndoBar?.hide()}redo(){this.#s.redo(),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:this.#s.hasSomethingToRedo(),isEmpty:this.#Y()})}addCommands(t){this.#s.add(t),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Y()})}cleanUndoStack(t){this.#s.cleanType(t)}#Y(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const n=t?[t]:[...this.#S],i=()=>{this._editorUndoBar?.show(a,n.length===1?n[0].editorType:n.length);for(const r of n)r.remove()},a=()=>{for(const r of n)this.#tt(r)};this.addCommands({cmd:i,undo:a,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#et(t){for(const n of this.#S)n.unselect();this.#S.clear();for(const n of t)n.isEmpty()||(this.#S.add(n),n.select());this.#D({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#S)t.commit();this.#et(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#A!==me.NONE))&&!this.#l?.commitOrRemove()&&this.hasSelection){for(const t of this.#S)t.unselect();this.#S.clear(),this.#D({hasSelectedEditor:!1})}}translateSelectedEditors(t,n,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;this.#U[0]+=t,this.#U[1]+=n;const[a,r]=this.#U,s=[...this.#S],l=1e3;this.#L&&clearTimeout(this.#L),this.#L=setTimeout(()=>{this.#L=null,this.#U[0]=this.#U[1]=0,this.addCommands({cmd:()=>{for(const c of s)this.#n.has(c.id)&&(c.translateInPage(a,r),c.translationDone())},undo:()=>{for(const c of s)this.#n.has(c.id)&&(c.translateInPage(-a,-r),c.translationDone())},mustExec:!1})},l);for(const c of s)c.translateInPage(t,n),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const t of this.#S)this.#f.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const t=this.#f;this.#f=null;let n=!1;for(const[{x:a,y:r,pageIndex:s},l]of t)l.newX=a,l.newY=r,l.newPageIndex=s,n||=a!==l.savedX||r!==l.savedY||s!==l.savedPageIndex;if(!n)return!1;const i=(a,r,s,l)=>{if(this.#n.has(a.id)){const c=this.#i.get(l);c?a._setParentAndPosition(c,r,s):(a.pageIndex=l,a.x=r,a.y=s)}};return this.addCommands({cmd:()=>{for(const[a,{newX:r,newY:s,newPageIndex:l}]of t)i(a,r,s,l)},undo:()=>{for(const[a,{savedX:r,savedY:s,savedPageIndex:l}]of t)i(a,r,s,l)},mustExec:!0}),!0}dragSelectedEditors(t,n){if(this.#f)for(const i of this.#f.keys())i.drag(t,n)}rebuild(t){if(t.parent===null){const n=this.getLayer(t.pageIndex);n?(n.changeParent(t),n.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#S.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#A}get imageManager(){return ze(this,"imageManager",new fT)}getSelectionBoxes(t){if(!t)return null;const n=document.getSelection();for(let d=0,f=n.rangeCount;d<f;d++)if(!t.contains(n.getRangeAt(d).commonAncestorContainer))return null;const{x:i,y:a,width:r,height:s}=t.getBoundingClientRect();let l;switch(t.getAttribute("data-main-rotation")){case"90":l=(d,f,m,v)=>({x:(f-a)/s,y:1-(d+m-i)/r,width:v/s,height:m/r});break;case"180":l=(d,f,m,v)=>({x:1-(d+m-i)/r,y:1-(f+v-a)/s,width:m/r,height:v/s});break;case"270":l=(d,f,m,v)=>({x:1-(f+v-a)/s,y:(d-i)/r,width:v/s,height:m/r});break;default:l=(d,f,m,v)=>({x:(d-i)/r,y:(f-a)/s,width:m/r,height:v/s});break}const c=[];for(let d=0,f=n.rangeCount;d<f;d++){const m=n.getRangeAt(d);if(!m.collapsed)for(const{x:v,y,width:x,height:_}of m.getClientRects())x===0||_===0||c.push(l(v,y,x,_))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:t,id:n}){(this.#o||=new Map).set(t,n)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const n=this.#o?.get(t.data.id);if(!n)return;const i=this.#a.getRawValue(n);i&&(this.#A===me.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,n,i){const a=this.#P?.get(t);a&&(a.setCanvas(n,i),this.#P.delete(t))}addMissingCanvas(t,n){(this.#P||=new Map).set(t,n)}}class Qo{#t=null;#e=!1;#n=null;#i=null;#r=null;#a=null;#o=!1;#s=null;#d=null;#l=null;#h=null;#u=!1;static#f=null;static _l10n=null;constructor(t){this.#d=t,this.#u=t._uiManager.useNewAltTextFlow,Qo.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Qo._l10n??=t}async render(){const t=this.#n=document.createElement("button");t.className="altText",t.tabIndex="0";const n=this.#i=document.createElement("span");t.append(n),this.#u?(t.classList.add("new"),t.setAttribute("data-l10n-id",Qo.#f.missing),n.setAttribute("data-l10n-id",Qo.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=this.#d._uiManager._signal;t.addEventListener("contextmenu",Js,{signal:i}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:i});const a=r=>{r.preventDefault(),this.#d._uiManager.editAltText(this.#d),this.#u&&this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#p}})};return t.addEventListener("click",a,{capture:!0,signal:i}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(this.#o=!0,a(r))},{signal:i}),await this.#g(),t}get#p(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#o}),this.#o=!1)}isEmpty(){return this.#u?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#u?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#h=await Qo._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#g())}toggleAltTextBadge(t=!1){if(!this.#u||this.#t){this.#s?.remove(),this.#s=null;return}if(!this.#s){const n=this.#s=document.createElement("div");n.className="noAltTextBadge",this.#d.div.append(n)}this.#s.classList.toggle("hidden",!t)}serialize(t){let n=this.#t;return!t&&this.#l===n&&(n=this.#h),{altText:n,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:n,guessedText:i,textWithDisclaimer:a,cancel:r=!1}){i&&(this.#l=i,this.#h=a),!(this.#t===t&&this.#e===n)&&(r||(this.#t=t,this.#e=n),this.#g())}toggle(t=!1){this.#n&&(!t&&this.#a&&(clearTimeout(this.#a),this.#a=null),this.#n.disabled=!t)}shown(){this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#p}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#r=null,this.#s?.remove(),this.#s=null}async#g(){const t=this.#n;if(!t)return;if(this.#u){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Qo.#f[this.#p]),this.#i?.setAttribute("data-l10n-id",Qo.#f[`${this.#p}-label`]),!this.#t){this.#r?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#r?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=this.#r;if(!n){this.#r=n=document.createElement("span"),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${this.#d.id}`;const a=100,r=this.#d._uiManager._signal;r.addEventListener("abort",()=>{clearTimeout(this.#a),this.#a=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#r.classList.add("show"),this.#d._reportTelemetry({action:"alt_text_tooltip"})},a)},{signal:r}),t.addEventListener("mouseleave",()=>{this.#a&&(clearTimeout(this.#a),this.#a=null),this.#r?.classList.remove("show")},{signal:r})}this.#e?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=this.#t),n.parentNode||t.append(n),this.#d.getElementForAltText()?.setAttribute("aria-describedby",n.id)}}class Ox{#t;#e=!1;#n=null;#i;#r;#a;#o;#s=null;#d;#l=null;#h;#u=null;constructor({container:t,isPinchingDisabled:n=null,isPinchingStopped:i=null,onPinchStart:a=null,onPinching:r=null,onPinchEnd:s=null,signal:l}){this.#t=t,this.#n=i,this.#i=n,this.#r=a,this.#a=r,this.#o=s,this.#h=new AbortController,this.#d=AbortSignal.any([l,this.#h.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#d})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/nl.pixelRatio}#f(t){if(this.#i?.())return;if(t.touches.length===1){if(this.#s)return;const a=this.#s=new AbortController,r=AbortSignal.any([this.#d,a.signal]),s=this.#t,l={capture:!0,signal:r,passive:!1},c=d=>{d.pointerType==="touch"&&(this.#s?.abort(),this.#s=null)};s.addEventListener("pointerdown",d=>{d.pointerType==="touch"&&(mi(d),c(d))},l),s.addEventListener("pointerup",c,l),s.addEventListener("pointercancel",c,l);return}if(!this.#u){this.#u=new AbortController;const a=AbortSignal.any([this.#d,this.#u.signal]),r=this.#t,s={signal:a,capture:!1,passive:!1};r.addEventListener("touchmove",this.#p.bind(this),s);const l=this.#g.bind(this);r.addEventListener("touchend",l,s),r.addEventListener("touchcancel",l,s),s.capture=!0,r.addEventListener("pointerdown",mi,s),r.addEventListener("pointermove",mi,s),r.addEventListener("pointercancel",mi,s),r.addEventListener("pointerup",mi,s),this.#r?.()}if(mi(t),t.touches.length!==2||this.#n?.()){this.#l=null;return}let[n,i]=t.touches;n.identifier>i.identifier&&([n,i]=[i,n]),this.#l={touch0X:n.screenX,touch0Y:n.screenY,touch1X:i.screenX,touch1Y:i.screenY}}#p(t){if(!this.#l||t.touches.length!==2)return;mi(t);let[n,i]=t.touches;n.identifier>i.identifier&&([n,i]=[i,n]);const{screenX:a,screenY:r}=n,{screenX:s,screenY:l}=i,c=this.#l,{touch0X:d,touch0Y:f,touch1X:m,touch1Y:v}=c,y=m-d,x=v-f,_=s-a,E=l-r,R=Math.hypot(_,E)||1,A=Math.hypot(y,x)||1;if(!this.#e&&Math.abs(A-R)<=Ox.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=a,c.touch0Y=r,c.touch1X=s,c.touch1Y=l,!this.#e){this.#e=!0;return}const w=[(a+s)/2,(r+l)/2];this.#a?.(w,A,R)}#g(t){t.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#o?.()),this.#l&&(mi(t),this.#l=null,this.#e=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#s?.abort(),this.#s=null}}class ne{#t=null;#e=null;#n=null;#i=!1;#r=null;#a="";#o=!1;#s=null;#d=null;#l=null;#h=null;#u="";#f=!1;#p=null;#g=!1;#c=!1;#m=!1;#v=null;#y=0;#b=0;#x=null;#_=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#w=!1;#C=ne._zIndex++;static _borderLineWidth=-1;static _colorManager=new pT;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=ne.prototype._resizeWithKeyboard,n=xu.TRANSLATE_SMALL,i=xu.TRANSLATE_BIG;return ze(this,"_resizerKeyboardManager",new Ev([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],ne.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null;const{rotation:n,rawDims:{pageWidth:i,pageHeight:a,pageX:r,pageY:s}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,a],this.pageTranslation=[r,s];const[l,c]=this.parentDimensions;this.x=t.x/l,this.y=t.y/c,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return ze(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const n=new uot({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});n.annotationElementId=t.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(t,n){if(ne._l10n??=t,ne._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),ne._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);ne._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,n){xn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#w}set _isDraggable(t){this.#w=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(t*2),this.y+=this.width*t/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(t*2),this.y-=this.width*t/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#C}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#H(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,n,i,a){const[r,s]=this.parentDimensions;[i,a]=this.screenToPageTranslation(i,a),this.x=(t+i)/r,this.y=(n+a)/s,this.fixAndSetPosition()}_moveAfterPaste(t,n){const[i,a]=this.parentDimensions;this.setAt(t*i,n*a,this.width*i,this.height*a),this._onTranslated()}#M([t,n],i,a){[i,a]=this.screenToPageTranslation(i,a),this.x+=i/t,this.y+=a/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,n){this.#M(this.parentDimensions,t,n)}translateInPage(t,n){this.#p||=[this.x,this.y,this.width,this.height],this.#M(this.pageDimensions,t,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,n){this.#p||=[this.x,this.y,this.width,this.height];const{div:i,parentDimensions:[a,r]}=this;if(this.x+=t/a,this.y+=n/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:l}=this;const[c,d]=this.getBaseTranslation();s+=c,l+=d;const{style:f}=i;f.left=`${(100*s).toFixed(2)}%`,f.top=`${(100*l).toFixed(2)}%`,this._onTranslating(s,l),i.scrollIntoView({block:"nearest"})}_onTranslating(t,n){}_onTranslated(t,n){}get _hasBeenMoved(){return!!this.#p&&(this.#p[0]!==this.x||this.#p[1]!==this.y)}get _hasBeenResized(){return!!this.#p&&(this.#p[2]!==this.width||this.#p[3]!==this.height)}getBaseTranslation(){const[t,n]=this.parentDimensions,{_borderLineWidth:i}=ne,a=i/t,r=i/n;switch(this.rotation){case 90:return[-a,r];case 180:return[a,r];case 270:return[a,-r];default:return[-a,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:n},pageDimensions:[i,a]}=this;let{x:r,y:s,width:l,height:c}=this;if(l*=i,c*=a,r*=i,s*=a,this._mustFixPosition)switch(t){case 0:r=ja(r,0,i-l),s=ja(s,0,a-c);break;case 90:r=ja(r,0,i-c),s=ja(s,l,a);break;case 180:r=ja(r,l,i),s=ja(s,c,a);break;case 270:r=ja(r,c,i),s=ja(s,0,a-l);break}this.x=r/=i,this.y=s/=a;const[d,f]=this.getBaseTranslation();r+=d,s+=f,n.left=`${(100*r).toFixed(2)}%`,n.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}static#E(t,n,i){switch(i){case 90:return[n,-t];case 180:return[-t,-n];case 270:return[-n,t];default:return[t,n]}}screenToPageTranslation(t,n){return ne.#E(t,n,this.parentRotation)}pageTranslationToScreen(t,n){return ne.#E(t,n,360-this.parentRotation)}#R(t){switch(t){case 90:{const[n,i]=this.pageDimensions;return[0,-n/i,i/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,i]=this.pageDimensions;return[0,n/i,-i/n,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[n,i]}=this;return[n*t,i*t]}setDims(t,n){const[i,a]=this.parentDimensions,{style:r}=this.div;r.width=`${(100*t/i).toFixed(2)}%`,this.#o||(r.height=`${(100*n/a).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:n,width:i}=t,a=i.endsWith("%"),r=!this.#o&&n.endsWith("%");if(a&&r)return;const[s,l]=this.parentDimensions;a||(t.width=`${(100*parseFloat(i)/s).toFixed(2)}%`),!this.#o&&!r&&(t.height=`${(100*parseFloat(n)/l).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#T(){if(this.#s)return;this.#s=document.createElement("div"),this.#s.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const i of t){const a=document.createElement("div");this.#s.append(a),a.classList.add("resizer",i),a.setAttribute("data-resizer-name",i),a.addEventListener("pointerdown",this.#O.bind(this,i),{signal:n}),a.addEventListener("contextmenu",Js,{signal:n}),a.tabIndex=-1}this.div.prepend(this.#s)}#O(t,n){n.preventDefault();const{isMac:i}=aa.platform;if(n.button!==0||n.ctrlKey&&i)return;this.#n?.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,this.#d=[n.screenX,n.screenY];const r=new AbortController,s=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#z.bind(this,t),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",mi,{passive:!1,signal:s}),window.addEventListener("contextmenu",Js,{signal:s}),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const l=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const d=()=>{r.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=l,this.div.style.cursor=c,this.#P()};window.addEventListener("pointerup",d,{signal:s}),window.addEventListener("blur",d,{signal:s})}#N(t,n,i,a){this.width=i,this.height=a,this.x=t,this.y=n;const[r,s]=this.parentDimensions;this.setDims(r*i,s*a),this.fixAndSetPosition(),this._onResized()}_onResized(){}#P(){if(!this.#l)return;const{savedX:t,savedY:n,savedWidth:i,savedHeight:a}=this.#l;this.#l=null;const r=this.x,s=this.y,l=this.width,c=this.height;r===t&&s===n&&l===i&&c===a||this.addCommands({cmd:this.#N.bind(this,r,s,l,c),undo:this.#N.bind(this,t,n,i,a),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#z(t,n){const[i,a]=this.parentDimensions,r=this.x,s=this.y,l=this.width,c=this.height,d=ne.MIN_SIZE/i,f=ne.MIN_SIZE/a,m=this.#R(this.rotation),v=(Z,B)=>[m[0]*Z+m[2]*B,m[1]*Z+m[3]*B],y=this.#R(360-this.rotation),x=(Z,B)=>[y[0]*Z+y[2]*B,y[1]*Z+y[3]*B];let _,E,R=!1,A=!1;switch(t){case"topLeft":R=!0,_=(Z,B)=>[0,0],E=(Z,B)=>[Z,B];break;case"topMiddle":_=(Z,B)=>[Z/2,0],E=(Z,B)=>[Z/2,B];break;case"topRight":R=!0,_=(Z,B)=>[Z,0],E=(Z,B)=>[0,B];break;case"middleRight":A=!0,_=(Z,B)=>[Z,B/2],E=(Z,B)=>[0,B/2];break;case"bottomRight":R=!0,_=(Z,B)=>[Z,B],E=(Z,B)=>[0,0];break;case"bottomMiddle":_=(Z,B)=>[Z/2,B],E=(Z,B)=>[Z/2,0];break;case"bottomLeft":R=!0,_=(Z,B)=>[0,B],E=(Z,B)=>[Z,0];break;case"middleLeft":A=!0,_=(Z,B)=>[0,B/2],E=(Z,B)=>[Z,B/2];break}const w=_(l,c),M=E(l,c);let D=v(...M);const P=ne._round(r+D[0]),z=ne._round(s+D[1]);let L=1,U=1,I,q;if(n.fromKeyboard)({deltaX:I,deltaY:q}=n);else{const{screenX:Z,screenY:B}=n,[V,W]=this.#d;[I,q]=this.screenToPageTranslation(Z-V,B-W),this.#d[0]=Z,this.#d[1]=B}if([I,q]=x(I/i,q/a),R){const Z=Math.hypot(l,c);L=U=Math.max(Math.min(Math.hypot(M[0]-w[0]-I,M[1]-w[1]-q)/Z,1/l,1/c),d/l,f/c)}else A?L=ja(Math.abs(M[0]-w[0]-I),d,1)/l:U=ja(Math.abs(M[1]-w[1]-q),f,1)/c;const J=ne._round(l*L),it=ne._round(c*U);D=v(...E(J,it));const at=P-D[0],et=z-D[1];this.#p||=[this.x,this.y,this.width,this.height],this.width=J,this.height=it,this.x=at,this.y=et,this.setDims(i*J,a*it),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#c)return this._editToolbar;this._editToolbar=new D0(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[n,i]of t)await this._editToolbar.addButton(n,i);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(t){const n=this._editToolbar?.div;n?n.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#n||(Qo.initialize(ne._l10n),this.#n=new Qo(this),this.#t&&(this.#n.data=this.#t,this.#t=null)),this.#n}get altTextData(){return this.#n?.data}set altTextData(t){this.#n&&(this.#n.data=t)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(t){await this.#n?.setGuessedText(t)}serializeAltText(t){return this.#n?.serialize(t)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#i?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#q();const[n,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/n).toFixed(2)}%`,t.style.maxHeight=`${(100*n/i).toFixed(2)}%`);const[a,r]=this.getInitialTranslation();return this.translate(a,r),yj(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#_||=new Ox({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#A.bind(this),onPinching:this.#S.bind(this),onPinchEnd:this.#F.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),t}#A(){this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#S(t,n,i){let r=.7*(i/n)+1-.7;if(r===1)return;const s=this.#R(this.rotation),l=(P,z)=>[s[0]*P+s[2]*z,s[1]*P+s[3]*z],[c,d]=this.parentDimensions,f=this.x,m=this.y,v=this.width,y=this.height,x=ne.MIN_SIZE/c,_=ne.MIN_SIZE/d;r=Math.max(Math.min(r,1/v,1/y),x/v,_/y);const E=ne._round(v*r),R=ne._round(y*r);if(E===v&&R===y)return;this.#p||=[f,m,v,y];const A=l(v/2,y/2),w=ne._round(f+A[0]),M=ne._round(m+A[1]),D=l(E/2,R/2);this.x=w-D[0],this.y=M-D[1],this.width=E,this.height=R,this.setDims(c*E,d*R),this.fixAndSetPosition(),this._onResizing()}#F(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#P()}pointerdown(t){const{isMac:n}=aa.platform;if(t.button!==0||t.ctrlKey&&n){t.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#G(t);return}this.#B(t)}#B(t){const{isMac:n}=aa.platform;t.ctrlKey&&!n||t.shiftKey||t.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)}#G(t){const{isSelected:n}=this;this._uiManager.setUpDragSession();let i=!1;const a=new AbortController,r=this._uiManager.combinedSignal(a),s={capture:!0,passive:!1,signal:r},l=d=>{a.abort(),this.#r=null,this.#f=!1,this._uiManager.endDragSession()||this.#B(d),i&&this._onStopDragging()};n&&(this.#y=t.clientX,this.#b=t.clientY,this.#r=t.pointerId,this.#a=t.pointerType,window.addEventListener("pointermove",d=>{i||(i=!0,this._onStartDragging());const{clientX:f,clientY:m,pointerId:v}=d;if(v!==this.#r){mi(d);return}const[y,x]=this.screenToPageTranslation(f-this.#y,m-this.#b);this.#y=f,this.#b=m,this._uiManager.dragSelectedEditors(y,x)},s),window.addEventListener("touchmove",mi,s),window.addEventListener("pointerdown",d=>{d.pointerType===this.#a&&(this.#_||d.isPrimary)&&l(d),mi(d)},s));const c=d=>{if(!this.#r||this.#r===d.pointerId){l(d);return}mi(d)};window.addEventListener("pointerup",c,{signal:r}),window.addEventListener("blur",c,{signal:r})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,n,i){t.changeParent(this),this.x=n,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,n,i=this.rotation){const a=this.parentScale,[r,s]=this.pageDimensions,[l,c]=this.pageTranslation,d=t/a,f=n/a,m=this.x*r,v=this.y*s,y=this.width*r,x=this.height*s;switch(i){case 0:return[m+d+l,s-v-f-x+c,m+d+y+l,s-v-f+c];case 90:return[m+f+l,s-v+d+c,m+f+x+l,s-v+d+y+c];case 180:return[m-d-y+l,s-v+f+c,m-d+l,s-v+f+x+c];case 270:return[m-f-x+l,s-v-d-y+c,m-f+l,s-v-d+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,n){const[i,a,r,s]=t,l=r-i,c=s-a;switch(this.rotation){case 0:return[i,n-s,l,c];case 90:return[i,n-a,c,l];case 180:return[r,n-a,l,c];case 270:return[r,n-s,c,l];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#c=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#c=!1,!0):!1}isInEditMode(){return this.#c}shouldGetKeyboardEvents(){return this.#m}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:n,bottom:i,right:a}=this.getClientDimensions(),{innerHeight:r,innerWidth:s}=window;return n<s&&a>0&&t<r&&i>0}#q(){if(this.#h||!this.div)return;this.#h=new AbortController;const t=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#q()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,n=null){xn("An editor must be serializable")}static async deserialize(t,n,i){const a=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:i,annotationElementId:t.annotationElementId});a.rotation=t.rotation,a.#t=t.accessibilityData,a._isCopy=t.isCopy||!1;const[r,s]=a.pageDimensions,[l,c,d,f]=a.getRectInCurrentCoords(t.rect,s);return a.x=l/r,a.y=c/s,a.width=d/r,a.height=f/s,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#H(),this.removeEditToolbar(),this.#x){for(const t of this.#x.values())clearTimeout(t);this.#x=null}this.parent=null,this.#_?.destroy(),this.#_=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#T(),this.#s.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const n=this.#s.children;if(!this.#e){this.#e=Array.from(n);const s=this.#V.bind(this),l=this.#U.bind(this),c=this._uiManager._signal;for(const d of this.#e){const f=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",s,{signal:c}),d.addEventListener("blur",l,{signal:c}),d.addEventListener("focus",this.#L.bind(this,f),{signal:c}),d.setAttribute("data-l10n-id",ne._l10nResizer[f])}}const i=this.#e[0];let a=0;for(const s of n){if(s===i)break;a++}const r=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(r!==a){if(r<a)for(let l=0;l<a-r;l++)this.#s.append(this.#s.firstChild);else if(r>a)for(let l=0;l<r-a;l++)this.#s.firstChild.before(this.#s.lastChild);let s=0;for(const l of n){const d=this.#e[s++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",ne._l10nResizer[d])}}this.#k(0),this.#m=!0,this.#s.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#V(t){ne._resizerKeyboardManager.exec(this,t)}#U(t){this.#m&&t.relatedTarget?.parentNode!==this.#s&&this.#H()}#L(t){this.#u=this.#m?t:""}#k(t){if(this.#e)for(const n of this.#e)n.tabIndex=t}_resizeWithKeyboard(t,n){this.#m&&this.#z(this.#u,{deltaX:t,deltaY:n,fromKeyboard:!0})}#H(){this.#m=!1,this.#k(-1),this.#P()}_stopResizingWithKeyboard(){this.#H(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#s?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0))}updateParams(t,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#g}set isEditing(t){this.#g=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,n){this.#o=!0;const i=t/n,{style:a}=this.div;a.aspectRatio=i,a.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,n=!1){if(n){this.#x||=new Map;const{action:i}=t;let a=this.#x.get(i);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(t),this.#x.delete(i),this.#x.size===0&&(this.#x=null)},ne._telemetryTimeout),this.#x.set(i,a);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(t){let n=t.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),t.container.prepend(n);else if(n.nodeName==="CANVAS"){const i=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),i.before(n)}return n}resetAnnotationElement(t){const{firstChild:n}=t.container;n?.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}}class uot extends ne{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const dO=3285377520,is=4294901760,Ko=65535;class bj{constructor(t){this.h1=t?t&4294967295:dO,this.h2=t?t&4294967295:dO}update(t){let n,i;if(typeof t=="string"){n=new Uint8Array(t.length*2),i=0;for(let _=0,E=t.length;_<E;_++){const R=t.charCodeAt(_);R<=255?n[i++]=R:(n[i++]=R>>>8,n[i++]=R&255)}}else if(ArrayBuffer.isView(t))n=t.slice(),i=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=i>>2,r=i-a*4,s=new Uint32Array(n.buffer,0,a);let l=0,c=0,d=this.h1,f=this.h2;const m=3432918353,v=461845907,y=m&Ko,x=v&Ko;for(let _=0;_<a;_++)_&1?(l=s[_],l=l*m&is|l*y&Ko,l=l<<15|l>>>17,l=l*v&is|l*x&Ko,d^=l,d=d<<13|d>>>19,d=d*5+3864292196):(c=s[_],c=c*m&is|c*y&Ko,c=c<<15|c>>>17,c=c*v&is|c*x&Ko,f^=c,f=f<<13|f>>>19,f=f*5+3864292196);switch(l=0,r){case 3:l^=n[a*4+2]<<16;case 2:l^=n[a*4+1]<<8;case 1:l^=n[a*4],l=l*m&is|l*y&Ko,l=l<<15|l>>>17,l=l*v&is|l*x&Ko,a&1?d^=l:f^=l}this.h1=d,this.h2=f}hexdigest(){let t=this.h1,n=this.h2;return t^=n>>>1,t=t*3981806797&is|t*36045&Ko,n=n*4283543511&is|((n<<16|t>>>16)*2950163797&is)>>>16,t^=n>>>1,t=t*444984403&is|t*60499&Ko,n=n*3301882366&is|((n<<16|t>>>16)*3120437893&is)>>>16,t^=n>>>1,(t>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const VA=Object.freeze({map:null,hash:"",transfer:void 0});class gT{#t=!1;#e=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,n){const i=this.#n.get(t);return i===void 0?n:Object.assign(n,i)}getRawValue(t){return this.#n.get(t)}remove(t){if(this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of this.#n.values())if(n instanceof ne)return;this.onAnnotationEditor(null)}}setValue(t,n){const i=this.#n.get(t);let a=!1;if(i!==void 0)for(const[r,s]of Object.entries(n))i[r]!==s&&(a=!0,i[r]=s);else a=!0,this.#n.set(t,n);a&&this.#i(),n instanceof ne&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(t){return this.#n.has(t)}get size(){return this.#n.size}#i(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new xj(this)}get serializable(){if(this.#n.size===0)return VA;const t=new Map,n=new bj,i=[],a=Object.create(null);let r=!1;for(const[s,l]of this.#n){const c=l instanceof ne?l.serialize(!1,a):l;c&&(t.set(s,c),n.update(`${s}:${JSON.stringify(c)}`),r||=!!c.bitmap)}if(r)for(const s of t.values())s.bitmap&&i.push(s.bitmap);return t.size>0?{map:t,hash:n.hexdigest(),transfer:i}:VA}get editorStats(){let t=null;const n=new Map;for(const i of this.#n.values()){if(!(i instanceof ne))continue;const a=i.telemetryFinalData;if(!a)continue;const{type:r}=a;n.has(r)||n.set(r,Object.getPrototypeOf(i).constructor),t||=Object.create(null);const s=t[r]||=new Map;for(const[l,c]of Object.entries(a)){if(l==="type")continue;let d=s.get(l);d||(d=new Map,s.set(l,d));const f=d.get(c)??0;d.set(c,f+1)}}for(const[i,a]of n)t[i]=a.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){this.#e=null}get modifiedIds(){if(this.#e)return this.#e;const t=[];for(const n of this.#n.values())!(n instanceof ne)||!n.annotationElementId||!n.serialize()||t.push(n.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class xj extends gT{#t;constructor(t){super();const{map:n,hash:i,transfer:a}=t.serializable,r=structuredClone(n,a?{transfer:a}:null);this.#t={map:r,hash:i,transfer:a}}get print(){xn("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return ze(this,"modifiedIds",{ids:new Set,hash:""})}}class dot{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:n=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(t,n.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:n,_inspectFont:i}){if(!(!t||this.#t.has(t.loadedName))){if(vi(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:r,style:s}=t,l=new FontFace(a,r,s);this.addNativeFontFace(l);try{await l.load(),this.#t.add(a),i?.(t)}catch{ve(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}xn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(a){throw ve(`Failed to load font '${i.family}': '${a}'.`),t.disableFontFace=!0,a}}return}const n=t.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const a=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,a)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return ze(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return ze(this,"isSyncFontLoadingSupported",ka||aa.platform.isFirefox)}_queueLoadingCallback(t){function n(){for(vi(!a.done,"completeRequest() cannot be called twice."),a.done=!0;i.length>0&&i[0].done;){const r=i.shift();setTimeout(r.callback,0)}}const{loadingRequests:i}=this,a={done:!1,complete:n,callback:t};return i.push(a),a}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ze(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,n){function i(M,D){return M.charCodeAt(D)<<24|M.charCodeAt(D+1)<<16|M.charCodeAt(D+2)<<8|M.charCodeAt(D+3)&255}function a(M,D,P,z){const L=M.substring(0,D),U=M.substring(D+P);return L+z+U}let r,s;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let d=0;function f(M,D){if(++d>30){ve("Load test font never loaded."),D();return}if(c.font="30px "+M,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){D();return}setTimeout(f.bind(null,M,D))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=a(v,976,m.length,m);const x=16,_=1482184792;let E=i(v,x);for(r=0,s=m.length-3;r<s;r+=4)E=E-_+i(m,r)|0;r<m.length&&(E=E-_+i(m+"XXX",r)|0),v=a(v,x,4,$st(E));const R=`url(data:font/opentype;base64,${btoa(v)});`,A=`@font-face {font-family:"${m}";src:${R}}`;this.insertRule(A);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const M of[t.loadedName,m]){const D=this._document.createElement("span");D.textContent="Hi",D.style.fontFamily=M,w.append(D)}this._document.body.append(w),f(m,()=>{w.remove(),n.complete()})}}class hot{constructor(t,n=null){this.compiledGlyphs=Object.create(null);for(const i in t)this[i]=t[i];this._inspectFont=n}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${mj(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return this._inspectFont?.(this,t),n}getPathGenerator(t,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const i=this.loadedName+"_path_"+n;let a;try{a=t.get(i)}catch(s){ve(`getPathGenerator - ignoring character: "${s}".`)}const r=new Path2D(a||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[n]=r}}function fot(e){if(e instanceof URL)return e.href;if(typeof e=="string"){if(ka)return e;const t=URL.parse(e,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function pot(e){if(ka&&typeof Buffer<"u"&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if(typeof e=="string")return Sv(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||typeof e=="object"&&!isNaN(e?.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Sb(e){if(typeof e!="string")return null;if(e.endsWith("/"))return e;throw new Error(`Invalid factory url: "${e}" must include trailing slash.`)}const YA=e=>typeof e=="object"&&Number.isInteger(e?.num)&&e.num>=0&&Number.isInteger(e?.gen)&&e.gen>=0,got=e=>typeof e=="object"&&typeof e?.name=="string",mot=tot.bind(null,YA,got);class vot{#t=new Map;#e=Promise.resolve();postMessage(t,n){const i={data:structuredClone(t,n?{transfer:n}:null)};this.#e.then(()=>{for(const[a]of this.#t)a.call(this,i)})}addEventListener(t,n,i=null){let a=null;if(i?.signal instanceof AbortSignal){const{signal:r}=i;if(r.aborted){ve("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(t,n);a=()=>r.removeEventListener("abort",s),r.addEventListener("abort",s)}this.#t.set(n,a)}removeEventListener(t,n){this.#t.get(n)?.(),this.#t.delete(n)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const _b={DATA:1,ERROR:2},fi={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function hO(){}function nr(e){if(e instanceof bu||e instanceof GA||e instanceof lO||e instanceof w1||e instanceof pE)return e;switch(e instanceof Error||typeof e=="object"&&e!==null||xn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new bu(e.message);case"InvalidPDFException":return new GA(e.message);case"PasswordException":return new lO(e.message,e.code);case"ResponseException":return new w1(e.message,e.status,e.missing);case"UnknownErrorException":return new pE(e.message,e.details)}return new pE(e.message,e.toString())}class x0{#t=new AbortController;constructor(t,n,i){this.sourceName=t,this.targetName=n,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#i(t);return}if(t.callback){const i=t.callbackId,a=this.callbackCapabilities[i];if(!a)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===_b.DATA)a.resolve(t.data);else if(t.callback===_b.ERROR)a.reject(nr(t.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[t.action];if(!n)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,a=t.sourceName,r=this.comObj;Promise.try(n,t.data).then(function(s){r.postMessage({sourceName:i,targetName:a,callback:_b.DATA,callbackId:t.callbackId,data:s})},function(s){r.postMessage({sourceName:i,targetName:a,callback:_b.ERROR,callbackId:t.callbackId,reason:nr(s)})});return}if(t.streamId){this.#n(t);return}n(t.data)}on(t,n){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=n}send(t,n,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:n},i)}sendWithPromise(t,n,i){const a=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[a]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:n},i)}catch(s){r.reject(s)}return r.promise}sendWithStream(t,n,i,a){const r=this.streamId++,s=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:d=>{const f=Promise.withResolvers();return this.streamControllers[r]={controller:d,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:s,targetName:l,action:t,streamId:r,data:n,desiredSize:d.desiredSize},a),f.promise},pull:d=>{const f=Promise.withResolvers();return this.streamControllers[r].pullCall=f,c.postMessage({sourceName:s,targetName:l,stream:fi.PULL,streamId:r,desiredSize:d.desiredSize}),f.promise},cancel:d=>{vi(d instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[r].cancelCall=f,this.streamControllers[r].isClosed=!0,c.postMessage({sourceName:s,targetName:l,stream:fi.CANCEL,streamId:r,reason:nr(d)}),f.promise}},i)}#n(t){const n=t.streamId,i=this.sourceName,a=t.sourceName,r=this.comObj,s=this,l=this.actionHandler[t.action],c={enqueue(d,f=1,m){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=f,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:i,targetName:a,stream:fi.ENQUEUE,streamId:n,chunk:d},m)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:a,stream:fi.CLOSE,streamId:n}),delete s.streamSinks[n])},error(d){vi(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:a,stream:fi.ERROR,streamId:n,reason:nr(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[n]=c,Promise.try(l,t.data,c).then(function(){r.postMessage({sourceName:i,targetName:a,stream:fi.START_COMPLETE,streamId:n,success:!0})},function(d){r.postMessage({sourceName:i,targetName:a,stream:fi.START_COMPLETE,streamId:n,reason:nr(d)})})}#i(t){const n=t.streamId,i=this.sourceName,a=t.sourceName,r=this.comObj,s=this.streamControllers[n],l=this.streamSinks[n];switch(t.stream){case fi.START_COMPLETE:t.success?s.startCall.resolve():s.startCall.reject(nr(t.reason));break;case fi.PULL_COMPLETE:t.success?s.pullCall.resolve():s.pullCall.reject(nr(t.reason));break;case fi.PULL:if(!l){r.postMessage({sourceName:i,targetName:a,stream:fi.PULL_COMPLETE,streamId:n,success:!0});break}l.desiredSize<=0&&t.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=t.desiredSize,Promise.try(l.onPull||hO).then(function(){r.postMessage({sourceName:i,targetName:a,stream:fi.PULL_COMPLETE,streamId:n,success:!0})},function(d){r.postMessage({sourceName:i,targetName:a,stream:fi.PULL_COMPLETE,streamId:n,reason:nr(d)})});break;case fi.ENQUEUE:if(vi(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(t.chunk);break;case fi.CLOSE:if(vi(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),this.#r(s,n);break;case fi.ERROR:vi(s,"error should have stream controller"),s.controller.error(nr(t.reason)),this.#r(s,n);break;case fi.CANCEL_COMPLETE:t.success?s.cancelCall.resolve():s.cancelCall.reject(nr(t.reason)),this.#r(s,n);break;case fi.CANCEL:if(!l)break;const c=nr(t.reason);Promise.try(l.onCancel||hO,c).then(function(){r.postMessage({sourceName:i,targetName:a,stream:fi.CANCEL_COMPLETE,streamId:n,success:!0})},function(d){r.postMessage({sourceName:i,targetName:a,stream:fi.CANCEL_COMPLETE,streamId:n,reason:nr(d)})}),l.sinkCapability.reject(c),l.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}}async#r(t,n){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[n]}destroy(){this.#t?.abort(),this.#t=null}}class Sj{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,n){if(t<=0||n<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,n);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,n,i){if(!t.canvas)throw new Error("Canvas is not specified");if(n<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=n,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,n){xn("Abstract method `_createCanvas` called.")}}class yot extends Sj{constructor({ownerDocument:t=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=t}_createCanvas(t,n){const i=this._document.createElement("canvas");return i.width=t,i.height=n,i}}class _j{constructor({baseUrl:t=null,isCompressed:n=!0}){this.baseUrl=t,this.isCompressed=n}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(n).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(t){xn("Abstract method `_fetch` called.")}}class fO extends _j{async _fetch(t){const n=await _v(t,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):Sv(n)}}class wj{addFilter(t){return"none"}addHCMFilter(t,n){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,n,i,a,r){return"none"}destroy(t=!1){}}class bot extends wj{#t;#e;#n;#i;#r;#a;#o=0;constructor({docId:t,ownerDocument:n=globalThis.document}){super(),this.#i=t,this.#r=n}get#s(){return this.#e||=new Map}get#d(){return this.#a||=new Map}get#l(){if(!this.#n){const t=this.#r.createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=this.#r.createElementNS(Vl,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#n=this.#r.createElementNS(Vl,"defs"),t.append(i),i.append(this.#n),this.#r.body.append(t)}return this.#n}#h(t){if(t.length===1){const c=t[0],d=new Array(256);for(let m=0;m<256;m++)d[m]=c[m]/255;const f=d.join(",");return[f,f,f]}const[n,i,a]=t,r=new Array(256),s=new Array(256),l=new Array(256);for(let c=0;c<256;c++)r[c]=n[c]/255,s[c]=i[c]/255,l[c]=a[c]/255;return[r.join(","),s.join(","),l.join(",")]}#u(t){if(this.#t===void 0){this.#t="";const n=this.#r.URL;n!==this.#r.baseURI&&(Dx(n)?ve('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=fj(n,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let n=this.#s.get(t);if(n)return n;const[i,a,r]=this.#h(t),s=t.length===1?i:`${i}${a}${r}`;if(n=this.#s.get(s),n)return this.#s.set(t,n),n;const l=`g_${this.#i}_transfer_map_${this.#o++}`,c=this.#u(l);this.#s.set(t,c),this.#s.set(s,c);const d=this.#g(l);return this.#m(i,a,r,d),c}addHCMFilter(t,n){const i=`${t}-${n}`,a="base";let r=this.#d.get(a);if(r?.key===i||(r?(r.filter?.remove(),r.key=i,r.url="none",r.filter=null):(r={key:i,url:"none",filter:null},this.#d.set(a,r)),!t||!n))return r.url;const s=this.#y(t);t=Jt.makeHexColor(...s);const l=this.#y(n);if(n=Jt.makeHexColor(...l),this.#l.style.color="",t==="#000000"&&n==="#ffffff"||t===n)return r.url;const c=new Array(256);for(let y=0;y<=255;y++){const x=y/255;c[y]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const d=c.join(","),f=`g_${this.#i}_hcm_filter`,m=r.filter=this.#g(f);this.#m(d,d,d,m),this.#p(m);const v=(y,x)=>{const _=s[y]/255,E=l[y]/255,R=new Array(x+1);for(let A=0;A<=x;A++)R[A]=_+A/x*(E-_);return R.join(",")};return this.#m(v(0,5),v(1,5),v(2,5),m),r.url=this.#u(f),r.url}addAlphaFilter(t){let n=this.#s.get(t);if(n)return n;const[i]=this.#h([t]),a=`alpha_${i}`;if(n=this.#s.get(a),n)return this.#s.set(t,n),n;const r=`g_${this.#i}_alpha_map_${this.#o++}`,s=this.#u(r);this.#s.set(t,s),this.#s.set(a,s);const l=this.#g(r);return this.#v(i,l),s}addLuminosityFilter(t){let n=this.#s.get(t||"luminosity");if(n)return n;let i,a;if(t?([i]=this.#h([t]),a=`luminosity_${i}`):a="luminosity",n=this.#s.get(a),n)return this.#s.set(t,n),n;const r=`g_${this.#i}_luminosity_map_${this.#o++}`,s=this.#u(r);this.#s.set(t,s),this.#s.set(a,s);const l=this.#g(r);return this.#f(l),t&&this.#v(i,l),s}addHighlightHCMFilter(t,n,i,a,r){const s=`${n}-${i}-${a}-${r}`;let l=this.#d.get(t);if(l?.key===s||(l?(l.filter?.remove(),l.key=s,l.url="none",l.filter=null):(l={key:s,url:"none",filter:null},this.#d.set(t,l)),!n||!i))return l.url;const[c,d]=[n,i].map(this.#y.bind(this));let f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),m=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[v,y]=[a,r].map(this.#y.bind(this));m<f&&([f,m,v,y]=[m,f,y,v]),this.#l.style.color="";const x=(R,A,w)=>{const M=new Array(256),D=(m-f)/w,P=R/255,z=(A-R)/(255*w);let L=0;for(let U=0;U<=w;U++){const I=Math.round(f+U*D),q=P+U*z;for(let J=L;J<=I;J++)M[J]=q;L=I+1}for(let U=L;U<256;U++)M[U]=M[L-1];return M.join(",")},_=`g_${this.#i}_hcm_${t}_filter`,E=l.filter=this.#g(_);return this.#p(E),this.#m(x(v[0],y[0],5),x(v[1],y[1],5),x(v[2],y[2],5),E),l.url=this.#u(_),l.url}destroy(t=!1){t&&this.#a?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#e?.clear(),this.#e=null,this.#a?.clear(),this.#a=null,this.#o=0)}#f(t){const n=this.#r.createElementNS(Vl,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)}#p(t){const n=this.#r.createElementNS(Vl,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)}#g(t){const n=this.#r.createElementNS(Vl,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),this.#l.append(n),n}#c(t,n,i){const a=this.#r.createElementNS(Vl,n);a.setAttribute("type","discrete"),a.setAttribute("tableValues",i),t.append(a)}#m(t,n,i,a){const r=this.#r.createElementNS(Vl,"feComponentTransfer");a.append(r),this.#c(r,"feFuncR",t),this.#c(r,"feFuncG",n),this.#c(r,"feFuncB",i)}#v(t,n){const i=this.#r.createElementNS(Vl,"feComponentTransfer");n.append(i),this.#c(i,"feFuncA",t)}#y(t){return this.#l.style.color=t,hT(getComputedStyle(this.#l).getPropertyValue("color"))}}class Ej{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${t}`;return this._fetch(n).catch(i=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(t){xn("Abstract method `_fetch` called.")}}class pO extends Ej{async _fetch(t){const n=await _v(t,"arraybuffer");return new Uint8Array(n)}}class Aj{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${t}`;return this._fetch(n).catch(i=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(t){xn("Abstract method `_fetch` called.")}}class gO extends Aj{async _fetch(t){const n=await _v(t,"arraybuffer");return new Uint8Array(n)}}ka&&ve("Please use the `legacy` build in Node.js environments.");async function mT(e){const n=await process.getBuiltinModule("fs").promises.readFile(e);return new Uint8Array(n)}class xot extends wj{}class Sot extends Sj{_createCanvas(t,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,n)}}class _ot extends _j{async _fetch(t){return mT(t)}}class wot extends Ej{async _fetch(t){return mT(t)}}class Eot extends Aj{async _fetch(t){return mT(t)}}const na={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function KA(e,t){if(!t)return;const n=t[2]-t[0],i=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],n,i),e.clip(a)}class vT{isModifyingCurrentTransform(){return!1}getPattern(){xn("Abstract method `getPattern` called.")}}class Aot extends vT{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let n;this._type==="axial"?n=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)n.addColorStop(i[0],i[1]);return n}getPattern(t,n,i,a){let r;if(a===na.STROKE||a===na.FILL){const s=n.current.getClippedPathBoundingBox(a,Un(t))||[0,0,0,0],l=Math.ceil(s[2]-s[0])||1,c=Math.ceil(s[3]-s[1])||1,d=n.cachedCanvases.getCanvas("pattern",l,c),f=d.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-s[0],-s[1]),i=Jt.transform(i,[1,0,0,1,s[0],s[1]]),f.transform(...n.baseTransform),this.matrix&&f.transform(...this.matrix),KA(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),r=t.createPattern(d.canvas,"no-repeat");const m=new DOMMatrix(i);r.setTransform(m)}else KA(t,this._bbox),r=this._createGradient(t);return r}}function vE(e,t,n,i,a,r,s,l){const c=t.coords,d=t.colors,f=e.data,m=e.width*4;let v;c[n+1]>c[i+1]&&(v=n,n=i,i=v,v=r,r=s,s=v),c[i+1]>c[a+1]&&(v=i,i=a,a=v,v=s,s=l,l=v),c[n+1]>c[i+1]&&(v=n,n=i,i=v,v=r,r=s,s=v);const y=(c[n]+t.offsetX)*t.scaleX,x=(c[n+1]+t.offsetY)*t.scaleY,_=(c[i]+t.offsetX)*t.scaleX,E=(c[i+1]+t.offsetY)*t.scaleY,R=(c[a]+t.offsetX)*t.scaleX,A=(c[a+1]+t.offsetY)*t.scaleY;if(x>=A)return;const w=d[r],M=d[r+1],D=d[r+2],P=d[s],z=d[s+1],L=d[s+2],U=d[l],I=d[l+1],q=d[l+2],J=Math.round(x),it=Math.round(A);let at,et,Z,B,V,W,H,K;for(let nt=J;nt<=it;nt++){if(nt<E){const tt=nt<x?0:(x-nt)/(x-E);at=y-(y-_)*tt,et=w-(w-P)*tt,Z=M-(M-z)*tt,B=D-(D-L)*tt}else{let tt;nt>A?tt=1:E===A?tt=0:tt=(E-nt)/(E-A),at=_-(_-R)*tt,et=P-(P-U)*tt,Z=z-(z-I)*tt,B=L-(L-q)*tt}let $;nt<x?$=0:nt>A?$=1:$=(x-nt)/(x-A),V=y-(y-R)*$,W=w-(w-U)*$,H=M-(M-I)*$,K=D-(D-q)*$;const lt=Math.round(Math.min(at,V)),yt=Math.round(Math.max(at,V));let ot=m*nt+lt*4;for(let tt=lt;tt<=yt;tt++)$=(at-tt)/(at-V),$<0?$=0:$>1&&($=1),f[ot++]=et-(et-W)*$|0,f[ot++]=Z-(Z-H)*$|0,f[ot++]=B-(B-K)*$|0,f[ot++]=255}}function Cot(e,t,n){const i=t.coords,a=t.colors;let r,s;switch(t.type){case"lattice":const l=t.verticesPerRow,c=Math.floor(i.length/l)-1,d=l-1;for(r=0;r<c;r++){let f=r*l;for(let m=0;m<d;m++,f++)vE(e,n,i[f],i[f+1],i[f+l],a[f],a[f+1],a[f+l]),vE(e,n,i[f+l+1],i[f+1],i[f+l],a[f+l+1],a[f+1],a[f+l])}break;case"triangles":for(r=0,s=i.length;r<s;r+=3)vE(e,n,i[r],i[r+1],i[r+2],a[r],a[r+1],a[r+2]);break;default:throw new Error("illegal figure")}}class Tot extends vT{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,n,i){const l=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-l,f=Math.ceil(this._bounds[3])-c,m=Math.min(Math.ceil(Math.abs(d*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(f*t[1]*1.1)),3e3),y=d/m,x=f/v,_={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-c,scaleX:1/y,scaleY:1/x},E=m+2*2,R=v+2*2,A=i.getCanvas("mesh",E,R),w=A.context,M=w.createImageData(m,v);if(n){const P=M.data;for(let z=0,L=P.length;z<L;z+=4)P[z]=n[0],P[z+1]=n[1],P[z+2]=n[2],P[z+3]=255}for(const P of this._figures)Cot(M,P,_);return w.putImageData(M,2,2),{canvas:A.canvas,offsetX:l-2*y,offsetY:c-2*x,scaleX:y,scaleY:x}}isModifyingCurrentTransform(){return!0}getPattern(t,n,i,a){KA(t,this._bbox);const r=new Float32Array(2);if(a===na.SHADING)Jt.singularValueDecompose2dScale(Un(t),r);else if(this.matrix){Jt.singularValueDecompose2dScale(this.matrix,r);const[l,c]=r;Jt.singularValueDecompose2dScale(n.baseTransform,r),r[0]*=l,r[1]*=c}else Jt.singularValueDecompose2dScale(n.baseTransform,r);const s=this._createMeshCanvas(r,a===na.SHADING?null:this._background,n.cachedCanvases);return a!==na.SHADING&&(t.setTransform(...n.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(s.offsetX,s.offsetY),t.scale(s.scaleX,s.scaleY),t.createPattern(s.canvas,"no-repeat")}}class Rot extends vT{getPattern(){return"hotpink"}}function Mot(e){switch(e[0]){case"RadialAxial":return new Aot(e);case"Mesh":return new Tot(e);case"Dummy":return new Rot}throw new Error(`Unknown IR type: ${e[0]}`)}const mO={COLORED:1,UNCOLORED:2};class yT{static MAX_PATTERN_SIZE=3e3;constructor(t,n,i,a){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=a}createPatternCanvas(t){const{bbox:n,operatorList:i,paintType:a,tilingType:r,color:s,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:d}=this;c=Math.abs(c),d=Math.abs(d),Mx("TilingType: "+r);const f=n[0],m=n[1],v=n[2],y=n[3],x=v-f,_=y-m,E=new Float32Array(2);Jt.singularValueDecompose2dScale(this.matrix,E);const[R,A]=E;Jt.singularValueDecompose2dScale(this.baseTransform,E);const w=R*E[0],M=A*E[1];let D=x,P=_,z=!1,L=!1;const U=Math.ceil(c*w),I=Math.ceil(d*M),q=Math.ceil(x*w),J=Math.ceil(_*M);U>=q?D=c:z=!0,I>=J?P=d:L=!0;const it=this.getSizeAndScale(D,this.ctx.canvas.width,w),at=this.getSizeAndScale(P,this.ctx.canvas.height,M),et=t.cachedCanvases.getCanvas("pattern",it.size,at.size),Z=et.context,B=l.createCanvasGraphics(Z);if(B.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(B,a,s),Z.translate(-it.scale*f,-at.scale*m),B.transform(it.scale,0,0,at.scale,0,0),Z.save(),this.clipBbox(B,f,m,v,y),B.baseTransform=Un(B.ctx),B.executeOperatorList(i),B.endDrawing(),Z.restore(),z||L){const V=et.canvas;z&&(D=c),L&&(P=d);const W=this.getSizeAndScale(D,this.ctx.canvas.width,w),H=this.getSizeAndScale(P,this.ctx.canvas.height,M),K=W.size,nt=H.size,$=t.cachedCanvases.getCanvas("pattern-workaround",K,nt),lt=$.context,yt=z?Math.floor(x/c):0,ot=L?Math.floor(_/d):0;for(let tt=0;tt<=yt;tt++)for(let ut=0;ut<=ot;ut++)lt.drawImage(V,K*tt,nt*ut,K,nt,0,0,K,nt);return{canvas:$.canvas,scaleX:W.scale,scaleY:H.scale,offsetX:f,offsetY:m}}return{canvas:et.canvas,scaleX:it.scale,scaleY:at.scale,offsetX:f,offsetY:m}}getSizeAndScale(t,n,i){const a=Math.max(yT.MAX_PATTERN_SIZE,n);let r=Math.ceil(t*i);return r>=a?r=a:i=r/t,{scale:i,size:r}}clipBbox(t,n,i,a,r){const s=a-n,l=r-i;t.ctx.rect(n,i,s,l),Jt.axialAlignedBoundingBox([n,i,a,r],Un(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,n,i){const a=t.ctx,r=t.current;switch(n){case mO.COLORED:const{fillStyle:s,strokeStyle:l}=this.ctx;a.fillStyle=r.fillColor=s,a.strokeStyle=r.strokeColor=l;break;case mO.UNCOLORED:a.fillStyle=a.strokeStyle=i,r.fillColor=r.strokeColor=i;break;default:throw new Xst(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,n,i,a){let r=i;a!==na.SHADING&&(r=Jt.transform(r,n.baseTransform),this.matrix&&(r=Jt.transform(r,this.matrix)));const s=this.createPatternCanvas(n);let l=new DOMMatrix(r);l=l.translate(s.offsetX,s.offsetY),l=l.scale(1/s.scaleX,1/s.scaleY);const c=t.createPattern(s.canvas,"repeat");return c.setTransform(l),c}}function Dot({src:e,srcPos:t=0,dest:n,width:i,height:a,nonBlackColor:r=4294967295,inverseDecode:s=!1}){const l=aa.isLittleEndian?4278190080:255,[c,d]=s?[r,l]:[l,r],f=i>>3,m=i&7,v=e.length;n=new Uint32Array(n.buffer);let y=0;for(let x=0;x<a;x++){for(const E=t+f;t<E;t++){const R=t<v?e[t]:255;n[y++]=R&128?d:c,n[y++]=R&64?d:c,n[y++]=R&32?d:c,n[y++]=R&16?d:c,n[y++]=R&8?d:c,n[y++]=R&4?d:c,n[y++]=R&2?d:c,n[y++]=R&1?d:c}if(m===0)continue;const _=t<v?e[t++]:255;for(let E=0;E<m;E++)n[y++]=_&1<<7-E?d:c}return{srcPos:t,destPos:y}}const vO=16,yO=100,Oot=15,bO=10,ir=16,yE=new DOMMatrix,_r=new Float32Array(2),rp=new Float32Array([1/0,1/0,-1/0,-1/0]);function Not(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(n,i){t.translate(n,i),this.__originalTranslate(n,i)},e.scale=function(n,i){t.scale(n,i),this.__originalScale(n,i)},e.transform=function(n,i,a,r,s,l){t.transform(n,i,a,r,s,l),this.__originalTransform(n,i,a,r,s,l)},e.setTransform=function(n,i,a,r,s,l){t.setTransform(n,i,a,r,s,l),this.__originalSetTransform(n,i,a,r,s,l)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(n){t.rotate(n),this.__originalRotate(n)},e.clip=function(n){t.clip(n),this.__originalClip(n)},e.moveTo=function(n,i){t.moveTo(n,i),this.__originalMoveTo(n,i)},e.lineTo=function(n,i){t.lineTo(n,i),this.__originalLineTo(n,i)},e.bezierCurveTo=function(n,i,a,r,s,l){t.bezierCurveTo(n,i,a,r,s,l),this.__originalBezierCurveTo(n,i,a,r,s,l)},e.rect=function(n,i,a,r){t.rect(n,i,a,r),this.__originalRect(n,i,a,r)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class Pot{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,n,i){let a;return this.cache[t]!==void 0?(a=this.cache[t],this.canvasFactory.reset(a,n,i)):(a=this.canvasFactory.create(n,i),this.cache[t]=a),a}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const n=this.cache[t];this.canvasFactory.destroy(n),delete this.cache[t]}}}function wb(e,t,n,i,a,r,s,l,c,d){const[f,m,v,y,x,_]=Un(e);if(m===0&&v===0){const A=s*f+x,w=Math.round(A),M=l*y+_,D=Math.round(M),P=(s+c)*f+x,z=Math.abs(Math.round(P)-w)||1,L=(l+d)*y+_,U=Math.abs(Math.round(L)-D)||1;return e.setTransform(Math.sign(f),0,0,Math.sign(y),w,D),e.drawImage(t,n,i,a,r,0,0,z,U),e.setTransform(f,m,v,y,x,_),[z,U]}if(f===0&&y===0){const A=l*v+x,w=Math.round(A),M=s*m+_,D=Math.round(M),P=(l+d)*v+x,z=Math.abs(Math.round(P)-w)||1,L=(s+c)*m+_,U=Math.abs(Math.round(L)-D)||1;return e.setTransform(0,Math.sign(m),Math.sign(v),0,w,D),e.drawImage(t,n,i,a,r,0,0,U,z),e.setTransform(f,m,v,y,x,_),[U,z]}e.drawImage(t,n,i,a,r,s,l,c,d);const E=Math.hypot(f,m),R=Math.hypot(v,y);return[E*c,R*d]}class xO{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=HA;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=ma.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,n){this.clipBox=new Float32Array([0,0,t,n]),this.minMax=rp.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=na.FILL,n=null){const i=this.minMax.slice();if(t===na.STROKE){n||xn("Stroke bounding box must include transform."),Jt.singularValueDecompose2dScale(n,_r);const a=_r[0]*this.lineWidth/2,r=_r[1]*this.lineWidth/2;i[0]-=a,i[1]-=r,i[2]+=a,i[3]+=r}return i}updateClipFromPath(){const t=Jt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(rp,0)}getClippedPathBoundingBox(t=na.FILL,n=null){return Jt.intersect(this.clipBox,this.getPathBoundingBox(t,n))}}function SO(e,t){if(t instanceof ImageData){e.putImageData(t,0,0);return}const n=t.height,i=t.width,a=n%ir,r=(n-a)/ir,s=a===0?r:r+1,l=e.createImageData(i,ir);let c=0,d;const f=t.data,m=l.data;let v,y,x,_;if(t.kind===Yb.GRAYSCALE_1BPP){const E=f.byteLength,R=new Uint32Array(m.buffer,0,m.byteLength>>2),A=R.length,w=i+7>>3,M=4294967295,D=aa.isLittleEndian?4278190080:255;for(v=0;v<s;v++){for(x=v<r?ir:a,d=0,y=0;y<x;y++){const P=E-c;let z=0;const L=P>w?i:P*8-7,U=L&-8;let I=0,q=0;for(;z<U;z+=8)q=f[c++],R[d++]=q&128?M:D,R[d++]=q&64?M:D,R[d++]=q&32?M:D,R[d++]=q&16?M:D,R[d++]=q&8?M:D,R[d++]=q&4?M:D,R[d++]=q&2?M:D,R[d++]=q&1?M:D;for(;z<L;z++)I===0&&(q=f[c++],I=128),R[d++]=q&I?M:D,I>>=1}for(;d<A;)R[d++]=0;e.putImageData(l,0,v*ir)}}else if(t.kind===Yb.RGBA_32BPP){for(y=0,_=i*ir*4,v=0;v<r;v++)m.set(f.subarray(c,c+_)),c+=_,e.putImageData(l,0,y),y+=ir;v<s&&(_=i*a*4,m.set(f.subarray(c,c+_)),e.putImageData(l,0,y))}else if(t.kind===Yb.RGB_24BPP)for(x=ir,_=i*x,v=0;v<s;v++){for(v>=r&&(x=a,_=i*x),d=0,y=_;y--;)m[d++]=f[c++],m[d++]=f[c++],m[d++]=f[c++],m[d++]=255;e.putImageData(l,0,v*ir)}else throw new Error(`bad image kind: ${t.kind}`)}function _O(e,t){if(t.bitmap){e.drawImage(t.bitmap,0,0);return}const n=t.height,i=t.width,a=n%ir,r=(n-a)/ir,s=a===0?r:r+1,l=e.createImageData(i,ir);let c=0;const d=t.data,f=l.data;for(let m=0;m<s;m++){const v=m<r?ir:a;({srcPos:c}=Dot({src:d,srcPos:c,dest:f,width:i,height:v,nonBlackColor:0})),e.putImageData(l,0,m*ir)}}function gm(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)e[i]!==void 0&&(t[i]=e[i]);e.setLineDash!==void 0&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function Eb(e){e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",e.setLineDash!==void 0&&(e.setLineDash([]),e.lineDashOffset=0);const{filter:t}=e;t!=="none"&&t!==""&&(e.filter="none")}function wO(e,t){if(t)return!0;Jt.singularValueDecompose2dScale(e,_r);const n=Math.fround(nl.pixelRatio*pp.PDF_TO_CSS_UNITS);return _r[0]<=n&&_r[1]<=n}const Lot=["butt","round","square"],kot=["miter","round","bevel"],jot={},EO={};class op{constructor(t,n,i,a,r,{optionalContentConfig:s,markedContentStack:l=null},c,d){this.ctx=t,this.current=new xO(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=i,this.canvasFactory=a,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=s,this.cachedCanvases=new Pot(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,n=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):n}beginDrawing({transform:t,viewport:n,transparency:i=!1,background:a=null}){const r=this.ctx.canvas.width,s=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,r,s),this.ctx.fillStyle=l,i){const c=this.cachedCanvases.getCanvas("transparent",r,s);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...Un(this.compositeCtx))}this.ctx.save(),Eb(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Un(this.ctx)}executeOperatorList(t,n,i,a){const r=t.argsArray,s=t.fnArray;let l=n||0;const c=r.length;if(c===l)return l;const d=c-l>bO&&typeof i=="function",f=d?Date.now()+Oot:0;let m=0;const v=this.commonObjs,y=this.objs;let x;for(;;){if(a!==void 0&&l===a.nextBreakPoint)return a.breakIt(l,i),l;if(x=s[l],x!==_1.dependency)this[x].apply(this,r[l]);else for(const _ of r[l]){const E=_.startsWith("g_")?v:y;if(!E.has(_))return E.get(_,i),l}if(l++,l===c)return l;if(d&&++m>bO){if(Date.now()>f)return i(),l;m=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const n of t.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const n=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}}_scaleImage(t,n){const i=t.width??t.displayWidth,a=t.height??t.displayHeight;let r=Math.max(Math.hypot(n[0],n[1]),1),s=Math.max(Math.hypot(n[2],n[3]),1),l=i,c=a,d="prescale1",f,m;for(;r>2&&l>1||s>2&&c>1;){let v=l,y=c;r>2&&l>1&&(v=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),r/=l/v),s>2&&c>1&&(y=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,s/=c/y),f=this.cachedCanvases.getCanvas(d,v,y),m=f.context,m.clearRect(0,0,v,y),m.drawImage(t,0,0,l,c,0,0,v,y),t=f.canvas,l=v,c=y,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:l,paintHeight:c}}_createMaskCanvas(t){const n=this.ctx,{width:i,height:a}=t,r=this.current.fillColor,s=this.current.patternFill,l=Un(n);let c,d,f,m;if((t.bitmap||t.data)&&t.count>1){const U=t.bitmap||t.data.buffer;d=JSON.stringify(s?l:[l.slice(0,4),r]),c=this._cachedBitmapsMap.get(U),c||(c=new Map,this._cachedBitmapsMap.set(U,c));const I=c.get(d);if(I&&!s){const q=Math.round(Math.min(l[0],l[2])+l[4]),J=Math.round(Math.min(l[1],l[3])+l[5]);return{canvas:I,offsetX:q,offsetY:J}}f=I}f||(m=this.cachedCanvases.getCanvas("maskCanvas",i,a),_O(m.context,t));let v=Jt.transform(l,[1/i,0,0,-1/a,0,0]);v=Jt.transform(v,[1,0,0,1,0,-a]);const y=rp.slice();Jt.axialAlignedBoundingBox([0,0,i,a],v,y);const[x,_,E,R]=y,A=Math.round(E-x)||1,w=Math.round(R-_)||1,M=this.cachedCanvases.getCanvas("fillCanvas",A,w),D=M.context,P=x,z=_;D.translate(-P,-z),D.transform(...v),f||(f=this._scaleImage(m.canvas,Yo(D)),f=f.img,c&&s&&c.set(d,f)),D.imageSmoothingEnabled=wO(Un(D),t.interpolate),wb(D,f,0,0,f.width,f.height,0,0,i,a),D.globalCompositeOperation="source-in";const L=Jt.transform(Yo(D),[1,0,0,1,-P,-z]);return D.fillStyle=s?r.getPattern(n,this,L,na.FILL):r,D.fillRect(0,0,i,a),c&&!s&&(this.cachedCanvases.delete("fillCanvas"),c.set(d,M.canvas)),{canvas:M.canvas,offsetX:Math.round(P),offsetY:Math.round(z)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=Lot[t]}setLineJoin(t){this.ctx.lineJoin=kot[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,n){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=n)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[n,i]of t)switch(n){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,t,n);this.suspendedCtx=this.ctx;const r=this.ctx=a.context;r.setTransform(this.suspendedCtx.getTransform()),gm(this.suspendedCtx,r),Not(r,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),gm(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,n,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,n,i,a){const r=a[0],s=a[1],l=a[2]-r,c=a[3]-s;l===0||c===0||(this.genericComposeSMask(n.context,i,l,c,n.subtype,n.backdrop,n.transferMap,r,s,n.offsetX,n.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,n,i,a,r,s,l,c,d,f,m){let v=t.canvas,y=c-f,x=d-m;if(s)if(y<0||x<0||y+i>v.width||x+a>v.height){const E=this.cachedCanvases.getCanvas("maskExtension",i,a),R=E.context;R.drawImage(v,-y,-x),R.globalCompositeOperation="destination-atop",R.fillStyle=s,R.fillRect(0,0,i,a),R.globalCompositeOperation="source-over",v=E.canvas,y=x=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(y,x,i,a),t.clip(E),t.globalCompositeOperation="destination-atop",t.fillStyle=s,t.fillRect(y,x,i,a),t.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),r==="Alpha"&&l?n.filter=this.filterFactory.addAlphaFilter(l):r==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(l));const _=new Path2D;_.rect(c,d,i,a),n.clip(_),n.globalCompositeOperation="destination-in",n.drawImage(v,y,x,i,a,c,d,i,a),n.restore()}save(){this.inSMaskMode&&gm(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&gm(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,n,i,a,r,s){this.ctx.transform(t,n,i,a,r,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,n,i){let[a]=n;if(!i){a||=n[0]=new Path2D,this[t](a);return}if(!(a instanceof Path2D)){const r=n[0]=new Path2D;for(let s=0,l=a.length;s<l;)switch(a[s++]){case xb.moveTo:r.moveTo(a[s++],a[s++]);break;case xb.lineTo:r.lineTo(a[s++],a[s++]);break;case xb.curveTo:r.bezierCurveTo(a[s++],a[s++],a[s++],a[s++],a[s++],a[s++]);break;case xb.closePath:r.closePath();break;default:ve(`Unrecognized drawing path operator: ${a[s-1]}`);break}a=r}Jt.axialAlignedBoundingBox(i,Un(this.ctx),this.current.minMax),this[t](a)}closePath(){this.ctx.closePath()}stroke(t,n=!0){const i=this.ctx,a=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&a?.getPattern){const r=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=a.getPattern(i,this,Yo(i),na.STROKE),r){const s=new Path2D;s.addPath(t,i.getTransform().invertSelf().multiplySelf(r)),t=s}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);n&&this.consumePath(t,this.current.getClippedPathBoundingBox(na.STROKE,Un(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,n=!0){const i=this.ctx,a=this.current.fillColor,r=this.current.patternFill;let s=!1;if(r){const c=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.fillStyle=a.getPattern(i,this,Yo(i),na.FILL),c){const d=new Path2D;d.addPath(t,i.getTransform().invertSelf().multiplySelf(c)),t=d}s=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),s&&i.restore(),n&&this.consumePath(t,l)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=jot}eoClip(){this.pendingClip=EO}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,n=this.ctx;if(t===void 0)return;const i=new Path2D,a=n.getTransform().invertSelf();for(const{transform:r,x:s,y:l,fontSize:c,path:d}of t)i.addPath(d,new DOMMatrix(r).preMultiplySelf(a).translate(s,l).scale(c,-c));n.clip(i),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,n){const i=this.commonObjs.get(t),a=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(a.fontMatrix=i.fontMatrix||HA,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&ve("Invalid font matrix for font "+t),n<0?(n=-n,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;const r=i.loadedName||"sans-serif",s=i.systemFontInfo?.css||`"${r}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const c=i.italic?"italic":"normal";let d=n;n<vO?d=vO:n>yO&&(d=yO),this.current.fontSizeScale=n/d,this.ctx.font=`${c} ${l} ${d}px ${s}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,n){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,n){this.setLeading(-n),this.moveText(t,n)}setTextMatrix(t){const{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(t,n,i){const a=new Path2D;return a.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(n)),a}paintChar(t,n,i,a,r){const s=this.ctx,l=this.current,c=l.font,d=l.textRenderingMode,f=l.fontSize/l.fontSizeScale,m=d&ma.FILL_STROKE_MASK,v=!!(d&ma.ADD_TO_PATH_FLAG),y=l.patternFill&&!c.missingFile,x=l.patternStroke&&!c.missingFile;let _;if((c.disableFontFace||v||y||x)&&(_=c.getPathGenerator(this.commonObjs,t)),c.disableFontFace||y||x){s.save(),s.translate(n,i),s.scale(f,-f);let E;if((m===ma.FILL||m===ma.FILL_STROKE)&&(a?(E=s.getTransform(),s.setTransform(...a),s.fill(this.#n(_,E,a))):s.fill(_)),m===ma.STROKE||m===ma.FILL_STROKE)if(r){E||=s.getTransform(),s.setTransform(...r);const{a:R,b:A,c:w,d:M}=E,D=Jt.inverseTransform(r),P=Jt.transform([R,A,w,M,0,0],D);Jt.singularValueDecompose2dScale(P,_r),s.lineWidth*=Math.max(_r[0],_r[1])/f,s.stroke(this.#n(_,E,r))}else s.lineWidth/=f,s.stroke(_);s.restore()}else(m===ma.FILL||m===ma.FILL_STROKE)&&s.fillText(t,n,i),(m===ma.STROKE||m===ma.FILL_STROKE)&&s.strokeText(t,n,i);v&&(this.pendingTextPaths||=[]).push({transform:Un(s),x:n,y:i,fontSize:f,path:_})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const n=t.getImageData(0,0,10,10).data;let i=!1;for(let a=3;a<n.length;a+=4)if(n[a]>0&&n[a]<255){i=!0;break}return ze(this,"isFontSubpixelAAEnabled",i)}showText(t){const n=this.current,i=n.font;if(i.isType3Font)return this.showType3Text(t);const a=n.fontSize;if(a===0)return;const r=this.ctx,s=n.fontSizeScale,l=n.charSpacing,c=n.wordSpacing,d=n.fontDirection,f=n.textHScale*d,m=t.length,v=i.vertical,y=v?1:-1,x=i.defaultVMetrics,_=a*n.fontMatrix[0],E=n.textRenderingMode===ma.FILL&&!i.disableFontFace&&!n.patternFill;r.save(),n.textMatrix&&r.transform(...n.textMatrix),r.translate(n.x,n.y+n.textRise),d>0?r.scale(f,-1):r.scale(f,1);let R,A;if(n.patternFill){r.save();const z=n.fillColor.getPattern(r,this,Yo(r),na.FILL);R=Un(r),r.restore(),r.fillStyle=z}if(n.patternStroke){r.save();const z=n.strokeColor.getPattern(r,this,Yo(r),na.STROKE);A=Un(r),r.restore(),r.strokeStyle=z}let w=n.lineWidth;const M=n.textMatrixScale;if(M===0||w===0){const z=n.textRenderingMode&ma.FILL_STROKE_MASK;(z===ma.STROKE||z===ma.FILL_STROKE)&&(w=this.getSinglePixelWidth())}else w/=M;if(s!==1&&(r.scale(s,s),w/=s),r.lineWidth=w,i.isInvalidPDFjsFont){const z=[];let L=0;for(const U of t)z.push(U.unicode),L+=U.width;r.fillText(z.join(""),0,0),n.x+=L*_*f,r.restore(),this.compose();return}let D=0,P;for(P=0;P<m;++P){const z=t[P];if(typeof z=="number"){D+=y*z*a/1e3;continue}let L=!1;const U=(z.isSpace?c:0)+l,I=z.fontChar,q=z.accent;let J,it,at=z.width;if(v){const Z=z.vmetric||x,B=-(z.vmetric?Z[1]:at*.5)*_,V=Z[2]*_;at=Z?-Z[0]:at,J=B/s,it=(D+V)/s}else J=D/s,it=0;if(i.remeasure&&at>0){const Z=r.measureText(I).width*1e3/a*s;if(at<Z&&this.isFontSubpixelAAEnabled){const B=at/Z;L=!0,r.save(),r.scale(B,1),J/=B}else at!==Z&&(J+=(at-Z)/2e3*a/s)}if(this.contentVisible&&(z.isInFont||i.missingFile)){if(E&&!q)r.fillText(I,J,it);else if(this.paintChar(I,J,it,R,A),q){const Z=J+a*q.offset.x/s,B=it-a*q.offset.y/s;this.paintChar(q.fontChar,Z,B,R,A)}}const et=v?at*_-U*d:at*_+U*d;D+=et,L&&r.restore()}v?n.y-=D:n.x+=D*f,r.restore(),this.compose()}showType3Text(t){const n=this.ctx,i=this.current,a=i.font,r=i.fontSize,s=i.fontDirection,l=a.vertical?1:-1,c=i.charSpacing,d=i.wordSpacing,f=i.textHScale*s,m=i.fontMatrix||HA,v=t.length,y=i.textRenderingMode===ma.INVISIBLE;let x,_,E,R;if(!(y||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(f,s),x=0;x<v;++x){if(_=t[x],typeof _=="number"){R=l*_*r/1e3,this.ctx.translate(R,0),i.x+=R*f;continue}const A=(_.isSpace?d:0)+c,w=a.charProcOperatorList[_.operatorListId];w?this.contentVisible&&(this.save(),n.scale(r,r),n.transform(...m),this.executeOperatorList(w),this.restore()):ve(`Type3 character "${_.operatorListId}" is not available.`);const M=[_.width,0];Jt.applyTransform(M,m),E=M[0]*r+A,n.translate(E,0),i.x+=E*f}n.restore()}}setCharWidth(t,n){}setCharWidthAndBounds(t,n,i,a,r,s){const l=new Path2D;l.rect(i,a,r-i,s-a),this.ctx.clip(l),this.endPath()}getColorN_Pattern(t){let n;if(t[0]==="TilingPattern"){const i=this.baseTransform||Un(this.ctx),a={createCanvasGraphics:r=>new op(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new yT(t,this.ctx,a,i)}else n=this._getPattern(t[1],t[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,n=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=Mot(this.getObject(t)),this.cachedPatterns.set(t,i)),n&&(i.matrix=n),i}shadingFill(t){if(!this.contentVisible)return;const n=this.ctx;this.save();const i=this._getPattern(t);n.fillStyle=i.getPattern(n,this,Yo(n),na.SHADING);const a=Yo(n);if(a){const{width:r,height:s}=n.canvas,l=rp.slice();Jt.axialAlignedBoundingBox([0,0,r,s],a,l);const[c,d,f,m]=l;this.ctx.fillRect(c,d,f-c,m-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){xn("Should not call beginInlineImage")}beginImageData(){xn("Should not call beginImageData")}paintFormXObjectBegin(t,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Un(this.ctx),n)){Jt.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[i,a,r,s]=n,l=new Path2D;l.rect(i,a,r-i,s-a),this.ctx.clip(l),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||Mx("TODO: Support non-isolated groups."),t.knockout&&ve("Knockout groups not supported.");const i=Un(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let a=rp.slice();Jt.axialAlignedBoundingBox(t.bbox,Un(n),a);const r=[0,0,n.canvas.width,n.canvas.height];a=Jt.intersect(a,r)||[0,0,0,0];const s=Math.floor(a[0]),l=Math.floor(a[1]),c=Math.max(Math.ceil(a[2])-s,1),d=Math.max(Math.ceil(a[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,d]);let f="groupAt"+this.groupLevel;t.smask&&(f+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(f,c,d),v=m.context;v.translate(-s,-l),v.transform(...i);let y=new Path2D;const[x,_,E,R]=t.bbox;if(y.rect(x,_,E-x,R-_),t.matrix){const A=new Path2D;A.addPath(y,new DOMMatrix(t.matrix)),y=A}v.clip(y),t.smask?this.smaskStack.push({canvas:m.canvas,context:v,offsetX:s,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(s,l),n.save()),gm(n,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const a=Un(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...a);const r=rp.slice();Jt.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],a,r),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(t,n,i,a,r){if(this.#t(),Eb(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const s=n[2]-n[0],l=n[3]-n[1];if(r&&this.annotationCanvasMap){i=i.slice(),i[4]-=n[0],i[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=s,n[3]=l,Jt.singularValueDecompose2dScale(Un(this.ctx),_r);const{viewportScale:c}=this,d=Math.ceil(s*this.outputScaleX*c),f=Math.ceil(l*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:m,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(t,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(_r[0],0,0,-_r[1],0,l*_r[1]),Eb(this.ctx)}else{Eb(this.ctx),this.endPath();const c=new Path2D;c.rect(n[0],n[1],s,l),this.ctx.clip(c)}}this.current=new xO(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...a)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const n=t.count;t=this.getObject(t.data,t),t.count=n;const i=this.ctx,a=this._createMaskCanvas(t),r=a.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(r,a.offsetX,a.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,n,i=0,a=0,r,s){if(!this.contentVisible)return;t=this.getObject(t.data,t);const l=this.ctx;l.save();const c=Un(l);l.transform(n,i,a,r,0,0);const d=this._createMaskCanvas(t);l.setTransform(1,0,0,1,d.offsetX-c[4],d.offsetY-c[5]);for(let f=0,m=s.length;f<m;f+=2){const v=Jt.transform(c,[n,i,a,r,s[f],s[f+1]]);l.drawImage(d.canvas,v[4],v[5])}l.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,a=this.current.patternFill;for(const r of t){const{data:s,width:l,height:c,transform:d}=r,f=this.cachedCanvases.getCanvas("maskCanvas",l,c),m=f.context;m.save();const v=this.getObject(s,r);_O(m,v),m.globalCompositeOperation="source-in",m.fillStyle=a?i.getPattern(m,this,Yo(n),na.FILL):i,m.fillRect(0,0,l,c),m.restore(),n.save(),n.transform(...d),n.scale(1,-1),wb(n,f.canvas,0,0,l,c,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const n=this.getObject(t);if(!n){ve("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(t,n,i,a){if(!this.contentVisible)return;const r=this.getObject(t);if(!r){ve("Dependent image isn't ready yet");return}const s=r.width,l=r.height,c=[];for(let d=0,f=a.length;d<f;d+=2)c.push({transform:[n,0,0,i,a[d],a[d+1]],x:0,y:0,w:s,h:l});this.paintInlineImageXObjectGroup(r,c)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:n,width:i,height:a}=t,r=this.cachedCanvases.getCanvas("inlineImage",i,a),s=r.context;return s.filter=this.current.transferMaps,s.drawImage(n,0,0),s.filter="none",r.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const n=t.width,i=t.height,a=this.ctx;this.save();const{filter:r}=a;r!=="none"&&r!==""&&(a.filter="none"),a.scale(1/n,-1/i);let s;if(t.bitmap)s=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)s=t;else{const d=this.cachedCanvases.getCanvas("inlineImage",n,i).context;SO(d,t),s=this.applyTransferMapsToCanvas(d)}const l=this._scaleImage(s,Yo(a));a.imageSmoothingEnabled=wO(Un(a),t.interpolate),wb(a,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,n,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,n){if(!this.contentVisible)return;const i=this.ctx;let a;if(t.bitmap)a=t.bitmap;else{const r=t.width,s=t.height,c=this.cachedCanvases.getCanvas("inlineImage",r,s).context;SO(c,t),a=this.applyTransferMapsToCanvas(c)}for(const r of n)i.save(),i.transform(...r.transform),i.scale(1,-1),wb(i,a,r.x,r.y,r.w,r.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,n){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,n){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,n){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const a=this.ctx;this.pendingClip&&(i||(this.pendingClip===EO?a.clip(t,"evenodd"):a.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Un(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const n=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),a=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,a)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:n,b:i,c:a,d:r}=this.ctx.getTransform();let s,l;if(i===0&&a===0){const c=Math.abs(n),d=Math.abs(r);if(c===d)if(t===0)s=l=1/c;else{const f=c*t;s=l=f<1?1/f:1}else if(t===0)s=1/c,l=1/d;else{const f=c*t,m=d*t;s=f<1?1/f:1,l=m<1?1/m:1}}else{const c=Math.abs(n*r-i*a),d=Math.hypot(n,i),f=Math.hypot(a,r);if(t===0)s=f/c,l=d/c;else{const m=t*c;s=f>m?f/m:1,l=d>m?d/m:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(t,n){const{ctx:i,current:{lineWidth:a}}=this,[r,s]=this.getScaleForStroking();if(r===s){i.lineWidth=(a||1)*r,i.stroke(t);return}const l=i.getLineDash();n&&i.save(),i.scale(r,s),yE.a=1/r,yE.d=1/s;const c=new Path2D;if(c.addPath(t,yE),l.length>0){const d=Math.max(r,s);i.setLineDash(l.map(f=>f/d)),i.lineDashOffset/=d}i.lineWidth=a||1,i.stroke(c),n&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const e in _1)op.prototype[e]!==void 0&&(op.prototype[_1[e]]=op.prototype[e]);class lp{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class Fot{#t;#e;constructor({parsedData:t,rawData:n}){this.#t=t,this.#e=n}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const $f=Symbol("INTERNAL");class Bot{#t=!1;#e=!1;#n=!1;#i=!0;constructor(t,{name:n,intent:i,usage:a,rbGroups:r}){this.#t=!!(t&Sr.DISPLAY),this.#e=!!(t&Sr.PRINT),this.name=n,this.intent=i,this.usage=a,this.rbGroups=r}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;const{print:t,view:n}=this.usage;return this.#t?n?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,n,i=!1){t!==$f&&xn("Internal method `_setVisible` called."),this.#n=i,this.#i=n}}class Iot{#t=null;#e=new Map;#n=null;#i=null;constructor(t,n=Sr.DISPLAY){if(this.renderingIntent=n,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#i=t.order;for(const i of t.groups)this.#e.set(i.id,new Bot(n,i));if(t.baseState==="OFF")for(const i of this.#e.values())i._setVisible($f,!1);for(const i of t.on)this.#e.get(i)._setVisible($f,!0);for(const i of t.off)this.#e.get(i)._setVisible($f,!1);this.#n=this.getHash()}}#r(t){const n=t.length;if(n<2)return!0;const i=t[0];for(let a=1;a<n;a++){const r=t[a];let s;if(Array.isArray(r))s=this.#r(r);else if(this.#e.has(r))s=this.#e.get(r).visible;else return ve(`Optional content group not found: ${r}`),!0;switch(i){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return i==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return Mx("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(ve(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#r(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const n of t.ids){if(!this.#e.has(n))return ve(`Optional content group not found: ${n}`),!0;if(this.#e.get(n).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const n of t.ids){if(!this.#e.has(n))return ve(`Optional content group not found: ${n}`),!0;if(!this.#e.get(n).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const n of t.ids){if(!this.#e.has(n))return ve(`Optional content group not found: ${n}`),!0;if(!this.#e.get(n).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const n of t.ids){if(!this.#e.has(n))return ve(`Optional content group not found: ${n}`),!0;if(this.#e.get(n).visible)return!1}return!0}return ve(`Unknown optional content policy ${t.policy}.`),!0}return ve(`Unknown group type ${t.type}.`),!0}setVisibility(t,n=!0,i=!0){const a=this.#e.get(t);if(!a){ve(`Optional content group not found: ${t}`);return}if(i&&n&&a.rbGroups.length)for(const r of a.rbGroups)for(const s of r)s!==t&&this.#e.get(s)?._setVisible($f,!1,!0);a._setVisible($f,!!n,!0),this.#t=null}setOCGState({state:t,preserveRB:n}){let i;for(const a of t){switch(a){case"ON":case"OFF":case"Toggle":i=a;continue}const r=this.#e.get(a);if(r)switch(i){case"ON":this.setVisibility(a,!0,n);break;case"OFF":this.setVisibility(a,!1,n);break;case"Toggle":this.setVisibility(a,!r.visible,n);break}}this.#t=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#e.size?this.#i?this.#i.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new bj;for(const[n,i]of this.#e)t.update(`${n}:${i.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class zot{constructor(t,{disableRange:n=!1,disableStream:i=!1}){vi(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:r,progressiveDone:s,contentDispositionFilename:l}=t;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=l,r?.length>0){const c=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((c,d)=>{this._onReceiveData({begin:c,chunk:d})}),t.addProgressListener((c,d)=>{this._onProgress({loaded:c,total:d})}),t.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:n}){const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const a=this._rangeReaders.some(function(r){return r._begin!==t?!1:(r._enqueue(i),!0)});vi(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const n=this._rangeReaders.indexOf(t);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){vi(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new Uot(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,n){if(n<=this._progressiveDataLength)return null;const i=new Hot(this,t,n);return this._pdfDataRangeTransport.requestDataRange(t,n),this._rangeReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class Uot{constructor(t,n,i=!1,a=null){this._stream=t,this._done=i||!1,this._filename=dT(a)?a:null,this._queuedChunks=n||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Hot{constructor(t,n,i){this._stream=t,this._begin=n,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Got(e){let t=!0,n=i("filename\\*","i").exec(e);if(n){n=n[1];let f=l(n);return f=unescape(f),f=c(f),f=d(f),r(f)}if(n=s(e),n){const f=d(n);return r(f)}if(n=i("filename","i").exec(e),n){n=n[1];let f=l(n);return f=d(f),r(f)}function i(f,m){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function a(f,m){if(f){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const v=new TextDecoder(f,{fatal:!0}),y=Sv(m);m=v.decode(y),t=!1}catch{}}return m}function r(f){return t&&/[\x80-\xff]/.test(f)&&(f=a("utf-8",f),t&&(f=a("iso-8859-1",f))),f}function s(f){const m=[];let v;const y=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=y.exec(f))!==null;){let[,_,E,R]=v;if(_=parseInt(_,10),_ in m){if(_===0)break;continue}m[_]=[E,R]}const x=[];for(let _=0;_<m.length&&_ in m;++_){let[E,R]=m[_];R=l(R),E&&(R=unescape(R),_===0&&(R=c(R))),x.push(R)}return x.join("")}function l(f){if(f.startsWith('"')){const m=f.slice(1).split('\\"');for(let v=0;v<m.length;++v){const y=m[v].indexOf('"');y!==-1&&(m[v]=m[v].slice(0,y),m.length=v+1),m[v]=m[v].replaceAll(/\\(.)/g,"$1")}f=m.join('"')}return f}function c(f){const m=f.indexOf("'");if(m===-1)return f;const v=f.slice(0,m),x=f.slice(m+1).replace(/^[^']*'/,"");return a(v,x)}function d(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,v,y,x){if(y==="q"||y==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(_,E){return String.fromCharCode(parseInt(E,16))}),a(v,x);try{x=atob(x)}catch{}return a(v,x)})}return""}function Cj(e,t){const n=new Headers;if(!e||!t||typeof t!="object")return n;for(const i in t){const a=t[i];a!==void 0&&n.append(i,a)}return n}function Nx(e){return URL.parse(e)?.origin??null}function Tj({responseHeaders:e,isHttp:t,rangeChunkSize:n,disableRange:i}){const a={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(e.get("Content-Length"),10);return!Number.isInteger(r)||(a.suggestedLength=r,r<=2*n)||i||!t||e.get("Accept-Ranges")!=="bytes"||(e.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function Rj(e){const t=e.get("Content-Disposition");if(t){let n=Got(t);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(dT(n))return n}return null}function Av(e,t){return new w1(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e,e===404||e===0&&t.startsWith("file:"))}function Mj(e){return e===200||e===206}function Dj(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Oj(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(ve(`getArrayBuffer - unexpected data format: ${e}`),new Uint8Array(e).buffer)}class qot{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=Cj(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return vi(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Vot(this),this._fullRequestReader}getRangeReader(t,n){if(n<=this._progressiveDataLength)return null;const i=new Yot(this,t,n);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Vot{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const n=t.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const i=new Headers(t.headers),a=n.url;fetch(a,Dj(i,this._withCredentials,this._abortController)).then(r=>{if(t._responseOrigin=Nx(r.url),!Mj(r.status))throw Av(r.status,a);this._reader=r.body.getReader(),this._headersCapability.resolve();const s=r.headers,{allowRangeRequests:l,suggestedLength:c}=Tj({responseHeaders:s,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=Rj(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new bu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Oj(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class Yot{constructor(t,n,i){this._stream=t,this._reader=null,this._loaded=0;const a=t.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const r=new Headers(t.headers);r.append("Range",`bytes=${n}-${i-1}`);const s=a.url;fetch(s,Dj(r,this._withCredentials,this._abortController)).then(l=>{const c=Nx(l.url);if(c!==t._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${t._responseOrigin}".`);if(!Mj(l.status))throw Av(l.status,s);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Oj(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const bE=200,xE=206;function Kot(e){const t=e.response;return typeof t!="string"?t:Sv(t).buffer}class Xot{_responseOrigin=null;constructor({url:t,httpHeaders:n,withCredentials:i}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=Cj(this.isHttp,n),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const n=new XMLHttpRequest,i=this.currXhrId++,a=this.pendingRequests[i]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[r,s]of this.headers)n.setRequestHeader(r,s);return this.isHttp&&"begin"in t&&"end"in t?(n.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),a.expectedStatus=xE):a.expectedStatus=bE,n.responseType="arraybuffer",vi(t.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{t.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,i),n.onprogress=this.onProgress.bind(this,i),a.onHeadersReceived=t.onHeadersReceived,a.onDone=t.onDone,a.onError=t.onError,a.onProgress=t.onProgress,n.send(null),i}onProgress(t,n){const i=this.pendingRequests[t];i&&i.onProgress?.(n)}onStateChange(t,n){const i=this.pendingRequests[t];if(!i)return;const a=i.xhr;if(a.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),a.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],a.status===0&&this.isHttp){i.onError(a.status);return}const r=a.status||bE;if(!(r===bE&&i.expectedStatus===xE)&&r!==i.expectedStatus){i.onError(a.status);return}const l=Kot(a);if(r===xE){const c=a.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);d?i.onDone({begin:parseInt(d[1],10),chunk:l}):(ve('Missing or invalid "Content-Range" header.'),i.onError(0))}else l?i.onDone({begin:0,chunk:l}):i.onError(a.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const n=this.pendingRequests[t].xhr;delete this.pendingRequests[t],n.abort()}}class $ot{constructor(t){this._source=t,this._manager=new Xot(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const n=this._rangeRequestReaders.indexOf(t);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return vi(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Wot(this._manager,this._source),this._fullRequestReader}getRangeReader(t,n){const i=new Qot(this._manager,t,n);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Wot{constructor(t,n){this._manager=t,this._url=n.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,n=this._manager.getRequestXhr(t);this._manager._responseOrigin=Nx(n.responseURL);const i=n.getAllResponseHeaders(),a=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[c,...d]=l.split(": ");return[c,d.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:s}=Tj({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=Rj(a),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Av(t,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Qot{constructor(t,n,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:n,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=Nx(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const n=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=Av(t,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Zot=/^[a-z][a-z0-9\-+.]+:/i;function Jot(e){if(Zot.test(e))return new URL(e);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(e))}class tlt{constructor(t){this.source=t,this.url=Jot(t.url),vi(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return vi(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new elt(this),this._fullRequestReader}getRangeReader(t,n){if(n<=this._progressiveDataLength)return null;const i=new nlt(this,t,n);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class elt{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=t.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=Av(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new bu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class nlt{constructor(t,n,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=t.source;this._isStreamingSupported=!a.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:n,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const mm=Symbol("INITIAL_DATA");class Nj{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:mm}}get(t,n=null){if(n){const a=this.#e(t);return a.promise.then(()=>n(a.data)),null}const i=this.#t[t];if(!i||i.data===mm)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const n=this.#t[t];return!!n&&n.data!==mm}delete(t){const n=this.#t[t];return!n||n.data===mm?!1:(delete this.#t[t],!0)}resolve(t,n=null){const i=this.#e(t);i.data=n,i.resolve()}clear(){for(const t in this.#t){const{data:n}=this.#t[t];n?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:n}=this.#t[t];n!==mm&&(yield[t,n])}}}const ilt=1e5,AO=30;class Pa{#t=Promise.withResolvers();#e=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#r=null;#a=null;#o=0;#s=0;#d=null;#l=null;#h=0;#u=0;#f=Object.create(null);#p=[];#g=null;#c=[];#m=new WeakMap;#v=null;static#y=new Map;static#b=new Map;static#x=new WeakMap;static#_=null;static#w=new Set;constructor({textContentSource:t,container:n,viewport:i}){if(t instanceof ReadableStream)this.#g=t;else if(typeof t=="object")this.#g=new ReadableStream({start(c){c.enqueue(t),c.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=n,this.#u=i.scale*nl.pixelRatio,this.#h=i.rotation,this.#a={div:null,properties:null,ctx:null};const{pageWidth:a,pageHeight:r,pageX:s,pageY:l}=i.rawDims;this.#v=[1,0,0,-1,-s,l+r],this.#s=a,this.#o=r,Pa.#O(),Qd(n,i),this.#t.promise.finally(()=>{Pa.#w.delete(this),this.#a=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:n}=aa.platform;return ze(this,"fontFamilyMap",new Map([["sans-serif",`${t&&n?"Calibri, ":""}sans-serif`],["monospace",`${t&&n?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#d.read().then(({value:n,done:i})=>{if(i){this.#t.resolve();return}this.#r??=n.lang,Object.assign(this.#f,n.styles),this.#C(n.items),t()},this.#t.reject)};return this.#d=this.#g.getReader(),Pa.#w.add(this),t(),this.#t.promise}update({viewport:t,onBefore:n=null}){const i=t.scale*nl.pixelRatio,a=t.rotation;if(a!==this.#h&&(n?.(),this.#h=a,Qd(this.#l,{rotation:a})),i!==this.#u){n?.(),this.#u=i;const r={div:null,properties:null,ctx:Pa.#R(this.#r)};for(const s of this.#c)r.properties=this.#m.get(s),r.div=s,this.#E(r)}}cancel(){const t=new bu("TextLayer task cancelled.");this.#d?.cancel(t).catch(()=>{}),this.#d=null,this.#t.reject(t)}get textDivs(){return this.#c}get textContentItemsStr(){return this.#p}#C(t){if(this.#n)return;this.#a.ctx??=Pa.#R(this.#r);const n=this.#c,i=this.#p;for(const a of t){if(n.length>ilt){ve("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const r=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),a.id!==null&&this.#e.setAttribute("id",`${a.id}`),r.append(this.#e)}else a.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}i.push(a.str),this.#M(a)}}#M(t){const n=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#c.push(n);const a=Jt.transform(this.#v,t.transform);let r=Math.atan2(a[1],a[0]);const s=this.#f[t.fontName];s.vertical&&(r+=Math.PI/2);let l=this.#i&&s.fontSubstitution||s.fontFamily;l=Pa.fontFamilyMap.get(l)||l;const c=Math.hypot(a[2],a[3]),d=c*Pa.#N(l,s,this.#r);let f,m;r===0?(f=a[4],m=a[5]-d):(f=a[4]+d*Math.sin(r),m=a[5]-d*Math.cos(r));const v="calc(var(--total-scale-factor) *",y=n.style;this.#e===this.#l?(y.left=`${(100*f/this.#s).toFixed(2)}%`,y.top=`${(100*m/this.#o).toFixed(2)}%`):(y.left=`${v}${f.toFixed(2)}px)`,y.top=`${v}${m.toFixed(2)}px)`),y.fontSize=`${v}${(Pa.#_*c).toFixed(2)}px)`,y.fontFamily=l,i.fontSize=c,n.setAttribute("role","presentation"),n.textContent=t.str,n.dir=t.dir,this.#i&&(n.dataset.fontName=s.fontSubstitutionLoadedName||t.fontName),r!==0&&(i.angle=r*(180/Math.PI));let x=!1;if(t.str.length>1)x=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const _=Math.abs(t.transform[0]),E=Math.abs(t.transform[3]);_!==E&&Math.max(_,E)/Math.min(_,E)>1.5&&(x=!0)}if(x&&(i.canvasWidth=s.vertical?t.height:t.width),this.#m.set(n,i),this.#a.div=n,this.#a.properties=i,this.#E(this.#a),i.hasText&&this.#e.append(n),i.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),this.#e.append(_)}}#E(t){const{div:n,properties:i,ctx:a}=t,{style:r}=n;let s="";if(Pa.#_>1&&(s=`scale(${1/Pa.#_})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:l}=r,{canvasWidth:c,fontSize:d}=i;Pa.#T(a,d*this.#u,l);const{width:f}=a.measureText(n.textContent);f>0&&(s=`scaleX(${c*this.#u/f}) ${s}`)}i.angle!==0&&(s=`rotate(${i.angle}deg) ${s}`),s.length>0&&(r.transform=s)}static cleanup(){if(!(this.#w.size>0)){this.#y.clear();for(const{canvas:t}of this.#b.values())t.remove();this.#b.clear()}}static#R(t=null){let n=this.#b.get(t||="");if(!n){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),n=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(t,n),this.#x.set(n,{size:0,family:""})}return n}static#T(t,n,i){const a=this.#x.get(t);n===a.size&&i===a.family||(t.font=`${n}px ${i}`,a.size=n,a.family=i)}static#O(){if(this.#_!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#_=t.getBoundingClientRect().height,t.remove()}static#N(t,n,i){const a=this.#y.get(t);if(a)return a;const r=this.#R(i);r.canvas.width=r.canvas.height=AO,this.#T(r,AO,t);const s=r.measureText(""),l=s.fontBoundingBoxAscent,c=Math.abs(s.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let d=.8;return l?d=l/(l+c):(aa.platform.isFirefox&&ve("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?d=n.ascent:n.descent&&(d=1+n.descent)),this.#y.set(t,d),d}}class X0{static textContent(t){const n=[],i={items:n,styles:Object.create(null)};function a(r){if(!r)return;let s=null;const l=r.name;if(l==="#text")s=r.value;else if(X0.shouldBuildText(l))r?.attributes?.textContent?s=r.attributes.textContent:r.value&&(s=r.value);else return;if(s!==null&&n.push({str:s}),!!r.children)for(const c of r.children)a(c)}return a(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const alt=100;function Pj(e={}){typeof e=="string"||e instanceof URL?e={url:e}:(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const t=new bT,{docId:n}=t,i=e.url?fot(e.url):null,a=e.data?pot(e.data):null,r=e.httpHeaders||null,s=e.withCredentials===!0,l=e.password??null,c=e.range instanceof Lj?e.range:null,d=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:2**16;let f=e.worker instanceof $0?e.worker:null;const m=e.verbosity,v=typeof e.docBaseUrl=="string"&&!Dx(e.docBaseUrl)?e.docBaseUrl:null,y=Sb(e.cMapUrl),x=e.cMapPacked!==!1,_=e.CMapReaderFactory||(ka?_ot:fO),E=Sb(e.iccUrl),R=Sb(e.standardFontDataUrl),A=e.StandardFontDataFactory||(ka?wot:pO),w=Sb(e.wasmUrl),M=e.WasmFactory||(ka?Eot:gO),D=e.stopAtErrors!==!0,P=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,z=e.isEvalSupported!==!1,L=typeof e.isOffscreenCanvasSupported=="boolean"?e.isOffscreenCanvasSupported:!ka,U=typeof e.isImageDecoderSupported=="boolean"?e.isImageDecoderSupported:!ka&&(aa.platform.isFirefox||!globalThis.chrome),I=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,q=typeof e.disableFontFace=="boolean"?e.disableFontFace:ka,J=e.fontExtraProperties===!0,it=e.enableXfa===!0,at=e.ownerDocument||globalThis.document,et=e.disableRange===!0,Z=e.disableStream===!0,B=e.disableAutoFetch===!0,V=e.pdfBug===!0,W=e.CanvasFactory||(ka?Sot:yot),H=e.FilterFactory||(ka?xot:bot),K=e.enableHWA===!0,nt=e.useWasm!==!1,$=c?c.length:e.length??NaN,lt=typeof e.useSystemFonts=="boolean"?e.useSystemFonts:!ka&&!q,yt=typeof e.useWorkerFetch=="boolean"?e.useWorkerFetch:!!(_===fO&&A===pO&&M===gO&&y&&R&&w&&b0(y,document.baseURI)&&b0(R,document.baseURI)&&b0(w,document.baseURI)),ot=null;Vst(m);const tt={canvasFactory:new W({ownerDocument:at,enableHWA:K}),filterFactory:new H({docId:n,ownerDocument:at}),cMapReaderFactory:yt?null:new _({baseUrl:y,isCompressed:x}),standardFontDataFactory:yt?null:new A({baseUrl:R}),wasmFactory:yt?null:new M({baseUrl:w})};f||(f=$0.create({verbosity:m,port:lp.workerPort}),t._worker=f);const ut={docId:n,apiVersion:"5.3.93",data:a,password:l,disableAutoFetch:B,rangeChunkSize:d,length:$,docBaseUrl:v,enableXfa:it,evaluatorOptions:{maxImageSize:P,disableFontFace:q,ignoreErrors:D,isEvalSupported:z,isOffscreenCanvasSupported:L,isImageDecoderSupported:U,canvasMaxAreaInBytes:I,fontExtraProperties:J,useSystemFonts:lt,useWasm:nt,useWorkerFetch:yt,cMapUrl:y,iccUrl:E,standardFontDataUrl:R,wasmUrl:w}},Et={ownerDocument:at,pdfBug:V,styleElement:ot,loadingParams:{disableAutoFetch:B,enableXfa:it}};return f.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Dt=f.messageHandler.sendWithPromise("GetDocRequest",ut,a?[a.buffer]:null);let jt;if(c)jt=new zot(c,{disableRange:et,disableStream:Z});else if(!a){if(!i)throw new Error("getDocument - no `url` parameter provided.");const Bt=b0(i)?qot:ka?tlt:$ot;jt=new Bt({url:i,length:$,httpHeaders:r,withCredentials:s,rangeChunkSize:d,disableRange:et,disableStream:Z})}return Dt.then(Bt=>{if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Ht=new x0(n,Bt,f.port),pe=new olt(Ht,t,jt,Et,tt);t._transport=pe,Ht.send("Ready",null)})}).catch(t._capability.reject),t}class bT{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${bT.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class Lj{#t=Promise.withResolvers();#e=[];#n=[];#i=[];#r=[];constructor(t,n,i=!1,a=null){this.length=t,this.initialData=n,this.progressiveDone=i,this.contentDispositionFilename=a}addRangeListener(t){this.#r.push(t)}addProgressListener(t){this.#i.push(t)}addProgressiveReadListener(t){this.#n.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,n){for(const i of this.#r)i(t,n)}onDataProgress(t,n){this.#t.promise.then(()=>{for(const i of this.#i)i(t,n)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const n of this.#n)n(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,n){xn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class rlt{constructor(t,n){this._pdfInfo=t,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ze(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class slt{#t=!1;constructor(t,n,i,a=!1){this._pageIndex=t,this._pageInfo=n,this._transport=i,this._stats=a?new uO:null,this._pdfBug=a,this.commonObjs=i.commonObjs,this.objs=new Nj,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:n=this.rotate,offsetX:i=0,offsetY:a=0,dontFlip:r=!1}={}){return new wv({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:n,offsetX:i,offsetY:a,dontFlip:r})}getAnnotations({intent:t="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ze(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:n,intent:i="display",annotationMode:a=su.ENABLE,transform:r=null,background:s=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:d=null,printAnnotationStorage:f=null,isEditing:m=!1}){this._stats?.time("Overall");const v=this._transport.getRenderingIntent(i,a,f,m),{renderingIntent:y,cacheKey:x}=v;this.#t=!1,l||=this._transport.getOptionalContentConfig(y);let _=this._intentStates.get(x);_||(_=Object.create(null),this._intentStates.set(x,_)),_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null);const E=!!(y&Sr.PRINT);_.displayReadyCapability||(_.displayReadyCapability=Promise.withResolvers(),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(v));const R=M=>{_.renderTasks.delete(A),E&&(this.#t=!0),this.#e(),M?(A.capability.reject(M),this._abortOperatorList({intentState:_,reason:M instanceof Error?M:new Error(M)})):A.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},A=new sp({callback:R,params:{canvasContext:t,viewport:n,transform:r,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:_.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:d});(_.renderTasks||=new Set).add(A);const w=A.task;return Promise.all([_.displayReadyCapability.promise,l]).then(([M,D])=>{if(this.destroyed){R();return}if(this._stats?.time("Rendering"),!(D.renderingIntent&y))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");A.initializeGraphics({transparency:M,optionalContentConfig:D}),A.operatorListChanged()}).catch(R),w}getOperatorList({intent:t="display",annotationMode:n=su.ENABLE,printAnnotationStorage:i=null,isEditing:a=!1}={}){function r(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(c))}const s=this._transport.getRenderingIntent(t,n,i,a,!0);let l=this._intentStates.get(s.cacheKey);l||(l=Object.create(null),this._intentStates.set(s.cacheKey,l));let c;return l.opListReadCapability||(c=Object.create(null),c.operatorListChanged=r,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||=new Set).add(c),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(s)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:n===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>X0.textContent(i));const n=this.streamTextContent(t);return new Promise(function(i,a){function r(){s.read().then(function({value:c,done:d}){if(d){i(l);return}l.lang??=c.lang,Object.assign(l.styles,c.styles),l.items.push(...c.items),r()},a)}const s=n.getReader(),l={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const i of n.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const n=this.#e();return t&&n&&(this._stats&&=new uO),n}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,n){const i=this._intentStates.get(n);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(t))}_renderPageChunk(t,n){for(let i=0,a=t.length;i<a;i++)n.operatorList.fnArray.push(t.fnArray[i]),n.operatorList.argsArray.push(t.argsArray[i]);n.operatorList.lastChunk=t.lastChunk,n.operatorList.separateAnnots=t.separateAnnots;for(const i of n.renderTasks)i.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:n,annotationStorageSerializable:i,modifiedIds:a}){const{map:r,transfer:s}=i,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:r,modifiedIds:a},s).getReader(),d=this._intentStates.get(n);d.streamReader=c;const f=()=>{c.read().then(({value:m,done:v})=>{if(v){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,d),f())},m=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const v of d.renderTasks)v.operatorListChanged();this.#e()}if(d.displayReadyCapability)d.displayReadyCapability.reject(m);else if(d.opListReadCapability)d.opListReadCapability.reject(m);else throw m}})};f()}_abortOperatorList({intentState:t,reason:n,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(n instanceof uT){let a=alt;n.extraDelay>0&&n.extraDelay<1e3&&(a+=n.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})},a);return}}if(t.streamReader.cancel(new bu(n.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[a,r]of this._intentStates)if(r===t){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}var lu,Xs,Kl,Bd,U1,Id,zd,za,Kb,kj,jj,S0,cp,Xb;const kn=class kn{constructor({name:t=null,port:n=null,verbosity:i=Yst()}={}){Go(this,za);Go(this,lu,Promise.withResolvers());Go(this,Xs,null);Go(this,Kl,null);Go(this,Bd,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,n){if(Ln(kn,zd).has(n))throw new Error("Cannot use more than one PDFWorker per port.");Ln(kn,zd).set(n,this),qo(this,za,kj).call(this,n)}else qo(this,za,jj).call(this)}get promise(){return Ln(this,lu).promise}get port(){return Ln(this,Kl)}get messageHandler(){return Ln(this,Xs)}destroy(){this.destroyed=!0,Ln(this,Bd)?.terminate(),Za(this,Bd,null),Ln(kn,zd).delete(Ln(this,Kl)),Za(this,Kl,null),Ln(this,Xs)?.destroy(),Za(this,Xs,null)}static create(t){const n=Ln(this,zd).get(t?.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new kn(t)}static get workerSrc(){if(lp.workerSrc)return lp.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ze(this,"_setupFakeWorkerGlobal",(async()=>Ln(this,cp,Xb)?Ln(this,cp,Xb):(await import(this.workerSrc)).WorkerMessageHandler)())}};lu=new WeakMap,Xs=new WeakMap,Kl=new WeakMap,Bd=new WeakMap,U1=new WeakMap,Id=new WeakMap,zd=new WeakMap,za=new WeakSet,Kb=function(){Ln(this,lu).resolve(),Ln(this,Xs).send("configure",{verbosity:this.verbosity})},kj=function(t){Za(this,Kl,t),Za(this,Xs,new x0("main","worker",t)),Ln(this,Xs).on("ready",()=>{}),qo(this,za,Kb).call(this)},jj=function(){if(Ln(kn,Id)||Ln(kn,cp,Xb)){qo(this,za,S0).call(this);return}let{workerSrc:t}=kn;try{kn._isSameOrigin(window.location,t)||(t=kn._createCDNWrapper(new URL(t,window.location).href));const n=new Worker(t,{type:"module"}),i=new x0("main","worker",n),a=()=>{r.abort(),i.destroy(),n.terminate(),this.destroyed?Ln(this,lu).reject(new Error("Worker was destroyed")):qo(this,za,S0).call(this)},r=new AbortController;n.addEventListener("error",()=>{Ln(this,Bd)||a()},{signal:r.signal}),i.on("test",l=>{if(r.abort(),this.destroyed||!l){a();return}Za(this,Xs,i),Za(this,Kl,n),Za(this,Bd,n),qo(this,za,Kb).call(this)}),i.on("ready",l=>{if(r.abort(),this.destroyed){a();return}try{s()}catch{qo(this,za,S0).call(this)}});const s=()=>{const l=new Uint8Array;i.send("test",l,[l.buffer])};s();return}catch{Mx("The worker has been disabled.")}qo(this,za,S0).call(this)},S0=function(){Ln(kn,Id)||(ve("Setting up fake worker."),Za(kn,Id,!0)),kn._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){Ln(this,lu).reject(new Error("Worker was destroyed"));return}const n=new vot;Za(this,Kl,n);const i=`fake${k5(kn,U1)._++}`,a=new x0(i+"_worker",i,n);t.setup(a,n),Za(this,Xs,new x0(i,i+"_worker",n)),qo(this,za,Kb).call(this)}).catch(t=>{Ln(this,lu).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},cp=new WeakSet,Xb=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Go(kn,cp),Go(kn,U1,0),Go(kn,Id,!1),Go(kn,zd,new WeakMap),ka&&(Za(kn,Id,!0),lp.workerSrc||="./pdf.worker.mjs"),kn._isSameOrigin=(t,n)=>{const i=URL.parse(t);if(!i?.origin||i.origin==="null")return!1;const a=new URL(n,i);return i.origin===a.origin},kn._createCDNWrapper=t=>{const n=`await import("${t}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},kn.fromPort=t=>{if(aot("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return kn.create(t)};let $0=kn;class olt{#t=new Map;#e=new Map;#n=new Map;#i=new Map;#r=null;constructor(t,n,i,a,r){this.messageHandler=t,this.loadingTask=n,this.commonObjs=new Nj,this.fontLoader=new dot({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#a(t,n=null){const i=this.#t.get(t);if(i)return i;const a=this.messageHandler.sendWithPromise(t,n);return this.#t.set(t,a),a}get annotationStorage(){return ze(this,"annotationStorage",new gT)}getRenderingIntent(t,n=su.ENABLE,i=null,a=!1,r=!1){let s=Sr.DISPLAY,l=VA;switch(t){case"any":s=Sr.ANY;break;case"display":break;case"print":s=Sr.PRINT;break;default:ve(`getRenderingIntent - invalid intent: ${t}`)}const c=s&Sr.PRINT&&i instanceof xj?i:this.annotationStorage;switch(n){case su.DISABLE:s+=Sr.ANNOTATIONS_DISABLE;break;case su.ENABLE:break;case su.ENABLE_FORMS:s+=Sr.ANNOTATIONS_FORMS;break;case su.ENABLE_STORAGE:s+=Sr.ANNOTATIONS_STORAGE,l=c.serializable;break;default:ve(`getRenderingIntent - invalid annotationMode: ${n}`)}a&&(s+=Sr.IS_EDITING),r&&(s+=Sr.OPLIST);const{ids:d,hash:f}=c.modifiedIds,m=[s,l.hash,f];return{renderingIntent:s,cacheKey:m.join("_"),annotationStorageSerializable:l,modifiedIds:d}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of this.#e.values())t.push(i._destroy());this.#e.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),Pa.cleanup(),this._networkStream?.cancelAllRequests(new bu("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:n}=this;t.on("GetReader",(i,a)=>{vi(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},a.onPull=()=>{this._fullReader.read().then(function({value:r,done:s}){if(s){a.close();return}vi(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{a.error(r)})},a.onCancel=r=>{this._fullReader.cancel(r),a.ready.catch(s=>{if(!this.destroyed)throw s})}}),t.on("ReaderHeadersReady",async i=>{await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:r,contentLength:s}=this._fullReader;return(!a||!r)&&(this._lastProgress&&n.onProgress?.(this._lastProgress),this._fullReader.onProgress=l=>{n.onProgress?.({loaded:l.loaded,total:l.total})}),{isStreamingSupported:a,isRangeSupported:r,contentLength:s}}),t.on("GetRangeReader",(i,a)=>{vi(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(i.begin,i.end);if(!r){a.close();return}a.onPull=()=>{r.read().then(function({value:s,done:l}){if(l){a.close();return}vi(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{a.error(s)})},a.onCancel=s=>{r.cancel(s),a.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,n._capability.resolve(new rlt(i,this))}),t.on("DocException",i=>{n._capability.reject(nr(i))}),t.on("PasswordRequest",i=>{this.#r=Promise.withResolvers();try{if(!n.onPassword)throw nr(i);const a=r=>{r instanceof Error?this.#r.reject(r):this.#r.resolve({password:r})};n.onPassword(a,i.code)}catch(a){this.#r.reject(a)}return this.#r.promise}),t.on("DataLoaded",i=>{n.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;this.#e.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,a,r])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(a){case"Font":if("error"in r){const d=r.error;ve(`Error during font loading: ${d}`),this.commonObjs.resolve(i,d);break}const s=this._params.pdfBug&&globalThis.FontInspector?.enabled?(d,f)=>globalThis.FontInspector.fontAdded(d,f):null,l=new hot(r,s);this.fontLoader.bind(l).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!l.fontExtraProperties&&l.data&&(l.data=null),this.commonObjs.resolve(i,l)});break;case"CopyLocalImage":const{imageRef:c}=r;vi(c,"The imageRef must be defined.");for(const d of this.#e.values())for(const[,f]of d.objs)if(f?.ref===c)return f.dataLen?(this.commonObjs.resolve(i,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,r);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),t.on("obj",([i,a,r,s])=>{if(this.destroyed)return;const l=this.#e.get(a);if(!l.objs.has(i)){if(l._intentStates.size===0){s?.bitmap?.close();return}switch(r){case"Image":case"Pattern":l.objs.resolve(i,s);break;default:throw new Error(`Got unknown object type ${r}`)}}}),t.on("DocProgress",i=>{this.destroyed||n.onProgress?.({loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[i.type];if(!a)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&ve("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=t-1,i=this.#n.get(n);if(i)return i;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&this.#i.set(r.refStr,t);const s=new slt(n,r,this,this._params.pdfBug);return this.#e.set(n,s),s});return this.#n.set(n,a),a}getPageIndex(t){return YA(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:n})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#a("GetOptionalContentConfig").then(n=>new Iot(n,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",n=this.#t.get(t);if(n)return n;const i=this.messageHandler.sendWithPromise(t,null).then(a=>({info:a[0],metadata:a[1]?new Fot(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of this.#e.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),Pa.cleanup()}}cachedPageNumber(t){if(!YA(t))return null;const n=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#i.get(n)??null}}class llt{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:n}=this.#t;return t.form||t.canvas&&n?.size>0}}class sp{#t=null;static#e=new WeakSet;constructor({callback:t,params:n,objs:i,commonObjs:a,annotationCanvasMap:r,operatorList:s,pageIndex:l,canvasFactory:c,filterFactory:d,useRequestAnimationFrame:f=!1,pdfBug:m=!1,pageColors:v=null}){this.callback=t,this.params=n,this.objs=i,this.commonObjs=a,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=l,this.canvasFactory=c,this.filterFactory=d,this._pdfBug=m,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new llt(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:n}){if(this.cancelled)return;if(this._canvas){if(sp.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");sp.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:a,transform:r,background:s}=this.params;this.gfx=new op(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:a,transparency:t,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,n=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),sp.#e.delete(this._canvas),t||=new uT(`Rendering cancelled, page ${this._pageIndex+1}`,n),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),sp.#e.delete(this._canvas),this.callback())))}}const clt="5.3.93",ult="cbeef3233";function CO(e){return Math.floor(Math.max(0,Math.min(1,e))*255).toString(16).padStart(2,"0")}function vm(e){return Math.max(0,Math.min(255,255*e))}class TO{static CMYK_G([t,n,i,a]){return["G",1-Math.min(1,.3*t+.59*i+.11*n+a)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=vm(t),[t,t,t]}static G_HTML([t]){const n=CO(t);return`#${n}${n}${n}`}static RGB_G([t,n,i]){return["G",.3*t+.59*n+.11*i]}static RGB_rgb(t){return t.map(vm)}static RGB_HTML(t){return`#${t.map(CO).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,n,i,a]){return["RGB",1-Math.min(1,t+a),1-Math.min(1,i+a),1-Math.min(1,n+a)]}static CMYK_rgb([t,n,i,a]){return[vm(1-Math.min(1,t+a)),vm(1-Math.min(1,i+a)),vm(1-Math.min(1,n+a))]}static CMYK_HTML(t){const n=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([t,n,i]){const a=1-t,r=1-n,s=1-i,l=Math.min(a,r,s);return["CMYK",a,r,s,l]}}class dlt{create(t,n,i=!1){if(t<=0||n<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),i||(a.setAttribute("width",`${t}px`),a.setAttribute("height",`${n}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${t} ${n}`),a}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){xn("Abstract method `_createSVG` called.")}}class E1 extends dlt{_createSVG(t){return document.createElementNS(Vl,t)}}class Fj{static setupStorage(t,n,i,a,r){const s=a.getValue(n,{value:null});switch(i.name){case"textarea":if(s.value!==null&&(t.textContent=s.value),r==="print")break;t.addEventListener("input",l=>{a.setValue(n,{value:l.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(s.value===i.attributes.xfaOn?t.setAttribute("checked",!0):s.value===i.attributes.xfaOff&&t.removeAttribute("checked"),r==="print")break;t.addEventListener("change",l=>{a.setValue(n,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&t.setAttribute("value",s.value),r==="print")break;t.addEventListener("input",l=>{a.setValue(n,{value:l.target.value})})}break;case"select":if(s.value!==null){t.setAttribute("value",s.value);for(const l of i.children)l.attributes.value===s.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}t.addEventListener("input",l=>{const c=l.target.options,d=c.selectedIndex===-1?"":c[c.selectedIndex].value;a.setValue(n,{value:d})});break}}static setAttributes({html:t,element:n,storage:i=null,intent:a,linkService:r}){const{attributes:s}=n,l=t instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${a}`);for(const[c,d]of Object.entries(s))if(d!=null)switch(c){case"class":d.length&&t.setAttribute(c,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!l||c!=="href"&&c!=="newWindow")&&t.setAttribute(c,d)}l&&r.addLinkAttributes(t,s.href,s.newWindow),i&&s.dataId&&this.setupStorage(t,s.dataId,n,i)}static render(t){const n=t.annotationStorage,i=t.linkService,a=t.xfaHtml,r=t.intent||"display",s=document.createElement(a.name);a.attributes&&this.setAttributes({html:s,element:a,intent:r,linkService:i});const l=r!=="richText",c=t.div;if(c.append(s),t.viewport){const m=`matrix(${t.viewport.transform.join(",")})`;c.style.transform=m}l&&c.setAttribute("class","xfaLayer xfaFont");const d=[];if(a.children.length===0){if(a.value){const m=document.createTextNode(a.value);s.append(m),l&&X0.shouldBuildText(a.name)&&d.push(m)}return{textDivs:d}}const f=[[a,-1,s]];for(;f.length>0;){const[m,v,y]=f.at(-1);if(v+1===m.children.length){f.pop();continue}const x=m.children[++f.at(-1)[1]];if(x===null)continue;const{name:_}=x;if(_==="#text"){const R=document.createTextNode(x.value);d.push(R),y.append(R);continue}const E=x?.attributes?.xmlns?document.createElementNS(x.attributes.xmlns,_):document.createElement(_);if(y.append(E),x.attributes&&this.setAttributes({html:E,element:x,storage:n,intent:r,linkService:i}),x.children?.length>0)f.push([x,-1,E]);else if(x.value){const R=document.createTextNode(x.value);l&&X0.shouldBuildText(_)&&d.push(R),E.append(R)}}for(const m of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const n=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=n,t.div.hidden=!1}}const hlt=9,Zd=new WeakSet;class RO{static create(t){switch(t.data.annotationType){case pi.LINK:return new Bj(t);case pi.TEXT:return new flt(t);case pi.WIDGET:switch(t.data.fieldType){case"Tx":return new plt(t);case"Btn":return t.data.radioButton?new Ij(t):t.data.checkBox?new mlt(t):new vlt(t);case"Ch":return new ylt(t);case"Sig":return new glt(t)}return new dh(t);case pi.POPUP:return new XA(t);case pi.FREETEXT:return new zj(t);case pi.LINE:return new xlt(t);case pi.SQUARE:return new Slt(t);case pi.CIRCLE:return new _lt(t);case pi.POLYLINE:return new Uj(t);case pi.CARET:return new Elt(t);case pi.INK:return new xT(t);case pi.POLYGON:return new wlt(t);case pi.HIGHLIGHT:return new Hj(t);case pi.UNDERLINE:return new Alt(t);case pi.SQUIGGLY:return new Clt(t);case pi.STRIKEOUT:return new Tlt(t);case pi.STAMP:return new Gj(t);case pi.FILEATTACHMENT:return new Rlt(t);default:return new oi(t)}}}class oi{#t=null;#e=!1;#n=null;constructor(t,{isRenderable:n=!1,ignoreBorder:i=!1,createQuadrilaterals:a=!1}={}){this.isRenderable=n,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,n&&(this.container=this._createContainer(i)),a&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:n}){return!!(t?.str||n?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return oi._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#t||={rect:this.data.rect.slice(0)};const{rect:n}=t;n&&this.#i(n),this.#n?.popup.updateEdited(t)}resetEdited(){this.#t&&(this.#i(this.#t.rect),this.#n?.popup.resetEdited(),this.#t=null)}#i(t){const{container:{style:n},data:{rect:i,rotation:a},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:s,pageX:l,pageY:c}}}}=this;i?.splice(0,4,...t),n.left=`${100*(t[0]-l)/r}%`,n.top=`${100*(s-t[3]+c)/s}%`,a===0?(n.width=`${100*(t[2]-t[0])/r}%`,n.height=`${100*(t[3]-t[1])/s}%`):this.setRotation(a)}_createContainer(t){const{data:n,parent:{page:i,viewport:a}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",n.id),this instanceof dh||(r.tabIndex=0);const{style:s}=r;if(s.zIndex=this.parent.zIndex++,n.alternativeText&&(r.title=n.alternativeText),n.noRotate&&r.classList.add("norotate"),!n.rect||this instanceof XA){const{rotation:_}=n;return!n.hasOwnCanvas&&_!==0&&this.setRotation(_,r),r}const{width:l,height:c}=this;if(!t&&n.borderStyle.width>0){s.borderWidth=`${n.borderStyle.width}px`;const _=n.borderStyle.horizontalCornerRadius,E=n.borderStyle.verticalCornerRadius;if(_>0||E>0){const A=`calc(${_}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;s.borderRadius=A}else if(this instanceof Ij){const A=`calc(${l}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;s.borderRadius=A}switch(n.borderStyle.style){case Xf.SOLID:s.borderStyle="solid";break;case Xf.DASHED:s.borderStyle="dashed";break;case Xf.BEVELED:ve("Unimplemented border style: beveled");break;case Xf.INSET:ve("Unimplemented border style: inset");break;case Xf.UNDERLINE:s.borderBottomStyle="solid";break}const R=n.borderColor||null;R?(this.#e=!0,s.borderColor=Jt.makeHexColor(R[0]|0,R[1]|0,R[2]|0)):s.borderWidth=0}const d=Jt.normalizeRect([n.rect[0],i.view[3]-n.rect[1]+i.view[1],n.rect[2],i.view[3]-n.rect[3]+i.view[1]]),{pageWidth:f,pageHeight:m,pageX:v,pageY:y}=a.rawDims;s.left=`${100*(d[0]-v)/f}%`,s.top=`${100*(d[1]-y)/m}%`;const{rotation:x}=n;return n.hasOwnCanvas||x===0?(s.width=`${100*l/f}%`,s.height=`${100*c/m}%`):this.setRotation(x,r),r}setRotation(t,n=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:a}=this.parent.viewport.rawDims;let{width:r,height:s}=this;t%180!==0&&([r,s]=[s,r]),n.style.width=`${100*r/i}%`,n.style.height=`${100*s/a}%`,n.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(n,i,a)=>{const r=a.detail[n],s=r[0],l=r.slice(1);a.target.style[i]=TO[`${s}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[i]:TO[`${s}_rgb`](l)})};return ze(this,"_commonActions",{display:n=>{const{display:i}=n.detail,a=i%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:i===1||i===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:i}=n.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{t("bgColor","backgroundColor",n)},fillColor:n=>{t("fillColor","backgroundColor",n)},fgColor:n=>{t("fgColor","color",n)},textColor:n=>{t("textColor","color",n)},borderColor:n=>{t("borderColor","borderColor",n)},strokeColor:n=>{t("strokeColor","borderColor",n)},rotation:n=>{const i=n.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,n){const i=this._commonActions;for(const a of Object.keys(n.detail))(t[a]||i[a])?.(n)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const i=this._commonActions;for(const[a,r]of Object.entries(n)){const s=i[a];if(s){const l={detail:{[a]:r},target:t};s(l),delete n[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[n,i,a,r]=this.data.rect.map(_=>Math.fround(_));if(t.length===8){const[_,E,R,A]=t.subarray(2,6);if(a===_&&r===E&&n===R&&i===A)return}const{style:s}=this.container;let l;if(this.#e){const{borderColor:_,borderWidth:E}=s;s.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${_}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const c=a-n,d=r-i,{svgFactory:f}=this,m=f.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0),m.role="none";const v=f.createElement("defs");m.append(v);const y=f.createElement("clipPath"),x=`clippath_${this.data.id}`;y.setAttribute("id",x),y.setAttribute("clipPathUnits","objectBoundingBox"),v.append(y);for(let _=2,E=t.length;_<E;_+=8){const R=t[_],A=t[_+1],w=t[_+2],M=t[_+3],D=f.createElement("rect"),P=(w-n)/c,z=(r-A)/d,L=(R-w)/c,U=(A-M)/d;D.setAttribute("x",P),D.setAttribute("y",z),D.setAttribute("width",L),D.setAttribute("height",U),y.append(D),l?.push(`<rect vector-effect="non-scaling-stroke" x="${P}" y="${z}" width="${L}" height="${U}"/>`)}this.#e&&(l.push("</g></svg>')"),s.backgroundImage=l.join("")),this.container.append(m),this.container.style.clipPath=`url(#${x})`}_createPopup(){const{data:t}=this,n=this.#n=new XA({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},parent:this.parent,elements:[this]});this.parent.div.append(n.render())}render(){xn("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,n=null){const i=[];if(this._fieldObjects){const a=this._fieldObjects[t];if(a)for(const{page:r,id:s,exportValues:l}of a){if(r===-1||s===n)continue;const c=typeof l=="string"?l:null,d=document.querySelector(`[data-element-id="${s}"]`);if(d&&!Zd.has(d)){ve(`_getElementsByName - element not allowed: ${s}`);continue}i.push({id:s,exportValue:c,domElement:d})}return i}for(const a of document.getElementsByName(t)){const{exportValue:r}=a,s=a.getAttribute("data-element-id");s!==n&&Zd.has(a)&&i.push({id:s,exportValue:r,domElement:a})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const n of t)n.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class Bj extends oi{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!n?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let a=!1;return t.url?(n.addLinkAttributes(i,t.url,t.newWindow),a=!0):t.action?(this._bindNamedAction(i,t.action),a=!0):t.attachment?(this.#e(i,t.attachment,t.attachmentDest),a=!0):t.setOCGState?(this.#n(i,t.setOCGState),a=!0):t.dest?(this._bindLink(i,t.dest),a=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),a=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(i,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(i),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&this.#t()}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),this.#t()}#e(t,n,i=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(n.content,n.filename,i),!1),this.#t()}#n(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),this.#t()}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(n.actions)){const r=i.get(a);r&&(t[r]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:a}}),!1))}t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,n){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){ve('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{i?.();const{fields:a,refs:r,include:s}=n,l=[];if(a.length!==0||r.length!==0){const f=new Set(r);for(const m of a){const v=this._fieldObjects[m]||[];for(const{id:y}of v)f.add(y)}for(const m of Object.values(this._fieldObjects))for(const v of m)f.has(v.id)===s&&l.push(v)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const c=this.annotationStorage,d=[];for(const f of l){const{id:m}=f;switch(d.push(m),f.type){case"text":{const y=f.defaultValue||"";c.setValue(m,{value:y});break}case"checkbox":case"radiobutton":{const y=f.defaultValue===f.exportValues;c.setValue(m,{value:y});break}case"combobox":case"listbox":{const y=f.defaultValue||"";c.setValue(m,{value:y});break}default:continue}const v=document.querySelector(`[data-element-id="${m}"]`);if(v){if(!Zd.has(v)){ve(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}}),!1}}}class flt extends oi{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class dh extends oi{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return aa.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,n,i,a,r){i.includes("mouse")?t.addEventListener(i,s=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:r(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):t.addEventListener(i,s=>{if(i==="blur"){if(!n.focused||!s.relatedTarget)return;n.focused=!1}else if(i==="focus"){if(n.focused)return;n.focused=!0}r&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:r(s)}})})}_setEventListeners(t,n,i,a){for(const[r,s]of i)(s==="Action"||this.data.actions?.[s])&&((s==="Focus"||s==="Blur")&&(n||={focused:!1}),this._setEventListener(t,n,r,s,a),s==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,n,"blur","Blur",null):s==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,n,"focus","Focus",null))}_setBackgroundColor(t){const n=this.data.backgroundColor||null;t.style.backgroundColor=n===null?"transparent":Jt.makeHexColor(n[0],n[1],n[2])}_setTextStyle(t){const n=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||hlt,r=t.style;let s;const l=2,c=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l),f=Math.round(d/(fE*a))||1,m=d/f;s=Math.min(a,c(m/fE))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l);s=Math.min(a,c(d/fE))}r.fontSize=`calc(${s}px * var(--total-scale-factor))`,r.color=Jt.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(r.textAlign=n[this.data.textAlignment])}_setRequired(t,n){n?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",n)}}class plt extends dh{constructor(t){const n=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:n})}setPropertyOnSiblings(t,n,i,a){const r=this.annotationStorage;for(const s of this._getElementsByName(t.name,t.id))s.domElement&&(s.domElement[n]=i),r.setValue(s.id,{[a]:i})}render(){const t=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=t.getValue(n,{value:this.data.fieldValue});let r=a.value||"";const s=t.getValue(n,{charLimit:this.data.maxLen}).charLimit;s&&r.length>s&&(r=r.slice(0,s));let l=a.formattedValue||this.data.textContent?.join(`
`)||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const c={userValue:r,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=l??r,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",l??r),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Zd.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const d=this.data.dateFormat||this.data.timeFormat;d&&(i.title=d),this._setRequired(i,this.data.required),s&&(i.maxLength=s),i.addEventListener("input",m=>{t.setValue(n,{value:m.target.value}),this.setPropertyOnSiblings(i,"value",m.target.value,"value"),c.formattedValue=null}),i.addEventListener("resetform",m=>{const v=this.data.defaultFieldValue??"";i.value=c.userValue=v,c.formattedValue=null});let f=m=>{const{formattedValue:v}=c;v!=null&&(m.target.value=v),m.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",v=>{if(c.focused)return;const{target:y}=v;c.userValue&&(y.value=c.userValue),c.lastCommittedValue=y.value,c.commitKey=1,this.data.actions?.Focus||(c.focused=!0)}),i.addEventListener("updatefromsandbox",v=>{this.showElementAndHideCanvas(v.target);const y={value(x){c.userValue=x.detail.value??"",t.setValue(n,{value:c.userValue.toString()}),x.target.value=c.userValue},formattedValue(x){const{formattedValue:_}=x.detail;c.formattedValue=_,_!=null&&x.target!==document.activeElement&&(x.target.value=_),t.setValue(n,{formattedValue:_})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{const{charLimit:_}=x.detail,{target:E}=x;if(_===0){E.removeAttribute("maxLength");return}E.setAttribute("maxLength",_);let R=c.userValue;!R||R.length<=_||(R=R.slice(0,_),E.value=c.userValue=R,t.setValue(n,{value:R}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:R,willCommit:!0,commitKey:1,selStart:E.selectionStart,selEnd:E.selectionEnd}}))}};this._dispatchEventFromSandbox(y,v)}),i.addEventListener("keydown",v=>{c.commitKey=1;let y=-1;if(v.key==="Escape"?y=0:v.key==="Enter"&&!this.data.multiLine?y=2:v.key==="Tab"&&(c.commitKey=3),y===-1)return;const{value:x}=v.target;c.lastCommittedValue!==x&&(c.lastCommittedValue=x,c.userValue=x,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:x,willCommit:!0,commitKey:y,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}))});const m=f;f=null,i.addEventListener("blur",v=>{if(!c.focused||!v.relatedTarget)return;this.data.actions?.Blur||(c.focused=!1);const{value:y}=v.target;c.userValue=y,c.lastCommittedValue!==y&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:y,willCommit:!0,commitKey:c.commitKey,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}),m(v)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",v=>{c.lastCommittedValue=null;const{data:y,target:x}=v,{value:_,selectionStart:E,selectionEnd:R}=x;let A=E,w=R;switch(v.inputType){case"deleteWordBackward":{const M=_.substring(0,E).match(/\w*[^\w]*$/);M&&(A-=M[0].length);break}case"deleteWordForward":{const M=_.substring(E).match(/^[^\w]*\w*/);M&&(w+=M[0].length);break}case"deleteContentBackward":E===R&&(A-=1);break;case"deleteContentForward":E===R&&(w+=1);break}v.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:_,change:y||"",willCommit:!1,selStart:A,selEnd:w}})}),this._setEventListeners(i,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],v=>v.target.value)}if(f&&i.addEventListener("blur",f),this.data.comb){const v=(this.data.rect[2]-this.data.rect[0])/s;i.classList.add("comb"),i.style.letterSpacing=`calc(${v}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class glt extends dh{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class mlt extends dh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,n=this.data,i=n.id;let a=t.getValue(i,{value:n.exportValue===n.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",t.setValue(i,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return Zd.add(r),r.setAttribute("data-element-id",i),r.disabled=n.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=n.fieldName,a&&r.setAttribute("checked",!0),r.setAttribute("exportValue",n.exportValue),r.tabIndex=0,r.addEventListener("change",s=>{const{name:l,checked:c}=s.target;for(const d of this._getElementsByName(l,i)){const f=c&&d.exportValue===n.exportValue;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}t.setValue(i,{value:c})}),r.addEventListener("resetform",s=>{const l=n.defaultFieldValue||"Off";s.target.checked=l===n.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",s=>{const l={value(c){c.target.checked=c.detail.value!=="Off",t.setValue(i,{value:c.target.checked})}};this._dispatchEventFromSandbox(l,s)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Ij extends dh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,n=this.data,i=n.id;let a=t.getValue(i,{value:n.fieldValue===n.buttonValue}).value;if(typeof a=="string"&&(a=a!==n.buttonValue,t.setValue(i,{value:a})),a)for(const s of this._getElementsByName(n.fieldName,i))t.setValue(s.id,{value:!1});const r=document.createElement("input");if(Zd.add(r),r.setAttribute("data-element-id",i),r.disabled=n.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=n.fieldName,a&&r.setAttribute("checked",!0),r.tabIndex=0,r.addEventListener("change",s=>{const{name:l,checked:c}=s.target;for(const d of this._getElementsByName(l,i))t.setValue(d.id,{value:!1});t.setValue(i,{value:c})}),r.addEventListener("resetform",s=>{const l=n.defaultFieldValue;s.target.checked=l!=null&&l===n.buttonValue}),this.enableScripting&&this.hasJSActions){const s=n.buttonValue;r.addEventListener("updatefromsandbox",l=>{const c={value:d=>{const f=s===d.detail.value;for(const m of this._getElementsByName(d.target.name)){const v=f&&m.id===i;m.domElement&&(m.domElement.checked=v),t.setValue(m.id,{value:v})}}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class vlt extends Bj{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const n=t.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class ylt extends dh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,n=this.data.id,i=t.getValue(n,{value:this.data.fieldValue}),a=document.createElement("select");Zd.add(a),a.setAttribute("data-element-id",n),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",f=>{const m=this.data.defaultFieldValue;for(const v of a.options)v.selected=v.value===m});for(const f of this.data.options){const m=document.createElement("option");m.textContent=f.displayValue,m.value=f.exportValue,i.value.includes(f.exportValue)&&(m.setAttribute("selected",!0),r=!1),a.append(m)}let s=null;if(r){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),a.prepend(f),s=()=>{f.remove(),a.removeEventListener("input",s),s=null},a.addEventListener("input",s)}const l=f=>{const m=f?"value":"textContent",{options:v,multiple:y}=a;return y?Array.prototype.filter.call(v,x=>x.selected).map(x=>x[m]):v.selectedIndex===-1?null:v[v.selectedIndex][m]};let c=l(!1);const d=f=>{const m=f.target.options;return Array.prototype.map.call(m,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",f=>{const m={value(v){s?.();const y=v.detail.value,x=new Set(Array.isArray(y)?y:[y]);for(const _ of a.options)_.selected=x.has(_.value);t.setValue(n,{value:l(!0)}),c=l(!1)},multipleSelection(v){a.multiple=!0},remove(v){const y=a.options,x=v.detail.remove;y[x].selected=!1,a.remove(x),y.length>0&&Array.prototype.findIndex.call(y,E=>E.selected)===-1&&(y[0].selected=!0),t.setValue(n,{value:l(!0),items:d(v)}),c=l(!1)},clear(v){for(;a.length!==0;)a.remove(0);t.setValue(n,{value:null,items:[]}),c=l(!1)},insert(v){const{index:y,displayValue:x,exportValue:_}=v.detail.insert,E=a.children[y],R=document.createElement("option");R.textContent=x,R.value=_,E?E.before(R):a.append(R),t.setValue(n,{value:l(!0),items:d(v)}),c=l(!1)},items(v){const{items:y}=v.detail;for(;a.length!==0;)a.remove(0);for(const x of y){const{displayValue:_,exportValue:E}=x,R=document.createElement("option");R.textContent=_,R.value=E,a.append(R)}a.options.length>0&&(a.options[0].selected=!0),t.setValue(n,{value:l(!0),items:d(v)}),c=l(!1)},indices(v){const y=new Set(v.detail.indices);for(const x of v.target.options)x.selected=y.has(x.index);t.setValue(n,{value:l(!0)}),c=l(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(m,f)}),a.addEventListener("input",f=>{const m=l(!0),v=l(!1);t.setValue(n,{value:m}),f.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:c,change:v,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):a.addEventListener("input",function(f){t.setValue(n,{value:l(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class XA extends oi{constructor(t){const{data:n,elements:i}=t;super(t,{isRenderable:oi._hasPopupData(n)}),this.elements=i,this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const n=this.popup=new blt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),i=[];for(const a of this.elements)a.popup=n,a.container.ariaHasPopup="dialog",i.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(a=>`${cT}${a}`).join(",")),this.container}}class blt{#t=this.#C.bind(this);#e=this.#T.bind(this);#n=this.#R.bind(this);#i=this.#E.bind(this);#r=null;#a=null;#o=null;#s=null;#d=null;#l=null;#h=null;#u=!1;#f=null;#p=null;#g=null;#c=null;#m=null;#v=null;#y=!1;constructor({container:t,color:n,elements:i,titleObj:a,modificationDate:r,contentsObj:s,richText:l,parent:c,rect:d,parentRect:f,open:m}){this.#a=t,this.#m=a,this.#o=s,this.#c=l,this.#l=c,this.#r=n,this.#g=d,this.#h=f,this.#d=i,this.#s=vj.toDateObject(r),this.trigger=i.flatMap(v=>v.getElementsToTriggerPopup());for(const v of this.trigger)v.addEventListener("click",this.#i),v.addEventListener("mouseenter",this.#n),v.addEventListener("mouseleave",this.#e),v.classList.add("popupTriggerArea");for(const v of i)v.container?.addEventListener("keydown",this.#t);this.#a.hidden=!0,m&&this.#E()}render(){if(this.#f)return;const t=this.#f=document.createElement("div");if(t.className="popup",this.#r){const r=t.style.outlineColor=Jt.makeHexColor(...this.#r);t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const n=document.createElement("span");n.className="header";const i=document.createElement("h1");if(n.append(i),{dir:i.dir,str:i.textContent}=this.#m,t.append(n),this.#s){const r=document.createElement("time");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#s.valueOf()})),r.dateTime=this.#s.toISOString(),n.append(r)}const a=this.#b;if(a)Fj.render({xfaHtml:a,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(this.#o);t.append(r)}this.#a.append(t)}get#b(){const t=this.#c,n=this.#o;return t?.str&&(!n?.str||n.str===t.str)&&this.#c.html||null}get#x(){return this.#b?.attributes?.style?.fontSize||0}get#_(){return this.#b?.attributes?.style?.color||null}#w(t){const n=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},a={style:{color:this.#_,fontSize:this.#x?`calc(${this.#x}px * var(--total-scale-factor))`:""}};for(const r of t.split(`
`))n.push({name:"span",value:r,attributes:a});return i}_formatContents({str:t,dir:n}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=n;const a=t.split(/(?:\r\n?|\n)/);for(let r=0,s=a.length;r<s;++r){const l=a[r];i.append(document.createTextNode(l)),r<s-1&&i.append(document.createElement("br"))}return i}#C(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#u)&&this.#E()}updateEdited({rect:t,popupContent:n}){this.#v||={contentsObj:this.#o,richText:this.#c},t&&(this.#p=null),n&&(this.#c=this.#w(n),this.#o=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#v&&({contentsObj:this.#o,richText:this.#c}=this.#v,this.#v=null,this.#f?.remove(),this.#f=null,this.#p=null)}#M(){if(this.#p!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:a,pageY:r}}}=this.#l;let s=!!this.#h,l=s?this.#h:this.#g;for(const x of this.#d)if(!l||Jt.intersect(x.data.rect,l)!==null){l=x.data.rect,s=!0;break}const c=Jt.normalizeRect([l[0],t[3]-l[1]+t[1],l[2],t[3]-l[3]+t[1]]),f=s?l[2]-l[0]+5:0,m=c[0]+f,v=c[1];this.#p=[100*(m-a)/n,100*(v-r)/i];const{style:y}=this.#a;y.left=`${this.#p[0]}%`,y.top=`${this.#p[1]}%`}#E(){this.#u=!this.#u,this.#u?(this.#R(),this.#a.addEventListener("click",this.#i),this.#a.addEventListener("keydown",this.#t)):(this.#T(),this.#a.removeEventListener("click",this.#i),this.#a.removeEventListener("keydown",this.#t))}#R(){this.#f||this.render(),this.isVisible?this.#u&&this.#a.classList.add("focused"):(this.#M(),this.#a.hidden=!1,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)+1e3)}#T(){this.#a.classList.remove("focused"),!(this.#u||!this.isVisible)&&(this.#a.hidden=!0,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)-1e3)}forceHide(){this.#y=this.isVisible,this.#y&&(this.#a.hidden=!0)}maybeShow(){this.#y&&(this.#f||this.#R(),this.#y=!1,this.#a.hidden=!1)}get isVisible(){return this.#a.hidden===!1}}class zj extends oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=me.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const n of this.textContent){const i=document.createElement("span");i.textContent=n,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class xlt extends oi{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:n,height:i}=this,a=this.svgFactory.create(n,i,!0),r=this.#t=this.svgFactory.createElement("svg:line");return r.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),r.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),r.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),r.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),r.setAttribute("stroke-width",t.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),a.append(r),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Slt extends oi{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:n,height:i}=this,a=this.svgFactory.create(n,i,!0),r=t.borderStyle.width,s=this.#t=this.svgFactory.createElement("svg:rect");return s.setAttribute("x",r/2),s.setAttribute("y",r/2),s.setAttribute("width",n-r),s.setAttribute("height",i-r),s.setAttribute("stroke-width",r||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),a.append(s),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class _lt extends oi{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:n,height:i}=this,a=this.svgFactory.create(n,i,!0),r=t.borderStyle.width,s=this.#t=this.svgFactory.createElement("svg:ellipse");return s.setAttribute("cx",n/2),s.setAttribute("cy",i/2),s.setAttribute("rx",n/2-r/2),s.setAttribute("ry",i/2-r/2),s.setAttribute("stroke-width",r||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),a.append(s),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Uj extends oi{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:i,popupRef:a},width:r,height:s}=this;if(!n)return this.container;const l=this.svgFactory.create(r,s,!0);let c=[];for(let f=0,m=n.length;f<m;f+=2){const v=n[f]-t[0],y=t[3]-n[f+1];c.push(`${v},${y}`)}c=c.join(" ");const d=this.#t=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",c),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class wlt extends Uj{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Elt extends oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class xT extends oi{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?me.HIGHLIGHT:me.INK}#n(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:i,borderStyle:a,popupRef:r}}=this,{transform:s,width:l,height:c}=this.#n(n,t),d=this.svgFactory.create(l,c,!0),f=this.#t=this.svgFactory.createElement("svg:g");d.append(f),f.setAttribute("stroke-width",a.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",s);for(let m=0,v=i.length;m<v;m++){const y=this.svgFactory.createElement(this.svgElementName);this.#e.push(y),y.setAttribute("points",i[m].join(",")),f.append(y)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:i,rect:a}=t,r=this.#t;if(n>=0&&r.setAttribute("stroke-width",n||1),i)for(let s=0,l=this.#e.length;s<l;s++)this.#e[s].setAttribute("points",i[s].join(","));if(a){const{transform:s,width:l,height:c}=this.#n(this.data.rotation,a);r.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),r.setAttribute("transform",s)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Hj extends oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=me.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class Alt extends oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class Clt extends oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class Tlt extends oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class Gj extends oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=me.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Rlt extends oi{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:n}=this.data;this.filename=n.filename,this.content=n.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#e.bind(this)),this.#t=i;const{isMac:a}=aa.platform;return t.addEventListener("keydown",r=>{r.key==="Enter"&&(a?r.metaKey:r.ctrlKey)&&this.#e()}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class ST{#t=null;#e=null;#n=new Map;#i=null;constructor({div:t,accessibilityManager:n,annotationCanvasMap:i,annotationEditorUIManager:a,page:r,viewport:s,structTreeLayer:l}){this.div=t,this.#t=n,this.#e=i,this.#i=l||null,this.page=r,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=a}hasEditableAnnotations(){return this.#n.size>0}async#r(t,n,i){const a=t.firstChild||t,r=a.id=`${cT}${n}`,s=await this.#i?.getAriaAttributes(r);if(s)for(const[l,c]of s)a.setAttribute(l,c);i?i.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,a,!1))}async render(t){const{annotations:n}=t,i=this.div;Qd(i,this.viewport);const a=new Map,r={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new E1,annotationStorage:t.annotationStorage||new gT,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const s of n){if(s.noHTML)continue;const l=s.annotationType===pi.POPUP;if(l){const f=a.get(s.id);if(!f)continue;r.elements=f}else if(s.rect[2]===s.rect[0]||s.rect[3]===s.rect[1])continue;r.data=s;const c=RO.create(r);if(!c.isRenderable)continue;if(!l&&s.popupRef){const f=a.get(s.popupRef);f?f.push(c):a.set(s.popupRef,[c])}const d=c.render();s.hidden&&(d.style.visibility="hidden"),await this.#r(d,s.id,r.elements),c._isEditable&&(this.#n.set(c.data.id,c),this._annotationEditorUIManager?.renderAnnotationElement(c))}this.#a()}async addLinkAnnotations(t,n){const i={data:null,layer:this.div,linkService:n,svgFactory:new E1,parent:this};for(const a of t){a.borderStyle||=ST._defaultBorderStyle,i.data=a;const r=RO.create(i);if(!r.isRenderable)continue;const s=r.render();await this.#r(s,a.id,null)}}update({viewport:t}){const n=this.div;this.viewport=t,Qd(n,{rotation:t.rotation}),this.#a(),n.hidden=!1}#a(){if(!this.#e)return;const t=this.div;for(const[n,i]of this.#e){const a=t.querySelector(`[data-annotation-id="${n}"]`);if(!a)continue;i.className="annotationContent";const{firstChild:r}=a;r?r.nodeName==="CANVAS"?r.replaceWith(i):r.classList.contains("annotationContent")?r.after(i):r.before(i):a.append(i);const s=this.#n.get(n);s&&(s._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(n,a.id,i),s._hasNoCanvas=!1):s.canvas=i)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}static get _defaultBorderStyle(){return ze(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Xf.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const Ab=/\r\n?|\n/g;class wi extends ne{#t;#e="";#n=`${this.id}-editor`;#i=null;#r;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=wi.prototype,n=r=>r.isEmpty(),i=xu.TRANSLATE_SMALL,a=xu.TRANSLATE_BIG;return ze(this,"_keyboardManager",new Ev([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,a],checker:n}]]))}static _type="freetext";static _editorType=me.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#t=t.color||wi._defaultColor||ne._defaultLineColor,this.#r=t.fontSize||wi._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,n){ne.initialize(t,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case Ye.FREETEXT_SIZE:wi._defaultFontSize=n;break;case Ye.FREETEXT_COLOR:wi._defaultColor=n;break}}updateParams(t,n){switch(t){case Ye.FREETEXT_SIZE:this.#a(n);break;case Ye.FREETEXT_COLOR:this.#o(n);break}}static get defaultPropertiesToUpdate(){return[[Ye.FREETEXT_SIZE,wi._defaultFontSize],[Ye.FREETEXT_COLOR,wi._defaultColor||ne._defaultLineColor]]}get propertiesToUpdate(){return[[Ye.FREETEXT_SIZE,this.#r],[Ye.FREETEXT_COLOR,this.#t]]}#a(t){const n=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-this.#r)*this.parentScale),this.#r=a,this.#d()},i=this.#r;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ye.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#o(t){const n=a=>{this.#t=this.editorDiv.style.color=a},i=this.#t;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ye.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-wi._internalPadding*t,-(wi._internalPadding+this.#r)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#s(){const t=[];this.editorDiv.normalize();let n=null;for(const i of this.editorDiv.childNodes)n?.nodeType===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(wi.#l(i)),n=i);return t.join(`
`)}#d(){const[t,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:a,div:r}=this,s=r.style.display,l=r.classList.contains("hidden");r.classList.remove("hidden"),r.style.display="hidden",a.div.append(this.div),i=r.getBoundingClientRect(),r.remove(),r.style.display=s,r.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/n):(this.width=i.height/t,this.height=i.width/n),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#e,n=this.#e=this.#s().trimEnd();if(t===n)return;const i=a=>{if(this.#e=a,!a){this.remove();return}this.#h(),this._uiManager.rebuild(this),this.#d()};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(t)},mustExec:!1}),this.#d()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){wi._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,n;(this._isCopy||this.annotationElementId)&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#r}px * var(--total-scale-factor))`,i.color=this.#t,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,r]=this.parentDimensions;if(this.annotationElementId){const{position:s}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[d,f]=this.pageDimensions,[m,v]=this.pageTranslation;let y,x;switch(this.rotation){case 0:y=t+(s[0]-m)/d,x=n+this.height-(s[1]-v)/f;break;case 90:y=t+(s[0]-m)/d,x=n-(s[1]-v)/f,[l,c]=[c,-l];break;case 180:y=t-this.width+(s[0]-m)/d,x=n-(s[1]-v)/f,[l,c]=[-l,-c];break;case 270:y=t+(s[0]-m-this.height*f)/d,x=n+(s[1]-v-this.width*d)/f,[l,c]=[-c,l];break}this.setAt(y*a,x*r,l,c)}else this._moveAfterPaste(t,n);this.#h(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#l(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Ab,"")}editorDivPaste(t){const n=t.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const a=wi.#f(n.getData("text")||"").replaceAll(Ab,`
`);if(!a)return;const r=window.getSelection();if(!r.rangeCount)return;this.editorDiv.normalize(),r.deleteFromDocument();const s=r.getRangeAt(0);if(!a.includes(`
`)){s.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),r.collapseToStart();return}const{startContainer:l,startOffset:c}=s,d=[],f=[];if(l.nodeType===Node.TEXT_NODE){const y=l.parentElement;if(f.push(l.nodeValue.slice(c).replaceAll(Ab,"")),y!==this.editorDiv){let x=d;for(const _ of this.editorDiv.childNodes){if(_===y){x=f;continue}x.push(wi.#l(_))}}d.push(l.nodeValue.slice(0,c).replaceAll(Ab,""))}else if(l===this.editorDiv){let y=d,x=0;for(const _ of this.editorDiv.childNodes)x++===c&&(y=f),y.push(wi.#l(_))}this.#e=`${d.join(`
`)}${a}${f.join(`
`)}`,this.#h();const m=new Range;let v=Math.sumPrecise(d.map(y=>y.length));for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const x=y.nodeValue.length;if(v<=x){m.setStart(y,v),m.setEnd(y,v);break}v-=x}r.removeAllRanges(),r.addRange(m)}#h(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const t of this.#e.split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}}#u(){return this.#e.replaceAll(" "," ")}static#f(t){return t.replaceAll(" "," ")}get contentDiv(){return this.editorDiv}static async deserialize(t,n,i){let a=null;if(t instanceof zj){const{data:{defaultAppearanceData:{fontSize:s,fontColor:l},rect:c,rotation:d,id:f,popupRef:m},textContent:v,textPosition:y,parent:{page:{pageNumber:x}}}=t;if(!v||v.length===0)return null;a=t={annotationType:me.FREETEXT,color:Array.from(l),fontSize:s,value:v.join(`
`),position:y,pageIndex:x-1,rect:c.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:m}}const r=await super.deserialize(t,n,i);return r.#r=t.fontSize,r.#t=Jt.makeHexColor(...t.color),r.#e=wi.#f(t.value),r._initialData=a,r}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=wi._internalPadding*this.parentScale,i=this.getRect(n,n),a=ne._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#t),r={annotationType:me.FREETEXT,color:a,fontSize:this.#r,value:this.#u(),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(r.isCopy=!0,r):this.annotationElementId&&!this.#p(r)?null:(r.id=this.annotationElementId,r)}#p(t){const{value:n,fontSize:i,color:a,pageIndex:r}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==i||t.color.some((s,l)=>s!==a[l])||t.pageIndex!==r}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:i}=n;i.fontSize=`calc(${this.#r}px * var(--total-scale-factor))`,i.color=this.#t,n.replaceChildren();for(const r of this.#e.split(`
`)){const s=document.createElement("div");s.append(r?document.createTextNode(r):document.createElement("br")),n.append(s)}const a=wi._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(a,a),popupContent:this.#e}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class qt{static PRECISION=1e-4;toSVGPath(){xn("Abstract method `toSVGPath` must be implemented.")}get box(){xn("Abstract getter `box` must be implemented.")}serialize(t,n){xn("Abstract method `serialize` must be implemented.")}static _rescale(t,n,i,a,r,s){s||=new Float32Array(t.length);for(let l=0,c=t.length;l<c;l+=2)s[l]=n+t[l]*a,s[l+1]=i+t[l+1]*r;return s}static _rescaleAndSwap(t,n,i,a,r,s){s||=new Float32Array(t.length);for(let l=0,c=t.length;l<c;l+=2)s[l]=n+t[l+1]*a,s[l+1]=i+t[l]*r;return s}static _translate(t,n,i,a){a||=new Float32Array(t.length);for(let r=0,s=t.length;r<s;r+=2)a[r]=n+t[r],a[r+1]=i+t[r+1];return a}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,n,i,a,r){switch(r){case 90:return[1-n/i,t/a];case 180:return[1-t/i,1-n/a];case 270:return[n/i,1-t/a];default:return[t/i,n/a]}}static _normalizePagePoint(t,n,i){switch(i){case 90:return[1-n,t];case 180:return[1-t,1-n];case 270:return[n,1-t];default:return[t,n]}}static createBezierPoints(t,n,i,a,r,s){return[(t+5*i)/6,(n+5*a)/6,(5*i+r)/6,(5*a+s)/6,(i+r)/2,(a+s)/2]}}class jd{#t;#e=[];#n;#i;#r=[];#a=new Float32Array(18);#o;#s;#d;#l;#h;#u;#f=[];static#p=8;static#g=2;static#c=jd.#p+jd.#g;constructor({x:t,y:n},i,a,r,s,l=0){this.#t=i,this.#u=r*a,this.#i=s,this.#a.set([NaN,NaN,NaN,NaN,t,n],6),this.#n=l,this.#l=jd.#p*a,this.#d=jd.#c*a,this.#h=a,this.#f.push(t,n)}isEmpty(){return isNaN(this.#a[8])}#m(){const t=this.#a.subarray(4,6),n=this.#a.subarray(16,18),[i,a,r,s]=this.#t;return[(this.#o+(t[0]-n[0])/2-i)/r,(this.#s+(t[1]-n[1])/2-a)/s,(this.#o+(n[0]-t[0])/2-i)/r,(this.#s+(n[1]-t[1])/2-a)/s]}add({x:t,y:n}){this.#o=t,this.#s=n;const[i,a,r,s]=this.#t;let[l,c,d,f]=this.#a.subarray(8,12);const m=t-d,v=n-f,y=Math.hypot(m,v);if(y<this.#d)return!1;const x=y-this.#l,_=x/y,E=_*m,R=_*v;let A=l,w=c;l=d,c=f,d+=E,f+=R,this.#f?.push(t,n);const M=-R/x,D=E/x,P=M*this.#u,z=D*this.#u;return this.#a.set(this.#a.subarray(2,8),0),this.#a.set([d+P,f+z],4),this.#a.set(this.#a.subarray(14,18),12),this.#a.set([d-P,f-z],16),isNaN(this.#a[6])?(this.#r.length===0&&(this.#a.set([l+P,c+z],2),this.#r.push(NaN,NaN,NaN,NaN,(l+P-i)/r,(c+z-a)/s),this.#a.set([l-P,c-z],14),this.#e.push(NaN,NaN,NaN,NaN,(l-P-i)/r,(c-z-a)/s)),this.#a.set([A,w,l,c,d,f],6),!this.isEmpty()):(this.#a.set([A,w,l,c,d,f],6),Math.abs(Math.atan2(w-c,A-l)-Math.atan2(R,E))<Math.PI/2?([l,c,d,f]=this.#a.subarray(2,6),this.#r.push(NaN,NaN,NaN,NaN,((l+d)/2-i)/r,((c+f)/2-a)/s),[l,c,A,w]=this.#a.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((A+l)/2-i)/r,((w+c)/2-a)/s),!0):([A,w,l,c,d,f]=this.#a.subarray(0,6),this.#r.push(((A+5*l)/6-i)/r,((w+5*c)/6-a)/s,((5*l+d)/6-i)/r,((5*c+f)/6-a)/s,((l+d)/2-i)/r,((c+f)/2-a)/s),[d,f,l,c,A,w]=this.#a.subarray(12,18),this.#e.push(((A+5*l)/6-i)/r,((w+5*c)/6-a)/s,((5*l+d)/6-i)/r,((5*c+f)/6-a)/s,((l+d)/2-i)/r,((c+f)/2-a)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#r,n=this.#e;if(isNaN(this.#a[6])&&!this.isEmpty())return this.#v();const i=[];i.push(`M${t[4]} ${t[5]}`);for(let a=6;a<t.length;a+=6)isNaN(t[a])?i.push(`L${t[a+4]} ${t[a+5]}`):i.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);this.#b(i);for(let a=n.length-6;a>=6;a-=6)isNaN(n[a])?i.push(`L${n[a+4]} ${n[a+5]}`):i.push(`C${n[a]} ${n[a+1]} ${n[a+2]} ${n[a+3]} ${n[a+4]} ${n[a+5]}`);return this.#y(i),i.join(" ")}#v(){const[t,n,i,a]=this.#t,[r,s,l,c]=this.#m();return`M${(this.#a[2]-t)/i} ${(this.#a[3]-n)/a} L${(this.#a[4]-t)/i} ${(this.#a[5]-n)/a} L${r} ${s} L${l} ${c} L${(this.#a[16]-t)/i} ${(this.#a[17]-n)/a} L${(this.#a[14]-t)/i} ${(this.#a[15]-n)/a} Z`}#y(t){const n=this.#e;t.push(`L${n[4]} ${n[5]} Z`)}#b(t){const[n,i,a,r]=this.#t,s=this.#a.subarray(4,6),l=this.#a.subarray(16,18),[c,d,f,m]=this.#m();t.push(`L${(s[0]-n)/a} ${(s[1]-i)/r} L${c} ${d} L${f} ${m} L${(l[0]-n)/a} ${(l[1]-i)/r}`)}newFreeDrawOutline(t,n,i,a,r,s){return new qj(t,n,i,a,r,s)}getOutlines(){const t=this.#r,n=this.#e,i=this.#a,[a,r,s,l]=this.#t,c=new Float32Array((this.#f?.length??0)+2);for(let m=0,v=c.length-2;m<v;m+=2)c[m]=(this.#f[m]-a)/s,c[m+1]=(this.#f[m+1]-r)/l;if(c[c.length-2]=(this.#o-a)/s,c[c.length-1]=(this.#s-r)/l,isNaN(i[6])&&!this.isEmpty())return this.#x(c);const d=new Float32Array(this.#r.length+24+this.#e.length);let f=t.length;for(let m=0;m<f;m+=2){if(isNaN(t[m])){d[m]=d[m+1]=NaN;continue}d[m]=t[m],d[m+1]=t[m+1]}f=this.#w(d,f);for(let m=n.length-6;m>=6;m-=6)for(let v=0;v<6;v+=2){if(isNaN(n[m+v])){d[f]=d[f+1]=NaN,f+=2;continue}d[f]=n[m+v],d[f+1]=n[m+v+1],f+=2}return this.#_(d,f),this.newFreeDrawOutline(d,c,this.#t,this.#h,this.#n,this.#i)}#x(t){const n=this.#a,[i,a,r,s]=this.#t,[l,c,d,f]=this.#m(),m=new Float32Array(36);return m.set([NaN,NaN,NaN,NaN,(n[2]-i)/r,(n[3]-a)/s,NaN,NaN,NaN,NaN,(n[4]-i)/r,(n[5]-a)/s,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(n[16]-i)/r,(n[17]-a)/s,NaN,NaN,NaN,NaN,(n[14]-i)/r,(n[15]-a)/s],0),this.newFreeDrawOutline(m,t,this.#t,this.#h,this.#n,this.#i)}#_(t,n){const i=this.#e;return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],n),n+=6}#w(t,n){const i=this.#a.subarray(4,6),a=this.#a.subarray(16,18),[r,s,l,c]=this.#t,[d,f,m,v]=this.#m();return t.set([NaN,NaN,NaN,NaN,(i[0]-r)/l,(i[1]-s)/c,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,m,v,NaN,NaN,NaN,NaN,(a[0]-r)/l,(a[1]-s)/c],n),n+=24}}class qj extends qt{#t;#e=new Float32Array(4);#n;#i;#r;#a;#o;constructor(t,n,i,a,r,s){super(),this.#o=t,this.#r=n,this.#t=i,this.#a=a,this.#n=r,this.#i=s,this.lastPoint=[NaN,NaN],this.#s(s);const[l,c,d,f]=this.#e;for(let m=0,v=t.length;m<v;m+=2)t[m]=(t[m]-l)/d,t[m+1]=(t[m+1]-c)/f;for(let m=0,v=n.length;m<v;m+=2)n[m]=(n[m]-l)/d,n[m+1]=(n[m+1]-c)/f}toSVGPath(){const t=[`M${this.#o[4]} ${this.#o[5]}`];for(let n=6,i=this.#o.length;n<i;n+=6){if(isNaN(this.#o[n])){t.push(`L${this.#o[n+4]} ${this.#o[n+5]}`);continue}t.push(`C${this.#o[n]} ${this.#o[n+1]} ${this.#o[n+2]} ${this.#o[n+3]} ${this.#o[n+4]} ${this.#o[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,i,a],r){const s=i-t,l=a-n;let c,d;switch(r){case 0:c=qt._rescale(this.#o,t,a,s,-l),d=qt._rescale(this.#r,t,a,s,-l);break;case 90:c=qt._rescaleAndSwap(this.#o,t,n,s,l),d=qt._rescaleAndSwap(this.#r,t,n,s,l);break;case 180:c=qt._rescale(this.#o,i,n,-s,l),d=qt._rescale(this.#r,i,n,-s,l);break;case 270:c=qt._rescaleAndSwap(this.#o,i,a,-s,-l),d=qt._rescaleAndSwap(this.#r,i,a,-s,-l);break}return{outline:Array.from(c),points:[Array.from(d)]}}#s(t){const n=this.#o;let i=n[4],a=n[5];const r=[i,a,i,a];let s=i,l=a;const c=t?Math.max:Math.min;for(let f=6,m=n.length;f<m;f+=6){const v=n[f+4],y=n[f+5];if(isNaN(n[f]))Jt.pointBoundingBox(v,y,r),l<y?(s=v,l=y):l===y&&(s=c(s,v));else{const x=[1/0,1/0,-1/0,-1/0];Jt.bezierBoundingBox(i,a,...n.slice(f,f+6),x),Jt.rectBoundingBox(...x,r),l<x[3]?(s=x[2],l=x[3]):l===x[3]&&(s=c(s,x[2]))}i=v,a=y}const d=this.#e;d[0]=r[0]-this.#n,d[1]=r[1]-this.#n,d[2]=r[2]-r[0]+2*this.#n,d[3]=r[3]-r[1]+2*this.#n,this.lastPoint=[s,l]}get box(){return this.#e}newOutliner(t,n,i,a,r,s=0){return new jd(t,n,i,a,r,s)}getNewOutline(t,n){const[i,a,r,s]=this.#e,[l,c,d,f]=this.#t,m=r*d,v=s*f,y=i*d+l,x=a*f+c,_=this.newOutliner({x:this.#r[0]*m+y,y:this.#r[1]*v+x},this.#t,this.#a,t,this.#i,n??this.#n);for(let E=2;E<this.#r.length;E+=2)_.add({x:this.#r[E]*m+y,y:this.#r[E+1]*v+x});return _.getOutlines()}}class $A{#t;#e;#n=[];#i=[];constructor(t,n=0,i=0,a=!0){const r=[1/0,1/0,-1/0,-1/0],s=10**-4;for(const{x:y,y:x,width:_,height:E}of t){const R=Math.floor((y-n)/s)*s,A=Math.ceil((y+_+n)/s)*s,w=Math.floor((x-n)/s)*s,M=Math.ceil((x+E+n)/s)*s,D=[R,w,M,!0],P=[A,w,M,!1];this.#n.push(D,P),Jt.rectBoundingBox(R,w,A,M,r)}const l=r[2]-r[0]+2*i,c=r[3]-r[1]+2*i,d=r[0]-i,f=r[1]-i,m=this.#n.at(a?-1:-2),v=[m[0],m[2]];for(const y of this.#n){const[x,_,E]=y;y[0]=(x-d)/l,y[1]=(_-f)/c,y[2]=(E-f)/c}this.#t=new Float32Array([d,f,l,c]),this.#e=v}getOutlines(){this.#n.sort((n,i)=>n[0]-i[0]||n[1]-i[1]||n[2]-i[2]);const t=[];for(const n of this.#n)n[3]?(t.push(...this.#d(n)),this.#o(n)):(this.#s(n),t.push(...this.#d(n)));return this.#r(t)}#r(t){const n=[],i=new Set;for(const s of t){const[l,c,d]=s;n.push([l,c,s],[l,d,s])}n.sort((s,l)=>s[1]-l[1]||s[0]-l[0]);for(let s=0,l=n.length;s<l;s+=2){const c=n[s][2],d=n[s+1][2];c.push(d),d.push(c),i.add(c),i.add(d)}const a=[];let r;for(;i.size>0;){const s=i.values().next().value;let[l,c,d,f,m]=s;i.delete(s);let v=l,y=c;for(r=[l,d],a.push(r);;){let x;if(i.has(f))x=f;else if(i.has(m))x=m;else break;i.delete(x),[l,c,d,f,m]=x,v!==l&&(r.push(v,y,l,y===c?c:d),v=l),y=y===c?d:c}r.push(v,y)}return new Mlt(a,this.#t,this.#e)}#a(t){const n=this.#i;let i=0,a=n.length-1;for(;i<=a;){const r=i+a>>1,s=n[r][0];if(s===t)return r;s<t?i=r+1:a=r-1}return a+1}#o([,t,n]){const i=this.#a(t);this.#i.splice(i,0,[t,n])}#s([,t,n]){const i=this.#a(t);for(let a=i;a<this.#i.length;a++){const[r,s]=this.#i[a];if(r!==t)break;if(r===t&&s===n){this.#i.splice(a,1);return}}for(let a=i-1;a>=0;a--){const[r,s]=this.#i[a];if(r!==t)break;if(r===t&&s===n){this.#i.splice(a,1);return}}}#d(t){const[n,i,a]=t,r=[[n,i,a]],s=this.#a(a);for(let l=0;l<s;l++){const[c,d]=this.#i[l];for(let f=0,m=r.length;f<m;f++){const[,v,y]=r[f];if(!(d<=v||y<=c)){if(v>=c){if(y>d)r[f][1]=d;else{if(m===1)return[];r.splice(f,1),f--,m--}continue}r[f][2]=c,y>d&&r.push([n,d,y])}}}return r}}class Mlt extends qt{#t;#e;constructor(t,n,i){super(),this.#e=t,this.#t=n,this.lastPoint=i}toSVGPath(){const t=[];for(const n of this.#e){let[i,a]=n;t.push(`M${i} ${a}`);for(let r=2;r<n.length;r+=2){const s=n[r],l=n[r+1];s===i?(t.push(`V${l}`),a=l):l===a&&(t.push(`H${s}`),i=s)}t.push("Z")}return t.join(" ")}serialize([t,n,i,a],r){const s=[],l=i-t,c=a-n;for(const d of this.#e){const f=new Array(d.length);for(let m=0;m<d.length;m+=2)f[m]=t+d[m]*l,f[m+1]=a-d[m+1]*c;s.push(f)}return s}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class WA extends jd{newFreeDrawOutline(t,n,i,a,r,s){return new Dlt(t,n,i,a,r,s)}}class Dlt extends qj{newOutliner(t,n,i,a,r,s=0){return new WA(t,n,i,a,r,s)}}class os{#t=null;#e=null;#n;#i=null;#r=!1;#a=!1;#o=null;#s;#d=null;#l=null;#h;static#u=null;static get _keyboardManager(){return ze(this,"_keyboardManager",new Ev([[["Escape","mac+Escape"],os.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],os.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],os.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],os.prototype._moveToPrevious],[["Home","mac+Home"],os.prototype._moveToBeginning],[["End","mac+End"],os.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:n=null}){t?(this.#a=!1,this.#h=Ye.HIGHLIGHT_COLOR,this.#o=t):(this.#a=!0,this.#h=Ye.HIGHLIGHT_DEFAULT_COLOR),this.#l=t?._uiManager||n,this.#s=this.#l._eventBus,this.#n=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",os.#u||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#o&&(t.ariaControls=`${this.#o.id}_colorpicker_dropdown`);const n=this.#l._signal;t.addEventListener("click",this.#c.bind(this),{signal:n}),t.addEventListener("keydown",this.#g.bind(this),{signal:n});const i=this.#e=document.createElement("span");return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=this.#n,t.append(i),t}renderMainDropdown(){const t=this.#i=this.#f();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#f(){const t=document.createElement("div"),n=this.#l._signal;t.addEventListener("contextmenu",Js,{signal:n}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#o&&(t.id=`${this.#o.id}_colorpicker_dropdown`);for(const[i,a]of this.#l.highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",a),r.title=i,r.setAttribute("data-l10n-id",os.#u[i]);const s=document.createElement("span");r.append(s),s.className="swatch",s.style.backgroundColor=a,r.ariaSelected=a===this.#n,r.addEventListener("click",this.#p.bind(this,a),{signal:n}),t.append(r)}return t.addEventListener("keydown",this.#g.bind(this),{signal:n}),t}#p(t,n){n.stopPropagation(),this.#s.dispatch("switchannotationeditorparams",{source:this,type:this.#h,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#c(t);return}const n=t.target.getAttribute("data-color");n&&this.#p(n,t)}_moveToNext(t){if(!this.#v){this.#c(t);return}if(t.target===this.#t){this.#i.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#i?.firstChild||t.target===this.#t){this.#v&&this._hideDropdownFromKeyboard();return}this.#v||this.#c(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#v){this.#c(t);return}this.#i.firstChild?.focus()}_moveToEnd(t){if(!this.#v){this.#c(t);return}this.#i.lastChild?.focus()}#g(t){os._keyboardManager.exec(this,t)}#c(t){if(this.#v){this.hideDropdown();return}if(this.#r=t.detail===0,this.#d||(this.#d=new AbortController,window.addEventListener("pointerdown",this.#m.bind(this),{signal:this.#l.combinedSignal(this.#d)})),this.#t.ariaExpanded="true",this.#i){this.#i.classList.remove("hidden");return}const n=this.#i=this.#f();this.#t.append(n)}#m(t){this.#i?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#d?.abort(),this.#d=null}get#v(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#a){if(!this.#v){this.#o?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#r})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#i)return;const n=this.#l.highlightColors.values();for(const i of this.#i.children)i.ariaSelected=n.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#i?.remove(),this.#i=null}}class ai extends ne{#t=null;#e=0;#n;#i=null;#r=null;#a=null;#o=null;#s=0;#d=null;#l=null;#h=null;#u=!1;#f=null;#p;#g=null;#c="";#m;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=me.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=ai.prototype;return ze(this,"_keyboardManager",new Ev([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||ai._defaultColor,this.#m=t.thickness||ai._defaultThickness,this.#p=t.opacity||ai._defaultOpacity,this.#n=t.boxes||null,this.#v=t.methodOfCreation||"",this.#c=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#u=!0,this.#b(t),this.#M()):this.#n&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#o=t.focusNode,this.#s=t.focusOffset,this.#y(),this.#M(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#m,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#y(){const t=new $A(this.#n,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const n=new $A(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#a=n.getOutlines();const{lastPoint:i}=this.#a;this.#f=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#b({highlightOutlines:t,highlightId:n,clipPathId:i}){this.#l=t;const a=1.5;if(this.#a=t.getNewOutline(this.#m/2+a,.0025),n>=0)this.#h=n,this.#i=i,this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#g=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},!0);else if(this.parent){const f=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:ai.#E(this.#l.box,(f-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#g,{bbox:ai.#E(this.#a.box,f),path:{d:this.#a.toSVGPath()}})}const[r,s,l,c]=t.box;switch(this.rotation){case 0:this.x=r,this.y=s,this.width=l,this.height=c;break;case 90:{const[f,m]=this.parentDimensions;this.x=s,this.y=1-r,this.width=l*m/f,this.height=c*f/m;break}case 180:this.x=1-r,this.y=1-s,this.width=l,this.height=c;break;case 270:{const[f,m]=this.parentDimensions;this.x=1-s,this.y=r,this.width=l*m/f,this.height=c*f/m;break}}const{lastPoint:d}=this.#a;this.#f=[(d[0]-r)/l,(d[1]-s)/c]}static initialize(t,n){ne.initialize(t,n),ai._defaultColor||=n.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,n){switch(t){case Ye.HIGHLIGHT_DEFAULT_COLOR:ai._defaultColor=n;break;case Ye.HIGHLIGHT_THICKNESS:ai._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return this.#f}updateParams(t,n){switch(t){case Ye.HIGHLIGHT_COLOR:this.#x(n);break;case Ye.HIGHLIGHT_THICKNESS:this.#_(n);break}}static get defaultPropertiesToUpdate(){return[[Ye.HIGHLIGHT_DEFAULT_COLOR,ai._defaultColor],[Ye.HIGHLIGHT_THICKNESS,ai._defaultThickness]]}get propertiesToUpdate(){return[[Ye.HIGHLIGHT_COLOR,this.color||ai._defaultColor],[Ye.HIGHLIGHT_THICKNESS,this.#m||ai._defaultThickness],[Ye.HIGHLIGHT_FREE,this.#u]]}#x(t){const n=(r,s)=>{this.color=r,this.#p=s,this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:r,"fill-opacity":s}}),this.#r?.updateColor(r)},i=this.color,a=this.#p;this.addCommands({cmd:n.bind(this,t,ai._defaultOpacity),undo:n.bind(this,i,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ye.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#_(t){const n=this.#m,i=a=>{this.#m=a,this.#w(a)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ye.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#r=new os({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#O())}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,this.#O())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#M(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let n=!1;this.parent&&!t?this.#C():t&&(this.#M(t),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),n&&this.select()}#w(t){if(!this.#u)return;this.#b({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)}#C(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#g),this.#g=null)}#M(t=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#i}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#p},rootClass:{highlight:!0,free:this.#u},path:{d:this.#l.toSVGPath()}},!1,!0),this.#g=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},this.#u),this.#d&&(this.#d.style.clipPath=this.#i))}static#E([t,n,i,a],r){switch(r){case 90:return[1-n-a,t,a,i];case 180:return[1-t-i,1-n-a,i,a];case 270:return[n,1-t-i,a,i]}return[t,n,i,a]}rotate(t){const{drawLayer:n}=this.parent;let i;this.#u?(t=(t-this.rotation+360)%360,i=ai.#E(this.#l.box,t)):i=ai.#E([this.x,this.y,this.width,this.height],t),n.updateProperties(this.#h,{bbox:i,root:{"data-main-rotation":t}}),n.updateProperties(this.#g,{bbox:ai.#E(this.#a.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#c&&(t.setAttribute("aria-label",this.#c),t.setAttribute("role","mark")),this.#u?t.classList.add("free"):this.div.addEventListener("keydown",this.#R.bind(this),{signal:this._uiManager._signal});const n=this.#d=document.createElement("div");t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=this.#i;const[i,a]=this.parentDimensions;return this.setDims(this.width*i,this.height*a),yj(this,this.#d,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1}})}#R(t){ai._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#T(!0);break;case 1:case 3:this.#T(!1);break}}#T(t){if(!this.#t)return;const n=window.getSelection();t?n.setPosition(this.#t,this.#e):n.setPosition(this.#o,this.#s)}select(){super.select(),this.#g&&this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#g&&(this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{selected:!1}}),this.#u||this.#T(!1))}get _mustFixPosition(){return!this.#u}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#g,{rootClass:{hidden:!t}}))}#O(){return this.#u?this.rotation:0}#N(){if(this.#u)return null;const[t,n]=this.pageDimensions,[i,a]=this.pageTranslation,r=this.#n,s=new Float32Array(r.length*8);let l=0;for(const{x:c,y:d,width:f,height:m}of r){const v=c*t+i,y=(1-d)*n+a;s[l]=s[l+4]=v,s[l+1]=s[l+3]=y,s[l+2]=s[l+6]=v+f*t,s[l+5]=s[l+7]=y-m*n,l+=8}return s}#P(t){return this.#l.serialize(t,this.#O())}static startHighlighting(t,n,{target:i,x:a,y:r}){const{x:s,y:l,width:c,height:d}=i.getBoundingClientRect(),f=new AbortController,m=t.combinedSignal(f),v=y=>{f.abort(),this.#A(t,y)};window.addEventListener("blur",v,{signal:m}),window.addEventListener("pointerup",v,{signal:m}),window.addEventListener("pointerdown",mi,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Js,{signal:m}),i.addEventListener("pointermove",this.#z.bind(this,t),{signal:m}),this._freeHighlight=new WA({x:a,y:r},[s,l,c,d],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#z(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#A(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,n,i){let a=null;if(t instanceof Hj){const{data:{quadPoints:x,rect:_,rotation:E,id:R,color:A,opacity:w,popupRef:M},parent:{page:{pageNumber:D}}}=t;a=t={annotationType:me.HIGHLIGHT,color:Array.from(A),opacity:w,quadPoints:x,boxes:null,pageIndex:D-1,rect:_.slice(0),rotation:E,annotationElementId:R,id:R,deleted:!1,popupRef:M}}else if(t instanceof xT){const{data:{inkLists:x,rect:_,rotation:E,id:R,color:A,borderStyle:{rawWidth:w},popupRef:M},parent:{page:{pageNumber:D}}}=t;a=t={annotationType:me.HIGHLIGHT,color:Array.from(A),thickness:w,inkLists:x,boxes:null,pageIndex:D-1,rect:_.slice(0),rotation:E,annotationElementId:R,id:R,deleted:!1,popupRef:M}}const{color:r,quadPoints:s,inkLists:l,opacity:c}=t,d=await super.deserialize(t,n,i);d.color=Jt.makeHexColor(...r),d.#p=c||1,l&&(d.#m=t.thickness),d._initialData=a;const[f,m]=d.pageDimensions,[v,y]=d.pageTranslation;if(s){const x=d.#n=[];for(let _=0;_<s.length;_+=8)x.push({x:(s[_]-v)/f,y:1-(s[_+1]-y)/m,width:(s[_+2]-s[_])/f,height:(s[_+1]-s[_+5])/m});d.#y(),d.#M(),d.rotate(d.rotation)}else if(l){d.#u=!0;const x=l[0],_={x:x[0]-v,y:m-(x[1]-y)},E=new WA(_,[0,0,f,m],1,d.#m/2,!0,.001);for(let w=0,M=x.length;w<M;w+=2)_.x=x[w]-v,_.y=m-(x[w+1]-y),E.add(_);const{id:R,clipPathId:A}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:E.toSVGPath()}},!0,!0);d.#b({highlightOutlines:E.getOutlines(),highlightId:R,clipPathId:A}),d.#M(),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),i=ne._colorManager.convert(this.color),a={annotationType:me.HIGHLIGHT,color:i,opacity:this.#p,thickness:this.#m,quadPoints:this.#N(),outlines:this.#P(n),pageIndex:this.pageIndex,rect:n,rotation:this.#O(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#S(a)?null:(a.id=this.annotationElementId,a)}#S(t){const{color:n}=this._initialData;return t.color.some((i,a)=>i!==n[a])}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class Vj{#t=Object.create(null);updateProperty(t,n){this[t]=n,this.updateSVGProperty(t,n)}updateProperties(t){if(t)for(const[n,i]of Object.entries(t))n.startsWith("_")||this.updateProperty(n,i)}updateSVGProperty(t,n){this.#t[t]=n}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){xn("Not implemented")}}class le extends ne{#t=null;#e;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#i=null;static#r=null;static#a=NaN;static#o=null;static#s=null;static#d=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(this.#l(t),this.#f())}#l({drawOutlines:t,drawId:n,drawingOptions:i}){this.#t=t,this._drawingOptions||=i,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=this.#h(t,this.parent),this.#c(t.box)}#h(t,n){const{id:i}=n.drawLayer.draw(le._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i}static _mergeSVGProperties(t,n){const i=new Set(Object.keys(t));for(const[a,r]of Object.entries(n))i.has(a)?Object.assign(t[a],r):t[a]=r;return t}static getDefaultDrawingOptions(t){xn("Not implemented")}static get typesMap(){xn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(le.#n.updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[i,a]of this.typesMap)t.push([i,n[a]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[i,a]of this.constructor.typesMap)t.push([i,n[a]]);return t}_updateProperty(t,n,i){const a=this._drawingOptions,r=a[n],s=l=>{a.updateProperty(n,l);const c=this.#t.updateProperty(n,l);c&&this.#c(c),this.parent?.drawLayer.updateProperties(this._drawId,a.toSVGProperties())};this.addCommands({cmd:s.bind(this,i),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,le._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#g()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,le._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#g()),{bbox:this.#m()}))}_onTranslating(t,n){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,le._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#g(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#c(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#u()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),n&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#h(this.#t,t)}}#p([t,n,i,a]){const{parentDimensions:[r,s],rotation:l}=this;switch(l){case 90:return[n,1-t,i*(s/r),a*(r/s)];case 180:return[1-t,1-n,i,a];case 270:return[1-n,t,i*(s/r),a*(r/s)];default:return[t,n,i,a]}}#g(){const{x:t,y:n,width:i,height:a,parentDimensions:[r,s],rotation:l}=this;switch(l){case 90:return[1-n,t,i*(r/s),a*(s/r)];case 180:return[1-t,1-n,i,a];case 270:return[n,1-t,i*(r/s),a*(s/r)];default:return[t,n,i,a]}}#c(t){if([this.x,this.y,this.width,this.height]=this.#p(t),this.div){this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)}this._onResized()}#m(){const{x:t,y:n,width:i,height:a,rotation:r,parentRotation:s,parentDimensions:[l,c]}=this;switch((r*4+s)/90){case 1:return[1-n-a,t,a,i];case 2:return[1-t-i,1-n-a,i,a];case 3:return[n,1-t-i,a,i];case 4:return[t,n-i*(l/c),a*(c/l),i*(l/c)];case 5:return[1-n,t,i*(l/c),a*(c/l)];case 6:return[1-t-a*(c/l),1-n,a*(c/l),i*(l/c)];case 7:return[n-i*(l/c),1-t-a*(c/l),i*(l/c),a*(c/l)];case 8:return[t-i,n-a,i,a];case 9:return[1-n,t-i,a,i];case 10:return[1-t,1-n,i,a];case 11:return[n-a,1-t,a,i];case 12:return[t-a*(c/l),n,a*(c/l),i*(l/c)];case 13:return[1-n-i*(l/c),t-a*(c/l),i*(l/c),a*(c/l)];case 14:return[1-t,1-n-i*(l/c),a*(c/l),i*(l/c)];case 15:return[n,1-t,i*(l/c),a*(c/l)];default:return[t,n,i,a]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,le._mergeSVGProperties({bbox:this.#m()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#c(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,n;this._isCopy&&(t=this.x,n=this.y);const i=super.render();i.classList.add("draw");const a=document.createElement("div");i.append(a),a.setAttribute("aria-hidden","true"),a.className="internal";const[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,n),i}static createDrawerInstance(t,n,i,a,r){xn("Not implemented")}static startDrawing(t,n,i,a){const{target:r,offsetX:s,offsetY:l,pointerId:c,pointerType:d}=a;if(le.#o&&le.#o!==d)return;const{viewport:{rotation:f}}=t,{width:m,height:v}=r.getBoundingClientRect(),y=le.#i=new AbortController,x=t.combinedSignal(y);if(le.#a||=c,le.#o??=d,window.addEventListener("pointerup",_=>{le.#a===_.pointerId?this._endDraw(_):le.#s?.delete(_.pointerId)},{signal:x}),window.addEventListener("pointercancel",_=>{le.#a===_.pointerId?this._currentParent.endDrawingSession():le.#s?.delete(_.pointerId)},{signal:x}),window.addEventListener("pointerdown",_=>{le.#o===_.pointerType&&((le.#s||=new Set).add(_.pointerId),le.#n.isCancellable()&&(le.#n.removeLastElement(),le.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",Js,{signal:x}),r.addEventListener("pointermove",this._drawMove.bind(this),{signal:x}),r.addEventListener("touchmove",_=>{_.timeStamp===le.#d&&mi(_)},{signal:x}),t.toggleDrawing(),n._editorUndoBar?.hide(),le.#n){t.drawLayer.updateProperties(this._currentDrawId,le.#n.startNew(s,l,m,v,f));return}n.updateUIForDefaultProperties(this),le.#n=this.createDrawerInstance(s,l,m,v,f),le.#r=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(le.#r.toSVGProperties(),le.#n.defaultSVGProperties),!0,!1)}static _drawMove(t){if(le.#d=-1,!le.#n)return;const{offsetX:n,offsetY:i,pointerId:a}=t;if(le.#a===a){if(le.#s?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,le.#n.add(n,i)),le.#d=t.timeStamp,mi(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,le.#n=null,le.#r=null,le.#o=null,le.#d=NaN),le.#i&&(le.#i.abort(),le.#i=null,le.#a=NaN,le.#s=null)}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),t?.target===n.div&&n.drawLayer.updateProperties(this._currentDrawId,le.#n.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=le.#n,a=this._currentDrawId,r=i.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(a,i.setLastElement(r))},undo:()=>{n.drawLayer.updateProperties(a,i.removeLastElement())},mustExec:!1,type:Ye.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(Ye.DRAW_STEP),!le.#n.isEmpty()){const{pageDimensions:[i,a],scale:r}=n,s=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:le.#n.getOutlines(i*r,a*r,r,this._INNER_MARGIN),drawingOptions:le.#r,mustBeCommitted:!t});return this._cleanup(!0),s}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,i,a,r,s){xn("Not implemented")}static async deserialize(t,n,i){const{rawDims:{pageWidth:a,pageHeight:r,pageX:s,pageY:l}}=n.viewport,c=this.deserializeDraw(s,l,a,r,this._INNER_MARGIN,t),d=await super.deserialize(t,n,i);return d.createDrawingOptions(t),d.#l({drawOutlines:c}),d.#f(),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[n,i]=this.pageTranslation,[a,r]=this.pageDimensions;return this.#t.serialize([n,i,a,r],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class Olt{#t=new Float64Array(6);#e;#n;#i;#r;#a;#o="";#s=0;#d=new Cv;#l;#h;constructor(t,n,i,a,r,s){this.#l=i,this.#h=a,this.#i=r,this.#r=s,[t,n]=this.#u(t,n);const l=this.#e=[NaN,NaN,NaN,NaN,t,n];this.#a=[t,n],this.#n=[{line:l,points:this.#a}],this.#t.set(l,0)}updateProperty(t,n){t==="stroke-width"&&(this.#r=n)}#u(t,n){return qt._normalizePoint(t,n,this.#l,this.#h,this.#i)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#a.length<=10}add(t,n){[t,n]=this.#u(t,n);const[i,a,r,s]=this.#t.subarray(2,6),l=t-r,c=n-s;return Math.hypot(this.#l*l,this.#h*c)<=2?null:(this.#a.push(t,n),isNaN(i)?(this.#t.set([r,s,t,n],2),this.#e.push(NaN,NaN,NaN,NaN,t,n),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([i,a,r,s,t,n],0),this.#e.push(...qt.createBezierPoints(i,a,r,s,t,n)),{path:{d:this.toSVGPath()}}))}end(t,n){const i=this.add(t,n);return i||(this.#a.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,n,i,a,r){this.#l=i,this.#h=a,this.#i=r,[t,n]=this.#u(t,n);const s=this.#e=[NaN,NaN,NaN,NaN,t,n];this.#a=[t,n];const l=this.#n.at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),this.#n.push({line:s,points:this.#a}),this.#t.set(s,0),this.#s=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(t){return this.#n?(this.#n.push(t),this.#e=t.line,this.#a=t.points,this.#s=0,{path:{d:this.toSVGPath()}}):this.#d.setLastElement(t)}removeLastElement(){if(!this.#n)return this.#d.removeLastElement();this.#n.pop(),this.#o="";for(let t=0,n=this.#n.length;t<n;t++){const{line:i,points:a}=this.#n[t];this.#e=i,this.#a=a,this.#s=0,this.toSVGPath()}return{path:{d:this.#o}}}toSVGPath(){const t=qt.svgRound(this.#e[4]),n=qt.svgRound(this.#e[5]);if(this.#a.length===2)return this.#o=`${this.#o} M ${t} ${n} Z`,this.#o;if(this.#a.length<=6){const a=this.#o.lastIndexOf("M");this.#o=`${this.#o.slice(0,a)} M ${t} ${n}`,this.#s=6}if(this.#a.length===4){const a=qt.svgRound(this.#e[10]),r=qt.svgRound(this.#e[11]);return this.#o=`${this.#o} L ${a} ${r}`,this.#s=12,this.#o}const i=[];this.#s===0&&(i.push(`M ${t} ${n}`),this.#s=6);for(let a=this.#s,r=this.#e.length;a<r;a+=6){const[s,l,c,d,f,m]=this.#e.slice(a,a+6).map(qt.svgRound);i.push(`C${s} ${l} ${c} ${d} ${f} ${m}`)}return this.#o+=i.join(" "),this.#s=this.#e.length,this.#o}getOutlines(t,n,i,a){const r=this.#n.at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),this.#d.build(this.#n,t,n,i,this.#i,this.#r,a),this.#t=null,this.#e=null,this.#n=null,this.#o=null,this.#d}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Cv extends qt{#t;#e=0;#n;#i;#r;#a;#o;#s;#d;build(t,n,i,a,r,s,l){this.#r=n,this.#a=i,this.#o=a,this.#s=r,this.#d=s,this.#n=l??0,this.#i=t,this.#u()}get thickness(){return this.#d}setLastElement(t){return this.#i.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#i.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of this.#i){if(t.push(`M${qt.svgRound(n[4])} ${qt.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12&&isNaN(n[6])){t.push(`L${qt.svgRound(n[10])} ${qt.svgRound(n[11])}`);continue}for(let i=6,a=n.length;i<a;i+=6){const[r,s,l,c,d,f]=n.subarray(i,i+6).map(qt.svgRound);t.push(`C${r} ${s} ${l} ${c} ${d} ${f}`)}}return t.join("")}serialize([t,n,i,a],r){const s=[],l=[],[c,d,f,m]=this.#h();let v,y,x,_,E,R,A,w,M;switch(this.#s){case 0:M=qt._rescale,v=t,y=n+a,x=i,_=-a,E=t+c*i,R=n+(1-d-m)*a,A=t+(c+f)*i,w=n+(1-d)*a;break;case 90:M=qt._rescaleAndSwap,v=t,y=n,x=i,_=a,E=t+d*i,R=n+c*a,A=t+(d+m)*i,w=n+(c+f)*a;break;case 180:M=qt._rescale,v=t+i,y=n,x=-i,_=a,E=t+(1-c-f)*i,R=n+d*a,A=t+(1-c)*i,w=n+(d+m)*a;break;case 270:M=qt._rescaleAndSwap,v=t+i,y=n+a,x=-i,_=-a,E=t+(1-d-m)*i,R=n+(1-c-f)*a,A=t+(1-d)*i,w=n+(1-c)*a;break}for(const{line:D,points:P}of this.#i)s.push(M(D,v,y,x,_,r?new Array(D.length):null)),l.push(M(P,v,y,x,_,r?new Array(P.length):null));return{lines:s,points:l,rect:[E,R,A,w]}}static deserialize(t,n,i,a,r,{paths:{lines:s,points:l},rotation:c,thickness:d}){const f=[];let m,v,y,x,_;switch(c){case 0:_=qt._rescale,m=-t/i,v=n/a+1,y=1/i,x=-1/a;break;case 90:_=qt._rescaleAndSwap,m=-n/a,v=-t/i,y=1/a,x=1/i;break;case 180:_=qt._rescale,m=t/i+1,v=-n/a,y=-1/i,x=1/a;break;case 270:_=qt._rescaleAndSwap,m=n/a+1,v=t/i+1,y=-1/a,x=-1/i;break}if(!s){s=[];for(const R of l){const A=R.length;if(A===2){s.push(new Float32Array([NaN,NaN,NaN,NaN,R[0],R[1]]));continue}if(A===4){s.push(new Float32Array([NaN,NaN,NaN,NaN,R[0],R[1],NaN,NaN,NaN,NaN,R[2],R[3]]));continue}const w=new Float32Array(3*(A-2));s.push(w);let[M,D,P,z]=R.subarray(0,4);w.set([NaN,NaN,NaN,NaN,M,D],0);for(let L=4;L<A;L+=2){const U=R[L],I=R[L+1];w.set(qt.createBezierPoints(M,D,P,z,U,I),(L-2)*3),[M,D,P,z]=[P,z,U,I]}}}for(let R=0,A=s.length;R<A;R++)f.push({line:_(s[R].map(w=>w??NaN),m,v,y,x),points:_(l[R].map(w=>w??NaN),m,v,y,x)});const E=new this.prototype.constructor;return E.build(f,i,a,1,c,d,r),E}#l(t=this.#d){const n=this.#n+t/2*this.#o;return this.#s%180===0?[n/this.#r,n/this.#a]:[n/this.#a,n/this.#r]}#h(){const[t,n,i,a]=this.#t,[r,s]=this.#l(0);return[t+r,n+s,i-2*r,a-2*s]}#u(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:a}of this.#i){if(a.length<=12){for(let l=4,c=a.length;l<c;l+=6)Jt.pointBoundingBox(a[l],a[l+1],t);continue}let r=a[4],s=a[5];for(let l=6,c=a.length;l<c;l+=6){const[d,f,m,v,y,x]=a.subarray(l,l+6);Jt.bezierBoundingBox(r,s,d,f,m,v,y,x,t),r=y,s=x}}const[n,i]=this.#l();t[0]=ja(t[0]-n,0,1),t[1]=ja(t[1]-i,0,1),t[2]=ja(t[2]+n,0,1),t[3]=ja(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,n){return t==="stroke-width"?this.#f(n):null}#f(t){const[n,i]=this.#l();this.#d=t;const[a,r]=this.#l(),[s,l]=[a-n,r-i],c=this.#t;return c[0]-=s,c[1]-=l,c[2]+=2*s,c[3]+=2*l,c}updateParentDimensions([t,n],i){const[a,r]=this.#l();this.#r=t,this.#a=n,this.#o=i;const[s,l]=this.#l(),c=s-a,d=l-r,f=this.#t;return f[0]-=c,f[1]-=d,f[2]+=2*c,f[3]+=2*d,f}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(qt.svgRound).join(" ")}get defaultProperties(){const[t,n]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${qt.svgRound(t)} ${qt.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=this.#t;let i=0,a=0,r=0,s=0,l=0,c=0;switch(this.#e){case 90:a=n/t,r=-t/n,l=t;break;case 180:i=-1,s=-1,l=t,c=n;break;case 270:a=-n/t,r=t/n,c=n;break;default:return""}return`matrix(${i} ${a} ${r} ${s} ${qt.svgRound(l)} ${qt.svgRound(c)})`}getPathResizingSVGProperties([t,n,i,a]){const[r,s]=this.#l(),[l,c,d,f]=this.#t;if(Math.abs(d-r)<=qt.PRECISION||Math.abs(f-s)<=qt.PRECISION){const _=t+i/2-(l+d/2),E=n+a/2-(c+f/2);return{path:{"transform-origin":`${qt.svgRound(t)} ${qt.svgRound(n)}`,transform:`${this.rotationTransform} translate(${_} ${E})`}}}const m=(i-2*r)/(d-2*r),v=(a-2*s)/(f-2*s),y=d/i,x=f/a;return{path:{"transform-origin":`${qt.svgRound(l)} ${qt.svgRound(c)}`,transform:`${this.rotationTransform} scale(${y} ${x}) translate(${qt.svgRound(r)} ${qt.svgRound(s)}) scale(${m} ${v}) translate(${qt.svgRound(-r)} ${qt.svgRound(-s)})`}}}getPathResizedSVGProperties([t,n,i,a]){const[r,s]=this.#l(),l=this.#t,[c,d,f,m]=l;if(l[0]=t,l[1]=n,l[2]=i,l[3]=a,Math.abs(f-r)<=qt.PRECISION||Math.abs(m-s)<=qt.PRECISION){const E=t+i/2-(c+f/2),R=n+a/2-(d+m/2);for(const{line:A,points:w}of this.#i)qt._translate(A,E,R,A),qt._translate(w,E,R,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${qt.svgRound(t)} ${qt.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(i-2*r)/(f-2*r),y=(a-2*s)/(m-2*s),x=-v*(c+r)+t+r,_=-y*(d+s)+n+s;if(v!==1||y!==1||x!==0||_!==0)for(const{line:E,points:R}of this.#i)qt._rescale(E,x,_,v,y,E),qt._rescale(R,x,_,v,y,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${qt.svgRound(t)} ${qt.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],i){const[a,r]=i,s=this.#t,l=t-s[0],c=n-s[1];if(this.#r===a&&this.#a===r)for(const{line:d,points:f}of this.#i)qt._translate(d,l,c,d),qt._translate(f,l,c,f);else{const d=this.#r/a,f=this.#a/r;this.#r=a,this.#a=r;for(const{line:m,points:v}of this.#i)qt._rescale(m,l,c,d,f,m),qt._rescale(v,l,c,d,f,v);s[2]*=d,s[3]*=f}return s[0]=t,s[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${qt.svgRound(t)} ${qt.svgRound(n)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${qt.svgRound(t[0])} ${qt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class Px extends Vj{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:ne._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,n){t==="stroke-width"&&(n??=this["stroke-width"],n*=this._viewParameters.realScale),super.updateSVGProperty(t,n)}clone(){const t=new Px(this._viewParameters);return t.updateAll(this),t}}class _T extends le{static _type="ink";static _editorType=me.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,n){ne.initialize(t,n),this._defaultDrawingOptions=new Px(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return ze(this,"typesMap",new Map([[Ye.INK_THICKNESS,"stroke-width"],[Ye.INK_COLOR,"stroke"],[Ye.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,i,a,r){return new Olt(t,n,i,a,r,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,i,a,r,s){return Cv.deserialize(t,n,i,a,r,s)}static async deserialize(t,n,i){let a=null;if(t instanceof xT){const{data:{inkLists:s,rect:l,rotation:c,id:d,color:f,opacity:m,borderStyle:{rawWidth:v},popupRef:y},parent:{page:{pageNumber:x}}}=t;a=t={annotationType:me.INK,color:Array.from(f),thickness:v,opacity:m,paths:{points:s},boxes:null,pageIndex:x-1,rect:l.slice(0),rotation:c,annotationElementId:d,id:d,deleted:!1,popupRef:y}}const r=await super.deserialize(t,n,i);return r._initialData=a,r}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:i}=this;n.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:i}){this._drawingOptions=_T.getDefaultDrawingOptions({stroke:Jt.makeHexColor(...t),"stroke-width":n,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:i,rect:a}=this.serializeDraw(t),{_drawingOptions:{stroke:r,"stroke-opacity":s,"stroke-width":l}}=this,c={annotationType:me.INK,color:ne._colorManager.convert(r),opacity:s,thickness:l,paths:{lines:n,points:i},pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(c.isCopy=!0,c):this.annotationElementId&&!this.#t(c)?null:(c.id=this.annotationElementId,c)}#t(t){const{color:n,thickness:i,opacity:a,pageIndex:r}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((s,l)=>s!==n[l])||t.thickness!==i||t.opacity!==a||t.pageIndex!==r}renderAnnotationElement(t){const{points:n,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:n}),null}}class QA extends Cv{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Cb=8,ym=3;class Wf{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,n,i,a){return i-=t,a-=n,i===0?a>0?0:4:i===1?a+6:2-a}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#i(t,n,i,a,r,s,l){const c=this.#e(i,a,r,s);for(let d=0;d<8;d++){const f=(-d+c-l+16)%8,m=this.#n[2*f],v=this.#n[2*f+1];if(t[(i+m)*n+(a+v)]!==0)return f}return-1}static#r(t,n,i,a,r,s,l){const c=this.#e(i,a,r,s);for(let d=0;d<8;d++){const f=(d+c+l+16)%8,m=this.#n[2*f],v=this.#n[2*f+1];if(t[(i+m)*n+(a+v)]!==0)return f}return-1}static#a(t,n,i,a){const r=t.length,s=new Int32Array(r);for(let f=0;f<r;f++)s[f]=t[f]<=a?1:0;for(let f=1;f<i-1;f++)s[f*n]=s[f*n+n-1]=0;for(let f=0;f<n;f++)s[f]=s[n*i-1-f]=0;let l=1,c;const d=[];for(let f=1;f<i-1;f++){c=1;for(let m=1;m<n-1;m++){const v=f*n+m,y=s[v];if(y===0)continue;let x=f,_=m;if(y===1&&s[v-1]===0)l+=1,_-=1;else if(y>=1&&s[v+1]===0)l+=1,_+=1,y>1&&(c=y);else{y!==1&&(c=Math.abs(y));continue}const E=[m,f],R=_===m+1,A={isHole:R,points:E,id:l,parent:0};d.push(A);let w;for(const q of d)if(q.id===c){w=q;break}w?w.isHole?A.parent=R?w.parent:c:A.parent=R?c:w.parent:A.parent=R?c:0;const M=this.#i(s,n,f,m,x,_,0);if(M===-1){s[v]=-l,s[v]!==1&&(c=Math.abs(s[v]));continue}let D=this.#n[2*M],P=this.#n[2*M+1];const z=f+D,L=m+P;x=z,_=L;let U=f,I=m;for(;;){const q=this.#r(s,n,U,I,x,_,1);D=this.#n[2*q],P=this.#n[2*q+1];const J=U+D,it=I+P;E.push(it,J);const at=U*n+I;if(s[at+1]===0?s[at]=-l:s[at]===1&&(s[at]=l),J===f&&it===m&&U===z&&I===L){s[v]!==1&&(c=Math.abs(s[v]));break}else x=U,_=I,U=J,I=it}}}return d}static#o(t,n,i,a){if(i-n<=4){for(let z=n;z<i-2;z+=2)a.push(t[z],t[z+1]);return}const r=t[n],s=t[n+1],l=t[i-4]-r,c=t[i-3]-s,d=Math.hypot(l,c),f=l/d,m=c/d,v=f*s-m*r,y=c/l,x=1/d,_=Math.atan(y),E=Math.cos(_),R=Math.sin(_),A=x*(Math.abs(E)+Math.abs(R)),w=x*(1-A+A**2),M=Math.max(Math.atan(Math.abs(R+E)*w),Math.atan(Math.abs(R-E)*w));let D=0,P=n;for(let z=n+2;z<i-2;z+=2){const L=Math.abs(v-f*t[z+1]+m*t[z]);L>D&&(P=z,D=L)}D>(d*M)**2?(this.#o(t,n,P+2,a),this.#o(t,P,i,a)):a.push(r,s)}static#s(t){const n=[],i=t.length;return this.#o(t,0,i,n),n.push(t[i-2],t[i-1]),n.length<=4?null:n}static#d(t,n,i,a,r,s){const l=new Float32Array(s**2),c=-2*a**2,d=s>>1;for(let _=0;_<s;_++){const E=(_-d)**2;for(let R=0;R<s;R++)l[_*s+R]=Math.exp((E+(R-d)**2)/c)}const f=new Float32Array(256),m=-2*r**2;for(let _=0;_<256;_++)f[_]=Math.exp(_**2/m);const v=t.length,y=new Uint8Array(v),x=new Uint32Array(256);for(let _=0;_<i;_++)for(let E=0;E<n;E++){const R=_*n+E,A=t[R];let w=0,M=0;for(let P=0;P<s;P++){const z=_+P-d;if(!(z<0||z>=i))for(let L=0;L<s;L++){const U=E+L-d;if(U<0||U>=n)continue;const I=t[z*n+U],q=l[P*s+L]*f[Math.abs(I-A)];w+=I*q,M+=q}}const D=y[R]=Math.round(w/M);x[D]++}return[y,x]}static#l(t){const n=new Uint32Array(256);for(const i of t)n[i]++;return n}static#h(t){const n=t.length,i=new Uint8ClampedArray(n>>2);let a=-1/0,r=1/0;for(let l=0,c=i.length;l<c;l++){if(t[(l<<2)+3]===0){a=i[l]=255;continue}const f=i[l]=t[l<<2];f>a&&(a=f),f<r&&(r=f)}const s=255/(a-r);for(let l=0;l<n;l++)i[l]=(i[l]-r)*s;return i}static#u(t){let n,i=-1/0,a=-1/0;const r=t.findIndex(c=>c!==0);let s=r,l=r;for(n=r;n<256;n++){const c=t[n];c>i&&(n-s>a&&(a=n-s,l=n-1),i=c,s=n)}for(n=l-1;n>=0&&!(t[n]>t[n+1]);n--);return n}static#f(t){const n=t,{width:i,height:a}=t,{maxDim:r}=this.#t;let s=i,l=a;if(i>r||a>r){let v=i,y=a,x=Math.log2(Math.max(i,a)/r);const _=Math.floor(x);x=x===_?_-1:_;for(let R=0;R<x;R++){s=Math.ceil(v/2),l=Math.ceil(y/2);const A=new OffscreenCanvas(s,l);A.getContext("2d").drawImage(t,0,0,v,y,0,0,s,l),v=s,y=l,t!==n&&t.close(),t=A.transferToImageBitmap()}const E=Math.min(r/s,r/l);s=Math.round(s*E),l=Math.round(l*E)}const d=new OffscreenCanvas(s,l).getContext("2d",{willReadFrequently:!0});d.filter="grayscale(1)",d.drawImage(t,0,0,t.width,t.height,0,0,s,l);const f=d.getImageData(0,0,s,l).data;return[this.#h(f),s,l]}static extractContoursFromText(t,{fontFamily:n,fontStyle:i,fontWeight:a},r,s,l,c){let d=new OffscreenCanvas(1,1),f=d.getContext("2d",{alpha:!1});const m=200,v=f.font=`${i} ${a} ${m}px ${n}`,{actualBoundingBoxLeft:y,actualBoundingBoxRight:x,actualBoundingBoxAscent:_,actualBoundingBoxDescent:E,fontBoundingBoxAscent:R,fontBoundingBoxDescent:A,width:w}=f.measureText(t),M=1.5,D=Math.ceil(Math.max(Math.abs(y)+Math.abs(x)||0,w)*M),P=Math.ceil(Math.max(Math.abs(_)+Math.abs(E)||m,Math.abs(R)+Math.abs(A)||m)*M);d=new OffscreenCanvas(D,P),f=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=v,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,D,P),f.fillStyle="black",f.fillText(t,D*(M-1)/2,P*(3-M)/2);const z=this.#h(f.getImageData(0,0,D,P).data),L=this.#l(z),U=this.#u(L),I=this.#a(z,D,P,U);return this.processDrawnLines({lines:{curves:I,width:D,height:P},pageWidth:r,pageHeight:s,rotation:l,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(t,n,i,a,r){const[s,l,c]=this.#f(t),[d,f]=this.#d(s,l,c,Math.hypot(l,c)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),m=this.#u(f),v=this.#a(d,l,c,m);return this.processDrawnLines({lines:{curves:v,width:l,height:c},pageWidth:n,pageHeight:i,rotation:a,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:n,pageHeight:i,rotation:a,innerMargin:r,mustSmooth:s,areContours:l}){a%180!==0&&([n,i]=[i,n]);const{curves:c,width:d,height:f}=t,m=t.thickness??0,v=[],y=Math.min(n/d,i/f),x=y/n,_=y/i,E=[];for(const{points:A}of c){const w=s?this.#s(A):A;if(!w)continue;E.push(w);const M=w.length,D=new Float32Array(M),P=new Float32Array(3*(M===2?2:M-2));if(v.push({line:P,points:D}),M===2){D[0]=w[0]*x,D[1]=w[1]*_,P.set([NaN,NaN,NaN,NaN,D[0],D[1]],0);continue}let[z,L,U,I]=w;z*=x,L*=_,U*=x,I*=_,D.set([z,L,U,I],0),P.set([NaN,NaN,NaN,NaN,z,L],0);for(let q=4;q<M;q+=2){const J=D[q]=w[q]*x,it=D[q+1]=w[q+1]*_;P.set(qt.createBezierPoints(z,L,U,I,J,it),(q-2)*3),[z,L,U,I]=[U,I,J,it]}}if(v.length===0)return null;const R=l?new QA:new Cv;return R.build(v,n,i,1,a,l?0:m,r),{outline:R,newCurves:E,areContours:l,thickness:m,width:d,height:f}}static async compressSignature({outlines:t,areContours:n,thickness:i,width:a,height:r}){let s=1/0,l=-1/0,c=0;for(const w of t){c+=w.length;for(let M=2,D=w.length;M<D;M++){const P=w[M]-w[M-2];s=Math.min(s,P),l=Math.max(l,P)}}let d;s>=-128&&l<=127?d=Int8Array:s>=-32768&&l<=32767?d=Int16Array:d=Int32Array;const f=t.length,m=Cb+ym*f,v=new Uint32Array(m);let y=0;v[y++]=m*Uint32Array.BYTES_PER_ELEMENT+(c-2*f)*d.BYTES_PER_ELEMENT,v[y++]=0,v[y++]=a,v[y++]=r,v[y++]=n?0:1,v[y++]=Math.max(0,Math.floor(i??0)),v[y++]=f,v[y++]=d.BYTES_PER_ELEMENT;for(const w of t)v[y++]=w.length-2,v[y++]=w[0],v[y++]=w[1];const x=new CompressionStream("deflate-raw"),_=x.writable.getWriter();await _.ready,_.write(v);const E=d.prototype.constructor;for(const w of t){const M=new E(w.length-2);for(let D=2,P=w.length;D<P;D++)M[D-2]=w[D]-w[D-2];_.write(M)}_.close();const R=await new Response(x.readable).arrayBuffer(),A=new Uint8Array(R);return mj(A)}static async decompressSignature(t){try{const n=eot(t),{readable:i,writable:a}=new DecompressionStream("deflate-raw"),r=a.getWriter();await r.ready,r.write(n).then(async()=>{await r.ready,await r.close()}).catch(()=>{});let s=null,l=0;for await(const w of i)s||=new Uint8Array(new Uint32Array(w.buffer,0,4)[0]),s.set(w,l),l+=w.length;const c=new Uint32Array(s.buffer,0,s.length>>2),d=c[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const f=c[2],m=c[3],v=c[4]===0,y=c[5],x=c[6],_=c[7],E=[],R=(Cb+ym*x)*Uint32Array.BYTES_PER_ELEMENT;let A;switch(_){case Int8Array.BYTES_PER_ELEMENT:A=new Int8Array(s.buffer,R);break;case Int16Array.BYTES_PER_ELEMENT:A=new Int16Array(s.buffer,R);break;case Int32Array.BYTES_PER_ELEMENT:A=new Int32Array(s.buffer,R);break}l=0;for(let w=0;w<x;w++){const M=c[ym*w+Cb],D=new Float32Array(M+2);E.push(D);for(let P=0;P<ym-1;P++)D[P]=c[ym*w+Cb+P+1];for(let P=0;P<M;P++)D[P+2]=D[P]+A[l++]}return{areContours:v,thickness:y,outlines:E,width:f,height:m}}catch(n){return ve(`decompressSignature: ${n}`),null}}}class wT extends Vj{constructor(){super(),super.updateProperties({fill:ne._defaultLineColor,"stroke-width":0})}clone(){const t=new wT;return t.updateAll(this),t}}class ET extends Px{constructor(t){super(t),super.updateProperties({stroke:ne._defaultLineColor,"stroke-width":1})}clone(){const t=new ET(this._viewParameters);return t.updateAll(this),t}}class Wo extends le{#t=!1;#e=null;#n=null;#i=null;static _type="signature";static _editorType=me.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,n){ne.initialize(t,n),this._defaultDrawingOptions=new wT,this._defaultDrawnSignatureOptions=new ET(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return ze(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const n=t.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,n;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,n=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:a,mustSmooth:r,areContours:s,description:l,uuid:c,heightInPage:d}=this.#n,{rawDims:{pageWidth:f,pageHeight:m},rotation:v}=this.parent.viewport,y=Wf.processDrawnLines({lines:a,pageWidth:f,pageHeight:m,rotation:v,innerMargin:Wo._INNER_MARGIN,mustSmooth:r,areContours:s});this.addSignature(y,d,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return i&&(this._isCopy=!0,this._moveAfterPaste(t,n)),this.div}setUuid(t){this.#i=t,this.addEditToolbar()}getUuid(){return this.#i}get description(){return this.#e}set description(t){this.#e=t,super.addEditToolbar().then(n=>{n?.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:n,thickness:i,width:a,height:r}=this.#n,s=Math.max(a,r),l=Wf.processDrawnLines({lines:{curves:t.map(c=>({points:c})),thickness:i,width:a,height:r},pageWidth:s,pageHeight:s,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,n,i,a){const{x:r,y:s}=this,{outline:l}=this.#n=t;this.#t=l instanceof QA,this.description=i,this.div.setAttribute("data-l10n-args",JSON.stringify({description:i}));let c;this.#t?c=Wo.getDefaultDrawingOptions():(c=Wo._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[d,f]=this.parentDimensions,[,m]=this.pageDimensions;let v=n/m;v=v>=1?.5:v,this.width*=v/this.height,this.width>=1&&(v*=.9/this.width,this.width=.9),this.height=v,this.setDims(d*this.width,f*this.height),this.x=r,this.y=s,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:a}=this.parent.viewport;return Wf.process(t,n,i,a,Wo._INNER_MARGIN)}getFromText(t,n){const{rawDims:{pageWidth:i,pageHeight:a},rotation:r}=this.parent.viewport;return Wf.extractContoursFromText(t,n,i,a,r,Wo._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:a}=this.parent.viewport;return Wf.processDrawnLines({lines:t,pageWidth:n,pageHeight:i,rotation:a,innerMargin:Wo._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:n}){t?this._drawingOptions=Wo.getDefaultDrawingOptions():(this._drawingOptions=Wo._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:n,points:i,rect:a}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":r}}=this,s={annotationType:me.SIGNATURE,isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:r,pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(s.paths={lines:n,points:i},s.uuid=this.#i,s.isCopy=!0):s.lines=n,this.#e&&(s.accessibilityData={type:"Figure",alt:this.#e}),s}static deserializeDraw(t,n,i,a,r,s){return s.areContours?QA.deserialize(t,n,i,a,r,s):Cv.deserialize(t,n,i,a,r,s)}static async deserialize(t,n,i){const a=await super.deserialize(t,n,i);return a.#t=t.areContours,a.#e=t.accessibilityData?.alt||"",a.#i=t.uuid,a}}class Nlt extends ne{#t=null;#e=null;#n=null;#i=null;#r=null;#a="";#o=null;#s=!1;#d=null;#l=!1;#h=!1;static _type="stamp";static _editorType=me.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#i=t.bitmapUrl,this.#r=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,n){ne.initialize(t,n)}static isHandlingMimeForPasting(t){return qA.includes(t)}static paste(t,n){n.pasteEditor({mode:me.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}#u(t,n=!1){if(!t){this.remove();return}this.#t=t.bitmap,n||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#a=t.file.name),this.#g()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#o){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:r,height:s}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:a,width:r,height:s,channels:a.length/(r*s)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),n&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}#p(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(i=>this.#u(i,!0)).finally(()=>this.#f());return}if(this.#i){const i=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(i).then(a=>this.#u(a)).finally(()=>this.#f());return}if(this.#r){const i=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(i).then(a=>this.#u(a)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=qA.join(",");const n=this._uiManager._signal;this.#n=new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(a)}i()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#o?.remove(),this.#o=null,this.#d&&(clearTimeout(this.#d),this.#d=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#p();return}super.rebuild(),this.div!==null&&(this.#e&&this.#o===null&&this.#p(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#n||this.#t||this.#i||this.#r||this.#e||this.#s)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;return this._isCopy&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#s||(this.#t?this.#g():this.#p()),this._isCopy&&this._moveAfterPaste(t,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,n){const{id:i,bitmap:a}=this._uiManager.imageManager.getFromCanvas(t,n);n.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(this.#e=i,a&&(this.#t=a),this.#s=!1,this.#g())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#d!==null&&clearTimeout(this.#d);const t=200;this.#d=setTimeout(()=>{this.#d=null,this.#m()},t)}#g(){const{div:t}=this;let{width:n,height:i}=this.#t;const[a,r]=this.pageDimensions,s=.75;if(this.width)n=this.width*a,i=this.height*r;else if(n>s*a||i>s*r){const f=Math.min(s*a/n,s*r/i);n*=f,i*=f}const[l,c]=this.parentDimensions;this.setDims(n*l/a,i*c/r),this._uiManager.enableWaiting(!1);const d=this.#o=document.createElement("canvas");d.setAttribute("role","img"),this.addContainer(d),this.width=n/a,this.height=i/r,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#m(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#a&&this.div.setAttribute("aria-description",this.#a),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,n,i=!1){t||(t=224);const{width:a,height:r}=this.#t,s=new nl;let l=this.#t,c=a,d=r,f=null;if(n){if(a>n||r>n){const P=Math.min(n/a,n/r);c=Math.floor(a*P),d=Math.floor(r*P)}f=document.createElement("canvas");const v=f.width=Math.ceil(c*s.sx),y=f.height=Math.ceil(d*s.sy);this.#l||(l=this.#c(v,y));const x=f.getContext("2d");x.filter=this._uiManager.hcmFilter;let _="white",E="#cfcfd8";this._uiManager.hcmFilter!=="none"?E="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(_="#8f8f9d",E="#42414d");const R=15,A=R*s.sx,w=R*s.sy,M=new OffscreenCanvas(A*2,w*2),D=M.getContext("2d");D.fillStyle=_,D.fillRect(0,0,A*2,w*2),D.fillStyle=E,D.fillRect(0,0,A,w),D.fillRect(A,w,A,w),x.fillStyle=x.createPattern(M,"repeat"),x.fillRect(0,0,v,y),x.drawImage(l,0,0,l.width,l.height,0,0,v,y)}let m=null;if(i){let v,y;if(s.symmetric&&l.width<t&&l.height<t)v=l.width,y=l.height;else if(l=this.#t,a>t||r>t){const E=Math.min(t/a,t/r);v=Math.floor(a*E),y=Math.floor(r*E),this.#l||(l=this.#c(v,y))}const _=new OffscreenCanvas(v,y).getContext("2d",{willReadFrequently:!0});_.drawImage(l,0,0,l.width,l.height,0,0,v,y),m={width:v,height:y,data:_.getImageData(0,0,v,y).data}}return{canvas:f,width:c,height:d,imageData:m}}#c(t,n){const{width:i,height:a}=this.#t;let r=i,s=a,l=this.#t;for(;r>2*t||s>2*n;){const c=r,d=s;r>2*t&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),s>2*n&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));const f=new OffscreenCanvas(r,s);f.getContext("2d").drawImage(l,0,0,c,d,0,0,r,s),l=f.transferToImageBitmap()}return l}#m(){const[t,n]=this.parentDimensions,{width:i,height:a}=this,r=new nl,s=Math.ceil(i*t*r.sx),l=Math.ceil(a*n*r.sy),c=this.#o;if(!c||c.width===s&&c.height===l)return;c.width=s,c.height=l;const d=this.#l?this.#t:this.#c(s,l),f=c.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(d,0,0,d.width,d.height,0,0,s,l)}#v(t){if(t){if(this.#l){const a=this._uiManager.imageManager.getSvgUrl(this.#e);if(a)return a}const n=document.createElement("canvas");return{width:n.width,height:n.height}=this.#t,n.getContext("2d").drawImage(this.#t,0,0),n.toDataURL()}if(this.#l){const[n,i]=this.pageDimensions,a=Math.round(this.width*n*pp.PDF_TO_CSS_UNITS),r=Math.round(this.height*i*pp.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(a,r);return s.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,a,r),s.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,n,i){let a=null,r=!1;if(t instanceof Gj){const{data:{rect:_,rotation:E,id:R,structParent:A,popupRef:w},container:M,parent:{page:{pageNumber:D}},canvas:P}=t;let z,L;P?(delete t.canvas,{id:z,bitmap:L}=i.imageManager.getFromCanvas(M.id,P),P.remove()):(r=!0,t._hasNoCanvas=!0);const U=(await n._structTree.getAriaAttributes(`${cT}${R}`))?.get("aria-label")||"";a=t={annotationType:me.STAMP,bitmapId:z,bitmap:L,pageIndex:D-1,rect:_.slice(0),rotation:E,annotationElementId:R,id:R,deleted:!1,accessibilityData:{decorative:!1,altText:U},isSvg:!1,structParent:A,popupRef:w}}const s=await super.deserialize(t,n,i),{rect:l,bitmap:c,bitmapUrl:d,bitmapId:f,isSvg:m,accessibilityData:v}=t;r?(i.addMissingCanvas(t.id,s),s.#s=!0):f&&i.imageManager.isValidId(f)?(s.#e=f,c&&(s.#t=c)):s.#i=d,s.#l=m;const[y,x]=s.pageDimensions;return s.width=(l[2]-l[0])/y,s.height=(l[3]-l[1])/x,v&&(s.altTextData=v),s._initialData=a,s.#h=!!a,s}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:me.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#l,structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=this.#v(!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:a,altText:r}=this.serializeAltText(!1);if(!a&&r&&(i.accessibilityData={type:"Figure",alt:r}),this.annotationElementId){const l=this.#y(i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,n===null)return i;n.stamps||=new Map;const s=this.#l?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(this.#e))n.stamps.set(this.#e,{area:s,serialized:i}),i.bitmap=this.#v(!1);else if(this.#l){const l=n.stamps.get(this.#e);s>l.area&&(l.area=s,l.serialized.bitmap.close(),l.serialized.bitmap=this.#v(!1))}return i}#y(t){const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,a=t.pageIndex===n,r=(t.accessibilityData?.alt||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&a&&r,isSameAltText:r}}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}class Yl{#t;#e=!1;#n=null;#i=null;#r=null;#a=new Map;#o=!1;#s=!1;#d=!1;#l=null;#h=null;#u=null;#f=null;#p=null;#g=-1;#c;static _initialized=!1;static#m=new Map([wi,_T,Nlt,ai,Wo].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:n,div:i,structTreeLayer:a,accessibilityManager:r,annotationLayer:s,drawLayer:l,textLayer:c,viewport:d,l10n:f}){const m=[...Yl.#m.values()];if(!Yl._initialized){Yl._initialized=!0;for(const v of m)v.initialize(f,t)}t.registerEditorTypes(m),this.#c=t,this.pageIndex=n,this.div=i,this.#t=r,this.#n=s,this.viewport=d,this.#u=c,this.drawLayer=l,this._structTree=a,this.#c.addLayer(this)}get isEmpty(){return this.#a.size===0}get isInvisible(){return this.isEmpty&&this.#c.getMode()===me.NONE}updateToolbar(t){this.#c.updateToolbar(t)}updateMode(t=this.#c.getMode()){switch(this.#_(),t){case me.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case me.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case me.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const i of Yl.#m.values())n.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#u?.div}setEditingState(t){this.#c.setEditingState(t)}addCommands(t){this.#c.addCommands(t)}cleanUndoStack(t){this.#c.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}async enable(){this.#d=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.#p?.abort(),this.#p=null;const t=new Set;for(const i of this.#a.values())i.enableEditing(),i.show(!0),i.annotationElementId&&(this.#c.removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!this.#n){this.#d=!1;return}const n=this.#n.getEditableAnnotations();for(const i of n){if(i.hide(),this.#c.isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const a=await this.deserialize(i);a&&(this.addOrRebuild(a),a.enableEditing())}this.#d=!1}disable(){if(this.#s=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.#u&&!this.#p){this.#p=new AbortController;const a=this.#c.combinedSignal(this.#p);this.#u.div.addEventListener("pointerdown",r=>{const{clientX:l,clientY:c,timeStamp:d}=r,f=this.#g;if(d-f>500){this.#g=d;return}this.#g=-1;const{classList:m}=this.div;m.toggle("getElements",!0);const v=document.elementsFromPoint(l,c);if(m.toggle("getElements",!1),!this.div.contains(v[0]))return;let y;const x=new RegExp(`^${dj}[0-9]+$`);for(const E of v)if(x.test(E.id)){y=E.id;break}if(!y)return;const _=this.#a.get(y);_?.annotationElementId===null&&(r.stopPropagation(),r.preventDefault(),_.dblclick())},{signal:a,capture:!0})}const t=new Map,n=new Map;for(const a of this.#a.values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){t.set(a.annotationElementId,a);continue}else n.set(a.annotationElementId,a);this.getEditableAnnotation(a.annotationElementId)?.show(),a.remove()}if(this.#n){const a=this.#n.getEditableAnnotations();for(const r of a){const{id:s}=r.data;if(this.#c.isDeletedAnnotationElement(s))continue;let l=n.get(s);if(l){l.resetAnnotationElement(r),l.show(!1),r.show();continue}l=t.get(s),l&&(this.#c.addChangedExistingAnnotation(l),l.renderAnnotationElement(r)&&l.show(!1)),r.show()}}this.#_(),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const a of Yl.#m.values())i.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#s=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#c.getActive()!==t&&this.#c.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#f){this.#f=new AbortController;const t=this.#c.combinedSignal(this.#f);this.#u.div.addEventListener("pointerdown",this.#v.bind(this),{signal:t}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#u.div.classList.remove("highlighting"))}#v(t){this.#c.unselectAll();const{target:n}=t;if(n===this.#u.div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&this.#u.div.contains(n)){const{isMac:i}=aa.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#c.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),ai.startHighlighting(this,this.#c.direction==="ltr",{target:this.#u.div,x:t.x,y:t.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#c._signal}),t.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;const t=this.#c.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:t}),this.div.addEventListener("pointercancel",n,{signal:t})}disableClick(){this.#i?.abort(),this.#i=null}attach(t){this.#a.set(t.id,t);const{annotationElementId:n}=t;n&&this.#c.isDeletedAnnotationElement(n)&&this.#c.removeDeletedAnnotationElement(t)}detach(t){this.#a.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#s&&t.annotationElementId&&this.#c.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#c.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#c.addDeletedAnnotationElement(t.annotationElementId),ne.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#c.addEditor(t),this.attach(t),!t.isAttachedToDOM){const n=t.render();this.div.append(n),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#d),this.#c.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:n}=document;t.div.contains(n)&&!this.#r&&(t._focusEventsAllowed=!1,this.#r=setTimeout(()=>{this.#r=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#c._signal}),n.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const n=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:n,undo:i,mustExec:!1})}getNextId(){return this.#c.getId()}get#y(){return Yl.#m.get(this.#c.getMode())}combinedSignal(t){return this.#c.combinedSignal(t)}#b(t){const n=this.#y;return n?new n.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#y?.canCreateNewEmptyEditor()}async pasteEditor(t,n){this.updateToolbar(t),await this.#c.updateMode(t.mode);const{offsetX:i,offsetY:a}=this.#x(),r=this.getNextId(),s=this.#b({parent:this,id:r,x:i,y:a,uiManager:this.#c,isCentered:!0,...n});s&&this.add(s)}async deserialize(t){return await Yl.#m.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#c)||null}createAndAddNewEditor(t,n,i={}){const a=this.getNextId(),r=this.#b({parent:this,id:a,x:t.offsetX,y:t.offsetY,uiManager:this.#c,isCentered:n,...i});return r&&this.add(r),r}#x(){const{x:t,y:n,width:i,height:a}=this.div.getBoundingClientRect(),r=Math.max(0,t),s=Math.max(0,n),l=Math.min(window.innerWidth,t+i),c=Math.min(window.innerHeight,n+a),d=(r+l)/2-t,f=(s+c)/2-n,[m,v]=this.viewport.rotation%180===0?[d,f]:[f,d];return{offsetX:m,offsetY:v}}addNewEditor(t={}){this.createAndAddNewEditor(this.#x(),!0,t)}setSelected(t){this.#c.setSelected(t)}toggleSelected(t){this.#c.toggleSelected(t)}unselect(t){this.#c.unselect(t)}pointerup(t){const{isMac:n}=aa.platform;if(t.button!==0||t.ctrlKey&&n||t.target!==this.div||!this.#o||(this.#o=!1,this.#y?.isDrawer&&this.#y.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const i=this.#c.getMode();if(i===me.STAMP||i===me.SIGNATURE){this.#c.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#c.getMode()===me.HIGHLIGHT&&this.enableTextSelection(),this.#o){this.#o=!1;return}const{isMac:n}=aa.platform;if(t.button!==0||t.ctrlKey&&n||t.target!==this.div)return;if(this.#o=!0,this.#y?.isDrawer){this.startDrawingSession(t);return}const i=this.#c.getActive();this.#e=!i||i.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#y.startDrawing(this,this.#c,!1,t);return}this.#c.setCurrentDrawingSession(this),this.#l=new AbortController;const n=this.#c.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(this.#h=null,this.commitOrRemove())},{signal:n}),this.#y.startDrawing(this,this.#c,!1,t)}pause(t){if(t){const{activeElement:n}=document;this.div.contains(n)&&(this.#h=n);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(t=!1){return this.#l?(this.#c.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#y.endDrawing(t)):null}findNewParent(t,n,i){const a=this.#c.findParent(n,i);return a===null||a===this?!1:(a.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#y.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#c.getActive()?.parent===this&&(this.#c.commitOrRemove(),this.#c.setActiveEditor(null)),this.#r&&(clearTimeout(this.#r),this.#r=null);for(const t of this.#a.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#a.clear(),this.#c.removeLayer(this)}#_(){for(const t of this.#a.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Qd(this.div,t);for(const n of this.#c.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:t}){this.#c.commitOrRemove(),this.#_();const n=this.viewport.rotation,i=t.rotation;if(this.viewport=t,Qd(this.div,{rotation:i}),n!==i)for(const a of this.#a.values())a.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:n}=this.viewport.rawDims;return[t,n]}get scale(){return this.#c.viewParameters.realScale}}class ta{#t=null;#e=new Map;#n=new Map;static#i=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const n of this.#e.values())n.remove(),t.append(n);this.#t=t}}static get _svgFactory(){return ze(this,"_svgFactory",new E1)}static#r(t,[n,i,a,r]){const{style:s}=t;s.top=`${100*i}%`,s.left=`${100*n}%`,s.width=`${100*a}%`,s.height=`${100*r}%`}#a(){const t=ta._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#o(t,n){const i=ta._svgFactory.createElement("clipPath");t.append(i);const a=`clip_${n}`;i.setAttribute("id",a),i.setAttribute("clipPathUnits","objectBoundingBox");const r=ta._svgFactory.createElement("use");return i.append(r),r.setAttribute("href",`#${n}`),r.classList.add("clip"),a}#s(t,n){for(const[i,a]of Object.entries(n))a===null?t.removeAttribute(i):t.setAttribute(i,a)}draw(t,n=!1,i=!1){const a=ta.#i++,r=this.#a(),s=ta._svgFactory.createElement("defs");r.append(s);const l=ta._svgFactory.createElement("path");s.append(l);const c=`path_p${this.pageIndex}_${a}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),n&&this.#n.set(a,l);const d=i?this.#o(s,c):null,f=ta._svgFactory.createElement("use");return r.append(f),f.setAttribute("href",`#${c}`),this.updateProperties(r,t),this.#e.set(a,r),{id:a,clipPathId:`url(#${d})`}}drawOutline(t,n){const i=ta.#i++,a=this.#a(),r=ta._svgFactory.createElement("defs");a.append(r);const s=ta._svgFactory.createElement("path");r.append(s);const l=`path_p${this.pageIndex}_${i}`;s.setAttribute("id",l),s.setAttribute("vector-effect","non-scaling-stroke");let c;if(n){const m=ta._svgFactory.createElement("mask");r.append(m),c=`mask_p${this.pageIndex}_${i}`,m.setAttribute("id",c),m.setAttribute("maskUnits","objectBoundingBox");const v=ta._svgFactory.createElement("rect");m.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const y=ta._svgFactory.createElement("use");m.append(y),y.setAttribute("href",`#${l}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const d=ta._svgFactory.createElement("use");a.append(d),d.setAttribute("href",`#${l}`),c&&d.setAttribute("mask",`url(#${c})`);const f=d.cloneNode();return a.append(f),d.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(a,t),this.#e.set(i,a),i}finalizeDraw(t,n){this.#n.delete(t),this.updateProperties(t,n)}updateProperties(t,n){if(!n)return;const{root:i,bbox:a,rootClass:r,path:s}=n,l=typeof t=="number"?this.#e.get(t):t;if(l){if(i&&this.#s(l,i),a&&ta.#r(l,a),r){const{classList:c}=l;for(const[d,f]of Object.entries(r))c.toggle(d,f)}if(s){const d=l.firstChild.firstChild;this.#s(d,s)}}}updateParent(t,n){if(n===this)return;const i=this.#e.get(t);i&&(n.#t.append(i),this.#e.delete(t),n.#e.set(t,i))}remove(t){this.#n.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:$A};globalThis.pdfjsLib={AbortException:bu,AnnotationEditorLayer:Yl,AnnotationEditorParamsType:Ye,AnnotationEditorType:me,AnnotationEditorUIManager:xu,AnnotationLayer:ST,AnnotationMode:su,AnnotationType:pi,build:ult,ColorPicker:os,createValidAbsoluteUrl:hj,DOMSVGFactory:E1,DrawLayer:ta,FeatureTest:aa,fetchData:_v,getDocument:Pj,getFilenameFromUrl:not,getPdfFilenameFromUrl:iot,getUuid:gj,getXfaPageViewport:rot,GlobalWorkerOptions:lp,ImageKind:Yb,InvalidPDFException:GA,isDataScheme:Dx,isPdfFile:dT,isValidExplicitDest:mot,MathClamp:ja,noContextMenu:Js,normalizeUnicode:Jst,OPS:_1,OutputScale:nl,PasswordResponses:qst,PDFDataRangeTransport:Lj,PDFDateString:vj,PDFWorker:$0,PermissionFlag:Gst,PixelsPerInch:pp,RenderingCancelledException:uT,ResponseException:w1,setLayerDimensions:Qd,shadow:ze,SignatureExtractor:Wf,stopEvent:mi,SupportedImageMimeTypes:qA,TextLayer:Pa,TouchManager:Ox,updateUrlHash:fj,Util:Jt,VerbosityLevel:Tx,version:clt,XfaLayer:Fj};lp.workerSrc="/pdf.worker.js";async function Plt(e,t=2){return new Promise((n,i)=>{const a=new FileReader;a.onload=async function(){const r=new Uint8Array(this.result),l=await(await Pj({data:r}).promise).getPage(1),c=l.getViewport({scale:t}),d=document.createElement("canvas"),f=d.getContext("2d");d.width=c.width,d.height=c.height,await l.render({canvasContext:f,viewport:c}).promise;const m=d.toDataURL("image/png");n({dataUrl:m,width:c.width,height:c.height})},a.onerror=i,a.readAsArrayBuffer(e)})}const Llt=[{key:"canvas",label:"Canvas",icon:F.jsx(wC,{size:18})},{key:"export",label:"Exportar",icon:F.jsx(Fb,{size:18})},{key:"about",label:"About",icon:F.jsx(sN,{size:18})}];function klt({isOpen:e,onClose:t}){const[n,i]=j.useState("canvas"),{canvasWidth:a,canvasHeight:r,setCanvasSize:s,backgroundColor:l,setBackgroundColor:c,resetView:d,setBackgroundImage:f,clearBackgroundImage:m,backgroundImage:v}=Pt(),[y,x]=j.useState({width:a,height:r,backgroundColor:l,backgroundImage:v});j.useEffect(()=>{e&&x({width:a,height:r,backgroundColor:l,backgroundImage:v})},[e,a,r,l,v]);const _=window.__konvaStageRef,E=D=>{if(!_)return;const P=_.toDataURL({x:0,y:0,width:y.width,height:y.height,pixelRatio:3,mimeType:D==="jpg"?"image/jpeg":"image/png"}),z=document.createElement("a");z.download=`canvas.${D}`,z.href=P,z.click()};function R(){s({width:Math.max(100,parseInt(y.width)),height:Math.max(100,parseInt(y.height))}),c(y.backgroundColor),y.backgroundImage!==v&&f(y.backgroundImage),t()}function A(){x({width:a,height:r,backgroundColor:l,backgroundImage:v}),t()}function w(D){const P=D.target.files[0];if(!P)return;const z=new window.Image;z.src=URL.createObjectURL(P),z.onload=()=>{x(L=>({...L,width:Math.round(z.width),height:Math.round(z.height),backgroundImage:z.src}))}}async function M(D){const P=D.target.files[0];if(!P)return;const{dataUrl:z,width:L,height:U}=await Plt(P,2);x(I=>({...I,width:Math.round(L),height:Math.round(U),backgroundImage:z}))}return F.jsx(y3,{isOpen:e,onClose:t,title:F.jsxs("span",{className:"flex gap-2 items-center",children:[F.jsx(dN,{size:20}),"Menu"]}),children:F.jsxs("div",{className:"flex flex-col md:flex-row w-full max-w-[90vw] md:max-w-2xl min-h-[650px] md:min-h-[500px]",children:[F.jsx("aside",{className:"flex md:flex-col gap-1 md:pr-2 mb-2 md:mb-0 border-b md:border-b-0 md:border-r border-slate-200 md:min-w-[110px]",children:Llt.map(D=>F.jsxs("button",{className:Gn("flex items-center gap-2 px-3 py-2 rounded transition-colors font-medium w-full md:w-auto",n===D.key?"bg-blue-100 text-blue-800":"hover:bg-slate-100 text-slate-700"),onClick:()=>i(D.key),children:[D.icon," ",D.label]},D.key))}),F.jsxs("section",{className:"flex-1 pl-0 md:pl-6 overflow-y-auto relative",children:[n==="canvas"&&F.jsxs("form",{className:"flex flex-col gap-y-8 md:gap-y-6 h-full",onSubmit:D=>{D.preventDefault(),R()},children:[F.jsxs("div",{children:[F.jsxs("h3",{className:"font-bold md:text-lg mb-2 flex items-center gap-2",children:[F.jsx(wC,{size:18})," Canvas Size"]}),F.jsxs("div",{className:"flex sm:flex-row gap-3 sm:gap-4",children:[F.jsxs("div",{className:"flex flex-col gap-1 w-full sm:w-32",children:[F.jsx("span",{className:"text-xs font-semibold",children:"Width"}),F.jsx("input",{type:"number",min:100,max:6e3,step:1,pattern:"\\d*",value:y.width,inputMode:"numeric",onKeyDown:D=>{(D.key==="."||D.key===","||D.key==="e")&&D.preventDefault()},onChange:D=>{const P=D.target.value.replace(/[^\d]/g,"");x(z=>({...z,width:P}))},className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-base text-center font-medium shadow-sm focus:ring-2 focus:ring-blue-400"})]}),F.jsxs("div",{className:"flex flex-col gap-1 w-full sm:w-32",children:[F.jsx("span",{className:"text-xs font-semibold",children:"Height"}),F.jsx("input",{type:"number",min:100,max:6e3,step:1,pattern:"\\d*",value:y.height,inputMode:"numeric",onChange:D=>{const P=D.target.value.replace(/[^\d]/g,"");x(z=>({...z,height:P}))},className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-base text-center font-medium shadow-sm focus:ring-2 focus:ring-blue-400"})]})]})]}),F.jsxs("div",{children:[F.jsxs("h3",{className:"font-bold md:text-lg mb-2 flex items-center gap-2",children:[F.jsx(cN,{size:18})," Canvas Background"]}),F.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[F.jsx(S1,{icon:_C,color:y.backgroundColor,onChange:D=>x(P=>({...P,backgroundColor:D})),label:"Color de fondo",size:32}),F.jsxs("button",{type:"button",className:"inline-flex items-center px-3 py-1 rounded bg-blue-50 text-blue-700 text-xs font-medium ml-2 hover:bg-blue-100 border border-blue-300 transition",onClick:()=>x(D=>({...D,backgroundColor:"#FFFFFF"})),children:[F.jsx(a4,{size:16,className:"mr-1"}),"Restablecer"]})]})]}),F.jsxs("div",{children:[F.jsxs("label",{className:"text-xs font-semibold mb-1 flex items-center gap-2",children:[F.jsx(e4,{size:18})," Fondo con Imagen:"]}),F.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-start sm:items-center",children:[F.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-slate-100 rounded-md cursor-pointer border border-slate-200 hover:bg-blue-50 transition w-full",children:[F.jsx(e4,{size:18}),F.jsx("span",{className:"text-xs font-medium",children:"Seleccionar Imagen"}),F.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:w})]}),y.backgroundImage&&F.jsxs("div",{className:"flex items-center gap-1 mt-2 sm:mt-0 flex-nowrap text-nowrap w-full",children:[F.jsx("img",{src:y.backgroundImage,alt:"Fondo",className:"h-9 w-9 object-cover rounded"}),F.jsxs("button",{type:"button",className:"px-2 py-1 text-xs flex gap-2 h-9 items-center rounded bg-red-100 hover:bg-red-200 transition",onClick:()=>x(D=>({...D,backgroundImage:null})),children:[F.jsx(ov,{size:20})," Quitar imagen"]})]})]})]}),F.jsxs("div",{className:"w-full",children:[F.jsxs("label",{className:"text-xs font-semibold mb-1 flex items-center gap-2",children:[F.jsx(n4,{size:18})," Fondo desde PDF:"]}),F.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-slate-100 rounded-md cursor-pointer border border-slate-200 hover:bg-blue-50 transition w-full",children:[F.jsx(n4,{size:18}),F.jsx("span",{className:"text-xs font-medium",children:"Seleccionar PDF"}),F.jsx("input",{type:"file",accept:"application/pdf",className:"hidden",onChange:M})]})]}),F.jsx("div",{children:F.jsxs("button",{type:"button",className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 hover:bg-red-100 transition w-full sm:w-auto",onClick:d,children:[F.jsx(a4,{size:16})," Reiniciar Vista del Canvas"]})}),F.jsxs("div",{className:"flex sm:flex-row gap-3 justify-end items-center mt-2 pt-2 border-t",children:[F.jsxs("button",{type:"button",className:"flex items-center gap-2 px-4 py-2 rounded bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium transition w-full sm:w-auto",onClick:A,children:[F.jsx(hN,{size:18})," Descartar"]}),F.jsxs("button",{type:"submit",className:"flex items-center text-center gap-2 px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 text-white font-semibold shadow w-full sm:w-auto",children:[F.jsx(uN,{size:18})," Guardar"]})]})]}),n==="export"&&F.jsxs("div",{className:"space-y-6",children:[F.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[F.jsx(Fb,{size:18})," Exportar Canvas"]}),F.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[F.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded bg-blue-600 text-white font-semibold w-full sm:w-auto",onClick:()=>E("png"),children:[F.jsx(Fb,{size:16})," PNG"]}),F.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded bg-green-600 text-white font-semibold w-full sm:w-auto",onClick:()=>E("jpg"),children:[F.jsx(Fb,{size:16})," JPG"]})]}),F.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Solo se exportará la zona de trabajo actual. Las figuras fuera del área se recortan."})]}),n==="about"&&F.jsxs("div",{className:"space-y-3",children:[F.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[F.jsx(sN,{size:18})," About"]}),F.jsxs("p",{className:"text-sm",children:[F.jsx("b",{children:"Desarrollado por Raul Belloso"})," ",F.jsx("br",{}),F.jsxs("span",{className:"text-xs text-gray-500",children:["Cualquier sugerencia o contacto en"," ",F.jsx("a",{className:"text-blue-500 underline",href:"https://racoondevs.com",children:"racoondevs.com"})]}),F.jsx("br",{}),"Esta aplicación es un editor de canvas simple para crear dibujos y diseños. Puedes usar herramientas básicas como lápiz, borrador y formas geométricas.",F.jsx("br",{}),F.jsx("br",{}),F.jsx("p",{className:"text-sm mb-2",children:"Sígueme en redes sociales para más contenido y actualizaciones:"}),F.jsxs("span",{className:"text-xs text-gray-500 flex gap-2",children:[F.jsx("a",{className:"text-white rounded-full p-3 bg-blue-600 flex items-center justify-center",href:"https://www.facebook.com/raul.bellosom",target:"_blank",rel:"noopener noreferrer",children:F.jsx(kU,{size:16,className:"inline"})})," ",F.jsx("a",{className:"text-white rounded-full p-3 bg-fuchsia-400 flex items-center justify-center",href:"https://www.instagram.com/raulbellosom/",target:"_blank",rel:"noopener noreferrer",children:F.jsx(KU,{size:16,className:"inline"})})," ",F.jsx("a",{className:"text-white rounded-full p-3 bg-black flex items-center justify-center",href:"https://x.com/Raul_BellosoM",target:"_blank",rel:"noopener noreferrer",children:F.jsx(MH,{size:16,className:"inline"})})]}),F.jsx("p",{className:"text-sm mt-4",children:"Si te gusta este proyecto, considera hacer una donación para apoyar su desarrollo:"}),F.jsxs("div",{className:"flex gap-2 mt-2",children:[F.jsxs("a",{href:"https://www.paypal.com/donate/?hosted_button_id=Z3X5K6Y7V8W9U",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 rounded bg-blue-600 text-white font-semibold",children:[F.jsx(fU,{className:"w-5 h-5"}),"Donar con PayPal"]}),F.jsxs("a",{href:"https://ko-fi.com/raulbellosom",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 rounded bg-yellow-500 text-white font-semibold",children:[F.jsx(RU,{className:"w-5 h-5"}),"Donar con Ko-fi"]})]})]})]})]})]})})}const jlt=[{name:"select",icon:dH,title:"Seleccionar (V)"},{name:"hand",icon:UU,title:"Mano (Pan)"},{name:"free",icon:pH,title:"Dibujo libre"},{name:"line",icon:_H,title:"Línea (L)"},{name:"arrow",icon:oU,title:"Flecha (A)"},{name:"rect",icon:EH,title:"Rectángulo (R)"},{name:"circle",icon:wU,title:"Círculo (C)"},{name:"text",icon:OH,title:"Texto (T)"},{name:"image",icon:wC,title:"Imagen (I)"},{name:"marker",icon:oH,title:"Marcador (M)"}],Flt={collapsed:{height:56,transition:{duration:.4,ease:[.4,0,.2,1],when:"afterChildren"}},expanded:{height:"auto",transition:{duration:.4,ease:[.4,0,.2,1],when:"beforeChildren"}}},Blt={collapsed:{opacity:0,y:-10,transition:{duration:.2,ease:"easeIn",staggerChildren:.01,staggerDirection:-1}},expanded:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut",staggerChildren:.03,delayChildren:.1}}},as={collapsed:{opacity:0,scale:.9,y:-5,transition:{duration:.15,ease:"easeIn"}},expanded:{opacity:1,scale:1,y:0,transition:{duration:.2,ease:"easeOut"}}},Ilt={collapsed:{rotate:0,transition:{duration:.3,ease:"easeOut"}},expanded:{rotate:180,transition:{duration:.3,ease:"easeOut"}}};function zlt(){const{strokeColor:e,fillColor:t,tool:n,setTool:i,clipboardShape:a}=Pt(),[r,s]=j.useState(!1),[l,c]=j.useState(!1),d=Pt(L=>L.toggleLayersPanel),f=Pt(L=>L.layersPanelVisible),m=Pt(L=>L.selectedShapeId),v=Pt(L=>L.copyShape),y=Pt(L=>L.pasteShape),x=Pt(L=>L.shapes),_=Pt(L=>L.updateShape),E=Pt(L=>L.setStrokeColor),R=Pt(L=>L.setFillColor),A=x.find(L=>L.id===m),w=A?.props?.stroke??e,M=A?.props?.fill??t,D=L=>{A?_(A.id,{stroke:L}):E(L)},P=L=>{A?_(A.id,{fill:L}):R(L)},z=lT({maxWidth:768});return F.jsxs(F.Fragment,{children:[F.jsxs($e.div,{variants:Flt,animate:l?"collapsed":"expanded",className:Gn("fixed z-40 flex flex-col items-center","backdrop-blur-lg shadow-2xl bg-blue-900/50 rounded-2xl","top-3 right-3"),style:{width:64,height:"auto",minHeight:56,maxHeight:"calc(100vh - 112px)",overflow:"hidden"},children:[F.jsx($e.button,{variants:Ilt,animate:l?"collapsed":"expanded",className:Gn("p-2 transition-colors duration-200 flex-shrink-0 bg-slate-800 text-white flex items-center justify-center","rounded-t-2xl w-full"),onClick:()=>c(!l),title:l?"Mostrar herramientas":"Colapsar herramientas",children:z?l?F.jsx(Jb,{size:20}):F.jsx(k0,{size:20}):l?F.jsx(k0,{size:20}):F.jsx(Jb,{size:20})}),F.jsx(J1,{children:!l&&F.jsxs($e.div,{variants:Blt,initial:"collapsed",animate:"expanded",exit:"collapsed",className:Gn("flex items-center gap-2 p-2","w-full flex-1 flex-col overflow-y-auto"),style:{maxHeight:"calc(100vh - 168px)",scrollbarWidth:"none",msOverflowStyle:"none"},children:[F.jsx($e.button,{variants:as,onClick:()=>{d(),i("select")},title:f?"Ocultar capas (Shift+L)":"Mostrar capas (Shift+L)",className:Gn("flex-shrink-0 text-white rounded p-2 shadow-lg transition-colors duration-200",{"bg-blue-600":f,"bg-slate-800 hover:bg-blue-500/90":!f}),children:F.jsx($U,{size:20})}),F.jsx($e.div,{variants:as,className:Gn("flex gap-2","flex-col"),children:jlt.map(({name:L,icon:U,title:I},q)=>F.jsx($e.button,{variants:as,custom:q,title:I,onClick:()=>i(L),className:Gn("p-2 rounded transition-colors duration-200 flex-shrink-0",{"bg-blue-500/90 text-white":n===L,"text-white hover:text-white hover:bg-blue-500/90":n!==L}),children:F.jsx(U,{size:20})},L))}),F.jsx($e.div,{variants:as,className:Gn("border-slate-500/50","border-t w-8 my-2")}),F.jsxs($e.div,{variants:as,className:Gn("flex gap-3 items-center","flex-col"),children:[F.jsx($e.div,{variants:as,children:F.jsx(S1,{icon:_C,color:w,onChange:D,label:"Color del trazo",vertical:!z})}),F.jsx($e.div,{variants:as,children:F.jsx(S1,{icon:cN,color:M,onChange:P,label:"Color de relleno",vertical:!z})}),F.jsx($e.button,{variants:as,className:"p-2 rounded text-white hover:bg-blue-500/90 transition-colors duration-200",title:"Configuración del lienzo",onClick:()=>s(!0),children:F.jsx(dN,{size:20})})]}),F.jsx($e.div,{variants:as,className:Gn("border-slate-500/50","border-t w-8 my-2")}),F.jsxs($e.div,{variants:as,className:Gn("flex gap-2","flex-col"),children:[F.jsx($e.button,{variants:as,className:Gn("p-2 rounded transition-colors duration-200 flex-shrink-0",{"bg-blue-500/90 text-white":m,"text-white hover:text-white hover:bg-blue-500/90":!m}),title:"Copiar elemento (Ctrl+C)",onClick:()=>v(m),disabled:!m,children:F.jsx(rN,{size:20})}),F.jsx($e.button,{variants:as,className:Gn("p-2 rounded transition-colors duration-200 flex-shrink-0",{"bg-blue-500/90 text-white":a,"text-white hover:text-white hover:bg-blue-500/90":!a}),title:"Pegar elemento (Ctrl+V)",onClick:y,disabled:!a,children:F.jsx(CU,{size:20})})]})]},"toolbar-content")})]}),F.jsx(klt,{isOpen:r,onClose:()=>s(!1)})]})}function Na(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Ult=typeof Symbol=="function"&&Symbol.observable||"@@observable",MO=Ult,DO=()=>Math.random().toString(36).substring(7).split("").join("."),Hlt={INIT:`@@redux/INIT${DO()}`,REPLACE:`@@redux/REPLACE${DO()}`},OO=Hlt;function Glt(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Yj(e,t,n){if(typeof e!="function")throw new Error(Na(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Na(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Na(1));return n(Yj)(e,t)}let i=e,a=t,r=new Map,s=r,l=0,c=!1;function d(){s===r&&(s=new Map,r.forEach((E,R)=>{s.set(R,E)}))}function f(){if(c)throw new Error(Na(3));return a}function m(E){if(typeof E!="function")throw new Error(Na(4));if(c)throw new Error(Na(5));let R=!0;d();const A=l++;return s.set(A,E),function(){if(R){if(c)throw new Error(Na(6));R=!1,d(),s.delete(A),r=null}}}function v(E){if(!Glt(E))throw new Error(Na(7));if(typeof E.type>"u")throw new Error(Na(8));if(typeof E.type!="string")throw new Error(Na(17));if(c)throw new Error(Na(9));try{c=!0,a=i(a,E)}finally{c=!1}return(r=s).forEach(A=>{A()}),E}function y(E){if(typeof E!="function")throw new Error(Na(10));i=E,v({type:OO.REPLACE})}function x(){const E=m;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error(Na(11));function A(){const M=R;M.next&&M.next(f())}return A(),{unsubscribe:E(A)}},[MO](){return this}}}return v({type:OO.INIT}),{dispatch:v,subscribe:m,getState:f,replaceReducer:y,[MO]:x}}function NO(e,t){return function(...n){return t(e.apply(this,n))}}function PO(e,t){if(typeof e=="function")return NO(e,t);if(typeof e!="object"||e===null)throw new Error(Na(16));const n={};for(const i in e){const a=e[i];typeof a=="function"&&(n[i]=NO(a,t))}return n}function Kj(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...i)=>t(n(...i)))}function qlt(...e){return t=>(n,i)=>{const a=t(n,i);let r=()=>{throw new Error(Na(15))};const s={getState:a.getState,dispatch:(c,...d)=>r(c,...d)},l=e.map(c=>c(s));return r=Kj(...l)(a.dispatch),{...a,dispatch:r}}}var Vlt=j.version.startsWith("19"),Ylt=Symbol.for(Vlt?"react.transitional.element":"react.element"),Klt=Symbol.for("react.portal"),Xlt=Symbol.for("react.fragment"),$lt=Symbol.for("react.strict_mode"),Wlt=Symbol.for("react.profiler"),Qlt=Symbol.for("react.consumer"),Zlt=Symbol.for("react.context"),Xj=Symbol.for("react.forward_ref"),Jlt=Symbol.for("react.suspense"),tct=Symbol.for("react.suspense_list"),AT=Symbol.for("react.memo"),ect=Symbol.for("react.lazy"),nct=Xj,ict=AT;function act(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case Ylt:switch(e=e.type,e){case Xlt:case Wlt:case $lt:case Jlt:case tct:return e;default:switch(e=e&&e.$$typeof,e){case Zlt:case Xj:case ect:case AT:return e;case Qlt:return e;default:return t}}case Klt:return t}}}function rct(e){return act(e)===AT}function sct(e,t,n,i,{areStatesEqual:a,areOwnPropsEqual:r,areStatePropsEqual:s}){let l=!1,c,d,f,m,v;function y(A,w){return c=A,d=w,f=e(c,d),m=t(i,d),v=n(f,m,d),l=!0,v}function x(){return f=e(c,d),t.dependsOnOwnProps&&(m=t(i,d)),v=n(f,m,d),v}function _(){return e.dependsOnOwnProps&&(f=e(c,d)),t.dependsOnOwnProps&&(m=t(i,d)),v=n(f,m,d),v}function E(){const A=e(c,d),w=!s(A,f);return f=A,w&&(v=n(f,m,d)),v}function R(A,w){const M=!r(w,d),D=!a(A,c,w,d);return c=A,d=w,M&&D?x():M?_():D?E():v}return function(w,M){return l?R(w,M):y(w,M)}}function oct(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:i,...a}){const r=t(e,a),s=n(e,a),l=i(e,a);return sct(r,s,l,e,a)}function lct(e,t){const n={};for(const i in e){const a=e[i];typeof a=="function"&&(n[i]=(...r)=>t(a(...r)))}return n}function ZA(e){return function(n){const i=e(n);function a(){return i}return a.dependsOnOwnProps=!1,a}}function LO(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function $j(e,t){return function(i,{displayName:a}){const r=function(l,c){return r.dependsOnOwnProps?r.mapToProps(l,c):r.mapToProps(l,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(l,c){r.mapToProps=e,r.dependsOnOwnProps=LO(e);let d=r(l,c);return typeof d=="function"&&(r.mapToProps=d,r.dependsOnOwnProps=LO(d),d=r(l,c)),d},r}}function CT(e,t){return(n,i)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${i.wrappedComponentName}.`)}}function cct(e){return e&&typeof e=="object"?ZA(t=>lct(e,t)):e?typeof e=="function"?$j(e):CT(e,"mapDispatchToProps"):ZA(t=>({dispatch:t}))}function uct(e){return e?typeof e=="function"?$j(e):CT(e,"mapStateToProps"):ZA(()=>({}))}function dct(e,t,n){return{...n,...e,...t}}function hct(e){return function(n,{displayName:i,areMergedPropsEqual:a}){let r=!1,s;return function(c,d,f){const m=e(c,d,f);return r?a(m,s)||(s=m):(r=!0,s=m),s}}}function fct(e){return e?typeof e=="function"?hct(e):CT(e,"mergeProps"):()=>dct}function pct(e){e()}function gct(){let e=null,t=null;return{clear(){e=null,t=null},notify(){pct(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!i||e===null||(i=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var kO={notify(){},get:()=>[]};function Wj(e,t){let n,i=kO,a=0,r=!1;function s(_){f();const E=i.subscribe(_);let R=!1;return()=>{R||(R=!0,E(),m())}}function l(){i.notify()}function c(){x.onStateChange&&x.onStateChange()}function d(){return r}function f(){a++,n||(n=t?t.addNestedSub(c):e.subscribe(c),i=gct())}function m(){a--,n&&a===0&&(n(),n=void 0,i.clear(),i=kO)}function v(){r||(r=!0,f())}function y(){r&&(r=!1,m())}const x={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>i};return x}var mct=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vct=mct(),yct=()=>typeof navigator<"u"&&navigator.product==="ReactNative",bct=yct(),xct=()=>vct||bct?j.useLayoutEffect:j.useEffect,A1=xct();function jO(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function SE(e,t){if(jO(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!jO(e[n[a]],t[n[a]]))return!1;return!0}var Sct={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_ct={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},wct={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Qj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ect={[nct]:wct,[ict]:Qj};function FO(e){return rct(e)?Qj:Ect[e.$$typeof]||Sct}var Act=Object.defineProperty,Cct=Object.getOwnPropertyNames,BO=Object.getOwnPropertySymbols,Tct=Object.getOwnPropertyDescriptor,Rct=Object.getPrototypeOf,IO=Object.prototype;function JA(e,t){if(typeof t!="string"){if(IO){const r=Rct(t);r&&r!==IO&&JA(e,r)}let n=Cct(t);BO&&(n=n.concat(BO(t)));const i=FO(e),a=FO(t);for(let r=0;r<n.length;++r){const s=n[r];if(!_ct[s]&&!(a&&a[s])&&!(i&&i[s])){const l=Tct(t,s);try{Act(e,s,l)}catch{}}}}return e}var Mct=Symbol.for("react-redux-context"),Dct=typeof globalThis<"u"?globalThis:{};function Oct(){if(!j.createContext)return{};const e=Dct[Mct]??=new Map;let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var Zj=Oct(),Nct=[null,null];function Pct(e,t,n){A1(()=>e(...t),n)}function Lct(e,t,n,i,a,r){e.current=i,n.current=!1,a.current&&(a.current=null,r())}function kct(e,t,n,i,a,r,s,l,c,d,f){if(!e)return()=>{};let m=!1,v=null;const y=()=>{if(m||!l.current)return;const _=t.getState();let E,R;try{E=i(_,a.current)}catch(A){R=A,v=A}R||(v=null),E===r.current?s.current||d():(r.current=E,c.current=E,s.current=!0,f())};return n.onStateChange=y,n.trySubscribe(),y(),()=>{if(m=!0,n.tryUnsubscribe(),n.onStateChange=null,v)throw v}}function jct(e,t){return e===t}function Fct(e,t,n,{pure:i,areStatesEqual:a=jct,areOwnPropsEqual:r=SE,areStatePropsEqual:s=SE,areMergedPropsEqual:l=SE,forwardRef:c=!1,context:d=Zj}={}){const f=d,m=uct(e),v=cct(t),y=fct(n),x=!!e;return E=>{const R=E.displayName||E.name||"Component",A=`Connect(${R})`,w={shouldHandleStateChanges:x,displayName:A,wrappedComponentName:R,WrappedComponent:E,initMapStateToProps:m,initMapDispatchToProps:v,initMergeProps:y,areStatesEqual:a,areStatePropsEqual:s,areOwnPropsEqual:r,areMergedPropsEqual:l};function M(z){const[L,U,I]=j.useMemo(()=>{const{reactReduxForwardedRef:Bt,...Ht}=z;return[z.context,Bt,Ht]},[z]),q=j.useMemo(()=>{let Bt=f;return L?.Consumer,Bt},[L,f]),J=j.useContext(q),it=!!z.store&&!!z.store.getState&&!!z.store.dispatch,at=!!J&&!!J.store,et=it?z.store:J.store,Z=at?J.getServerState:et.getState,B=j.useMemo(()=>oct(et.dispatch,w),[et]),[V,W]=j.useMemo(()=>{if(!x)return Nct;const Bt=Wj(et,it?void 0:J.subscription),Ht=Bt.notifyNestedSubs.bind(Bt);return[Bt,Ht]},[et,it,J]),H=j.useMemo(()=>it?J:{...J,subscription:V},[it,J,V]),K=j.useRef(void 0),nt=j.useRef(I),$=j.useRef(void 0),lt=j.useRef(!1),yt=j.useRef(!1),ot=j.useRef(void 0);A1(()=>(yt.current=!0,()=>{yt.current=!1}),[]);const tt=j.useMemo(()=>()=>$.current&&I===nt.current?$.current:B(et.getState(),I),[et,I]),ut=j.useMemo(()=>Ht=>V?kct(x,et,V,B,nt,K,lt,yt,$,W,Ht):()=>{},[V]);Pct(Lct,[nt,K,lt,I,$,W]);let Et;try{Et=j.useSyncExternalStore(ut,tt,Z?()=>B(Z(),I):tt)}catch(Bt){throw ot.current&&(Bt.message+=`
The error may be correlated with this previous error:
${ot.current.stack}

`),Bt}A1(()=>{ot.current=void 0,$.current=void 0,K.current=Et});const Dt=j.useMemo(()=>j.createElement(E,{...Et,ref:U}),[U,E,Et]);return j.useMemo(()=>x?j.createElement(q.Provider,{value:H},Dt):Dt,[q,Dt,H])}const P=j.memo(M);if(P.WrappedComponent=E,P.displayName=M.displayName=A,c){const L=j.forwardRef(function(I,q){return j.createElement(P,{...I,reactReduxForwardedRef:q})});return L.displayName=A,L.WrappedComponent=E,JA(L,E)}return JA(P,E)}}var Jj=Fct;function Bct(e){const{children:t,context:n,serverState:i,store:a}=e,r=j.useMemo(()=>{const c=Wj(a);return{store:a,subscription:c,getServerState:i?()=>i:void 0}},[a,i]),s=j.useMemo(()=>a.getState(),[a]);A1(()=>{const{subscription:c}=r;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[r,s]);const l=n||Zj;return j.createElement(l.Provider,{value:r},t)}var Ict=Bct,zct="Invariant failed";function Uct(e,t){throw new Error(zct)}var Qs=function(t){var n=t.top,i=t.right,a=t.bottom,r=t.left,s=i-r,l=a-n,c={top:n,right:i,bottom:a,left:r,width:s,height:l,x:r,y:n,center:{x:(i+r)/2,y:(a+n)/2}};return c},TT=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},zO=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},Hct=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},_E={top:0,right:0,bottom:0,left:0},RT=function(t){var n=t.borderBox,i=t.margin,a=i===void 0?_E:i,r=t.border,s=r===void 0?_E:r,l=t.padding,c=l===void 0?_E:l,d=Qs(TT(n,a)),f=Qs(zO(n,s)),m=Qs(zO(f,c));return{marginBox:d,borderBox:Qs(n),paddingBox:f,contentBox:m,margin:a,border:s,padding:c}},rs=function(t){var n=t.slice(0,-2),i=t.slice(-2);if(i!=="px")return 0;var a=Number(n);return isNaN(a)&&Uct(),a},Gct=function(){return{x:window.pageXOffset,y:window.pageYOffset}},C1=function(t,n){var i=t.borderBox,a=t.border,r=t.margin,s=t.padding,l=Hct(i,n);return RT({borderBox:l,border:a,margin:r,padding:s})},T1=function(t,n){return n===void 0&&(n=Gct()),C1(t,n)},tF=function(t,n){var i={top:rs(n.marginTop),right:rs(n.marginRight),bottom:rs(n.marginBottom),left:rs(n.marginLeft)},a={top:rs(n.paddingTop),right:rs(n.paddingRight),bottom:rs(n.paddingBottom),left:rs(n.paddingLeft)},r={top:rs(n.borderTopWidth),right:rs(n.borderRightWidth),bottom:rs(n.borderBottomWidth),left:rs(n.borderLeftWidth)};return RT({borderBox:t,margin:i,padding:a,border:r})},eF=function(t){var n=t.getBoundingClientRect(),i=window.getComputedStyle(t);return tF(n,i)},W0=function(t){var n=[],i=null,a=function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];n=l,!i&&(i=requestAnimationFrame(function(){i=null,t.apply(void 0,n)}))};return a.cancel=function(){i&&(cancelAnimationFrame(i),i=null)},a};function R1(){return R1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},R1.apply(null,arguments)}function nF(e,t){}nF.bind(null,"warn");nF.bind(null,"error");function fu(){}function qct(e,t){return{...e,...t}}function cs(e,t,n){const i=t.map(a=>{const r=qct(n,a.options);return e.addEventListener(a.eventName,a.fn,r),function(){e.removeEventListener(a.eventName,a.fn,r)}});return function(){i.forEach(r=>{r()})}}const Vct="Invariant failed";class M1 extends Error{}M1.prototype.toString=function(){return this.message};function kt(e,t){throw new M1(Vct)}class Yct extends Y.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=fu,this.onWindowError=n=>{const i=this.getCallbacks();i.isDragging()&&i.tryAbort(),n.error instanceof M1&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=cs(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof M1){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Kct=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,D1=e=>e+1,Xct=e=>`
  You have lifted an item in position ${D1(e.source.index)}
`,iF=(e,t)=>{const n=e.droppableId===t.droppableId,i=D1(e.index),a=D1(t.index);return n?`
      You have moved the item from position ${i}
      to position ${a}
    `:`
    You have moved the item from position ${i}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${a}
  `},aF=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,$ct=e=>{const t=e.destination;if(t)return iF(e.source,t);const n=e.combine;return n?aF(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},UO=e=>`
  The item has returned to its starting position
  of ${D1(e.index)}
`,Wct=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${UO(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${iF(e.source,t)}
    `:n?`
      You have dropped the item.
      ${aF(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${UO(e.source)}
  `},$b={dragHandleUsageInstructions:Kct,onDragStart:Xct,onDragUpdate:$ct,onDragEnd:Wct};function Qct(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function rF(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Qct(e[n],t[n]))return!1;return!0}function We(e,t){const n=j.useState(()=>({inputs:t,result:e()}))[0],i=j.useRef(!0),a=j.useRef(n),s=i.current||!!(t&&a.current.inputs&&rF(t,a.current.inputs))?a.current:{inputs:t,result:e()};return j.useEffect(()=>{i.current=!1,a.current=s},[s]),s.result}function Qt(e,t){return We(()=>e,t)}const Fi={x:0,y:0},ia=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),wr=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),pu=(e,t)=>e.x===t.x&&e.y===t.y,Np=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Jd=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Q0=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),HO=(e,t)=>Math.min(...t.map(n=>Q0(e,n))),sF=e=>t=>({x:e(t.x),y:e(t.y)});var Zct=(e,t)=>{const n=Qs({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const Tv=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),GO=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Jct={top:0,right:0,bottom:0,left:0},tut=(e,t)=>t?Tv(e,t.scroll.diff.displacement):e,eut=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,nut=(e,t)=>t&&t.shouldClipSubject?Zct(t.pageMarginBox,e):Qs(e);var gp=({page:e,withPlaceholder:t,axis:n,frame:i})=>{const a=tut(e.marginBox,i),r=eut(a,n,t),s=nut(r,i);return{page:e,withPlaceholder:t,active:s}},MT=(e,t)=>{e.frame||kt();const n=e.frame,i=wr(t,n.scroll.initial),a=Np(i),r={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:i,displacement:a},max:n.scroll.max}},s=gp({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:r});return{...e,frame:r,subject:s}};function ji(e,t=rF){let n=null;function i(...a){if(n&&n.lastThis===this&&t(a,n.lastArgs))return n.lastResult;const r=e.apply(this,a);return n={lastResult:r,lastArgs:a,lastThis:this},r}return i.clear=function(){n=null},i}const oF=ji(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),lF=ji(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),Lx=ji(e=>Object.values(e)),iut=ji(e=>Object.values(e));var Pp=ji((e,t)=>iut(t).filter(i=>e===i.descriptor.droppableId).sort((i,a)=>i.descriptor.index-a.descriptor.index));function DT(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function kx(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var jx=ji((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),aut=({isMovingForward:e,draggable:t,destination:n,insideDestination:i,previousImpact:a})=>{if(!n.isCombineEnabled||!DT(a))return null;function s(y){const x={type:"COMBINE",combine:{draggableId:y,droppableId:n.descriptor.id}};return{...a,at:x}}const l=a.displaced.all,c=l.length?l[0]:null;if(e)return c?s(c):null;const d=jx(t,i);if(!c){if(!d.length)return null;const y=d[d.length-1];return s(y.descriptor.id)}const f=d.findIndex(y=>y.descriptor.id===c);f===-1&&kt();const m=f-1;if(m<0)return null;const v=d[m];return s(v.descriptor.id)},Lp=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const cF={point:Fi,value:0},Z0={invisible:{},visible:{},all:[]},rut={displaced:Z0,displacedBy:cF,at:null};var ds=(e,t)=>n=>e<=n&&n<=t,uF=e=>{const t=ds(e.top,e.bottom),n=ds(e.left,e.right);return i=>{if(t(i.top)&&t(i.bottom)&&n(i.left)&&n(i.right))return!0;const r=t(i.top)||t(i.bottom),s=n(i.left)||n(i.right);if(r&&s)return!0;const c=i.top<e.top&&i.bottom>e.bottom,d=i.left<e.left&&i.right>e.right;return c&&d?!0:c&&s||d&&r}},sut=e=>{const t=ds(e.top,e.bottom),n=ds(e.left,e.right);return i=>t(i.top)&&t(i.bottom)&&n(i.left)&&n(i.right)};const OT={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},dF={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var out=e=>t=>{const n=ds(t.top,t.bottom),i=ds(t.left,t.right);return a=>e===OT?n(a.top)&&n(a.bottom):i(a.left)&&i(a.right)};const lut=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:Fi;return Tv(e,n)},cut=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,uut=(e,t,n)=>n(t)(e),NT=({target:e,destination:t,viewport:n,withDroppableDisplacement:i,isVisibleThroughFrameFn:a})=>{const r=i?lut(e,t):e;return cut(r,t,a)&&uut(r,n,a)},dut=e=>NT({...e,isVisibleThroughFrameFn:uF}),hF=e=>NT({...e,isVisibleThroughFrameFn:sut}),hut=e=>NT({...e,isVisibleThroughFrameFn:out(e.destination.axis)}),fut=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:i,visible:a}=t;if(i[e])return!1;const r=a[e];return r?r.shouldAnimate:!0};function put(e,t){const n=e.page.marginBox,i={top:t.point.y,right:0,bottom:0,left:t.point.x};return Qs(TT(n,i))}function J0({afterDragging:e,destination:t,displacedBy:n,viewport:i,forceShouldAnimate:a,last:r}){return e.reduce(function(l,c){const d=put(c,n),f=c.descriptor.id;if(l.all.push(f),!dut({target:d,destination:t,viewport:i,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const v=fut(f,r,a),y={draggableId:f,shouldAnimate:v};return l.visible[f]=y,l},{all:[],visible:{},invisible:{}})}function gut(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function qO({insideDestination:e,inHomeList:t,displacedBy:n,destination:i}){const a=gut(e,{inHomeList:t});return{displaced:Z0,displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function O1({draggable:e,insideDestination:t,destination:n,viewport:i,displacedBy:a,last:r,index:s,forceShouldAnimate:l}){const c=Lp(e,n);if(s==null)return qO({insideDestination:t,inHomeList:c,displacedBy:a,destination:n});const d=t.find(x=>x.descriptor.index===s);if(!d)return qO({insideDestination:t,inHomeList:c,displacedBy:a,destination:n});const f=jx(e,t),m=t.indexOf(d),v=f.slice(m);return{displaced:J0({afterDragging:v,destination:n,displacedBy:a,last:r,viewport:i.frame,forceShouldAnimate:l}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function Su(e,t){return!!t.effected[e]}var mut=({isMovingForward:e,destination:t,draggables:n,combine:i,afterCritical:a})=>{if(!t.isCombineEnabled)return null;const r=i.draggableId,l=n[r].descriptor.index;return Su(r,a)?e?l:l-1:e?l+1:l},vut=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:i})=>{if(!n.length)return null;const a=i.index,r=e?a+1:a-1,s=n[0].descriptor.index,l=n[n.length-1].descriptor.index,c=t?l:l+1;return r<s||r>c?null:r},yut=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:i,destination:a,insideDestination:r,previousImpact:s,viewport:l,afterCritical:c})=>{const d=s.at;if(d||kt(),d.type==="REORDER"){const m=vut({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:r});return m==null?null:O1({draggable:n,insideDestination:r,destination:a,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:m})}const f=mut({isMovingForward:e,destination:a,displaced:s.displaced,draggables:i,combine:d.combine,afterCritical:c});return f==null?null:O1({draggable:n,insideDestination:r,destination:a,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:f})},but=({displaced:e,afterCritical:t,combineWith:n,displacedBy:i})=>{const a=!!(e.visible[n]||e.invisible[n]);return Su(n,t)?a?Fi:Np(i.point):a?i.point:Fi},xut=({afterCritical:e,impact:t,draggables:n})=>{const i=kx(t);i||kt();const a=i.draggableId,r=n[a].page.borderBox.center,s=but({displaced:t.displaced,afterCritical:e,combineWith:a,displacedBy:t.displacedBy});return ia(r,s)};const fF=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,Sut=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,PT=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,VO=({axis:e,moveRelativeTo:t,isMoving:n})=>Jd(e.line,t.marginBox[e.end]+fF(e,n),PT(e,t.marginBox,n)),YO=({axis:e,moveRelativeTo:t,isMoving:n})=>Jd(e.line,t.marginBox[e.start]-Sut(e,n),PT(e,t.marginBox,n)),_ut=({axis:e,moveInto:t,isMoving:n})=>Jd(e.line,t.contentBox[e.start]+fF(e,n),PT(e,t.contentBox,n));var wut=({impact:e,draggable:t,draggables:n,droppable:i,afterCritical:a})=>{const r=Pp(i.descriptor.id,n),s=t.page,l=i.axis;if(!r.length)return _ut({axis:l,moveInto:i.page,isMoving:s});const{displaced:c,displacedBy:d}=e,f=c.all[0];if(f){const v=n[f];if(Su(f,a))return YO({axis:l,moveRelativeTo:v.page,isMoving:s});const y=C1(v.page,d.point);return YO({axis:l,moveRelativeTo:y,isMoving:s})}const m=r[r.length-1];if(m.descriptor.id===t.descriptor.id)return s.borderBox.center;if(Su(m.descriptor.id,a)){const v=C1(m.page,Np(a.displacedBy.point));return VO({axis:l,moveRelativeTo:v,isMoving:s})}return VO({axis:l,moveRelativeTo:m.page,isMoving:s})},tC=(e,t)=>{const n=e.frame;return n?ia(t,n.scroll.diff.displacement):t};const Eut=({impact:e,draggable:t,droppable:n,draggables:i,afterCritical:a})=>{const r=t.page.borderBox.center,s=e.at;return!n||!s?r:s.type==="REORDER"?wut({impact:e,draggable:t,draggables:i,droppable:n,afterCritical:a}):xut({impact:e,draggables:i,afterCritical:a})};var Fx=e=>{const t=Eut(e),n=e.droppable;return n?tC(n,t):t},pF=(e,t)=>{const n=wr(t,e.scroll.initial),i=Np(n);return{frame:Qs({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:i}}}};function KO(e,t){return e.map(n=>t[n])}function Aut(e,t){for(let n=0;n<t.length;n++){const i=t[n].visible[e];if(i)return i}return null}var Cut=({impact:e,viewport:t,destination:n,draggables:i,maxScrollChange:a})=>{const r=pF(t,ia(t.scroll.current,a)),s=n.frame?MT(n,ia(n.frame.scroll.current,a)):n,l=e.displaced,c=J0({afterDragging:KO(l.all,i),destination:n,displacedBy:e.displacedBy,viewport:r.frame,last:l,forceShouldAnimate:!1}),d=J0({afterDragging:KO(l.all,i),destination:s,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),f={},m={},v=[l,c,d];return l.all.forEach(x=>{const _=Aut(x,v);if(_){m[x]=_;return}f[x]=!0}),{...e,displaced:{all:l.all,invisible:f,visible:m}}},Tut=(e,t)=>ia(e.scroll.diff.displacement,t),LT=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const i=Tut(n,e),a=wr(i,t.page.borderBox.center);return ia(t.client.borderBox.center,a)},gF=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:i,withDroppableDisplacement:a,onlyOnMainAxis:r=!1})=>{const s=wr(n,e.page.borderBox.center),c={target:Tv(e.page.borderBox,s),destination:t,withDroppableDisplacement:a,viewport:i};return r?hut(c):hF(c)},Rut=({isMovingForward:e,draggable:t,destination:n,draggables:i,previousImpact:a,viewport:r,previousPageBorderBoxCenter:s,previousClientSelection:l,afterCritical:c})=>{if(!n.isEnabled)return null;const d=Pp(n.descriptor.id,i),f=Lp(t,n),m=aut({isMovingForward:e,draggable:t,destination:n,insideDestination:d,previousImpact:a})||yut({isMovingForward:e,isInHomeList:f,draggable:t,draggables:i,destination:n,insideDestination:d,previousImpact:a,viewport:r,afterCritical:c});if(!m)return null;const v=Fx({impact:m,draggable:t,droppable:n,draggables:i,afterCritical:c});if(gF({draggable:t,destination:n,newPageBorderBoxCenter:v,viewport:r.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:LT({pageBorderBoxCenter:v,draggable:t,viewport:r}),impact:m,scrollJumpRequest:null};const x=wr(v,s),_=Cut({impact:m,viewport:r,destination:n,draggables:i,maxScrollChange:x});return{clientSelection:l,impact:_,scrollJumpRequest:x}};const Oa=e=>{const t=e.subject.active;return t||kt(),t};var Mut=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:i,viewport:a})=>{const r=n.subject.active;if(!r)return null;const s=n.axis,l=ds(r[s.start],r[s.end]),c=Lx(i).filter(f=>f!==n).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>uF(a.frame)(Oa(f))).filter(f=>{const m=Oa(f);return e?r[s.crossAxisEnd]<m[s.crossAxisEnd]:m[s.crossAxisStart]<r[s.crossAxisStart]}).filter(f=>{const m=Oa(f),v=ds(m[s.start],m[s.end]);return l(m[s.start])||l(m[s.end])||v(r[s.start])||v(r[s.end])}).sort((f,m)=>{const v=Oa(f)[s.crossAxisStart],y=Oa(m)[s.crossAxisStart];return e?v-y:y-v}).filter((f,m,v)=>Oa(f)[s.crossAxisStart]===Oa(v[0])[s.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const d=c.filter(f=>ds(Oa(f)[s.start],Oa(f)[s.end])(t[s.line]));return d.length===1?d[0]:d.length>1?d.sort((f,m)=>Oa(f)[s.start]-Oa(m)[s.start])[0]:c.sort((f,m)=>{const v=HO(t,GO(Oa(f))),y=HO(t,GO(Oa(m)));return v!==y?v-y:Oa(f)[s.start]-Oa(m)[s.start]})[0]};const XO=(e,t)=>{const n=e.page.borderBox.center;return Su(e.descriptor.id,t)?wr(n,t.displacedBy.point):n},Dut=(e,t)=>{const n=e.page.borderBox;return Su(e.descriptor.id,t)?Tv(n,Np(t.displacedBy.point)):n};var Out=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:i,afterCritical:a})=>i.filter(s=>hF({target:Dut(s,a),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((s,l)=>{const c=Q0(e,tC(n,XO(s,a))),d=Q0(e,tC(n,XO(l,a)));return c<d?-1:d<c?1:s.descriptor.index-l.descriptor.index})[0]||null,Rv=ji(function(t,n){const i=n[t.line];return{value:i,point:Jd(t.line,i)}});const Nut=(e,t,n)=>{const i=e.axis;if(e.descriptor.mode==="virtual")return Jd(i.line,t[i.line]);const a=e.subject.page.contentBox[i.size],c=Pp(e.descriptor.id,n).reduce((d,f)=>d+f.client.marginBox[i.size],0)+t[i.line]-a;return c<=0?null:Jd(i.line,c)},mF=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),vF=(e,t,n)=>{const i=e.frame;Lp(t,e)&&kt(),e.subject.withPlaceholder&&kt();const a=Rv(e.axis,t.displaceBy).point,r=Nut(e,a,n),s={placeholderSize:a,increasedBy:r,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){const f=gp({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return{...e,subject:f}}const l=r?ia(i.scroll.max,r):i.scroll.max,c=mF(i,l),d=gp({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:c});return{...e,subject:d,frame:c}},Put=e=>{const t=e.subject.withPlaceholder;t||kt();const n=e.frame;if(!n){const s=gp({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:s}}const i=t.oldFrameMaxScroll;i||kt();const a=mF(n,i),r=gp({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return{...e,subject:r,frame:a}};var Lut=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:i,draggables:a,destination:r,viewport:s,afterCritical:l})=>{if(!t){if(n.length)return null;const m={displaced:Z0,displacedBy:cF,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:0}}},v=Fx({impact:m,draggable:i,droppable:r,draggables:a,afterCritical:l}),y=Lp(i,r)?r:vF(r,i,a);return gF({draggable:i,destination:y,newPageBorderBoxCenter:v,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?m:null}const c=e[r.axis.line]<=t.page.borderBox.center[r.axis.line],d=(()=>{const m=t.descriptor.index;return t.descriptor.id===i.descriptor.id||c?m:m+1})(),f=Rv(r.axis,i.displaceBy);return O1({draggable:i,insideDestination:n,destination:r,viewport:s,displacedBy:f,last:Z0,index:d})},kut=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:i,draggables:a,droppables:r,viewport:s,afterCritical:l})=>{const c=Mut({isMovingForward:e,pageBorderBoxCenter:t,source:i,droppables:r,viewport:s});if(!c)return null;const d=Pp(c.descriptor.id,a),f=Out({pageBorderBoxCenter:t,viewport:s,destination:c,insideDestination:d,afterCritical:l}),m=Lut({previousPageBorderBoxCenter:t,destination:c,draggable:n,draggables:a,moveRelativeTo:f,insideDestination:d,viewport:s,afterCritical:l});if(!m)return null;const v=Fx({impact:m,draggable:n,droppable:c,draggables:a,afterCritical:l});return{clientSelection:LT({pageBorderBoxCenter:v,draggable:n,viewport:s}),impact:m,scrollJumpRequest:null}},Er=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const jut=(e,t)=>{const n=Er(e);return n?t[n]:null};var Fut=({state:e,type:t})=>{const n=jut(e.impact,e.dimensions.droppables),i=!!n,a=e.dimensions.droppables[e.critical.droppable.id],r=n||a,s=r.axis.direction,l=s==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||s==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!i)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,{draggables:m,droppables:v}=e.dimensions;return l?Rut({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:d,destination:r,draggables:m,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):kut({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:d,isOver:r,draggables:m,droppables:v,viewport:e.viewport,afterCritical:e.afterCritical})};function Md(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function yF(e){const t=ds(e.top,e.bottom),n=ds(e.left,e.right);return function(a){return t(a.y)&&n(a.x)}}function But(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Iut({pageBorderBox:e,draggable:t,candidates:n}){const i=t.page.borderBox.center,a=n.map(r=>{const s=r.axis,l=Jd(r.axis.line,e.center[s.line],r.page.borderBox.center[s.crossAxisLine]);return{id:r.descriptor.id,distance:Q0(i,l)}}).sort((r,s)=>s.distance-r.distance);return a[0]?a[0].id:null}function zut({pageBorderBox:e,draggable:t,droppables:n}){const i=Lx(n).filter(a=>{if(!a.isEnabled)return!1;const r=a.subject.active;if(!r||!But(e,r))return!1;if(yF(r)(e.center))return!0;const s=a.axis,l=r.center[s.crossAxisLine],c=e[s.crossAxisStart],d=e[s.crossAxisEnd],f=ds(r[s.crossAxisStart],r[s.crossAxisEnd]),m=f(c),v=f(d);return!m&&!v?!0:m?c<l:d>l});return i.length?i.length===1?i[0].descriptor.id:Iut({pageBorderBox:e,draggable:t,candidates:i}):null}const bF=(e,t)=>Qs(Tv(e,t));var Uut=(e,t)=>{const n=e.frame;return n?bF(t,n.scroll.diff.value):t};function xF({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function Hut({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var Gut=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:i,last:a,viewport:r,afterCritical:s})=>{const l=n.axis,c=Rv(n.axis,t.displaceBy),d=c.value,f=e[l.start],m=e[l.end],y=jx(t,i).find(_=>{const E=_.descriptor.id,R=_.page.borderBox.center[l.line],A=Su(E,s),w=xF({displaced:a,id:E});return A?w?m<=R:f<R-d:w?m<=R+d:f<R})||null,x=Hut({draggable:t,closest:y,inHomeList:Lp(t,n)});return O1({draggable:t,insideDestination:i,destination:n,viewport:r,last:a,displacedBy:c,index:x})};const qut=4;var Vut=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:i,insideDestination:a,afterCritical:r})=>{if(!i.isCombineEnabled)return null;const s=i.axis,l=Rv(i.axis,e.displaceBy),c=l.value,d=t[s.start],f=t[s.end],v=jx(e,a).find(x=>{const _=x.descriptor.id,E=x.page.borderBox,A=E[s.size]/qut,w=Su(_,r),M=xF({displaced:n.displaced,id:_});return w?M?f>E[s.start]+A&&f<E[s.end]-A:d>E[s.start]-c+A&&d<E[s.end]-c-A:M?f>E[s.start]+c+A&&f<E[s.end]+c-A:d>E[s.start]+A&&d<E[s.end]-A});return v?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:v.descriptor.id,droppableId:i.descriptor.id}}}:null},SF=({pageOffset:e,draggable:t,draggables:n,droppables:i,previousImpact:a,viewport:r,afterCritical:s})=>{const l=bF(t.page.borderBox,e),c=zut({pageBorderBox:l,draggable:t,droppables:i});if(!c)return rut;const d=i[c],f=Pp(d.descriptor.id,n),m=Uut(d,l);return Vut({pageBorderBoxWithDroppableScroll:m,draggable:t,previousImpact:a,destination:d,insideDestination:f,afterCritical:s})||Gut({pageBorderBoxWithDroppableScroll:m,draggable:t,destination:d,insideDestination:f,last:a.displaced,viewport:r,afterCritical:s})},kT=(e,t)=>({...e,[t.descriptor.id]:t});const Yut=({previousImpact:e,impact:t,droppables:n})=>{const i=Er(e),a=Er(t);if(!i||i===a)return n;const r=n[i];if(!r.subject.withPlaceholder)return n;const s=Put(r);return kT(n,s)};var Kut=({draggable:e,draggables:t,droppables:n,previousImpact:i,impact:a})=>{const r=Yut({previousImpact:i,impact:a,droppables:n}),s=Er(a);if(!s)return r;const l=n[s];if(Lp(e,l)||l.subject.withPlaceholder)return r;const c=vF(l,e,t);return kT(r,c)},O0=({state:e,clientSelection:t,dimensions:n,viewport:i,impact:a,scrollJumpRequest:r})=>{const s=i||e.viewport,l=n||e.dimensions,c=t||e.current.client.selection,d=wr(c,e.initial.client.selection),f={offset:d,selection:c,borderBoxCenter:ia(e.initial.client.borderBoxCenter,d)},m={selection:ia(f.selection,s.scroll.current),borderBoxCenter:ia(f.borderBoxCenter,s.scroll.current),offset:ia(f.offset,s.scroll.diff.value)},v={client:f,page:m};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:s,current:v};const y=l.draggables[e.critical.draggable.id],x=a||SF({pageOffset:m.offset,draggable:y,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:s,afterCritical:e.afterCritical}),_=Kut({draggable:y,impact:x,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:v,dimensions:{draggables:l.draggables,droppables:_},impact:x,viewport:s,scrollJumpRequest:r||null,forceShouldAnimate:r?!1:null}};function Xut(e,t){return e.map(n=>t[n])}var _F=({impact:e,viewport:t,draggables:n,destination:i,forceShouldAnimate:a})=>{const r=e.displaced,s=Xut(r.all,n),l=J0({afterDragging:s,destination:i,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:a,last:r});return{...e,displaced:l}},wF=({impact:e,draggable:t,droppable:n,draggables:i,viewport:a,afterCritical:r})=>{const s=Fx({impact:e,draggable:t,draggables:i,droppable:n,afterCritical:r});return LT({pageBorderBoxCenter:s,draggable:t,viewport:a})},EF=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&kt();const i=e.impact,a=n||e.viewport,r=t||e.dimensions,{draggables:s,droppables:l}=r,c=s[e.critical.draggable.id],d=Er(i);d||kt();const f=l[d],m=_F({impact:i,viewport:a,destination:f,draggables:s}),v=wF({impact:m,draggable:c,droppable:f,draggables:s,viewport:a,afterCritical:e.afterCritical});return O0({impact:m,clientSelection:v,state:e,dimensions:r,viewport:a})},$ut=e=>({index:e.index,droppableId:e.droppableId}),AF=({draggable:e,home:t,draggables:n,viewport:i})=>{const a=Rv(t.axis,e.displaceBy),r=Pp(t.descriptor.id,n),s=r.indexOf(e);s===-1&&kt();const l=r.slice(s+1),c=l.reduce((v,y)=>(v[y.descriptor.id]=!0,v),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:a,effected:c};return{impact:{displaced:J0({afterDragging:l,destination:t,displacedBy:a,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:$ut(e.descriptor)}},afterCritical:d}},Wut=(e,t)=>({draggables:e.draggables,droppables:kT(e.droppables,t)}),Qut=({draggable:e,offset:t,initialWindowScroll:n})=>{const i=C1(e.client,t),a=T1(i,n);return{...e,placeholder:{...e.placeholder,client:i},client:i,page:a}},Zut=e=>{const t=e.frame;return t||kt(),t},Jut=({additions:e,updatedDroppables:t,viewport:n})=>{const i=n.scroll.diff.value;return e.map(a=>{const r=a.descriptor.droppableId,s=t[r],c=Zut(s).scroll.diff.value,d=ia(i,c);return Qut({draggable:a,offset:d,initialWindowScroll:n.scroll.initial})})},tdt=({state:e,published:t})=>{const n=t.modified.map(R=>{const A=e.dimensions.droppables[R.droppableId];return MT(A,R.scroll)}),i={...e.dimensions.droppables,...oF(n)},a=lF(Jut({additions:t.additions,updatedDroppables:i,viewport:e.viewport})),r={...e.dimensions.draggables,...a};t.removals.forEach(R=>{delete r[R]});const s={droppables:i,draggables:r},l=Er(e.impact),c=l?s.droppables[l]:null,d=s.draggables[e.critical.draggable.id],f=s.droppables[e.critical.droppable.id],{impact:m,afterCritical:v}=AF({draggable:d,home:f,draggables:r,viewport:e.viewport}),y=c&&c.isCombineEnabled?e.impact:m,x=SF({pageOffset:e.current.page.offset,draggable:s.draggables[e.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:y,viewport:e.viewport,afterCritical:v}),_={...e,phase:"DRAGGING",impact:x,onLiftImpact:m,dimensions:s,afterCritical:v,forceShouldAnimate:!1};return e.phase==="COLLECTING"?_:{..._,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const eC=e=>e.movementMode==="SNAP",wE=(e,t,n)=>{const i=Wut(e.dimensions,t);return!eC(e)||n?O0({state:e,dimensions:i}):EF({state:e,dimensions:i})};function EE(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const $O={phase:"IDLE",completed:null,shouldFlush:!1};var edt=(e=$O,t)=>{if(t.type==="FLUSH")return{...$O,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&kt();const{critical:n,clientSelection:i,viewport:a,dimensions:r,movementMode:s}=t.payload,l=r.draggables[n.draggable.id],c=r.droppables[n.droppable.id],d={selection:i,borderBoxCenter:l.client.borderBox.center,offset:Fi},f={client:d,page:{selection:ia(d.selection,a.scroll.initial),borderBoxCenter:ia(d.selection,a.scroll.initial),offset:ia(d.selection,a.scroll.diff.value)}},m=Lx(r.droppables).every(_=>!_.isFixedOnPage),{impact:v,afterCritical:y}=AF({draggable:l,home:c,draggables:r.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:r,initial:f,current:f,isWindowScrollAllowed:m,impact:v,afterCritical:y,onLiftImpact:v,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&kt(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||kt(),tdt({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Md(e)||kt();const{client:n}=t.payload;return pu(n,e.current.client.selection)?e:O0({state:e,clientSelection:n,impact:eC(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return EE(e);Md(e)||kt();const{id:n,newScroll:i}=t.payload,a=e.dimensions.droppables[n];if(!a)return e;const r=MT(a,i);return wE(e,r,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Md(e)||kt();const{id:n,isEnabled:i}=t.payload,a=e.dimensions.droppables[n];a||kt(),a.isEnabled===i&&kt();const r={...a,isEnabled:i};return wE(e,r,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Md(e)||kt();const{id:n,isCombineEnabled:i}=t.payload,a=e.dimensions.droppables[n];a||kt(),a.isCombineEnabled===i&&kt();const r={...a,isCombineEnabled:i};return wE(e,r,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Md(e)||kt(),e.isWindowScrollAllowed||kt();const n=t.payload.newScroll;if(pu(e.viewport.scroll.current,n))return EE(e);const i=pF(e.viewport,n);return eC(e)?EF({state:e,viewport:i}):O0({state:e,viewport:i})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Md(e))return e;const n=t.payload.maxScroll;if(pu(n,e.viewport.scroll.max))return e;const i={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:i}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&kt();const n=Fut({state:e,type:t.type});return n?O0({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&kt(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:i,newHomeClientOffset:a}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||kt(),{phase:"DROP_ANIMATING",completed:n,dropDuration:i,newHomeClientOffset:a,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function ln(e,t){return e instanceof Object&&"type"in e&&e.type===t}const ndt=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),idt=e=>({type:"LIFT",payload:e}),adt=e=>({type:"INITIAL_PUBLISH",payload:e}),rdt=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),sdt=()=>({type:"COLLECTION_STARTING",payload:null}),odt=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),ldt=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),cdt=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),CF=e=>({type:"MOVE",payload:e}),udt=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),ddt=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),hdt=()=>({type:"MOVE_UP",payload:null}),fdt=()=>({type:"MOVE_DOWN",payload:null}),pdt=()=>({type:"MOVE_RIGHT",payload:null}),gdt=()=>({type:"MOVE_LEFT",payload:null}),jT=()=>({type:"FLUSH",payload:null}),mdt=e=>({type:"DROP_ANIMATE",payload:e}),FT=e=>({type:"DROP_COMPLETE",payload:e}),TF=e=>({type:"DROP",payload:e}),vdt=e=>({type:"DROP_PENDING",payload:e}),RF=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var ydt=e=>({getState:t,dispatch:n})=>i=>a=>{if(!ln(a,"LIFT")){i(a);return}const{id:r,clientSelection:s,movementMode:l}=a.payload,c=t();c.phase==="DROP_ANIMATING"&&n(FT({completed:c.completed})),t().phase!=="IDLE"&&kt(),n(jT()),n(ndt({draggableId:r,movementMode:l}));const f={draggableId:r,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:m,dimensions:v,viewport:y}=e.startPublishing(f);n(adt({critical:m,dimensions:v,clientSelection:s,movementMode:l,viewport:y}))},bdt=e=>()=>t=>n=>{ln(n,"INITIAL_PUBLISH")&&e.dragging(),ln(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(ln(n,"FLUSH")||ln(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const BT={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},tv={opacity:{drop:0,combining:.7},scale:{drop:.75}},MF={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ad=`${MF.outOfTheWay}s ${BT.outOfTheWay}`,N0={fluid:`opacity ${Ad}`,snap:`transform ${Ad}, opacity ${Ad}`,drop:e=>{const t=`${e}s ${BT.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Ad}`,placeholder:`height ${Ad}, width ${Ad}, margin ${Ad}`},WO=e=>pu(e,Fi)?void 0:`translate(${e.x}px, ${e.y}px)`,nC={moveTo:WO,drop:(e,t)=>{const n=WO(e);if(n)return t?`${n} scale(${tv.scale.drop})`:n}},{minDropTime:iC,maxDropTime:DF}=MF,xdt=DF-iC,QO=1500,Sdt=.6;var _dt=({current:e,destination:t,reason:n})=>{const i=Q0(e,t);if(i<=0)return iC;if(i>=QO)return DF;const a=i/QO,r=iC+xdt*a,s=n==="CANCEL"?r*Sdt:r;return Number(s.toFixed(2))},wdt=({impact:e,draggable:t,dimensions:n,viewport:i,afterCritical:a})=>{const{draggables:r,droppables:s}=n,l=Er(e),c=l?s[l]:null,d=s[t.descriptor.droppableId],f=wF({impact:e,draggable:t,draggables:r,afterCritical:a,droppable:c||d,viewport:i});return wr(f,t.client.borderBox.center)},Edt=({draggables:e,reason:t,lastImpact:n,home:i,viewport:a,onLiftImpact:r})=>!n.at||t!=="DROP"?{impact:_F({draggables:e,impact:r,destination:i,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Z0},didDropInsideDroppable:!0};const Adt=({getState:e,dispatch:t})=>n=>i=>{if(!ln(i,"DROP")){n(i);return}const a=e(),r=i.payload.reason;if(a.phase==="COLLECTING"){t(vdt({reason:r}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&kt(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||kt();const l=a.critical,c=a.dimensions,d=c.draggables[a.critical.draggable.id],{impact:f,didDropInsideDroppable:m}=Edt({reason:r,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),v=m?DT(f):null,y=m?kx(f):null,x={index:l.draggable.index,droppableId:l.droppable.id},_={draggableId:d.descriptor.id,type:d.descriptor.type,source:x,reason:r,mode:a.movementMode,destination:v,combine:y},E=wdt({impact:f,draggable:d,dimensions:c,viewport:a.viewport,afterCritical:a.afterCritical}),R={critical:a.critical,afterCritical:a.afterCritical,result:_,impact:f};if(!(!pu(a.current.client.offset,E)||!!_.combine)){t(FT({completed:R}));return}const w=_dt({current:a.current.client.offset,destination:E,reason:r});t(mdt({newHomeClientOffset:E,dropDuration:w,completed:R}))};var OF=()=>({x:window.pageXOffset,y:window.pageYOffset});function Cdt(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function Tdt({onWindowScroll:e}){function t(){e(OF())}const n=W0(t),i=Cdt(n);let a=fu;function r(){return a!==fu}function s(){r()&&kt(),a=cs(window,[i])}function l(){r()||kt(),n.cancel(),a(),a=fu}return{start:s,stop:l,isActive:r}}const Rdt=e=>ln(e,"DROP_COMPLETE")||ln(e,"DROP_ANIMATE")||ln(e,"FLUSH"),Mdt=e=>{const t=Tdt({onWindowScroll:n=>{e.dispatch(udt({newScroll:n}))}});return n=>i=>{!t.isActive()&&ln(i,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&Rdt(i)&&t.stop(),n(i)}};var Ddt=e=>{let t=!1,n=!1;const i=setTimeout(()=>{n=!0}),a=r=>{t||n||(t=!0,e(r),clearTimeout(i))};return a.wasCalled=()=>t,a},Odt=()=>{const e=[],t=a=>{const r=e.findIndex(l=>l.timerId===a);r===-1&&kt();const[s]=e.splice(r,1);s.callback()};return{add:a=>{const r=setTimeout(()=>t(r)),s={timerId:r,callback:a};e.push(s)},flush:()=>{if(!e.length)return;const a=[...e];e.length=0,a.forEach(r=>{clearTimeout(r.timerId),r.callback()})}}};const Ndt=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,Pdt=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,Ldt=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,i=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&i},bm=(e,t)=>{t()},Tb=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function AE(e,t,n,i){if(!e){n(i(t));return}const a=Ddt(n);e(t,{announce:a}),a.wasCalled()||n(i(t))}var kdt=(e,t)=>{const n=Odt();let i=null;const a=(m,v)=>{i&&kt(),bm("onBeforeCapture",()=>{const y=e().onBeforeCapture;y&&y({draggableId:m,mode:v})})},r=(m,v)=>{i&&kt(),bm("onBeforeDragStart",()=>{const y=e().onBeforeDragStart;y&&y(Tb(m,v))})},s=(m,v)=>{i&&kt();const y=Tb(m,v);i={mode:v,lastCritical:m,lastLocation:y.source,lastCombine:null},n.add(()=>{bm("onDragStart",()=>AE(e().onDragStart,y,t,$b.onDragStart))})},l=(m,v)=>{const y=DT(v),x=kx(v);i||kt();const _=!Ldt(m,i.lastCritical);_&&(i.lastCritical=m);const E=!Ndt(i.lastLocation,y);E&&(i.lastLocation=y);const R=!Pdt(i.lastCombine,x);if(R&&(i.lastCombine=x),!_&&!E&&!R)return;const A={...Tb(m,i.mode),combine:x,destination:y};n.add(()=>{bm("onDragUpdate",()=>AE(e().onDragUpdate,A,t,$b.onDragUpdate))})},c=()=>{i||kt(),n.flush()},d=m=>{i||kt(),i=null,bm("onDragEnd",()=>AE(e().onDragEnd,m,t,$b.onDragEnd))};return{beforeCapture:a,beforeStart:r,start:s,update:l,flush:c,drop:d,abort:()=>{if(!i)return;const m={...Tb(i.lastCritical,i.mode),combine:null,destination:null,reason:"CANCEL"};d(m)}}},jdt=(e,t)=>{const n=kdt(e,t);return i=>a=>r=>{if(ln(r,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(r.payload.draggableId,r.payload.movementMode);return}if(ln(r,"INITIAL_PUBLISH")){const l=r.payload.critical;n.beforeStart(l,r.payload.movementMode),a(r),n.start(l,r.payload.movementMode);return}if(ln(r,"DROP_COMPLETE")){const l=r.payload.completed.result;n.flush(),a(r),n.drop(l);return}if(a(r),ln(r,"FLUSH")){n.abort();return}const s=i.getState();s.phase==="DRAGGING"&&n.update(s.critical,s.impact)}};const Fdt=e=>t=>n=>{if(!ln(n,"DROP_ANIMATION_FINISHED")){t(n);return}const i=e.getState();i.phase!=="DROP_ANIMATING"&&kt(),e.dispatch(FT({completed:i.completed}))},Bdt=e=>{let t=null,n=null;function i(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return a=>r=>{if((ln(r,"FLUSH")||ln(r,"DROP_COMPLETE")||ln(r,"DROP_ANIMATION_FINISHED"))&&i(),a(r),!ln(r,"DROP_ANIMATE"))return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(RF())}};n=requestAnimationFrame(()=>{n=null,t=cs(window,[s])})}};var Idt=e=>()=>t=>n=>{(ln(n,"DROP_COMPLETE")||ln(n,"FLUSH")||ln(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},zdt=e=>{let t=!1;return()=>n=>i=>{if(ln(i,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(i.payload.critical.draggable.id),n(i),e.tryRestoreFocusRecorded();return}if(n(i),!!t){if(ln(i,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(ln(i,"DROP_COMPLETE")){t=!1;const a=i.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const Udt=e=>ln(e,"DROP_COMPLETE")||ln(e,"DROP_ANIMATE")||ln(e,"FLUSH");var Hdt=e=>t=>n=>i=>{if(Udt(i)){e.stop(),n(i);return}if(ln(i,"INITIAL_PUBLISH")){n(i);const a=t.getState();a.phase!=="DRAGGING"&&kt(),e.start(a);return}n(i),e.scroll(t.getState())};const Gdt=e=>t=>n=>{if(t(n),!ln(n,"PUBLISH_WHILE_DRAGGING"))return;const i=e.getState();i.phase==="DROP_PENDING"&&(i.isWaiting||e.dispatch(TF({reason:i.reason})))},qdt=Kj;var Vdt=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:i,announce:a,autoScroller:r})=>Yj(edt,qdt(qlt(bdt(n),Idt(e),ydt(e),Adt,Fdt,Bdt,Gdt,Hdt(r),Mdt,zdt(t),jdt(i,a))));const CE=()=>({additions:{},removals:{},modified:{}});function Ydt({registry:e,callbacks:t}){let n=CE(),i=null;const a=()=>{i||(t.collectionStarting(),i=requestAnimationFrame(()=>{i=null;const{additions:c,removals:d,modified:f}=n,m=Object.keys(c).map(x=>e.draggable.getById(x).getDimension(Fi)).sort((x,_)=>x.descriptor.index-_.descriptor.index),v=Object.keys(f).map(x=>{const E=e.droppable.getById(x).callbacks.getScrollWhileDragging();return{droppableId:x,scroll:E}}),y={additions:m,removals:Object.keys(d),modified:v};n=CE(),t.publish(y)}))};return{add:c=>{const d=c.descriptor.id;n.additions[d]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],a()},remove:c=>{const d=c.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],a()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,n=CE())}}}var NF=({scrollHeight:e,scrollWidth:t,height:n,width:i})=>{const a=wr({x:t,y:e},{x:i,y:n});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},PF=()=>{const e=document.documentElement;return e||kt(),e},LF=()=>{const e=PF();return NF({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Kdt=()=>{const e=OF(),t=LF(),n=e.y,i=e.x,a=PF(),r=a.clientWidth,s=a.clientHeight,l=i+r,c=n+s;return{frame:Qs({top:n,left:i,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:Fi,displacement:Fi}}}},Xdt=({critical:e,scrollOptions:t,registry:n})=>{const i=Kdt(),a=i.scroll.current,r=e.droppable,s=n.droppable.getAllByType(r.type).map(f=>f.callbacks.getDimensionAndWatchScroll(a,t)),l=n.draggable.getAllByType(e.draggable.type).map(f=>f.getDimension(a));return{dimensions:{draggables:lF(l),droppables:oF(s)},critical:e,viewport:i}};function ZO(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var $dt=(e,t)=>{let n=null;const i=Ydt({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=(v,y)=>{e.droppable.exists(v)||kt(),n&&t.updateDroppableIsEnabled({id:v,isEnabled:y})},r=(v,y)=>{n&&(e.droppable.exists(v)||kt(),t.updateDroppableIsCombineEnabled({id:v,isCombineEnabled:y}))},s=(v,y)=>{n&&(e.droppable.exists(v)||kt(),t.updateDroppableScroll({id:v,newScroll:y}))},l=(v,y)=>{n&&e.droppable.getById(v).callbacks.scroll(y)},c=()=>{if(!n)return;i.stop();const v=n.critical.droppable;e.droppable.getAllByType(v.type).forEach(y=>y.callbacks.dragStopped()),n.unsubscribe(),n=null},d=v=>{n||kt();const y=n.critical.draggable;v.type==="ADDITION"&&ZO(e,y,v.value)&&i.add(v.value),v.type==="REMOVAL"&&ZO(e,y,v.value)&&i.remove(v.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:r,scrollDroppable:l,updateDroppableScroll:s,startPublishing:v=>{n&&kt();const y=e.draggable.getById(v.draggableId),x=e.droppable.getById(y.descriptor.droppableId),_={draggable:y.descriptor,droppable:x.descriptor},E=e.subscribe(d);return n={critical:_,unsubscribe:E},Xdt({critical:_,registry:e,scrollOptions:v.scrollOptions})},stopPublishing:c}},kF=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",Wdt=e=>{window.scrollBy(e.x,e.y)};const Qdt=ji(e=>Lx(e).filter(t=>!(!t.isEnabled||!t.frame))),Zdt=(e,t)=>Qdt(t).find(i=>(i.frame||kt(),yF(i.frame.pageMarginBox)(e)))||null;var Jdt=({center:e,destination:t,droppables:n})=>{if(t){const a=n[t];return a.frame?a:null}return Zdt(e,n)};const ev={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var tht=(e,t,n=()=>ev)=>{const i=n(),a=e[t.size]*i.startFromPercentage,r=e[t.size]*i.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:r}},jF=({startOfRange:e,endOfRange:t,current:n})=>{const i=t-e;return i===0?0:(n-e)/i},IT=1,eht=(e,t,n=()=>ev)=>{const i=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return i.maxPixelScroll;if(e===t.startScrollingFrom)return IT;const r=1-jF({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),s=i.maxPixelScroll*i.ease(r);return Math.ceil(s)},nht=(e,t,n)=>{const i=n(),a=i.durationDampening.accelerateAt,r=i.durationDampening.stopDampeningAt,s=t,l=r,d=Date.now()-s;if(d>=r)return e;if(d<a)return IT;const f=jF({startOfRange:a,endOfRange:l,current:d}),m=e*i.ease(f);return Math.ceil(m)},JO=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const r=eht(e,t,a);return r===0?0:i?Math.max(nht(r,n,a),IT):r},t9=({container:e,distanceToEdges:t,dragStartTime:n,axis:i,shouldUseTimeDampening:a,getAutoScrollerOptions:r})=>{const s=tht(e,i,r);return t[i.end]<t[i.start]?JO({distanceToEdge:t[i.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:r}):-1*JO({distanceToEdge:t[i.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:r})},iht=({container:e,subject:t,proposedScroll:n})=>{const i=t.height>e.height,a=t.width>e.width;return!a&&!i?n:a&&i?null:{x:a?0:n.x,y:i?0:n.y}};const aht=sF(e=>e===0?0:e);var FF=({dragStartTime:e,container:t,subject:n,center:i,shouldUseTimeDampening:a,getAutoScrollerOptions:r})=>{const s={top:i.y-t.top,right:t.right-i.x,bottom:t.bottom-i.y,left:i.x-t.left},l=t9({container:t,distanceToEdges:s,dragStartTime:e,axis:OT,shouldUseTimeDampening:a,getAutoScrollerOptions:r}),c=t9({container:t,distanceToEdges:s,dragStartTime:e,axis:dF,shouldUseTimeDampening:a,getAutoScrollerOptions:r}),d=aht({x:c,y:l});if(pu(d,Fi))return null;const f=iht({container:t,subject:n,proposedScroll:d});return f?pu(f,Fi)?null:f:null};const rht=sF(e=>e===0?0:e>0?1:-1),zT=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:i})=>{const a=ia(t,i),r={x:e(a.x,n.x),y:e(a.y,n.y)};return pu(r,Fi)?null:r}})(),BF=({max:e,current:t,change:n})=>{const i={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},a=rht(n),r=zT({max:i,current:t,change:a});return!r||a.x!==0&&r.x===0||a.y!==0&&r.y===0},UT=(e,t)=>BF({current:e.scroll.current,max:e.scroll.max,change:t}),sht=(e,t)=>{if(!UT(e,t))return null;const n=e.scroll.max,i=e.scroll.current;return zT({current:i,max:n,change:t})},HT=(e,t)=>{const n=e.frame;return n?BF({current:n.scroll.current,max:n.scroll.max,change:t}):!1},oht=(e,t)=>{const n=e.frame;return!n||!HT(e,t)?null:zT({current:n.scroll.current,max:n.scroll.max,change:t})};var lht=({viewport:e,subject:t,center:n,dragStartTime:i,shouldUseTimeDampening:a,getAutoScrollerOptions:r})=>{const s=FF({dragStartTime:i,container:e.frame,subject:t,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:r});return s&&UT(e,s)?s:null},cht=({droppable:e,subject:t,center:n,dragStartTime:i,shouldUseTimeDampening:a,getAutoScrollerOptions:r})=>{const s=e.frame;if(!s)return null;const l=FF({dragStartTime:i,container:s.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:r});return l&&HT(e,l)?l:null},e9=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:i,scrollDroppable:a,getAutoScrollerOptions:r})=>{const s=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const m=e.viewport,v=lht({dragStartTime:t,viewport:m,subject:c,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:r});if(v){i(v);return}}const d=Jdt({center:s,destination:Er(e.impact),droppables:e.dimensions.droppables});if(!d)return;const f=cht({dragStartTime:t,droppable:d,subject:c,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:r});f&&a(d.descriptor.id,f)},uht=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>ev})=>{const i=W0(e),a=W0(t);let r=null;const s=d=>{r||kt();const{shouldUseTimeDampening:f,dragStartTime:m}=r;e9({state:d,scrollWindow:i,scrollDroppable:a,dragStartTime:m,shouldUseTimeDampening:f,getAutoScrollerOptions:n})};return{start:d=>{r&&kt();const f=Date.now();let m=!1;const v=()=>{m=!0};e9({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:v,scrollDroppable:v,getAutoScrollerOptions:n}),r={dragStartTime:f,shouldUseTimeDampening:m},m&&s(d)},stop:()=>{r&&(i.cancel(),a.cancel(),r=null)},scroll:s}},dht=({move:e,scrollDroppable:t,scrollWindow:n})=>{const i=(l,c)=>{const d=ia(l.current.client.selection,c);e({client:d})},a=(l,c)=>{if(!HT(l,c))return c;const d=oht(l,c);if(!d)return t(l.descriptor.id,c),null;const f=wr(c,d);return t(l.descriptor.id,f),wr(c,f)},r=(l,c,d)=>{if(!l||!UT(c,d))return d;const f=sht(c,d);if(!f)return n(d),null;const m=wr(d,f);return n(m),wr(d,m)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const d=Er(l.impact);d||kt();const f=a(l.dimensions.droppables[d],c);if(!f)return;const m=l.viewport,v=r(l.isWindowScrollAllowed,m,f);v&&i(l,v)}},hht=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:i})=>{const a=uht({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:i}),r=dht({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(i().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){a.scroll(c);return}c.scrollJumpRequest&&r(c)}},start:a.start,stop:a.stop}};const mp="data-rfd",vp=(()=>{const e=`${mp}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),aC=(()=>{const e=`${mp}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),fht=(()=>{const e=`${mp}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),n9={contextId:`${mp}-scroll-container-context-id`},pht=e=>t=>`[${t}="${e}"]`,xm=(e,t)=>e.map(n=>{const i=n.styles[t];return i?`${n.selector} { ${i} }`:""}).join(" "),ght="pointer-events: none;";var mht=e=>{const t=pht(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(vp.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:ght,dropAnimating:l}}})(),i=(()=>{const l=`
      transition: ${N0.outOfTheWay};
    `;return{selector:t(aC.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),a={selector:t(fht.contextId),styles:{always:"overflow-anchor: none;"}},s=[i,n,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:xm(s,"always"),resting:xm(s,"resting"),dragging:xm(s,"dragging"),dropAnimating:xm(s,"dropAnimating"),userCancel:xm(s,"userCancel")}};const Ar=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?j.useLayoutEffect:j.useEffect,TE=()=>{const e=document.querySelector("head");return e||kt(),e},i9=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function vht(e,t){const n=We(()=>mht(e),[e]),i=j.useRef(null),a=j.useRef(null),r=Qt(ji(m=>{const v=a.current;v||kt(),v.textContent=m}),[]),s=Qt(m=>{const v=i.current;v||kt(),v.textContent=m},[]);Ar(()=>{!i.current&&!a.current||kt();const m=i9(t),v=i9(t);return i.current=m,a.current=v,m.setAttribute(`${mp}-always`,e),v.setAttribute(`${mp}-dynamic`,e),TE().appendChild(m),TE().appendChild(v),s(n.always),r(n.resting),()=>{const y=x=>{const _=x.current;_||kt(),TE().removeChild(_),x.current=null};y(i),y(a)}},[t,s,r,n.always,n.resting,e]);const l=Qt(()=>r(n.dragging),[r,n.dragging]),c=Qt(m=>{if(m==="DROP"){r(n.dropAnimating);return}r(n.userCancel)},[r,n.dropAnimating,n.userCancel]),d=Qt(()=>{a.current&&r(n.resting)},[r,n.resting]);return We(()=>({dragging:l,dropping:c,resting:d}),[l,c,d])}function IF(e,t){return Array.from(e.querySelectorAll(t))}var zF=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Bx(e){return e instanceof zF(e).HTMLElement}function yht(e,t){const n=`[${vp.contextId}="${e}"]`,i=IF(document,n);if(!i.length)return null;const a=i.find(r=>r.getAttribute(vp.draggableId)===t);return!a||!Bx(a)?null:a}function bht(e){const t=j.useRef({}),n=j.useRef(null),i=j.useRef(null),a=j.useRef(!1),r=Qt(function(v,y){const x={id:v,focus:y};return t.current[v]=x,function(){const E=t.current;E[v]!==x&&delete E[v]}},[]),s=Qt(function(v){const y=yht(e,v);y&&y!==document.activeElement&&y.focus()},[e]),l=Qt(function(v,y){n.current===v&&(n.current=y)},[]),c=Qt(function(){i.current||a.current&&(i.current=requestAnimationFrame(()=>{i.current=null;const v=n.current;v&&s(v)}))},[s]),d=Qt(function(v){n.current=null;const y=document.activeElement;y&&y.getAttribute(vp.draggableId)===v&&(n.current=v)},[]);return Ar(()=>(a.current=!0,function(){a.current=!1;const v=i.current;v&&cancelAnimationFrame(v)}),[]),We(()=>({register:r,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[r,d,c,l])}function xht(){const e={draggables:{},droppables:{}},t=[];function n(m){return t.push(m),function(){const y=t.indexOf(m);y!==-1&&t.splice(y,1)}}function i(m){t.length&&t.forEach(v=>v(m))}function a(m){return e.draggables[m]||null}function r(m){const v=a(m);return v||kt(),v}const s={register:m=>{e.draggables[m.descriptor.id]=m,i({type:"ADDITION",value:m})},update:(m,v)=>{const y=e.draggables[v.descriptor.id];y&&y.uniqueId===m.uniqueId&&(delete e.draggables[v.descriptor.id],e.draggables[m.descriptor.id]=m)},unregister:m=>{const v=m.descriptor.id,y=a(v);y&&m.uniqueId===y.uniqueId&&(delete e.draggables[v],e.droppables[m.descriptor.droppableId]&&i({type:"REMOVAL",value:m}))},getById:r,findById:a,exists:m=>!!a(m),getAllByType:m=>Object.values(e.draggables).filter(v=>v.descriptor.type===m)};function l(m){return e.droppables[m]||null}function c(m){const v=l(m);return v||kt(),v}const d={register:m=>{e.droppables[m.descriptor.id]=m},unregister:m=>{const v=l(m.descriptor.id);v&&m.uniqueId===v.uniqueId&&delete e.droppables[m.descriptor.id]},getById:c,findById:l,exists:m=>!!l(m),getAllByType:m=>Object.values(e.droppables).filter(v=>v.descriptor.type===m)};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:d,subscribe:n,clean:f}}function Sht(){const e=We(xht,[]);return j.useEffect(()=>function(){e.clean()},[e]),e}var GT=Y.createContext(null),N1=()=>{const e=document.body;return e||kt(),e};const _ht={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},wht=e=>`rfd-announcement-${e}`;function Eht(e){const t=We(()=>wht(e),[e]),n=j.useRef(null);return j.useEffect(function(){const r=document.createElement("div");return n.current=r,r.id=t,r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true"),R1(r.style,_ht),N1().appendChild(r),function(){setTimeout(function(){const c=N1();c.contains(r)&&c.removeChild(r),r===n.current&&(n.current=null)})}},[t]),Qt(a=>{const r=n.current;if(r){r.textContent=a;return}},[])}const Aht={separator:"::"};function qT(e,t=Aht){const n=Y.useId();return We(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function Cht({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function Tht({contextId:e,text:t}){const n=qT("hidden-text",{separator:"-"}),i=We(()=>Cht({contextId:e,uniqueId:n}),[n,e]);return j.useEffect(function(){const r=document.createElement("div");return r.id=i,r.textContent=t,r.style.display="none",N1().appendChild(r),function(){const l=N1();l.contains(r)&&l.removeChild(r)}},[i,t]),i}var Ix=Y.createContext(null);function UF(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),t}function Rht(){let e=null;function t(){return!!e}function n(s){return s===e}function i(s){e&&kt();const l={abandon:s};return e=l,l}function a(){e||kt(),e=null}function r(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:n,claim:i,release:a,tryAbandon:r}}function nv(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const Mht=9,Dht=13,VT=27,HF=32,Oht=33,Nht=34,Pht=35,Lht=36,kht=37,jht=38,Fht=39,Bht=40,Iht={[Dht]:!0,[Mht]:!0};var GF=e=>{Iht[e.keyCode]&&e.preventDefault()};const zx=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(i=>`on${i}`in document)||e})(),qF=0,a9=5;function zht(e,t){return Math.abs(t.x-e.x)>=a9||Math.abs(t.y-e.y)>=a9}const r9={type:"IDLE"};function Uht({cancel:e,completed:t,getPhase:n,setPhase:i}){return[{eventName:"mousemove",fn:a=>{const{button:r,clientX:s,clientY:l}=a;if(r!==qF)return;const c={x:s,y:l},d=n();if(d.type==="DRAGGING"){a.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&kt();const f=d.point;if(!zht(f,c))return;a.preventDefault();const m=d.actions.fluidLift(c);i({type:"DRAGGING",actions:m})}},{eventName:"mouseup",fn:a=>{const r=n();if(r.type!=="DRAGGING"){e();return}a.preventDefault(),r.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:a=>{n().type==="DRAGGING"&&a.preventDefault(),e()}},{eventName:"keydown",fn:a=>{if(n().type==="PENDING"){e();return}if(a.keyCode===VT){a.preventDefault(),e();return}GF(a)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:a=>{const r=n();if(r.type==="IDLE"&&kt(),r.actions.shouldRespectForcePress()){e();return}a.preventDefault()}},{eventName:zx,fn:e}]}function Hht(e){const t=j.useRef(r9),n=j.useRef(fu),i=We(()=>({eventName:"mousedown",fn:function(m){if(m.defaultPrevented||m.button!==qF||m.ctrlKey||m.metaKey||m.shiftKey||m.altKey)return;const v=e.findClosestDraggableId(m);if(!v)return;const y=e.tryGetLock(v,s,{sourceEvent:m});if(!y)return;m.preventDefault();const x={x:m.clientX,y:m.clientY};n.current(),d(y,x)}}),[e]),a=We(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const m=e.findClosestDraggableId(f);if(!m)return;const v=e.findOptionsForDraggable(m);v&&(v.shouldRespectForcePress||e.canGetLock(m)&&f.preventDefault())}}),[e]),r=Qt(function(){const m={passive:!1,capture:!0};n.current=cs(window,[a,i],m)},[a,i]),s=Qt(()=>{t.current.type!=="IDLE"&&(t.current=r9,n.current(),r())},[r]),l=Qt(()=>{const f=t.current;s(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[s]),c=Qt(function(){const m={capture:!0,passive:!1},v=Uht({cancel:l,completed:s,getPhase:()=>t.current,setPhase:y=>{t.current=y}});n.current=cs(window,v,m)},[l,s]),d=Qt(function(m,v){t.current.type!=="IDLE"&&kt(),t.current={type:"PENDING",point:v,actions:m},c()},[c]);Ar(function(){return r(),function(){n.current()}},[r])}function Ght(){}const qht={[Nht]:!0,[Oht]:!0,[Lht]:!0,[Pht]:!0};function Vht(e,t){function n(){t(),e.cancel()}function i(){t(),e.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===VT){a.preventDefault(),n();return}if(a.keyCode===HF){a.preventDefault(),i();return}if(a.keyCode===Bht){a.preventDefault(),e.moveDown();return}if(a.keyCode===jht){a.preventDefault(),e.moveUp();return}if(a.keyCode===Fht){a.preventDefault(),e.moveRight();return}if(a.keyCode===kht){a.preventDefault(),e.moveLeft();return}if(qht[a.keyCode]){a.preventDefault();return}GF(a)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:zx,fn:n}]}function Yht(e){const t=j.useRef(Ght),n=We(()=>({eventName:"keydown",fn:function(r){if(r.defaultPrevented||r.keyCode!==HF)return;const s=e.findClosestDraggableId(r);if(!s)return;const l=e.tryGetLock(s,f,{sourceEvent:r});if(!l)return;r.preventDefault();let c=!0;const d=l.snapLift();t.current();function f(){c||kt(),c=!1,t.current(),i()}t.current=cs(window,Vht(d,f),{capture:!0,passive:!1})}}),[e]),i=Qt(function(){const r={passive:!1,capture:!0};t.current=cs(window,[n],r)},[n]);Ar(function(){return i(),function(){t.current()}},[i])}const RE={type:"IDLE"},Kht=120,Xht=.15;function $ht({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===VT&&n.preventDefault(),e()}},{eventName:zx,fn:e}]}function Wht({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}a.hasMoved=!0;const{clientX:r,clientY:s}=i.touches[0],l={x:r,y:s};i.preventDefault(),a.actions.move(l)}},{eventName:"touchend",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:i=>{if(n().type!=="DRAGGING"){e();return}i.preventDefault(),e()}},{eventName:"touchforcechange",fn:i=>{const a=n();a.type==="IDLE"&&kt();const r=i.touches[0];if(!r||!(r.force>=Xht))return;const l=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){l&&e();return}if(l){if(a.hasMoved){i.preventDefault();return}e();return}i.preventDefault()}},{eventName:zx,fn:e}]}function Qht(e){const t=j.useRef(RE),n=j.useRef(fu),i=Qt(function(){return t.current},[]),a=Qt(function(y){t.current=y},[]),r=We(()=>({eventName:"touchstart",fn:function(y){if(y.defaultPrevented)return;const x=e.findClosestDraggableId(y);if(!x)return;const _=e.tryGetLock(x,l,{sourceEvent:y});if(!_)return;const E=y.touches[0],{clientX:R,clientY:A}=E,w={x:R,y:A};n.current(),m(_,w)}}),[e]),s=Qt(function(){const y={capture:!0,passive:!1};n.current=cs(window,[r],y)},[r]),l=Qt(()=>{const v=t.current;v.type!=="IDLE"&&(v.type==="PENDING"&&clearTimeout(v.longPressTimerId),a(RE),n.current(),s())},[s,a]),c=Qt(()=>{const v=t.current;l(),v.type==="DRAGGING"&&v.actions.cancel({shouldBlockNextClick:!0}),v.type==="PENDING"&&v.actions.abort()},[l]),d=Qt(function(){const y={capture:!0,passive:!1},x={cancel:c,completed:l,getPhase:i},_=cs(window,Wht(x),y),E=cs(window,$ht(x),y);n.current=function(){_(),E()}},[c,i,l]),f=Qt(function(){const y=i();y.type!=="PENDING"&&kt();const x=y.actions.fluidLift(y.point);a({type:"DRAGGING",actions:x,hasMoved:!1})},[i,a]),m=Qt(function(y,x){i().type!=="IDLE"&&kt();const _=setTimeout(f,Kht);a({type:"PENDING",point:x,actions:y,longPressTimerId:_}),d()},[d,i,a,f]);Ar(function(){return s(),function(){n.current();const x=i();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),a(RE))}},[i,s,a]),Ar(function(){return cs(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Zht=["input","button","textarea","select","option","optgroup","video","audio"];function VF(e,t){if(t==null)return!1;if(Zht.includes(t.tagName.toLowerCase()))return!0;const i=t.getAttribute("contenteditable");return i==="true"||i===""?!0:t===e?!1:VF(e,t.parentElement)}function Jht(e,t){const n=t.target;return Bx(n)?VF(e,n):!1}var tft=e=>Qs(e.getBoundingClientRect()).center;function eft(e){return e instanceof zF(e).Element}const nft=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(i=>i in Element.prototype)||e})();function YF(e,t){return e==null?null:e[nft](t)?e:YF(e.parentElement,t)}function ift(e,t){return e.closest?e.closest(t):YF(e,t)}function aft(e){return`[${vp.contextId}="${e}"]`}function rft(e,t){const n=t.target;if(!eft(n))return null;const i=aft(e),a=ift(n,i);return!a||!Bx(a)?null:a}function sft(e,t){const n=rft(e,t);return n?n.getAttribute(vp.draggableId):null}function oft(e,t){const n=`[${aC.contextId}="${e}"]`,a=IF(document,n).find(r=>r.getAttribute(aC.id)===t);return!a||!Bx(a)?null:a}function lft(e){e.preventDefault()}function Rb({expected:e,phase:t,isLockActive:n,shouldWarn:i}){return!(!n()||e!==t)}function KF({lockAPI:e,store:t,registry:n,draggableId:i}){if(e.isClaimed())return!1;const a=n.draggable.findById(i);return!(!a||!a.options.isEnabled||!kF(t.getState(),i))}function cft({lockAPI:e,contextId:t,store:n,registry:i,draggableId:a,forceSensorStop:r,sourceEvent:s}){if(!KF({lockAPI:e,store:n,registry:i,draggableId:a}))return null;const c=i.draggable.getById(a),d=oft(t,c.descriptor.id);if(!d||s&&!c.options.canDragInteractiveElements&&Jht(d,s))return null;const f=e.claim(r||fu);let m="PRE_DRAG";function v(){return c.options.shouldRespectForcePress}function y(){return e.isActive(f)}function x(D,P){Rb({expected:D,phase:m,isLockActive:y,shouldWarn:!0})&&n.dispatch(P())}const _=x.bind(null,"DRAGGING");function E(D){function P(){e.release(),m="COMPLETED"}m!=="PRE_DRAG"&&(P(),kt()),n.dispatch(idt(D.liftActionArgs)),m="DRAGGING";function z(L,U={shouldBlockNextClick:!1}){if(D.cleanup(),U.shouldBlockNextClick){const I=cs(window,[{eventName:"click",fn:lft,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(I)}P(),n.dispatch(TF({reason:L}))}return{isActive:()=>Rb({expected:"DRAGGING",phase:m,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:v,drop:L=>z("DROP",L),cancel:L=>z("CANCEL",L),...D.actions}}function R(D){const P=W0(L=>{_(()=>CF({client:L}))});return{...E({liftActionArgs:{id:a,clientSelection:D,movementMode:"FLUID"},cleanup:()=>P.cancel(),actions:{move:P}}),move:P}}function A(){const D={moveUp:()=>_(hdt),moveRight:()=>_(pdt),moveDown:()=>_(fdt),moveLeft:()=>_(gdt)};return E({liftActionArgs:{id:a,clientSelection:tft(d),movementMode:"SNAP"},cleanup:fu,actions:D})}function w(){Rb({expected:"PRE_DRAG",phase:m,isLockActive:y,shouldWarn:!0})&&e.release()}return{isActive:()=>Rb({expected:"PRE_DRAG",phase:m,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:v,fluidLift:R,snapLift:A,abort:w}}const uft=[Hht,Yht,Qht];function dft({contextId:e,store:t,registry:n,customSensors:i,enableDefaultSensors:a}){const r=[...a?uft:[],...i||[]],s=j.useState(()=>Rht())[0],l=Qt(function(E,R){nv(E)&&!nv(R)&&s.tryAbandon()},[s]);Ar(function(){let E=t.getState();return t.subscribe(()=>{const A=t.getState();l(E,A),E=A})},[s,t,l]),Ar(()=>s.tryAbandon,[s.tryAbandon]);const c=Qt(_=>KF({lockAPI:s,registry:n,store:t,draggableId:_}),[s,n,t]),d=Qt((_,E,R)=>cft({lockAPI:s,registry:n,contextId:e,store:t,draggableId:_,forceSensorStop:E||null,sourceEvent:R&&R.sourceEvent?R.sourceEvent:null}),[e,s,n,t]),f=Qt(_=>sft(e,_),[e]),m=Qt(_=>{const E=n.draggable.findById(_);return E?E.options:null},[n.draggable]),v=Qt(function(){s.isClaimed()&&(s.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(jT()))},[s,t]),y=Qt(()=>s.isClaimed(),[s]),x=We(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:m,tryReleaseLock:v,isLockClaimed:y}),[c,d,f,m,v,y]);for(let _=0;_<r.length;_++)r[_](x)}const hft=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};sv.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),fft=e=>({...ev,...e.autoScrollerOptions,durationDampening:{...ev.durationDampening,...e.autoScrollerOptions}});function Sm(e){return e.current||kt(),e.current}function pft(e){const{contextId:t,setCallbacks:n,sensors:i,nonce:a,dragHandleUsageInstructions:r}=e,s=j.useRef(null),l=UF(e),c=Qt(()=>hft(l.current),[l]),d=Qt(()=>fft(l.current),[l]),f=Eht(t),m=Tht({contextId:t,text:r}),v=vht(t,a),y=Qt(I=>{Sm(s).dispatch(I)},[]),x=We(()=>PO({publishWhileDragging:rdt,updateDroppableScroll:odt,updateDroppableIsEnabled:ldt,updateDroppableIsCombineEnabled:cdt,collectionStarting:sdt},y),[y]),_=Sht(),E=We(()=>$dt(_,x),[_,x]),R=We(()=>hht({scrollWindow:Wdt,scrollDroppable:E.scrollDroppable,getAutoScrollerOptions:d,...PO({move:CF},y)}),[E.scrollDroppable,y,d]),A=bht(t),w=We(()=>Vdt({announce:f,autoScroller:R,dimensionMarshal:E,focusMarshal:A,getResponders:c,styleMarshal:v}),[f,R,E,A,c,v]);s.current=w;const M=Qt(()=>{const I=Sm(s);I.getState().phase!=="IDLE"&&I.dispatch(jT())},[]),D=Qt(()=>{const I=Sm(s).getState();return I.phase==="DROP_ANIMATING"?!0:I.phase==="IDLE"?!1:I.isDragging},[]),P=We(()=>({isDragging:D,tryAbort:M}),[D,M]);n(P);const z=Qt(I=>kF(Sm(s).getState(),I),[]),L=Qt(()=>Md(Sm(s).getState()),[]),U=We(()=>({marshal:E,focus:A,contextId:t,canLift:z,isMovementAllowed:L,dragHandleUsageInstructionsId:m,registry:_}),[t,E,m,A,z,L,_]);return dft({contextId:t,store:w,registry:_,customSensors:i||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),j.useEffect(()=>M,[M]),Y.createElement(Ix.Provider,{value:U},Y.createElement(Ict,{context:GT,store:w},e.children))}function gft(){return Y.useId()}function mft(e){const t=gft(),n=e.dragHandleUsageInstructions||$b.dragHandleUsageInstructions;return Y.createElement(Yct,null,i=>Y.createElement(pft,{nonce:e.nonce,contextId:t,setCallbacks:i,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const s9={dragging:5e3,dropAnimating:4500},vft=(e,t)=>t?N0.drop(t.duration):e?N0.snap:N0.fluid,yft=(e,t)=>{if(e)return t?tv.opacity.drop:tv.opacity.combining},bft=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function xft(e){const n=e.dimension.client,{offset:i,combineWith:a,dropping:r}=e,s=!!a,l=bft(e),c=!!r,d=c?nC.drop(i,s):nC.moveTo(i);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:vft(l,r),transform:d,opacity:yft(s,c),zIndex:c?s9.dropAnimating:s9.dragging,pointerEvents:"none"}}function Sft(e){return{transform:nC.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function _ft(e){return e.type==="DRAGGING"?xft(e):Sft(e)}function wft(e,t,n=Fi){const i=window.getComputedStyle(t),a=t.getBoundingClientRect(),r=tF(a,i),s=T1(r,n),l={client:r,tagName:t.tagName.toLowerCase(),display:i.display},c={x:r.marginBox.width,y:r.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:r,page:s}}function Eft(e){const t=qT("draggable"),{descriptor:n,registry:i,getDraggableRef:a,canDragInteractiveElements:r,shouldRespectForcePress:s,isEnabled:l}=e,c=We(()=>({canDragInteractiveElements:r,shouldRespectForcePress:s,isEnabled:l}),[r,l,s]),d=Qt(y=>{const x=a();return x||kt(),wft(n,x,y)},[n,a]),f=We(()=>({uniqueId:t,descriptor:n,options:c,getDimension:d}),[n,d,c,t]),m=j.useRef(f),v=j.useRef(!0);Ar(()=>(i.draggable.register(m.current),()=>i.draggable.unregister(m.current)),[i.draggable]),Ar(()=>{if(v.current){v.current=!1;return}const y=m.current;m.current=f,i.draggable.update(f,y)},[f,i.draggable])}var YT=Y.createContext(null);function P1(e){const t=j.useContext(e);return t||kt(),t}function Aft(e){e.preventDefault()}const Cft=e=>{const t=j.useRef(null),n=Qt((P=null)=>{t.current=P},[]),i=Qt(()=>t.current,[]),{contextId:a,dragHandleUsageInstructionsId:r,registry:s}=P1(Ix),{type:l,droppableId:c}=P1(YT),d=We(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:f,draggableId:m,isEnabled:v,shouldRespectForcePress:y,canDragInteractiveElements:x,isClone:_,mapped:E,dropAnimationFinished:R}=e;if(!_){const P=We(()=>({descriptor:d,registry:s,getDraggableRef:i,canDragInteractiveElements:x,shouldRespectForcePress:y,isEnabled:v}),[d,s,i,x,y,v]);Eft(P)}const A=We(()=>v?{tabIndex:0,role:"button","aria-describedby":r,"data-rfd-drag-handle-draggable-id":m,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:Aft}:null,[a,r,m,v]),w=Qt(P=>{E.type==="DRAGGING"&&E.dropping&&P.propertyName==="transform"&&sv.flushSync(R)},[R,E]),M=We(()=>{const P=_ft(E),z=E.type==="DRAGGING"&&E.dropping?w:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":m,style:P,onTransitionEnd:z},dragHandleProps:A}},[a,A,m,E,w,n]),D=We(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return Y.createElement(Y.Fragment,null,f(M,E.snapshot,D))};var XF=(e,t)=>e===t,$F=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const Tft=e=>e.combine?e.combine.draggableId:null,Rft=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function Mft(){const e=ji((a,r)=>({x:a,y:r})),t=ji((a,r,s=null,l=null,c=null)=>({isDragging:!0,isClone:r,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:s,combineWith:l,combineTargetFor:null})),n=ji((a,r,s,l,c=null,d=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:r,offset:a,dimension:s,forceShouldAnimate:f,snapshot:t(r,l,c,d,null)}}));return(a,r)=>{if(nv(a)){if(a.critical.draggable.id!==r.draggableId)return null;const s=a.current.client.offset,l=a.dimensions.draggables[r.draggableId],c=Er(a.impact),d=Rft(a.impact),f=a.forceShouldAnimate;return n(e(s.x,s.y),a.movementMode,l,r.isClone,c,d,f)}if(a.phase==="DROP_ANIMATING"){const s=a.completed;if(s.result.draggableId!==r.draggableId)return null;const l=r.isClone,c=a.dimensions.draggables[r.draggableId],d=s.result,f=d.mode,m=$F(d),v=Tft(d),x={duration:a.dropDuration,curve:BT.drop,moveTo:a.newHomeClientOffset,opacity:v?tv.opacity.drop:null,scale:v?tv.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:c,dropping:x,draggingOver:m,combineWith:v,mode:f,forceShouldAnimate:null,snapshot:t(f,l,m,v,x)}}}return null}}function WF(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const Dft={mapped:{type:"SECONDARY",offset:Fi,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:WF(null)}};function Oft(){const e=ji((s,l)=>({x:s,y:l})),t=ji(WF),n=ji((s,l=null,c)=>({mapped:{type:"SECONDARY",offset:s,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),i=s=>s?n(Fi,s,!0):null,a=(s,l,c,d)=>{const f=c.displaced.visible[s],m=!!(d.inVirtualList&&d.effected[s]),v=kx(c),y=v&&v.draggableId===s?l:null;if(!f){if(!m)return i(y);if(c.displaced.invisible[s])return null;const E=Np(d.displacedBy.point),R=e(E.x,E.y);return n(R,y,!0)}if(m)return i(y);const x=c.displacedBy.point,_=e(x.x,x.y);return n(_,y,f.shouldAnimate)};return(s,l)=>{if(nv(s))return s.critical.draggable.id===l.draggableId?null:a(l.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){const c=s.completed;return c.result.draggableId===l.draggableId?null:a(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const Nft=()=>{const e=Mft(),t=Oft();return(i,a)=>e(i,a)||t(i,a)||Dft},Pft={dropAnimationFinished:RF},Lft=Jj(Nft,Pft,null,{context:GT,areStatePropsEqual:XF})(Cft);function QF(e){return P1(YT).isUsingCloneFor===e.draggableId&&!e.isClone?null:Y.createElement(Lft,e)}function ZF(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,i=!!e.shouldRespectForcePress;return Y.createElement(QF,R1({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:i}))}const JF=e=>t=>e===t,kft=JF("scroll"),jft=JF("auto"),o9=(e,t)=>t(e.overflowX)||t(e.overflowY),Fft=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return o9(n,kft)||o9(n,jft)},Bft=()=>!1,tB=e=>e==null?null:e===document.body?Bft()?e:null:e===document.documentElement?null:Fft(e)?e:tB(e.parentElement);var rC=e=>({x:e.scrollLeft,y:e.scrollTop});const eB=e=>e?window.getComputedStyle(e).position==="fixed"?!0:eB(e.parentElement):!1;var Ift=e=>{const t=tB(e),n=eB(e);return{closestScrollable:t,isFixedOnPage:n}},zft=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:i,direction:a,client:r,page:s,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:v,client:y}=l,x=NF({scrollHeight:v.scrollHeight,scrollWidth:v.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:y,scrollSize:v,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:x,diff:{value:Fi,displacement:Fi}}}})(),d=a==="vertical"?OT:dF,f=gp({page:s,withPlaceholder:null,axis:d,frame:c});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:i,axis:d,isEnabled:t,client:r,page:s,frame:c,subject:f}};const Uft=(e,t)=>{const n=eF(e);if(!t||e!==t)return n;const i=n.paddingBox.top-t.scrollTop,a=n.paddingBox.left-t.scrollLeft,r=i+t.scrollHeight,s=a+t.scrollWidth,c=TT({top:i,right:s,bottom:r,left:a},n.border);return RT({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var Hft=({ref:e,descriptor:t,env:n,windowScroll:i,direction:a,isDropDisabled:r,isCombineEnabled:s,shouldClipSubject:l})=>{const c=n.closestScrollable,d=Uft(e,c),f=T1(d,i),m=(()=>{if(!c)return null;const y=eF(c),x={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:y,page:T1(y,i),scroll:rC(c),scrollSize:x,shouldClipSubject:l}})();return zft({descriptor:t,isEnabled:!r,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:a,client:d,page:f,closest:m})};const Gft={passive:!1},qft={passive:!0};var l9=e=>e.shouldPublishImmediately?Gft:qft;const Mb=e=>e&&e.env.closestScrollable||null;function Vft(e){const t=j.useRef(null),n=P1(Ix),i=qT("droppable"),{registry:a,marshal:r}=n,s=UF(e),l=We(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=j.useRef(l),d=We(()=>ji((M,D)=>{t.current||kt();const P={x:M,y:D};r.updateDroppableScroll(l.id,P)}),[l.id,r]),f=Qt(()=>{const M=t.current;return!M||!M.env.closestScrollable?Fi:rC(M.env.closestScrollable)},[]),m=Qt(()=>{const M=f();d(M.x,M.y)},[f,d]),v=We(()=>W0(m),[m]),y=Qt(()=>{const M=t.current,D=Mb(M);if(M&&D||kt(),M.scrollOptions.shouldPublishImmediately){m();return}v()},[v,m]),x=Qt((M,D)=>{t.current&&kt();const P=s.current,z=P.getDroppableRef();z||kt();const L=Ift(z),U={ref:z,descriptor:l,env:L,scrollOptions:D};t.current=U;const I=Hft({ref:z,descriptor:l,env:L,windowScroll:M,direction:P.direction,isDropDisabled:P.isDropDisabled,isCombineEnabled:P.isCombineEnabled,shouldClipSubject:!P.ignoreContainerClipping}),q=L.closestScrollable;return q&&(q.setAttribute(n9.contextId,n.contextId),q.addEventListener("scroll",y,l9(U.scrollOptions))),I},[n.contextId,l,y,s]),_=Qt(()=>{const M=t.current,D=Mb(M);return M&&D||kt(),rC(D)},[]),E=Qt(()=>{const M=t.current;M||kt();const D=Mb(M);t.current=null,D&&(v.cancel(),D.removeAttribute(n9.contextId),D.removeEventListener("scroll",y,l9(M.scrollOptions)))},[y,v]),R=Qt(M=>{const D=t.current;D||kt();const P=Mb(D);P||kt(),P.scrollTop+=M.y,P.scrollLeft+=M.x},[]),A=We(()=>({getDimensionAndWatchScroll:x,getScrollWhileDragging:_,dragStopped:E,scroll:R}),[E,x,_,R]),w=We(()=>({uniqueId:i,descriptor:l,callbacks:A}),[A,l,i]);Ar(()=>(c.current=w.descriptor,a.droppable.register(w),()=>{t.current&&E(),a.droppable.unregister(w)}),[A,l,E,w,r,a.droppable]),Ar(()=>{t.current&&r.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,r]),Ar(()=>{t.current&&r.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,r])}function ME(){}const c9={width:0,height:0,margin:Jct},Yft=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?c9:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},Kft=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const i=Yft({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?N0.placeholder:null}},Xft=e=>{const t=j.useRef(null),n=Qt(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:i,onTransitionEnd:a,onClose:r,contextId:s}=e,[l,c]=j.useState(e.animate==="open");j.useEffect(()=>l?i!=="open"?(n(),c(!1),ME):t.current?ME:(t.current=setTimeout(()=>{t.current=null,c(!1)}),n):ME,[i,l,n]);const d=Qt(m=>{m.propertyName==="height"&&(a(),i==="close"&&r())},[i,r,a]),f=Kft({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return Y.createElement(e.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":s,onTransitionEnd:d,ref:e.innerRef})};var $ft=Y.memo(Xft);class Wft extends Y.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const Qft=e=>{const t=j.useContext(Ix);t||kt();const{contextId:n,isMovementAllowed:i}=t,a=j.useRef(null),r=j.useRef(null),{children:s,droppableId:l,type:c,mode:d,direction:f,ignoreContainerClipping:m,isDropDisabled:v,isCombineEnabled:y,snapshot:x,useClone:_,updateViewportMaxScroll:E,getContainerForClone:R}=e,A=Qt(()=>a.current,[]),w=Qt((q=null)=>{a.current=q},[]);Qt(()=>r.current,[]);const M=Qt((q=null)=>{r.current=q},[]),D=Qt(()=>{i()&&E({maxScroll:LF()})},[i,E]);Vft({droppableId:l,type:c,mode:d,direction:f,isDropDisabled:v,isCombineEnabled:y,ignoreContainerClipping:m,getDroppableRef:A});const P=We(()=>Y.createElement(Wft,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:q,data:J,animate:it})=>Y.createElement($ft,{placeholder:J,onClose:q,innerRef:M,animate:it,contextId:n,onTransitionEnd:D})),[n,D,e.placeholder,e.shouldAnimatePlaceholder,M]),z=We(()=>({innerRef:w,placeholder:P,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,P,w]),L=_?_.dragging.draggableId:null,U=We(()=>({droppableId:l,type:c,isUsingCloneFor:L}),[l,L,c]);function I(){if(!_)return null;const{dragging:q,render:J}=_,it=Y.createElement(QF,{draggableId:q.draggableId,index:q.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(at,et)=>J(at,et,q));return Wz.createPortal(it,R())}return Y.createElement(YT.Provider,{value:U},s(z,x),I())};function Zft(){return document.body||kt(),document.body}const u9={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Zft},nB=e=>{let t={...e},n;for(n in u9)e[n]===void 0&&(t={...t,[n]:u9[n]});return t},DE=(e,t)=>e===t.droppable.type,d9=(e,t)=>t.draggables[e.draggable.id],Jft=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=ji(r=>({draggableId:r.id,type:r.type,source:{index:r.index,droppableId:r.droppableId}})),i=ji((r,s,l,c,d,f)=>{const m=d.descriptor.id;if(d.descriptor.droppableId===r){const x=f?{render:f,dragging:n(d.descriptor)}:null,_={isDraggingOver:l,draggingOverWith:l?m:null,draggingFromThisWith:m,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:_,useClone:x}}if(!s)return t;if(!c)return e;const y={isDraggingOver:l,draggingOverWith:m,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}});return(r,s)=>{const l=nB(s),c=l.droppableId,d=l.type,f=!l.isDropDisabled,m=l.renderClone;if(nv(r)){const v=r.critical;if(!DE(d,v))return t;const y=d9(v,r.dimensions),x=Er(r.impact)===c;return i(c,f,x,x,y,m)}if(r.phase==="DROP_ANIMATING"){const v=r.completed;if(!DE(d,v.critical))return t;const y=d9(v.critical,r.dimensions);return i(c,f,$F(v.result)===c,Er(v.impact)===c,y,m)}if(r.phase==="IDLE"&&r.completed&&!r.shouldFlush){const v=r.completed;if(!DE(d,v.critical))return t;const y=Er(v.impact)===c,x=!!(v.impact.at&&v.impact.at.type==="COMBINE"),_=v.critical.droppable.id===c;return y?x?e:t:_?e:t}return t}},tpt={updateViewportMaxScroll:ddt},iB=Jj(Jft,tpt,(e,t,n)=>({...nB(n),...e,...t}),{context:GT,areStatePropsEqual:XF})(Qft);function ept({obj:e,idx:t,layerLocked:n,selectedShapeIds:i,setSelectedShape:a,toggleShapeVisibility:r,removeShape:s,editingId:l,setEditingId:c,editingValue:d,setEditingValue:f,handleRenameShape:m,objects:v}){return F.jsx(ZF,{draggableId:e.id,isDragDisabled:n,index:t,children:y=>F.jsxs("li",{ref:y.innerRef,...y.draggableProps,...y.dragHandleProps,onClick:x=>{x.stopPropagation(),a(e.id)},className:Gn("flex items-center group rounded px-2 py-1 transition",{"bg-blue-600 text-white font-bold shadow":i.includes(e.id),"hover:bg-blue-800":!i.includes(e.id)}),children:[F.jsxs("div",{className:"flex-1 flex items-center gap-2 truncate",children:[F.jsx("button",{className:"hover:text-blue-300 transition",onClick:x=>{x.stopPropagation(),r(e.id)},children:e.visible!==!1?F.jsx(Vd,{size:15}):F.jsx(up,{size:15})}),F.jsx("span",{className:"text-xs truncate",onDoubleClick:x=>{x.stopPropagation(),c(e.id),f(e.name||e.type||e.id.slice(0,8))},onTouchStart:x=>{let _=setTimeout(()=>{c(e.id),f(e.name||e.type||e.id.slice(0,8))},500);x.target.ontouchend=()=>clearTimeout(_),x.target.ontouchmove=()=>clearTimeout(_)},children:l===e.id?F.jsx("input",{autoFocus:!0,value:d,onChange:x=>f(x.target.value),onBlur:()=>m(e.id),onKeyDown:x=>{x.key==="Enter"&&m(e.id),x.key==="Escape"&&(c(null),f(""))},className:"px-2 py-1 text-xs bg-slate-800 rounded text-white w-24",style:{minWidth:60,maxWidth:180}}):e.name||e.type||e.id.slice(0,8)})]}),!n&&F.jsxs(F.Fragment,{children:[F.jsx("button",{className:"ml-2 text-blue-300 hover:text-blue-500 p-1 rounded disabled:opacity-30",title:"Subir",onClick:()=>Pt.getState().bringShapeForward(e.id),disabled:t===v.length-1,children:F.jsx(k0,{size:18})}),F.jsx("button",{className:"ml-1 text-blue-300 hover:text-blue-500 p-1 rounded disabled:opacity-30",title:"Bajar",onClick:()=>Pt.getState().sendShapeBackward(e.id),disabled:t===0,children:F.jsx(Jb,{size:18})}),F.jsx("button",{className:"ml-2 text-red-400 hover:text-red-600",title:"Eliminar elemento",onClick:()=>s(e.id),children:F.jsx(EC,{size:18})})]})]})},e.id)}function npt({layer:e,idx:t,isActive:n,isOpen:i,objects:a,layers:r,selectedShapeIds:s,setActiveLayer:l,setEditingId:c,editingId:d,editingValue:f,setEditingValue:m,handleRenameLayer:v,moveLayerUp:y,moveLayerDown:x,toggleLayerVisibility:_,toggleLayerLock:E,removeLayer:R,setLayerOpacity:A,toggleLayerOpen:w,setSelectedShape:M,toggleShapeVisibility:D,removeShape:P,handleRenameShape:z}){const L=e.locked;return F.jsx(ZF,{draggableId:e.id,isDragDisabled:L,index:t,children:U=>F.jsxs("li",{ref:U.innerRef,...U.draggableProps,...U.dragHandleProps,className:Gn("rounded-xl p-3 border shadow group transition-all duration-200 relative",{"bg-blue-950/70 border-blue-600 shadow-lg":n,"bg-slate-800/60 border-slate-700 hover:bg-slate-800/80":!n,"ring-2 ring-blue-500/70":n}),tabIndex:0,onClick:()=>l(e.id),children:[F.jsxs("div",{className:"flex items-center justify-between",children:[F.jsx("span",{onDoubleClick:I=>{I.stopPropagation(),c(e.id),m(e.name)},onTouchStart:I=>{let q=setTimeout(()=>{c(e.id),m(e.name)},500);I.target.ontouchend=()=>clearTimeout(q),I.target.ontouchmove=()=>clearTimeout(q)},children:d===e.id?F.jsx("input",{autoFocus:!0,value:f,onChange:I=>m(I.target.value),onBlur:()=>v(e.id),onKeyDown:I=>{I.key==="Enter"&&v(e.id),I.key==="Escape"&&(c(null),m(""))},className:"px-2 py-1 bg-slate-800 rounded text-white w-32",style:{minWidth:80,maxWidth:180}}):e.name}),F.jsx("div",{className:"flex items-center gap-2 w-fit",children:!e.locked&&F.jsxs(F.Fragment,{children:[F.jsx("button",{className:"p-1 hover:bg-blue-800/40 rounded",onClick:I=>{I.stopPropagation(),y(e.id)},disabled:t===0,children:F.jsx(Jb,{size:16})}),F.jsx("button",{className:"p-1 hover:bg-blue-800/40 rounded",onClick:I=>{I.stopPropagation(),x(e.id)},disabled:t===r.length-1,children:F.jsx(k0,{size:16})})]})})]}),F.jsxs("div",{className:"flex items-center justify-between mt-2",children:[F.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[F.jsx("button",{className:"hover:text-blue-300 transition",onClick:I=>{I.stopPropagation(),_(e.id)},children:e.visible?F.jsx(Vd,{size:17}):F.jsx(up,{size:17})}),F.jsx("button",{className:"hover:text-blue-300 transition",onClick:I=>{I.stopPropagation(),E(e.id)},children:e.locked?F.jsx(e1,{size:17}):F.jsx(eH,{size:17})})]}),F.jsx("div",{className:"flex items-center gap-1",children:!e.locked&&F.jsx("button",{onClick:I=>{I.stopPropagation(),window.confirm("¿Eliminar capa y todos sus objetos?")&&R(e.id)},title:"Eliminar capa",className:"ml-2 text-red-400 hover:text-red-600",children:F.jsx(EC,{size:17})})})]}),F.jsxs("div",{className:"mt-3 flex flex-col gap-2 text-xs opacity-80",children:[F.jsxs("div",{className:"flex items-center justify-between flex-1",children:[F.jsx("span",{children:"Opacidad"}),F.jsxs("span",{children:[e.opacity?Math.round(e.opacity*100):100,"%"]})]}),F.jsx("div",{className:"flex items-center gap-2",children:F.jsx("input",{type:"range",min:10,max:100,step:1,value:e.opacity?e.opacity*100:100,onChange:I=>A(e.id,Number(I.target.value)/100),className:"flex-1 accent-blue-500 bg-transparent",style:{accentColor:"#3b82f6",width:80}})})]}),F.jsxs("button",{className:"p-1 px-2 flex items-center gap-2 text-xs mt-1 rounded hover:bg-blue-800 transition",onClick:I=>{I.stopPropagation(),w(e.id)},children:[i?F.jsx(k0,{size:17}):F.jsx(yU,{size:17}),F.jsxs("span",{children:[a.length," objetos"]})]}),i&&F.jsx(iB,{droppableId:e.id,type:"shape",children:I=>F.jsxs("ul",{ref:I.innerRef,...I.droppableProps,className:"ml-7 mt-2 space-y-1",children:[a.map((q,J)=>F.jsx(ept,{obj:q,idx:J,layerLocked:L,selectedShapeIds:s,setSelectedShape:M,toggleShapeVisibility:D,removeShape:P,editingId:d,setEditingId:c,editingValue:f,setEditingValue:m,handleRenameShape:z,objects:a},q.id)),I.placeholder]})})]})},e.id)}function ipt(){const[e,t]=j.useState([]),n=j.useCallback(a=>{t(r=>r.includes(a)?r.filter(s=>s!==a):[...r,a])},[]),i=j.useCallback(a=>e.includes(a),[e]);return{openLayers:e,toggleLayerOpen:n,isLayerOpen:i}}function apt(){const[e,t]=j.useState(null),[n,i]=j.useState(""),a=Pt(I=>I.layers),r=Pt(I=>I.activeLayerId),s=Pt(I=>I.setActiveLayer),l=Pt(I=>I.toggleLayerVisibility),c=Pt(I=>I.toggleLayerLock),d=Pt(I=>I.addLayer),f=Pt(I=>I.removeLayer),m=Pt(I=>I.moveLayerUp),v=Pt(I=>I.moveLayerDown),y=Pt(I=>I.setLayerOpacity),x=Pt(I=>I.removeShape),_=Pt(I=>I.shapes),E=Pt(I=>I.selectedShapeIds),R=Pt(I=>I.setSelectedShape),A=Pt(I=>I.toggleShapeVisibility),w=Pt(I=>I.layersPanelVisible),M=lT({maxWidth:768}),{toggleLayerOpen:D,isLayerOpen:P}=ipt(),z=j.useCallback(I=>{const{destination:q,source:J,draggableId:it,type:at}=I;if(q){if(at==="layer"){if(J.index!==q.index){let et=J.index;for(;et>q.index;)Pt.getState().moveLayerUp(a[et].id),et--;for(;et<q.index;)Pt.getState().moveLayerDown(a[et].id),et++}return}if(at==="shape"){const et=J.droppableId,Z=q.droppableId,B=it;_.filter(W=>W.layerId===et);const V=_.filter(W=>W.layerId===Z);Pt.setState(W=>{let H=[...W.shapes];const K=H.findIndex(lt=>lt.id===B&&lt.layerId===et);if(K===-1)return{};const[nt]=H.splice(K,1);nt.layerId=Z;const $=H.findIndex((lt,yt)=>lt.layerId===Z&&V[q.index]&&lt.id===V[q.index].id);if($===-1||V.length===0){let lt=-1;for(let yt=H.length-1;yt>=0;yt--)if(H[yt].layerId===Z){lt=yt;break}H.splice(lt+1,0,nt)}else H.splice($,0,nt);return{shapes:H}})}}},[a,_]),L=I=>{n.trim()&&Pt.getState().renameLayer(I,n.trim()),t(null),i("")},U=I=>{n.trim()&&Pt.getState().renameShape(I,n.trim()),t(null),i("")};return F.jsx("div",{className:Gn("fixed z-50 transition-all duration-300",{"inset-x-0 mx-auto top-24":M,"top-24 left-24 md:left-4":!M,"pointer-events-none opacity-0 -translate-x-8":!w,"pointer-events-auto opacity-100 translate-x-0":w}),style:{width:M?"95vw":"23rem",minWidth:M?160:300,maxWidth:M?350:450,...M?{bottom:"auto",right:"auto"}:{}},children:F.jsxs("aside",{className:"w-full bg-slate-900/95 text-white shadow-2xl p-4 rounded-2xl border border-blue-900 backdrop-blur-lg",children:[F.jsxs("div",{className:"flex items-center justify-between mb-4",children:[F.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[F.jsx("span",{children:F.jsxs("svg",{className:"inline mr-1",width:22,height:22,fill:"none",stroke:"currentColor",strokeWidth:2,children:[F.jsx("rect",{x:"3",y:"6",width:"16",height:"13",rx:"2"}),F.jsx("rect",{x:"6",y:"3",width:"10",height:"4",rx:"2"})]})}),"Capas"]}),F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx("button",{onClick:()=>d(),title:"Agregar capa",className:"text-green-400 hover:text-green-300",children:F.jsx(t1,{size:22})}),F.jsx("button",{onClick:()=>Pt.getState().hideLayersPanel(),title:"Cerrar panel de capas",className:"ml-2 text-slate-400 hover:text-red-500 p-1 rounded transition",children:F.jsx(ov,{size:22})})]})]}),F.jsx("div",{className:"overflow-y-auto",style:{maxHeight:M?"55vh":"78dvh"},children:F.jsx(mft,{onDragEnd:z,children:F.jsx(iB,{droppableId:"LAYERS-DND",type:"layer",children:I=>F.jsxs("ul",{...I.droppableProps,ref:I.innerRef,className:Gn("space-y-4",{"space-y-2":M}),children:[a.map((q,J)=>{const it=q.id===r,at=_.filter(Z=>Z.layerId===q.id),et=P(q.id);return F.jsx(npt,{layer:q,idx:J,isActive:it,isOpen:et,objects:at,layers:a,selectedShapeIds:E,setActiveLayer:s,setEditingId:t,editingId:e,editingValue:n,setEditingValue:i,handleRenameLayer:L,moveLayerUp:m,moveLayerDown:v,toggleLayerVisibility:l,toggleLayerLock:c,removeLayer:f,setLayerOpacity:y,toggleLayerOpen:D,setSelectedShape:R,toggleShapeVisibility:A,removeShape:x,handleRenameShape:U},q.id)}),I.placeholder]})})})})]})})}var Wb={exports:{}},_m={},OE={},NE={},h9;function Oe(){return h9||(h9=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e.Konva=e.glob=void 0;const t=Math.PI/180;function n(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}e.glob=typeof Jf<"u"?Jf:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},e.Konva={_global:e.glob,version:"9.3.21",isBrowser:n(),isUnminified:/param/.test((function(a){}).toString()),dblClickWindow:400,getAngle(a){return e.Konva.angleDeg?a*t:a},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return e.Konva.DD.isDragging},isTransforming(){var a;return(a=e.Konva.Transformer)===null||a===void 0?void 0:a.isTransforming()},isDragReady(){return!!e.Konva.DD.node},releaseCanvasOnDestroy:!0,document:e.glob.document,_injectGlobal(a){e.glob.Konva=a}};const i=a=>{e.Konva[a.prototype.getClassName()]=a};e._registerNode=i,e.Konva._injectGlobal(e.Konva)}(NE)),NE}var PE={},f9;function Zn(){return f9||(f9=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=void 0;const t=Oe();class n{constructor(M=[1,0,0,1,0,0]){this.dirty=!1,this.m=M&&M.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(M){M.m[0]=this.m[0],M.m[1]=this.m[1],M.m[2]=this.m[2],M.m[3]=this.m[3],M.m[4]=this.m[4],M.m[5]=this.m[5]}point(M){const D=this.m;return{x:D[0]*M.x+D[2]*M.y+D[4],y:D[1]*M.x+D[3]*M.y+D[5]}}translate(M,D){return this.m[4]+=this.m[0]*M+this.m[2]*D,this.m[5]+=this.m[1]*M+this.m[3]*D,this}scale(M,D){return this.m[0]*=M,this.m[1]*=M,this.m[2]*=D,this.m[3]*=D,this}rotate(M){const D=Math.cos(M),P=Math.sin(M),z=this.m[0]*D+this.m[2]*P,L=this.m[1]*D+this.m[3]*P,U=this.m[0]*-P+this.m[2]*D,I=this.m[1]*-P+this.m[3]*D;return this.m[0]=z,this.m[1]=L,this.m[2]=U,this.m[3]=I,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(M,D){const P=this.m[0]+this.m[2]*D,z=this.m[1]+this.m[3]*D,L=this.m[2]+this.m[0]*M,U=this.m[3]+this.m[1]*M;return this.m[0]=P,this.m[1]=z,this.m[2]=L,this.m[3]=U,this}multiply(M){const D=this.m[0]*M.m[0]+this.m[2]*M.m[1],P=this.m[1]*M.m[0]+this.m[3]*M.m[1],z=this.m[0]*M.m[2]+this.m[2]*M.m[3],L=this.m[1]*M.m[2]+this.m[3]*M.m[3],U=this.m[0]*M.m[4]+this.m[2]*M.m[5]+this.m[4],I=this.m[1]*M.m[4]+this.m[3]*M.m[5]+this.m[5];return this.m[0]=D,this.m[1]=P,this.m[2]=z,this.m[3]=L,this.m[4]=U,this.m[5]=I,this}invert(){const M=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),D=this.m[3]*M,P=-this.m[1]*M,z=-this.m[2]*M,L=this.m[0]*M,U=M*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),I=M*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=D,this.m[1]=P,this.m[2]=z,this.m[3]=L,this.m[4]=U,this.m[5]=I,this}getMatrix(){return this.m}decompose(){const M=this.m[0],D=this.m[1],P=this.m[2],z=this.m[3],L=this.m[4],U=this.m[5],I=M*z-D*P,q={x:L,y:U,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(M!=0||D!=0){const J=Math.sqrt(M*M+D*D);q.rotation=D>0?Math.acos(M/J):-Math.acos(M/J),q.scaleX=J,q.scaleY=I/J,q.skewX=(M*P+D*z)/I,q.skewY=0}else if(P!=0||z!=0){const J=Math.sqrt(P*P+z*z);q.rotation=Math.PI/2-(z>0?Math.acos(-P/J):-Math.acos(P/J)),q.scaleX=I/J,q.scaleY=J,q.skewX=0,q.skewY=(M*P+D*z)/I}return q.rotation=e.Util._getRotation(q.rotation),q}}e.Transform=n;const i="[object Array]",a="[object Number]",r="[object String]",s="[object Boolean]",l=Math.PI/180,c=180/Math.PI,d="#",f="",m="0",v="Konva warning: ",y="Konva error: ",x="rgb(",_={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},E=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let R=[];const A=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(w){setTimeout(w,60)};e.Util={_isElement(w){return!!(w&&w.nodeType==1)},_isFunction(w){return!!(w&&w.constructor&&w.call&&w.apply)},_isPlainObject(w){return!!w&&w.constructor===Object},_isArray(w){return Object.prototype.toString.call(w)===i},_isNumber(w){return Object.prototype.toString.call(w)===a&&!isNaN(w)&&isFinite(w)},_isString(w){return Object.prototype.toString.call(w)===r},_isBoolean(w){return Object.prototype.toString.call(w)===s},isObject(w){return w instanceof Object},isValidSelector(w){if(typeof w!="string")return!1;const M=w[0];return M==="#"||M==="."||M===M.toUpperCase()},_sign(w){return w===0||w>0?1:-1},requestAnimFrame(w){R.push(w),R.length===1&&A(function(){const M=R;R=[],M.forEach(function(D){D()})})},createCanvasElement(){const w=document.createElement("canvas");try{w.style=w.style||{}}catch{}return w},createImageElement(){return document.createElement("img")},_isInDocument(w){for(;w=w.parentNode;)if(w==document)return!0;return!1},_urlToImage(w,M){const D=e.Util.createImageElement();D.onload=function(){M(D)},D.src=w},_rgbToHex(w,M,D){return((1<<24)+(w<<16)+(M<<8)+D).toString(16).slice(1)},_hexToRgb(w){w=w.replace(d,f);const M=parseInt(w,16);return{r:M>>16&255,g:M>>8&255,b:M&255}},getRandomColor(){let w=(Math.random()*16777215<<0).toString(16);for(;w.length<6;)w=m+w;return d+w},getRGB(w){let M;return w in _?(M=_[w],{r:M[0],g:M[1],b:M[2]}):w[0]===d?this._hexToRgb(w.substring(1)):w.substr(0,4)===x?(M=E.exec(w.replace(/ /g,"")),{r:parseInt(M[1],10),g:parseInt(M[2],10),b:parseInt(M[3],10)}):{r:0,g:0,b:0}},colorToRGBA(w){return w=w||"black",e.Util._namedColorToRBA(w)||e.Util._hex3ColorToRGBA(w)||e.Util._hex4ColorToRGBA(w)||e.Util._hex6ColorToRGBA(w)||e.Util._hex8ColorToRGBA(w)||e.Util._rgbColorToRGBA(w)||e.Util._rgbaColorToRGBA(w)||e.Util._hslColorToRGBA(w)},_namedColorToRBA(w){const M=_[w.toLowerCase()];return M?{r:M[0],g:M[1],b:M[2],a:1}:null},_rgbColorToRGBA(w){if(w.indexOf("rgb(")===0){w=w.match(/rgb\(([^)]+)\)/)[1];const M=w.split(/ *, */).map(Number);return{r:M[0],g:M[1],b:M[2],a:1}}},_rgbaColorToRGBA(w){if(w.indexOf("rgba(")===0){w=w.match(/rgba\(([^)]+)\)/)[1];const M=w.split(/ *, */).map((D,P)=>D.slice(-1)==="%"?P===3?parseInt(D)/100:parseInt(D)/100*255:Number(D));return{r:M[0],g:M[1],b:M[2],a:M[3]}}},_hex8ColorToRGBA(w){if(w[0]==="#"&&w.length===9)return{r:parseInt(w.slice(1,3),16),g:parseInt(w.slice(3,5),16),b:parseInt(w.slice(5,7),16),a:parseInt(w.slice(7,9),16)/255}},_hex6ColorToRGBA(w){if(w[0]==="#"&&w.length===7)return{r:parseInt(w.slice(1,3),16),g:parseInt(w.slice(3,5),16),b:parseInt(w.slice(5,7),16),a:1}},_hex4ColorToRGBA(w){if(w[0]==="#"&&w.length===5)return{r:parseInt(w[1]+w[1],16),g:parseInt(w[2]+w[2],16),b:parseInt(w[3]+w[3],16),a:parseInt(w[4]+w[4],16)/255}},_hex3ColorToRGBA(w){if(w[0]==="#"&&w.length===4)return{r:parseInt(w[1]+w[1],16),g:parseInt(w[2]+w[2],16),b:parseInt(w[3]+w[3],16),a:1}},_hslColorToRGBA(w){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(w)){const[M,...D]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(w),P=Number(D[0])/360,z=Number(D[1])/100,L=Number(D[2])/100;let U,I,q;if(z===0)return q=L*255,{r:Math.round(q),g:Math.round(q),b:Math.round(q),a:1};L<.5?U=L*(1+z):U=L+z-L*z;const J=2*L-U,it=[0,0,0];for(let at=0;at<3;at++)I=P+1/3*-(at-1),I<0&&I++,I>1&&I--,6*I<1?q=J+(U-J)*6*I:2*I<1?q=U:3*I<2?q=J+(U-J)*(2/3-I)*6:q=J,it[at]=q*255;return{r:Math.round(it[0]),g:Math.round(it[1]),b:Math.round(it[2]),a:1}}},haveIntersection(w,M){return!(M.x>w.x+w.width||M.x+M.width<w.x||M.y>w.y+w.height||M.y+M.height<w.y)},cloneObject(w){const M={};for(const D in w)this._isPlainObject(w[D])?M[D]=this.cloneObject(w[D]):this._isArray(w[D])?M[D]=this.cloneArray(w[D]):M[D]=w[D];return M},cloneArray(w){return w.slice(0)},degToRad(w){return w*l},radToDeg(w){return w*c},_degToRad(w){return e.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),e.Util.degToRad(w)},_radToDeg(w){return e.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),e.Util.radToDeg(w)},_getRotation(w){return t.Konva.angleDeg?e.Util.radToDeg(w):w},_capitalize(w){return w.charAt(0).toUpperCase()+w.slice(1)},throw(w){throw new Error(y+w)},error(w){console.error(y+w)},warn(w){t.Konva.showWarnings&&console.warn(v+w)},each(w,M){for(const D in w)M(D,w[D])},_inRange(w,M,D){return M<=w&&w<D},_getProjectionToSegment(w,M,D,P,z,L){let U,I,q;const J=(w-D)*(w-D)+(M-P)*(M-P);if(J==0)U=w,I=M,q=(z-D)*(z-D)+(L-P)*(L-P);else{const it=((z-w)*(D-w)+(L-M)*(P-M))/J;it<0?(U=w,I=M,q=(w-z)*(w-z)+(M-L)*(M-L)):it>1?(U=D,I=P,q=(D-z)*(D-z)+(P-L)*(P-L)):(U=w+it*(D-w),I=M+it*(P-M),q=(U-z)*(U-z)+(I-L)*(I-L))}return[U,I,q]},_getProjectionToLine(w,M,D){const P=e.Util.cloneObject(w);let z=Number.MAX_VALUE;return M.forEach(function(L,U){if(!D&&U===M.length-1)return;const I=M[(U+1)%M.length],q=e.Util._getProjectionToSegment(L.x,L.y,I.x,I.y,w.x,w.y),J=q[0],it=q[1],at=q[2];at<z&&(P.x=J,P.y=it,z=at)}),P},_prepareArrayForTween(w,M,D){const P=[],z=[];if(w.length>M.length){const U=M;M=w,w=U}for(let U=0;U<w.length;U+=2)P.push({x:w[U],y:w[U+1]});for(let U=0;U<M.length;U+=2)z.push({x:M[U],y:M[U+1]});const L=[];return z.forEach(function(U){const I=e.Util._getProjectionToLine(U,P,D);L.push(I.x),L.push(I.y)}),L},_prepareToStringify(w){let M;w.visitedByCircularReferenceRemoval=!0;for(const D in w)if(w.hasOwnProperty(D)&&w[D]&&typeof w[D]=="object"){if(M=Object.getOwnPropertyDescriptor(w,D),w[D].visitedByCircularReferenceRemoval||e.Util._isElement(w[D]))if(M.configurable)delete w[D];else return null;else if(e.Util._prepareToStringify(w[D])===null)if(M.configurable)delete w[D];else return null}return delete w.visitedByCircularReferenceRemoval,w},_assign(w,M){for(const D in M)w[D]=M[D];return w},_getFirstPointerId(w){return w.touches?w.changedTouches[0].identifier:w.pointerId||999},releaseCanvas(...w){t.Konva.releaseCanvasOnDestroy&&w.forEach(M=>{M.width=0,M.height=0})},drawRoundedRectPath(w,M,D,P){let z=0,L=0,U=0,I=0;typeof P=="number"?z=L=U=I=Math.min(P,M/2,D/2):(z=Math.min(P[0]||0,M/2,D/2),L=Math.min(P[1]||0,M/2,D/2),I=Math.min(P[2]||0,M/2,D/2),U=Math.min(P[3]||0,M/2,D/2)),w.moveTo(z,0),w.lineTo(M-L,0),w.arc(M-L,L,L,Math.PI*3/2,0,!1),w.lineTo(M,D-I),w.arc(M-I,D-I,I,0,Math.PI/2,!1),w.lineTo(U,D),w.arc(U,D-U,U,Math.PI/2,Math.PI,!1),w.lineTo(0,z),w.arc(z,z,z,Math.PI,Math.PI*3/2,!1)}}}(PE)),PE}var wm={},zl={},Ul={},p9;function aB(){if(p9)return Ul;p9=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.HitContext=Ul.SceneContext=Ul.Context=void 0;const e=Zn(),t=Oe();function n(R){const A=[],w=R.length,M=e.Util;for(let D=0;D<w;D++){let P=R[D];M._isNumber(P)?P=Math.round(P*1e3)/1e3:M._isString(P)||(P=P+""),A.push(P)}return A}const i=",",a="(",r=")",s="([",l="])",c=";",d="()",f="=",m=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],v=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],y=100;let x=class{constructor(A){this.canvas=A,t.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(A){A.fillEnabled()&&this._fill(A)}_fill(A){}strokeShape(A){A.hasStroke()&&this._stroke(A)}_stroke(A){}fillStrokeShape(A){A.attrs.fillAfterStrokeEnabled?(this.strokeShape(A),this.fillShape(A)):(this.fillShape(A),this.strokeShape(A))}getTrace(A,w){let M=this.traceArr,D=M.length,P="",z,L,U,I;for(z=0;z<D;z++)L=M[z],U=L.method,U?(I=L.args,P+=U,A?P+=d:e.Util._isArray(I[0])?P+=s+I.join(i)+l:(w&&(I=I.map(q=>typeof q=="number"?Math.floor(q):q)),P+=a+I.join(i)+r)):(P+=L.property,A||(P+=f+L.val)),P+=c;return P}clearTrace(){this.traceArr=[]}_trace(A){let w=this.traceArr,M;w.push(A),M=w.length,M>=y&&w.shift()}reset(){const A=this.getCanvas().getPixelRatio();this.setTransform(1*A,0,0,1*A,0,0)}getCanvas(){return this.canvas}clear(A){const w=this.getCanvas();A?this.clearRect(A.x||0,A.y||0,A.width||0,A.height||0):this.clearRect(0,0,w.getWidth()/w.pixelRatio,w.getHeight()/w.pixelRatio)}_applyLineCap(A){const w=A.attrs.lineCap;w&&this.setAttr("lineCap",w)}_applyOpacity(A){const w=A.getAbsoluteOpacity();w!==1&&this.setAttr("globalAlpha",w)}_applyLineJoin(A){const w=A.attrs.lineJoin;w&&this.setAttr("lineJoin",w)}setAttr(A,w){this._context[A]=w}arc(A,w,M,D,P,z){this._context.arc(A,w,M,D,P,z)}arcTo(A,w,M,D,P){this._context.arcTo(A,w,M,D,P)}beginPath(){this._context.beginPath()}bezierCurveTo(A,w,M,D,P,z){this._context.bezierCurveTo(A,w,M,D,P,z)}clearRect(A,w,M,D){this._context.clearRect(A,w,M,D)}clip(...A){this._context.clip.apply(this._context,A)}closePath(){this._context.closePath()}createImageData(A,w){const M=arguments;if(M.length===2)return this._context.createImageData(A,w);if(M.length===1)return this._context.createImageData(A)}createLinearGradient(A,w,M,D){return this._context.createLinearGradient(A,w,M,D)}createPattern(A,w){return this._context.createPattern(A,w)}createRadialGradient(A,w,M,D,P,z){return this._context.createRadialGradient(A,w,M,D,P,z)}drawImage(A,w,M,D,P,z,L,U,I){const q=arguments,J=this._context;q.length===3?J.drawImage(A,w,M):q.length===5?J.drawImage(A,w,M,D,P):q.length===9&&J.drawImage(A,w,M,D,P,z,L,U,I)}ellipse(A,w,M,D,P,z,L,U){this._context.ellipse(A,w,M,D,P,z,L,U)}isPointInPath(A,w,M,D){return M?this._context.isPointInPath(M,A,w,D):this._context.isPointInPath(A,w,D)}fill(...A){this._context.fill.apply(this._context,A)}fillRect(A,w,M,D){this._context.fillRect(A,w,M,D)}strokeRect(A,w,M,D){this._context.strokeRect(A,w,M,D)}fillText(A,w,M,D){D?this._context.fillText(A,w,M,D):this._context.fillText(A,w,M)}measureText(A){return this._context.measureText(A)}getImageData(A,w,M,D){return this._context.getImageData(A,w,M,D)}lineTo(A,w){this._context.lineTo(A,w)}moveTo(A,w){this._context.moveTo(A,w)}rect(A,w,M,D){this._context.rect(A,w,M,D)}roundRect(A,w,M,D,P){this._context.roundRect(A,w,M,D,P)}putImageData(A,w,M){this._context.putImageData(A,w,M)}quadraticCurveTo(A,w,M,D){this._context.quadraticCurveTo(A,w,M,D)}restore(){this._context.restore()}rotate(A){this._context.rotate(A)}save(){this._context.save()}scale(A,w){this._context.scale(A,w)}setLineDash(A){this._context.setLineDash?this._context.setLineDash(A):"mozDash"in this._context?this._context.mozDash=A:"webkitLineDash"in this._context&&(this._context.webkitLineDash=A)}getLineDash(){return this._context.getLineDash()}setTransform(A,w,M,D,P,z){this._context.setTransform(A,w,M,D,P,z)}stroke(A){A?this._context.stroke(A):this._context.stroke()}strokeText(A,w,M,D){this._context.strokeText(A,w,M,D)}transform(A,w,M,D,P,z){this._context.transform(A,w,M,D,P,z)}translate(A,w){this._context.translate(A,w)}_enableTrace(){let A=this,w=m.length,M=this.setAttr,D,P;const z=function(L){let U=A[L],I;A[L]=function(){return P=n(Array.prototype.slice.call(arguments,0)),I=U.apply(A,arguments),A._trace({method:L,args:P}),I}};for(D=0;D<w;D++)z(m[D]);A.setAttr=function(){M.apply(A,arguments);const L=arguments[0];let U=arguments[1];(L==="shadowOffsetX"||L==="shadowOffsetY"||L==="shadowBlur")&&(U=U/this.canvas.getPixelRatio()),A._trace({property:L,val:U})}}_applyGlobalCompositeOperation(A){const w=A.attrs.globalCompositeOperation;!w||w==="source-over"||this.setAttr("globalCompositeOperation",w)}};Ul.Context=x,v.forEach(function(R){Object.defineProperty(x.prototype,R,{get(){return this._context[R]},set(A){this._context[R]=A}})});class _ extends x{constructor(A,{willReadFrequently:w=!1}={}){super(A),this._context=A._canvas.getContext("2d",{willReadFrequently:w})}_fillColor(A){const w=A.fill();this.setAttr("fillStyle",w),A._fillFunc(this)}_fillPattern(A){this.setAttr("fillStyle",A._getFillPattern()),A._fillFunc(this)}_fillLinearGradient(A){const w=A._getLinearGradient();w&&(this.setAttr("fillStyle",w),A._fillFunc(this))}_fillRadialGradient(A){const w=A._getRadialGradient();w&&(this.setAttr("fillStyle",w),A._fillFunc(this))}_fill(A){const w=A.fill(),M=A.getFillPriority();if(w&&M==="color"){this._fillColor(A);return}const D=A.getFillPatternImage();if(D&&M==="pattern"){this._fillPattern(A);return}const P=A.getFillLinearGradientColorStops();if(P&&M==="linear-gradient"){this._fillLinearGradient(A);return}const z=A.getFillRadialGradientColorStops();if(z&&M==="radial-gradient"){this._fillRadialGradient(A);return}w?this._fillColor(A):D?this._fillPattern(A):P?this._fillLinearGradient(A):z&&this._fillRadialGradient(A)}_strokeLinearGradient(A){const w=A.getStrokeLinearGradientStartPoint(),M=A.getStrokeLinearGradientEndPoint(),D=A.getStrokeLinearGradientColorStops(),P=this.createLinearGradient(w.x,w.y,M.x,M.y);if(D){for(let z=0;z<D.length;z+=2)P.addColorStop(D[z],D[z+1]);this.setAttr("strokeStyle",P)}}_stroke(A){const w=A.dash(),M=A.getStrokeScaleEnabled();if(A.hasStroke()){if(!M){this.save();const P=this.getCanvas().getPixelRatio();this.setTransform(P,0,0,P,0,0)}this._applyLineCap(A),w&&A.dashEnabled()&&(this.setLineDash(w),this.setAttr("lineDashOffset",A.dashOffset())),this.setAttr("lineWidth",A.strokeWidth()),A.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),A.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(A):this.setAttr("strokeStyle",A.stroke()),A._strokeFunc(this),M||this.restore()}}_applyShadow(A){var w,M,D;const P=(w=A.getShadowRGBA())!==null&&w!==void 0?w:"black",z=(M=A.getShadowBlur())!==null&&M!==void 0?M:5,L=(D=A.getShadowOffset())!==null&&D!==void 0?D:{x:0,y:0},U=A.getAbsoluteScale(),I=this.canvas.getPixelRatio(),q=U.x*I,J=U.y*I;this.setAttr("shadowColor",P),this.setAttr("shadowBlur",z*Math.min(Math.abs(q),Math.abs(J))),this.setAttr("shadowOffsetX",L.x*q),this.setAttr("shadowOffsetY",L.y*J)}}Ul.SceneContext=_;class E extends x{constructor(A){super(A),this._context=A._canvas.getContext("2d",{willReadFrequently:!0})}_fill(A){this.save(),this.setAttr("fillStyle",A.colorKey),A._fillFuncHit(this),this.restore()}strokeShape(A){A.hasHitStroke()&&this._stroke(A)}_stroke(A){if(A.hasHitStroke()){const w=A.getStrokeScaleEnabled();if(!w){this.save();const P=this.getCanvas().getPixelRatio();this.setTransform(P,0,0,P,0,0)}this._applyLineCap(A);const M=A.hitStrokeWidth(),D=M==="auto"?A.strokeWidth():M;this.setAttr("lineWidth",D),this.setAttr("strokeStyle",A.colorKey),A._strokeFuncHit(this),w||this.restore()}}}return Ul.HitContext=E,Ul}var g9;function Ux(){if(g9)return zl;g9=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.HitCanvas=zl.SceneCanvas=zl.Canvas=void 0;const e=Zn(),t=aB(),n=Oe();let i;function a(){if(i)return i;const c=e.Util.createCanvasElement(),d=c.getContext("2d");return i=function(){const f=n.Konva._global.devicePixelRatio||1,m=d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1;return f/m}(),e.Util.releaseCanvas(c),i}let r=class{constructor(d){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const m=(d||{}).pixelRatio||n.Konva.pixelRatio||a();this.pixelRatio=m,this._canvas=e.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(d){const f=this.pixelRatio;this.pixelRatio=d,this.setSize(this.getWidth()/f,this.getHeight()/f)}setWidth(d){this.width=this._canvas.width=d*this.pixelRatio,this._canvas.style.width=d+"px";const f=this.pixelRatio;this.getContext()._context.scale(f,f)}setHeight(d){this.height=this._canvas.height=d*this.pixelRatio,this._canvas.style.height=d+"px";const f=this.pixelRatio;this.getContext()._context.scale(f,f)}getWidth(){return this.width}getHeight(){return this.height}setSize(d,f){this.setWidth(d||0),this.setHeight(f||0)}toDataURL(d,f){try{return this._canvas.toDataURL(d,f)}catch{try{return this._canvas.toDataURL()}catch(v){return e.Util.error("Unable to get data URL. "+v.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};zl.Canvas=r;class s extends r{constructor(d={width:0,height:0,willReadFrequently:!1}){super(d),this.context=new t.SceneContext(this,{willReadFrequently:d.willReadFrequently}),this.setSize(d.width,d.height)}}zl.SceneCanvas=s;class l extends r{constructor(d={width:0,height:0}){super(d),this.hitCanvas=!0,this.context=new t.HitContext(this),this.setSize(d.width,d.height)}}return zl.HitCanvas=l,zl}var LE={},m9;function KT(){return m9||(m9=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;const t=Oe(),n=Zn();e.DD={get isDragging(){let i=!1;return e.DD._dragElements.forEach(a=>{a.dragStatus==="dragging"&&(i=!0)}),i},justDragged:!1,get node(){let i;return e.DD._dragElements.forEach(a=>{i=a.node}),i},_dragElements:new Map,_drag(i){const a=[];e.DD._dragElements.forEach((r,s)=>{const{node:l}=r,c=l.getStage();c.setPointersPositions(i),r.pointerId===void 0&&(r.pointerId=n.Util._getFirstPointerId(i));const d=c._changedPointerPositions.find(f=>f.id===r.pointerId);if(d){if(r.dragStatus!=="dragging"){const f=l.dragDistance();if(Math.max(Math.abs(d.x-r.startPointerPos.x),Math.abs(d.y-r.startPointerPos.y))<f||(l.startDrag({evt:i}),!l.isDragging()))return}l._setDragPosition(i,r),a.push(l)}}),a.forEach(r=>{r.fire("dragmove",{type:"dragmove",target:r,evt:i},!0)})},_endDragBefore(i){const a=[];e.DD._dragElements.forEach(r=>{const{node:s}=r,l=s.getStage();if(i&&l.setPointersPositions(i),!l._changedPointerPositions.find(f=>f.id===r.pointerId))return;(r.dragStatus==="dragging"||r.dragStatus==="stopped")&&(e.DD.justDragged=!0,t.Konva._mouseListenClick=!1,t.Konva._touchListenClick=!1,t.Konva._pointerListenClick=!1,r.dragStatus="stopped");const d=r.node.getLayer()||r.node instanceof t.Konva.Stage&&r.node;d&&a.indexOf(d)===-1&&a.push(d)}),a.forEach(r=>{r.draw()})},_endDragAfter(i){e.DD._dragElements.forEach((a,r)=>{a.dragStatus==="stopped"&&a.node.fire("dragend",{type:"dragend",target:a.node,evt:i},!0),a.dragStatus!=="dragging"&&e.DD._dragElements.delete(r)})}},t.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("touchcancel",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1),window.addEventListener("touchcancel",e.DD._endDragAfter,!1))}(LE)),LE}var kE={},tr={},v9;function Ue(){if(v9)return tr;v9=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.RGBComponent=i,tr.alphaComponent=a,tr.getNumberValidator=r,tr.getNumberOrArrayOfNumbersValidator=s,tr.getNumberOrAutoValidator=l,tr.getStringValidator=c,tr.getStringOrGradientValidator=d,tr.getFunctionValidator=f,tr.getNumberArrayValidator=m,tr.getBooleanValidator=v,tr.getComponentValidator=y;const e=Oe(),t=Zn();function n(x){return t.Util._isString(x)?'"'+x+'"':Object.prototype.toString.call(x)==="[object Number]"||t.Util._isBoolean(x)?x:Object.prototype.toString.call(x)}function i(x){return x>255?255:x<0?0:Math.round(x)}function a(x){return x>1?1:x<1e-4?1e-4:x}function r(){if(e.Konva.isUnminified)return function(x,_){return t.Util._isNumber(x)||t.Util.warn(n(x)+' is a not valid value for "'+_+'" attribute. The value should be a number.'),x}}function s(x){if(e.Konva.isUnminified)return function(_,E){let R=t.Util._isNumber(_),A=t.Util._isArray(_)&&_.length==x;return!R&&!A&&t.Util.warn(n(_)+' is a not valid value for "'+E+'" attribute. The value should be a number or Array<number>('+x+")"),_}}function l(){if(e.Konva.isUnminified)return function(x,_){return t.Util._isNumber(x)||x==="auto"||t.Util.warn(n(x)+' is a not valid value for "'+_+'" attribute. The value should be a number or "auto".'),x}}function c(){if(e.Konva.isUnminified)return function(x,_){return t.Util._isString(x)||t.Util.warn(n(x)+' is a not valid value for "'+_+'" attribute. The value should be a string.'),x}}function d(){if(e.Konva.isUnminified)return function(x,_){const E=t.Util._isString(x),R=Object.prototype.toString.call(x)==="[object CanvasGradient]"||x&&x.addColorStop;return E||R||t.Util.warn(n(x)+' is a not valid value for "'+_+'" attribute. The value should be a string or a native gradient.'),x}}function f(){if(e.Konva.isUnminified)return function(x,_){return t.Util._isFunction(x)||t.Util.warn(n(x)+' is a not valid value for "'+_+'" attribute. The value should be a function.'),x}}function m(){if(e.Konva.isUnminified)return function(x,_){const E=Int8Array?Object.getPrototypeOf(Int8Array):null;return E&&x instanceof E||(t.Util._isArray(x)?x.forEach(function(R){t.Util._isNumber(R)||t.Util.warn('"'+_+'" attribute has non numeric element '+R+". Make sure that all elements are numbers.")}):t.Util.warn(n(x)+' is a not valid value for "'+_+'" attribute. The value should be a array of numbers.')),x}}function v(){if(e.Konva.isUnminified)return function(x,_){return x===!0||x===!1||t.Util.warn(n(x)+' is a not valid value for "'+_+'" attribute. The value should be a boolean.'),x}}function y(x){if(e.Konva.isUnminified)return function(_,E){return _==null||t.Util.isObject(_)||t.Util.warn(n(_)+' is a not valid value for "'+E+'" attribute. The value should be an object with properties '+x),_}}return tr}var y9;function Be(){return y9||(y9=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const t=Zn(),n=Ue(),i="get",a="set";e.Factory={addGetterSetter(r,s,l,c,d){e.Factory.addGetter(r,s,l),e.Factory.addSetter(r,s,c,d),e.Factory.addOverloadedGetterSetter(r,s)},addGetter(r,s,l){const c=i+t.Util._capitalize(s);r.prototype[c]=r.prototype[c]||function(){const d=this.attrs[s];return d===void 0?l:d}},addSetter(r,s,l,c){const d=a+t.Util._capitalize(s);r.prototype[d]||e.Factory.overWriteSetter(r,s,l,c)},overWriteSetter(r,s,l,c){const d=a+t.Util._capitalize(s);r.prototype[d]=function(f){return l&&f!==void 0&&f!==null&&(f=l.call(this,f,s)),this._setAttr(s,f),c&&c.call(this),this}},addComponentsGetterSetter(r,s,l,c,d){const f=l.length,m=t.Util._capitalize,v=i+m(s),y=a+m(s);r.prototype[v]=function(){const _={};for(let E=0;E<f;E++){const R=l[E];_[R]=this.getAttr(s+m(R))}return _};const x=(0,n.getComponentValidator)(l);r.prototype[y]=function(_){const E=this.attrs[s];c&&(_=c.call(this,_,s)),x&&x.call(this,_,s);for(const R in _)_.hasOwnProperty(R)&&this._setAttr(s+m(R),_[R]);return _||l.forEach(R=>{this._setAttr(s+m(R),void 0)}),this._fireChangeEvent(s,E,_),d&&d.call(this),this},e.Factory.addOverloadedGetterSetter(r,s)},addOverloadedGetterSetter(r,s){const l=t.Util._capitalize(s),c=a+l,d=i+l;r.prototype[s]=function(){return arguments.length?(this[c](arguments[0]),this):this[d]()}},addDeprecatedGetterSetter(r,s,l,c){t.Util.error("Adding deprecated "+s);const d=i+t.Util._capitalize(s),f=s+" property is deprecated and will be removed soon. Look at Konva change log for more information.";r.prototype[d]=function(){t.Util.error(f);const m=this.attrs[s];return m===void 0?l:m},e.Factory.addSetter(r,s,c,function(){t.Util.error(f)}),e.Factory.addOverloadedGetterSetter(r,s)},backCompat(r,s){t.Util.each(s,function(l,c){const d=r.prototype[c],f=i+t.Util._capitalize(l),m=a+t.Util._capitalize(l);function v(){d.apply(this,arguments),t.Util.error('"'+l+'" method is deprecated and will be removed soon. Use ""'+c+'" instead.')}r.prototype[l]=v,r.prototype[f]=v,r.prototype[m]=v})},afterSetFilter(){this._filterUpToDate=!1}}}(kE)),kE}var b9;function li(){if(b9)return wm;b9=1,Object.defineProperty(wm,"__esModule",{value:!0}),wm.Node=void 0;const e=Ux(),t=KT(),n=Be(),i=Oe(),a=Zn(),r=Ue(),s="absoluteOpacity",l="allEventListeners",c="absoluteTransform",d="absoluteScale",f="canvas",m="Change",v="children",y="konva",x="listening",_="mouseenter",E="mouseleave",R="pointerenter",A="pointerleave",w="touchenter",M="touchleave",D="set",P="Shape",z=" ",L="stage",U="transform",I="Stage",q="visible",J=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(z);let it=1;class at{constructor(B){this._id=it++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(B),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(B){(B===U||B===c)&&this._cache.get(B)?this._cache.get(B).dirty=!0:B?this._cache.delete(B):this._cache.clear()}_getCache(B,V){let W=this._cache.get(B);return(W===void 0||(B===U||B===c)&&W.dirty===!0)&&(W=V.call(this),this._cache.set(B,W)),W}_calculate(B,V,W){if(!this._attachedDepsListeners.get(B)){const H=V.map(K=>K+"Change.konva").join(z);this.on(H,()=>{this._clearCache(B)}),this._attachedDepsListeners.set(B,!0)}return this._getCache(B,W)}_getCanvasCache(){return this._cache.get(f)}_clearSelfAndDescendantCache(B){this._clearCache(B),B===c&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(f)){const{scene:B,filter:V,hit:W,buffer:H}=this._cache.get(f);a.Util.releaseCanvas(B,V,W,H),this._cache.delete(f)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(B){const V=B||{};let W={};(V.x===void 0||V.y===void 0||V.width===void 0||V.height===void 0)&&(W=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let H=Math.ceil(V.width||W.width),K=Math.ceil(V.height||W.height),nt=V.pixelRatio,$=V.x===void 0?Math.floor(W.x):V.x,lt=V.y===void 0?Math.floor(W.y):V.y,yt=V.offset||0,ot=V.drawBorder||!1,tt=V.hitCanvasPixelRatio||1;if(!H||!K){a.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const ut=Math.abs(Math.round(W.x)-$)>.5?1:0,Et=Math.abs(Math.round(W.y)-lt)>.5?1:0;H+=yt*2+ut,K+=yt*2+Et,$-=yt,lt-=yt;const Dt=new e.SceneCanvas({pixelRatio:nt,width:H,height:K}),jt=new e.SceneCanvas({pixelRatio:nt,width:0,height:0,willReadFrequently:!0}),Bt=new e.HitCanvas({pixelRatio:tt,width:H,height:K}),Ht=Dt.getContext(),pe=Bt.getContext(),Lt=new e.SceneCanvas({width:Dt.width/Dt.pixelRatio+Math.abs($),height:Dt.height/Dt.pixelRatio+Math.abs(lt),pixelRatio:Dt.pixelRatio}),Re=Lt.getContext();return Bt.isCache=!0,Dt.isCache=!0,this._cache.delete(f),this._filterUpToDate=!1,V.imageSmoothingEnabled===!1&&(Dt.getContext()._context.imageSmoothingEnabled=!1,jt.getContext()._context.imageSmoothingEnabled=!1),Ht.save(),pe.save(),Re.save(),Ht.translate(-$,-lt),pe.translate(-$,-lt),Re.translate(-$,-lt),Lt.x=$,Lt.y=lt,this._isUnderCache=!0,this._clearSelfAndDescendantCache(s),this._clearSelfAndDescendantCache(d),this.drawScene(Dt,this,Lt),this.drawHit(Bt,this),this._isUnderCache=!1,Ht.restore(),pe.restore(),ot&&(Ht.save(),Ht.beginPath(),Ht.rect(0,0,H,K),Ht.closePath(),Ht.setAttr("strokeStyle","red"),Ht.setAttr("lineWidth",5),Ht.stroke(),Ht.restore()),this._cache.set(f,{scene:Dt,filter:jt,hit:Bt,buffer:Lt,x:$,y:lt}),this._requestDraw(),this}isCached(){return this._cache.has(f)}getClientRect(B){throw new Error('abstract "getClientRect" method call')}_transformedRect(B,V){const W=[{x:B.x,y:B.y},{x:B.x+B.width,y:B.y},{x:B.x+B.width,y:B.y+B.height},{x:B.x,y:B.y+B.height}];let H=1/0,K=1/0,nt=-1/0,$=-1/0;const lt=this.getAbsoluteTransform(V);return W.forEach(function(yt){const ot=lt.point(yt);H===void 0&&(H=nt=ot.x,K=$=ot.y),H=Math.min(H,ot.x),K=Math.min(K,ot.y),nt=Math.max(nt,ot.x),$=Math.max($,ot.y)}),{x:H,y:K,width:nt-H,height:$-K}}_drawCachedSceneCanvas(B){B.save(),B._applyOpacity(this),B._applyGlobalCompositeOperation(this);const V=this._getCanvasCache();B.translate(V.x,V.y);const W=this._getCachedSceneCanvas(),H=W.pixelRatio;B.drawImage(W._canvas,0,0,W.width/H,W.height/H),B.restore()}_drawCachedHitCanvas(B){const V=this._getCanvasCache(),W=V.hit;B.save(),B.translate(V.x,V.y),B.drawImage(W._canvas,0,0,W.width/W.pixelRatio,W.height/W.pixelRatio),B.restore()}_getCachedSceneCanvas(){let B=this.filters(),V=this._getCanvasCache(),W=V.scene,H=V.filter,K=H.getContext(),nt,$,lt,yt;if(B){if(!this._filterUpToDate){const ot=W.pixelRatio;H.setSize(W.width/W.pixelRatio,W.height/W.pixelRatio);try{for(nt=B.length,K.clear(),K.drawImage(W._canvas,0,0,W.getWidth()/ot,W.getHeight()/ot),$=K.getImageData(0,0,H.getWidth(),H.getHeight()),lt=0;lt<nt;lt++){if(yt=B[lt],typeof yt!="function"){a.Util.error("Filter should be type of function, but got "+typeof yt+" instead. Please check correct filters");continue}yt.call(this,$),K.putImageData($,0,0)}}catch(tt){a.Util.error("Unable to apply filter. "+tt.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return H}return W}on(B,V){if(this._cache&&this._cache.delete(l),arguments.length===3)return this._delegate.apply(this,arguments);const W=B.split(z);for(let H=0;H<W.length;H++){const nt=W[H].split("."),$=nt[0],lt=nt[1]||"";this.eventListeners[$]||(this.eventListeners[$]=[]),this.eventListeners[$].push({name:lt,handler:V})}return this}off(B,V){let W=(B||"").split(z),H=W.length,K,nt,$,lt,yt,ot;if(this._cache&&this._cache.delete(l),!B)for(nt in this.eventListeners)this._off(nt);for(K=0;K<H;K++)if($=W[K],lt=$.split("."),yt=lt[0],ot=lt[1],yt)this.eventListeners[yt]&&this._off(yt,ot,V);else for(nt in this.eventListeners)this._off(nt,ot,V);return this}dispatchEvent(B){const V={target:this,type:B.type,evt:B};return this.fire(B.type,V),this}addEventListener(B,V){return this.on(B,function(W){V.call(this,W.evt)}),this}removeEventListener(B){return this.off(B),this}_delegate(B,V,W){const H=this;this.on(B,function(K){const nt=K.target.findAncestors(V,!0,H);for(let $=0;$<nt.length;$++)K=a.Util.cloneObject(K),K.currentTarget=nt[$],W.call(nt[$],K)})}remove(){return this.isDragging()&&this.stopDrag(),t.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(s),this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(L),this._clearSelfAndDescendantCache(q),this._clearSelfAndDescendantCache(x)}_remove(){this._clearCaches();const B=this.getParent();B&&B.children&&(B.children.splice(this.index,1),B._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(B){const V="get"+a.Util._capitalize(B);return a.Util._isFunction(this[V])?this[V]():this.attrs[B]}getAncestors(){let B=this.getParent(),V=[];for(;B;)V.push(B),B=B.getParent();return V}getAttrs(){return this.attrs||{}}setAttrs(B){return this._batchTransformChanges(()=>{let V,W;if(!B)return this;for(V in B)V!==v&&(W=D+a.Util._capitalize(V),a.Util._isFunction(this[W])?this[W](B[V]):this._setAttr(V,B[V]))}),this}isListening(){return this._getCache(x,this._isListening)}_isListening(B){if(!this.listening())return!1;const W=this.getParent();return W&&W!==B&&this!==B?W._isListening(B):!0}isVisible(){return this._getCache(q,this._isVisible)}_isVisible(B){if(!this.visible())return!1;const W=this.getParent();return W&&W!==B&&this!==B?W._isVisible(B):!0}shouldDrawHit(B,V=!1){if(B)return this._isVisible(B)&&this._isListening(B);const W=this.getLayer();let H=!1;t.DD._dragElements.forEach(nt=>{nt.dragStatus==="dragging"&&(nt.node.nodeType==="Stage"||nt.node.getLayer()===W)&&(H=!0)});const K=!V&&!i.Konva.hitOnDragEnabled&&(H||i.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!K}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let B=this.getDepth(),V=this,W=0,H,K,nt,$;function lt(ot){for(H=[],K=ot.length,nt=0;nt<K;nt++)$=ot[nt],W++,$.nodeType!==P&&(H=H.concat($.getChildren().slice())),$._id===V._id&&(nt=K);H.length>0&&H[0].getDepth()<=B&&lt(H)}const yt=this.getStage();return V.nodeType!==I&&yt&&lt(yt.getChildren()),W}getDepth(){let B=0,V=this.parent;for(;V;)B++,V=V.parent;return B}_batchTransformChanges(B){this._batchingTransformChange=!0,B(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(U),this._clearSelfAndDescendantCache(c)),this._needClearTransformCache=!1}setPosition(B){return this._batchTransformChanges(()=>{this.x(B.x),this.y(B.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const B=this.getStage();if(!B)return null;const V=B.getPointerPosition();if(!V)return null;const W=this.getAbsoluteTransform().copy();return W.invert(),W.point(V)}getAbsolutePosition(B){let V=!1,W=this.parent;for(;W;){if(W.isCached()){V=!0;break}W=W.parent}V&&!B&&(B=!0);const H=this.getAbsoluteTransform(B).getMatrix(),K=new a.Transform,nt=this.offset();return K.m=H.slice(),K.translate(nt.x,nt.y),K.getTranslation()}setAbsolutePosition(B){const{x:V,y:W,...H}=this._clearTransform();this.attrs.x=V,this.attrs.y=W,this._clearCache(U);const K=this._getAbsoluteTransform().copy();return K.invert(),K.translate(B.x,B.y),B={x:this.attrs.x+K.getTranslation().x,y:this.attrs.y+K.getTranslation().y},this._setTransform(H),this.setPosition({x:B.x,y:B.y}),this._clearCache(U),this._clearSelfAndDescendantCache(c),this}_setTransform(B){let V;for(V in B)this.attrs[V]=B[V]}_clearTransform(){const B={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,B}move(B){let V=B.x,W=B.y,H=this.x(),K=this.y();return V!==void 0&&(H+=V),W!==void 0&&(K+=W),this.setPosition({x:H,y:K}),this}_eachAncestorReverse(B,V){let W=[],H=this.getParent(),K,nt;if(!(V&&V._id===this._id)){for(W.unshift(this);H&&(!V||H._id!==V._id);)W.unshift(H),H=H.parent;for(K=W.length,nt=0;nt<K;nt++)B(W[nt])}}rotate(B){return this.rotation(this.rotation()+B),this}moveToTop(){if(!this.parent)return a.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const B=this.index,V=this.parent.getChildren().length;return B<V-1?(this.parent.children.splice(B,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return a.Util.warn("Node has no parent. moveUp function is ignored."),!1;const B=this.index,V=this.parent.getChildren().length;return B<V-1?(this.parent.children.splice(B,1),this.parent.children.splice(B+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return a.Util.warn("Node has no parent. moveDown function is ignored."),!1;const B=this.index;return B>0?(this.parent.children.splice(B,1),this.parent.children.splice(B-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return a.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const B=this.index;return B>0?(this.parent.children.splice(B,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(B){if(!this.parent)return a.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(B<0||B>=this.parent.children.length)&&a.Util.warn("Unexpected value "+B+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const V=this.index;return this.parent.children.splice(V,1),this.parent.children.splice(B,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(s,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let B=this.opacity();const V=this.getParent();return V&&!V._isUnderCache&&(B*=V.getAbsoluteOpacity()),B}moveTo(B){return this.getParent()!==B&&(this._remove(),B.add(this)),this}toObject(){let B=this.getAttrs(),V,W,H,K,nt;const $={attrs:{},className:this.getClassName()};for(V in B)W=B[V],nt=a.Util.isObject(W)&&!a.Util._isPlainObject(W)&&!a.Util._isArray(W),!nt&&(H=typeof this[V]=="function"&&this[V],delete B[V],K=H?H.call(this):null,B[V]=W,K!==W&&($.attrs[V]=W));return a.Util._prepareToStringify($)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(B,V,W){const H=[];V&&this._isMatch(B)&&H.push(this);let K=this.parent;for(;K;){if(K===W)return H;K._isMatch(B)&&H.push(K),K=K.parent}return H}isAncestorOf(B){return!1}findAncestor(B,V,W){return this.findAncestors(B,V,W)[0]}_isMatch(B){if(!B)return!1;if(typeof B=="function")return B(this);let V=B.replace(/ /g,"").split(","),W=V.length,H,K;for(H=0;H<W;H++)if(K=V[H],a.Util.isValidSelector(K)||(a.Util.warn('Selector "'+K+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),a.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),a.Util.warn("Konva is awesome, right?")),K.charAt(0)==="#"){if(this.id()===K.slice(1))return!0}else if(K.charAt(0)==="."){if(this.hasName(K.slice(1)))return!0}else if(this.className===K||this.nodeType===K)return!0;return!1}getLayer(){const B=this.getParent();return B?B.getLayer():null}getStage(){return this._getCache(L,this._getStage)}_getStage(){const B=this.getParent();return B?B.getStage():null}fire(B,V={},W){return V.target=V.target||this,W?this._fireAndBubble(B,V):this._fire(B,V),this}getAbsoluteTransform(B){return B?this._getAbsoluteTransform(B):this._getCache(c,this._getAbsoluteTransform)}_getAbsoluteTransform(B){let V;if(B)return V=new a.Transform,this._eachAncestorReverse(function(W){const H=W.transformsEnabled();H==="all"?V.multiply(W.getTransform()):H==="position"&&V.translate(W.x()-W.offsetX(),W.y()-W.offsetY())},B),V;{V=this._cache.get(c)||new a.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(V):V.reset();const W=this.transformsEnabled();if(W==="all")V.multiply(this.getTransform());else if(W==="position"){const H=this.attrs.x||0,K=this.attrs.y||0,nt=this.attrs.offsetX||0,$=this.attrs.offsetY||0;V.translate(H-nt,K-$)}return V.dirty=!1,V}}getAbsoluteScale(B){let V=this;for(;V;)V._isUnderCache&&(B=V),V=V.getParent();const H=this.getAbsoluteTransform(B).decompose();return{x:H.scaleX,y:H.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(U,this._getTransform)}_getTransform(){var B,V;const W=this._cache.get(U)||new a.Transform;W.reset();const H=this.x(),K=this.y(),nt=i.Konva.getAngle(this.rotation()),$=(B=this.attrs.scaleX)!==null&&B!==void 0?B:1,lt=(V=this.attrs.scaleY)!==null&&V!==void 0?V:1,yt=this.attrs.skewX||0,ot=this.attrs.skewY||0,tt=this.attrs.offsetX||0,ut=this.attrs.offsetY||0;return(H!==0||K!==0)&&W.translate(H,K),nt!==0&&W.rotate(nt),(yt!==0||ot!==0)&&W.skew(yt,ot),($!==1||lt!==1)&&W.scale($,lt),(tt!==0||ut!==0)&&W.translate(-1*tt,-1*ut),W.dirty=!1,W}clone(B){let V=a.Util.cloneObject(this.attrs),W,H,K,nt,$;for(W in B)V[W]=B[W];const lt=new this.constructor(V);for(W in this.eventListeners)for(H=this.eventListeners[W],K=H.length,nt=0;nt<K;nt++)$=H[nt],$.name.indexOf(y)<0&&(lt.eventListeners[W]||(lt.eventListeners[W]=[]),lt.eventListeners[W].push($));return lt}_toKonvaCanvas(B){B=B||{};const V=this.getClientRect(),W=this.getStage(),H=B.x!==void 0?B.x:Math.floor(V.x),K=B.y!==void 0?B.y:Math.floor(V.y),nt=B.pixelRatio||1,$=new e.SceneCanvas({width:B.width||Math.ceil(V.width)||(W?W.width():0),height:B.height||Math.ceil(V.height)||(W?W.height():0),pixelRatio:nt}),lt=$.getContext(),yt=new e.SceneCanvas({width:$.width/$.pixelRatio+Math.abs(H),height:$.height/$.pixelRatio+Math.abs(K),pixelRatio:$.pixelRatio});return B.imageSmoothingEnabled===!1&&(lt._context.imageSmoothingEnabled=!1),lt.save(),(H||K)&&lt.translate(-1*H,-1*K),this.drawScene($,void 0,yt),lt.restore(),$}toCanvas(B){return this._toKonvaCanvas(B)._canvas}toDataURL(B){B=B||{};const V=B.mimeType||null,W=B.quality||null,H=this._toKonvaCanvas(B).toDataURL(V,W);return B.callback&&B.callback(H),H}toImage(B){return new Promise((V,W)=>{try{const H=B?.callback;H&&delete B.callback,a.Util._urlToImage(this.toDataURL(B),function(K){V(K),H?.(K)})}catch(H){W(H)}})}toBlob(B){return new Promise((V,W)=>{try{const H=B?.callback;H&&delete B.callback,this.toCanvas(B).toBlob(K=>{V(K),H?.(K)},B?.mimeType,B?.quality)}catch(H){W(H)}})}setSize(B){return this.width(B.width),this.height(B.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():i.Konva.dragDistance}_off(B,V,W){let H=this.eventListeners[B],K,nt,$;for(K=0;K<H.length;K++)if(nt=H[K].name,$=H[K].handler,(nt!=="konva"||V==="konva")&&(!V||nt===V)&&(!W||W===$)){if(H.splice(K,1),H.length===0){delete this.eventListeners[B];break}K--}}_fireChangeEvent(B,V,W){this._fire(B+m,{oldVal:V,newVal:W})}addName(B){if(!this.hasName(B)){const V=this.name(),W=V?V+" "+B:B;this.name(W)}return this}hasName(B){if(!B)return!1;const V=this.name();return V?(V||"").split(/\s/g).indexOf(B)!==-1:!1}removeName(B){const V=(this.name()||"").split(/\s/g),W=V.indexOf(B);return W!==-1&&(V.splice(W,1),this.name(V.join(" "))),this}setAttr(B,V){const W=this[D+a.Util._capitalize(B)];return a.Util._isFunction(W)?W.call(this,V):this._setAttr(B,V),this}_requestDraw(){if(i.Konva.autoDrawEnabled){const B=this.getLayer()||this.getStage();B?.batchDraw()}}_setAttr(B,V){const W=this.attrs[B];W===V&&!a.Util.isObject(V)||(V==null?delete this.attrs[B]:this.attrs[B]=V,this._shouldFireChangeEvents&&this._fireChangeEvent(B,W,V),this._requestDraw())}_setComponentAttr(B,V,W){let H;W!==void 0&&(H=this.attrs[B],H||(this.attrs[B]=this.getAttr(B)),this.attrs[B][V]=W,this._fireChangeEvent(B,H,W))}_fireAndBubble(B,V,W){V&&this.nodeType===P&&(V.target=this);const H=[_,E,R,A,w,M];if(!(H.indexOf(B)!==-1&&(W&&(this===W||this.isAncestorOf&&this.isAncestorOf(W))||this.nodeType==="Stage"&&!W))){this._fire(B,V);const nt=H.indexOf(B)!==-1&&W&&W.isAncestorOf&&W.isAncestorOf(this)&&!W.isAncestorOf(this.parent);(V&&!V.cancelBubble||!V)&&this.parent&&this.parent.isListening()&&!nt&&(W&&W.parent?this._fireAndBubble.call(this.parent,B,V,W):this._fireAndBubble.call(this.parent,B,V))}}_getProtoListeners(B){var V,W,H;const K=(V=this._cache.get(l))!==null&&V!==void 0?V:{};let nt=K?.[B];if(nt===void 0){nt=[];let $=Object.getPrototypeOf(this);for(;$;){const lt=(H=(W=$.eventListeners)===null||W===void 0?void 0:W[B])!==null&&H!==void 0?H:[];nt.push(...lt),$=Object.getPrototypeOf($)}K[B]=nt,this._cache.set(l,K)}return nt}_fire(B,V){V=V||{},V.currentTarget=this,V.type=B;const W=this._getProtoListeners(B);if(W)for(let K=0;K<W.length;K++)W[K].handler.call(this,V);const H=this.eventListeners[B];if(H)for(let K=0;K<H.length;K++)H[K].handler.call(this,V)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(B){const V=B?B.pointerId:void 0,W=this.getStage(),H=this.getAbsolutePosition();if(!W)return;const K=W._getPointerById(V)||W._changedPointerPositions[0]||H;t.DD._dragElements.set(this._id,{node:this,startPointerPos:K,offset:{x:K.x-H.x,y:K.y-H.y},dragStatus:"ready",pointerId:V})}startDrag(B,V=!0){t.DD._dragElements.has(this._id)||this._createDragElement(B);const W=t.DD._dragElements.get(this._id);W.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:B&&B.evt},V)}_setDragPosition(B,V){const W=this.getStage()._getPointerById(V.pointerId);if(!W)return;let H={x:W.x-V.offset.x,y:W.y-V.offset.y};const K=this.dragBoundFunc();if(K!==void 0){const nt=K.call(this,H,B);nt?H=nt:a.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==H.x||this._lastPos.y!==H.y)&&(this.setAbsolutePosition(H),this._requestDraw()),this._lastPos=H}stopDrag(B){const V=t.DD._dragElements.get(this._id);V&&(V.dragStatus="stopped"),t.DD._endDragBefore(B),t.DD._endDragAfter(B)}setDraggable(B){this._setAttr("draggable",B),this._dragChange()}isDragging(){const B=t.DD._dragElements.get(this._id);return B?B.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(B){if(!(!(B.evt.button!==void 0)||i.Konva.dragButtons.indexOf(B.evt.button)>=0)||this.isDragging())return;let H=!1;t.DD._dragElements.forEach(K=>{this.isAncestorOf(K.node)&&(H=!0)}),H||this._createDragElement(B)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const V=t.DD._dragElements.get(this._id),W=V&&V.dragStatus==="dragging",H=V&&V.dragStatus==="ready";W?this.stopDrag():H&&t.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(B={x:0,y:0}){const V=this.getStage();if(!V)return!1;const W={x:-B.x,y:-B.y,width:V.width()+2*B.x,height:V.height()+2*B.y};return a.Util.haveIntersection(W,this.getClientRect())}static create(B,V){return a.Util._isString(B)&&(B=JSON.parse(B)),this._createNode(B,V)}static _createNode(B,V){let W=at.prototype.getClassName.call(B),H=B.children,K,nt,$;V&&(B.attrs.container=V),i.Konva[W]||(a.Util.warn('Can not find a node with class name "'+W+'". Fallback to "Shape".'),W="Shape");const lt=i.Konva[W];if(K=new lt(B.attrs),H)for(nt=H.length,$=0;$<nt;$++)K.add(at._createNode(H[$]));return K}}wm.Node=at,at.prototype.nodeType="Node",at.prototype._attrsAffectingSize=[],at.prototype.eventListeners={},at.prototype.on.call(at.prototype,J,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(U),this._clearSelfAndDescendantCache(c)}),at.prototype.on.call(at.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(q)}),at.prototype.on.call(at.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(x)}),at.prototype.on.call(at.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(s)});const et=n.Factory.addGetterSetter;return et(at,"zIndex"),et(at,"absolutePosition"),et(at,"position"),et(at,"x",0,(0,r.getNumberValidator)()),et(at,"y",0,(0,r.getNumberValidator)()),et(at,"globalCompositeOperation","source-over",(0,r.getStringValidator)()),et(at,"opacity",1,(0,r.getNumberValidator)()),et(at,"name","",(0,r.getStringValidator)()),et(at,"id","",(0,r.getStringValidator)()),et(at,"rotation",0,(0,r.getNumberValidator)()),n.Factory.addComponentsGetterSetter(at,"scale",["x","y"]),et(at,"scaleX",1,(0,r.getNumberValidator)()),et(at,"scaleY",1,(0,r.getNumberValidator)()),n.Factory.addComponentsGetterSetter(at,"skew",["x","y"]),et(at,"skewX",0,(0,r.getNumberValidator)()),et(at,"skewY",0,(0,r.getNumberValidator)()),n.Factory.addComponentsGetterSetter(at,"offset",["x","y"]),et(at,"offsetX",0,(0,r.getNumberValidator)()),et(at,"offsetY",0,(0,r.getNumberValidator)()),et(at,"dragDistance",void 0,(0,r.getNumberValidator)()),et(at,"width",0,(0,r.getNumberValidator)()),et(at,"height",0,(0,r.getNumberValidator)()),et(at,"listening",!0,(0,r.getBooleanValidator)()),et(at,"preventDefault",!0,(0,r.getBooleanValidator)()),et(at,"filters",void 0,function(Z){return this._filterUpToDate=!1,Z}),et(at,"visible",!0,(0,r.getBooleanValidator)()),et(at,"transformsEnabled","all",(0,r.getStringValidator)()),et(at,"size"),et(at,"dragBoundFunc"),et(at,"draggable",!1,(0,r.getBooleanValidator)()),n.Factory.backCompat(at,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),wm}var Em={},x9;function Hx(){if(x9)return Em;x9=1,Object.defineProperty(Em,"__esModule",{value:!0}),Em.Container=void 0;const e=Be(),t=li(),n=Ue();let i=class extends t.Node{constructor(){super(...arguments),this.children=[]}getChildren(r){const s=this.children||[];return r?s.filter(r):s}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(r=>{r.parent=null,r.index=0,r.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(r=>{r.parent=null,r.index=0,r.destroy()}),this.children=[],this._requestDraw(),this}add(...r){if(r.length===0)return this;if(r.length>1){for(let l=0;l<r.length;l++)this.add(r[l]);return this}const s=r[0];return s.getParent()?(s.moveTo(this),this):(this._validateAdd(s),s.index=this.getChildren().length,s.parent=this,s._clearCaches(),this.getChildren().push(s),this._fire("add",{child:s}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(r){return this._generalFind(r,!1)}findOne(r){const s=this._generalFind(r,!0);return s.length>0?s[0]:void 0}_generalFind(r,s){const l=[];return this._descendants(c=>{const d=c._isMatch(r);return d&&l.push(c),!!(d&&s)}),l}_descendants(r){let s=!1;const l=this.getChildren();for(const c of l){if(s=r(c),s)return!0;if(c.hasChildren()&&(s=c._descendants(r),s))return!0}return!1}toObject(){const r=t.Node.prototype.toObject.call(this);return r.children=[],this.getChildren().forEach(s=>{r.children.push(s.toObject())}),r}isAncestorOf(r){let s=r.getParent();for(;s;){if(s._id===this._id)return!0;s=s.getParent()}return!1}clone(r){const s=t.Node.prototype.clone.call(this,r);return this.getChildren().forEach(function(l){s.add(l.clone())}),s}getAllIntersections(r){const s=[];return this.find("Shape").forEach(l=>{l.isVisible()&&l.intersects(r)&&s.push(l)}),s}_clearSelfAndDescendantCache(r){var s;super._clearSelfAndDescendantCache(r),!this.isCached()&&((s=this.children)===null||s===void 0||s.forEach(function(l){l._clearSelfAndDescendantCache(r)}))}_setChildrenIndices(){var r;(r=this.children)===null||r===void 0||r.forEach(function(s,l){s.index=l}),this._requestDraw()}drawScene(r,s,l){const c=this.getLayer(),d=r||c&&c.getCanvas(),f=d&&d.getContext(),m=this._getCanvasCache(),v=m&&m.scene,y=d&&d.isCache;if(!this.isVisible()&&!y)return this;if(v){f.save();const x=this.getAbsoluteTransform(s).getMatrix();f.transform(x[0],x[1],x[2],x[3],x[4],x[5]),this._drawCachedSceneCanvas(f),f.restore()}else this._drawChildren("drawScene",d,s,l);return this}drawHit(r,s){if(!this.shouldDrawHit(s))return this;const l=this.getLayer(),c=r||l&&l.hitCanvas,d=c&&c.getContext(),f=this._getCanvasCache();if(f&&f.hit){d.save();const v=this.getAbsoluteTransform(s).getMatrix();d.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedHitCanvas(d),d.restore()}else this._drawChildren("drawHit",c,s);return this}_drawChildren(r,s,l,c){var d;const f=s&&s.getContext(),m=this.clipWidth(),v=this.clipHeight(),y=this.clipFunc(),x=typeof m=="number"&&typeof v=="number"||y,_=l===this;if(x){f.save();const R=this.getAbsoluteTransform(l);let A=R.getMatrix();f.transform(A[0],A[1],A[2],A[3],A[4],A[5]),f.beginPath();let w;if(y)w=y.call(this,f,this);else{const M=this.clipX(),D=this.clipY();f.rect(M||0,D||0,m,v)}f.clip.apply(f,w),A=R.copy().invert().getMatrix(),f.transform(A[0],A[1],A[2],A[3],A[4],A[5])}const E=!_&&this.globalCompositeOperation()!=="source-over"&&r==="drawScene";E&&(f.save(),f._applyGlobalCompositeOperation(this)),(d=this.children)===null||d===void 0||d.forEach(function(R){R[r](s,l,c)}),E&&f.restore(),x&&f.restore()}getClientRect(r={}){var s;const l=r.skipTransform,c=r.relativeTo;let d,f,m,v,y={x:1/0,y:1/0,width:0,height:0};const x=this;(s=this.children)===null||s===void 0||s.forEach(function(R){if(!R.visible())return;const A=R.getClientRect({relativeTo:x,skipShadow:r.skipShadow,skipStroke:r.skipStroke});A.width===0&&A.height===0||(d===void 0?(d=A.x,f=A.y,m=A.x+A.width,v=A.y+A.height):(d=Math.min(d,A.x),f=Math.min(f,A.y),m=Math.max(m,A.x+A.width),v=Math.max(v,A.y+A.height)))});const _=this.find("Shape");let E=!1;for(let R=0;R<_.length;R++)if(_[R]._isVisible(this)){E=!0;break}return E&&d!==void 0?y={x:d,y:f,width:m-d,height:v-f}:y={x:0,y:0,width:0,height:0},l?y:this._transformedRect(y,c)}};return Em.Container=i,e.Factory.addComponentsGetterSetter(i,"clip",["x","y","width","height"]),e.Factory.addGetterSetter(i,"clipX",void 0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(i,"clipY",void 0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(i,"clipWidth",void 0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(i,"clipHeight",void 0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(i,"clipFunc"),Em}var jE={},nu={},S9;function rB(){if(S9)return nu;S9=1,Object.defineProperty(nu,"__esModule",{value:!0}),nu.getCapturedShape=i,nu.createEvent=a,nu.hasPointerCapture=r,nu.setPointerCapture=s,nu.releaseCapture=l;const e=Oe(),t=new Map,n=e.Konva._global.PointerEvent!==void 0;function i(c){return t.get(c)}function a(c){return{evt:c,pointerId:c.pointerId}}function r(c,d){return t.get(c)===d}function s(c,d){l(c),d.getStage()&&(t.set(c,d),n&&d._fire("gotpointercapture",a(new PointerEvent("gotpointercapture"))))}function l(c,d){const f=t.get(c);if(!f)return;const m=f.getStage();m&&m.content,t.delete(c),n&&f._fire("lostpointercapture",a(new PointerEvent("lostpointercapture")))}return nu}var _9;function rpt(){return _9||(_9=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;const t=Zn(),n=Be(),i=Hx(),a=Oe(),r=Ux(),s=KT(),l=Oe(),c=rB(),d="Stage",f="string",m="px",v="mouseout",y="mouseleave",x="mouseover",_="mouseenter",E="mousemove",R="mousedown",A="mouseup",w="pointermove",M="pointerdown",D="pointerup",P="pointercancel",z="lostpointercapture",L="pointerout",U="pointerleave",I="pointerover",q="pointerenter",J="contextmenu",it="touchstart",at="touchend",et="touchmove",Z="touchcancel",B="wheel",V=5,W=[[_,"_pointerenter"],[R,"_pointerdown"],[E,"_pointermove"],[A,"_pointerup"],[y,"_pointerleave"],[it,"_pointerdown"],[et,"_pointermove"],[at,"_pointerup"],[Z,"_pointercancel"],[x,"_pointerover"],[B,"_wheel"],[J,"_contextmenu"],[M,"_pointerdown"],[w,"_pointermove"],[D,"_pointerup"],[P,"_pointercancel"],[U,"_pointerleave"],[z,"_lostpointercapture"]],H={mouse:{[L]:v,[U]:y,[I]:x,[q]:_,[w]:E,[M]:R,[D]:A,[P]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[L]:"touchout",[U]:"touchleave",[I]:"touchover",[q]:"touchenter",[w]:et,[M]:it,[D]:at,[P]:Z,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[L]:L,[U]:U,[I]:I,[q]:q,[w]:w,[M]:M,[D]:D,[P]:P,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},K=ot=>ot.indexOf("pointer")>=0?"pointer":ot.indexOf("touch")>=0?"touch":"mouse",nt=ot=>{const tt=K(ot);if(tt==="pointer")return a.Konva.pointerEventsEnabled&&H.pointer;if(tt==="touch")return H.touch;if(tt==="mouse")return H.mouse};function $(ot={}){return(ot.clipFunc||ot.clipWidth||ot.clipHeight)&&t.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),ot}const lt="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";e.stages=[];class yt extends i.Container{constructor(tt){super($(tt)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),e.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{$(this.attrs)}),this._checkVisibility()}_validateAdd(tt){const ut=tt.getType()==="Layer",Et=tt.getType()==="FastLayer";ut||Et||t.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const tt=this.visible()?"":"none";this.content.style.display=tt}setContainer(tt){if(typeof tt===f){let ut;if(tt.charAt(0)==="."){const Et=tt.slice(1);tt=document.getElementsByClassName(Et)[0]}else tt.charAt(0)!=="#"?ut=tt:ut=tt.slice(1),tt=document.getElementById(ut);if(!tt)throw"Can not find container in document with id "+ut}return this._setAttr("container",tt),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),tt.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const tt=this.children,ut=tt.length;for(let Et=0;Et<ut;Et++)tt[Et].clear();return this}clone(tt){return tt||(tt={}),tt.container=typeof document<"u"&&document.createElement("div"),i.Container.prototype.clone.call(this,tt)}destroy(){super.destroy();const tt=this.content;tt&&t.Util._isInDocument(tt)&&this.container().removeChild(tt);const ut=e.stages.indexOf(this);return ut>-1&&e.stages.splice(ut,1),t.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const tt=this._pointerPositions[0]||this._changedPointerPositions[0];return tt?{x:tt.x,y:tt.y}:(t.Util.warn(lt),null)}_getPointerById(tt){return this._pointerPositions.find(ut=>ut.id===tt)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(tt){tt=tt||{},tt.x=tt.x||0,tt.y=tt.y||0,tt.width=tt.width||this.width(),tt.height=tt.height||this.height();const ut=new r.SceneCanvas({width:tt.width,height:tt.height,pixelRatio:tt.pixelRatio||1}),Et=ut.getContext()._context,Dt=this.children;return(tt.x||tt.y)&&Et.translate(-1*tt.x,-1*tt.y),Dt.forEach(function(jt){if(!jt.isVisible())return;const Bt=jt._toKonvaCanvas(tt);Et.drawImage(Bt._canvas,tt.x,tt.y,Bt.getWidth()/Bt.getPixelRatio(),Bt.getHeight()/Bt.getPixelRatio())}),ut}getIntersection(tt){if(!tt)return null;const ut=this.children,Et=ut.length,Dt=Et-1;for(let jt=Dt;jt>=0;jt--){const Bt=ut[jt].getIntersection(tt);if(Bt)return Bt}return null}_resizeDOM(){const tt=this.width(),ut=this.height();this.content&&(this.content.style.width=tt+m,this.content.style.height=ut+m),this.bufferCanvas.setSize(tt,ut),this.bufferHitCanvas.setSize(tt,ut),this.children.forEach(Et=>{Et.setSize({width:tt,height:ut}),Et.draw()})}add(tt,...ut){if(arguments.length>1){for(let Dt=0;Dt<arguments.length;Dt++)this.add(arguments[Dt]);return this}super.add(tt);const Et=this.children.length;return Et>V&&t.Util.warn("The stage has "+Et+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),tt.setSize({width:this.width(),height:this.height()}),tt.draw(),a.Konva.isBrowser&&this.content.appendChild(tt.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(tt){return c.hasPointerCapture(tt,this)}setPointerCapture(tt){c.setPointerCapture(tt,this)}releaseCapture(tt){c.releaseCapture(tt,this)}getLayers(){return this.children}_bindContentEvents(){a.Konva.isBrowser&&W.forEach(([tt,ut])=>{this.content.addEventListener(tt,Et=>{this[ut](Et)},{passive:!1})})}_pointerenter(tt){this.setPointersPositions(tt);const ut=nt(tt.type);ut&&this._fire(ut.pointerenter,{evt:tt,target:this,currentTarget:this})}_pointerover(tt){this.setPointersPositions(tt);const ut=nt(tt.type);ut&&this._fire(ut.pointerover,{evt:tt,target:this,currentTarget:this})}_getTargetShape(tt){let ut=this[tt+"targetShape"];return ut&&!ut.getStage()&&(ut=null),ut}_pointerleave(tt){const ut=nt(tt.type),Et=K(tt.type);if(!ut)return;this.setPointersPositions(tt);const Dt=this._getTargetShape(Et),jt=!(a.Konva.isDragging()||a.Konva.isTransforming())||a.Konva.hitOnDragEnabled;Dt&&jt?(Dt._fireAndBubble(ut.pointerout,{evt:tt}),Dt._fireAndBubble(ut.pointerleave,{evt:tt}),this._fire(ut.pointerleave,{evt:tt,target:this,currentTarget:this}),this[Et+"targetShape"]=null):jt&&(this._fire(ut.pointerleave,{evt:tt,target:this,currentTarget:this}),this._fire(ut.pointerout,{evt:tt,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(tt){const ut=nt(tt.type),Et=K(tt.type);if(!ut)return;this.setPointersPositions(tt);let Dt=!1;this._changedPointerPositions.forEach(jt=>{const Bt=this.getIntersection(jt);if(s.DD.justDragged=!1,a.Konva["_"+Et+"ListenClick"]=!0,!Bt||!Bt.isListening()){this[Et+"ClickStartShape"]=void 0;return}a.Konva.capturePointerEventsEnabled&&Bt.setPointerCapture(jt.id),this[Et+"ClickStartShape"]=Bt,Bt._fireAndBubble(ut.pointerdown,{evt:tt,pointerId:jt.id}),Dt=!0;const Ht=tt.type.indexOf("touch")>=0;Bt.preventDefault()&&tt.cancelable&&Ht&&tt.preventDefault()}),Dt||this._fire(ut.pointerdown,{evt:tt,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(tt){const ut=nt(tt.type),Et=K(tt.type);if(!ut||(a.Konva.isDragging()&&s.DD.node.preventDefault()&&tt.cancelable&&tt.preventDefault(),this.setPointersPositions(tt),!(!(a.Konva.isDragging()||a.Konva.isTransforming())||a.Konva.hitOnDragEnabled)))return;const jt={};let Bt=!1;const Ht=this._getTargetShape(Et);this._changedPointerPositions.forEach(pe=>{const Lt=c.getCapturedShape(pe.id)||this.getIntersection(pe),Re=pe.id,Ft={evt:tt,pointerId:Re},Ce=Ht!==Lt;if(Ce&&Ht&&(Ht._fireAndBubble(ut.pointerout,{...Ft},Lt),Ht._fireAndBubble(ut.pointerleave,{...Ft},Lt)),Lt){if(jt[Lt._id])return;jt[Lt._id]=!0}Lt&&Lt.isListening()?(Bt=!0,Ce&&(Lt._fireAndBubble(ut.pointerover,{...Ft},Ht),Lt._fireAndBubble(ut.pointerenter,{...Ft},Ht),this[Et+"targetShape"]=Lt),Lt._fireAndBubble(ut.pointermove,{...Ft})):Ht&&(this._fire(ut.pointerover,{evt:tt,target:this,currentTarget:this,pointerId:Re}),this[Et+"targetShape"]=null)}),Bt||this._fire(ut.pointermove,{evt:tt,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(tt){const ut=nt(tt.type),Et=K(tt.type);if(!ut)return;this.setPointersPositions(tt);const Dt=this[Et+"ClickStartShape"],jt=this[Et+"ClickEndShape"],Bt={};let Ht=!1;this._changedPointerPositions.forEach(pe=>{const Lt=c.getCapturedShape(pe.id)||this.getIntersection(pe);if(Lt){if(Lt.releaseCapture(pe.id),Bt[Lt._id])return;Bt[Lt._id]=!0}const Re=pe.id,Ft={evt:tt,pointerId:Re};let Ce=!1;a.Konva["_"+Et+"InDblClickWindow"]?(Ce=!0,clearTimeout(this[Et+"DblTimeout"])):s.DD.justDragged||(a.Konva["_"+Et+"InDblClickWindow"]=!0,clearTimeout(this[Et+"DblTimeout"])),this[Et+"DblTimeout"]=setTimeout(function(){a.Konva["_"+Et+"InDblClickWindow"]=!1},a.Konva.dblClickWindow),Lt&&Lt.isListening()?(Ht=!0,this[Et+"ClickEndShape"]=Lt,Lt._fireAndBubble(ut.pointerup,{...Ft}),a.Konva["_"+Et+"ListenClick"]&&Dt&&Dt===Lt&&(Lt._fireAndBubble(ut.pointerclick,{...Ft}),Ce&&jt&&jt===Lt&&Lt._fireAndBubble(ut.pointerdblclick,{...Ft}))):(this[Et+"ClickEndShape"]=null,a.Konva["_"+Et+"ListenClick"]&&this._fire(ut.pointerclick,{evt:tt,target:this,currentTarget:this,pointerId:Re}),Ce&&this._fire(ut.pointerdblclick,{evt:tt,target:this,currentTarget:this,pointerId:Re}))}),Ht||this._fire(ut.pointerup,{evt:tt,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),a.Konva["_"+Et+"ListenClick"]=!1,tt.cancelable&&Et!=="touch"&&Et!=="pointer"&&tt.preventDefault()}_contextmenu(tt){this.setPointersPositions(tt);const ut=this.getIntersection(this.getPointerPosition());ut&&ut.isListening()?ut._fireAndBubble(J,{evt:tt}):this._fire(J,{evt:tt,target:this,currentTarget:this})}_wheel(tt){this.setPointersPositions(tt);const ut=this.getIntersection(this.getPointerPosition());ut&&ut.isListening()?ut._fireAndBubble(B,{evt:tt}):this._fire(B,{evt:tt,target:this,currentTarget:this})}_pointercancel(tt){this.setPointersPositions(tt);const ut=c.getCapturedShape(tt.pointerId)||this.getIntersection(this.getPointerPosition());ut&&ut._fireAndBubble(D,c.createEvent(tt)),c.releaseCapture(tt.pointerId)}_lostpointercapture(tt){c.releaseCapture(tt.pointerId)}setPointersPositions(tt){const ut=this._getContentPosition();let Et=null,Dt=null;tt=tt||window.event,tt.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(tt.touches,jt=>{this._pointerPositions.push({id:jt.identifier,x:(jt.clientX-ut.left)/ut.scaleX,y:(jt.clientY-ut.top)/ut.scaleY})}),Array.prototype.forEach.call(tt.changedTouches||tt.touches,jt=>{this._changedPointerPositions.push({id:jt.identifier,x:(jt.clientX-ut.left)/ut.scaleX,y:(jt.clientY-ut.top)/ut.scaleY})})):(Et=(tt.clientX-ut.left)/ut.scaleX,Dt=(tt.clientY-ut.top)/ut.scaleY,this.pointerPos={x:Et,y:Dt},this._pointerPositions=[{x:Et,y:Dt,id:t.Util._getFirstPointerId(tt)}],this._changedPointerPositions=[{x:Et,y:Dt,id:t.Util._getFirstPointerId(tt)}])}_setPointerPosition(tt){t.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(tt)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const tt=this.content.getBoundingClientRect();return{top:tt.top,left:tt.left,scaleX:tt.width/this.content.clientWidth||1,scaleY:tt.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new r.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new r.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!a.Konva.isBrowser)return;const tt=this.container();if(!tt)throw"Stage has no container. A container is required.";tt.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),tt.appendChild(this.content),this._resizeDOM()}cache(){return t.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(tt){tt.batchDraw()}),this}}e.Stage=yt,yt.prototype.nodeType=d,(0,l._registerNode)(yt),n.Factory.addGetterSetter(yt,"container"),a.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{e.stages.forEach(ot=>{ot.batchDraw()})})}(jE)),jE}var Am={},FE={},w9;function Ii(){return w9||(w9=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;const t=Oe(),n=Zn(),i=Be(),a=li(),r=Ue(),s=Oe(),l=rB(),c="hasShadow",d="shadowRGBA",f="patternImage",m="linearGradient",v="radialGradient";let y;function x(){return y||(y=n.Util.createCanvasElement().getContext("2d"),y)}e.shapes={};function _(U){const I=this.attrs.fillRule;I?U.fill(I):U.fill()}function E(U){U.stroke()}function R(U){const I=this.attrs.fillRule;I?U.fill(I):U.fill()}function A(U){U.stroke()}function w(){this._clearCache(c)}function M(){this._clearCache(d)}function D(){this._clearCache(f)}function P(){this._clearCache(m)}function z(){this._clearCache(v)}class L extends a.Node{constructor(I){super(I);let q;for(;q=n.Util.getRandomColor(),!(q&&!(q in e.shapes)););this.colorKey=q,e.shapes[q]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(c,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(f,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const q=x().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(q&&q.setTransform){const J=new n.Transform;J.translate(this.fillPatternX(),this.fillPatternY()),J.rotate(t.Konva.getAngle(this.fillPatternRotation())),J.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),J.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const it=J.getMatrix(),at=typeof DOMMatrix>"u"?{a:it[0],b:it[1],c:it[2],d:it[3],e:it[4],f:it[5]}:new DOMMatrix(it);q.setTransform(at)}return q}}_getLinearGradient(){return this._getCache(m,this.__getLinearGradient)}__getLinearGradient(){const I=this.fillLinearGradientColorStops();if(I){const q=x(),J=this.fillLinearGradientStartPoint(),it=this.fillLinearGradientEndPoint(),at=q.createLinearGradient(J.x,J.y,it.x,it.y);for(let et=0;et<I.length;et+=2)at.addColorStop(I[et],I[et+1]);return at}}_getRadialGradient(){return this._getCache(v,this.__getRadialGradient)}__getRadialGradient(){const I=this.fillRadialGradientColorStops();if(I){const q=x(),J=this.fillRadialGradientStartPoint(),it=this.fillRadialGradientEndPoint(),at=q.createRadialGradient(J.x,J.y,this.fillRadialGradientStartRadius(),it.x,it.y,this.fillRadialGradientEndRadius());for(let et=0;et<I.length;et+=2)at.addColorStop(I[et],I[et+1]);return at}}getShadowRGBA(){return this._getCache(d,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const I=n.Util.colorToRGBA(this.shadowColor());if(I)return"rgba("+I.r+","+I.g+","+I.b+","+I.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const I=this.hitStrokeWidth();return I==="auto"?this.hasStroke():this.strokeEnabled()&&!!I}intersects(I){const q=this.getStage();if(!q)return!1;const J=q.bufferHitCanvas;return J.getContext().clear(),this.drawHit(J,void 0,!0),J.context.getImageData(Math.round(I.x),Math.round(I.y),1,1).data[3]>0}destroy(){return a.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(I){var q;if(!((q=this.attrs.perfectDrawEnabled)!==null&&q!==void 0?q:!0))return!1;const it=I||this.hasFill(),at=this.hasStroke(),et=this.getAbsoluteOpacity()!==1;if(it&&at&&et)return!0;const Z=this.hasShadow(),B=this.shadowForStrokeEnabled();return!!(it&&at&&Z&&B)}setStrokeHitEnabled(I){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),I?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const I=this.size();return{x:this._centroid?-I.width/2:0,y:this._centroid?-I.height/2:0,width:I.width,height:I.height}}getClientRect(I={}){let q=!1,J=this.getParent();for(;J;){if(J.isCached()){q=!0;break}J=J.getParent()}const it=I.skipTransform,at=I.relativeTo||q&&this.getStage()||void 0,et=this.getSelfRect(),B=!I.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,V=et.width+B,W=et.height+B,H=!I.skipShadow&&this.hasShadow(),K=H?this.shadowOffsetX():0,nt=H?this.shadowOffsetY():0,$=V+Math.abs(K),lt=W+Math.abs(nt),yt=H&&this.shadowBlur()||0,ot=$+yt*2,tt=lt+yt*2,ut={width:ot,height:tt,x:-(B/2+yt)+Math.min(K,0)+et.x,y:-(B/2+yt)+Math.min(nt,0)+et.y};return it?ut:this._transformedRect(ut,at)}drawScene(I,q,J){const it=this.getLayer(),at=I||it.getCanvas(),et=at.getContext(),Z=this._getCanvasCache(),B=this.getSceneFunc(),V=this.hasShadow();let W;const H=q===this;if(!this.isVisible()&&!H)return this;if(Z){et.save();const K=this.getAbsoluteTransform(q).getMatrix();return et.transform(K[0],K[1],K[2],K[3],K[4],K[5]),this._drawCachedSceneCanvas(et),et.restore(),this}if(!B)return this;if(et.save(),this._useBufferCanvas()){W=this.getStage();const K=J||W.bufferCanvas,nt=K.getContext();nt.clear(),nt.save(),nt._applyLineJoin(this);const $=this.getAbsoluteTransform(q).getMatrix();nt.transform($[0],$[1],$[2],$[3],$[4],$[5]),B.call(this,nt,this),nt.restore();const lt=K.pixelRatio;V&&et._applyShadow(this),et._applyOpacity(this),et._applyGlobalCompositeOperation(this),et.drawImage(K._canvas,K.x||0,K.y||0,K.width/lt,K.height/lt)}else{if(et._applyLineJoin(this),!H){const K=this.getAbsoluteTransform(q).getMatrix();et.transform(K[0],K[1],K[2],K[3],K[4],K[5]),et._applyOpacity(this),et._applyGlobalCompositeOperation(this)}V&&et._applyShadow(this),B.call(this,et,this)}return et.restore(),this}drawHit(I,q,J=!1){if(!this.shouldDrawHit(q,J))return this;const it=this.getLayer(),at=I||it.hitCanvas,et=at&&at.getContext(),Z=this.hitFunc()||this.sceneFunc(),B=this._getCanvasCache(),V=B&&B.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),V){et.save();const H=this.getAbsoluteTransform(q).getMatrix();return et.transform(H[0],H[1],H[2],H[3],H[4],H[5]),this._drawCachedHitCanvas(et),et.restore(),this}if(!Z)return this;if(et.save(),et._applyLineJoin(this),!(this===q)){const H=this.getAbsoluteTransform(q).getMatrix();et.transform(H[0],H[1],H[2],H[3],H[4],H[5])}return Z.call(this,et,this),et.restore(),this}drawHitFromCache(I=0){const q=this._getCanvasCache(),J=this._getCachedSceneCanvas(),it=q.hit,at=it.getContext(),et=it.getWidth(),Z=it.getHeight();at.clear(),at.drawImage(J._canvas,0,0,et,Z);try{const B=at.getImageData(0,0,et,Z),V=B.data,W=V.length,H=n.Util._hexToRgb(this.colorKey);for(let K=0;K<W;K+=4)V[K+3]>I?(V[K]=H.r,V[K+1]=H.g,V[K+2]=H.b,V[K+3]=255):V[K+3]=0;at.putImageData(B,0,0)}catch(B){n.Util.error("Unable to draw hit graph from cached scene canvas. "+B.message)}return this}hasPointerCapture(I){return l.hasPointerCapture(I,this)}setPointerCapture(I){l.setPointerCapture(I,this)}releaseCapture(I){l.releaseCapture(I,this)}}e.Shape=L,L.prototype._fillFunc=_,L.prototype._strokeFunc=E,L.prototype._fillFuncHit=R,L.prototype._strokeFuncHit=A,L.prototype._centroid=!1,L.prototype.nodeType="Shape",(0,s._registerNode)(L),L.prototype.eventListeners={},L.prototype.on.call(L.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",w),L.prototype.on.call(L.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",M),L.prototype.on.call(L.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",D),L.prototype.on.call(L.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",P),L.prototype.on.call(L.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",z),i.Factory.addGetterSetter(L,"stroke",void 0,(0,r.getStringOrGradientValidator)()),i.Factory.addGetterSetter(L,"strokeWidth",2,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(L,"fillAfterStrokeEnabled",!1),i.Factory.addGetterSetter(L,"hitStrokeWidth","auto",(0,r.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(L,"strokeHitEnabled",!0,(0,r.getBooleanValidator)()),i.Factory.addGetterSetter(L,"perfectDrawEnabled",!0,(0,r.getBooleanValidator)()),i.Factory.addGetterSetter(L,"shadowForStrokeEnabled",!0,(0,r.getBooleanValidator)()),i.Factory.addGetterSetter(L,"lineJoin"),i.Factory.addGetterSetter(L,"lineCap"),i.Factory.addGetterSetter(L,"sceneFunc"),i.Factory.addGetterSetter(L,"hitFunc"),i.Factory.addGetterSetter(L,"dash"),i.Factory.addGetterSetter(L,"dashOffset",0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(L,"shadowColor",void 0,(0,r.getStringValidator)()),i.Factory.addGetterSetter(L,"shadowBlur",0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(L,"shadowOpacity",1,(0,r.getNumberValidator)()),i.Factory.addComponentsGetterSetter(L,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(L,"shadowOffsetX",0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(L,"shadowOffsetY",0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(L,"fillPatternImage"),i.Factory.addGetterSetter(L,"fill",void 0,(0,r.getStringOrGradientValidator)()),i.Factory.addGetterSetter(L,"fillPatternX",0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(L,"fillPatternY",0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(L,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(L,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(L,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(L,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(L,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(L,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(L,"fillEnabled",!0),i.Factory.addGetterSetter(L,"strokeEnabled",!0),i.Factory.addGetterSetter(L,"shadowEnabled",!0),i.Factory.addGetterSetter(L,"dashEnabled",!0),i.Factory.addGetterSetter(L,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(L,"fillPriority","color"),i.Factory.addComponentsGetterSetter(L,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(L,"fillPatternOffsetX",0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(L,"fillPatternOffsetY",0,(0,r.getNumberValidator)()),i.Factory.addComponentsGetterSetter(L,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(L,"fillPatternScaleX",1,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(L,"fillPatternScaleY",1,(0,r.getNumberValidator)()),i.Factory.addComponentsGetterSetter(L,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(L,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(L,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(L,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(L,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(L,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(L,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(L,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(L,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(L,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(L,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(L,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(L,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(L,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(L,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(L,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(L,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(L,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(L,"fillPatternRotation",0),i.Factory.addGetterSetter(L,"fillRule",void 0,(0,r.getStringValidator)()),i.Factory.backCompat(L,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(FE)),FE}var E9;function sB(){if(E9)return Am;E9=1,Object.defineProperty(Am,"__esModule",{value:!0}),Am.Layer=void 0;const e=Zn(),t=Hx(),n=li(),i=Be(),a=Ux(),r=Ue(),s=Ii(),l=Oe(),c="#",d="beforeDraw",f="draw",m=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],v=m.length;class y extends t.Container{constructor(_){super(_),this.canvas=new a.SceneCanvas,this.hitCanvas=new a.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(_){return this.getContext().clear(_),this.getHitCanvas().getContext().clear(_),this}setZIndex(_){super.setZIndex(_);const E=this.getStage();return E&&E.content&&(E.content.removeChild(this.getNativeCanvasElement()),_<E.children.length-1?E.content.insertBefore(this.getNativeCanvasElement(),E.children[_+1].getCanvas()._canvas):E.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){n.Node.prototype.moveToTop.call(this);const _=this.getStage();return _&&_.content&&(_.content.removeChild(this.getNativeCanvasElement()),_.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!n.Node.prototype.moveUp.call(this))return!1;const E=this.getStage();return!E||!E.content?!1:(E.content.removeChild(this.getNativeCanvasElement()),this.index<E.children.length-1?E.content.insertBefore(this.getNativeCanvasElement(),E.children[this.index+1].getCanvas()._canvas):E.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(n.Node.prototype.moveDown.call(this)){const _=this.getStage();if(_){const E=_.children;_.content&&(_.content.removeChild(this.getNativeCanvasElement()),_.content.insertBefore(this.getNativeCanvasElement(),E[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(n.Node.prototype.moveToBottom.call(this)){const _=this.getStage();if(_){const E=_.children;_.content&&(_.content.removeChild(this.getNativeCanvasElement()),_.content.insertBefore(this.getNativeCanvasElement(),E[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const _=this.getNativeCanvasElement();return n.Node.prototype.remove.call(this),_&&_.parentNode&&e.Util._isInDocument(_)&&_.parentNode.removeChild(_),this}getStage(){return this.parent}setSize({width:_,height:E}){return this.canvas.setSize(_,E),this.hitCanvas.setSize(_,E),this._setSmoothEnabled(),this}_validateAdd(_){const E=_.getType();E!=="Group"&&E!=="Shape"&&e.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(_){return _=_||{},_.width=_.width||this.getWidth(),_.height=_.height||this.getHeight(),_.x=_.x!==void 0?_.x:this.x(),_.y=_.y!==void 0?_.y:this.y(),n.Node.prototype._toKonvaCanvas.call(this,_)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){e.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){e.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,e.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(_){if(!this.isListening()||!this.isVisible())return null;let E=1,R=!1;for(;;){for(let A=0;A<v;A++){const w=m[A],M=this._getIntersection({x:_.x+w.x*E,y:_.y+w.y*E}),D=M.shape;if(D)return D;if(R=!!M.antialiased,!M.antialiased)break}if(R)E+=1;else return null}}_getIntersection(_){const E=this.hitCanvas.pixelRatio,R=this.hitCanvas.context.getImageData(Math.round(_.x*E),Math.round(_.y*E),1,1).data,A=R[3];if(A===255){const w=e.Util._rgbToHex(R[0],R[1],R[2]),M=s.shapes[c+w];return M?{shape:M}:{antialiased:!0}}else if(A>0)return{antialiased:!0};return{}}drawScene(_,E,R){const A=this.getLayer(),w=_||A&&A.getCanvas();return this._fire(d,{node:this}),this.clearBeforeDraw()&&w.getContext().clear(),t.Container.prototype.drawScene.call(this,w,E,R),this._fire(f,{node:this}),this}drawHit(_,E){const R=this.getLayer(),A=_||R&&R.hitCanvas;return R&&R.clearBeforeDraw()&&R.getHitCanvas().getContext().clear(),t.Container.prototype.drawHit.call(this,A,E),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(_){e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(_)}getHitGraphEnabled(_){return e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const _=this.parent;!!this.hitCanvas._canvas.parentNode?_.content.removeChild(this.hitCanvas._canvas):_.content.appendChild(this.hitCanvas._canvas)}destroy(){return e.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return Am.Layer=y,y.prototype.nodeType="Layer",(0,l._registerNode)(y),i.Factory.addGetterSetter(y,"imageSmoothingEnabled",!0),i.Factory.addGetterSetter(y,"clearBeforeDraw",!0),i.Factory.addGetterSetter(y,"hitGraphEnabled",!0,(0,r.getBooleanValidator)()),Am}var Cm={},A9;function spt(){if(A9)return Cm;A9=1,Object.defineProperty(Cm,"__esModule",{value:!0}),Cm.FastLayer=void 0;const e=Zn(),t=sB(),n=Oe();let i=class extends t.Layer{constructor(r){super(r),this.listening(!1),e.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Cm.FastLayer=i,i.prototype.nodeType="FastLayer",(0,n._registerNode)(i),Cm}var Tm={},C9;function XT(){if(C9)return Tm;C9=1,Object.defineProperty(Tm,"__esModule",{value:!0}),Tm.Group=void 0;const e=Zn(),t=Hx(),n=Oe();class i extends t.Container{_validateAdd(r){const s=r.getType();s!=="Group"&&s!=="Shape"&&e.Util.throw("You may only add groups and shapes to groups.")}}return Tm.Group=i,i.prototype.nodeType="Group",(0,n._registerNode)(i),Tm}var Rm={},T9;function $T(){if(T9)return Rm;T9=1,Object.defineProperty(Rm,"__esModule",{value:!0}),Rm.Animation=void 0;const e=Oe(),t=Zn(),n=function(){return e.glob.performance&&e.glob.performance.now?function(){return e.glob.performance.now()}:function(){return new Date().getTime()}}();let i=class Qf{constructor(r,s){this.id=Qf.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:n(),frameRate:0},this.func=r,this.setLayers(s)}setLayers(r){let s=[];return r&&(s=Array.isArray(r)?r:[r]),this.layers=s,this}getLayers(){return this.layers}addLayer(r){const s=this.layers,l=s.length;for(let c=0;c<l;c++)if(s[c]._id===r._id)return!1;return this.layers.push(r),!0}isRunning(){const s=Qf.animations,l=s.length;for(let c=0;c<l;c++)if(s[c].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=n(),Qf._addAnimation(this),this}stop(){return Qf._removeAnimation(this),this}_updateFrameObject(r){this.frame.timeDiff=r-this.frame.lastTime,this.frame.lastTime=r,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(r){this.animations.push(r),this._handleAnimation()}static _removeAnimation(r){const s=r.id,l=this.animations,c=l.length;for(let d=0;d<c;d++)if(l[d].id===s){this.animations.splice(d,1);break}}static _runFrames(){const r={},s=this.animations;for(let l=0;l<s.length;l++){const c=s[l],d=c.layers,f=c.func;c._updateFrameObject(n());const m=d.length;let v;if(f?v=f.call(c,c.frame)!==!1:v=!0,!!v)for(let y=0;y<m;y++){const x=d[y];x._id!==void 0&&(r[x._id]=x)}}for(const l in r)r.hasOwnProperty(l)&&r[l].batchDraw()}static _animationLoop(){const r=Qf;r.animations.length?(r._runFrames(),t.Util.requestAnimFrame(r._animationLoop)):r.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,t.Util.requestAnimFrame(this._animationLoop))}};return Rm.Animation=i,i.animations=[],i.animIdCounter=0,i.animRunning=!1,Rm}var BE={},R9;function opt(){return R9||(R9=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;const t=Zn(),n=$T(),i=li(),a=Oe(),r={node:1,duration:1,easing:1,onFinish:1,yoyo:1},s=1,l=2,c=3,d=["fill","stroke","shadowColor"];let f=0;class m{constructor(x,_,E,R,A,w,M){this.prop=x,this.propFunc=_,this.begin=R,this._pos=R,this.duration=w,this._change=0,this.prevPos=0,this.yoyo=M,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=E,this._change=A-this.begin,this.pause()}fire(x){const _=this[x];_&&_()}setTime(x){x>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():x<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=x,this.update())}getTime(){return this._time}setPosition(x){this.prevPos=this._pos,this.propFunc(x),this._pos=x}getPosition(x){return x===void 0&&(x=this._time),this.func(x,this.begin,this._change,this.duration)}play(){this.state=l,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=c,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(x){this.pause(),this._time=x,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const x=this.getTimer()-this._startTime;this.state===l?this.setTime(x):this.state===c&&this.setTime(this.duration-x)}pause(){this.state=s,this.fire("onPause")}getTimer(){return new Date().getTime()}}class v{constructor(x){const _=this,E=x.node,R=E._id,A=x.easing||e.Easings.Linear,w=!!x.yoyo;let M,D;typeof x.duration>"u"?M=.3:x.duration===0?M=.001:M=x.duration,this.node=E,this._id=f++;const P=E.getLayer()||(E instanceof a.Konva.Stage?E.getLayers():null);P||t.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation(function(){_.tween.onEnterFrame()},P),this.tween=new m(D,function(z){_._tweenFunc(z)},A,0,1,M*1e3,w),this._addListeners(),v.attrs[R]||(v.attrs[R]={}),v.attrs[R][this._id]||(v.attrs[R][this._id]={}),v.tweens[R]||(v.tweens[R]={});for(D in x)r[D]===void 0&&this._addAttr(D,x[D]);this.reset(),this.onFinish=x.onFinish,this.onReset=x.onReset,this.onUpdate=x.onUpdate}_addAttr(x,_){const E=this.node,R=E._id;let A,w,M,D,P;const z=v.tweens[R][x];z&&delete v.attrs[R][z][x];let L=E.getAttr(x);if(t.Util._isArray(_))if(A=[],w=Math.max(_.length,L.length),x==="points"&&_.length!==L.length&&(_.length>L.length?(D=L,L=t.Util._prepareArrayForTween(L,_,E.closed())):(M=_,_=t.Util._prepareArrayForTween(_,L,E.closed()))),x.indexOf("fill")===0)for(let U=0;U<w;U++)if(U%2===0)A.push(_[U]-L[U]);else{const I=t.Util.colorToRGBA(L[U]);P=t.Util.colorToRGBA(_[U]),L[U]=I,A.push({r:P.r-I.r,g:P.g-I.g,b:P.b-I.b,a:P.a-I.a})}else for(let U=0;U<w;U++)A.push(_[U]-L[U]);else d.indexOf(x)!==-1?(L=t.Util.colorToRGBA(L),P=t.Util.colorToRGBA(_),A={r:P.r-L.r,g:P.g-L.g,b:P.b-L.b,a:P.a-L.a}):A=_-L;v.attrs[R][this._id][x]={start:L,diff:A,end:_,trueEnd:M,trueStart:D},v.tweens[R][x]=this._id}_tweenFunc(x){const _=this.node,E=v.attrs[_._id][this._id];let R,A,w,M,D,P,z,L;for(R in E){if(A=E[R],w=A.start,M=A.diff,L=A.end,t.Util._isArray(w))if(D=[],z=Math.max(w.length,L.length),R.indexOf("fill")===0)for(P=0;P<z;P++)P%2===0?D.push((w[P]||0)+M[P]*x):D.push("rgba("+Math.round(w[P].r+M[P].r*x)+","+Math.round(w[P].g+M[P].g*x)+","+Math.round(w[P].b+M[P].b*x)+","+(w[P].a+M[P].a*x)+")");else for(P=0;P<z;P++)D.push((w[P]||0)+M[P]*x);else d.indexOf(R)!==-1?D="rgba("+Math.round(w.r+M.r*x)+","+Math.round(w.g+M.g*x)+","+Math.round(w.b+M.b*x)+","+(w.a+M.a*x)+")":D=w+M*x;_.setAttr(R,D)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const x=this.node,_=v.attrs[x._id][this._id];_.points&&_.points.trueEnd&&x.setAttr("points",_.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const x=this.node,_=v.attrs[x._id][this._id];_.points&&_.points.trueStart&&x.points(_.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(x){return this.tween.seek(x*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const x=this.node._id,_=this._id,E=v.tweens[x];this.pause(),this.anim&&this.anim.stop();for(const R in E)delete v.tweens[x][R];delete v.attrs[x][_],Object.keys(v.tweens[x]).length===0&&delete v.tweens[x],Object.keys(v.attrs[x]).length===0&&delete v.attrs[x]}}e.Tween=v,v.attrs={},v.tweens={},i.Node.prototype.to=function(y){const x=y.onFinish;y.node=this,y.onFinish=function(){this.destroy(),x&&x()},new v(y).play()},e.Easings={BackEaseIn(y,x,_,E){return _*(y/=E)*y*((1.70158+1)*y-1.70158)+x},BackEaseOut(y,x,_,E){return _*((y=y/E-1)*y*((1.70158+1)*y+1.70158)+1)+x},BackEaseInOut(y,x,_,E){let R=1.70158;return(y/=E/2)<1?_/2*(y*y*(((R*=1.525)+1)*y-R))+x:_/2*((y-=2)*y*(((R*=1.525)+1)*y+R)+2)+x},ElasticEaseIn(y,x,_,E,R,A){let w=0;return y===0?x:(y/=E)===1?x+_:(A||(A=E*.3),!R||R<Math.abs(_)?(R=_,w=A/4):w=A/(2*Math.PI)*Math.asin(_/R),-(R*Math.pow(2,10*(y-=1))*Math.sin((y*E-w)*(2*Math.PI)/A))+x)},ElasticEaseOut(y,x,_,E,R,A){let w=0;return y===0?x:(y/=E)===1?x+_:(A||(A=E*.3),!R||R<Math.abs(_)?(R=_,w=A/4):w=A/(2*Math.PI)*Math.asin(_/R),R*Math.pow(2,-10*y)*Math.sin((y*E-w)*(2*Math.PI)/A)+_+x)},ElasticEaseInOut(y,x,_,E,R,A){let w=0;return y===0?x:(y/=E/2)===2?x+_:(A||(A=E*(.3*1.5)),!R||R<Math.abs(_)?(R=_,w=A/4):w=A/(2*Math.PI)*Math.asin(_/R),y<1?-.5*(R*Math.pow(2,10*(y-=1))*Math.sin((y*E-w)*(2*Math.PI)/A))+x:R*Math.pow(2,-10*(y-=1))*Math.sin((y*E-w)*(2*Math.PI)/A)*.5+_+x)},BounceEaseOut(y,x,_,E){return(y/=E)<1/2.75?_*(7.5625*y*y)+x:y<2/2.75?_*(7.5625*(y-=1.5/2.75)*y+.75)+x:y<2.5/2.75?_*(7.5625*(y-=2.25/2.75)*y+.9375)+x:_*(7.5625*(y-=2.625/2.75)*y+.984375)+x},BounceEaseIn(y,x,_,E){return _-e.Easings.BounceEaseOut(E-y,0,_,E)+x},BounceEaseInOut(y,x,_,E){return y<E/2?e.Easings.BounceEaseIn(y*2,0,_,E)*.5+x:e.Easings.BounceEaseOut(y*2-E,0,_,E)*.5+_*.5+x},EaseIn(y,x,_,E){return _*(y/=E)*y+x},EaseOut(y,x,_,E){return-_*(y/=E)*(y-2)+x},EaseInOut(y,x,_,E){return(y/=E/2)<1?_/2*y*y+x:-_/2*(--y*(y-2)-1)+x},StrongEaseIn(y,x,_,E){return _*(y/=E)*y*y*y*y+x},StrongEaseOut(y,x,_,E){return _*((y=y/E-1)*y*y*y*y+1)+x},StrongEaseInOut(y,x,_,E){return(y/=E/2)<1?_/2*y*y*y*y*y+x:_/2*((y-=2)*y*y*y*y+2)+x},Linear(y,x,_,E){return _*y/E+x}}}(BE)),BE}var M9;function sC(){return M9||(M9=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const t=Oe(),n=Zn(),i=li(),a=Hx(),r=rpt(),s=sB(),l=spt(),c=XT(),d=KT(),f=Ii(),m=$T(),v=opt(),y=aB(),x=Ux();e.Konva=n.Util._assign(t.Konva,{Util:n.Util,Transform:n.Transform,Node:i.Node,Container:a.Container,Stage:r.Stage,stages:r.stages,Layer:s.Layer,FastLayer:l.FastLayer,Group:c.Group,DD:d.DD,Shape:f.Shape,shapes:f.shapes,Animation:m.Animation,Tween:v.Tween,Easings:v.Easings,Context:y.Context,Canvas:x.Canvas}),e.default=e.Konva}(OE)),OE}var Mm={},D9;function lpt(){if(D9)return Mm;D9=1,Object.defineProperty(Mm,"__esModule",{value:!0}),Mm.Arc=void 0;const e=Be(),t=Ii(),n=Oe(),i=Ue(),a=Oe();let r=class extends t.Shape{_sceneFunc(l){const c=n.Konva.getAngle(this.angle()),d=this.clockwise();l.beginPath(),l.arc(0,0,this.outerRadius(),0,c,d),l.arc(0,0,this.innerRadius(),c,0,!d),l.closePath(),l.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(l){this.outerRadius(l/2)}setHeight(l){this.outerRadius(l/2)}getSelfRect(){const l=this.innerRadius(),c=this.outerRadius(),d=this.clockwise(),f=n.Konva.getAngle(d?360-this.angle():this.angle()),m=Math.cos(Math.min(f,Math.PI)),v=1,y=Math.sin(Math.min(Math.max(Math.PI,f),3*Math.PI/2)),x=Math.sin(Math.min(f,Math.PI/2)),_=m*(m>0?l:c),E=v*c,R=y*(y>0?l:c),A=x*(x>0?c:l);return{x:_,y:d?-1*A:R,width:E-_,height:A-R}}};return Mm.Arc=r,r.prototype._centroid=!0,r.prototype.className="Arc",r.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,a._registerNode)(r),e.Factory.addGetterSetter(r,"innerRadius",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(r,"outerRadius",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(r,"angle",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(r,"clockwise",!1,(0,i.getBooleanValidator)()),Mm}var Dm={},Om={},O9;function oB(){if(O9)return Om;O9=1,Object.defineProperty(Om,"__esModule",{value:!0}),Om.Line=void 0;const e=Be(),t=Oe(),n=Ii(),i=Ue();function a(l,c,d,f,m,v,y){const x=Math.sqrt(Math.pow(d-l,2)+Math.pow(f-c,2)),_=Math.sqrt(Math.pow(m-d,2)+Math.pow(v-f,2)),E=y*x/(x+_),R=y*_/(x+_),A=d-E*(m-l),w=f-E*(v-c),M=d+R*(m-l),D=f+R*(v-c);return[A,w,M,D]}function r(l,c){const d=l.length,f=[];for(let m=2;m<d-2;m+=2){const v=a(l[m-2],l[m-1],l[m],l[m+1],l[m+2],l[m+3],c);isNaN(v[0])||(f.push(v[0]),f.push(v[1]),f.push(l[m]),f.push(l[m+1]),f.push(v[2]),f.push(v[3]))}return f}class s extends n.Shape{constructor(c){super(c),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(c){const d=this.points(),f=d.length,m=this.tension(),v=this.closed(),y=this.bezier();if(!f)return;let x=0;if(c.beginPath(),c.moveTo(d[0],d[1]),m!==0&&f>4){const _=this.getTensionPoints(),E=_.length;for(x=v?0:4,v||c.quadraticCurveTo(_[0],_[1],_[2],_[3]);x<E-2;)c.bezierCurveTo(_[x++],_[x++],_[x++],_[x++],_[x++],_[x++]);v||c.quadraticCurveTo(_[E-2],_[E-1],d[f-2],d[f-1])}else if(y)for(x=2;x<f;)c.bezierCurveTo(d[x++],d[x++],d[x++],d[x++],d[x++],d[x++]);else for(x=2;x<f;x+=2)c.lineTo(d[x],d[x+1]);v?(c.closePath(),c.fillStrokeShape(this)):c.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():r(this.points(),this.tension())}_getTensionPointsClosed(){const c=this.points(),d=c.length,f=this.tension(),m=a(c[d-2],c[d-1],c[0],c[1],c[2],c[3],f),v=a(c[d-4],c[d-3],c[d-2],c[d-1],c[0],c[1],f),y=r(c,f);return[m[2],m[3]].concat(y).concat([v[0],v[1],c[d-2],c[d-1],v[2],v[3],m[0],m[1],c[0],c[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let c=this.points();if(c.length<4)return{x:c[0]||0,y:c[1]||0,width:0,height:0};this.tension()!==0?c=[c[0],c[1],...this._getTensionPoints(),c[c.length-2],c[c.length-1]]:c=this.points();let d=c[0],f=c[0],m=c[1],v=c[1],y,x;for(let _=0;_<c.length/2;_++)y=c[_*2],x=c[_*2+1],d=Math.min(d,y),f=Math.max(f,y),m=Math.min(m,x),v=Math.max(v,x);return{x:d,y:m,width:f-d,height:v-m}}}return Om.Line=s,s.prototype.className="Line",s.prototype._attrsAffectingSize=["points","bezier","tension"],(0,t._registerNode)(s),e.Factory.addGetterSetter(s,"closed",!1),e.Factory.addGetterSetter(s,"bezier",!1),e.Factory.addGetterSetter(s,"tension",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(s,"points",[],(0,i.getNumberArrayValidator)()),Om}var Nm={},IE={},N9;function cpt(){return N9||(N9=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.t2length=e.getQuadraticArcLength=e.getCubicArcLength=e.binomialCoefficients=e.cValues=e.tValues=void 0,e.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],e.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],e.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const t=(s,l,c)=>{let d,f;const v=c/2;d=0;for(let y=0;y<20;y++)f=v*e.tValues[20][y]+v,d+=e.cValues[20][y]*i(s,l,f);return v*d};e.getCubicArcLength=t;const n=(s,l,c)=>{c===void 0&&(c=1);const d=s[0]-2*s[1]+s[2],f=l[0]-2*l[1]+l[2],m=2*s[1]-2*s[0],v=2*l[1]-2*l[0],y=4*(d*d+f*f),x=4*(d*m+f*v),_=m*m+v*v;if(y===0)return c*Math.sqrt(Math.pow(s[2]-s[0],2)+Math.pow(l[2]-l[0],2));const E=x/(2*y),R=_/y,A=c+E,w=R-E*E,M=A*A+w>0?Math.sqrt(A*A+w):0,D=E*E+w>0?Math.sqrt(E*E+w):0,P=E+Math.sqrt(E*E+w)!==0?w*Math.log(Math.abs((A+M)/(E+D))):0;return Math.sqrt(y)/2*(A*M-E*D+P)};e.getQuadraticArcLength=n;function i(s,l,c){const d=a(1,c,s),f=a(1,c,l),m=d*d+f*f;return Math.sqrt(m)}const a=(s,l,c)=>{const d=c.length-1;let f,m;if(d===0)return 0;if(s===0){m=0;for(let v=0;v<=d;v++)m+=e.binomialCoefficients[d][v]*Math.pow(1-l,d-v)*Math.pow(l,v)*c[v];return m}else{f=new Array(d);for(let v=0;v<d;v++)f[v]=d*(c[v+1]-c[v]);return a(s-1,l,f)}},r=(s,l,c)=>{let d=1,f=s/l,m=(s-c(f))/l,v=0;for(;d>.001;){const y=c(f+m),x=Math.abs(s-y)/l;if(x<d)d=x,f+=m;else{const _=c(f-m),E=Math.abs(s-_)/l;E<d?(d=E,f-=m):m/=2}if(v++,v>500)break}return f};e.t2length=r}(IE)),IE}var P9;function WT(){if(P9)return Nm;P9=1,Object.defineProperty(Nm,"__esModule",{value:!0}),Nm.Path=void 0;const e=Be(),t=Oe(),n=Ii(),i=cpt();let a=class er extends n.Shape{constructor(s){super(s),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=er.parsePathData(this.data()),this.pathLength=er.getPathLength(this.dataArray)}_sceneFunc(s){const l=this.dataArray;s.beginPath();let c=!1;for(let d=0;d<l.length;d++){const f=l[d].command,m=l[d].points;switch(f){case"L":s.lineTo(m[0],m[1]);break;case"M":s.moveTo(m[0],m[1]);break;case"C":s.bezierCurveTo(m[0],m[1],m[2],m[3],m[4],m[5]);break;case"Q":s.quadraticCurveTo(m[0],m[1],m[2],m[3]);break;case"A":const v=m[0],y=m[1],x=m[2],_=m[3],E=m[4],R=m[5],A=m[6],w=m[7],M=x>_?x:_,D=x>_?1:x/_,P=x>_?_/x:1;s.translate(v,y),s.rotate(A),s.scale(D,P),s.arc(0,0,M,E,E+R,1-w),s.scale(1/D,1/P),s.rotate(-A),s.translate(-v,-y);break;case"z":c=!0,s.closePath();break}}!c&&!this.hasFill()?s.strokeShape(this):s.fillStrokeShape(this)}getSelfRect(){let s=[];this.dataArray.forEach(function(y){if(y.command==="A"){const x=y.points[4],_=y.points[5],E=y.points[4]+_;let R=Math.PI/180;if(Math.abs(x-E)<R&&(R=Math.abs(x-E)),_<0)for(let A=x-R;A>E;A-=R){const w=er.getPointOnEllipticalArc(y.points[0],y.points[1],y.points[2],y.points[3],A,0);s.push(w.x,w.y)}else for(let A=x+R;A<E;A+=R){const w=er.getPointOnEllipticalArc(y.points[0],y.points[1],y.points[2],y.points[3],A,0);s.push(w.x,w.y)}}else if(y.command==="C")for(let x=0;x<=1;x+=.01){const _=er.getPointOnCubicBezier(x,y.start.x,y.start.y,y.points[0],y.points[1],y.points[2],y.points[3],y.points[4],y.points[5]);s.push(_.x,_.y)}else s=s.concat(y.points)});let l=s[0],c=s[0],d=s[1],f=s[1],m,v;for(let y=0;y<s.length/2;y++)m=s[y*2],v=s[y*2+1],isNaN(m)||(l=Math.min(l,m),c=Math.max(c,m)),isNaN(v)||(d=Math.min(d,v),f=Math.max(f,v));return{x:l,y:d,width:c-l,height:f-d}}getLength(){return this.pathLength}getPointAtLength(s){return er.getPointAtLengthOfDataArray(s,this.dataArray)}static getLineLength(s,l,c,d){return Math.sqrt((c-s)*(c-s)+(d-l)*(d-l))}static getPathLength(s){let l=0;for(let c=0;c<s.length;++c)l+=s[c].pathLength;return l}static getPointAtLengthOfDataArray(s,l){let c,d=0,f=l.length;if(!f)return null;for(;d<f&&s>l[d].pathLength;)s-=l[d].pathLength,++d;if(d===f)return c=l[d-1].points.slice(-2),{x:c[0],y:c[1]};if(s<.01)return l[d].command==="M"?(c=l[d].points.slice(0,2),{x:c[0],y:c[1]}):{x:l[d].start.x,y:l[d].start.y};const m=l[d],v=m.points;switch(m.command){case"L":return er.getPointOnLine(s,m.start.x,m.start.y,v[0],v[1]);case"C":return er.getPointOnCubicBezier((0,i.t2length)(s,er.getPathLength(l),M=>(0,i.getCubicArcLength)([m.start.x,v[0],v[2],v[4]],[m.start.y,v[1],v[3],v[5]],M)),m.start.x,m.start.y,v[0],v[1],v[2],v[3],v[4],v[5]);case"Q":return er.getPointOnQuadraticBezier((0,i.t2length)(s,er.getPathLength(l),M=>(0,i.getQuadraticArcLength)([m.start.x,v[0],v[2]],[m.start.y,v[1],v[3]],M)),m.start.x,m.start.y,v[0],v[1],v[2],v[3]);case"A":const y=v[0],x=v[1],_=v[2],E=v[3],R=v[5],A=v[6];let w=v[4];return w+=R*s/m.pathLength,er.getPointOnEllipticalArc(y,x,_,E,w,A)}return null}static getPointOnLine(s,l,c,d,f,m,v){m=m??l,v=v??c;const y=this.getLineLength(l,c,d,f);if(y<1e-10)return{x:l,y:c};if(d===l)return{x:m,y:v+(f>c?s:-s)};const x=(f-c)/(d-l),_=Math.sqrt(s*s/(1+x*x))*(d<l?-1:1),E=x*_;if(Math.abs(v-c-x*(m-l))<1e-10)return{x:m+_,y:v+E};const R=((m-l)*(d-l)+(v-c)*(f-c))/(y*y),A=l+R*(d-l),w=c+R*(f-c),M=this.getLineLength(m,v,A,w),D=Math.sqrt(s*s-M*M),P=Math.sqrt(D*D/(1+x*x))*(d<l?-1:1),z=x*P;return{x:A+P,y:w+z}}static getPointOnCubicBezier(s,l,c,d,f,m,v,y,x){function _(D){return D*D*D}function E(D){return 3*D*D*(1-D)}function R(D){return 3*D*(1-D)*(1-D)}function A(D){return(1-D)*(1-D)*(1-D)}const w=y*_(s)+m*E(s)+d*R(s)+l*A(s),M=x*_(s)+v*E(s)+f*R(s)+c*A(s);return{x:w,y:M}}static getPointOnQuadraticBezier(s,l,c,d,f,m,v){function y(A){return A*A}function x(A){return 2*A*(1-A)}function _(A){return(1-A)*(1-A)}const E=m*y(s)+d*x(s)+l*_(s),R=v*y(s)+f*x(s)+c*_(s);return{x:E,y:R}}static getPointOnEllipticalArc(s,l,c,d,f,m){const v=Math.cos(m),y=Math.sin(m),x={x:c*Math.cos(f),y:d*Math.sin(f)};return{x:s+(x.x*v-x.y*y),y:l+(x.x*y+x.y*v)}}static parsePathData(s){if(!s)return[];let l=s;const c=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];l=l.replace(new RegExp(" ","g"),",");for(let E=0;E<c.length;E++)l=l.replace(new RegExp(c[E],"g"),"|"+c[E]);const d=l.split("|"),f=[],m=[];let v=0,y=0;const x=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let _;for(let E=1;E<d.length;E++){let R=d[E],A=R.charAt(0);for(R=R.slice(1),m.length=0;_=x.exec(R);)m.push(_[0]);const w=[];for(let M=0,D=m.length;M<D;M++){if(m[M]==="00"){w.push(0,0);continue}const P=parseFloat(m[M]);isNaN(P)?w.push(0):w.push(P)}for(;w.length>0&&!isNaN(w[0]);){let M="",D=[];const P=v,z=y;let L,U,I,q,J,it,at,et,Z,B;switch(A){case"l":v+=w.shift(),y+=w.shift(),M="L",D.push(v,y);break;case"L":v=w.shift(),y=w.shift(),D.push(v,y);break;case"m":const V=w.shift(),W=w.shift();if(v+=V,y+=W,M="M",f.length>2&&f[f.length-1].command==="z"){for(let H=f.length-2;H>=0;H--)if(f[H].command==="M"){v=f[H].points[0]+V,y=f[H].points[1]+W;break}}D.push(v,y),A="l";break;case"M":v=w.shift(),y=w.shift(),M="M",D.push(v,y),A="L";break;case"h":v+=w.shift(),M="L",D.push(v,y);break;case"H":v=w.shift(),M="L",D.push(v,y);break;case"v":y+=w.shift(),M="L",D.push(v,y);break;case"V":y=w.shift(),M="L",D.push(v,y);break;case"C":D.push(w.shift(),w.shift(),w.shift(),w.shift()),v=w.shift(),y=w.shift(),D.push(v,y);break;case"c":D.push(v+w.shift(),y+w.shift(),v+w.shift(),y+w.shift()),v+=w.shift(),y+=w.shift(),M="C",D.push(v,y);break;case"S":U=v,I=y,L=f[f.length-1],L.command==="C"&&(U=v+(v-L.points[2]),I=y+(y-L.points[3])),D.push(U,I,w.shift(),w.shift()),v=w.shift(),y=w.shift(),M="C",D.push(v,y);break;case"s":U=v,I=y,L=f[f.length-1],L.command==="C"&&(U=v+(v-L.points[2]),I=y+(y-L.points[3])),D.push(U,I,v+w.shift(),y+w.shift()),v+=w.shift(),y+=w.shift(),M="C",D.push(v,y);break;case"Q":D.push(w.shift(),w.shift()),v=w.shift(),y=w.shift(),D.push(v,y);break;case"q":D.push(v+w.shift(),y+w.shift()),v+=w.shift(),y+=w.shift(),M="Q",D.push(v,y);break;case"T":U=v,I=y,L=f[f.length-1],L.command==="Q"&&(U=v+(v-L.points[0]),I=y+(y-L.points[1])),v=w.shift(),y=w.shift(),M="Q",D.push(U,I,v,y);break;case"t":U=v,I=y,L=f[f.length-1],L.command==="Q"&&(U=v+(v-L.points[0]),I=y+(y-L.points[1])),v+=w.shift(),y+=w.shift(),M="Q",D.push(U,I,v,y);break;case"A":q=w.shift(),J=w.shift(),it=w.shift(),at=w.shift(),et=w.shift(),Z=v,B=y,v=w.shift(),y=w.shift(),M="A",D=this.convertEndpointToCenterParameterization(Z,B,v,y,at,et,q,J,it);break;case"a":q=w.shift(),J=w.shift(),it=w.shift(),at=w.shift(),et=w.shift(),Z=v,B=y,v+=w.shift(),y+=w.shift(),M="A",D=this.convertEndpointToCenterParameterization(Z,B,v,y,at,et,q,J,it);break}f.push({command:M||A,points:D,start:{x:P,y:z},pathLength:this.calcLength(P,z,M||A,D)})}(A==="z"||A==="Z")&&f.push({command:"z",points:[],start:void 0,pathLength:0})}return f}static calcLength(s,l,c,d){let f,m,v,y;const x=er;switch(c){case"L":return x.getLineLength(s,l,d[0],d[1]);case"C":return(0,i.getCubicArcLength)([s,d[0],d[2],d[4]],[l,d[1],d[3],d[5]],1);case"Q":return(0,i.getQuadraticArcLength)([s,d[0],d[2]],[l,d[1],d[3]],1);case"A":f=0;const _=d[4],E=d[5],R=d[4]+E;let A=Math.PI/180;if(Math.abs(_-R)<A&&(A=Math.abs(_-R)),m=x.getPointOnEllipticalArc(d[0],d[1],d[2],d[3],_,0),E<0)for(y=_-A;y>R;y-=A)v=x.getPointOnEllipticalArc(d[0],d[1],d[2],d[3],y,0),f+=x.getLineLength(m.x,m.y,v.x,v.y),m=v;else for(y=_+A;y<R;y+=A)v=x.getPointOnEllipticalArc(d[0],d[1],d[2],d[3],y,0),f+=x.getLineLength(m.x,m.y,v.x,v.y),m=v;return v=x.getPointOnEllipticalArc(d[0],d[1],d[2],d[3],R,0),f+=x.getLineLength(m.x,m.y,v.x,v.y),f}return 0}static convertEndpointToCenterParameterization(s,l,c,d,f,m,v,y,x){const _=x*(Math.PI/180),E=Math.cos(_)*(s-c)/2+Math.sin(_)*(l-d)/2,R=-1*Math.sin(_)*(s-c)/2+Math.cos(_)*(l-d)/2,A=E*E/(v*v)+R*R/(y*y);A>1&&(v*=Math.sqrt(A),y*=Math.sqrt(A));let w=Math.sqrt((v*v*(y*y)-v*v*(R*R)-y*y*(E*E))/(v*v*(R*R)+y*y*(E*E)));f===m&&(w*=-1),isNaN(w)&&(w=0);const M=w*v*R/y,D=w*-y*E/v,P=(s+c)/2+Math.cos(_)*M-Math.sin(_)*D,z=(l+d)/2+Math.sin(_)*M+Math.cos(_)*D,L=function(et){return Math.sqrt(et[0]*et[0]+et[1]*et[1])},U=function(et,Z){return(et[0]*Z[0]+et[1]*Z[1])/(L(et)*L(Z))},I=function(et,Z){return(et[0]*Z[1]<et[1]*Z[0]?-1:1)*Math.acos(U(et,Z))},q=I([1,0],[(E-M)/v,(R-D)/y]),J=[(E-M)/v,(R-D)/y],it=[(-1*E-M)/v,(-1*R-D)/y];let at=I(J,it);return U(J,it)<=-1&&(at=Math.PI),U(J,it)>=1&&(at=0),m===0&&at>0&&(at=at-2*Math.PI),m===1&&at<0&&(at=at+2*Math.PI),[P,z,v,y,q,at,_,m]}};return Nm.Path=a,a.prototype.className="Path",a.prototype._attrsAffectingSize=["data"],(0,t._registerNode)(a),e.Factory.addGetterSetter(a,"data"),Nm}var L9;function upt(){if(L9)return Dm;L9=1,Object.defineProperty(Dm,"__esModule",{value:!0}),Dm.Arrow=void 0;const e=Be(),t=oB(),n=Ue(),i=Oe(),a=WT();class r extends t.Line{_sceneFunc(l){super._sceneFunc(l);const c=Math.PI*2,d=this.points();let f=d;const m=this.tension()!==0&&d.length>4;m&&(f=this.getTensionPoints());const v=this.pointerLength(),y=d.length;let x,_;if(m){const A=[f[f.length-4],f[f.length-3],f[f.length-2],f[f.length-1],d[y-2],d[y-1]],w=a.Path.calcLength(f[f.length-4],f[f.length-3],"C",A),M=a.Path.getPointOnQuadraticBezier(Math.min(1,1-v/w),A[0],A[1],A[2],A[3],A[4],A[5]);x=d[y-2]-M.x,_=d[y-1]-M.y}else x=d[y-2]-d[y-4],_=d[y-1]-d[y-3];const E=(Math.atan2(_,x)+c)%c,R=this.pointerWidth();this.pointerAtEnding()&&(l.save(),l.beginPath(),l.translate(d[y-2],d[y-1]),l.rotate(E),l.moveTo(0,0),l.lineTo(-v,R/2),l.lineTo(-v,-R/2),l.closePath(),l.restore(),this.__fillStroke(l)),this.pointerAtBeginning()&&(l.save(),l.beginPath(),l.translate(d[0],d[1]),m?(x=(f[0]+f[2])/2-d[0],_=(f[1]+f[3])/2-d[1]):(x=d[2]-d[0],_=d[3]-d[1]),l.rotate((Math.atan2(-_,-x)+c)%c),l.moveTo(0,0),l.lineTo(-v,R/2),l.lineTo(-v,-R/2),l.closePath(),l.restore(),this.__fillStroke(l))}__fillStroke(l){const c=this.dashEnabled();c&&(this.attrs.dashEnabled=!1,l.setLineDash([])),l.fillStrokeShape(this),c&&(this.attrs.dashEnabled=!0)}getSelfRect(){const l=super.getSelfRect(),c=this.pointerWidth()/2;return{x:l.x,y:l.y-c,width:l.width,height:l.height+c*2}}}return Dm.Arrow=r,r.prototype.className="Arrow",(0,i._registerNode)(r),e.Factory.addGetterSetter(r,"pointerLength",10,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(r,"pointerWidth",10,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(r,"pointerAtBeginning",!1),e.Factory.addGetterSetter(r,"pointerAtEnding",!0),Dm}var Pm={},k9;function dpt(){if(k9)return Pm;k9=1,Object.defineProperty(Pm,"__esModule",{value:!0}),Pm.Circle=void 0;const e=Be(),t=Ii(),n=Ue(),i=Oe();class a extends t.Shape{_sceneFunc(s){s.beginPath(),s.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(s){this.radius()!==s/2&&this.radius(s/2)}setHeight(s){this.radius()!==s/2&&this.radius(s/2)}}return Pm.Circle=a,a.prototype._centroid=!0,a.prototype.className="Circle",a.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(a),e.Factory.addGetterSetter(a,"radius",0,(0,n.getNumberValidator)()),Pm}var Lm={},j9;function hpt(){if(j9)return Lm;j9=1,Object.defineProperty(Lm,"__esModule",{value:!0}),Lm.Ellipse=void 0;const e=Be(),t=Ii(),n=Ue(),i=Oe();let a=class extends t.Shape{_sceneFunc(s){const l=this.radiusX(),c=this.radiusY();s.beginPath(),s.save(),l!==c&&s.scale(1,c/l),s.arc(0,0,l,0,Math.PI*2,!1),s.restore(),s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(s){this.radiusX(s/2)}setHeight(s){this.radiusY(s/2)}};return Lm.Ellipse=a,a.prototype.className="Ellipse",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,i._registerNode)(a),e.Factory.addComponentsGetterSetter(a,"radius",["x","y"]),e.Factory.addGetterSetter(a,"radiusX",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(a,"radiusY",0,(0,n.getNumberValidator)()),Lm}var km={},F9;function fpt(){if(F9)return km;F9=1,Object.defineProperty(km,"__esModule",{value:!0}),km.Image=void 0;const e=Zn(),t=Be(),n=Ii(),i=Oe(),a=Ue();class r extends n.Shape{constructor(l){super(l),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",c=>{this._removeImageLoad(c.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const l=this.image();l&&l.complete||l&&l.readyState===4||l&&l.addEventListener&&l.addEventListener("load",this._loadListener)}_removeImageLoad(l){l&&l.removeEventListener&&l.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const l=!!this.cornerRadius(),c=this.hasShadow();return l&&c?!0:super._useBufferCanvas(!0)}_sceneFunc(l){const c=this.getWidth(),d=this.getHeight(),f=this.cornerRadius(),m=this.attrs.image;let v;if(m){const y=this.attrs.cropWidth,x=this.attrs.cropHeight;y&&x?v=[m,this.cropX(),this.cropY(),y,x,0,0,c,d]:v=[m,0,0,c,d]}(this.hasFill()||this.hasStroke()||f)&&(l.beginPath(),f?e.Util.drawRoundedRectPath(l,c,d,f):l.rect(0,0,c,d),l.closePath(),l.fillStrokeShape(this)),m&&(f&&l.clip(),l.drawImage.apply(l,v))}_hitFunc(l){const c=this.width(),d=this.height(),f=this.cornerRadius();l.beginPath(),f?e.Util.drawRoundedRectPath(l,c,d,f):l.rect(0,0,c,d),l.closePath(),l.fillStrokeShape(this)}getWidth(){var l,c;return(l=this.attrs.width)!==null&&l!==void 0?l:(c=this.image())===null||c===void 0?void 0:c.width}getHeight(){var l,c;return(l=this.attrs.height)!==null&&l!==void 0?l:(c=this.image())===null||c===void 0?void 0:c.height}static fromURL(l,c,d=null){const f=e.Util.createImageElement();f.onload=function(){const m=new r({image:f});c(m)},f.onerror=d,f.crossOrigin="Anonymous",f.src=l}}return km.Image=r,r.prototype.className="Image",(0,i._registerNode)(r),t.Factory.addGetterSetter(r,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4)),t.Factory.addGetterSetter(r,"image"),t.Factory.addComponentsGetterSetter(r,"crop",["x","y","width","height"]),t.Factory.addGetterSetter(r,"cropX",0,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(r,"cropY",0,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(r,"cropWidth",0,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(r,"cropHeight",0,(0,a.getNumberValidator)()),km}var Cd={},B9;function ppt(){if(B9)return Cd;B9=1,Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.Tag=Cd.Label=void 0;const e=Be(),t=Ii(),n=XT(),i=Ue(),a=Oe(),r=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],s="Change.konva",l="none",c="up",d="right",f="down",m="left",v=r.length;let y=class extends n.Group{constructor(E){super(E),this.on("add.konva",function(R){this._addListeners(R.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(E){let R=this,A;const w=function(){R._sync()};for(A=0;A<v;A++)E.on(r[A]+s,w)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let E=this.getText(),R=this.getTag(),A,w,M,D,P,z,L;if(E&&R){switch(A=E.width(),w=E.height(),M=R.pointerDirection(),D=R.pointerWidth(),L=R.pointerHeight(),P=0,z=0,M){case c:P=A/2,z=-1*L;break;case d:P=A+D,z=w/2;break;case f:P=A/2,z=w+L;break;case m:P=-1*D,z=w/2;break}R.setAttrs({x:-1*P,y:-1*z,width:A,height:w}),E.setAttrs({x:-1*P,y:-1*z})}}};Cd.Label=y,y.prototype.className="Label",(0,a._registerNode)(y);class x extends t.Shape{_sceneFunc(E){const R=this.width(),A=this.height(),w=this.pointerDirection(),M=this.pointerWidth(),D=this.pointerHeight(),P=this.cornerRadius();let z=0,L=0,U=0,I=0;typeof P=="number"?z=L=U=I=Math.min(P,R/2,A/2):(z=Math.min(P[0]||0,R/2,A/2),L=Math.min(P[1]||0,R/2,A/2),I=Math.min(P[2]||0,R/2,A/2),U=Math.min(P[3]||0,R/2,A/2)),E.beginPath(),E.moveTo(z,0),w===c&&(E.lineTo((R-M)/2,0),E.lineTo(R/2,-1*D),E.lineTo((R+M)/2,0)),E.lineTo(R-L,0),E.arc(R-L,L,L,Math.PI*3/2,0,!1),w===d&&(E.lineTo(R,(A-D)/2),E.lineTo(R+M,A/2),E.lineTo(R,(A+D)/2)),E.lineTo(R,A-I),E.arc(R-I,A-I,I,0,Math.PI/2,!1),w===f&&(E.lineTo((R+M)/2,A),E.lineTo(R/2,A+D),E.lineTo((R-M)/2,A)),E.lineTo(U,A),E.arc(U,A-U,U,Math.PI/2,Math.PI,!1),w===m&&(E.lineTo(0,(A+D)/2),E.lineTo(-1*M,A/2),E.lineTo(0,(A-D)/2)),E.lineTo(0,z),E.arc(z,z,z,Math.PI,Math.PI*3/2,!1),E.closePath(),E.fillStrokeShape(this)}getSelfRect(){let E=0,R=0,A=this.pointerWidth(),w=this.pointerHeight(),M=this.pointerDirection(),D=this.width(),P=this.height();return M===c?(R-=w,P+=w):M===f?P+=w:M===m?(E-=A*1.5,D+=A):M===d&&(D+=A*1.5),{x:E,y:R,width:D,height:P}}}return Cd.Tag=x,x.prototype.className="Tag",(0,a._registerNode)(x),e.Factory.addGetterSetter(x,"pointerDirection",l),e.Factory.addGetterSetter(x,"pointerWidth",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(x,"pointerHeight",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(x,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),Cd}var jm={},I9;function lB(){if(I9)return jm;I9=1,Object.defineProperty(jm,"__esModule",{value:!0}),jm.Rect=void 0;const e=Be(),t=Ii(),n=Oe(),i=Zn(),a=Ue();class r extends t.Shape{_sceneFunc(l){const c=this.cornerRadius(),d=this.width(),f=this.height();l.beginPath(),c?i.Util.drawRoundedRectPath(l,d,f,c):l.rect(0,0,d,f),l.closePath(),l.fillStrokeShape(this)}}return jm.Rect=r,r.prototype.className="Rect",(0,n._registerNode)(r),e.Factory.addGetterSetter(r,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4)),jm}var Fm={},z9;function gpt(){if(z9)return Fm;z9=1,Object.defineProperty(Fm,"__esModule",{value:!0}),Fm.RegularPolygon=void 0;const e=Be(),t=Ii(),n=Ue(),i=Oe();let a=class extends t.Shape{_sceneFunc(s){const l=this._getPoints();s.beginPath(),s.moveTo(l[0].x,l[0].y);for(let c=1;c<l.length;c++)s.lineTo(l[c].x,l[c].y);s.closePath(),s.fillStrokeShape(this)}_getPoints(){const s=this.attrs.sides,l=this.attrs.radius||0,c=[];for(let d=0;d<s;d++)c.push({x:l*Math.sin(d*2*Math.PI/s),y:-1*l*Math.cos(d*2*Math.PI/s)});return c}getSelfRect(){const s=this._getPoints();let l=s[0].x,c=s[0].y,d=s[0].x,f=s[0].y;return s.forEach(m=>{l=Math.min(l,m.x),c=Math.max(c,m.x),d=Math.min(d,m.y),f=Math.max(f,m.y)}),{x:l,y:d,width:c-l,height:f-d}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(s){this.radius(s/2)}setHeight(s){this.radius(s/2)}};return Fm.RegularPolygon=a,a.prototype.className="RegularPolygon",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(a),e.Factory.addGetterSetter(a,"radius",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(a,"sides",0,(0,n.getNumberValidator)()),Fm}var Bm={},U9;function mpt(){if(U9)return Bm;U9=1,Object.defineProperty(Bm,"__esModule",{value:!0}),Bm.Ring=void 0;const e=Be(),t=Ii(),n=Ue(),i=Oe(),a=Math.PI*2;let r=class extends t.Shape{_sceneFunc(l){l.beginPath(),l.arc(0,0,this.innerRadius(),0,a,!1),l.moveTo(this.outerRadius(),0),l.arc(0,0,this.outerRadius(),a,0,!0),l.closePath(),l.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(l){this.outerRadius(l/2)}setHeight(l){this.outerRadius(l/2)}};return Bm.Ring=r,r.prototype.className="Ring",r.prototype._centroid=!0,r.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(r),e.Factory.addGetterSetter(r,"innerRadius",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(r,"outerRadius",0,(0,n.getNumberValidator)()),Bm}var Im={},H9;function vpt(){if(H9)return Im;H9=1,Object.defineProperty(Im,"__esModule",{value:!0}),Im.Sprite=void 0;const e=Be(),t=Ii(),n=$T(),i=Ue(),a=Oe();let r=class extends t.Shape{constructor(l){super(l),this._updated=!0,this.anim=new n.Animation(()=>{const c=this._updated;return this._updated=!1,c}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(l){const c=this.animation(),d=this.frameIndex(),f=d*4,m=this.animations()[c],v=this.frameOffsets(),y=m[f+0],x=m[f+1],_=m[f+2],E=m[f+3],R=this.image();if((this.hasFill()||this.hasStroke())&&(l.beginPath(),l.rect(0,0,_,E),l.closePath(),l.fillStrokeShape(this)),R)if(v){const A=v[c],w=d*2;l.drawImage(R,y,x,_,E,A[w+0],A[w+1],_,E)}else l.drawImage(R,y,x,_,E,0,0,_,E)}_hitFunc(l){const c=this.animation(),d=this.frameIndex(),f=d*4,m=this.animations()[c],v=this.frameOffsets(),y=m[f+2],x=m[f+3];if(l.beginPath(),v){const _=v[c],E=d*2;l.rect(_[E+0],_[E+1],y,x)}else l.rect(0,0,y,x);l.closePath(),l.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const l=this;this.interval=setInterval(function(){l._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const l=this.getLayer();this.anim.setLayers(l),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const l=this.frameIndex(),c=this.animation(),d=this.animations(),f=d[c],m=f.length/4;l<m-1?this.frameIndex(l+1):this.frameIndex(0)}};return Im.Sprite=r,r.prototype.className="Sprite",(0,a._registerNode)(r),e.Factory.addGetterSetter(r,"animation"),e.Factory.addGetterSetter(r,"animations"),e.Factory.addGetterSetter(r,"frameOffsets"),e.Factory.addGetterSetter(r,"image"),e.Factory.addGetterSetter(r,"frameIndex",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(r,"frameRate",17,(0,i.getNumberValidator)()),e.Factory.backCompat(r,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Im}var zm={},G9;function ypt(){if(G9)return zm;G9=1,Object.defineProperty(zm,"__esModule",{value:!0}),zm.Star=void 0;const e=Be(),t=Ii(),n=Ue(),i=Oe();let a=class extends t.Shape{_sceneFunc(s){const l=this.innerRadius(),c=this.outerRadius(),d=this.numPoints();s.beginPath(),s.moveTo(0,0-c);for(let f=1;f<d*2;f++){const m=f%2===0?c:l,v=m*Math.sin(f*Math.PI/d),y=-1*m*Math.cos(f*Math.PI/d);s.lineTo(v,y)}s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(s){this.outerRadius(s/2)}setHeight(s){this.outerRadius(s/2)}};return zm.Star=a,a.prototype.className="Star",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(a),e.Factory.addGetterSetter(a,"numPoints",5,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(a,"innerRadius",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(a,"outerRadius",0,(0,n.getNumberValidator)()),zm}var Df={},q9;function cB(){if(q9)return Df;q9=1,Object.defineProperty(Df,"__esModule",{value:!0}),Df.Text=void 0,Df.stringToArray=s;const e=Zn(),t=Be(),n=Ii(),i=Oe(),a=Ue(),r=Oe();function s(nt){return[...nt].reduce(($,lt,yt,ot)=>{if(new RegExp("\\p{Emoji}","u").test(lt)){const tt=ot[yt+1];tt&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(tt)?($.push(lt+tt),ot[yt+1]=""):$.push(lt)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(lt+(ot[yt+1]||""))?$.push(lt+ot[yt+1]):yt>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(lt)?$[$.length-1]+=lt:lt&&$.push(lt);return $},[])}const l="auto",c="center",d="inherit",f="justify",m="Change.konva",v="2d",y="-",x="left",_="text",E="Text",R="top",A="bottom",w="middle",M="normal",D="px ",P=" ",z="right",L="rtl",U="word",I="char",q="none",J="…",it=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],at=it.length;function et(nt){return nt.split(",").map($=>{$=$.trim();const lt=$.indexOf(" ")>=0,yt=$.indexOf('"')>=0||$.indexOf("'")>=0;return lt&&!yt&&($=`"${$}"`),$}).join(", ")}let Z;function B(){return Z||(Z=e.Util.createCanvasElement().getContext(v),Z)}function V(nt){nt.fillText(this._partialText,this._partialTextX,this._partialTextY)}function W(nt){nt.setAttr("miterLimit",2),nt.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function H(nt){return nt=nt||{},!nt.fillLinearGradientColorStops&&!nt.fillRadialGradientColorStops&&!nt.fillPatternImage&&(nt.fill=nt.fill||"black"),nt}class K extends n.Shape{constructor($){super(H($)),this._partialTextX=0,this._partialTextY=0;for(let lt=0;lt<at;lt++)this.on(it[lt]+m,this._setTextData);this._setTextData()}_sceneFunc($){const lt=this.textArr,yt=lt.length;if(!this.text())return;let ot=this.padding(),tt=this.fontSize(),ut=this.lineHeight()*tt,Et=this.verticalAlign(),Dt=this.direction(),jt=0,Bt=this.align(),Ht=this.getWidth(),pe=this.letterSpacing(),Lt=this.fill(),Re=this.textDecoration(),Ft=Re.indexOf("underline")!==-1,Ce=Re.indexOf("line-through")!==-1,cn;Dt=Dt===d?$.direction:Dt;let un=ut/2,Sn=w;if(i.Konva._fixTextRendering){const Zt=this.measureSize("M");Sn="alphabetic",un=(Zt.fontBoundingBoxAscent-Zt.fontBoundingBoxDescent)/2+ut/2}for(Dt===L&&$.setAttr("direction",Dt),$.setAttr("font",this._getContextFont()),$.setAttr("textBaseline",Sn),$.setAttr("textAlign",x),Et===w?jt=(this.getHeight()-yt*ut-ot*2)/2:Et===A&&(jt=this.getHeight()-yt*ut-ot*2),$.translate(ot,jt+ot),cn=0;cn<yt;cn++){let Zt=0,Me=0;const Ot=lt[cn],Ut=Ot.text,ie=Ot.width,$t=Ot.lastInParagraph;if($.save(),Bt===z?Zt+=Ht-ie-ot*2:Bt===c&&(Zt+=(Ht-ie-ot*2)/2),Ft){$.save(),$.beginPath();const re=i.Konva._fixTextRendering?Math.round(tt/4):Math.round(tt/2),Ne=Zt,nn=un+Me+re;$.moveTo(Ne,nn);const _n=Bt===f&&!$t?Ht-ot*2:ie;$.lineTo(Ne+Math.round(_n),nn),$.lineWidth=tt/15;const yi=this._getLinearGradient();$.strokeStyle=yi||Lt,$.stroke(),$.restore()}if(Ce){$.save(),$.beginPath();const re=i.Konva._fixTextRendering?-Math.round(tt/4):0;$.moveTo(Zt,un+Me+re);const Ne=Bt===f&&!$t?Ht-ot*2:ie;$.lineTo(Zt+Math.round(Ne),un+Me+re),$.lineWidth=tt/15;const nn=this._getLinearGradient();$.strokeStyle=nn||Lt,$.stroke(),$.restore()}if(Dt!==L&&(pe!==0||Bt===f)){const re=Ut.split(" ").length-1,Ne=s(Ut);for(let nn=0;nn<Ne.length;nn++){const _n=Ne[nn];_n===" "&&!$t&&Bt===f&&(Zt+=(Ht-ot*2-ie)/re),this._partialTextX=Zt,this._partialTextY=un+Me,this._partialText=_n,$.fillStrokeShape(this),Zt+=this.measureSize(_n).width+pe}}else pe!==0&&$.setAttr("letterSpacing",`${pe}px`),this._partialTextX=Zt,this._partialTextY=un+Me,this._partialText=Ut,$.fillStrokeShape(this);$.restore(),yt>1&&(un+=ut)}}_hitFunc($){const lt=this.getWidth(),yt=this.getHeight();$.beginPath(),$.rect(0,0,lt,yt),$.closePath(),$.fillStrokeShape(this)}setText($){const lt=e.Util._isString($)?$:$==null?"":$+"";return this._setAttr(_,lt),this}getWidth(){return this.attrs.width===l||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===l||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return e.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize($){var lt,yt,ot,tt,ut,Et,Dt,jt,Bt,Ht,pe;let Lt=B(),Re=this.fontSize(),Ft;Lt.save(),Lt.font=this._getContextFont(),Ft=Lt.measureText($),Lt.restore();const Ce=Re/100;return{actualBoundingBoxAscent:(lt=Ft.actualBoundingBoxAscent)!==null&&lt!==void 0?lt:71.58203125*Ce,actualBoundingBoxDescent:(yt=Ft.actualBoundingBoxDescent)!==null&&yt!==void 0?yt:0,actualBoundingBoxLeft:(ot=Ft.actualBoundingBoxLeft)!==null&&ot!==void 0?ot:-7.421875*Ce,actualBoundingBoxRight:(tt=Ft.actualBoundingBoxRight)!==null&&tt!==void 0?tt:75.732421875*Ce,alphabeticBaseline:(ut=Ft.alphabeticBaseline)!==null&&ut!==void 0?ut:0,emHeightAscent:(Et=Ft.emHeightAscent)!==null&&Et!==void 0?Et:100*Ce,emHeightDescent:(Dt=Ft.emHeightDescent)!==null&&Dt!==void 0?Dt:-20*Ce,fontBoundingBoxAscent:(jt=Ft.fontBoundingBoxAscent)!==null&&jt!==void 0?jt:91*Ce,fontBoundingBoxDescent:(Bt=Ft.fontBoundingBoxDescent)!==null&&Bt!==void 0?Bt:21*Ce,hangingBaseline:(Ht=Ft.hangingBaseline)!==null&&Ht!==void 0?Ht:72.80000305175781*Ce,ideographicBaseline:(pe=Ft.ideographicBaseline)!==null&&pe!==void 0?pe:-21*Ce,width:Ft.width,height:Re}}_getContextFont(){return this.fontStyle()+P+this.fontVariant()+P+(this.fontSize()+D)+et(this.fontFamily())}_addTextLine($){this.align()===f&&($=$.trim());const yt=this._getTextWidth($);return this.textArr.push({text:$,width:yt,lastInParagraph:!1})}_getTextWidth($){const lt=this.letterSpacing(),yt=$.length;return B().measureText($).width+lt*yt}_setTextData(){let $=this.text().split(`
`),lt=+this.fontSize(),yt=0,ot=this.lineHeight()*lt,tt=this.attrs.width,ut=this.attrs.height,Et=tt!==l&&tt!==void 0,Dt=ut!==l&&ut!==void 0,jt=this.padding(),Bt=tt-jt*2,Ht=ut-jt*2,pe=0,Lt=this.wrap(),Re=Lt!==q,Ft=Lt!==I&&Re,Ce=this.ellipsis();this.textArr=[],B().font=this._getContextFont();const cn=Ce?this._getTextWidth(J):0;for(let un=0,Sn=$.length;un<Sn;++un){let Zt=$[un],Me=this._getTextWidth(Zt);if(Et&&Me>Bt)for(;Zt.length>0;){let Ot=0,Ut=s(Zt).length,ie="",$t=0;for(;Ot<Ut;){const re=Ot+Ut>>>1,Ne=s(Zt),nn=Ne.slice(0,re+1).join(""),_n=this._getTextWidth(nn);(Ce&&Dt&&pe+ot>Ht?_n+cn:_n)<=Bt?(Ot=re+1,ie=nn,$t=_n):Ut=re}if(ie){if(Ft){const nn=s(Zt),_n=s(ie),yi=nn[_n.length],Rn=yi===P||yi===y;let Mt;if(Rn&&$t<=Bt)Mt=_n.length;else{const Vt=_n.lastIndexOf(P),tn=_n.lastIndexOf(y);Mt=Math.max(Vt,tn)+1}Mt>0&&(Ot=Mt,ie=nn.slice(0,Ot).join(""),$t=this._getTextWidth(ie))}if(ie=ie.trimRight(),this._addTextLine(ie),yt=Math.max(yt,$t),pe+=ot,this._shouldHandleEllipsis(pe)){this._tryToAddEllipsisToLastLine();break}if(Zt=s(Zt).slice(Ot).join("").trimLeft(),Zt.length>0&&(Me=this._getTextWidth(Zt),Me<=Bt)){this._addTextLine(Zt),pe+=ot,yt=Math.max(yt,Me);break}}else break}else this._addTextLine(Zt),pe+=ot,yt=Math.max(yt,Me),this._shouldHandleEllipsis(pe)&&un<Sn-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),Dt&&pe+ot>Ht)break}this.textHeight=lt,this.textWidth=yt}_shouldHandleEllipsis($){const lt=+this.fontSize(),yt=this.lineHeight()*lt,ot=this.attrs.height,tt=ot!==l&&ot!==void 0,ut=this.padding(),Et=ot-ut*2;return!(this.wrap()!==q)||tt&&$+yt>Et}_tryToAddEllipsisToLastLine(){const $=this.attrs.width,lt=$!==l&&$!==void 0,yt=this.padding(),ot=$-yt*2,tt=this.ellipsis(),ut=this.textArr[this.textArr.length-1];!ut||!tt||(lt&&(this._getTextWidth(ut.text+J)<ot||(ut.text=ut.text.slice(0,ut.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(ut.text+J))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const $=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,lt=this.hasShadow();return $&&lt?!0:super._useBufferCanvas()}}return Df.Text=K,K.prototype._fillFunc=V,K.prototype._strokeFunc=W,K.prototype.className=E,K.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,r._registerNode)(K),t.Factory.overWriteSetter(K,"width",(0,a.getNumberOrAutoValidator)()),t.Factory.overWriteSetter(K,"height",(0,a.getNumberOrAutoValidator)()),t.Factory.addGetterSetter(K,"direction",d),t.Factory.addGetterSetter(K,"fontFamily","Arial"),t.Factory.addGetterSetter(K,"fontSize",12,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(K,"fontStyle",M),t.Factory.addGetterSetter(K,"fontVariant",M),t.Factory.addGetterSetter(K,"padding",0,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(K,"align",x),t.Factory.addGetterSetter(K,"verticalAlign",R),t.Factory.addGetterSetter(K,"lineHeight",1,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(K,"wrap",U),t.Factory.addGetterSetter(K,"ellipsis",!1,(0,a.getBooleanValidator)()),t.Factory.addGetterSetter(K,"letterSpacing",0,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(K,"text","",(0,a.getStringValidator)()),t.Factory.addGetterSetter(K,"textDecoration",""),Df}var Um={},V9;function bpt(){if(V9)return Um;V9=1,Object.defineProperty(Um,"__esModule",{value:!0}),Um.TextPath=void 0;const e=Zn(),t=Be(),n=Ii(),i=WT(),a=cB(),r=Ue(),s=Oe(),l="",c="normal";function d(v){v.fillText(this.partialText,0,0)}function f(v){v.strokeText(this.partialText,0,0)}let m=class extends n.Shape{constructor(y){super(y),this.dummyCanvas=e.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return i.Path.getPathLength(this.dataArray)}_getPointAtLength(y){if(!this.attrs.data)return null;const x=this.pathLength;return y-1>x?null:i.Path.getPointAtLengthOfDataArray(y,this.dataArray)}_readDataAttribute(){this.dataArray=i.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(y){y.setAttr("font",this._getContextFont()),y.setAttr("textBaseline",this.textBaseline()),y.setAttr("textAlign","left"),y.save();const x=this.textDecoration(),_=this.fill(),E=this.fontSize(),R=this.glyphInfo;x==="underline"&&y.beginPath();for(let A=0;A<R.length;A++){y.save();const w=R[A].p0;y.translate(w.x,w.y),y.rotate(R[A].rotation),this.partialText=R[A].text,y.fillStrokeShape(this),x==="underline"&&(A===0&&y.moveTo(0,E/2+1),y.lineTo(E,E/2+1)),y.restore()}x==="underline"&&(y.strokeStyle=_,y.lineWidth=E/20,y.stroke()),y.restore()}_hitFunc(y){y.beginPath();const x=this.glyphInfo;if(x.length>=1){const _=x[0].p0;y.moveTo(_.x,_.y)}for(let _=0;_<x.length;_++){const E=x[_].p1;y.lineTo(E.x,E.y)}y.setAttr("lineWidth",this.fontSize()),y.setAttr("strokeStyle",this.colorKey),y.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return e.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(y){return a.Text.prototype.setText.call(this,y)}_getContextFont(){return a.Text.prototype._getContextFont.call(this)}_getTextSize(y){const _=this.dummyCanvas.getContext("2d");_.save(),_.font=this._getContextFont();const E=_.measureText(y);return _.restore(),{width:E.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:y,height:x}=this._getTextSize(this.attrs.text);if(this.textWidth=y,this.textHeight=x,this.glyphInfo=[],!this.attrs.data)return null;const _=this.letterSpacing(),E=this.align(),R=this.kerningFunc(),A=Math.max(this.textWidth+((this.attrs.text||"").length-1)*_,0);let w=0;E==="center"&&(w=Math.max(0,this.pathLength/2-A/2)),E==="right"&&(w=Math.max(0,this.pathLength-A));const M=(0,a.stringToArray)(this.text());let D=w;for(let P=0;P<M.length;P++){const z=this._getPointAtLength(D);if(!z)return;let L=this._getTextSize(M[P]).width+_;if(M[P]===" "&&E==="justify"){const at=this.text().split(" ").length-1;L+=(this.pathLength-A)/at}const U=this._getPointAtLength(D+L);if(!U)return;const I=i.Path.getLineLength(z.x,z.y,U.x,U.y);let q=0;if(R)try{q=R(M[P-1],M[P])*this.fontSize()}catch{q=0}z.x+=q,U.x+=q,this.textWidth+=q;const J=i.Path.getPointOnLine(q+I/2,z.x,z.y,U.x,U.y),it=Math.atan2(U.y-z.y,U.x-z.x);this.glyphInfo.push({transposeX:J.x,transposeY:J.y,text:M[P],rotation:it,p0:z,p1:U}),D+=L}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const y=[];this.glyphInfo.forEach(function(D){y.push(D.p0.x),y.push(D.p0.y),y.push(D.p1.x),y.push(D.p1.y)});let x=y[0]||0,_=y[0]||0,E=y[1]||0,R=y[1]||0,A,w;for(let D=0;D<y.length/2;D++)A=y[D*2],w=y[D*2+1],x=Math.min(x,A),_=Math.max(_,A),E=Math.min(E,w),R=Math.max(R,w);const M=this.fontSize();return{x:x-M/2,y:E-M/2,width:_-x+M,height:R-E+M}}destroy(){return e.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return Um.TextPath=m,m.prototype._fillFunc=d,m.prototype._strokeFunc=f,m.prototype._fillFuncHit=d,m.prototype._strokeFuncHit=f,m.prototype.className="TextPath",m.prototype._attrsAffectingSize=["text","fontSize","data"],(0,s._registerNode)(m),t.Factory.addGetterSetter(m,"data"),t.Factory.addGetterSetter(m,"fontFamily","Arial"),t.Factory.addGetterSetter(m,"fontSize",12,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(m,"fontStyle",c),t.Factory.addGetterSetter(m,"align","left"),t.Factory.addGetterSetter(m,"letterSpacing",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(m,"textBaseline","middle"),t.Factory.addGetterSetter(m,"fontVariant",c),t.Factory.addGetterSetter(m,"text",l),t.Factory.addGetterSetter(m,"textDecoration",""),t.Factory.addGetterSetter(m,"kerningFunc",void 0),Um}var Hm={},Y9;function xpt(){if(Y9)return Hm;Y9=1,Object.defineProperty(Hm,"__esModule",{value:!0}),Hm.Transformer=void 0;const e=Zn(),t=Be(),n=li(),i=Ii(),a=lB(),r=XT(),s=Oe(),l=Ue(),c=Oe(),d="tr-konva",f=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(L=>L+`.${d}`).join(" "),m="nodesRect",v=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],y={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},x="ontouchstart"in s.Konva._global;function _(L,U,I){if(L==="rotater")return I;U+=e.Util.degToRad(y[L]||0);const q=(e.Util.radToDeg(U)%360+360)%360;return e.Util._inRange(q,315+22.5,360)||e.Util._inRange(q,0,22.5)?"ns-resize":e.Util._inRange(q,45-22.5,45+22.5)?"nesw-resize":e.Util._inRange(q,90-22.5,90+22.5)?"ew-resize":e.Util._inRange(q,135-22.5,135+22.5)?"nwse-resize":e.Util._inRange(q,180-22.5,180+22.5)?"ns-resize":e.Util._inRange(q,225-22.5,225+22.5)?"nesw-resize":e.Util._inRange(q,270-22.5,270+22.5)?"ew-resize":e.Util._inRange(q,315-22.5,315+22.5)?"nwse-resize":(e.Util.error("Transformer has unknown angle for cursor detection: "+q),"pointer")}const E=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function R(L){return{x:L.x+L.width/2*Math.cos(L.rotation)+L.height/2*Math.sin(-L.rotation),y:L.y+L.height/2*Math.cos(L.rotation)+L.width/2*Math.sin(L.rotation)}}function A(L,U,I){const q=I.x+(L.x-I.x)*Math.cos(U)-(L.y-I.y)*Math.sin(U),J=I.y+(L.x-I.x)*Math.sin(U)+(L.y-I.y)*Math.cos(U);return{...L,rotation:L.rotation+U,x:q,y:J}}function w(L,U){const I=R(L);return A(L,U,I)}function M(L,U,I){let q=U;for(let J=0;J<L.length;J++){const it=s.Konva.getAngle(L[J]),at=Math.abs(it-U)%(Math.PI*2);Math.min(at,Math.PI*2-at)<I&&(q=it)}return q}let D=0;class P extends r.Group{constructor(U){super(U),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(f,this.update),this.getNode()&&this.update()}attachTo(U){return this.setNode(U),this}setNode(U){return e.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([U])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return d+this._id}setNodes(U=[]){this._nodes&&this._nodes.length&&this.detach();const I=U.filter(J=>J.isAncestorOf(this)?(e.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=U=I,U.length===1&&this.useSingleNodeRotation()?this.rotation(U[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(J=>{const it=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(J._attrsAffectingSize.length){const at=J._attrsAffectingSize.map(et=>et+"Change."+this._getEventNamespace()).join(" ");J.on(at,it)}J.on(v.map(at=>at+`.${this._getEventNamespace()}`).join(" "),it),J.on(`absoluteTransformChange.${this._getEventNamespace()}`,it),this._proxyDrag(J)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(U){let I;U.on(`dragstart.${this._getEventNamespace()}`,q=>{I=U.getAbsolutePosition(),!this.isDragging()&&U!==this.findOne(".back")&&this.startDrag(q,!1)}),U.on(`dragmove.${this._getEventNamespace()}`,q=>{if(!I)return;const J=U.getAbsolutePosition(),it=J.x-I.x,at=J.y-I.y;this.nodes().forEach(et=>{if(et===U||et.isDragging())return;const Z=et.getAbsolutePosition();et.setAbsolutePosition({x:Z.x+it,y:Z.y+at}),et.startDrag(q)}),I=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(U=>{U.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(m),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(m,this.__getNodeRect)}__getNodeShape(U,I=this.rotation(),q){const J=U.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),it=U.getAbsoluteScale(q),at=U.getAbsolutePosition(q),et=J.x*it.x-U.offsetX()*it.x,Z=J.y*it.y-U.offsetY()*it.y,B=(s.Konva.getAngle(U.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),V={x:at.x+et*Math.cos(B)+Z*Math.sin(-B),y:at.y+Z*Math.cos(B)+et*Math.sin(B),width:J.width*it.x,height:J.height*it.y,rotation:B};return A(V,-s.Konva.getAngle(I),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const I=[];this.nodes().map(B=>{const V=B.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),W=[{x:V.x,y:V.y},{x:V.x+V.width,y:V.y},{x:V.x+V.width,y:V.y+V.height},{x:V.x,y:V.y+V.height}],H=B.getAbsoluteTransform();W.forEach(function(K){const nt=H.point(K);I.push(nt)})});const q=new e.Transform;q.rotate(-s.Konva.getAngle(this.rotation()));let J=1/0,it=1/0,at=-1/0,et=-1/0;I.forEach(function(B){const V=q.point(B);J===void 0&&(J=at=V.x,it=et=V.y),J=Math.min(J,V.x),it=Math.min(it,V.y),at=Math.max(at,V.x),et=Math.max(et,V.y)}),q.invert();const Z=q.point({x:J,y:it});return{x:Z.x,y:Z.y,width:at-J,height:et-it,rotation:s.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),E.forEach(U=>{this._createAnchor(U)}),this._createAnchor("rotater")}_createAnchor(U){const I=new a.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:U+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:x?10:"auto"}),q=this;I.on("mousedown touchstart",function(J){q._handleMouseDown(J)}),I.on("dragstart",J=>{I.stopDrag(),J.cancelBubble=!0}),I.on("dragend",J=>{J.cancelBubble=!0}),I.on("mouseenter",()=>{const J=s.Konva.getAngle(this.rotation()),it=this.rotateAnchorCursor(),at=_(U,J,it);I.getStage().content&&(I.getStage().content.style.cursor=at),this._cursorChange=!0}),I.on("mouseout",()=>{I.getStage().content&&(I.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(I)}_createBack(){const U=new i.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(I,q){const J=q.getParent(),it=J.padding();I.beginPath(),I.rect(-it,-it,q.width()+it*2,q.height()+it*2),I.moveTo(q.width()/2,-it),J.rotateEnabled()&&J.rotateLineVisible()&&I.lineTo(q.width()/2,-J.rotateAnchorOffset()*e.Util._sign(q.height())-it),I.fillStrokeShape(q)},hitFunc:(I,q)=>{if(!this.shouldOverdrawWholeArea())return;const J=this.padding();I.beginPath(),I.rect(-J,-J,q.width()+J*2,q.height()+J*2),I.fillStrokeShape(q)}});this.add(U),this._proxyDrag(U),U.on("dragstart",I=>{I.cancelBubble=!0}),U.on("dragmove",I=>{I.cancelBubble=!0}),U.on("dragend",I=>{I.cancelBubble=!0}),this.on("dragmove",I=>{this.update()})}_handleMouseDown(U){if(this._transforming)return;this._movingAnchorName=U.target.name().split(" ")[0];const I=this._getNodeRect(),q=I.width,J=I.height,it=Math.sqrt(Math.pow(q,2)+Math.pow(J,2));this.sin=Math.abs(J/it),this.cos=Math.abs(q/it),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const at=U.target.getAbsolutePosition(),et=U.target.getStage().getPointerPosition();this._anchorDragOffset={x:et.x-at.x,y:et.y-at.y},D++,this._fire("transformstart",{evt:U.evt,target:this.getNode()}),this._nodes.forEach(Z=>{Z._fire("transformstart",{evt:U.evt,target:Z})})}_handleMouseMove(U){let I,q,J;const it=this.findOne("."+this._movingAnchorName),at=it.getStage();at.setPointersPositions(U);const et=at.getPointerPosition();let Z={x:et.x-this._anchorDragOffset.x,y:et.y-this._anchorDragOffset.y};const B=it.getAbsolutePosition();this.anchorDragBoundFunc()&&(Z=this.anchorDragBoundFunc()(B,Z,U)),it.setAbsolutePosition(Z);const V=it.getAbsolutePosition();if(B.x===V.x&&B.y===V.y)return;if(this._movingAnchorName==="rotater"){const ot=this._getNodeRect();I=it.x()-ot.width/2,q=-it.y()+ot.height/2;let tt=Math.atan2(-q,I)+Math.PI/2;ot.height<0&&(tt-=Math.PI);const Et=s.Konva.getAngle(this.rotation())+tt,Dt=s.Konva.getAngle(this.rotationSnapTolerance()),Bt=M(this.rotationSnaps(),Et,Dt)-ot.rotation,Ht=w(ot,Bt);this._fitNodesInto(Ht,U);return}const W=this.shiftBehavior();let H;W==="inverted"?H=this.keepRatio()&&!U.shiftKey:W==="none"?H=this.keepRatio():H=this.keepRatio()||U.shiftKey;let K=this.centeredScaling()||U.altKey;if(this._movingAnchorName==="top-left"){if(H){const ot=K?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};J=Math.sqrt(Math.pow(ot.x-it.x(),2)+Math.pow(ot.y-it.y(),2));const tt=this.findOne(".top-left").x()>ot.x?-1:1,ut=this.findOne(".top-left").y()>ot.y?-1:1;I=J*this.cos*tt,q=J*this.sin*ut,this.findOne(".top-left").x(ot.x-I),this.findOne(".top-left").y(ot.y-q)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(it.y());else if(this._movingAnchorName==="top-right"){if(H){const ot=K?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};J=Math.sqrt(Math.pow(it.x()-ot.x,2)+Math.pow(ot.y-it.y(),2));const tt=this.findOne(".top-right").x()<ot.x?-1:1,ut=this.findOne(".top-right").y()>ot.y?-1:1;I=J*this.cos*tt,q=J*this.sin*ut,this.findOne(".top-right").x(ot.x+I),this.findOne(".top-right").y(ot.y-q)}var nt=it.position();this.findOne(".top-left").y(nt.y),this.findOne(".bottom-right").x(nt.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(it.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(it.x());else if(this._movingAnchorName==="bottom-left"){if(H){const ot=K?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};J=Math.sqrt(Math.pow(ot.x-it.x(),2)+Math.pow(it.y()-ot.y,2));const tt=ot.x<it.x()?-1:1,ut=it.y()<ot.y?-1:1;I=J*this.cos*tt,q=J*this.sin*ut,it.x(ot.x-I),it.y(ot.y+q)}nt=it.position(),this.findOne(".top-left").x(nt.x),this.findOne(".bottom-right").y(nt.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(it.y());else if(this._movingAnchorName==="bottom-right"){if(H){const ot=K?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};J=Math.sqrt(Math.pow(it.x()-ot.x,2)+Math.pow(it.y()-ot.y,2));const tt=this.findOne(".bottom-right").x()<ot.x?-1:1,ut=this.findOne(".bottom-right").y()<ot.y?-1:1;I=J*this.cos*tt,q=J*this.sin*ut,this.findOne(".bottom-right").x(ot.x+I),this.findOne(".bottom-right").y(ot.y+q)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(K=this.centeredScaling()||U.altKey,K){const ot=this.findOne(".top-left"),tt=this.findOne(".bottom-right"),ut=ot.x(),Et=ot.y(),Dt=this.getWidth()-tt.x(),jt=this.getHeight()-tt.y();tt.move({x:-ut,y:-Et}),ot.move({x:Dt,y:jt})}const $=this.findOne(".top-left").getAbsolutePosition();I=$.x,q=$.y;const lt=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),yt=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:I,y:q,width:lt,height:yt,rotation:s.Konva.getAngle(this.rotation())},U)}_handleMouseUp(U){this._removeEvents(U)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(U){var I;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const q=this.getNode();D--,this._fire("transformend",{evt:U,target:q}),(I=this.getLayer())===null||I===void 0||I.batchDraw(),q&&this._nodes.forEach(J=>{var it;J._fire("transformend",{evt:U,target:J}),(it=J.getLayer())===null||it===void 0||it.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(U,I){const q=this._getNodeRect(),J=1;if(e.Util._inRange(U.width,-this.padding()*2-J,J)){this.update();return}if(e.Util._inRange(U.height,-this.padding()*2-J,J)){this.update();return}const it=new e.Transform;if(it.rotate(s.Konva.getAngle(this.rotation())),this._movingAnchorName&&U.width<0&&this._movingAnchorName.indexOf("left")>=0){const H=it.point({x:-this.padding()*2,y:0});U.x+=H.x,U.y+=H.y,U.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=H.x,this._anchorDragOffset.y-=H.y}else if(this._movingAnchorName&&U.width<0&&this._movingAnchorName.indexOf("right")>=0){const H=it.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=H.x,this._anchorDragOffset.y-=H.y,U.width+=this.padding()*2}if(this._movingAnchorName&&U.height<0&&this._movingAnchorName.indexOf("top")>=0){const H=it.point({x:0,y:-this.padding()*2});U.x+=H.x,U.y+=H.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=H.x,this._anchorDragOffset.y-=H.y,U.height+=this.padding()*2}else if(this._movingAnchorName&&U.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const H=it.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=H.x,this._anchorDragOffset.y-=H.y,U.height+=this.padding()*2}if(this.boundBoxFunc()){const H=this.boundBoxFunc()(q,U);H?U=H:e.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const at=1e7,et=new e.Transform;et.translate(q.x,q.y),et.rotate(q.rotation),et.scale(q.width/at,q.height/at);const Z=new e.Transform,B=U.width/at,V=U.height/at;this.flipEnabled()===!1?(Z.translate(U.x,U.y),Z.rotate(U.rotation),Z.translate(U.width<0?U.width:0,U.height<0?U.height:0),Z.scale(Math.abs(B),Math.abs(V))):(Z.translate(U.x,U.y),Z.rotate(U.rotation),Z.scale(B,V));const W=Z.multiply(et.invert());this._nodes.forEach(H=>{var K;const nt=H.getParent().getAbsoluteTransform(),$=H.getTransform().copy();$.translate(H.offsetX(),H.offsetY());const lt=new e.Transform;lt.multiply(nt.copy().invert()).multiply(W).multiply(nt).multiply($);const yt=lt.decompose();H.setAttrs(yt),(K=H.getLayer())===null||K===void 0||K.batchDraw()}),this.rotation(e.Util._getRotation(U.rotation)),this._nodes.forEach(H=>{this._fire("transform",{evt:I,target:H}),H._fire("transform",{evt:I,target:H})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(U,I){this.findOne(U).setAttrs(I)}update(){var U;const I=this._getNodeRect();this.rotation(e.Util._getRotation(I.rotation));const q=I.width,J=I.height,it=this.enabledAnchors(),at=this.resizeEnabled(),et=this.padding(),Z=this.anchorSize(),B=this.find("._anchor");B.forEach(W=>{W.setAttrs({width:Z,height:Z,offsetX:Z/2,offsetY:Z/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:Z/2+et,offsetY:Z/2+et,visible:at&&it.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:q/2,y:0,offsetY:Z/2+et,visible:at&&it.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:q,y:0,offsetX:Z/2-et,offsetY:Z/2+et,visible:at&&it.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:J/2,offsetX:Z/2+et,visible:at&&it.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:q,y:J/2,offsetX:Z/2-et,visible:at&&it.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:J,offsetX:Z/2+et,offsetY:Z/2-et,visible:at&&it.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:q/2,y:J,offsetY:Z/2-et,visible:at&&it.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:q,y:J,offsetX:Z/2-et,offsetY:Z/2-et,visible:at&&it.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:q/2,y:-this.rotateAnchorOffset()*e.Util._sign(J)-et,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:q,height:J,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const V=this.anchorStyleFunc();V&&B.forEach(W=>{V(W)}),(U=this.getLayer())===null||U===void 0||U.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const U=this.findOne("."+this._movingAnchorName);U&&U.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),r.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return n.Node.prototype.toObject.call(this)}clone(U){return n.Node.prototype.clone.call(this,U)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Hm.Transformer=P,P.isTransforming=()=>D>0;function z(L){return L instanceof Array||e.Util.warn("enabledAnchors value should be an array"),L instanceof Array&&L.forEach(function(U){E.indexOf(U)===-1&&e.Util.warn("Unknown anchor name: "+U+". Available names are: "+E.join(", "))}),L||[]}return P.prototype.className="Transformer",(0,c._registerNode)(P),t.Factory.addGetterSetter(P,"enabledAnchors",E,z),t.Factory.addGetterSetter(P,"flipEnabled",!0,(0,l.getBooleanValidator)()),t.Factory.addGetterSetter(P,"resizeEnabled",!0),t.Factory.addGetterSetter(P,"anchorSize",10,(0,l.getNumberValidator)()),t.Factory.addGetterSetter(P,"rotateEnabled",!0),t.Factory.addGetterSetter(P,"rotateLineVisible",!0),t.Factory.addGetterSetter(P,"rotationSnaps",[]),t.Factory.addGetterSetter(P,"rotateAnchorOffset",50,(0,l.getNumberValidator)()),t.Factory.addGetterSetter(P,"rotateAnchorCursor","crosshair"),t.Factory.addGetterSetter(P,"rotationSnapTolerance",5,(0,l.getNumberValidator)()),t.Factory.addGetterSetter(P,"borderEnabled",!0),t.Factory.addGetterSetter(P,"anchorStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(P,"anchorStrokeWidth",1,(0,l.getNumberValidator)()),t.Factory.addGetterSetter(P,"anchorFill","white"),t.Factory.addGetterSetter(P,"anchorCornerRadius",0,(0,l.getNumberValidator)()),t.Factory.addGetterSetter(P,"borderStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(P,"borderStrokeWidth",1,(0,l.getNumberValidator)()),t.Factory.addGetterSetter(P,"borderDash"),t.Factory.addGetterSetter(P,"keepRatio",!0),t.Factory.addGetterSetter(P,"shiftBehavior","default"),t.Factory.addGetterSetter(P,"centeredScaling",!1),t.Factory.addGetterSetter(P,"ignoreStroke",!1),t.Factory.addGetterSetter(P,"padding",0,(0,l.getNumberValidator)()),t.Factory.addGetterSetter(P,"nodes"),t.Factory.addGetterSetter(P,"node"),t.Factory.addGetterSetter(P,"boundBoxFunc"),t.Factory.addGetterSetter(P,"anchorDragBoundFunc"),t.Factory.addGetterSetter(P,"anchorStyleFunc"),t.Factory.addGetterSetter(P,"shouldOverdrawWholeArea",!1),t.Factory.addGetterSetter(P,"useSingleNodeRotation",!0),t.Factory.backCompat(P,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Hm}var Gm={},K9;function Spt(){if(K9)return Gm;K9=1,Object.defineProperty(Gm,"__esModule",{value:!0}),Gm.Wedge=void 0;const e=Be(),t=Ii(),n=Oe(),i=Ue(),a=Oe();let r=class extends t.Shape{_sceneFunc(l){l.beginPath(),l.arc(0,0,this.radius(),0,n.Konva.getAngle(this.angle()),this.clockwise()),l.lineTo(0,0),l.closePath(),l.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(l){this.radius(l/2)}setHeight(l){this.radius(l/2)}};return Gm.Wedge=r,r.prototype.className="Wedge",r.prototype._centroid=!0,r.prototype._attrsAffectingSize=["radius"],(0,a._registerNode)(r),e.Factory.addGetterSetter(r,"radius",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(r,"angle",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(r,"clockwise",!1),e.Factory.backCompat(r,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Gm}var qm={},X9;function _pt(){if(X9)return qm;X9=1,Object.defineProperty(qm,"__esModule",{value:!0}),qm.Blur=void 0;const e=Be(),t=li(),n=Ue();function i(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const a=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],r=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function s(c,d){const f=c.data,m=c.width,v=c.height;let y,x,_,E,R,A,w,M,D,P,z,L,U,I,q,J,it,at,et,Z;const B=d+d+1,V=m-1,W=v-1,H=d+1,K=H*(H+1)/2,nt=new i,$=a[d],lt=r[d];let yt=null,ot=nt,tt=null,ut=null;for(let Et=1;Et<B;Et++)ot=ot.next=new i,Et===H&&(yt=ot);ot.next=nt,_=x=0;for(let Et=0;Et<v;Et++){L=U=I=q=E=R=A=w=0,M=H*(J=f[x]),D=H*(it=f[x+1]),P=H*(at=f[x+2]),z=H*(et=f[x+3]),E+=K*J,R+=K*it,A+=K*at,w+=K*et,ot=nt;for(let Dt=0;Dt<H;Dt++)ot.r=J,ot.g=it,ot.b=at,ot.a=et,ot=ot.next;for(let Dt=1;Dt<H;Dt++)y=x+((V<Dt?V:Dt)<<2),E+=(ot.r=J=f[y])*(Z=H-Dt),R+=(ot.g=it=f[y+1])*Z,A+=(ot.b=at=f[y+2])*Z,w+=(ot.a=et=f[y+3])*Z,L+=J,U+=it,I+=at,q+=et,ot=ot.next;tt=nt,ut=yt;for(let Dt=0;Dt<m;Dt++)f[x+3]=et=w*$>>lt,et!==0?(et=255/et,f[x]=(E*$>>lt)*et,f[x+1]=(R*$>>lt)*et,f[x+2]=(A*$>>lt)*et):f[x]=f[x+1]=f[x+2]=0,E-=M,R-=D,A-=P,w-=z,M-=tt.r,D-=tt.g,P-=tt.b,z-=tt.a,y=_+((y=Dt+d+1)<V?y:V)<<2,L+=tt.r=f[y],U+=tt.g=f[y+1],I+=tt.b=f[y+2],q+=tt.a=f[y+3],E+=L,R+=U,A+=I,w+=q,tt=tt.next,M+=J=ut.r,D+=it=ut.g,P+=at=ut.b,z+=et=ut.a,L-=J,U-=it,I-=at,q-=et,ut=ut.next,x+=4;_+=m}for(let Et=0;Et<m;Et++){U=I=q=L=R=A=w=E=0,x=Et<<2,M=H*(J=f[x]),D=H*(it=f[x+1]),P=H*(at=f[x+2]),z=H*(et=f[x+3]),E+=K*J,R+=K*it,A+=K*at,w+=K*et,ot=nt;for(let jt=0;jt<H;jt++)ot.r=J,ot.g=it,ot.b=at,ot.a=et,ot=ot.next;let Dt=m;for(let jt=1;jt<=d;jt++)x=Dt+Et<<2,E+=(ot.r=J=f[x])*(Z=H-jt),R+=(ot.g=it=f[x+1])*Z,A+=(ot.b=at=f[x+2])*Z,w+=(ot.a=et=f[x+3])*Z,L+=J,U+=it,I+=at,q+=et,ot=ot.next,jt<W&&(Dt+=m);x=Et,tt=nt,ut=yt;for(let jt=0;jt<v;jt++)y=x<<2,f[y+3]=et=w*$>>lt,et>0?(et=255/et,f[y]=(E*$>>lt)*et,f[y+1]=(R*$>>lt)*et,f[y+2]=(A*$>>lt)*et):f[y]=f[y+1]=f[y+2]=0,E-=M,R-=D,A-=P,w-=z,M-=tt.r,D-=tt.g,P-=tt.b,z-=tt.a,y=Et+((y=jt+H)<W?y:W)*m<<2,E+=L+=tt.r=f[y],R+=U+=tt.g=f[y+1],A+=I+=tt.b=f[y+2],w+=q+=tt.a=f[y+3],tt=tt.next,M+=J=ut.r,D+=it=ut.g,P+=at=ut.b,z+=et=ut.a,L-=J,U-=it,I-=at,q-=et,ut=ut.next,x+=m}}const l=function(d){const f=Math.round(this.blurRadius());f>0&&s(d,f)};return qm.Blur=l,e.Factory.addGetterSetter(t.Node,"blurRadius",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),qm}var Vm={},$9;function wpt(){if($9)return Vm;$9=1,Object.defineProperty(Vm,"__esModule",{value:!0}),Vm.Brighten=void 0;const e=Be(),t=li(),n=Ue(),i=function(a){const r=this.brightness()*255,s=a.data,l=s.length;for(let c=0;c<l;c+=4)s[c]+=r,s[c+1]+=r,s[c+2]+=r};return Vm.Brighten=i,e.Factory.addGetterSetter(t.Node,"brightness",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),Vm}var Ym={},W9;function Ept(){if(W9)return Ym;W9=1,Object.defineProperty(Ym,"__esModule",{value:!0}),Ym.Contrast=void 0;const e=Be(),t=li(),n=Ue(),i=function(a){const r=Math.pow((this.contrast()+100)/100,2),s=a.data,l=s.length;let c=150,d=150,f=150;for(let m=0;m<l;m+=4)c=s[m],d=s[m+1],f=s[m+2],c/=255,c-=.5,c*=r,c+=.5,c*=255,d/=255,d-=.5,d*=r,d+=.5,d*=255,f/=255,f-=.5,f*=r,f+=.5,f*=255,c=c<0?0:c>255?255:c,d=d<0?0:d>255?255:d,f=f<0?0:f>255?255:f,s[m]=c,s[m+1]=d,s[m+2]=f};return Ym.Contrast=i,e.Factory.addGetterSetter(t.Node,"contrast",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),Ym}var Km={},Q9;function Apt(){if(Q9)return Km;Q9=1,Object.defineProperty(Km,"__esModule",{value:!0}),Km.Emboss=void 0;const e=Be(),t=li(),n=Zn(),i=Ue(),a=function(r){const s=this.embossStrength()*10,l=this.embossWhiteLevel()*255,c=this.embossDirection(),d=this.embossBlend(),f=r.data,m=r.width,v=r.height,y=m*4;let x=0,_=0,E=v;switch(c){case"top-left":x=-1,_=-1;break;case"top":x=-1,_=0;break;case"top-right":x=-1,_=1;break;case"right":x=0,_=1;break;case"bottom-right":x=1,_=1;break;case"bottom":x=1,_=0;break;case"bottom-left":x=1,_=-1;break;case"left":x=0,_=-1;break;default:n.Util.error("Unknown emboss direction: "+c)}do{const R=(E-1)*y;let A=x;E+A<1&&(A=0),E+A>v&&(A=0);const w=(E-1+A)*m*4;let M=m;do{const D=R+(M-1)*4;let P=_;M+P<1&&(P=0),M+P>m&&(P=0);const z=w+(M-1+P)*4,L=f[D]-f[z],U=f[D+1]-f[z+1],I=f[D+2]-f[z+2];let q=L;const J=q>0?q:-q,it=U>0?U:-U,at=I>0?I:-I;if(it>J&&(q=U),at>J&&(q=I),q*=s,d){const et=f[D]+q,Z=f[D+1]+q,B=f[D+2]+q;f[D]=et>255?255:et<0?0:et,f[D+1]=Z>255?255:Z<0?0:Z,f[D+2]=B>255?255:B<0?0:B}else{let et=l-q;et<0?et=0:et>255&&(et=255),f[D]=f[D+1]=f[D+2]=et}}while(--M)}while(--E)};return Km.Emboss=a,e.Factory.addGetterSetter(t.Node,"embossStrength",.5,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossWhiteLevel",.5,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossDirection","top-left",void 0,e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossBlend",!1,void 0,e.Factory.afterSetFilter),Km}var Xm={},Z9;function Cpt(){if(Z9)return Xm;Z9=1,Object.defineProperty(Xm,"__esModule",{value:!0}),Xm.Enhance=void 0;const e=Be(),t=li(),n=Ue();function i(r,s,l,c,d){const f=l-s,m=d-c;if(f===0)return c+m/2;if(m===0)return c;let v=(r-s)/f;return v=m*v+c,v}const a=function(r){const s=r.data,l=s.length;let c=s[0],d=c,f,m=s[1],v=m,y,x=s[2],_=x,E;const R=this.enhance();if(R===0)return;for(let L=0;L<l;L+=4)f=s[L+0],f<c?c=f:f>d&&(d=f),y=s[L+1],y<m?m=y:y>v&&(v=y),E=s[L+2],E<x?x=E:E>_&&(_=E);d===c&&(d=255,c=0),v===m&&(v=255,m=0),_===x&&(_=255,x=0);let A,w,M,D,P,z;if(R>0)A=d+R*(255-d),w=c-R*(c-0),M=v+R*(255-v),D=m-R*(m-0),P=_+R*(255-_),z=x-R*(x-0);else{const L=(d+c)*.5;A=d+R*(d-L),w=c+R*(c-L);const U=(v+m)*.5;M=v+R*(v-U),D=m+R*(m-U);const I=(_+x)*.5;P=_+R*(_-I),z=x+R*(x-I)}for(let L=0;L<l;L+=4)s[L+0]=i(s[L+0],c,d,w,A),s[L+1]=i(s[L+1],m,v,D,M),s[L+2]=i(s[L+2],x,_,z,P)};return Xm.Enhance=a,e.Factory.addGetterSetter(t.Node,"enhance",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),Xm}var $m={},J9;function Tpt(){if(J9)return $m;J9=1,Object.defineProperty($m,"__esModule",{value:!0}),$m.Grayscale=void 0;const e=function(t){const n=t.data,i=n.length;for(let a=0;a<i;a+=4){const r=.34*n[a]+.5*n[a+1]+.16*n[a+2];n[a]=r,n[a+1]=r,n[a+2]=r}};return $m.Grayscale=e,$m}var Wm={},t7;function Rpt(){if(t7)return Wm;t7=1,Object.defineProperty(Wm,"__esModule",{value:!0}),Wm.HSL=void 0;const e=Be(),t=li(),n=Ue();e.Factory.addGetterSetter(t.Node,"hue",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"saturation",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"luminance",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter);const i=function(a){const r=a.data,s=r.length,l=1,c=Math.pow(2,this.saturation()),d=Math.abs(this.hue()+360)%360,f=this.luminance()*127,m=l*c*Math.cos(d*Math.PI/180),v=l*c*Math.sin(d*Math.PI/180),y=.299*l+.701*m+.167*v,x=.587*l-.587*m+.33*v,_=.114*l-.114*m-.497*v,E=.299*l-.299*m-.328*v,R=.587*l+.413*m+.035*v,A=.114*l-.114*m+.293*v,w=.299*l-.3*m+1.25*v,M=.587*l-.586*m-1.05*v,D=.114*l+.886*m-.2*v;let P,z,L,U;for(let I=0;I<s;I+=4)P=r[I+0],z=r[I+1],L=r[I+2],U=r[I+3],r[I+0]=y*P+x*z+_*L+f,r[I+1]=E*P+R*z+A*L+f,r[I+2]=w*P+M*z+D*L+f,r[I+3]=U};return Wm.HSL=i,Wm}var Qm={},e7;function Mpt(){if(e7)return Qm;e7=1,Object.defineProperty(Qm,"__esModule",{value:!0}),Qm.HSV=void 0;const e=Be(),t=li(),n=Ue(),i=function(a){const r=a.data,s=r.length,l=Math.pow(2,this.value()),c=Math.pow(2,this.saturation()),d=Math.abs(this.hue()+360)%360,f=l*c*Math.cos(d*Math.PI/180),m=l*c*Math.sin(d*Math.PI/180),v=.299*l+.701*f+.167*m,y=.587*l-.587*f+.33*m,x=.114*l-.114*f-.497*m,_=.299*l-.299*f-.328*m,E=.587*l+.413*f+.035*m,R=.114*l-.114*f+.293*m,A=.299*l-.3*f+1.25*m,w=.587*l-.586*f-1.05*m,M=.114*l+.886*f-.2*m;for(let D=0;D<s;D+=4){const P=r[D+0],z=r[D+1],L=r[D+2],U=r[D+3];r[D+0]=v*P+y*z+x*L,r[D+1]=_*P+E*z+R*L,r[D+2]=A*P+w*z+M*L,r[D+3]=U}};return Qm.HSV=i,e.Factory.addGetterSetter(t.Node,"hue",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"saturation",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"value",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),Qm}var Zm={},n7;function Dpt(){if(n7)return Zm;n7=1,Object.defineProperty(Zm,"__esModule",{value:!0}),Zm.Invert=void 0;const e=function(t){const n=t.data,i=n.length;for(let a=0;a<i;a+=4)n[a]=255-n[a],n[a+1]=255-n[a+1],n[a+2]=255-n[a+2]};return Zm.Invert=e,Zm}var Jm={},i7;function Opt(){if(i7)return Jm;i7=1,Object.defineProperty(Jm,"__esModule",{value:!0}),Jm.Kaleidoscope=void 0;const e=Be(),t=li(),n=Zn(),i=Ue(),a=function(l,c,d){const f=l.data,m=c.data,v=l.width,y=l.height,x=d.polarCenterX||v/2,_=d.polarCenterY||y/2;let E=Math.sqrt(x*x+_*_),R=v-x,A=y-_;const w=Math.sqrt(R*R+A*A);E=w>E?w:E;const M=y,D=v,P=360/D*Math.PI/180;for(let z=0;z<D;z+=1){const L=Math.sin(z*P),U=Math.cos(z*P);for(let I=0;I<M;I+=1){R=Math.floor(x+E*I/M*U),A=Math.floor(_+E*I/M*L);let q=(A*v+R)*4;const J=f[q+0],it=f[q+1],at=f[q+2],et=f[q+3];q=(z+I*v)*4,m[q+0]=J,m[q+1]=it,m[q+2]=at,m[q+3]=et}}},r=function(l,c,d){const f=l.data,m=c.data,v=l.width,y=l.height,x=d.polarCenterX||v/2,_=d.polarCenterY||y/2;let E=Math.sqrt(x*x+_*_),R=v-x,A=y-_;const w=Math.sqrt(R*R+A*A);E=w>E?w:E;const M=y,D=v,P=0;let z,L;for(R=0;R<v;R+=1)for(A=0;A<y;A+=1){const U=R-x,I=A-_,q=Math.sqrt(U*U+I*I)*M/E;let J=(Math.atan2(I,U)*180/Math.PI+360+P)%360;J=J*D/360,z=Math.floor(J),L=Math.floor(q);let it=(L*v+z)*4;const at=f[it+0],et=f[it+1],Z=f[it+2],B=f[it+3];it=(A*v+R)*4,m[it+0]=at,m[it+1]=et,m[it+2]=Z,m[it+3]=B}},s=function(l){const c=l.width,d=l.height;let f,m,v,y,x,_,E,R,A,w,M=Math.round(this.kaleidoscopePower());const D=Math.round(this.kaleidoscopeAngle()),P=Math.floor(c*(D%360)/360);if(M<1)return;const z=n.Util.createCanvasElement();z.width=c,z.height=d;const L=z.getContext("2d").getImageData(0,0,c,d);n.Util.releaseCanvas(z),a(l,L,{polarCenterX:c/2,polarCenterY:d/2});let U=c/Math.pow(2,M);for(;U<=8;)U=U*2,M-=1;U=Math.ceil(U);let I=U,q=0,J=I,it=1;for(P+U>c&&(q=I,J=0,it=-1),m=0;m<d;m+=1)for(f=q;f!==J;f+=it)v=Math.round(f+P)%c,A=(c*m+v)*4,x=L.data[A+0],_=L.data[A+1],E=L.data[A+2],R=L.data[A+3],w=(c*m+f)*4,L.data[w+0]=x,L.data[w+1]=_,L.data[w+2]=E,L.data[w+3]=R;for(m=0;m<d;m+=1)for(I=Math.floor(U),y=0;y<M;y+=1){for(f=0;f<I+1;f+=1)A=(c*m+f)*4,x=L.data[A+0],_=L.data[A+1],E=L.data[A+2],R=L.data[A+3],w=(c*m+I*2-f-1)*4,L.data[w+0]=x,L.data[w+1]=_,L.data[w+2]=E,L.data[w+3]=R;I*=2}r(L,l,{})};return Jm.Kaleidoscope=s,e.Factory.addGetterSetter(t.Node,"kaleidoscopePower",2,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"kaleidoscopeAngle",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),Jm}var t0={},a7;function Npt(){if(a7)return t0;a7=1,Object.defineProperty(t0,"__esModule",{value:!0}),t0.Mask=void 0;const e=Be(),t=li(),n=Ue();function i(v,y,x){let _=(x*v.width+y)*4;const E=[];return E.push(v.data[_++],v.data[_++],v.data[_++],v.data[_++]),E}function a(v,y){return Math.sqrt(Math.pow(v[0]-y[0],2)+Math.pow(v[1]-y[1],2)+Math.pow(v[2]-y[2],2))}function r(v){const y=[0,0,0];for(let x=0;x<v.length;x++)y[0]+=v[x][0],y[1]+=v[x][1],y[2]+=v[x][2];return y[0]/=v.length,y[1]/=v.length,y[2]/=v.length,y}function s(v,y){const x=i(v,0,0),_=i(v,v.width-1,0),E=i(v,0,v.height-1),R=i(v,v.width-1,v.height-1),A=y||10;if(a(x,_)<A&&a(_,R)<A&&a(R,E)<A&&a(E,x)<A){const w=r([_,x,R,E]),M=[];for(let D=0;D<v.width*v.height;D++){const P=a(w,[v.data[D*4],v.data[D*4+1],v.data[D*4+2]]);M[D]=P<A?0:255}return M}}function l(v,y){for(let x=0;x<v.width*v.height;x++)v.data[4*x+3]=y[x]}function c(v,y,x){const _=[1,1,1,1,0,1,1,1,1],E=Math.round(Math.sqrt(_.length)),R=Math.floor(E/2),A=[];for(let w=0;w<x;w++)for(let M=0;M<y;M++){const D=w*y+M;let P=0;for(let z=0;z<E;z++)for(let L=0;L<E;L++){const U=w+z-R,I=M+L-R;if(U>=0&&U<x&&I>=0&&I<y){const q=U*y+I,J=_[z*E+L];P+=v[q]*J}}A[D]=P===255*8?255:0}return A}function d(v,y,x){const _=[1,1,1,1,1,1,1,1,1],E=Math.round(Math.sqrt(_.length)),R=Math.floor(E/2),A=[];for(let w=0;w<x;w++)for(let M=0;M<y;M++){const D=w*y+M;let P=0;for(let z=0;z<E;z++)for(let L=0;L<E;L++){const U=w+z-R,I=M+L-R;if(U>=0&&U<x&&I>=0&&I<y){const q=U*y+I,J=_[z*E+L];P+=v[q]*J}}A[D]=P>=255*4?255:0}return A}function f(v,y,x){const _=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],E=Math.round(Math.sqrt(_.length)),R=Math.floor(E/2),A=[];for(let w=0;w<x;w++)for(let M=0;M<y;M++){const D=w*y+M;let P=0;for(let z=0;z<E;z++)for(let L=0;L<E;L++){const U=w+z-R,I=M+L-R;if(U>=0&&U<x&&I>=0&&I<y){const q=U*y+I,J=_[z*E+L];P+=v[q]*J}}A[D]=P}return A}const m=function(v){const y=this.threshold();let x=s(v,y);return x&&(x=c(x,v.width,v.height),x=d(x,v.width,v.height),x=f(x,v.width,v.height),l(v,x)),v};return t0.Mask=m,e.Factory.addGetterSetter(t.Node,"threshold",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),t0}var e0={},r7;function Ppt(){if(r7)return e0;r7=1,Object.defineProperty(e0,"__esModule",{value:!0}),e0.Noise=void 0;const e=Be(),t=li(),n=Ue(),i=function(a){const r=this.noise()*255,s=a.data,l=s.length,c=r/2;for(let d=0;d<l;d+=4)s[d+0]+=c-2*c*Math.random(),s[d+1]+=c-2*c*Math.random(),s[d+2]+=c-2*c*Math.random()};return e0.Noise=i,e.Factory.addGetterSetter(t.Node,"noise",.2,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),e0}var n0={},s7;function Lpt(){if(s7)return n0;s7=1,Object.defineProperty(n0,"__esModule",{value:!0}),n0.Pixelate=void 0;const e=Be(),t=Zn(),n=li(),i=Ue(),a=function(r){let s=Math.ceil(this.pixelSize()),l=r.width,c=r.height,d=Math.ceil(l/s),f=Math.ceil(c/s),m=r.data;if(s<=0){t.Util.error("pixelSize value can not be <= 0");return}for(let v=0;v<d;v+=1)for(let y=0;y<f;y+=1){let x=0,_=0,E=0,R=0;const A=v*s,w=A+s,M=y*s,D=M+s;let P=0;for(let z=A;z<w;z+=1)if(!(z>=l))for(let L=M;L<D;L+=1){if(L>=c)continue;const U=(l*L+z)*4;x+=m[U+0],_+=m[U+1],E+=m[U+2],R+=m[U+3],P+=1}x=x/P,_=_/P,E=E/P,R=R/P;for(let z=A;z<w;z+=1)if(!(z>=l))for(let L=M;L<D;L+=1){if(L>=c)continue;const U=(l*L+z)*4;m[U+0]=x,m[U+1]=_,m[U+2]=E,m[U+3]=R}}};return n0.Pixelate=a,e.Factory.addGetterSetter(n.Node,"pixelSize",8,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),n0}var i0={},o7;function kpt(){if(o7)return i0;o7=1,Object.defineProperty(i0,"__esModule",{value:!0}),i0.Posterize=void 0;const e=Be(),t=li(),n=Ue(),i=function(a){const r=Math.round(this.levels()*254)+1,s=a.data,l=s.length,c=255/r;for(let d=0;d<l;d+=1)s[d]=Math.floor(s[d]/c)*c};return i0.Posterize=i,e.Factory.addGetterSetter(t.Node,"levels",.5,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),i0}var a0={},l7;function jpt(){if(l7)return a0;l7=1,Object.defineProperty(a0,"__esModule",{value:!0}),a0.RGB=void 0;const e=Be(),t=li(),n=Ue(),i=function(a){const r=a.data,s=r.length,l=this.red(),c=this.green(),d=this.blue();for(let f=0;f<s;f+=4){const m=(.34*r[f]+.5*r[f+1]+.16*r[f+2])/255;r[f]=m*l,r[f+1]=m*c,r[f+2]=m*d,r[f+3]=r[f+3]}};return a0.RGB=i,e.Factory.addGetterSetter(t.Node,"red",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),e.Factory.addGetterSetter(t.Node,"green",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),e.Factory.addGetterSetter(t.Node,"blue",0,n.RGBComponent,e.Factory.afterSetFilter),a0}var r0={},c7;function Fpt(){if(c7)return r0;c7=1,Object.defineProperty(r0,"__esModule",{value:!0}),r0.RGBA=void 0;const e=Be(),t=li(),n=Ue(),i=function(a){const r=a.data,s=r.length,l=this.red(),c=this.green(),d=this.blue(),f=this.alpha();for(let m=0;m<s;m+=4){const v=1-f;r[m]=l*f+r[m]*v,r[m+1]=c*f+r[m+1]*v,r[m+2]=d*f+r[m+2]*v}};return r0.RGBA=i,e.Factory.addGetterSetter(t.Node,"red",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),e.Factory.addGetterSetter(t.Node,"green",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),e.Factory.addGetterSetter(t.Node,"blue",0,n.RGBComponent,e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"alpha",1,function(a){return this._filterUpToDate=!1,a>1?1:a<0?0:a}),r0}var s0={},u7;function Bpt(){if(u7)return s0;u7=1,Object.defineProperty(s0,"__esModule",{value:!0}),s0.Sepia=void 0;const e=function(t){const n=t.data,i=n.length;for(let a=0;a<i;a+=4){const r=n[a+0],s=n[a+1],l=n[a+2];n[a+0]=Math.min(255,r*.393+s*.769+l*.189),n[a+1]=Math.min(255,r*.349+s*.686+l*.168),n[a+2]=Math.min(255,r*.272+s*.534+l*.131)}};return s0.Sepia=e,s0}var o0={},d7;function Ipt(){if(d7)return o0;d7=1,Object.defineProperty(o0,"__esModule",{value:!0}),o0.Solarize=void 0;const e=function(t){const n=t.data,i=t.width,a=t.height,r=i*4;let s=a;do{const l=(s-1)*r;let c=i;do{const d=l+(c-1)*4;let f=n[d],m=n[d+1],v=n[d+2];f>127&&(f=255-f),m>127&&(m=255-m),v>127&&(v=255-v),n[d]=f,n[d+1]=m,n[d+2]=v}while(--c)}while(--s)};return o0.Solarize=e,o0}var l0={},h7;function zpt(){if(h7)return l0;h7=1,Object.defineProperty(l0,"__esModule",{value:!0}),l0.Threshold=void 0;const e=Be(),t=li(),n=Ue(),i=function(a){const r=this.threshold()*255,s=a.data,l=s.length;for(let c=0;c<l;c+=1)s[c]=s[c]<r?0:255};return l0.Threshold=i,e.Factory.addGetterSetter(t.Node,"threshold",.5,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),l0}var f7;function Upt(){if(f7)return _m;f7=1,Object.defineProperty(_m,"__esModule",{value:!0}),_m.Konva=void 0;const e=sC(),t=lpt(),n=upt(),i=dpt(),a=hpt(),r=fpt(),s=ppt(),l=oB(),c=WT(),d=lB(),f=gpt(),m=mpt(),v=vpt(),y=ypt(),x=cB(),_=bpt(),E=xpt(),R=Spt(),A=_pt(),w=wpt(),M=Ept(),D=Apt(),P=Cpt(),z=Tpt(),L=Rpt(),U=Mpt(),I=Dpt(),q=Opt(),J=Npt(),it=Ppt(),at=Lpt(),et=kpt(),Z=jpt(),B=Fpt(),V=Bpt(),W=Ipt(),H=zpt();return _m.Konva=e.Konva.Util._assign(e.Konva,{Arc:t.Arc,Arrow:n.Arrow,Circle:i.Circle,Ellipse:a.Ellipse,Image:r.Image,Label:s.Label,Tag:s.Tag,Line:l.Line,Path:c.Path,Rect:d.Rect,RegularPolygon:f.RegularPolygon,Ring:m.Ring,Sprite:v.Sprite,Star:y.Star,Text:x.Text,TextPath:_.TextPath,Transformer:E.Transformer,Wedge:R.Wedge,Filters:{Blur:A.Blur,Brighten:w.Brighten,Contrast:M.Contrast,Emboss:D.Emboss,Enhance:P.Enhance,Grayscale:z.Grayscale,HSL:L.HSL,HSV:U.HSV,Invert:I.Invert,Kaleidoscope:q.Kaleidoscope,Mask:J.Mask,Noise:it.Noise,Pixelate:at.Pixelate,Posterize:et.Posterize,RGB:Z.RGB,RGBA:B.RGBA,Sepia:V.Sepia,Solarize:W.Solarize,Threshold:H.Threshold}}),_m}var Hpt=Wb.exports,p7;function Gpt(){if(p7)return Wb.exports;p7=1,Object.defineProperty(Hpt,"__esModule",{value:!0});const e=Upt();return Wb.exports=e.Konva,Wb.exports}Gpt();var Db={exports:{}},g7;function qpt(){return g7||(g7=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;var n=sC();Object.defineProperty(t,"Konva",{enumerable:!0,get:function(){return n.Konva}});const i=sC();e.exports=i.Konva}(Db,Db.exports)),Db.exports}var Vpt=qpt();const L1=Tr(Vpt);var zE={exports:{}},UE={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m7;function Ypt(){return m7||(m7=1,function(e){e.exports=function(t){function n(h,p,S,T){return new Zx(h,p,S,T)}function i(){}function a(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)p+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(h){var p=h,S=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,(p.flags&4098)!==0&&(S=p.return),h=p.return;while(h)}return p.tag===3?S:null}function s(h){if(r(h)!==h)throw Error(a(188))}function l(h){var p=h.alternate;if(!p){if(p=r(h),p===null)throw Error(a(188));return p!==h?null:h}for(var S=h,T=p;;){var N=S.return;if(N===null)break;var k=N.alternate;if(k===null){if(T=N.return,T!==null){S=T;continue}break}if(N.child===k.child){for(k=N.child;k;){if(k===S)return s(N),h;if(k===T)return s(N),p;k=k.sibling}throw Error(a(188))}if(S.return!==T.return)S=N,T=k;else{for(var Q=!1,st=N.child;st;){if(st===S){Q=!0,S=N,T=k;break}if(st===T){Q=!0,T=N,S=k;break}st=st.sibling}if(!Q){for(st=k.child;st;){if(st===S){Q=!0,S=k,T=N;break}if(st===T){Q=!0,T=k,S=N;break}st=st.sibling}if(!Q)throw Error(a(189))}}if(S.alternate!==T)throw Error(a(190))}if(S.tag!==3)throw Error(a(188));return S.stateNode.current===S?h:p}function c(h){var p=h.tag;if(p===5||p===26||p===27||p===6)return h;for(h=h.child;h!==null;){if(p=c(h),p!==null)return p;h=h.sibling}return null}function d(h){var p=h.tag;if(p===5||p===26||p===27||p===6)return h;for(h=h.child;h!==null;){if(h.tag!==4&&(p=d(h),p!==null))return p;h=h.sibling}return null}function f(h){return h===null||typeof h!="object"?null:(h=Zh&&h[Zh]||h["@@iterator"],typeof h=="function"?h:null)}function m(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===Ju?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case Rl:return"Fragment";case Qh:return"Profiler";case $u:return"StrictMode";case Qu:return"Suspense";case Zu:return"SuspenseList";case Ml:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case xo:return"Portal";case Ps:return(h.displayName||"Context")+".Provider";case vg:return(h._context.displayName||"Context")+".Consumer";case Hr:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case Gr:return p=h.displayName||null,p!==null?p:m(h.type)||"Memo";case Vi:p=h._payload,h=h._init;try{return m(h(p))}catch{}}return null}function v(h){return{current:h}}function y(h){0>Is||(h.current=Bs[Is],Bs[Is]=null,Is--)}function x(h,p){Is++,Bs[Is]=h.current,h.current=p}function _(h){return h>>>=0,h===0?32:31-(jy(h)/lf|0)|0}function E(h){var p=h&42;if(p!==0)return p;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function R(h,p,S){var T=h.pendingLanes;if(T===0)return 0;var N=0,k=h.suspendedLanes,Q=h.pingedLanes;h=h.warmLanes;var st=T&134217727;return st!==0?(T=st&~k,T!==0?N=E(T):(Q&=st,Q!==0?N=E(Q):S||(S=st&~h,S!==0&&(N=E(S))))):(st=T&~k,st!==0?N=E(st):Q!==0?N=E(Q):S||(S=T&~h,S!==0&&(N=E(S)))),N===0?0:p!==0&&p!==N&&(p&k)===0&&(k=N&-N,S=p&-p,k>=S||k===32&&(S&4194048)!==0)?p:N}function A(h,p){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&p)===0}function w(h,p){switch(h){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M(){var h=dd;return dd<<=1,(dd&4194048)===0&&(dd=256),h}function D(){var h=Fc;return Fc<<=1,(Fc&62914560)===0&&(Fc=4194304),h}function P(h){for(var p=[],S=0;31>S;S++)p.push(h);return p}function z(h,p){h.pendingLanes|=p,p!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function L(h,p,S,T,N,k){var Q=h.pendingLanes;h.pendingLanes=S,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=S,h.entangledLanes&=S,h.errorRecoveryDisabledLanes&=S,h.shellSuspendCounter=0;var st=h.entanglements,ft=h.expirationTimes,Tt=h.hiddenUpdates;for(S=Q&~S;0<S;){var Nt=31-ha(S),It=1<<Nt;st[Nt]=0,ft[Nt]=-1;var zt=Tt[Nt];if(zt!==null)for(Tt[Nt]=null,Nt=0;Nt<zt.length;Nt++){var ye=zt[Nt];ye!==null&&(ye.lane&=-536870913)}S&=~It}T!==0&&U(h,T,0),k!==0&&N===0&&h.tag!==0&&(h.suspendedLanes|=k&~(Q&~p))}function U(h,p,S){h.pendingLanes|=p,h.suspendedLanes&=~p;var T=31-ha(p);h.entangledLanes|=p,h.entanglements[T]=h.entanglements[T]|1073741824|S&4194090}function I(h,p){var S=h.entangledLanes|=p;for(h=h.entanglements;S;){var T=31-ha(S),N=1<<T;N&p|h[T]&p&&(h[T]|=p),S&=~N}}function q(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function J(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function it(h){if(typeof zy=="function"&&Uy(h),Ki&&typeof Ki.setStrictMode=="function")try{Ki.setStrictMode(Ao,h)}catch{}}function at(h){if(df===void 0)try{throw Error()}catch(S){var p=S.stack.trim().match(/\n( *(at )?)/);df=p&&p[1]||"",Gg=-1<S.stack.indexOf(`
    at`)?" (<anonymous>)":-1<S.stack.indexOf("@")?"@unknown:0:0":""}return`
`+df+h+Gg}function et(h,p){if(!h||hf)return"";hf=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var T={DetermineComponentFrameRoot:function(){try{if(p){var It=function(){throw Error()};if(Object.defineProperty(It.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(It,[])}catch(ye){var zt=ye}Reflect.construct(h,[],It)}else{try{It.call()}catch(ye){zt=ye}h.call(It.prototype)}}else{try{throw Error()}catch(ye){zt=ye}(It=h())&&typeof It.catch=="function"&&It.catch(function(){})}}catch(ye){if(ye&&zt&&typeof ye.stack=="string")return[ye.stack,zt.stack]}return[null,null]}};T.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(T.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(T.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=T.DetermineComponentFrameRoot(),Q=k[0],st=k[1];if(Q&&st){var ft=Q.split(`
`),Tt=st.split(`
`);for(N=T=0;T<ft.length&&!ft[T].includes("DetermineComponentFrameRoot");)T++;for(;N<Tt.length&&!Tt[N].includes("DetermineComponentFrameRoot");)N++;if(T===ft.length||N===Tt.length)for(T=ft.length-1,N=Tt.length-1;1<=T&&0<=N&&ft[T]!==Tt[N];)N--;for(;1<=T&&0<=N;T--,N--)if(ft[T]!==Tt[N]){if(T!==1||N!==1)do if(T--,N--,0>N||ft[T]!==Tt[N]){var Nt=`
`+ft[T].replace(" at new "," at ");return h.displayName&&Nt.includes("<anonymous>")&&(Nt=Nt.replace("<anonymous>",h.displayName)),Nt}while(1<=T&&0<=N);break}}}finally{hf=!1,Error.prepareStackTrace=S}return(S=h?h.displayName||h.name:"")?at(S):""}function Z(h){switch(h.tag){case 26:case 27:case 5:return at(h.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return et(h.type,!1);case 11:return et(h.type.render,!1);case 1:return et(h.type,!0);case 31:return at("Activity");default:return""}}function B(h){try{var p="";do p+=Z(h),h=h.return;while(h);return p}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}function V(h,p){if(typeof h=="object"&&h!==null){var S=ff.get(h);return S!==void 0?S:(p={value:h,source:p,stack:B(p)},ff.set(h,p),p)}return{value:h,source:p,stack:B(p)}}function W(h,p){Co[To++]=Bc,Co[To++]=fd,fd=h,Bc=p}function H(h,p,S){Xi[fa++]=pr,Xi[fa++]=Kr,Xi[fa++]=Ro,Ro=h;var T=pr;h=Kr;var N=32-ha(T)-1;T&=~(1<<N),S+=1;var k=32-ha(p)+N;if(30<k){var Q=N-N%5;k=(T&(1<<Q)-1).toString(32),T>>=Q,N-=Q,pr=1<<32-ha(p)+N|S<<N|T,Kr=k+h}else pr=1<<k|S<<N|T,Kr=h}function K(h){h.return!==null&&(W(h,1),H(h,1,0))}function nt(h){for(;h===fd;)fd=Co[--To],Co[To]=null,Bc=Co[--To],Co[To]=null;for(;h===Ro;)Ro=Xi[--fa],Xi[fa]=null,Kr=Xi[--fa],Xi[fa]=null,pr=Xi[--fa],Xi[fa]=null}function $(h,p){x(Mo,p),x(Pl,h),x(wn,null),h=bg(p),y(wn),x(wn,h)}function lt(){y(wn),y(Pl),y(Mo)}function yt(h){h.memoizedState!==null&&x(pd,h);var p=wn.current,S=xg(p,h.type);p!==S&&(x(Pl,h),x(wn,S))}function ot(h){Pl.current===h&&(y(wn),y(Pl)),pd.current===h&&(y(pd),ks?Vr._currentValue=da:Vr._currentValue2=da)}function tt(h){var p=Error(a(418,""));throw Ht(V(p,h)),qg}function ut(h,p){if(!ca)throw Error(a(175));Oy(h.stateNode,h.type,h.memoizedProps,p,h)||tt(h)}function Et(h){for(Dn=h.return;Dn;)switch(Dn.tag){case 5:case 13:Xe=!1;return;case 27:case 3:Xe=!0;return;default:Dn=Dn.return}}function Dt(h){if(!ca||h!==Dn)return!1;if(!Ie)return Et(h),Ie=!0,!1;var p=h.tag;if(De?p!==3&&p!==27&&(p!==5||Fg(h.type)&&!Ls(h.type,h.memoizedProps))&&Kn&&tt(h):p!==3&&(p!==5||Fg(h.type)&&!Ls(h.type,h.memoizedProps))&&Kn&&tt(h),Et(h),p===13){if(!ca)throw Error(a(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));Kn=rf(h)}else Kn=De&&p===27?Lg(h.type,Kn):Dn?Cy(h.stateNode):null;return!0}function jt(){ca&&(Kn=Dn=null,Ie=!1)}function Bt(){var h=gr;return h!==null&&(Li===null?Li=h:Li.push.apply(Li,h),gr=null),h}function Ht(h){gr===null?gr=[h]:gr.push(h)}function pe(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}function Lt(h,p,S){ks?(x(gd,p._currentValue),p._currentValue=S):(x(gd,p._currentValue2),p._currentValue2=S)}function Re(h){var p=gd.current;ks?h._currentValue=p:h._currentValue2=p,y(gd)}function Ft(h,p,S){for(;h!==null;){var T=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,T!==null&&(T.childLanes|=p)):T!==null&&(T.childLanes&p)!==p&&(T.childLanes|=p),h===S)break;h=h.return}}function Ce(h,p,S,T){var N=h.child;for(N!==null&&(N.return=h);N!==null;){var k=N.dependencies;if(k!==null){var Q=N.child;k=k.firstContext;t:for(;k!==null;){var st=k;k=N;for(var ft=0;ft<p.length;ft++)if(st.context===p[ft]){k.lanes|=S,st=k.alternate,st!==null&&(st.lanes|=S),Ft(k.return,S,h),T||(Q=null);break t}k=st.next}}else if(N.tag===18){if(Q=N.return,Q===null)throw Error(a(341));Q.lanes|=S,k=Q.alternate,k!==null&&(k.lanes|=S),Ft(Q,S,h),Q=null}else Q=N.child;if(Q!==null)Q.return=N;else for(Q=N;Q!==null;){if(Q===h){Q=null;break}if(N=Q.sibling,N!==null){N.return=Q.return,Q=N;break}Q=Q.return}N=Q}}function cn(h,p,S,T){h=null;for(var N=p,k=!1;N!==null;){if(!k){if((N.flags&524288)!==0)k=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var Q=N.alternate;if(Q===null)throw Error(a(387));if(Q=Q.memoizedProps,Q!==null){var st=N.type;Ca(N.pendingProps.value,Q.value)||(h!==null?h.push(st):h=[st])}}else if(N===pd.current){if(Q=N.alternate,Q===null)throw Error(a(387));Q.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(h!==null?h.push(Vr):h=[Vr])}N=N.return}h!==null&&Ce(p,h,S,T),p.flags|=262144}function un(h){for(h=h.firstContext;h!==null;){var p=h.context;if(!Ca(ks?p._currentValue:p._currentValue2,h.memoizedValue))return!0;h=h.next}return!1}function Sn(h){mr=h,Oi=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function Zt(h){return Ot(mr,h)}function Me(h,p){return mr===null&&Sn(h),Ot(h,p)}function Ot(h,p){var S=ks?p._currentValue:p._currentValue2;if(p={context:p,memoizedValue:S,next:null},Oi===null){if(h===null)throw Error(a(308));Oi=p,h.dependencies={lanes:0,firstContext:p},h.flags|=524288}else Oi=Oi.next=p;return S}function Ut(){return{controller:new Hy,data:new Map,refCount:0}}function ie(h){h.refCount--,h.refCount===0&&Gy(md,function(){h.controller.abort()})}function $t(h){h!==Do&&h.next===null&&(Do===null?vd=Do=h:Do=Do.next=h),Ic=!0,pf||(pf=!0,Mt())}function re(h,p){if(!yd&&Ic){yd=!0;do for(var S=!1,T=vd;T!==null;){if(h!==0){var N=T.pendingLanes;if(N===0)var k=0;else{var Q=T.suspendedLanes,st=T.pingedLanes;k=(1<<31-ha(42|h)+1)-1,k&=N&~(Q&~st),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(S=!0,Rn(T,k))}else k=Ee,k=R(T,T===Ge?k:0,T.cancelPendingCommit!==null||T.timeoutHandle!==Ka),(k&3)===0||A(T,k)||(S=!0,Rn(T,k));T=T.next}while(S);yd=!1}}function Ne(){nn()}function nn(){Ic=pf=!1;var h=0;zs!==0&&(_g()&&(h=zs),zs=0);for(var p=sn(),S=null,T=vd;T!==null;){var N=T.next,k=_n(T,p);k===0?(T.next=null,S===null?vd=N:S.next=N,N===null&&(Do=S)):(S=T,(h!==0||(k&3)!==0)&&(Ic=!0)),T=N}re(h)}function _n(h,p){for(var S=h.suspendedLanes,T=h.pingedLanes,N=h.expirationTimes,k=h.pendingLanes&-62914561;0<k;){var Q=31-ha(k),st=1<<Q,ft=N[Q];ft===-1?((st&S)===0||(st&T)!==0)&&(N[Q]=w(st,p)):ft<=p&&(h.expiredLanes|=st),k&=~st}if(p=Ge,S=Ee,S=R(h,h===p?S:0,h.cancelPendingCommit!==null||h.timeoutHandle!==Ka),T=h.callbackNode,S===0||h===p&&(Je===2||Je===9)||h.cancelPendingCommit!==null)return T!==null&&T!==null&&cf(T),h.callbackNode=null,h.callbackPriority=0;if((S&3)===0||A(h,S)){if(p=S&-S,p===h.callbackPriority)return p;switch(T!==null&&cf(T),J(S)){case 2:case 8:S=By;break;case 32:S=uf;break;case 268435456:S=Iy;break;default:S=uf}return T=yi.bind(null,h),S=hd(S,T),h.callbackPriority=p,h.callbackNode=S,p}return T!==null&&T!==null&&cf(T),h.callbackPriority=2,h.callbackNode=null,2}function yi(h,p){if(ni!==0&&ni!==5)return h.callbackNode=null,h.callbackPriority=0,null;var S=h.callbackNode;if(Ya()&&h.callbackNode!==S)return null;var T=Ee;return T=R(h,h===Ge?T:0,h.cancelPendingCommit!==null||h.timeoutHandle!==Ka),T===0?null:(Ku(h,T,p),_n(h,sn()),h.callbackNode!=null&&h.callbackNode===S?yi.bind(null,h):null)}function Rn(h,p){if(Ya())return null;Ku(h,p,!0)}function Mt(){Ag?sy(function(){(ee&6)!==0?hd(hi,Ne):nn()}):hd(hi,Ne)}function Vt(){return zs===0&&(zs=M()),zs}function tn(h,p){if(zc===null){var S=zc=[];vr=0,gn=Vt(),Oo={status:"pending",value:void 0,then:function(T){S.push(T)}}}return vr++,p.then(An,An),p}function An(){if(--vr===0&&zc!==null){Oo!==null&&(Oo.status="fulfilled");var h=zc;zc=null,gn=0,Oo=null;for(var p=0;p<h.length;p++)(0,h[p])()}}function Rr(h,p){var S=[],T={status:"pending",value:null,reason:null,then:function(N){S.push(N)}};return h.then(function(){T.status="fulfilled",T.value=p;for(var N=0;N<S.length;N++)(0,S[N])(p)},function(N){for(T.status="rejected",T.reason=N,N=0;N<S.length;N++)(0,S[N])(void 0)}),T}function ms(){var h=Tn.current;return h!==null?h:Ge.pooledCache}function zi(h,p){p===null?x(Tn,Tn.current):x(Tn,p.pool)}function Mr(){var h=ms();return h===null?null:{parent:ks?Ze._currentValue:Ze._currentValue2,pool:h}}function Ui(h,p){if(Ca(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var S=Object.keys(h),T=Object.keys(p);if(S.length!==T.length)return!1;for(T=0;T<S.length;T++){var N=S[T];if(!a2.call(p,N)||!Ca(h[N],p[N]))return!1}return!0}function vs(h){return h=h.status,h==="fulfilled"||h==="rejected"}function Ua(){}function ys(h,p,S){switch(S=h[S],S===void 0?h.push(p):S!==p&&(p.then(Ua,Ua),p=S),p.status){case"fulfilled":return p.value;case"rejected":throw h=p.reason,lc(h),h;default:if(typeof p.status=="string")p.then(Ua,Ua);else{if(h=Ge,h!==null&&100<h.shellSuspendCounter)throw Error(a(482));h=p,h.status="pending",h.then(function(T){if(p.status==="pending"){var N=p;N.status="fulfilled",N.value=T}},function(T){if(p.status==="pending"){var N=p;N.status="rejected",N.reason=T}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw h=p.reason,lc(h),h}throw pa=p,Uc}}function oc(){if(pa===null)throw Error(a(459));var h=pa;return pa=null,h}function lc(h){if(h===Uc||h===fn)throw Error(a(483))}function sl(){for(var h=Ll,p=Yg=Ll=0;p<h;){var S=Ta[p];Ta[p++]=null;var T=Ta[p];Ta[p++]=null;var N=Ta[p];Ta[p++]=null;var k=Ta[p];if(Ta[p++]=null,T!==null&&N!==null){var Q=T.pending;Q===null?N.next=N:(N.next=Q.next,Q.next=N),T.pending=N}k!==0&&Hi(S,N,k)}}function cc(h,p,S,T){Ta[Ll++]=h,Ta[Ll++]=p,Ta[Ll++]=S,Ta[Ll++]=T,Yg|=T,h.lanes|=T,h=h.alternate,h!==null&&(h.lanes|=T)}function Jn(h,p,S,T){return cc(h,p,S,T),bs(h)}function dn(h,p){return cc(h,null,null,p),bs(h)}function Hi(h,p,S){h.lanes|=S;var T=h.alternate;T!==null&&(T.lanes|=S);for(var N=!1,k=h.return;k!==null;)k.childLanes|=S,T=k.alternate,T!==null&&(T.childLanes|=S),k.tag===22&&(h=k.stateNode,h===null||h._visibility&1||(N=!0)),h=k,k=k.return;return h.tag===3?(k=h.stateNode,N&&p!==null&&(N=31-ha(S),h=k.hiddenUpdates,T=h[N],T===null?h[N]=[p]:T.push(p),p.lane=S|536870912),k):null}function bs(h){if(50<Uo)throw Uo=0,xf=null,Error(a(185));for(var p=h.return;p!==null;)h=p,p=h.return;return h.tag===3?h.stateNode:null}function Tu(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kp(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function ro(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function xs(h,p,S){var T=h.updateQueue;if(T===null)return null;if(T=T.shared,(ee&2)!==0){var N=T.pending;return N===null?p.next=p:(p.next=N.next,N.next=p),T.pending=p,p=bs(h),Hi(h,null,S),p}return cc(h,T,p,S),bs(h)}function Ss(h,p,S){if(p=p.updateQueue,p!==null&&(p=p.shared,(S&4194048)!==0)){var T=p.lanes;T&=h.pendingLanes,S|=T,p.lanes=S,I(h,S)}}function Ru(h,p){var S=h.updateQueue,T=h.alternate;if(T!==null&&(T=T.updateQueue,S===T)){var N=null,k=null;if(S=S.firstBaseUpdate,S!==null){do{var Q={lane:S.lane,tag:S.tag,payload:S.payload,callback:null,next:null};k===null?N=k=Q:k=k.next=Q,S=S.next}while(S!==null);k===null?N=k=p:k=k.next=p}else N=k=p;S={baseState:T.baseState,firstBaseUpdate:N,lastBaseUpdate:k,shared:T.shared,callbacks:T.callbacks},h.updateQueue=S;return}h=S.lastBaseUpdate,h===null?S.firstBaseUpdate=p:h.next=p,S.lastBaseUpdate=p}function Dr(){if($i){var h=Oo;if(h!==null)throw h}}function Or(h,p,S,T){$i=!1;var N=h.updateQueue;Xr=!1;var k=N.firstBaseUpdate,Q=N.lastBaseUpdate,st=N.shared.pending;if(st!==null){N.shared.pending=null;var ft=st,Tt=ft.next;ft.next=null,Q===null?k=Tt:Q.next=Tt,Q=ft;var Nt=h.alternate;Nt!==null&&(Nt=Nt.updateQueue,st=Nt.lastBaseUpdate,st!==Q&&(st===null?Nt.firstBaseUpdate=Tt:st.next=Tt,Nt.lastBaseUpdate=ft))}if(k!==null){var It=N.baseState;Q=0,Nt=Tt=ft=null,st=k;do{var zt=st.lane&-536870913,ye=zt!==st.lane;if(ye?(Ee&zt)===zt:(T&zt)===zt){zt!==0&&zt===gn&&($i=!0),Nt!==null&&(Nt=Nt.next={lane:0,tag:st.tag,payload:st.payload,callback:null,next:null});t:{var Wa=h,Ho=st;zt=p;var Qa=S;switch(Ho.tag){case 1:if(Wa=Ho.payload,typeof Wa=="function"){It=Wa.call(Qa,It,zt);break t}It=Wa;break t;case 3:Wa.flags=Wa.flags&-65537|128;case 0:if(Wa=Ho.payload,zt=typeof Wa=="function"?Wa.call(Qa,It,zt):Wa,zt==null)break t;It=Cl({},It,zt);break t;case 2:Xr=!0}}zt=st.callback,zt!==null&&(h.flags|=64,ye&&(h.flags|=8192),ye=N.callbacks,ye===null?N.callbacks=[zt]:ye.push(zt))}else ye={lane:zt,tag:st.tag,payload:st.payload,callback:st.callback,next:null},Nt===null?(Tt=Nt=ye,ft=It):Nt=Nt.next=ye,Q|=zt;if(st=st.next,st===null){if(st=N.shared.pending,st===null)break;ye=st,st=ye.next,ye.next=null,N.lastBaseUpdate=ye,N.shared.pending=null}}while(!0);Nt===null&&(ft=It),N.baseState=ft,N.firstBaseUpdate=Tt,N.lastBaseUpdate=Nt,k===null&&(N.shared.lanes=0),Wn|=Q,h.lanes=Q,h.memoizedState=It}}function uc(h,p){if(typeof h!="function")throw Error(a(191,h));h.call(p)}function ol(h,p){var S=h.callbacks;if(S!==null)for(h.callbacks=null,h=0;h<S.length;h++)uc(S[h],p)}function ti(h,p){h=zn,x(bd,h),x(Ni,p),zn=h|p.baseLanes}function ph(){x(bd,zn),x(Ni,Ni.current)}function gh(){zn=bd.current,y(Ni),y(bd)}function hn(){throw Error(a(321))}function so(h,p){if(p===null)return!1;for(var S=0;S<p.length&&S<h.length;S++)if(!Ca(h[S],p[S]))return!1;return!0}function jp(h,p,S,T,N,k){return Xn=k,be=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,te.H=h===null||h.memoizedState===null?kl:Kg,Us=!1,k=S(T,N),Us=!1,No&&(k=Bp(p,S,T,N)),Fp(h),k}function Fp(h){te.H=Po;var p=ke!==null&&ke.next!==null;if(Xn=0,mn=ke=be=null,yr=!1,Hc=0,br=null,p)throw Error(a(300));h===null||ue||(h=h.dependencies,h!==null&&un(h)&&(ue=!0))}function Bp(h,p,S,T){be=h;var N=0;do{if(No&&(br=null),Hc=0,No=!1,25<=N)throw Error(a(301));if(N+=1,mn=ke=null,h.updateQueue!=null){var k=h.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}te.H=qy,k=p(S,T)}while(No);return k}function Yx(){var h=te.H,p=h.useState()[0];return p=typeof p.then=="function"?ll(p):p,h=h.useState()[0],(ke!==null?ke.memoizedState:null)!==h&&(be.flags|=1024),p}function dc(){var h=Ra!==0;return Ra=0,h}function hc(h,p,S){p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~S}function ur(h){if(yr){for(h=h.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}yr=!1}Xn=0,mn=ke=be=null,No=!1,Hc=Ra=0,br=null}function Ai(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?be.memoizedState=mn=h:mn=mn.next=h,mn}function In(){if(ke===null){var h=be.alternate;h=h!==null?h.memoizedState:null}else h=ke.next;var p=mn===null?be.memoizedState:mn.next;if(p!==null)mn=p,ke=h;else{if(h===null)throw be.alternate===null?Error(a(467)):Error(a(310));ke=h,h={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},mn===null?be.memoizedState=mn=h:mn=mn.next=h}return mn}function oo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(h){var p=Hc;return Hc+=1,br===null&&(br=[]),h=ys(br,h,p),p=be,(mn===null?p.memoizedState:mn.next)===null&&(p=p.alternate,te.H=p===null||p.memoizedState===null?kl:Kg),h}function fc(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return ll(h);if(h.$$typeof===Ps)return Zt(h)}throw Error(a(438,String(h)))}function Ip(h){var p=null,S=be.updateQueue;if(S!==null&&(p=S.memoCache),p==null){var T=be.alternate;T!==null&&(T=T.updateQueue,T!==null&&(T=T.memoCache,T!=null&&(p={data:T.data.map(function(N){return N.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),S===null&&(S=oo(),be.updateQueue=S),S.memoCache=p,S=p.data[p.index],S===void 0)for(S=p.data[p.index]=Array(h),T=0;T<h;T++)S[T]=yg;return p.index++,S}function Nr(h,p){return typeof p=="function"?p(h):p}function Gi(h){var p=In();return mh(p,ke,h)}function mh(h,p,S){var T=h.queue;if(T===null)throw Error(a(311));T.lastRenderedReducer=S;var N=h.baseQueue,k=T.pending;if(k!==null){if(N!==null){var Q=N.next;N.next=k.next,k.next=Q}p.baseQueue=N=k,T.pending=null}if(k=h.baseState,N===null)h.memoizedState=k;else{p=N.next;var st=Q=null,ft=null,Tt=p,Nt=!1;do{var It=Tt.lane&-536870913;if(It!==Tt.lane?(Ee&It)===It:(Xn&It)===It){var zt=Tt.revertLane;if(zt===0)ft!==null&&(ft=ft.next={lane:0,revertLane:0,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null}),It===gn&&(Nt=!0);else if((Xn&zt)===zt){Tt=Tt.next,zt===gn&&(Nt=!0);continue}else It={lane:0,revertLane:Tt.revertLane,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null},ft===null?(st=ft=It,Q=k):ft=ft.next=It,be.lanes|=zt,Wn|=zt;It=Tt.action,Us&&S(k,It),k=Tt.hasEagerState?Tt.eagerState:S(k,It)}else zt={lane:It,revertLane:Tt.revertLane,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null},ft===null?(st=ft=zt,Q=k):ft=ft.next=zt,be.lanes|=It,Wn|=It;Tt=Tt.next}while(Tt!==null&&Tt!==p);if(ft===null?Q=k:ft.next=st,!Ca(k,h.memoizedState)&&(ue=!0,Nt&&(S=Oo,S!==null)))throw S;h.memoizedState=k,h.baseState=Q,h.baseQueue=ft,T.lastRenderedState=k}return N===null&&(T.lanes=0),[h.memoizedState,T.dispatch]}function zp(h){var p=In(),S=p.queue;if(S===null)throw Error(a(311));S.lastRenderedReducer=h;var T=S.dispatch,N=S.pending,k=p.memoizedState;if(N!==null){S.pending=null;var Q=N=N.next;do k=h(k,Q.action),Q=Q.next;while(Q!==N);Ca(k,p.memoizedState)||(ue=!0),p.memoizedState=k,p.baseQueue===null&&(p.baseState=k),S.lastRenderedState=k}return[k,T]}function Mu(h,p,S){var T=be,N=In(),k=Ie;if(k){if(S===void 0)throw Error(a(407));S=S()}else S=p();var Q=!Ca((ke||N).memoizedState,S);Q&&(N.memoizedState=S,ue=!0),N=N.queue;var st=Ov.bind(null,T,N,h);if(dl(2048,8,st,[h]),N.getSnapshot!==p||Q||mn!==null&&mn.memoizedState.tag&1){if(T.flags|=2048,lo(9,_s(),Du.bind(null,T,N,S,p),null),Ge===null)throw Error(a(349));k||(Xn&124)!==0||Up(T,p,S)}return S}function Up(h,p,S){h.flags|=16384,h={getSnapshot:p,value:S},p=be.updateQueue,p===null?(p=oo(),be.updateQueue=p,p.stores=[h]):(S=p.stores,S===null?p.stores=[h]:S.push(h))}function Du(h,p,S,T){p.value=S,p.getSnapshot=T,xa(p)&&vh(h)}function Ov(h,p,S){return S(function(){xa(p)&&vh(h)})}function xa(h){var p=h.getSnapshot;h=h.value;try{var S=p();return!Ca(h,S)}catch{return!0}}function vh(h){var p=dn(h,2);p!==null&&Ri(p,h,2)}function yh(h){var p=Ai();if(typeof h=="function"){var S=h;if(h=S(),Us){it(!0);try{S()}finally{it(!1)}}}return p.memoizedState=p.baseState=h,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:h},p}function bh(h,p,S,T){return h.baseState=S,mh(h,ke,typeof T=="function"?T:Nr)}function pc(h,p,S,T,N){if(ju(h))throw Error(a(485));if(h=p.action,h!==null){var k={payload:N,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Q){k.listeners.push(Q)}};te.T!==null?S(!0):k.isTransition=!1,T(k),S=p.pending,S===null?(k.next=p.pending=k,Hp(p,k)):(k.next=S.next,p.pending=S.next=k)}}function Hp(h,p){var S=p.action,T=p.payload,N=h.state;if(p.isTransition){var k=te.T,Q={};te.T=Q;try{var st=S(N,T),ft=te.S;ft!==null&&ft(Q,st),Gp(h,p,st)}catch(Tt){qp(h,p,Tt)}finally{te.T=k}}else try{k=S(N,T),Gp(h,p,k)}catch(Tt){qp(h,p,Tt)}}function Gp(h,p,S){S!==null&&typeof S=="object"&&typeof S.then=="function"?S.then(function(T){cl(h,p,T)},function(T){return qp(h,p,T)}):cl(h,p,S)}function cl(h,p,S){p.status="fulfilled",p.value=S,Vp(p),h.state=S,p=h.pending,p!==null&&(S=p.next,S===p?h.pending=null:(S=S.next,p.next=S,Hp(h,S)))}function qp(h,p,S){var T=h.pending;if(h.pending=null,T!==null){T=T.next;do p.status="rejected",p.reason=S,Vp(p),p=p.next;while(p!==T)}h.action=null}function Vp(h){h=h.listeners;for(var p=0;p<h.length;p++)(0,h[p])()}function Yp(h,p){return p}function xh(h,p){if(Ie){var S=Ge.formState;if(S!==null){t:{var T=be;if(Ie){if(Kn){var N=Ey(Kn,Xe);if(N){Kn=Cy(N),T=Ay(N);break t}}tt(T)}T=!1}T&&(p=S[0])}}S=Ai(),S.memoizedState=S.baseState=p,T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yp,lastRenderedState:p},S.queue=T,S=Eh.bind(null,be,T),T.dispatch=S,T=yh(!1);var k=bc.bind(null,be,!1,T.queue);return T=Ai(),N={state:p,dispatch:null,action:h,pending:null},T.queue=N,S=pc.bind(null,be,N,k,S),N.dispatch=S,T.memoizedState=h,[p,S,!1]}function Nv(h){var p=In();return Pv(p,ke,h)}function Pv(h,p,S){if(p=mh(h,p,Yp)[0],h=Gi(Nr)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var T=ll(p)}catch(Q){throw Q===Uc?fn:Q}else T=p;p=In();var N=p.queue,k=N.dispatch;return S!==p.memoizedState&&(be.flags|=2048,lo(9,_s(),Sh.bind(null,N,S),null)),[T,k,h]}function Sh(h,p){h.action=p}function _h(h){var p=In(),S=ke;if(S!==null)return Pv(p,S,h);In(),p=p.memoizedState,S=In();var T=S.queue.dispatch;return S.memoizedState=h,[p,T,!1]}function lo(h,p,S,T){return h={tag:h,create:S,deps:T,inst:p,next:null},p=be.updateQueue,p===null&&(p=oo(),be.updateQueue=p),S=p.lastEffect,S===null?p.lastEffect=h.next=h:(T=S.next,S.next=h,h.next=T,p.lastEffect=h),h}function _s(){return{destroy:void 0,resource:void 0}}function ul(){return In().memoizedState}function Ou(h,p,S,T){var N=Ai();T=T===void 0?null:T,be.flags|=h,N.memoizedState=lo(1|p,_s(),S,T)}function dl(h,p,S,T){var N=In();T=T===void 0?null:T;var k=N.memoizedState.inst;ke!==null&&T!==null&&so(T,ke.memoizedState.deps)?N.memoizedState=lo(p,k,S,T):(be.flags|=h,N.memoizedState=lo(1|p,k,S,T))}function Kp(h,p){Ou(8390656,8,h,p)}function gc(h,p){dl(2048,8,h,p)}function Pr(h,p){return dl(4,2,h,p)}function wh(h,p){return dl(4,4,h,p)}function mc(h,p){if(typeof p=="function"){h=h();var S=p(h);return function(){typeof S=="function"?S():p(null)}}if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function ws(h,p,S){S=S!=null?S.concat([h]):null,dl(4,4,mc.bind(null,p,h),S)}function Nu(){}function Pu(h,p){var S=In();p=p===void 0?null:p;var T=S.memoizedState;return p!==null&&so(p,T[1])?T[0]:(S.memoizedState=[h,p],h)}function Xp(h,p){var S=In();p=p===void 0?null:p;var T=S.memoizedState;if(p!==null&&so(p,T[1]))return T[0];if(T=h(),Us){it(!0);try{h()}finally{it(!1)}}return S.memoizedState=[T,p],T}function vc(h,p,S){return S===void 0||(Xn&1073741824)!==0?h.memoizedState=p:(h.memoizedState=S,h=xl(),be.lanes|=h,Wn|=h,S)}function Lu(h,p,S,T){return Ca(S,p)?S:Ni.current!==null?(h=vc(h,S,T),Ca(h,p)||(ue=!0),h):(Xn&42)===0?(ue=!0,h.memoizedState=S):(h=xl(),be.lanes|=h,Wn|=h,p)}function $p(h,p,S,T,N){var k=fr();di(k!==0&&8>k?k:8);var Q=te.T,st={};te.T=st,bc(h,!1,p,S);try{var ft=N(),Tt=te.S;if(Tt!==null&&Tt(st,ft),ft!==null&&typeof ft=="object"&&typeof ft.then=="function"){var Nt=Rr(ft,T);As(h,p,Nt,ui(h))}else As(h,p,T,ui(h))}catch(It){As(h,p,{then:function(){},status:"rejected",reason:It},ui())}finally{di(k),te.T=Q}}function qi(h){var p=h.memoizedState;if(p!==null)return p;p={memoizedState:da,baseState:da,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:da},next:null};var S={};return p.next={memoizedState:S,baseState:S,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:S},next:null},h.memoizedState=p,h=h.alternate,h!==null&&(h.memoizedState=p),p}function Es(){return Zt(Vr)}function ku(){return In().memoizedState}function yc(){return In().memoizedState}function Kx(h){for(var p=h.return;p!==null;){switch(p.tag){case 24:case 3:var S=ui();h=ro(S);var T=xs(p,h,S);T!==null&&(Ri(T,p,S),Ss(T,p,S)),p={cache:Ut()},h.payload=p;return}p=p.return}}function Wp(h,p,S){var T=ui();S={lane:T,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null},ju(h)?Lv(p,S):(S=Jn(h,p,S,T),S!==null&&(Ri(S,h,T),kv(S,p,T)))}function Eh(h,p,S){var T=ui();As(h,p,S,T)}function As(h,p,S,T){var N={lane:T,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null};if(ju(h))Lv(p,N);else{var k=h.alternate;if(h.lanes===0&&(k===null||k.lanes===0)&&(k=p.lastRenderedReducer,k!==null))try{var Q=p.lastRenderedState,st=k(Q,S);if(N.hasEagerState=!0,N.eagerState=st,Ca(st,Q))return cc(h,p,N,0),Ge===null&&sl(),!1}catch{}finally{}if(S=Jn(h,p,N,T),S!==null)return Ri(S,h,T),kv(S,p,T),!0}return!1}function bc(h,p,S,T){if(T={lane:2,revertLane:Vt(),action:T,hasEagerState:!1,eagerState:null,next:null},ju(h)){if(p)throw Error(a(479))}else p=Jn(h,S,T,2),p!==null&&Ri(p,h,2)}function ju(h){var p=h.alternate;return h===be||p!==null&&p===be}function Lv(h,p){No=yr=!0;var S=h.pending;S===null?p.next=p:(p.next=S.next,S.next=p),h.pending=p}function kv(h,p,S){if((S&4194048)!==0){var T=p.lanes;T&=h.pendingLanes,S|=T,p.lanes=S,I(h,S)}}function Ah(h){var p=Gc;return Gc+=1,$r===null&&($r=[]),ys($r,h,p)}function hl(h,p){p=p.props.ref,h.ref=p!==void 0?p:null}function Ch(h,p){throw p.$$typeof===ny?Error(a(525)):(h=Object.prototype.toString.call(p),Error(a(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h)))}function jv(h){var p=h._init;return p(h._payload)}function Fv(h){function p(mt,dt){if(h){var xt=mt.deletions;xt===null?(mt.deletions=[dt],mt.flags|=16):xt.push(dt)}}function S(mt,dt){if(!h)return null;for(;dt!==null;)p(mt,dt),dt=dt.sibling;return null}function T(mt){for(var dt=new Map;mt!==null;)mt.key!==null?dt.set(mt.key,mt):dt.set(mt.index,mt),mt=mt.sibling;return dt}function N(mt,dt){return mt=Os(mt,dt),mt.index=0,mt.sibling=null,mt}function k(mt,dt,xt){return mt.index=xt,h?(xt=mt.alternate,xt!==null?(xt=xt.index,xt<dt?(mt.flags|=67108866,dt):xt):(mt.flags|=67108866,dt)):(mt.flags|=1048576,dt)}function Q(mt){return h&&mt.alternate===null&&(mt.flags|=67108866),mt}function st(mt,dt,xt,Rt){return dt===null||dt.tag!==6?(dt=El(xt,mt.mode,Rt),dt.return=mt,dt):(dt=N(dt,xt),dt.return=mt,dt)}function ft(mt,dt,xt,Rt){var Gt=xt.type;return Gt===Rl?Nt(mt,dt,xt.props.children,Rt,xt.key):dt!==null&&(dt.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===Vi&&jv(Gt)===dt.type)?(dt=N(dt,xt.props),hl(dt,xt),dt.return=mt,dt):(dt=Rc(xt.type,xt.key,xt.props,null,mt.mode,Rt),hl(dt,xt),dt.return=mt,dt)}function Tt(mt,dt,xt,Rt){return dt===null||dt.tag!==4||dt.stateNode.containerInfo!==xt.containerInfo||dt.stateNode.implementation!==xt.implementation?(dt=Xu(xt,mt.mode,Rt),dt.return=mt,dt):(dt=N(dt,xt.children||[]),dt.return=mt,dt)}function Nt(mt,dt,xt,Rt,Gt){return dt===null||dt.tag!==7?(dt=hr(xt,mt.mode,Rt,Gt),dt.return=mt,dt):(dt=N(dt,xt),dt.return=mt,dt)}function It(mt,dt,xt){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return dt=El(""+dt,mt.mode,xt),dt.return=mt,dt;if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case Tl:return xt=Rc(dt.type,dt.key,dt.props,null,mt.mode,xt),hl(xt,dt),xt.return=mt,xt;case xo:return dt=Xu(dt,mt.mode,xt),dt.return=mt,dt;case Vi:var Rt=dt._init;return dt=Rt(dt._payload),It(mt,dt,xt)}if(So(dt)||f(dt))return dt=hr(dt,mt.mode,xt,null),dt.return=mt,dt;if(typeof dt.then=="function")return It(mt,Ah(dt),xt);if(dt.$$typeof===Ps)return It(mt,Me(mt,dt),xt);Ch(mt,dt)}return null}function zt(mt,dt,xt,Rt){var Gt=dt!==null?dt.key:null;if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return Gt!==null?null:st(mt,dt,""+xt,Rt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case Tl:return xt.key===Gt?ft(mt,dt,xt,Rt):null;case xo:return xt.key===Gt?Tt(mt,dt,xt,Rt):null;case Vi:return Gt=xt._init,xt=Gt(xt._payload),zt(mt,dt,xt,Rt)}if(So(xt)||f(xt))return Gt!==null?null:Nt(mt,dt,xt,Rt,null);if(typeof xt.then=="function")return zt(mt,dt,Ah(xt),Rt);if(xt.$$typeof===Ps)return zt(mt,dt,Me(mt,xt),Rt);Ch(mt,xt)}return null}function ye(mt,dt,xt,Rt,Gt){if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number"||typeof Rt=="bigint")return mt=mt.get(xt)||null,st(dt,mt,""+Rt,Gt);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case Tl:return mt=mt.get(Rt.key===null?xt:Rt.key)||null,ft(dt,mt,Rt,Gt);case xo:return mt=mt.get(Rt.key===null?xt:Rt.key)||null,Tt(dt,mt,Rt,Gt);case Vi:var an=Rt._init;return Rt=an(Rt._payload),ye(mt,dt,xt,Rt,Gt)}if(So(Rt)||f(Rt))return mt=mt.get(xt)||null,Nt(dt,mt,Rt,Gt,null);if(typeof Rt.then=="function")return ye(mt,dt,xt,Ah(Rt),Gt);if(Rt.$$typeof===Ps)return ye(mt,dt,xt,Me(dt,Rt),Gt);Ch(dt,Rt)}return null}function Wa(mt,dt,xt,Rt){for(var Gt=null,an=null,se=dt,qe=dt=0,ii=null;se!==null&&qe<xt.length;qe++){se.index>qe?(ii=se,se=null):ii=se.sibling;var Ve=zt(mt,se,xt[qe],Rt);if(Ve===null){se===null&&(se=ii);break}h&&se&&Ve.alternate===null&&p(mt,se),dt=k(Ve,dt,qe),an===null?Gt=Ve:an.sibling=Ve,an=Ve,se=ii}if(qe===xt.length)return S(mt,se),Ie&&W(mt,qe),Gt;if(se===null){for(;qe<xt.length;qe++)se=It(mt,xt[qe],Rt),se!==null&&(dt=k(se,dt,qe),an===null?Gt=se:an.sibling=se,an=se);return Ie&&W(mt,qe),Gt}for(se=T(se);qe<xt.length;qe++)ii=ye(se,mt,qe,xt[qe],Rt),ii!==null&&(h&&ii.alternate!==null&&se.delete(ii.key===null?qe:ii.key),dt=k(ii,dt,qe),an===null?Gt=ii:an.sibling=ii,an=ii);return h&&se.forEach(function(qs){return p(mt,qs)}),Ie&&W(mt,qe),Gt}function Ho(mt,dt,xt,Rt){if(xt==null)throw Error(a(151));for(var Gt=null,an=null,se=dt,qe=dt=0,ii=null,Ve=xt.next();se!==null&&!Ve.done;qe++,Ve=xt.next()){se.index>qe?(ii=se,se=null):ii=se.sibling;var qs=zt(mt,se,Ve.value,Rt);if(qs===null){se===null&&(se=ii);break}h&&se&&qs.alternate===null&&p(mt,se),dt=k(qs,dt,qe),an===null?Gt=qs:an.sibling=qs,an=qs,se=ii}if(Ve.done)return S(mt,se),Ie&&W(mt,qe),Gt;if(se===null){for(;!Ve.done;qe++,Ve=xt.next())Ve=It(mt,Ve.value,Rt),Ve!==null&&(dt=k(Ve,dt,qe),an===null?Gt=Ve:an.sibling=Ve,an=Ve);return Ie&&W(mt,qe),Gt}for(se=T(se);!Ve.done;qe++,Ve=xt.next())Ve=ye(se,mt,qe,Ve.value,Rt),Ve!==null&&(h&&Ve.alternate!==null&&se.delete(Ve.key===null?qe:Ve.key),dt=k(Ve,dt,qe),an===null?Gt=Ve:an.sibling=Ve,an=Ve);return h&&se.forEach(function(r2){return p(mt,r2)}),Ie&&W(mt,qe),Gt}function Qa(mt,dt,xt,Rt){if(typeof xt=="object"&&xt!==null&&xt.type===Rl&&xt.key===null&&(xt=xt.props.children),typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case Tl:t:{for(var Gt=xt.key;dt!==null;){if(dt.key===Gt){if(Gt=xt.type,Gt===Rl){if(dt.tag===7){S(mt,dt.sibling),Rt=N(dt,xt.props.children),Rt.return=mt,mt=Rt;break t}}else if(dt.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===Vi&&jv(Gt)===dt.type){S(mt,dt.sibling),Rt=N(dt,xt.props),hl(Rt,xt),Rt.return=mt,mt=Rt;break t}S(mt,dt);break}else p(mt,dt);dt=dt.sibling}xt.type===Rl?(Rt=hr(xt.props.children,mt.mode,Rt,xt.key),Rt.return=mt,mt=Rt):(Rt=Rc(xt.type,xt.key,xt.props,null,mt.mode,Rt),hl(Rt,xt),Rt.return=mt,mt=Rt)}return Q(mt);case xo:t:{for(Gt=xt.key;dt!==null;){if(dt.key===Gt)if(dt.tag===4&&dt.stateNode.containerInfo===xt.containerInfo&&dt.stateNode.implementation===xt.implementation){S(mt,dt.sibling),Rt=N(dt,xt.children||[]),Rt.return=mt,mt=Rt;break t}else{S(mt,dt);break}else p(mt,dt);dt=dt.sibling}Rt=Xu(xt,mt.mode,Rt),Rt.return=mt,mt=Rt}return Q(mt);case Vi:return Gt=xt._init,xt=Gt(xt._payload),Qa(mt,dt,xt,Rt)}if(So(xt))return Wa(mt,dt,xt,Rt);if(f(xt)){if(Gt=f(xt),typeof Gt!="function")throw Error(a(150));return xt=Gt.call(xt),Ho(mt,dt,xt,Rt)}if(typeof xt.then=="function")return Qa(mt,dt,Ah(xt),Rt);if(xt.$$typeof===Ps)return Qa(mt,dt,Me(mt,xt),Rt);Ch(mt,xt)}return typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint"?(xt=""+xt,dt!==null&&dt.tag===6?(S(mt,dt.sibling),Rt=N(dt,xt),Rt.return=mt,mt=Rt):(S(mt,dt),Rt=El(xt,mt.mode,Rt),Rt.return=mt,mt=Rt),Q(mt)):S(mt,dt)}return function(mt,dt,xt,Rt){try{Gc=0;var Gt=Qa(mt,dt,xt,Rt);return $r=null,Gt}catch(se){if(se===Uc||se===fn)throw se;var an=n(29,se,null,mt.mode);return an.lanes=Rt,an.return=mt,an}finally{}}}function co(h){var p=h.alternate;x(ce,ce.current&1),x(Xa,h),Wr===null&&(p===null||Ni.current!==null||p.memoizedState!==null)&&(Wr=h)}function Bv(h){if(h.tag===22){if(x(ce,ce.current),x(Xa,h),Wr===null){var p=h.alternate;p!==null&&p.memoizedState!==null&&(Wr=h)}}else Cs()}function Cs(){x(ce,ce.current),x(Xa,Xa.current)}function Ts(h){y(Xa),Wr===h&&(Wr=null),y(ce)}function Th(h){for(var p=h;p!==null;){if(p.tag===13){var S=p.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||sd(S)||af(S)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}function Qp(h,p,S,T){p=h.memoizedState,S=S(T,p),S=S==null?p:Cl({},p,S),h.memoizedState=S,h.lanes===0&&(h.updateQueue.baseState=S)}function Iv(h,p,S,T,N,k,Q){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(T,k,Q):p.prototype&&p.prototype.isPureReactComponent?!Ui(S,T)||!Ui(N,k):!0}function Rh(h,p,S,T){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(S,T),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(S,T),p.state!==h&&on.enqueueReplaceState(p,p.state,null)}function fl(h,p){var S=p;if("ref"in p){S={};for(var T in p)T!=="ref"&&(S[T]=p[T])}if(h=h.defaultProps){S===p&&(S=Cl({},S));for(var N in h)S[N]===void 0&&(S[N]=h[N])}return S}function Mh(h,p){try{var S=h.onUncaughtError;S(p.value,{componentStack:p.stack})}catch(T){setTimeout(function(){throw T})}}function zv(h,p,S){try{var T=h.onCaughtError;T(S.value,{componentStack:S.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function Dh(h,p,S){return S=ro(S),S.tag=3,S.payload={element:null},S.callback=function(){Mh(h,p)},S}function Uv(h){return h=ro(h),h.tag=3,h}function Hv(h,p,S,T){var N=S.type.getDerivedStateFromError;if(typeof N=="function"){var k=T.value;h.payload=function(){return N(k)},h.callback=function(){zv(p,S,T)}}var Q=S.stateNode;Q!==null&&typeof Q.componentDidCatch=="function"&&(h.callback=function(){zv(p,S,T),typeof N!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var st=T.stack;this.componentDidCatch(T.value,{componentStack:st!==null?st:""})})}function Xx(h,p,S,T,N){if(S.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){if(p=S.alternate,p!==null&&cn(p,S,N,!0),S=Xa.current,S!==null){switch(S.tag){case 13:return Wr===null?Cn():S.alternate===null&&On===0&&(On=3),S.flags&=-257,S.flags|=65536,S.lanes=N,T===xi?S.flags|=16384:(p=S.updateQueue,p===null?S.updateQueue=new Set([T]):p.add(T),wl(h,T,N)),!1;case 22:return S.flags|=65536,T===xi?S.flags|=16384:(p=S.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([T])},S.updateQueue=p):(S=p.retryQueue,S===null?p.retryQueue=new Set([T]):S.add(T)),wl(h,T,N)),!1}throw Error(a(435,S.tag))}return wl(h,T,N),Cn(),!1}if(Ie)return p=Xa.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=N,T!==qg&&(h=Error(a(422),{cause:T}),Ht(V(h,S)))):(T!==qg&&(p=Error(a(423),{cause:T}),Ht(V(p,S))),h=h.current.alternate,h.flags|=65536,N&=-N,h.lanes|=N,T=V(T,S),N=Dh(h.stateNode,T,N),Ru(h,N),On!==4&&(On=2)),!1;var k=Error(a(520),{cause:T});if(k=V(k,S),Bo===null?Bo=[k]:Bo.push(k),On!==4&&(On=2),p===null)return!0;T=V(T,S),S=p;do{switch(S.tag){case 3:return S.flags|=65536,h=N&-N,S.lanes|=h,h=Dh(S.stateNode,T,h),Ru(S,h),!1;case 1:if(p=S.type,k=S.stateNode,(S.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Jr===null||!Jr.has(k))))return S.flags|=65536,N&=-N,S.lanes|=N,N=Uv(N),Hv(N,h,S,T),Ru(S,N),!1}S=S.return}while(S!==null);return!1}function bi(h,p,S,T){p.child=h===null?Xg(p,null,S,T):Hs(p,h.child,S,T)}function Gv(h,p,S,T,N){S=S.render;var k=p.ref;if("ref"in T){var Q={};for(var st in T)st!=="ref"&&(Q[st]=T[st])}else Q=T;return Sn(p),T=jp(h,p,S,Q,k,N),st=dc(),h!==null&&!ue?(hc(h,p,N),Sa(h,p,N)):(Ie&&st&&K(p),p.flags|=1,bi(h,p,T,N),p.child)}function qv(h,p,S,T,N){if(h===null){var k=S.type;return typeof k=="function"&&!pg(k)&&k.defaultProps===void 0&&S.compare===null?(p.tag=15,p.type=k,Vv(h,p,k,T,N)):(h=Rc(S.type,null,T,p,p.mode,N),h.ref=p.ref,h.return=p,p.child=h)}if(k=h.child,!gl(h,N)){var Q=k.memoizedProps;if(S=S.compare,S=S!==null?S:Ui,S(Q,T)&&h.ref===p.ref)return Sa(h,p,N)}return p.flags|=1,h=Os(k,T),h.ref=p.ref,h.return=p,p.child=h}function Vv(h,p,S,T,N){if(h!==null){var k=h.memoizedProps;if(Ui(k,T)&&h.ref===p.ref)if(ue=!1,p.pendingProps=T=k,gl(h,N))(h.flags&131072)!==0&&(ue=!0);else return p.lanes=h.lanes,Sa(h,p,N)}return pl(h,p,S,T,N)}function Yv(h,p,S){var T=p.pendingProps,N=T.children,k=h!==null?h.memoizedState:null;if(T.mode==="hidden"){if((p.flags&128)!==0){if(T=k!==null?k.baseLanes|S:S,h!==null){for(N=p.child=h.child,k=0;N!==null;)k=k|N.lanes|N.childLanes,N=N.sibling;p.childLanes=k&~T}else p.childLanes=0,p.child=null;return Kv(h,p,T,S)}if((S&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},h!==null&&zi(p,k!==null?k.cachePool:null),k!==null?ti(p,k):ph(),Bv(p);else return p.lanes=p.childLanes=536870912,Kv(h,p,k!==null?k.baseLanes|S:S,S)}else k!==null?(zi(p,k.cachePool),ti(p,k),Cs(),p.memoizedState=null):(h!==null&&zi(p,null),ph(),Cs());return bi(h,p,N,S),p.child}function Kv(h,p,S,T){var N=ms();return N=N===null?null:{parent:ks?Ze._currentValue:Ze._currentValue2,pool:N},p.memoizedState={baseLanes:S,cachePool:N},h!==null&&zi(p,null),ph(),Bv(p),h!==null&&cn(h,p,T,!0),null}function xc(h,p){var S=p.ref;if(S===null)h!==null&&h.ref!==null&&(p.flags|=4194816);else{if(typeof S!="function"&&typeof S!="object")throw Error(a(284));(h===null||h.ref!==S)&&(p.flags|=4194816)}}function pl(h,p,S,T,N){return Sn(p),S=jp(h,p,S,T,void 0,N),T=dc(),h!==null&&!ue?(hc(h,p,N),Sa(h,p,N)):(Ie&&T&&K(p),p.flags|=1,bi(h,p,S,N),p.child)}function Xv(h,p,S,T,N,k){return Sn(p),p.updateQueue=null,S=Bp(p,T,S,N),Fp(h),T=dc(),h!==null&&!ue?(hc(h,p,k),Sa(h,p,k)):(Ie&&T&&K(p),p.flags|=1,bi(h,p,S,k),p.child)}function Zp(h,p,S,T,N){if(Sn(p),p.stateNode===null){var k=Nl,Q=S.contextType;typeof Q=="object"&&Q!==null&&(k=Zt(Q)),k=new S(T,k),p.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=on,p.stateNode=k,k._reactInternals=p,k=p.stateNode,k.props=T,k.state=p.memoizedState,k.refs={},Tu(p),Q=S.contextType,k.context=typeof Q=="object"&&Q!==null?Zt(Q):Nl,k.state=p.memoizedState,Q=S.getDerivedStateFromProps,typeof Q=="function"&&(Qp(p,S,Q,T),k.state=p.memoizedState),typeof S.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(Q=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),Q!==k.state&&on.enqueueReplaceState(k,k.state,null),Or(p,T,k,N),Dr(),k.state=p.memoizedState),typeof k.componentDidMount=="function"&&(p.flags|=4194308),T=!0}else if(h===null){k=p.stateNode;var st=p.memoizedProps,ft=fl(S,st);k.props=ft;var Tt=k.context,Nt=S.contextType;Q=Nl,typeof Nt=="object"&&Nt!==null&&(Q=Zt(Nt));var It=S.getDerivedStateFromProps;Nt=typeof It=="function"||typeof k.getSnapshotBeforeUpdate=="function",st=p.pendingProps!==st,Nt||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(st||Tt!==Q)&&Rh(p,k,T,Q),Xr=!1;var zt=p.memoizedState;k.state=zt,Or(p,T,k,N),Dr(),Tt=p.memoizedState,st||zt!==Tt||Xr?(typeof It=="function"&&(Qp(p,S,It,T),Tt=p.memoizedState),(ft=Xr||Iv(p,S,ft,T,zt,Tt,Q))?(Nt||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(p.flags|=4194308)):(typeof k.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=T,p.memoizedState=Tt),k.props=T,k.state=Tt,k.context=Q,T=ft):(typeof k.componentDidMount=="function"&&(p.flags|=4194308),T=!1)}else{k=p.stateNode,kp(h,p),Q=p.memoizedProps,Nt=fl(S,Q),k.props=Nt,It=p.pendingProps,zt=k.context,Tt=S.contextType,ft=Nl,typeof Tt=="object"&&Tt!==null&&(ft=Zt(Tt)),st=S.getDerivedStateFromProps,(Tt=typeof st=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Q!==It||zt!==ft)&&Rh(p,k,T,ft),Xr=!1,zt=p.memoizedState,k.state=zt,Or(p,T,k,N),Dr();var ye=p.memoizedState;Q!==It||zt!==ye||Xr||h!==null&&h.dependencies!==null&&un(h.dependencies)?(typeof st=="function"&&(Qp(p,S,st,T),ye=p.memoizedState),(Nt=Xr||Iv(p,S,Nt,T,zt,ye,ft)||h!==null&&h.dependencies!==null&&un(h.dependencies))?(Tt||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(T,ye,ft),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(T,ye,ft)),typeof k.componentDidUpdate=="function"&&(p.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof k.componentDidUpdate!="function"||Q===h.memoizedProps&&zt===h.memoizedState||(p.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Q===h.memoizedProps&&zt===h.memoizedState||(p.flags|=1024),p.memoizedProps=T,p.memoizedState=ye),k.props=T,k.state=ye,k.context=ft,T=Nt):(typeof k.componentDidUpdate!="function"||Q===h.memoizedProps&&zt===h.memoizedState||(p.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Q===h.memoizedProps&&zt===h.memoizedState||(p.flags|=1024),T=!1)}return k=T,xc(h,p),T=(p.flags&128)!==0,k||T?(k=p.stateNode,S=T&&typeof S.getDerivedStateFromError!="function"?null:k.render(),p.flags|=1,h!==null&&T?(p.child=Hs(p,h.child,null,N),p.child=Hs(p,null,S,N)):bi(h,p,S,N),p.memoizedState=k.state,h=p.child):h=Sa(h,p,N),h}function Jp(h,p,S,T){return jt(),p.flags|=256,bi(h,p,S,T),p.child}function Oh(h){return{baseLanes:h,cachePool:Mr()}}function Nh(h,p,S){return h=h!==null?h.childLanes&~S:0,p&&(h|=$a),h}function tg(h,p,S){var T=p.pendingProps,N=!1,k=(p.flags&128)!==0,Q;if((Q=k)||(Q=h!==null&&h.memoizedState===null?!1:(ce.current&2)!==0),Q&&(N=!0,p.flags&=-129),Q=(p.flags&32)!==0,p.flags&=-33,h===null){if(Ie){if(N?co(p):Cs(),Ie){var st=Kn,ft;(ft=st)&&(st=e2(st,Xe),st!==null?(p.memoizedState={dehydrated:st,treeContext:Ro!==null?{id:pr,overflow:Kr}:null,retryLane:536870912,hydrationErrors:null},ft=n(18,null,null,0),ft.stateNode=st,ft.return=p,p.child=ft,Dn=p,Kn=null,ft=!0):ft=!1),ft||tt(p)}if(st=p.memoizedState,st!==null&&(st=st.dehydrated,st!==null))return af(st)?p.lanes=32:p.lanes=536870912,null;Ts(p)}return st=T.children,T=T.fallback,N?(Cs(),N=p.mode,st=Ph({mode:"hidden",children:st},N),T=hr(T,N,S,null),st.return=p,T.return=p,st.sibling=T,p.child=st,N=p.child,N.memoizedState=Oh(S),N.childLanes=Nh(h,Q,S),p.memoizedState=Wi,T):(co(p),uo(p,st))}if(ft=h.memoizedState,ft!==null&&(st=ft.dehydrated,st!==null)){if(k)p.flags&256?(co(p),p.flags&=-257,p=eg(h,p,S)):p.memoizedState!==null?(Cs(),p.child=h.child,p.flags|=128,p=null):(Cs(),N=T.fallback,st=p.mode,T=Ph({mode:"visible",children:T.children},st),N=hr(N,st,S,null),N.flags|=2,T.return=p,N.return=p,T.sibling=N,p.child=T,Hs(p,h.child,null,S),T=p.child,T.memoizedState=Oh(S),T.childLanes=Nh(h,Q,S),p.memoizedState=Wi,p=N);else if(co(p),af(st))Q=wy(st).digest,T=Error(a(419)),T.stack="",T.digest=Q,Ht({value:T,source:null,stack:null}),p=eg(h,p,S);else if(ue||cn(h,p,S,!1),Q=(S&h.childLanes)!==0,ue||Q){if(Q=Ge,Q!==null&&(T=S&-S,T=(T&42)!==0?1:q(T),T=(T&(Q.suspendedLanes|S))!==0?0:T,T!==0&&T!==ft.retryLane))throw ft.retryLane=T,dn(h,T),Ri(Q,h,T),je;sd(st)||Cn(),p=eg(h,p,S)}else sd(st)?(p.flags|=192,p.child=h.child,p=null):(h=ft.treeContext,ca&&(Kn=kg(st),Dn=p,Ie=!0,gr=null,Xe=!1,h!==null&&(Xi[fa++]=pr,Xi[fa++]=Kr,Xi[fa++]=Ro,pr=h.id,Kr=h.overflow,Ro=p)),p=uo(p,T.children),p.flags|=4096);return p}return N?(Cs(),N=T.fallback,st=p.mode,ft=h.child,k=ft.sibling,T=Os(ft,{mode:"hidden",children:T.children}),T.subtreeFlags=ft.subtreeFlags&65011712,k!==null?N=Os(k,N):(N=hr(N,st,S,null),N.flags|=2),N.return=p,T.return=p,T.sibling=N,p.child=T,T=N,N=p.child,st=h.child.memoizedState,st===null?st=Oh(S):(ft=st.cachePool,ft!==null?(k=ks?Ze._currentValue:Ze._currentValue2,ft=ft.parent!==k?{parent:k,pool:k}:ft):ft=Mr(),st={baseLanes:st.baseLanes|S,cachePool:ft}),N.memoizedState=st,N.childLanes=Nh(h,Q,S),p.memoizedState=Wi,T):(co(p),S=h.child,h=S.sibling,S=Os(S,{mode:"visible",children:T.children}),S.return=p,S.sibling=null,h!==null&&(Q=p.deletions,Q===null?(p.deletions=[h],p.flags|=16):Q.push(h)),p.child=S,p.memoizedState=null,S)}function uo(h,p){return p=Ph({mode:"visible",children:p},h.mode),p.return=h,h.child=p}function Ph(h,p){return h=n(22,h,null,p),h.lanes=0,h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},h}function eg(h,p,S){return Hs(p,h.child,null,S),h=uo(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function $v(h,p,S){h.lanes|=p;var T=h.alternate;T!==null&&(T.lanes|=p),Ft(h.return,p,S)}function Lh(h,p,S,T,N){var k=h.memoizedState;k===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:T,tail:S,tailMode:N}:(k.isBackwards=p,k.rendering=null,k.renderingStartTime=0,k.last=T,k.tail=S,k.tailMode=N)}function ng(h,p,S){var T=p.pendingProps,N=T.revealOrder,k=T.tail;if(bi(h,p,T.children,S),T=ce.current,(T&2)!==0)T=T&1|2,p.flags|=128;else{if(h!==null&&(h.flags&128)!==0)t:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&$v(h,S,p);else if(h.tag===19)$v(h,S,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break t;for(;h.sibling===null;){if(h.return===null||h.return===p)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}T&=1}switch(x(ce,T),N){case"forwards":for(S=p.child,N=null;S!==null;)h=S.alternate,h!==null&&Th(h)===null&&(N=S),S=S.sibling;S=N,S===null?(N=p.child,p.child=null):(N=S.sibling,S.sibling=null),Lh(p,!1,N,S,k);break;case"backwards":for(S=null,N=p.child,p.child=null;N!==null;){if(h=N.alternate,h!==null&&Th(h)===null){p.child=N;break}h=N.sibling,N.sibling=S,S=N,N=h}Lh(p,!0,S,null,k);break;case"together":Lh(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Sa(h,p,S){if(h!==null&&(p.dependencies=h.dependencies),Wn|=p.lanes,(S&p.childLanes)===0)if(h!==null){if(cn(h,p,S,!1),(S&p.childLanes)===0)return null}else return null;if(h!==null&&p.child!==h.child)throw Error(a(153));if(p.child!==null){for(h=p.child,S=Os(h,h.pendingProps),p.child=S,S.return=p;h.sibling!==null;)h=h.sibling,S=S.sibling=Os(h,h.pendingProps),S.return=p;S.sibling=null}return p.child}function gl(h,p){return(h.lanes&p)!==0?!0:(h=h.dependencies,!!(h!==null&&un(h)))}function $x(h,p,S){switch(p.tag){case 3:$(p,p.stateNode.containerInfo),Lt(p,Ze,h.memoizedState.cache),jt();break;case 27:case 5:yt(p);break;case 4:$(p,p.stateNode.containerInfo);break;case 10:Lt(p,p.type,p.memoizedProps.value);break;case 13:var T=p.memoizedState;if(T!==null)return T.dehydrated!==null?(co(p),p.flags|=128,null):(S&p.child.childLanes)!==0?tg(h,p,S):(co(p),h=Sa(h,p,S),h!==null?h.sibling:null);co(p);break;case 19:var N=(h.flags&128)!==0;if(T=(S&p.childLanes)!==0,T||(cn(h,p,S,!1),T=(S&p.childLanes)!==0),N){if(T)return ng(h,p,S);p.flags|=128}if(N=p.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),x(ce,ce.current),T)break;return null;case 22:case 23:return p.lanes=0,Yv(h,p,S);case 24:Lt(p,Ze,h.memoizedState.cache)}return Sa(h,p,S)}function Fu(h,p,S){if(h!==null)if(h.memoizedProps!==p.pendingProps)ue=!0;else{if(!gl(h,S)&&(p.flags&128)===0)return ue=!1,$x(h,p,S);ue=(h.flags&131072)!==0}else ue=!1,Ie&&(p.flags&1048576)!==0&&H(p,Bc,p.index);switch(p.lanes=0,p.tag){case 16:t:{h=p.pendingProps;var T=p.elementType,N=T._init;if(T=N(T._payload),p.type=T,typeof T=="function")pg(T)?(h=fl(T,h),p.tag=1,p=Zp(null,p,T,h,S)):(p.tag=0,p=pl(null,p,T,h,S));else{if(T!=null){if(N=T.$$typeof,N===Hr){p.tag=11,p=Gv(null,p,T,h,S);break t}else if(N===Gr){p.tag=14,p=qv(null,p,T,h,S);break t}}throw p=m(T)||T,Error(a(306,p,""))}}return p;case 0:return pl(h,p,p.type,p.pendingProps,S);case 1:return T=p.type,N=fl(T,p.pendingProps),Zp(h,p,T,N,S);case 3:t:{if($(p,p.stateNode.containerInfo),h===null)throw Error(a(387));var k=p.pendingProps;N=p.memoizedState,T=N.element,kp(h,p),Or(p,k,null,S);var Q=p.memoizedState;if(k=Q.cache,Lt(p,Ze,k),k!==N.cache&&Ce(p,[Ze],S,!0),Dr(),k=Q.element,ca&&N.isDehydrated)if(N={element:k,isDehydrated:!1,cache:Q.cache},p.updateQueue.baseState=N,p.memoizedState=N,p.flags&256){p=Jp(h,p,k,S);break t}else if(k!==T){T=V(Error(a(424)),p),Ht(T),p=Jp(h,p,k,S);break t}else for(ca&&(Kn=Ry(p.stateNode.containerInfo),Dn=p,Ie=!0,gr=null,Xe=!0),S=Xg(p,null,k,S),p.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(jt(),k===T){p=Sa(h,p,S);break t}bi(h,p,k,S)}p=p.child}return p;case 26:if(Yi)return xc(h,p),h===null?(S=cd(p.type,null,p.pendingProps,null))?p.memoizedState=S:Ie||(p.stateNode=Yr(p.type,p.pendingProps,Mo.current,p)):p.memoizedState=cd(p.type,h.memoizedProps,p.pendingProps,h.memoizedState),null;case 27:if(De)return yt(p),h===null&&De&&Ie&&(T=p.stateNode=ud(p.type,p.pendingProps,Mo.current,wn.current,!1),Dn=p,Xe=!0,Kn=My(p.type,T,Kn)),bi(h,p,p.pendingProps.children,S),xc(h,p),h===null&&(p.flags|=4194304),p.child;case 5:return h===null&&Ie&&(n2(p.type,p.pendingProps,wn.current),(N=T=Kn)&&(T=Dy(T,p.type,p.pendingProps,Xe),T!==null?(p.stateNode=T,Dn=p,Kn=Ty(T),Xe=!1,N=!0):N=!1),N||tt(p)),yt(p),N=p.type,k=p.pendingProps,Q=h!==null?h.memoizedProps:null,T=k.children,Ls(N,k)?T=null:Q!==null&&Ls(N,Q)&&(p.flags|=32),p.memoizedState!==null&&(N=jp(h,p,Yx,null,null,S),ks?Vr._currentValue=N:Vr._currentValue2=N),xc(h,p),bi(h,p,T,S),p.child;case 6:return h===null&&Ie&&(kc(p.pendingProps,wn.current),(h=S=Kn)&&(S=t2(S,p.pendingProps,Xe),S!==null?(p.stateNode=S,Dn=p,Kn=null,h=!0):h=!1),h||tt(p)),null;case 13:return tg(h,p,S);case 4:return $(p,p.stateNode.containerInfo),T=p.pendingProps,h===null?p.child=Hs(p,null,T,S):bi(h,p,T,S),p.child;case 11:return Gv(h,p,p.type,p.pendingProps,S);case 7:return bi(h,p,p.pendingProps,S),p.child;case 8:return bi(h,p,p.pendingProps.children,S),p.child;case 12:return bi(h,p,p.pendingProps.children,S),p.child;case 10:return T=p.pendingProps,Lt(p,p.type,T.value),bi(h,p,T.children,S),p.child;case 9:return N=p.type._context,T=p.pendingProps.children,Sn(p),N=Zt(N),T=T(N),p.flags|=1,bi(h,p,T,S),p.child;case 14:return qv(h,p,p.type,p.pendingProps,S);case 15:return Vv(h,p,p.type,p.pendingProps,S);case 19:return ng(h,p,S);case 31:return T=p.pendingProps,S=p.mode,T={mode:T.mode,children:T.children},h===null?(S=Ph(T,S),S.ref=p.ref,p.child=S,S.return=p,p=S):(S=Os(h.child,T),S.ref=p.ref,p.child=S,S.return=p,p=S),p;case 22:return Yv(h,p,S);case 24:return Sn(p),T=Zt(Ze),h===null?(N=ms(),N===null&&(N=Ge,k=Ut(),N.pooledCache=k,k.refCount++,k!==null&&(N.pooledCacheLanes|=S),N=k),p.memoizedState={parent:T,cache:N},Tu(p),Lt(p,Ze,N)):((h.lanes&S)!==0&&(kp(h,p),Or(p,null,null,S),Dr()),N=h.memoizedState,k=p.memoizedState,N.parent!==T?(N={parent:T,cache:T},p.memoizedState=N,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=N),Lt(p,Ze,T)):(T=k.cache,Lt(p,Ze,T),T!==N.cache&&Ce(p,[Ze],S,!0))),bi(h,p,p.pendingProps.children,S),p.child;case 29:throw p.pendingProps}throw Error(a(156,p.tag))}function ra(h){h.flags|=4}function ig(h,p){if(h!==null&&h.child===p.child)return!1;if((p.flags&16)!==0)return!0;for(h=p.child;h!==null;){if((h.flags&13878)!==0||(h.subtreeFlags&13878)!==0)return!0;h=h.sibling}return!1}function Bu(h,p,S,T){if(Pe)for(S=p.child;S!==null;){if(S.tag===5||S.tag===6)Pn(h,S.stateNode);else if(!(S.tag===4||De&&S.tag===27)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===p)break;for(;S.sibling===null;){if(S.return===null||S.return===p)return;S=S.return}S.sibling.return=S.return,S=S.sibling}else if(qr)for(var N=p.child;N!==null;){if(N.tag===5){var k=N.stateNode;S&&T&&(k=Og(k,N.type,N.memoizedProps)),Pn(h,k)}else if(N.tag===6)k=N.stateNode,S&&T&&(k=Ng(k,N.memoizedProps)),Pn(h,k);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)k=N.child,k!==null&&(k.return=N),Bu(h,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===p)break;for(;N.sibling===null;){if(N.return===null||N.return===p)return;N=N.return}N.sibling.return=N.return,N=N.sibling}}function kh(h,p,S,T){var N=!1;if(qr)for(var k=p.child;k!==null;){if(k.tag===5){var Q=k.stateNode;S&&T&&(Q=Og(Q,k.type,k.memoizedProps)),Mg(h,Q)}else if(k.tag===6)Q=k.stateNode,S&&T&&(Q=Ng(Q,k.memoizedProps)),Mg(h,Q);else if(k.tag!==4){if(k.tag===22&&k.memoizedState!==null)N=k.child,N!==null&&(N.return=k),kh(h,k,!0,!0),N=!0;else if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===p)break;for(;k.sibling===null;){if(k.return===null||k.return===p)return N;k=k.return}k.sibling.return=k.return,k=k.sibling}return N}function ag(h,p){if(qr&&ig(h,p)){h=p.stateNode;var S=h.containerInfo,T=Rg();kh(T,p,!1,!1),h.pendingChildren=T,ra(p),_y(S,T)}}function jh(h,p,S,T){if(Pe)h.memoizedProps!==T&&ra(p);else if(qr){var N=h.stateNode,k=h.memoizedProps;if((h=ig(h,p))||k!==T){var Q=wn.current;k=rd(N,S,k,T,!h,null),k===N?p.stateNode=N:(ed(k,S,T,Q)&&ra(p),p.stateNode=k,h?Bu(k,p,!1,!1):ra(p))}else p.stateNode=N}}function Fh(h,p,S){if(Yn(p,S)){if(h.flags|=16777216,!tf(p,S))if(qh())h.flags|=8192;else throw pa=xi,gf}else h.flags&=-16777217}function Wv(h,p){if(ky(p)){if(h.flags|=16777216,!js(p))if(qh())h.flags|=8192;else throw pa=xi,gf}else h.flags&=-16777217}function Bh(h,p){p!==null&&(h.flags|=4),h.flags&16384&&(p=h.tag!==22?D():536870912,h.lanes|=p,Da|=p)}function Iu(h,p){if(!Ie)switch(h.tailMode){case"hidden":p=h.tail;for(var S=null;p!==null;)p.alternate!==null&&(S=p),p=p.sibling;S===null?h.tail=null:S.sibling=null;break;case"collapsed":S=h.tail;for(var T=null;S!==null;)S.alternate!==null&&(T=S),S=S.sibling;T===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:T.sibling=null}}function Mn(h){var p=h.alternate!==null&&h.alternate.child===h.child,S=0,T=0;if(p)for(var N=h.child;N!==null;)S|=N.lanes|N.childLanes,T|=N.subtreeFlags&65011712,T|=N.flags&65011712,N.return=h,N=N.sibling;else for(N=h.child;N!==null;)S|=N.lanes|N.childLanes,T|=N.subtreeFlags,T|=N.flags,N.return=h,N=N.sibling;return h.subtreeFlags|=T,h.childLanes=S,p}function Wx(h,p,S){var T=p.pendingProps;switch(nt(p),p.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(p),null;case 1:return Mn(p),null;case 3:return S=p.stateNode,T=null,h!==null&&(T=h.memoizedState.cache),p.memoizedState.cache!==T&&(p.flags|=2048),Re(Ze),lt(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(h===null||h.child===null)&&(Dt(p)?ra(p):h===null||h.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Bt())),ag(h,p),Mn(p),null;case 26:if(Yi){S=p.type;var N=p.memoizedState;return h===null?(ra(p),N!==null?(Mn(p),Wv(p,N)):(Mn(p),Fh(p,S,T))):N?N!==h.memoizedState?(ra(p),Mn(p),Wv(p,N)):(Mn(p),p.flags&=-16777217):(Pe?h.memoizedProps!==T&&ra(p):jh(h,p,S,T),Mn(p),Fh(p,S,T)),null}case 27:if(De){if(ot(p),S=Mo.current,N=p.type,h!==null&&p.stateNode!=null)Pe?h.memoizedProps!==T&&ra(p):jh(h,p,N,T);else{if(!T){if(p.stateNode===null)throw Error(a(166));return Mn(p),null}h=wn.current,Dt(p)?ut(p,h):(h=ud(N,T,S,h,!0),p.stateNode=h,ra(p))}return Mn(p),null}case 5:if(ot(p),S=p.type,h!==null&&p.stateNode!=null)jh(h,p,S,T);else{if(!T){if(p.stateNode===null)throw Error(a(166));return Mn(p),null}h=wn.current,Dt(p)?ut(p,h):(N=rn(S,T,Mo.current,h,p),Bu(N,p,!1,!1),p.stateNode=N,ed(N,S,T,h)&&ra(p))}return Mn(p),Fh(p,p.type,p.pendingProps),null;case 6:if(h&&p.stateNode!=null)S=h.memoizedProps,Pe?S!==T&&ra(p):qr&&(S!==T?(p.stateNode=wo(T,Mo.current,wn.current,p),ra(p)):p.stateNode=h.stateNode);else{if(typeof T!="string"&&p.stateNode===null)throw Error(a(166));if(h=Mo.current,S=wn.current,Dt(p)){if(!ca)throw Error(a(176));if(h=p.stateNode,S=p.memoizedProps,T=null,N=Dn,N!==null)switch(N.tag){case 27:case 5:T=N.memoizedProps}od(h,S,p,T)||tt(p)}else p.stateNode=wo(T,h,S,p)}return Mn(p),null;case 13:if(T=p.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(N=Dt(p),T!==null&&T.dehydrated!==null){if(h===null){if(!N)throw Error(a(318));if(!ca)throw Error(a(344));if(N=p.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(a(317));jg(N,p)}else jt(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Mn(p),N=!1}else N=Bt(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=N),N=!0;if(!N)return p.flags&256?(Ts(p),p):(Ts(p),null)}if(Ts(p),(p.flags&128)!==0)return p.lanes=S,p;if(S=T!==null,h=h!==null&&h.memoizedState!==null,S){T=p.child,N=null,T.alternate!==null&&T.alternate.memoizedState!==null&&T.alternate.memoizedState.cachePool!==null&&(N=T.alternate.memoizedState.cachePool.pool);var k=null;T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(k=T.memoizedState.cachePool.pool),k!==N&&(T.flags|=2048)}return S!==h&&S&&(p.child.flags|=8192),Bh(p,p.updateQueue),Mn(p),null;case 4:return lt(),ag(h,p),h===null&&ry(p.stateNode.containerInfo),Mn(p),null;case 10:return Re(p.type),Mn(p),null;case 19:if(y(ce),N=p.memoizedState,N===null)return Mn(p),null;if(T=(p.flags&128)!==0,k=N.rendering,k===null)if(T)Iu(N,!1);else{if(On!==0||h!==null&&(h.flags&128)!==0)for(h=p.child;h!==null;){if(k=Th(h),k!==null){for(p.flags|=128,Iu(N,!1),h=k.updateQueue,p.updateQueue=h,Bh(p,h),p.subtreeFlags=0,h=S,S=p.child;S!==null;)Vn(S,h),S=S.sibling;return x(ce,ce.current&1|2),p.child}h=h.sibling}N.tail!==null&&sn()>Kc&&(p.flags|=128,T=!0,Iu(N,!1),p.lanes=4194304)}else{if(!T)if(h=Th(k),h!==null){if(p.flags|=128,T=!0,h=h.updateQueue,p.updateQueue=h,Bh(p,h),Iu(N,!0),N.tail===null&&N.tailMode==="hidden"&&!k.alternate&&!Ie)return Mn(p),null}else 2*sn()-N.renderingStartTime>Kc&&S!==536870912&&(p.flags|=128,T=!0,Iu(N,!1),p.lanes=4194304);N.isBackwards?(k.sibling=p.child,p.child=k):(h=N.last,h!==null?h.sibling=k:p.child=k,N.last=k)}return N.tail!==null?(p=N.tail,N.rendering=p,N.tail=p.sibling,N.renderingStartTime=sn(),p.sibling=null,h=ce.current,x(ce,T?h&1|2:h&1),p):(Mn(p),null);case 22:case 23:return Ts(p),gh(),T=p.memoizedState!==null,h!==null?h.memoizedState!==null!==T&&(p.flags|=8192):T&&(p.flags|=8192),T?(S&536870912)!==0&&(p.flags&128)===0&&(Mn(p),p.subtreeFlags&6&&(p.flags|=8192)):Mn(p),S=p.updateQueue,S!==null&&Bh(p,S.retryQueue),S=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(S=h.memoizedState.cachePool.pool),T=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(T=p.memoizedState.cachePool.pool),T!==S&&(p.flags|=2048),h!==null&&y(Tn),null;case 24:return S=null,h!==null&&(S=h.memoizedState.cache),p.memoizedState.cache!==S&&(p.flags|=2048),Re(Ze),Mn(p),null;case 25:return null;case 30:return null}throw Error(a(156,p.tag))}function _a(h,p){switch(nt(p),p.tag){case 1:return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return Re(Ze),lt(),h=p.flags,(h&65536)!==0&&(h&128)===0?(p.flags=h&-65537|128,p):null;case 26:case 27:case 5:return ot(p),null;case 13:if(Ts(p),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(a(340));jt()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return y(ce),null;case 4:return lt(),null;case 10:return Re(p.type),null;case 22:case 23:return Ts(p),gh(),h!==null&&y(Tn),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 24:return Re(Ze),null;case 25:return null;default:return null}}function Sc(h,p){switch(nt(p),p.tag){case 3:Re(Ze),lt();break;case 26:case 27:case 5:ot(p);break;case 4:lt();break;case 13:Ts(p);break;case 19:y(ce);break;case 10:Re(p.type);break;case 22:case 23:Ts(p),gh(),h!==null&&y(Tn);break;case 24:Re(Ze)}}function _c(h,p){try{var S=p.updateQueue,T=S!==null?S.lastEffect:null;if(T!==null){var N=T.next;S=N;do{if((S.tag&h)===h){T=void 0;var k=S.create,Q=S.inst;T=k(),Q.destroy=T}S=S.next}while(S!==N)}}catch(st){Qe(p,p.return,st)}}function Rs(h,p,S){try{var T=p.updateQueue,N=T!==null?T.lastEffect:null;if(N!==null){var k=N.next;T=k;do{if((T.tag&h)===h){var Q=T.inst,st=Q.destroy;if(st!==void 0){Q.destroy=void 0,N=p;var ft=S,Tt=st;try{Tt()}catch(Nt){Qe(N,ft,Nt)}}}T=T.next}while(T!==k)}}catch(Nt){Qe(p,p.return,Nt)}}function rg(h){var p=h.updateQueue;if(p!==null){var S=h.stateNode;try{ol(p,S)}catch(T){Qe(h,h.return,T)}}}function sg(h,p,S){S.props=fl(h.type,h.memoizedProps),S.state=h.memoizedState;try{S.componentWillUnmount()}catch(T){Qe(h,p,T)}}function ml(h,p){try{var S=h.ref;if(S!==null){switch(h.tag){case 26:case 27:case 5:var T=Oc(h.stateNode);break;case 30:T=h.stateNode;break;default:T=h.stateNode}typeof S=="function"?h.refCleanup=S(T):S.current=T}}catch(N){Qe(h,p,N)}}function Lr(h,p){var S=h.ref,T=h.refCleanup;if(S!==null)if(typeof T=="function")try{T()}catch(N){Qe(h,p,N)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof S=="function")try{S(null)}catch(N){Qe(h,p,N)}else S.current=null}function vl(h){var p=h.type,S=h.memoizedProps,T=h.stateNode;try{Tg(T,p,S,h)}catch(N){Qe(h,h.return,N)}}function zu(h,p,S){try{py(h.stateNode,h.type,S,p,h)}catch(T){Qe(h,h.return,T)}}function wc(h){return h.tag===5||h.tag===3||(Yi?h.tag===26:!1)||(De?h.tag===27&&Ol(h.type):!1)||h.tag===4}function Uu(h){t:for(;;){for(;h.sibling===null;){if(h.return===null||wc(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(De&&h.tag===27&&Ol(h.type)||h.flags&2||h.child===null||h.tag===4)continue t;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Ih(h,p,S){var T=h.tag;if(T===5||T===6)h=h.stateNode,p?my(S,h,p):hy(S,h);else if(T!==4&&(De&&T===27&&Ol(h.type)&&(S=h.stateNode,p=null),h=h.child,h!==null))for(Ih(h,p,S),h=h.sibling;h!==null;)Ih(h,p,S),h=h.sibling}function kr(h,p,S){var T=h.tag;if(T===5||T===6)h=h.stateNode,p?gy(S,h,p):dy(S,h);else if(T!==4&&(De&&T===27&&Ol(h.type)&&(S=h.stateNode),h=h.child,h!==null))for(kr(h,p,S),h=h.sibling;h!==null;)kr(h,p,S),h=h.sibling}function yl(h,p,S){h=h.containerInfo;try{Dg(h,S)}catch(T){Qe(p,p.return,T)}}function zh(h){var p=h.stateNode,S=h.memoizedProps;try{Ug(h.type,S,p,h)}catch(T){Qe(h,h.return,T)}}function Qv(h,p){for(_o(h.containerInfo),we=p;we!==null;)if(h=we,p=h.child,(h.subtreeFlags&1024)!==0&&p!==null)p.return=h,we=p;else for(;we!==null;){h=we;var S=h.alternate;switch(p=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((p&1024)!==0&&S!==null){p=void 0;var T=h,N=S.memoizedProps;S=S.memoizedState;var k=T.stateNode;try{var Q=fl(T.type,N,T.elementType===T.type);p=k.getSnapshotBeforeUpdate(Q,S),k.__reactInternalSnapshotBeforeUpdate=p}catch(st){Qe(T,T.return,st)}}break;case 3:(p&1024)!==0&&Pe&&nf(h.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((p&1024)!==0)throw Error(a(163))}if(p=h.sibling,p!==null){p.return=h.return,we=p;break}we=h.return}}function ho(h,p,S){var T=S.flags;switch(S.tag){case 0:case 11:case 15:Ms(h,S),T&4&&_c(5,S);break;case 1:if(Ms(h,S),T&4)if(h=S.stateNode,p===null)try{h.componentDidMount()}catch(Q){Qe(S,S.return,Q)}else{var N=fl(S.type,p.memoizedProps);p=p.memoizedState;try{h.componentDidUpdate(N,p,h.__reactInternalSnapshotBeforeUpdate)}catch(Q){Qe(S,S.return,Q)}}T&64&&rg(S),T&512&&ml(S,S.return);break;case 3:if(Ms(h,S),T&64&&(h=S.updateQueue,h!==null)){if(p=null,S.child!==null)switch(S.child.tag){case 27:case 5:p=Oc(S.child.stateNode);break;case 1:p=S.child.stateNode}try{ol(h,p)}catch(Q){Qe(S,S.return,Q)}}break;case 27:De&&p===null&&T&4&&zh(S);case 26:case 5:Ms(h,S),p===null&&T&4&&vl(S),T&512&&ml(S,S.return);break;case 12:Ms(h,S);break;case 13:Ms(h,S),T&4&&Zv(h,S),T&64&&(h=S.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(S=Di.bind(null,S),Pg(h,S))));break;case 22:if(T=S.memoizedState!==null||Pi,!T){p=p!==null&&p.memoizedState!==null||vn,N=Pi;var k=vn;Pi=T,(vn=p)&&!k?ei(h,S,(S.subtreeFlags&8772)!==0):Ms(h,S),Pi=N,vn=k}break;case 30:break;default:Ms(h,S)}}function og(h){var p=h.alternate;p!==null&&(h.alternate=null,og(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&ua(p)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function Ha(h,p,S){for(S=S.child;S!==null;)Uh(h,p,S),S=S.sibling}function Uh(h,p,S){if(Ki&&typeof Ki.onCommitFiberUnmount=="function")try{Ki.onCommitFiberUnmount(Ao,S)}catch{}switch(S.tag){case 26:if(Yi){vn||Lr(S,p),Ha(h,p,S),S.memoizedState?Ig(S.memoizedState):S.stateNode&&Aa(S.stateNode);break}case 27:if(De){vn||Lr(S,p);var T=pn,N=$n;Ol(S.type)&&(pn=S.stateNode,$n=!1),Ha(h,p,S),of(S.stateNode),pn=T,$n=N;break}case 5:vn||Lr(S,p);case 6:if(Pe){if(T=pn,N=$n,pn=null,Ha(h,p,S),pn=T,$n=N,pn!==null)if($n)try{yy(pn,S.stateNode)}catch(k){Qe(S,p,k)}else try{vy(pn,S.stateNode)}catch(k){Qe(S,p,k)}}else Ha(h,p,S);break;case 18:Pe&&pn!==null&&($n?Ly(pn,S.stateNode):sf(pn,S.stateNode));break;case 4:Pe?(T=pn,N=$n,pn=S.stateNode.containerInfo,$n=!0,Ha(h,p,S),pn=T,$n=N):(qr&&yl(S.stateNode,S,Rg()),Ha(h,p,S));break;case 0:case 11:case 14:case 15:vn||Rs(2,S,p),vn||Rs(4,S,p),Ha(h,p,S);break;case 1:vn||(Lr(S,p),T=S.stateNode,typeof T.componentWillUnmount=="function"&&sg(S,p,T)),Ha(h,p,S);break;case 21:Ha(h,p,S);break;case 22:vn=(T=vn)||S.memoizedState!==null,Ha(h,p,S),vn=T;break;default:Ha(h,p,S)}}function Zv(h,p){if(ca&&p.memoizedState===null&&(h=p.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{Py(h)}catch(S){Qe(p,p.return,S)}}function Qx(h){switch(h.tag){case 13:case 19:var p=h.stateNode;return p===null&&(p=h.stateNode=new Qr),p;case 22:return h=h.stateNode,p=h._retryCache,p===null&&(p=h._retryCache=new Qr),p;default:throw Error(a(435,h.tag))}}function lg(h,p){var S=Qx(h);p.forEach(function(T){var N=$h.bind(null,h,T);S.has(T)||(S.add(T),T.then(N,N))})}function Ci(h,p){var S=p.deletions;if(S!==null)for(var T=0;T<S.length;T++){var N=S[T],k=h,Q=p;if(Pe){var st=Q;t:for(;st!==null;){switch(st.tag){case 27:if(De){if(Ol(st.type)){pn=st.stateNode,$n=!1;break t}break}case 5:pn=st.stateNode,$n=!1;break t;case 3:case 4:pn=st.stateNode.containerInfo,$n=!0;break t}st=st.return}if(pn===null)throw Error(a(160));Uh(k,Q,N),pn=null,$n=!1}else Uh(k,Q,N);k=N.alternate,k!==null&&(k.return=null),N.return=null}if(p.subtreeFlags&13878)for(p=p.child;p!==null;)cg(p,h),p=p.sibling}function cg(h,p){var S=h.alternate,T=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:Ci(p,h),Ti(h),T&4&&(Rs(3,h,h.return),_c(3,h),Rs(5,h,h.return));break;case 1:Ci(p,h),Ti(h),T&512&&(vn||S===null||Lr(S,S.return)),T&64&&Pi&&(h=h.updateQueue,h!==null&&(T=h.callbacks,T!==null&&(S=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=S===null?T:S.concat(T))));break;case 26:if(Yi){var N=Ma;if(Ci(p,h),Ti(h),T&512&&(vn||S===null||Lr(S,S.return)),T&4){T=S!==null?S.memoizedState:null;var k=h.memoizedState;S===null?k===null?h.stateNode===null?h.stateNode=jc(N,h.type,h.memoizedProps,h):zg(N,h.type,h.stateNode):h.stateNode=Bg(N,k,h.memoizedProps):T!==k?(T===null?S.stateNode!==null&&Aa(S.stateNode):Ig(T),k===null?zg(N,h.type,h.stateNode):Bg(N,k,h.memoizedProps)):k===null&&h.stateNode!==null&&zu(h,h.memoizedProps,S.memoizedProps)}break}case 27:if(De){Ci(p,h),Ti(h),T&512&&(vn||S===null||Lr(S,S.return)),S!==null&&T&4&&zu(h,h.memoizedProps,S.memoizedProps);break}case 5:if(Ci(p,h),Ti(h),T&512&&(vn||S===null||Lr(S,S.return)),Pe){if(h.flags&32){N=h.stateNode;try{by(N)}catch(Nt){Qe(h,h.return,Nt)}}T&4&&h.stateNode!=null&&(N=h.memoizedProps,zu(h,N,S!==null?S.memoizedProps:N)),T&1024&&(Sd=!0)}break;case 6:if(Ci(p,h),Ti(h),T&4&&Pe){if(h.stateNode===null)throw Error(a(162));T=h.memoizedProps,S=S!==null?S.memoizedProps:T,N=h.stateNode;try{fy(N,S,T)}catch(Nt){Qe(h,h.return,Nt)}}break;case 3:if(Yi?(Eo(),N=Ma,Ma=Dl(p.containerInfo),Ci(p,h),Ma=N):Ci(p,h),Ti(h),T&4){if(Pe&&ca&&S!==null&&S.memoizedState.isDehydrated)try{Ny(p.containerInfo)}catch(Nt){Qe(h,h.return,Nt)}if(qr){T=p.containerInfo,S=p.pendingChildren;try{Dg(T,S)}catch(Nt){Qe(h,h.return,Nt)}}}Sd&&(Sd=!1,Ga(h));break;case 4:Yi?(S=Ma,Ma=Dl(h.stateNode.containerInfo),Ci(p,h),Ti(h),Ma=S):(Ci(p,h),Ti(h)),T&4&&qr&&yl(h.stateNode,h,h.stateNode.pendingChildren);break;case 12:Ci(p,h),Ti(h);break;case 13:Ci(p,h),Ti(h),h.child.flags&8192&&h.memoizedState!==null!=(S!==null&&S.memoizedState!==null)&&(vf=sn()),T&4&&(T=h.updateQueue,T!==null&&(h.updateQueue=null,lg(h,T)));break;case 22:N=h.memoizedState!==null;var Q=S!==null&&S.memoizedState!==null,st=Pi,ft=vn;if(Pi=st||N,vn=ft||Q,Ci(p,h),vn=ft,Pi=st,Ti(h),T&8192&&(p=h.stateNode,p._visibility=N?p._visibility&-2:p._visibility|1,N&&(S===null||Q||Pi||vn||ci(h)),Pe)){t:if(S=null,Pe)for(p=h;;){if(p.tag===5||Yi&&p.tag===26){if(S===null){Q=S=p;try{k=Q.stateNode,N?xy(k):ef(Q.stateNode,Q.memoizedProps)}catch(Nt){Qe(Q,Q.return,Nt)}}}else if(p.tag===6){if(S===null){Q=p;try{var Tt=Q.stateNode;N?Lc(Tt):Sy(Tt,Q.memoizedProps)}catch(Nt){Qe(Q,Q.return,Nt)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===h)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break t;for(;p.sibling===null;){if(p.return===null||p.return===h)break t;S===p&&(S=null),p=p.return}S===p&&(S=null),p.sibling.return=p.return,p=p.sibling}}T&4&&(T=h.updateQueue,T!==null&&(S=T.retryQueue,S!==null&&(T.retryQueue=null,lg(h,S))));break;case 19:Ci(p,h),Ti(h),T&4&&(T=h.updateQueue,T!==null&&(h.updateQueue=null,lg(h,T)));break;case 30:break;case 21:break;default:Ci(p,h),Ti(h)}}function Ti(h){var p=h.flags;if(p&2){try{if(Pe){for(var S,T=h.return;T!==null;){if(wc(T)){S=T;break}T=T.return}if(S==null)throw Error(a(160));switch(S.tag){case 27:if(De){var N=S.stateNode,k=Uu(h);kr(h,k,N);break}case 5:var Q=S.stateNode;S.flags&32&&(by(Q),S.flags&=-33);var st=Uu(h);kr(h,st,Q);break;case 3:case 4:var ft=S.stateNode.containerInfo,Tt=Uu(h);Ih(h,Tt,ft);break;default:throw Error(a(161))}}}catch(Nt){Qe(h,h.return,Nt)}h.flags&=-3}p&4096&&(h.flags&=-4097)}function Ga(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var p=h;Ga(p),p.tag===5&&p.flags&1024&&Eg(p.stateNode),h=h.sibling}}function Ms(h,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)ho(h,p.alternate,p),p=p.sibling}function ci(h){for(h=h.child;h!==null;){var p=h;switch(p.tag){case 0:case 11:case 14:case 15:Rs(4,p,p.return),ci(p);break;case 1:Lr(p,p.return);var S=p.stateNode;typeof S.componentWillUnmount=="function"&&sg(p,p.return,S),ci(p);break;case 27:De&&of(p.stateNode);case 26:case 5:Lr(p,p.return),ci(p);break;case 22:p.memoizedState===null&&ci(p);break;case 30:ci(p);break;default:ci(p)}h=h.sibling}}function ei(h,p,S){for(S=S&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var T=p.alternate,N=h,k=p,Q=k.flags;switch(k.tag){case 0:case 11:case 15:ei(N,k,S),_c(4,k);break;case 1:if(ei(N,k,S),T=k,N=T.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(Tt){Qe(T,T.return,Tt)}if(T=k,N=T.updateQueue,N!==null){var st=T.stateNode;try{var ft=N.shared.hiddenCallbacks;if(ft!==null)for(N.shared.hiddenCallbacks=null,N=0;N<ft.length;N++)uc(ft[N],st)}catch(Tt){Qe(T,T.return,Tt)}}S&&Q&64&&rg(k),ml(k,k.return);break;case 27:De&&zh(k);case 26:case 5:ei(N,k,S),S&&T===null&&Q&4&&vl(k),ml(k,k.return);break;case 12:ei(N,k,S);break;case 13:ei(N,k,S),S&&Q&4&&Zv(N,k);break;case 22:k.memoizedState===null&&ei(N,k,S),ml(k,k.return);break;case 30:break;default:ei(N,k,S)}p=p.sibling}}function fo(h,p){var S=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(S=h.memoizedState.cachePool.pool),h=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(h=p.memoizedState.cachePool.pool),h!==S&&(h!=null&&h.refCount++,S!=null&&ie(S))}function Hu(h,p){h=null,p.alternate!==null&&(h=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==h&&(p.refCount++,h!=null&&ie(h))}function wa(h,p,S,T){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)Gu(h,p,S,T),p=p.sibling}function Gu(h,p,S,T){var N=p.flags;switch(p.tag){case 0:case 11:case 15:wa(h,p,S,T),N&2048&&_c(9,p);break;case 1:wa(h,p,S,T);break;case 3:wa(h,p,S,T),N&2048&&(h=null,p.alternate!==null&&(h=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==h&&(p.refCount++,h!=null&&ie(h)));break;case 12:if(N&2048){wa(h,p,S,T),h=p.stateNode;try{var k=p.memoizedProps,Q=k.id,st=k.onPostCommit;typeof st=="function"&&st(Q,p.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(ft){Qe(p,p.return,ft)}}else wa(h,p,S,T);break;case 13:wa(h,p,S,T);break;case 23:break;case 22:k=p.stateNode,Q=p.alternate,p.memoizedState!==null?k._visibility&2?wa(h,p,S,T):jr(h,p):k._visibility&2?wa(h,p,S,T):(k._visibility|=2,po(h,p,S,T,(p.subtreeFlags&10256)!==0)),N&2048&&fo(Q,p);break;case 24:wa(h,p,S,T),N&2048&&Hu(p.alternate,p);break;default:wa(h,p,S,T)}}function po(h,p,S,T,N){for(N=N&&(p.subtreeFlags&10256)!==0,p=p.child;p!==null;){var k=h,Q=p,st=S,ft=T,Tt=Q.flags;switch(Q.tag){case 0:case 11:case 15:po(k,Q,st,ft,N),_c(8,Q);break;case 23:break;case 22:var Nt=Q.stateNode;Q.memoizedState!==null?Nt._visibility&2?po(k,Q,st,ft,N):jr(k,Q):(Nt._visibility|=2,po(k,Q,st,ft,N)),N&&Tt&2048&&fo(Q.alternate,Q);break;case 24:po(k,Q,st,ft,N),N&&Tt&2048&&Hu(Q.alternate,Q);break;default:po(k,Q,st,ft,N)}p=p.sibling}}function jr(h,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var S=h,T=p,N=T.flags;switch(T.tag){case 22:jr(S,T),N&2048&&fo(T.alternate,T);break;case 24:jr(S,T),N&2048&&Hu(T.alternate,T);break;default:jr(S,T)}p=p.sibling}}function go(h){if(h.subtreeFlags&Si)for(h=h.child;h!==null;)qu(h),h=h.sibling}function qu(h){switch(h.tag){case 26:go(h),h.flags&Si&&(h.memoizedState!==null?Fs(Ma,h.memoizedState,h.memoizedProps):ad(h.type,h.memoizedProps));break;case 5:go(h),h.flags&Si&&ad(h.type,h.memoizedProps);break;case 3:case 4:if(Yi){var p=Ma;Ma=Dl(h.stateNode.containerInfo),go(h),Ma=p}else go(h);break;case 22:h.memoizedState===null&&(p=h.alternate,p!==null&&p.memoizedState!==null?(p=Si,Si=16777216,go(h),Si=p):go(h));break;default:go(h)}}function bl(h){var p=h.alternate;if(p!==null&&(h=p.child,h!==null)){p.child=null;do p=h.sibling,h.sibling=null,h=p;while(h!==null)}}function Vu(h){var p=h.deletions;if((h.flags&16)!==0){if(p!==null)for(var S=0;S<p.length;S++){var T=p[S];we=T,Fr(T,h)}bl(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)sa(h),h=h.sibling}function sa(h){switch(h.tag){case 0:case 11:case 15:Vu(h),h.flags&2048&&Rs(9,h,h.return);break;case 3:Vu(h);break;case 12:Vu(h);break;case 22:var p=h.stateNode;h.memoizedState!==null&&p._visibility&2&&(h.return===null||h.return.tag!==13)?(p._visibility&=-3,Ec(h)):Vu(h);break;default:Vu(h)}}function Ec(h){var p=h.deletions;if((h.flags&16)!==0){if(p!==null)for(var S=0;S<p.length;S++){var T=p[S];we=T,Fr(T,h)}bl(h)}for(h=h.child;h!==null;){switch(p=h,p.tag){case 0:case 11:case 15:Rs(8,p,p.return),Ec(p);break;case 22:S=p.stateNode,S._visibility&2&&(S._visibility&=-3,Ec(p));break;default:Ec(p)}h=h.sibling}}function Fr(h,p){for(;we!==null;){var S=we;switch(S.tag){case 0:case 11:case 15:Rs(8,S,p);break;case 23:case 22:if(S.memoizedState!==null&&S.memoizedState.cachePool!==null){var T=S.memoizedState.cachePool.pool;T!=null&&T.refCount++}break;case 24:ie(S.memoizedState.cache)}if(T=S.child,T!==null)T.return=S,we=T;else t:for(S=h;we!==null;){T=we;var N=T.sibling,k=T.return;if(og(T),T===S){we=null;break t}if(N!==null){N.return=k,we=N;break t}we=k}}}function Hh(h){var p=ay(h);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(a(364));return p}if(h=oy(h),h===null)throw Error(a(362));return h.stateNode.current}function Ac(h,p){var S=h.tag;switch(p.$$typeof){case Lo:if(h.type===p.value)return!0;break;case _i:t:{for(p=p.value,h=[h,0],S=0;S<h.length;){var T=h[S++],N=T.tag,k=h[S++],Q=p[k];if(N!==5&&N!==26&&N!==27||!Pc(T)){for(;Q!=null&&Ac(T,Q);)k++,Q=p[k];if(k===p.length){p=!0;break t}else for(T=T.child;T!==null;)h.push(T,k),T=T.sibling}}p=!1}return p;case Vc:if((S===5||S===26||S===27)&&Cg(h.stateNode,p.value))return!0;break;case jl:if((S===5||S===6||S===26||S===27)&&(h=cy(h),h!==null&&0<=h.indexOf(p.value)))return!0;break;case Yc:if((S===5||S===26||S===27)&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Ds(h){switch(h.$$typeof){case Lo:return"<"+(m(h.value)||"Unknown")+">";case _i:return":has("+(Ds(h)||"")+")";case Vc:return'[role="'+h.value+'"]';case jl:return'"'+h.value+'"';case Yc:return'[data-testname="'+h.value+'"]';default:throw Error(a(365))}}function Gh(h,p){var S=[];h=[h,0];for(var T=0;T<h.length;){var N=h[T++],k=N.tag,Q=h[T++],st=p[Q];if(k!==5&&k!==26&&k!==27||!Pc(N)){for(;st!=null&&Ac(N,st);)Q++,st=p[Q];if(Q===p.length)S.push(N);else for(N=N.child;N!==null;)h.push(N,Q),N=N.sibling}}return S}function Yu(h,p){if(!Nc)throw Error(a(363));h=Hh(h),h=Gh(h,p),p=[],h=Array.from(h);for(var S=0;S<h.length;){var T=h[S++],N=T.tag;if(N===5||N===26||N===27)Pc(T)||p.push(T.stateNode);else for(T=T.child;T!==null;)h.push(T),T=T.sibling}return p}function ui(){if((ee&2)!==0&&Ee!==0)return Ee&-Ee;if(te.T!==null){var h=gn;return h!==0?h:Vt()}return Sg()}function xl(){$a===0&&($a=(Ee&536870912)===0||Ie?M():536870912);var h=Xa.current;return h!==null&&(h.flags|=32),$a}function Ri(h,p,S){(h===Ge&&(Je===2||Je===9)||h.cancelPendingCommit!==null)&&(Va(h,0),oa(h,Ee,$a,!1)),z(h,S),((ee&2)===0||h!==Ge)&&(h===Ge&&((ee&2)===0&&(Fo|=S),On===4&&oa(h,Ee,$a,!1)),$t(h))}function Ku(h,p,S){if((ee&6)!==0)throw Error(a(327));var T=!S&&(p&124)===0&&(p&h.expiredLanes)===0||A(h,p),N=T?Ir(h,p):He(h,p,!0),k=T;do{if(N===0){Zr&&!T&&oa(h,p,0,!1);break}else{if(S=h.current.alternate,k&&!qa(S)){N=He(h,p,!1),k=!1;continue}if(N===2){if(k=p,h.errorRecoveryDisabledLanes&k)var Q=0;else Q=h.pendingLanes&-536870913,Q=Q!==0?Q:Q&536870912?536870912:0;if(Q!==0){p=Q;t:{var st=h;N=Bo;var ft=ca&&st.current.memoizedState.isDehydrated;if(ft&&(Va(st,Q).flags|=256),Q=He(st,Q,!1),Q!==2){if(_d&&!ft){st.errorRecoveryDisabledLanes|=k,Fo|=k,N=4;break t}k=Li,Li=N,k!==null&&(Li===null?Li=k:Li.push.apply(Li,k))}N=Q}if(k=!1,N!==2)continue}}if(N===1){Va(h,0),oa(h,p,0,!0);break}t:{switch(T=h,k=N,k){case 0:case 1:throw Error(a(345));case 4:if((p&4194048)!==p)break;case 6:oa(T,p,$a,!Gs);break t;case 2:Li=null;break;case 3:case 5:break;default:throw Error(a(329))}if((p&62914560)===p&&(N=vf+300-sn(),10<N)){if(oa(T,p,$a,!Gs),R(T,0,!0)!==0)break t;T.timeoutHandle=Jh(Ea.bind(null,T,S,Li,wd,Io,p,$a,Fo,Da,Gs,k,2,-0,0),N);break t}Ea(T,S,Li,wd,Io,p,$a,Fo,Da,Gs,k,0,-0,0)}}break}while(!0);$t(h)}function Ea(h,p,S,T,N,k,Q,st,ft,Tt,Nt,It,zt,ye){if(h.timeoutHandle=Ka,It=p.subtreeFlags,(It&8192||(It&16785408)===16785408)&&(id(),qu(p),It=wg(),It!==null)){h.cancelPendingCommit=It(fg.bind(null,h,p,k,S,T,N,Q,st,ft,Nt,1,zt,ye)),oa(h,k,Q,!Tt);return}fg(h,p,k,S,T,N,Q,st,ft)}function qa(h){for(var p=h;;){var S=p.tag;if((S===0||S===11||S===15)&&p.flags&16384&&(S=p.updateQueue,S!==null&&(S=S.stores,S!==null)))for(var T=0;T<S.length;T++){var N=S[T],k=N.getSnapshot;N=N.value;try{if(!Ca(k(),N))return!1}catch{return!1}}if(S=p.child,p.subtreeFlags&16384&&S!==null)S.return=p,p=S;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function oa(h,p,S,T){p&=~mf,p&=~Fo,h.suspendedLanes|=p,h.pingedLanes&=~p,T&&(h.warmLanes|=p),T=h.expirationTimes;for(var N=p;0<N;){var k=31-ha(N),Q=1<<k;T[k]=-1,N&=~Q}S!==0&&U(h,S,p)}function Br(){return(ee&6)===0?(re(0),!1):!0}function dr(){if(ge!==null){if(Je===0)var h=ge.return;else h=ge,Oi=mr=null,ur(h),$r=null,Gc=0,h=ge;for(;h!==null;)Sc(h.alternate,h),h=h.return;ge=null}}function Va(h,p){var S=h.timeoutHandle;S!==Ka&&(h.timeoutHandle=Ka,nd(S)),S=h.cancelPendingCommit,S!==null&&(h.cancelPendingCommit=null,S()),dr(),Ge=h,ge=S=Os(h.current,null),Ee=p,Je=0,Qi=null,Gs=!1,Zr=A(h,p),_d=!1,Da=$a=mf=Fo=Wn=On=0,Li=Bo=null,Io=!1,(p&8)!==0&&(p|=p&32);var T=h.entangledLanes;if(T!==0)for(h=h.entanglements,T&=p;0<T;){var N=31-ha(T),k=1<<N;p|=h[N],T&=~k}return zn=p,sl(),S}function ug(h,p){be=null,te.H=Po,p===Uc||p===fn?(p=oc(),Je=3):p===gf?(p=oc(),Je=4):Je=p===je?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,Qi=p,ge===null&&(On=1,Mh(h,V(p,h.current)))}function qh(){var h=Xa.current;return h===null?!0:(Ee&4194048)===Ee?Wr===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?h===Wr:!1}function Vh(){var h=te.H;return te.H=Po,h===null?Po:h}function Mi(){var h=te.A;return te.A=qc,h}function Cn(){On=4,Gs||(Ee&4194048)!==Ee&&Xa.current!==null||(Zr=!0),(Wn&134217727)===0&&(Fo&134217727)===0||Ge===null||oa(Ge,Ee,$a,!1)}function He(h,p,S){var T=ee;ee|=2;var N=Vh(),k=Mi();(Ge!==h||Ee!==p)&&(wd=null,Va(h,p)),p=!1;var Q=On;t:do try{if(Je!==0&&ge!==null){var st=ge,ft=Qi;switch(Je){case 8:dr(),Q=6;break t;case 3:case 2:case 9:case 6:Xa.current===null&&(p=!0);var Tt=Je;if(Je=0,Qi=null,_l(h,st,ft,Tt),S&&Zr){Q=0;break t}break;default:Tt=Je,Je=0,Qi=null,_l(h,st,ft,Tt)}}Sl(),Q=On;break}catch(Nt){ug(h,Nt)}while(!0);return p&&h.shellSuspendCounter++,Oi=mr=null,ee=T,te.H=N,te.A=k,ge===null&&(Ge=null,Ee=0,sl()),Q}function Sl(){for(;ge!==null;)mo(ge)}function Ir(h,p){var S=ee;ee|=2;var T=Vh(),N=Mi();Ge!==h||Ee!==p?(wd=null,Kc=sn()+500,Va(h,p)):Zr=A(h,p);t:do try{if(Je!==0&&ge!==null){p=ge;var k=Qi;e:switch(Je){case 1:Je=0,Qi=null,_l(h,p,k,1);break;case 2:case 9:if(vs(k)){Je=0,Qi=null,hg(p);break}p=function(){Je!==2&&Je!==9||Ge!==h||(Je=7),$t(h)},k.then(p,p);break t;case 3:Je=7;break t;case 4:Je=5;break t;case 7:vs(k)?(Je=0,Qi=null,hg(p)):(Je=0,Qi=null,_l(h,p,k,7));break;case 5:var Q=null;switch(ge.tag){case 26:Q=ge.memoizedState;case 5:case 27:var st=ge,ft=st.type,Tt=st.pendingProps;if(Q?js(Q):tf(ft,Tt)){Je=0,Qi=null;var Nt=st.sibling;if(Nt!==null)ge=Nt;else{var It=st.return;It!==null?(ge=It,vo(It)):ge=null}break e}}Je=0,Qi=null,_l(h,p,k,5);break;case 6:Je=0,Qi=null,_l(h,p,k,6);break;case 8:dr(),On=6;break t;default:throw Error(a(462))}}dg();break}catch(zt){ug(h,zt)}while(!0);return Oi=mr=null,te.H=T,te.A=N,ee=S,ge!==null?0:(Ge=null,Ee=0,sl(),On)}function dg(){for(;ge!==null&&!i2();)mo(ge)}function mo(h){var p=Fu(h.alternate,h,zn);h.memoizedProps=h.pendingProps,p===null?vo(h):ge=p}function hg(h){var p=h,S=p.alternate;switch(p.tag){case 15:case 0:p=Xv(S,p,p.pendingProps,p.type,void 0,Ee);break;case 11:p=Xv(S,p,p.pendingProps,p.type.render,p.ref,Ee);break;case 5:ur(p);default:Sc(S,p),p=ge=Vn(p,zn),p=Fu(S,p,zn)}h.memoizedProps=h.pendingProps,p===null?vo(h):ge=p}function _l(h,p,S,T){Oi=mr=null,ur(p),$r=null,Gc=0;var N=p.return;try{if(Xx(h,N,p,S,Ee)){On=1,Mh(h,V(S,h.current)),ge=null;return}}catch(k){if(N!==null)throw ge=N,k;On=1,Mh(h,V(S,h.current)),ge=null;return}p.flags&32768?(Ie||T===1?h=!0:Zr||(Ee&536870912)!==0?h=!1:(Gs=h=!0,(T===2||T===9||T===3||T===6)&&(T=Xa.current,T!==null&&T.tag===13&&(T.flags|=16384))),Cc(p,h)):vo(p)}function vo(h){var p=h;do{if((p.flags&32768)!==0){Cc(p,Gs);return}h=p.return;var S=Wx(p.alternate,p,zn);if(S!==null){ge=S;return}if(p=p.sibling,p!==null){ge=p;return}ge=p=h}while(p!==null);On===0&&(On=5)}function Cc(h,p){do{var S=_a(h.alternate,h);if(S!==null){S.flags&=32767,ge=S;return}if(S=h.return,S!==null&&(S.flags|=32768,S.subtreeFlags=0,S.deletions=null),!p&&(h=h.sibling,h!==null)){ge=h;return}ge=h=S}while(h!==null);On=6,ge=null}function fg(h,p,S,T,N,k,Q,st,ft){h.cancelPendingCommit=null;do Ya();while(ni!==0);if((ee&6)!==0)throw Error(a(327));if(p!==null){if(p===h.current)throw Error(a(177));if(k=p.lanes|p.childLanes,k|=Yg,L(h,S,k,Q,st,ft),h===Ge&&(ge=Ge=null,Ee=0),Xc=p,zo=h,$c=S,yf=k,bf=N,Fl=T,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,Jv(uf,function(){return Ur(),null})):(h.callbackNode=null,h.callbackPriority=0),T=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||T){T=te.T,te.T=null,N=fr(),di(2),Q=ee,ee|=4;try{Qv(h,p,S)}finally{ee=Q,di(N),te.T=T}}ni=1,Tc(),Yh(),yo()}}function Tc(){if(ni===1){ni=0;var h=zo,p=Xc,S=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||S){S=te.T,te.T=null;var T=fr();di(2);var N=ee;ee|=4;try{cg(p,h),_e(h.containerInfo)}finally{ee=N,di(T),te.T=S}}h.current=p,ni=2}}function Yh(){if(ni===2){ni=0;var h=zo,p=Xc,S=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||S){S=te.T,te.T=null;var T=fr();di(2);var N=ee;ee|=4;try{ho(h,p.alternate,p)}finally{ee=N,di(T),te.T=S}}ni=3}}function yo(){if(ni===4||ni===3){ni=0,Fy();var h=zo,p=Xc,S=$c,T=Fl;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?ni=5:(ni=0,Xc=zo=null,zr(h,h.pendingLanes));var N=h.pendingLanes;if(N===0&&(Jr=null),J(S),p=p.stateNode,Ki&&typeof Ki.onCommitFiberRoot=="function")try{Ki.onCommitFiberRoot(Ao,p,void 0,(p.current.flags&128)===128)}catch{}if(T!==null){p=te.T,N=fr(),di(2),te.T=null;try{for(var k=h.onRecoverableError,Q=0;Q<T.length;Q++){var st=T[Q];k(st.value,{componentStack:st.stack})}}finally{te.T=p,di(N)}}($c&3)!==0&&Ya(),$t(h),N=h.pendingLanes,(S&4194090)!==0&&(N&42)!==0?h===xf?Uo++:(Uo=0,xf=h):Uo=0,re(0)}}function zr(h,p){(h.pooledCacheLanes&=p)===0&&(p=h.pooledCache,p!=null&&(h.pooledCache=null,ie(p)))}function Ya(h){return Tc(),Yh(),yo(),Ur()}function Ur(){if(ni!==5)return!1;var h=zo,p=yf;yf=0;var S=J($c),T=32>S?32:S;S=te.T;var N=fr();try{di(T),te.T=null,T=bf,bf=null;var k=zo,Q=$c;if(ni=0,Xc=zo=null,$c=0,(ee&6)!==0)throw Error(a(331));var st=ee;if(ee|=4,sa(k.current),Gu(k,k.current,Q,T),ee=st,re(0,!1),Ki&&typeof Ki.onPostCommitFiberRoot=="function")try{Ki.onPostCommitFiberRoot(Ao,k)}catch{}return!0}finally{di(N),te.T=S,zr(h,p)}}function Kh(h,p,S){p=V(S,p),p=Dh(h.stateNode,p,2),h=xs(h,p,2),h!==null&&(z(h,2),$t(h))}function Qe(h,p,S){if(h.tag===3)Kh(h,h,S);else for(;p!==null;){if(p.tag===3){Kh(p,h,S);break}else if(p.tag===1){var T=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Jr===null||!Jr.has(T))){h=V(S,h),S=Uv(2),T=xs(p,S,2),T!==null&&(Hv(S,T,p,h),z(T,2),$t(T));break}}p=p.return}}function wl(h,p,S){var T=h.pingCache;if(T===null){T=h.pingCache=new jo;var N=new Set;T.set(p,N)}else N=T.get(p),N===void 0&&(N=new Set,T.set(p,N));N.has(S)||(_d=!0,N.add(S),h=Xh.bind(null,h,p,S),p.then(h,h))}function Xh(h,p,S){var T=h.pingCache;T!==null&&T.delete(p),h.pingedLanes|=h.suspendedLanes&S,h.warmLanes&=~S,Ge===h&&(Ee&S)===S&&(On===4||On===3&&(Ee&62914560)===Ee&&300>sn()-vf?(ee&2)===0&&Va(h,0):mf|=S,Da===Ee&&(Da=0)),$t(h)}function bo(h,p){p===0&&(p=D()),h=dn(h,p),h!==null&&(z(h,p),$t(h))}function Di(h){var p=h.memoizedState,S=0;p!==null&&(S=p.retryLane),bo(h,S)}function $h(h,p){var S=0;switch(h.tag){case 13:var T=h.stateNode,N=h.memoizedState;N!==null&&(S=N.retryLane);break;case 19:T=h.stateNode;break;case 22:T=h.stateNode._retryCache;break;default:throw Error(a(314))}T!==null&&T.delete(p),bo(h,S)}function Jv(h,p){return hd(h,p)}function Zx(h,p,S,T){this.tag=h,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pg(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Os(h,p){var S=h.alternate;return S===null?(S=n(h.tag,p,h.key,h.mode),S.elementType=h.elementType,S.type=h.type,S.stateNode=h.stateNode,S.alternate=h,h.alternate=S):(S.pendingProps=p,S.type=h.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=h.flags&65011712,S.childLanes=h.childLanes,S.lanes=h.lanes,S.child=h.child,S.memoizedProps=h.memoizedProps,S.memoizedState=h.memoizedState,S.updateQueue=h.updateQueue,p=h.dependencies,S.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},S.sibling=h.sibling,S.index=h.index,S.ref=h.ref,S.refCleanup=h.refCleanup,S}function Vn(h,p){h.flags&=65011714;var S=h.alternate;return S===null?(h.childLanes=0,h.lanes=p,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=S.childLanes,h.lanes=S.lanes,h.child=S.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=S.memoizedProps,h.memoizedState=S.memoizedState,h.updateQueue=S.updateQueue,h.type=S.type,p=S.dependencies,h.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),h}function Rc(h,p,S,T,N,k){var Q=0;if(T=h,typeof h=="function")pg(h)&&(Q=1);else if(typeof h=="string")Q=Yi&&De?ld(h,S,wn.current)?26:Hg(h)?27:5:Yi?ld(h,S,wn.current)?26:5:De&&Hg(h)?27:5;else t:switch(h){case Ml:return h=n(31,S,p,N),h.elementType=Ml,h.lanes=k,h;case Rl:return hr(S.children,N,k,p);case $u:Q=8,N|=24;break;case Qh:return h=n(12,S,p,N|2),h.elementType=Qh,h.lanes=k,h;case Qu:return h=n(13,S,p,N),h.elementType=Qu,h.lanes=k,h;case Zu:return h=n(19,S,p,N),h.elementType=Zu,h.lanes=k,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case Wu:case Ps:Q=10;break t;case vg:Q=9;break t;case Hr:Q=11;break t;case Gr:Q=14;break t;case Vi:Q=16,T=null;break t}Q=29,S=Error(a(130,h===null?"null":typeof h,"")),T=null}return p=n(Q,S,p,N),p.elementType=h,p.type=T,p.lanes=k,p}function hr(h,p,S,T){return h=n(7,h,T,p),h.lanes=S,h}function El(h,p,S){return h=n(6,h,null,p),h.lanes=S,h}function Xu(h,p,S){return p=n(4,h.children!==null?h.children:[],h.key,p),p.lanes=S,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}function Mc(h,p,S,T,N,k,Q,st){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ka,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=P(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=P(0),this.hiddenUpdates=P(null),this.identifierPrefix=T,this.onUncaughtError=N,this.onCaughtError=k,this.onRecoverableError=Q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=st,this.incompleteTransitions=new Map}function Al(h,p,S,T,N,k,Q,st,ft,Tt,Nt,It){return h=new Mc(h,p,S,Q,st,ft,Tt,It),p=1,k===!0&&(p|=24),k=n(3,null,null,p),h.current=k,k.stateNode=h,p=Ut(),p.refCount++,h.pooledCache=p,p.refCount++,k.memoizedState={element:T,isDehydrated:S,cache:p},Tu(k),h}function ty(h){return h?(h=Nl,h):Nl}function gg(h){var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(a(188)):(h=Object.keys(h).join(","),Error(a(268,h)));return h=l(p),h=h!==null?c(h):null,h===null?null:Oc(h.stateNode)}function ey(h,p,S,T,N,k){N=ty(N),T.context===null?T.context=N:T.pendingContext=N,T=ro(p),T.payload={element:S},k=k===void 0?null:k,k!==null&&(T.callback=k),S=xs(h,T,p),S!==null&&(Ri(S,h,p),Ss(S,h,p))}function mg(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var S=h.retryLane;h.retryLane=S!==0&&S<p?S:p}}function Ns(h,p){mg(h,p),(h=h.alternate)&&mg(h,p)}var Se={},Wh=il(),la=pC(),Cl=Object.assign,ny=Symbol.for("react.element"),Tl=Symbol.for("react.transitional.element"),xo=Symbol.for("react.portal"),Rl=Symbol.for("react.fragment"),$u=Symbol.for("react.strict_mode"),Qh=Symbol.for("react.profiler"),Wu=Symbol.for("react.provider"),vg=Symbol.for("react.consumer"),Ps=Symbol.for("react.context"),Hr=Symbol.for("react.forward_ref"),Qu=Symbol.for("react.suspense"),Zu=Symbol.for("react.suspense_list"),Gr=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),Ml=Symbol.for("react.activity"),yg=Symbol.for("react.memo_cache_sentinel"),Zh=Symbol.iterator,Ju=Symbol.for("react.client.reference"),So=Array.isArray,te=Wh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,iy=t.rendererVersion,Dc=t.rendererPackageName,td=t.extraDevToolsConfig,Oc=t.getPublicInstance,bg=t.getRootHostContext,xg=t.getChildHostContext,_o=t.prepareForCommit,_e=t.resetAfterCommit,rn=t.createInstance;t.cloneMutableInstance;var Pn=t.appendInitialChild,ed=t.finalizeInitialChildren,Ls=t.shouldSetTextContent,wo=t.createTextInstance;t.cloneMutableTextInstance;var Jh=t.scheduleTimeout,nd=t.cancelTimeout,Ka=t.noTimeout,ks=t.isPrimaryRenderer;t.warnsIfNotActing;var Pe=t.supportsMutation,qr=t.supportsPersistence,ca=t.supportsHydration,ay=t.getInstanceFromNode;t.beforeActiveInstanceBlur;var ry=t.preparePortalMount;t.prepareScopeUpdate,t.getInstanceFromScope;var di=t.setCurrentUpdatePriority,fr=t.getCurrentUpdatePriority,Sg=t.resolveUpdatePriority;t.trackSchedulerEvent,t.resolveEventType,t.resolveEventTimeStamp;var _g=t.shouldAttemptEagerTransition,ua=t.detachDeletedInstance;t.requestPostPaintCallback;var Yn=t.maySuspendCommit,tf=t.preloadInstance,id=t.startSuspendingCommit,ad=t.suspendInstance;t.suspendOnActiveViewTransition;var wg=t.waitForCommitToBeReady,da=t.NotPendingTransition,Vr=t.HostTransitionContext,Eg=t.resetFormInstance;t.bindToConsole;var Ag=t.supportsMicrotasks,sy=t.scheduleMicrotask,Nc=t.supportsTestSelectors,oy=t.findFiberRoot,ly=t.getBoundingRect,cy=t.getTextContent,Pc=t.isHiddenSubtree,Cg=t.matchAccessibilityRole,uy=t.setFocusIfFocusable,Jx=t.setupIntersectionObserver,dy=t.appendChild,hy=t.appendChildToContainer,fy=t.commitTextUpdate,Tg=t.commitMount,py=t.commitUpdate,gy=t.insertBefore,my=t.insertInContainerBefore,vy=t.removeChild,yy=t.removeChildFromContainer,by=t.resetTextContent,xy=t.hideInstance,Lc=t.hideTextInstance,ef=t.unhideInstance,Sy=t.unhideTextInstance;t.cancelViewTransitionName,t.cancelRootViewTransitionName,t.restoreRootViewTransitionName,t.cloneRootViewTransitionContainer,t.removeRootViewTransitionClone,t.measureClonedInstance,t.hasInstanceChanged,t.hasInstanceAffectedParent,t.startViewTransition,t.startGestureTransition,t.stopGestureTransition,t.getCurrentGestureOffset,t.subscribeToGestureDirection,t.createViewTransitionInstance;var nf=t.clearContainer;t.createFragmentInstance,t.updateFragmentInstanceFiber,t.commitNewChildToFragmentInstance,t.deleteChildFromFragmentInstance;var rd=t.cloneInstance,Rg=t.createContainerChildSet,Mg=t.appendChildToContainerChildSet,_y=t.finalizeContainerChildren,Dg=t.replaceContainerChildren,Og=t.cloneHiddenInstance,Ng=t.cloneHiddenTextInstance,sd=t.isSuspenseInstancePending,af=t.isSuspenseInstanceFallback,wy=t.getSuspenseInstanceFallbackErrorDetails,Pg=t.registerSuspenseInstanceRetry,Ey=t.canHydrateFormStateMarker,Ay=t.isFormStateMarkerMatching,Cy=t.getNextHydratableSibling,Lg=t.getNextHydratableSiblingAfterSingleton,Ty=t.getFirstHydratableChild,Ry=t.getFirstHydratableChildWithinContainer,kg=t.getFirstHydratableChildWithinSuspenseInstance,My=t.getFirstHydratableChildWithinSingleton,Dy=t.canHydrateInstance,t2=t.canHydrateTextInstance,e2=t.canHydrateSuspenseInstance,Oy=t.hydrateInstance,od=t.hydrateTextInstance,jg=t.hydrateSuspenseInstance,rf=t.getNextHydratableInstanceAfterSuspenseInstance,Ny=t.commitHydratedContainer,Py=t.commitHydratedSuspenseInstance,sf=t.clearSuspenseBoundary,Ly=t.clearSuspenseBoundaryFromContainer,Fg=t.shouldDeleteUnhydratedTailInstances;t.diffHydratedPropsForDevWarnings,t.diffHydratedTextForDevWarnings,t.describeHydratableInstanceForDevWarnings;var n2=t.validateHydratableInstance,kc=t.validateHydratableTextInstance,Yi=t.supportsResources,ld=t.isHostHoistableType,Dl=t.getHoistableRoot,cd=t.getResource,Bg=t.acquireResource,Ig=t.releaseResource,jc=t.hydrateHoistable,zg=t.mountHoistable,Aa=t.unmountHoistable,Yr=t.createHoistableInstance,Eo=t.prepareToCommitHoistables,ky=t.mayResourceSuspendCommit,js=t.preloadResource,Fs=t.suspendResource,De=t.supportsSingletons,ud=t.resolveSingletonInstance,Ug=t.acquireSingletonInstance,of=t.releaseSingletonInstance,Hg=t.isHostSingletonType,Ol=t.isSingletonScope,Bs=[],Is=-1,Nl={},ha=Math.clz32?Math.clz32:_,jy=Math.log,lf=Math.LN2,dd=256,Fc=4194304,hd=la.unstable_scheduleCallback,cf=la.unstable_cancelCallback,i2=la.unstable_shouldYield,Fy=la.unstable_requestPaint,sn=la.unstable_now,hi=la.unstable_ImmediatePriority,By=la.unstable_UserBlockingPriority,uf=la.unstable_NormalPriority,Iy=la.unstable_IdlePriority,zy=la.log,Uy=la.unstable_setDisableYieldValue,Ao=null,Ki=null,df,Gg,hf=!1,ff=new WeakMap,Co=[],To=0,fd=null,Bc=0,Xi=[],fa=0,Ro=null,pr=1,Kr="",wn=v(null),Pl=v(null),Mo=v(null),pd=v(null),Dn=null,Kn=null,Ie=!1,gr=null,Xe=!1,qg=Error(a(519)),Ca=typeof Object.is=="function"?Object.is:pe,gd=v(null),mr=null,Oi=null,Hy=typeof AbortController<"u"?AbortController:function(){var h=[],p=this.signal={aborted:!1,addEventListener:function(S,T){h.push(T)}};this.abort=function(){p.aborted=!0,h.forEach(function(S){return S()})}},Gy=la.unstable_scheduleCallback,md=la.unstable_NormalPriority,Ze={$$typeof:Ps,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},vd=null,Do=null,pf=!1,Ic=!1,yd=!1,zs=0,zc=null,vr=0,gn=0,Oo=null,Vg=te.S;te.S=function(h,p){typeof p=="object"&&p!==null&&typeof p.then=="function"&&tn(h,p),Vg!==null&&Vg(h,p)};var Tn=v(null),a2=Object.prototype.hasOwnProperty,Uc=Error(a(460)),gf=Error(a(474)),fn=Error(a(542)),xi={then:function(){}},pa=null,Ta=[],Ll=0,Yg=0,Xr=!1,$i=!1,Ni=v(null),bd=v(0),Xn=0,be=null,ke=null,mn=null,yr=!1,No=!1,Us=!1,Ra=0,Hc=0,br=null,xd=0,Po={readContext:Zt,use:fc,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn,useHostTransitionStatus:hn,useFormState:hn,useActionState:hn,useOptimistic:hn,useMemoCache:hn,useCacheRefresh:hn},kl={readContext:Zt,use:fc,useCallback:function(h,p){return Ai().memoizedState=[h,p===void 0?null:p],h},useContext:Zt,useEffect:Kp,useImperativeHandle:function(h,p,S){S=S!=null?S.concat([h]):null,Ou(4194308,4,mc.bind(null,p,h),S)},useLayoutEffect:function(h,p){return Ou(4194308,4,h,p)},useInsertionEffect:function(h,p){Ou(4,2,h,p)},useMemo:function(h,p){var S=Ai();p=p===void 0?null:p;var T=h();if(Us){it(!0);try{h()}finally{it(!1)}}return S.memoizedState=[T,p],T},useReducer:function(h,p,S){var T=Ai();if(S!==void 0){var N=S(p);if(Us){it(!0);try{S(p)}finally{it(!1)}}}else N=p;return T.memoizedState=T.baseState=N,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:N},T.queue=h,h=h.dispatch=Wp.bind(null,be,h),[T.memoizedState,h]},useRef:function(h){var p=Ai();return h={current:h},p.memoizedState=h},useState:function(h){h=yh(h);var p=h.queue,S=Eh.bind(null,be,p);return p.dispatch=S,[h.memoizedState,S]},useDebugValue:Nu,useDeferredValue:function(h,p){var S=Ai();return vc(S,h,p)},useTransition:function(){var h=yh(!1);return h=$p.bind(null,be,h.queue,!0,!1),Ai().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,p,S){var T=be,N=Ai();if(Ie){if(S===void 0)throw Error(a(407));S=S()}else{if(S=p(),Ge===null)throw Error(a(349));(Ee&124)!==0||Up(T,p,S)}N.memoizedState=S;var k={value:S,getSnapshot:p};return N.queue=k,Kp(Ov.bind(null,T,k,h),[h]),T.flags|=2048,lo(9,_s(),Du.bind(null,T,k,S,p),null),S},useId:function(){var h=Ai(),p=Ge.identifierPrefix;if(Ie){var S=Kr,T=pr;S=(T&~(1<<32-ha(T)-1)).toString(32)+S,p="«"+p+"R"+S,S=Ra++,0<S&&(p+="H"+S.toString(32)),p+="»"}else S=xd++,p="«"+p+"r"+S.toString(32)+"»";return h.memoizedState=p},useHostTransitionStatus:Es,useFormState:xh,useActionState:xh,useOptimistic:function(h){var p=Ai();p.memoizedState=p.baseState=h;var S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=S,p=bc.bind(null,be,!0,S),S.dispatch=p,[h,p]},useMemoCache:Ip,useCacheRefresh:function(){return Ai().memoizedState=Kx.bind(null,be)}},Kg={readContext:Zt,use:fc,useCallback:Pu,useContext:Zt,useEffect:gc,useImperativeHandle:ws,useInsertionEffect:Pr,useLayoutEffect:wh,useMemo:Xp,useReducer:Gi,useRef:ul,useState:function(){return Gi(Nr)},useDebugValue:Nu,useDeferredValue:function(h,p){var S=In();return Lu(S,ke.memoizedState,h,p)},useTransition:function(){var h=Gi(Nr)[0],p=In().memoizedState;return[typeof h=="boolean"?h:ll(h),p]},useSyncExternalStore:Mu,useId:ku,useHostTransitionStatus:Es,useFormState:Nv,useActionState:Nv,useOptimistic:function(h,p){var S=In();return bh(S,ke,h,p)},useMemoCache:Ip,useCacheRefresh:yc},qy={readContext:Zt,use:fc,useCallback:Pu,useContext:Zt,useEffect:gc,useImperativeHandle:ws,useInsertionEffect:Pr,useLayoutEffect:wh,useMemo:Xp,useReducer:zp,useRef:ul,useState:function(){return zp(Nr)},useDebugValue:Nu,useDeferredValue:function(h,p){var S=In();return ke===null?vc(S,h,p):Lu(S,ke.memoizedState,h,p)},useTransition:function(){var h=zp(Nr)[0],p=In().memoizedState;return[typeof h=="boolean"?h:ll(h),p]},useSyncExternalStore:Mu,useId:ku,useHostTransitionStatus:Es,useFormState:_h,useActionState:_h,useOptimistic:function(h,p){var S=In();return ke!==null?bh(S,ke,h,p):(S.baseState=h,[h,S.queue.dispatch])},useMemoCache:Ip,useCacheRefresh:yc},$r=null,Gc=0,Hs=Fv(!0),Xg=Fv(!1),Xa=v(null),Wr=null,ce=v(0),on={enqueueSetState:function(h,p,S){h=h._reactInternals;var T=ui(),N=ro(T);N.payload=p,S!=null&&(N.callback=S),p=xs(h,N,T),p!==null&&(Ri(p,h,T),Ss(p,h,T))},enqueueReplaceState:function(h,p,S){h=h._reactInternals;var T=ui(),N=ro(T);N.tag=1,N.payload=p,S!=null&&(N.callback=S),p=xs(h,N,T),p!==null&&(Ri(p,h,T),Ss(p,h,T))},enqueueForceUpdate:function(h,p){h=h._reactInternals;var S=ui(),T=ro(S);T.tag=2,p!=null&&(T.callback=p),p=xs(h,T,S),p!==null&&(Ri(p,h,S),Ss(p,h,S))}},Te=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},je=Error(a(461)),ue=!1,Wi={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},Pi=!1,vn=!1,Sd=!1,Qr=typeof WeakSet=="function"?WeakSet:Set,we=null,pn=null,$n=!1,Ma=null,Si=8192,qc={getCacheForType:function(h){var p=Zt(Ze),S=p.data.get(h);return S===void 0&&(S=h(),p.data.set(h,S)),S}},Lo=0,_i=1,Vc=2,Yc=3,jl=4;if(typeof Symbol=="function"&&Symbol.for){var ko=Symbol.for;Lo=ko("selector.component"),_i=ko("selector.has_pseudo_class"),Vc=ko("selector.role"),Yc=ko("selector.test_id"),jl=ko("selector.text")}var jo=typeof WeakMap=="function"?WeakMap:Map,ee=0,Ge=null,ge=null,Ee=0,Je=0,Qi=null,Gs=!1,Zr=!1,_d=!1,zn=0,On=0,Wn=0,Fo=0,mf=0,$a=0,Da=0,Bo=null,Li=null,Io=!1,vf=0,Kc=1/0,wd=null,Jr=null,ni=0,zo=null,Xc=null,$c=0,yf=0,bf=null,Fl=null,Uo=0,xf=null;return Se.attemptContinuousHydration=function(h){if(h.tag===13){var p=dn(h,67108864);p!==null&&Ri(p,h,67108864),Ns(h,67108864)}},Se.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var p=ui();p=q(p);var S=dn(h,p);S!==null&&Ri(S,h,p),Ns(h,p)}},Se.attemptSynchronousHydration=function(h){switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var p=E(h.pendingLanes);if(p!==0){for(h.pendingLanes|=2,h.entangledLanes|=2;p;){var S=1<<31-ha(p);h.entanglements[1]|=S,p&=~S}$t(h),(ee&6)===0&&(Kc=sn()+500,re(0))}}break;case 13:p=dn(h,2),p!==null&&Ri(p,h,2),Br(),Ns(h,2)}},Se.batchedUpdates=function(h,p){return h(p)},Se.createComponentSelector=function(h){return{$$typeof:Lo,value:h}},Se.createContainer=function(h,p,S,T,N,k,Q,st,ft,Tt){return Al(h,p,!1,null,S,T,k,Q,st,ft,Tt,null)},Se.createHasPseudoClassSelector=function(h){return{$$typeof:_i,value:h}},Se.createHydrationContainer=function(h,p,S,T,N,k,Q,st,ft,Tt,Nt,It,zt){return h=Al(S,T,!0,h,N,k,st,ft,Tt,Nt,It,zt),h.context=ty(null),S=h.current,T=ui(),T=q(T),N=ro(T),N.callback=p??null,xs(S,N,T),p=T,h.current.lanes=p,z(h,p),$t(h),h},Se.createPortal=function(h,p,S){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xo,key:T==null?null:""+T,children:h,containerInfo:p,implementation:S}},Se.createRoleSelector=function(h){return{$$typeof:Vc,value:h}},Se.createTestNameSelector=function(h){return{$$typeof:Yc,value:h}},Se.createTextSelector=function(h){return{$$typeof:jl,value:h}},Se.defaultOnCaughtError=function(h){console.error(h)},Se.defaultOnRecoverableError=function(h){Te(h)},Se.defaultOnUncaughtError=function(h){Te(h)},Se.deferredUpdates=function(h){var p=te.T,S=fr();try{return di(32),te.T=null,h()}finally{di(S),te.T=p}},Se.discreteUpdates=function(h,p,S,T,N){var k=te.T,Q=fr();try{return di(2),te.T=null,h(p,S,T,N)}finally{di(Q),te.T=k,ee===0&&(Kc=sn()+500)}},Se.findAllNodes=Yu,Se.findBoundingRects=function(h,p){if(!Nc)throw Error(a(363));p=Yu(h,p),h=[];for(var S=0;S<p.length;S++)h.push(ly(p[S]));for(p=h.length-1;0<p;p--){S=h[p];for(var T=S.x,N=T+S.width,k=S.y,Q=k+S.height,st=p-1;0<=st;st--)if(p!==st){var ft=h[st],Tt=ft.x,Nt=Tt+ft.width,It=ft.y,zt=It+ft.height;if(T>=Tt&&k>=It&&N<=Nt&&Q<=zt){h.splice(p,1);break}else if(T!==Tt||S.width!==ft.width||zt<k||It>Q){if(!(k!==It||S.height!==ft.height||Nt<T||Tt>N)){Tt>T&&(ft.width+=Tt-T,ft.x=T),Nt<N&&(ft.width=N-Tt),h.splice(p,1);break}}else{It>k&&(ft.height+=It-k,ft.y=k),zt<Q&&(ft.height=Q-It),h.splice(p,1);break}}}return h},Se.findHostInstance=gg,Se.findHostInstanceWithNoPortals=function(h){return h=l(h),h=h!==null?d(h):null,h===null?null:Oc(h.stateNode)},Se.findHostInstanceWithWarning=function(h){return gg(h)},Se.flushPassiveEffects=Ya,Se.flushSyncFromReconciler=function(h){var p=ee;ee|=1;var S=te.T,T=fr();try{if(di(2),te.T=null,h)return h()}finally{di(T),te.T=S,ee=p,(ee&6)===0&&re(0)}},Se.flushSyncWork=Br,Se.focusWithin=function(h,p){if(!Nc)throw Error(a(363));for(h=Hh(h),p=Gh(h,p),p=Array.from(p),h=0;h<p.length;){var S=p[h++],T=S.tag;if(!Pc(S)){if((T===5||T===26||T===27)&&uy(S.stateNode))return!0;for(S=S.child;S!==null;)p.push(S),S=S.sibling}}return!1},Se.getFindAllNodesFailureDescription=function(h,p){if(!Nc)throw Error(a(363));var S=0,T=[];h=[Hh(h),0];for(var N=0;N<h.length;){var k=h[N++],Q=k.tag,st=h[N++],ft=p[st];if((Q!==5&&Q!==26&&Q!==27||!Pc(k))&&(Ac(k,ft)&&(T.push(Ds(ft)),st++,st>S&&(S=st)),st<p.length))for(k=k.child;k!==null;)h.push(k,st),k=k.sibling}if(S<p.length){for(h=[];S<p.length;S++)h.push(Ds(p[S]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},Se.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 27:case 5:return Oc(h.child.stateNode);default:return h.child.stateNode}},Se.injectIntoDevTools=function(){var h={bundleType:0,version:iy,rendererPackageName:Dc,currentDispatcherRef:te,reconcilerVersion:"19.1.0"};if(td!==null&&(h.rendererConfig=td),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)h=!0;else{try{Ao=p.inject(h),Ki=p}catch{}h=!!p.checkDCE}}return h},Se.isAlreadyRendering=function(){return(ee&6)!==0},Se.observeVisibleRects=function(h,p,S,T){if(!Nc)throw Error(a(363));h=Yu(h,p);var N=Jx(h,S,T).disconnect;return{disconnect:function(){N()}}},Se.shouldError=function(){return null},Se.shouldSuspend=function(){return!1},Se.startHostTransition=function(h,p,S,T){if(h.tag!==5)throw Error(a(476));var N=qi(h).queue;$p(h,N,p,da,S===null?i:function(){var k=qi(h).next.queue;return As(h,k,{},ui()),S(T)})},Se.updateContainer=function(h,p,S,T){var N=p.current,k=ui();return ey(N,k,h,p,S,T),k},Se.updateContainerSync=function(h,p,S,T){return ey(p.current,2,h,p,S,T),2},Se},e.exports.default=e.exports,Object.defineProperty(e.exports,"__esModule",{value:!0})}(UE)),UE.exports}var v7;function Kpt(){return v7||(v7=1,zE.exports=Ypt()),zE.exports}var Xpt=Kpt();const $pt=Tr(Xpt);var HE={exports:{}},Hl={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y7;function Wpt(){return y7||(y7=1,Hl.ConcurrentRoot=1,Hl.ContinuousEventPriority=8,Hl.DefaultEventPriority=32,Hl.DiscreteEventPriority=2,Hl.IdleEventPriority=268435456,Hl.LegacyRoot=0,Hl.NoEventPriority=0),Hl}var b7;function Qpt(){return b7||(b7=1,HE.exports=Wpt()),HE.exports}var Gx=Qpt(),Zpt=Oe();const x7={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let S7=!1,_7=!1;const k1=".react-konva-event",Jpt=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,tgt=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,egt={};function qx(e,t,n=egt){if(!S7&&"zIndex"in t&&(console.warn(tgt),S7=!0),!_7&&t.draggable){var i=t.x!==void 0||t.y!==void 0,a=t.onDragEnd||t.onDragMove;i&&!a&&(console.warn(Jpt),_7=!0)}for(var r in n)if(!x7[r]){var s=r.slice(0,2)==="on",l=n[r]!==t[r];if(s&&l){var c=r.substr(2).toLowerCase();c.substr(0,7)==="content"&&(c="content"+c.substr(7,1).toUpperCase()+c.substr(8)),e.off(c,n[r])}var d=!t.hasOwnProperty(r);d&&e.setAttr(r,void 0)}var f=t._useStrictMode,m={},v=!1;const y={};for(var r in t)if(!x7[r]){var s=r.slice(0,2)==="on",x=n[r]!==t[r];if(s&&x){var c=r.substr(2).toLowerCase();c.substr(0,7)==="content"&&(c="content"+c.substr(7,1).toUpperCase()+c.substr(8)),t[r]&&(y[c]=t[r])}!s&&(t[r]!==n[r]||f&&t[r]!==e.getAttr(r))&&(v=!0,m[r]=t[r])}v&&(e.setAttrs(m),Au(e));for(var c in y)e.off(c+k1),e.on(c+k1,y[c])}function Au(e){if(!Zpt.Konva.autoDrawEnabled){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}}var GE=pC();const uB={},ngt={};L1.Node.prototype._applyProps=qx;let dB=Gx.DefaultEventPriority;function igt(e,t){if(typeof t=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${t}`);return}e.add(t),Au(e)}function agt(e,t,n){let i=L1[e];i||(console.error(`Konva has no node with the type ${e}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${e}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),i=L1.Group);const a={},r={};for(var s in t)if(s!=="ref"){var l=s.slice(0,2)==="on";l?r[s]=t[s]:a[s]=t[s]}const c=new i(a);return qx(c,r),c}function rgt(e,t,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${e}"`)}function sgt(e,t,n){return!1}function ogt(e){return e}function lgt(){return null}function cgt(){return null}function ugt(e,t,n,i){return ngt}function dgt(){}function hgt(e){}function fgt(e,t){return!1}function pgt(){return uB}function ggt(){return uB}const mgt=setTimeout,vgt=clearTimeout,ygt=!0,bgt=e=>{e()},xgt=-1;function Sgt(e,t){return!1}const _gt=!1,wgt=!1,Egt=!0,Agt=!1,Cgt=!1;function Tgt(e,t){t.parent===e?t.moveToTop():e.add(t),Au(e)}function Rgt(e,t){t.parent===e?t.moveToTop():e.add(t),Au(e)}function hB(e,t,n){t._remove(),e.add(t),t.setZIndex(n.getZIndex()),Au(e)}function Mgt(e,t,n){hB(e,t,n)}function Dgt(e,t){t.destroy(),t.off(k1),Au(e)}function Ogt(e,t){t.destroy(),t.off(k1),Au(e)}function Ngt(e,t,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function Pgt(e,t,n){}function Lgt(e,t,n,i){qx(e,i,n)}function kgt(e){e.hide(),Au(e)}function jgt(e){}function Fgt(e,t){(t.visible==null||t.visible)&&e.show()}function Bgt(e,t){}function Igt(e){}function zgt(){}function Ugt(){return Gx.DefaultEventPriority}function Hgt(){}function Ggt(){return null}function qgt(e){dB=e}function Vgt(){return dB}function Ygt(){return Gx.DiscreteEventPriority}function Kgt(){return!1}function Xgt(){}function $gt(){return!1}function Wgt(){return!0}function Qgt(){}function Zgt(){}function Jgt(){return null}const tmt=null;function emt(){}const nmt=Object.freeze(Object.defineProperty({__proto__:null,NotPendingTransition:tmt,appendChild:Tgt,appendChildToContainer:Rgt,appendInitialChild:igt,cancelTimeout:vgt,clearContainer:Igt,commitMount:Pgt,commitTextUpdate:Ngt,commitUpdate:Lgt,createInstance:agt,createTextInstance:rgt,detachDeletedInstance:zgt,finalizeInitialChildren:sgt,getChildHostContext:ggt,getCurrentEventPriority:Ugt,getCurrentUpdatePriority:Vgt,getInstanceFromScope:Ggt,getPublicInstance:ogt,getRootHostContext:pgt,hideInstance:kgt,hideTextInstance:jgt,idlePriority:GE.unstable_IdlePriority,insertBefore:hB,insertInContainerBefore:Mgt,isPrimaryRenderer:_gt,maySuspendCommit:$gt,noTimeout:xgt,now:GE.unstable_now,preloadInstance:Wgt,prepareForCommit:lgt,preparePortalMount:cgt,prepareScopeUpdate:Hgt,prepareUpdate:ugt,removeChild:Dgt,removeChildFromContainer:Ogt,requestPostPaintCallback:Xgt,resetAfterCommit:dgt,resetFormInstance:emt,resetTextContent:hgt,resolveUpdatePriority:Ygt,run:GE.unstable_runWithPriority,scheduleMicrotask:bgt,scheduleTimeout:mgt,setCurrentUpdatePriority:qgt,shouldAttemptEagerTransition:Kgt,shouldDeprioritizeSubtree:fgt,shouldSetTextContent:Sgt,startSuspendingCommit:Qgt,supportsHydration:Cgt,supportsMicrotasks:ygt,supportsMutation:Egt,supportsPersistence:Agt,suspendInstance:Zgt,unhideInstance:Fgt,unhideTextInstance:Bgt,waitForCommitToBeReady:Jgt,warnsIfNotActing:wgt},Symbol.toStringTag,{value:"Module"}));function fB(e,t,n){if(!e)return;if(n(e)===!0)return e;let i=e.child;for(;i;){const a=fB(i,t,n);if(a)return a;i=i.sibling}}function pB(e){try{return Object.defineProperties(e,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return e}}const QT=pB(j.createContext(null));let gB=class extends j.Component{render(){return j.createElement(QT.Provider,{value:this._reactInternals},this.props.children)}};function imt(){const e=j.useContext(QT);if(e===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=j.useId();return j.useMemo(()=>{for(const n of[e,e?.alternate]){if(!n)continue;const i=fB(n,!1,a=>{let r=a.memoizedState;for(;r;){if(r.memoizedState===t)return!0;r=r.next}});if(i)return i}},[e,t])}const amt=Symbol.for("react.context"),rmt=e=>e!==null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===amt;function smt(){const e=imt(),[t]=j.useState(()=>new Map);t.clear();let n=e;for(;n;){const i=n.type;rmt(i)&&i!==QT&&!t.has(i)&&t.set(i,j.use(pB(i))),n=n.return}return t}function mB(){const e=smt();return j.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>i=>j.createElement(t,null,j.createElement(n.Provider,{...i,value:e.get(n)})),t=>j.createElement(gB,{...t})),[e])}if(Y.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function omt(e){const t=Y.useRef({});return Y.useLayoutEffect(()=>{t.current=e}),Y.useLayoutEffect(()=>()=>{t.current={}},[]),t.current}const lmt=()=>{const e=Y.useRef(0);return Y.useMemo(()=>{e.current++},[]),e.current>1},cmt=e=>{const t=Y.useRef(null),n=Y.useRef(null),i=Y.useRef(null),a=omt(e),r=mB(),s=Y.useRef(!1),l=d=>{const{forwardedRef:f}=e;f&&(typeof f=="function"?f(d):f.current=d)},c=lmt();return Y.useLayoutEffect(()=>s.current&&c?()=>{s.current=!1,l(null),Zf.updateContainer(null,i.current,null),n.current.destroy()}:(s.current=!0,n.current=new L1.Stage({width:e.width,height:e.height,container:t.current}),l(n.current),i.current=Zf.createContainer(n.current,Gx.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),Zf.updateContainer(Y.createElement(r,{},e.children),i.current,null,()=>{}),()=>{c||(l(null),Zf.updateContainer(null,i.current,null),n.current.destroy())}),[]),Y.useLayoutEffect(()=>{l(n.current),qx(n.current,e,a),Zf.updateContainer(Y.createElement(r,{},e.children),i.current,null)}),Y.createElement("div",{ref:t,id:e.id,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},umt="Layer",Mv="Group",th="Rect",dmt="Circle",j1="Line",ZT="Image",hmt="Text",fmt="Arrow",sc="Transformer",Zf=$pt(nmt);Zf.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:Y.version,rendererPackageName:"react-konva"});const pmt=Y.forwardRef((e,t)=>Y.createElement(gB,{},Y.createElement(cmt,{...e,forwardedRef:t})));var qE,w7;function gmt(){if(w7)return qE;w7=1;var e=il();return qE=function(n,i,a){const r=e.useRef("loading"),s=e.useRef(),[l,c]=e.useState(0),d=e.useRef(),f=e.useRef(),m=e.useRef();return(d.current!==n||f.current!==i||m.current!==a)&&(r.current="loading",s.current=void 0,d.current=n,f.current=i,m.current=a),e.useLayoutEffect(function(){if(!n)return;var v=document.createElement("img");function y(){v.decode().catch(()=>{}).finally(()=>{r.current="loaded",s.current=v,c(Math.random())})}function x(){r.current="failed",s.current=void 0,c(Math.random())}return v.addEventListener("load",y),v.addEventListener("error",x),i&&(v.crossOrigin=i),a&&(v.referrerPolicy=a),v.src=n,function(){v.removeEventListener("load",y),v.removeEventListener("error",x)}},[n,i,a]),[s.current,r.current]},qE}var mmt=gmt();const JT=Tr(mmt);function vmt(e,{zoom:t,setZoom:n,pan:i,setPan:a,tool:r}){j.useEffect(()=>{const s=e.current;if(!s)return;const l=c=>{c.evt.preventDefault();const d=1.02,f=t,m=s.getPointerPosition(),v={x:(m.x-s.x())/f,y:(m.y-s.y())/f},x=(c.evt.deltaY>0?-1:1)>0?f*d:f/d;n(x);const _={x:m.x-v.x*x,y:m.y-v.y*x};a(_)};return s.on("wheel",l),()=>{s.off("wheel",l)}},[t,n,a,e]),j.useEffect(()=>{const s=e.current;if(!s)return;s.draggable(r==="hand");const l=()=>{r==="hand"&&a({x:s.x(),y:s.y()})};return s.on("dragend",l),()=>{s.off("dragend",l)}},[r,a,e])}function ymt({autoEditTextId:e,setAutoEditTextId:t,selectedShapeId:n,selectedShapeIds:i,clearSelection:a,copyShape:r,pasteShape:s,toggleGrid:l,toggleLayersPanel:c,removeSelectedShapes:d,tool:f}){j.useEffect(()=>{const m=v=>{if(!(v.target.tagName==="INPUT"||v.target.isContentEditable||e!==null)){if((v.key==="Delete"||v.key==="Backspace")&&f==="select"){i.length>0&&d();return}if(v.ctrlKey||v.metaKey){if(v.key.toLowerCase()==="c"&&n){v.preventDefault(),r(n);return}if(v.key.toLowerCase()==="v"){v.preventDefault(),s();return}return}if(v.shiftKey&&v.key.toLowerCase()==="l"){v.preventDefault(),c(),Pt.getState().setTool("select");return}switch(v.key){case"a":Pt.getState().setTool("arrow");break;case"v":Pt.getState().setTool("select");break;case"r":Pt.getState().setTool("rect");break;case"c":Pt.getState().setTool("circle");break;case"l":Pt.getState().setTool("line");break;case"f":Pt.getState().setTool("free");break;case"t":Pt.getState().setTool("text");break;case"i":Pt.getState().setTool("image");break;case"m":Pt.getState().setTool("marker");break;case"h":Pt.getState().setTool("hand");break;case"Escape":e?t(null):i.length>0&&a();break;case"g":l();break}}};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[e,t,n,i,a,r,s,l,c,d,f])}function bmt({tool:e,layers:t,activeLayerId:n,strokeColor:i,fillColor:a,addShape:r,updateShape:s,setSelectedShape:l,saveToHistory:c,setAutoEditTextId:d,getCanvasPosition:f,useCanvasStoreRef:m}){const[v,y]=j.useState(!1),[x,_]=j.useState(null);return{isDrawing:v,currentId:x,handleMouseDown:w=>{const M=t.find(L=>L.id===n);if(M&&M.locked)return;y(!0);const D=f();let P={},z=null;switch(e){case"line":P={layerId:n,type:"line",props:{points:[D.x,D.y,D.x,D.y],stroke:i||"black",strokeWidth:2}},z=r(P),_(z);break;case"arrow":P={layerId:n,type:"arrow",props:{points:[D.x,D.y,D.x,D.y],stroke:i||"black",fill:i||"black",strokeWidth:4,pointerLength:20,pointerWidth:20}},z=r(P),_(z);break;case"rect":P={layerId:n,type:"rect",props:{x:D.x,y:D.y,width:0,height:0,fill:a||"transparent",stroke:i||"black",strokeWidth:2}},z=r(P),_(z);break;case"circle":P={layerId:n,type:"circle",props:{x:D.x,y:D.y,radius:0,fill:a||"transparent",stroke:i||"black",strokeWidth:2}},z=r(P),_(z);break;case"free":P={layerId:n,type:"free",props:{points:[D.x,D.y],stroke:i||"black",strokeWidth:2}},z=r(P),_(z);break;case"text":P={layerId:n,type:"text",props:{x:D.x,y:D.y,text:"Ingrese texto",fontSize:16,fontFamily:"Arial",fill:a||"#eee",stroke:i||"#222"}},z=r(P),d(z),setTimeout(()=>l(z),0),m&&m.getState().setTool("select");break;case"marker":P={layerId:n,type:"marker",props:{x:D.x,y:D.y,color:"red",title:"",description:"",images:[]}},z=r(P),_(z);break}},handleMouseMove:(w,M)=>{if(!v||!x)return;const D=f(),P=M?.find(I=>I.id===x);if(!P)return;const{x:z,y:L,points:U}=P.props;switch(P.type){case"free":s(x,{points:[...U,D.x,D.y]});break;case"line":s(x,{points:[U[0],U[1],D.x,D.y]});break;case"arrow":s(x,{points:[U[0],U[1],D.x,D.y]});break;case"rect":s(x,{width:D.x-z,height:D.y-L});break;case"circle":const I=Math.hypot(D.x-z,D.y-L);s(x,{radius:I});break}},handleMouseUp:()=>{v&&(y(!1),_(null),c())}}}function xmt({getCanvasPosition:e,shapes:t,layers:n,setMultipleSelection:i}){const[a,r]=j.useState(null),[s,l]=j.useState(!1);return{selectBox:a,isSelecting:s,handleStart:()=>{const m=e();l(!0),r({startX:m.x,startY:m.y,endX:m.x,endY:m.y})},handleMove:()=>{if(!s||!a)return;const m=e();r(v=>({...v,endX:m.x,endY:m.y}))},handleEnd:()=>{if(!s||!a)return;if(Math.abs(a.endX-a.startX)+Math.abs(a.endY-a.startY)>5){const v=Math.min(a.startX,a.endX),y=Math.max(a.startX,a.endX),x=Math.min(a.startY,a.endY),_=Math.max(a.startY,a.endY),E=t.filter(R=>{const A=R.props;let w,M,D,P;const z=n.find(L=>L.id===R.layerId);if(z&&z.locked)return!1;switch(R.type){case"rect":case"image":case"text":case"marker":w=A.x,M=A.x+A.width,D=A.y,P=A.y+A.height;break;case"circle":w=A.x-A.radius,M=A.x+A.radius,D=A.y-A.radius,P=A.y+A.radius;break;case"line":case"free":case"arrow":if(A.points&&A.points.length>=2){const L=A.points.filter((I,q)=>q%2===0),U=A.points.filter((I,q)=>q%2===1);w=Math.min(...L),M=Math.max(...L),D=Math.min(...U),P=Math.max(...U)}else return!1;break;default:return!1}return M>=v&&w<=y&&P>=x&&D<=_});E.length>0&&i(E.map(R=>R.id))}l(!1),r(null)}}}function Smt(){const[e,t]=j.useState(null);return{contextMenu:e,showContextMenu:(a,r)=>{const s=a.evt?a.evt.clientX:a.clientX,l=a.evt?a.evt.clientY:a.clientY;t({x:s,y:l,shapeId:r})},hideContextMenu:()=>t(null)}}function _mt({fileInputRef:e,CANVAS_WIDTH:t,CANVAS_HEIGHT:n,layers:i,activeLayerId:a,addShape:r,setSelectedShape:s,setTool:l,saveToHistory:c}){return{handleImageUpload:m=>{const v=m.target.files?.[0];if(!v)return;const y=new FileReader;y.onload=()=>{const x=y.result,_=new window.Image;_.onload=()=>{const E=t,R=n;let A=_.width,w=_.height,M=1;(A>E||w>R)&&(M=Math.min(E/A,R/w),A=A*M,w=w*M);const D={x:t/2-A/2,y:n/2-w/2},P=i.find(L=>L.id===a);if(P&&P.locked)return;const z=r({layerId:a,type:"image",props:{x:D.x,y:D.y,src:x,width:A,height:w}});setTimeout(()=>s(z),0),l&&l("select")},_.src=x},y.readAsDataURL(v),c&&c()},openImageInput:()=>{e.current&&(e.current.value="",e.current.click())}}}function wmt(e,t){if(!e.current)return{x:0,y:0};const n=e.current,i=n.getPointerPosition();if(!i)return{x:0,y:0};const a=n.getAbsoluteTransform().copy();a.invert();const r=a.point(i);return{x:r.x-(t?.x||0),y:r.y-(t?.y||0)}}function Emt({width:e=1080,height:t=720,cellSize:n=20,stroke:i="#ddd",dash:a=[2,2],enabled:r=!0}){if(!r)return null;const s=[];for(let l=0;l<=e;l+=n)s.push(F.jsx(j1,{points:[l,0,l,t],stroke:i,dash:a,listening:!1},`v-${l}`));for(let l=0;l<=t;l+=n)s.push(F.jsx(j1,{points:[0,l,e,l],stroke:i,dash:a,listening:!1},`h-${l}`));return F.jsx(Mv,{children:s})}function Amt({id:e,points:t,stroke:n,strokeWidth:i,tension:a=.5,lineCap:r="round",lineJoin:s="round",isSelected:l,isInMultiSelection:c,onSelect:d,onUpdate:f,onDragEnd:m,onContextMenu:v,draggable:y=!0,listening:x=!0,tool:_="select"}){const E=j.useRef(),R=j.useRef();j.useEffect(()=>{l&&E.current&&R.current&&(R.current.nodes([E.current]),R.current.getLayer().batchDraw())},[l]);const A=w=>{const M=E.current,D=M.scaleX(),P=M.scaleY(),z=M.rotation();if(D===0||P===0)return;const L=M.points().map((U,I)=>I%2===0?U*D:U*P);M.scaleX(1),M.scaleY(1),f({id:e,props:{points:L,x:M.x(),y:M.y(),rotation:z}})};return F.jsxs(F.Fragment,{children:[F.jsx(j1,{id:e,ref:E,points:t,stroke:n,strokeWidth:c?i+1:i,tension:a,lineCap:r,lineJoin:s,draggable:y&&(l||c),listening:x,opacity:c?.8:1,onClick:d,onTap:d,onContextMenu:v,onDragEnd:m,onTransformEnd:A,onMouseEnter:w=>{const M=w.target.getStage();x&&(M.container().style.cursor="move")},onMouseLeave:w=>{const M=w.target.getStage(),D=_||"select";M.container().style.cursor=D==="hand"?"grab":D==="select"?"default":"crosshair"}}),l&&F.jsx(sc,{ref:R,rotateEnabled:!0,boundBoxFunc:(w,M)=>Math.abs(M.width)<10||Math.abs(M.height)<10?w:M})]})}function Cmt({id:e,x:t,y:n,width:i,height:a,stroke:r="#000",fill:s="transparent",strokeWidth:l=2,isSelected:c,isInMultiSelection:d,onSelect:f,onTransformEnd:m,onDragEnd:v,rotation:y,onDoubleClick:x,onContextMenu:_,listening:E=!0,tool:R="select"}){const A=j.useRef(),w=j.useRef();return j.useEffect(()=>{c&&A.current&&w.current&&(w.current.nodes([A.current]),w.current.getLayer().batchDraw())},[c]),F.jsxs(F.Fragment,{children:[F.jsx(th,{id:e,ref:A,x:t,y:n,width:i,height:a,stroke:r,fill:s,strokeWidth:d?l+1:l,draggable:c||d,rotation:y||0,opacity:d?.8:1,onClick:f,onTap:f,onDblClick:x,onDblTap:x,onDragEnd:v||m,onTransformEnd:m,onContextMenu:_,onMouseEnter:M=>{const D=M.target.getStage();E&&(D.container().style.cursor="move")},onMouseLeave:M=>{const D=M.target.getStage(),P=R||"select";D.container().style.cursor=P==="hand"?"grab":P==="select"?"default":"crosshair"}}),c&&F.jsx(sc,{ref:w,rotateEnabled:!0,boundBoxFunc:(M,D)=>Math.abs(D.width)<10||Math.abs(D.height)<10?M:D})]})}function Tmt({id:e,x:t,y:n,radius:i,stroke:a="#000",fill:r="transparent",strokeWidth:s=2,isSelected:l,isInMultiSelection:c,onSelect:d,onTransformEnd:f,onDragEnd:m,rotation:v,onDoubleClick:y,onContextMenu:x,listening:_=!0,tool:E="select"}){const R=j.useRef(),A=j.useRef();return j.useEffect(()=>{l&&R.current&&A.current&&(A.current.nodes([R.current]),A.current.getLayer().batchDraw())},[l]),F.jsxs(F.Fragment,{children:[F.jsx(dmt,{id:e,ref:R,x:t,y:n,radius:i,stroke:a,fill:r,strokeWidth:c?s+1:s,draggable:l||c,rotation:v||0,opacity:c?.8:1,onClick:d,onTap:d,onDblClick:y,onDblTap:y,onDragEnd:m||f,onTransformEnd:f,onContextMenu:x,onMouseEnter:w=>{const M=w.target.getStage();_&&(M.container().style.cursor="move")},onMouseLeave:w=>{const M=w.target.getStage(),D=E||"select";M.container().style.cursor=D==="hand"?"grab":D==="select"?"default":"crosshair"}}),l&&F.jsx(sc,{ref:A,enabledAnchors:["top-left","top-right","bottom-left","bottom-right"],rotateEnabled:!0,boundBoxFunc:(w,M)=>Math.abs(M.width)<10||Math.abs(M.height)<10?w:M})]})}function Rmt({id:e,points:t=[0,0,100,100],x:n=0,y:i=0,stroke:a="#000",fill:r="#000",strokeWidth:s=2,tension:l=0,draggable:c=!0,rotation:d=0,isSelected:f=!1,isInMultiSelection:m=!1,onSelect:v,onDragEnd:y,onTransformEnd:x,onDoubleClick:_,onContextMenu:E,listening:R=!0,lineCap:A="round",lineJoin:w="round",tool:M="select"}){const D=j.useRef(),P=j.useRef();j.useEffect(()=>{f&&D.current&&P.current&&(P.current.nodes([D.current]),P.current.getLayer().batchDraw())},[f]);const z=Array.isArray(t)?t:[0,0,100,100];return F.jsxs(F.Fragment,{children:[F.jsx(j1,{id:e,ref:D,x:n,y:i,points:z,stroke:a,fill:r,strokeWidth:m?s+1:s,lineCap:A,lineJoin:w,tension:l,draggable:c&&(f||m),rotation:d,listening:R,opacity:m?.8:1,onClick:v,onTap:v,onDragEnd:y,onTransformEnd:x,onDblClick:_,onDblTap:_,onContextMenu:E,onMouseEnter:L=>{const U=L.target.getStage();R&&(U.container().style.cursor="move")},onMouseLeave:L=>{const U=L.target.getStage(),I=M||"select";U.container().style.cursor=I==="hand"?"grab":I==="select"?"default":"crosshair"}}),f&&F.jsx(sc,{ref:P,rotateEnabled:!0,enabledAnchors:["middle-left","middle-right","top-left","top-right","bottom-left","bottom-right","top-center","bottom-center"],boundBoxFunc:(L,U)=>Math.abs(U.width)<10?L:U})]})}var Mmt=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n};const Dmt=e=>{const t=window.getComputedStyle(e).position;return!(t==="absolute"||t==="relative")};function Omt(e=()=>{}){const t=Y.useRef(e);return t.current=e,Y.useCallback((...n)=>t.current.apply(null,n),[])}const Nmt=({children:e,groupProps:t,divProps:n,transform:i,transformFunc:a,parentNodeFunc:r})=>{const s=mB(),l=Y.useRef(null),[c]=Y.useState(()=>document.createElement("div")),d=Y.useMemo(()=>H7.createRoot(c),[c]),f=i??!0,m=Omt(()=>{if(f&&l.current){let E=l.current.getAbsoluteTransform().decompose();a&&(E=a(E)),c.style.position="absolute",c.style.zIndex="10",c.style.top="0px",c.style.left="0px",c.style.transform=`translate(${E.x}px, ${E.y}px) rotate(${E.rotation}deg) scaleX(${E.scaleX}) scaleY(${E.scaleY})`,c.style.transformOrigin="top left"}else c.style.position="",c.style.zIndex="",c.style.top="",c.style.left="",c.style.transform="",c.style.transformOrigin="";const v=n||{},{style:y}=v,x=Mmt(v,["style"]);Object.assign(c.style,y),Object.assign(c,x)});return Y.useLayoutEffect(()=>{var v;const y=l.current;if(!y)return;const x=r?r({stage:y.getStage()}):(v=y.getStage())===null||v===void 0?void 0:v.container();if(x)return x.appendChild(c),f&&Dmt(x)&&(x.style.position="relative"),y.on("absoluteTransformChange",m),m(),()=>{var _;y.off("absoluteTransformChange",m),(_=c.parentNode)===null||_===void 0||_.removeChild(c)}},[f,r]),Y.useLayoutEffect(()=>{m()},[n,a]),Y.useLayoutEffect(()=>{d.render(Y.createElement(s,null,e))}),Y.useLayoutEffect(()=>()=>{setTimeout(()=>{d.unmount()})},[]),Y.createElement(Mv,Object.assign({ref:l},t))};function Pmt({id:e,x:t,y:n,text:i,fontSize:a,fontFamily:r,fill:s,stroke:l,isSelected:c,onSelect:d,onTransformEnd:f,onChangeText:m,rotation:v,autoEdit:y,onContextMenu:x}){const _=j.useRef(),E=j.useRef(),R=j.useRef(),[A,w]=j.useState(y||!1),[M,D]=j.useState(i);j.useEffect(()=>D(i),[i]),j.useEffect(()=>{y&&w(!0)},[y]),j.useEffect(()=>{c&&R.current&&_.current&&!A&&(R.current.nodes([_.current]),R.current.getLayer().batchDraw())},[c,A]);const[P,z]=j.useState({width:100,height:40});j.useEffect(()=>{const q=document.createElement("canvas").getContext("2d");q.font=`${a||16}px ${r||"Arial"}`;const J=M.split(`
`),it=Math.max(...J.map(Z=>q.measureText(Z).width)),at=Math.max(it+16,80),et=Math.max(J.length*(a||16)*1.2+16,28);z({width:at,height:et})},[M,a,r]);const L=I=>{const q=_.current;E.current;const J=q.scaleX(),it=q.scaleY(),at=Math.max(8,(a||16)*it),et=Math.max(50,P.width*J),Z=Math.max(20,P.height*it);f&&f({target:{id:()=>e,x:()=>q.x(),y:()=>q.y(),width:()=>et,height:()=>Z,rotation:()=>q.rotation(),scaleX:()=>1,scaleY:()=>1,fontSize:()=>at}}),q.scaleX(1),q.scaleY(1),q.rotation(0)},U=()=>{w(!1),m&&M!==i&&m(e,M)};return F.jsx(F.Fragment,{children:A?F.jsx(Nmt,{children:F.jsx("textarea",{name:"INPUT",autoFocus:!0,value:M,onChange:I=>{D(I.target.value),I.target.style.height="auto",I.target.style.height=I.target.scrollHeight+"px"},onBlur:U,onKeyDown:I=>{I.key==="Enter"&&!I.shiftKey&&U(),I.key==="Escape"&&w(!1)},style:{position:"absolute",top:0,left:0,transform:`translate(${t}px, ${n}px)`,fontSize:a,fontFamily:r,color:l,background:s,border:"1px solid #aaa",padding:4,borderRadius:4,resize:"none",minWidth:80,minHeight:28,maxHeight:300,overflow:"auto",zIndex:20,outline:"none",lineHeight:1.2},rows:3,spellCheck:!1})}):F.jsxs(F.Fragment,{children:[F.jsxs(Mv,{ref:_,x:t,y:n,rotation:v||0,draggable:c,onClick:d,onTap:d,onDblClick:()=>w(!0),onDblTap:()=>w(!0),onDragEnd:I=>{const q=I.target;f&&f({target:{id:()=>e,x:()=>q.x(),y:()=>q.y(),width:()=>P.width,height:()=>P.height,rotation:()=>q.rotation(),scaleX:()=>1,scaleY:()=>1,fontSize:()=>a}})},onContextMenu:x,children:[F.jsx(th,{width:P.width,height:P.height,fillEnabled:!1,strokeEnabled:!1,listening:!0,name:"resize-box"}),F.jsx(th,{width:P.width,height:P.height,fill:s,cornerRadius:6,listening:!1}),F.jsx(hmt,{name:"INPUT",ref:E,text:M,fontSize:a,fontFamily:r,fill:l,width:P.width,height:P.height,align:"left",verticalAlign:"middle",onTransformEnd:L})]}),c&&!A&&F.jsx(sc,{ref:R,rotateEnabled:!0,boundBoxFunc:(I,q)=>Math.abs(q.width)<20||Math.abs(q.height)<20?I:q})]})})}function Lmt({id:e,src:t,x:n,y:i,width:a,height:r,isSelected:s,isInMultiSelection:l,onSelect:c,onTransformEnd:d,onDragEnd:f,onDoubleClick:m,onContextMenu:v,listening:y=!0,tool:x="select"}){const[_]=JT(t),E=Y.useRef(),R=Y.useRef();return Y.useEffect(()=>{s&&E.current&&R.current&&(R.current.nodes([E.current]),R.current.getLayer().batchDraw())},[s]),F.jsxs(F.Fragment,{children:[F.jsx(th,{x:n,y:i,width:a,height:r,fillEnabled:!1,strokeEnabled:!1,listening:!0,onClick:c,onTap:c}),F.jsx(ZT,{id:e,ref:E,image:_||void 0,x:n,y:i,width:a,height:r,draggable:s||l,opacity:l?.8:1,onClick:c,onTap:c,onDblClick:m,onDblTap:m,onDragEnd:f||d,onContextMenu:v,onTransformEnd:d,onMouseEnter:A=>{const w=A.target.getStage();y&&(w.container().style.cursor="move")},onMouseLeave:A=>{const w=A.target.getStage(),M=x||"select";w.container().style.cursor=M==="hand"?"grab":M==="select"?"default":"crosshair"}}),s&&F.jsx(sc,{ref:R,flipEnabled:!1,boundBoxFunc:(A,w)=>Math.abs(w.width)<5||Math.abs(w.height)<5?A:w})]})}function kmt(e="red",t=32){return`
    <svg xmlns="http://www.w3.org/2000/svg" width="${t}" height="${t}" viewBox="0 0 24 24" fill="none" stroke="${e}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"/>
      <circle cx="12" cy="10" r="3"/>
    </svg>
  `}function jmt({id:e,x:t,y:n,color:i="red",isSelected:a,isInMultiSelection:r,onSelect:s,onTransformEnd:l,onDragEnd:c,onDoubleClick:d,onContextMenu:f}){const m=Pt(w=>w.zoom),v=32,y=kmt(i,v),x="data:image/svg+xml;base64,"+btoa(y),[_]=JT(x),E=j.useRef(),R=j.useRef();j.useEffect(()=>{a&&E.current&&R.current&&(R.current.nodes([E.current]),R.current.getLayer().batchDraw())},[a]);const A=w=>{const M=w.target,D=M.x(),P=M.y(),z=(D+v/2)*m,L=(P+v)*m;c&&c({...w,target:{...w.target,id:()=>e,x:()=>z,y:()=>L}})};return F.jsxs(F.Fragment,{children:[F.jsx(th,{x:t-v/2,y:n-v,width:v,height:v,fillEnabled:!1,strokeEnabled:!1,listening:!0,onClick:s,onTap:s,onContextMenu:f,onDblClick:d,onDblTap:d}),F.jsx(ZT,{id:e,ref:E,image:_||void 0,x:t-v/2,y:n-v,width:v,height:v,scaleX:1/m,scaleY:1/m,draggable:a||r,opacity:r?.8:1,onClick:s,onTap:s,onDblClick:d,onDblTap:d,onDragEnd:A,onContextMenu:f,onMouseEnter:w=>{const M=w.target.getStage();M.container().style.cursor="move"},onMouseLeave:w=>{const M=w.target.getStage();M.container().style.cursor="default"}}),a&&F.jsx(sc,{ref:R,enabledAnchors:[],rotateEnabled:!0})]})}function Fmt({id:e,points:t=[0,0,100,100],x:n=0,y:i=0,stroke:a="#222",fill:r="#222",strokeWidth:s=4,pointerLength:l=20,pointerWidth:c=20,tension:d=0,draggable:f=!0,rotation:m=0,isSelected:v=!1,isInMultiSelection:y=!1,onSelect:x,onDragEnd:_,onTransformEnd:E,onDoubleClick:R,onContextMenu:A,listening:w=!0,tool:M="select"}){const D=j.useRef(),P=j.useRef();return j.useEffect(()=>{v&&D.current&&P.current&&(P.current.nodes([D.current]),P.current.getLayer().batchDraw())},[v]),F.jsxs(F.Fragment,{children:[F.jsx(fmt,{id:e,ref:D,x:n,y:i,points:t,stroke:a,fill:r,strokeWidth:y?s+1:s,pointerLength:l,pointerWidth:c,tension:d,draggable:f&&(v||y),rotation:m,listening:w,opacity:y?.8:1,onClick:x,onTap:x,onDragEnd:_,onTransformEnd:E,onDblClick:R,onDblTap:R,onContextMenu:A,onMouseEnter:z=>{const L=z.target.getStage();w&&(L.container().style.cursor="move")},onMouseLeave:z=>{const L=z.target.getStage(),U=M||"select";L.container().style.cursor=U==="hand"?"grab":U==="select"?"default":"crosshair"}}),v&&F.jsx(sc,{ref:P,rotateEnabled:!0,enabledAnchors:["middle-left","middle-right"],boundBoxFunc:(z,L)=>L})]})}function Bmt({layers:e,shapes:t,selectedShapeIds:n,tool:i,toggleSelection:a,setSelectedShape:r,handleTransformEnd:s,handleShapeDragEnd:l,handleShapeDoubleClick:c,setContextMenu:d,autoEditTextId:f,updateShape:m}){return F.jsx(F.Fragment,{children:e.map(v=>{if(!v.visible)return null;const y=v.locked,x=t.filter(_=>_.layerId===v.id&&_.visible!==!1);return x.length===0?null:F.jsx(Mv,{opacity:v.opacity??1,listening:!y,children:x.map(_=>{const E=y;let R=null;const A=D=>{i!=="select"||E||(R=setTimeout(()=>{d(D,_.id)},420))},w=()=>clearTimeout(R),M={id:_.id,..._.props,tool:i,isSelected:n.includes(_.id)&&n.length===1,isInMultiSelection:n.includes(_.id)&&n.length>1,onSelect:D=>{i==="select"&&!E&&(D&&(D.evt.ctrlKey||D.evt.metaKey)?a(_.id):r(_.id))},onTransformEnd:s,onDragEnd:l,onDoubleClick:()=>c(_.id),draggable:!E&&n.includes(_.id),listening:i==="select"&&!E,isLocked:E,onContextMenu:D=>{i==="select"&&(D.evt.preventDefault(),d(D,_.id))},onTouchStart:A,onTouchEnd:w,onTouchMove:w};switch(_.type){case"free":return F.jsx(Amt,{onUpdate:({id:D,props:P})=>m(D,P),...M},_.id);case"line":return F.jsx(Rmt,{...M},_.id);case"arrow":return F.jsx(Fmt,{...M},_.id);case"rect":return F.jsx(Cmt,{...M},_.id);case"circle":return F.jsx(Tmt,{...M},_.id);case"text":return F.jsx(Pmt,{...M,autoEdit:_.id===f,onChangeText:(D,P)=>{m(D,{text:P})}},_.id);case"image":return F.jsx(Lmt,{...M},_.id);case"marker":return F.jsx(jmt,{...M},_.id);default:return null}})},v.id)})})}function Imt({contextMenu:e,onBringToFront:t,onSendToBack:n,onBringForward:i,onSendBackward:a,onCopy:r,onPaste:s,onDelete:l,clipboardShape:c,onClose:d,onReplace:f}){const m=j.useRef(null),[v,y]=j.useState({top:0,left:0});if(j.useEffect(()=>{e&&setTimeout(()=>{const E=m.current;if(!E)return;const{innerWidth:R,innerHeight:A}=window,w=E.getBoundingClientRect();let M=e.x,D=e.y;M+w.width>R-8&&(M=R-w.width-8),D+w.height>A-8&&(D=A-w.height-8),D<8&&(D=8),M<8&&(M=8),y({top:D,left:M})},0)},[e]),j.useEffect(()=>{const E=R=>{R.key==="Escape"&&d()};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[d]),j.useEffect(()=>{const E=R=>{m.current&&!m.current.contains(R.target)&&d()};return window.addEventListener("mousedown",E),window.addEventListener("touchstart",E),window.addEventListener("scroll",d,!0),()=>{window.removeEventListener("mousedown",E),window.removeEventListener("touchstart",E),window.removeEventListener("scroll",d,!0)}},[d]),j.useEffect(()=>{m.current?.focus()},[e]),!e)return null;const x="animate-fade-in duration-150 transition-all ease-in-out",_=[{label:"Copiar",icon:rN,action:()=>r(e.shapeId),shortcut:"Ctrl+C"},c?{label:"Pegar",icon:t4,action:()=>s(e.shapeId),shortcut:"Ctrl+V"}:null,c?{label:"Reemplazar",icon:t4,action:()=>f(e.shapeId),shortcut:"Ctrl+R",disabled:!c}:null,{label:"Eliminar",icon:EC,action:()=>l(e.shapeId),shortcut:"Del",className:"text-red-600 dark:text-red-400"},{type:"divider"},{label:"Traer al frente",icon:cU,action:()=>t(e.shapeId)},{label:"Enviar al fondo",icon:iU,action:()=>n(e.shapeId)},{label:"Subir",icon:dU,action:()=>i(e.shapeId)},{label:"Bajar",icon:rU,action:()=>a(e.shapeId)}].filter(Boolean);return F.jsx("div",{ref:m,tabIndex:-1,className:`
        fixed z-[9999] min-w-48 px-2 py-2 rounded-2xl
        border border-slate-200 dark:border-slate-700
        bg-white/90 dark:bg-slate-900/90
        shadow-xl shadow-black/10
        ring-1 ring-slate-300/70 dark:ring-slate-800/50
        backdrop-blur-md
        ${x}
        select-none
      `,style:{top:v.top,left:v.left,outline:"none",position:"fixed"},children:F.jsx("div",{className:"flex flex-col gap-0.5",children:_.map((E,R)=>E.type==="divider"?F.jsx("div",{className:"my-1 border-t border-slate-200 dark:border-slate-700"},"divider-"+R):F.jsxs("button",{className:`
                w-full text-left flex items-center gap-2
                px-4 py-2
                rounded-lg
                text-[15px] font-medium
                hover:bg-blue-50 dark:hover:bg-slate-500
                focus:bg-blue-100 dark:focus:bg-blue-900
                transition-colors
                ${E.className||"text-slate-700 dark:text-slate-200"}
              `,onMouseDown:A=>{A.preventDefault(),E.disabled||(E.action(),d())},disabled:E.disabled,children:[F.jsx(E.icon,{size:18,className:"opacity-80"}),F.jsx("span",{className:"flex-1",children:E.label}),E.shortcut&&F.jsx("span",{className:"text-xs opacity-60",children:E.shortcut})]},E.label))})})}if(typeof window<"u"&&!window.__contextmenu_fadein_css){const e=document.createElement("style");e.textContent=`
    @keyframes fade-in {
      from { opacity: 0; transform: scale(0.96);}
      to   { opacity: 1; transform: scale(1);}
    }
    .animate-fade-in { animation: fade-in 0.18s cubic-bezier(.4,0,.2,1) both; }
  `,document.head.appendChild(e),window.__contextmenu_fadein_css=!0}function zmt({selectBox:e}){if(!e)return null;const t=Math.min(e.startX,e.endX),n=Math.min(e.startY,e.endY),i=Math.abs(e.endX-e.startX),a=Math.abs(e.endY-e.startY);return F.jsx(th,{x:t,y:n,width:i,height:a,fill:"rgba(173, 216, 230, 0.2)",stroke:"rgba(70, 130, 180, 0.8)",strokeWidth:1,dash:[2,2],listening:!1})}function Umt({transformerRef:e,enabled:t=!0,...n}){return t?F.jsx(sc,{ref:e,rotateEnabled:!0,enabledAnchors:["top-left","top-center","top-right","middle-right","bottom-right","bottom-center","bottom-left","middle-left"],boundBoxFunc:(i,a)=>Math.abs(a.width)<10||Math.abs(a.height)<10?i:a,...n}):null}function hh(e,t,n,i){function a(r){return r instanceof n?r:new n(function(s){s(r)})}return new(n||(n=Promise))(function(r,s){function l(f){try{d(i.next(f))}catch(m){s(m)}}function c(f){try{d(i.throw(f))}catch(m){s(m)}}function d(f){f.done?r(f.value):a(f.value).then(l,c)}d((i=i.apply(e,t||[])).next())})}const Hmt=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function yp(e,t,n){const i=Gmt(e),{webkitRelativePath:a}=e,r=typeof t=="string"?t:typeof a=="string"&&a.length>0?a:`./${e.name}`;return typeof i.path!="string"&&E7(i,"path",r),E7(i,"relativePath",r),i}function Gmt(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const i=t.split(".").pop().toLowerCase(),a=Hmt.get(i);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}function E7(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const qmt=[".DS_Store","Thumbs.db"];function Vmt(e){return hh(this,void 0,void 0,function*(){return F1(e)&&Ymt(e.dataTransfer)?Wmt(e.dataTransfer,e.type):Kmt(e)?Xmt(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?$mt(e):[]})}function Ymt(e){return F1(e)}function Kmt(e){return F1(e)&&F1(e.target)}function F1(e){return typeof e=="object"&&e!==null}function Xmt(e){return oC(e.target.files).map(t=>yp(t))}function $mt(e){return hh(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>yp(n))})}function Wmt(e,t){return hh(this,void 0,void 0,function*(){if(e.items){const n=oC(e.items).filter(a=>a.kind==="file");if(t!=="drop")return n;const i=yield Promise.all(n.map(Qmt));return A7(vB(i))}return A7(oC(e.files).map(n=>yp(n)))})}function A7(e){return e.filter(t=>qmt.indexOf(t.name)===-1)}function oC(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const i=e[n];t.push(i)}return t}function Qmt(e){if(typeof e.webkitGetAsEntry!="function")return C7(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?yB(t):C7(e,t)}function vB(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?vB(n):[n]],[])}function C7(e,t){return hh(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const r=yield e.getAsFileSystemHandle();if(r===null)throw new Error(`${e} is not a File`);if(r!==void 0){const s=yield r.getFile();return s.handle=r,yp(s)}}const i=e.getAsFile();if(!i)throw new Error(`${e} is not a File`);return yp(i,(n=t?.fullPath)!==null&&n!==void 0?n:void 0)})}function Zmt(e){return hh(this,void 0,void 0,function*(){return e.isDirectory?yB(e):Jmt(e)})}function yB(e){const t=e.createReader();return new Promise((n,i)=>{const a=[];function r(){t.readEntries(s=>hh(this,void 0,void 0,function*(){if(s.length){const l=Promise.all(s.map(Zmt));a.push(l),r()}else try{const l=yield Promise.all(a);n(l)}catch(l){i(l)}}),s=>{i(s)})}r()})}function Jmt(e){return hh(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(i=>{const a=yp(i,e.fullPath);t(a)},i=>{n(i)})})})}var Ob={},T7;function t0t(){return T7||(T7=1,Ob.__esModule=!0,Ob.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var i=e.name||"",a=(e.type||"").toLowerCase(),r=a.replace(/\/.*$/,"");return n.some(function(s){var l=s.trim().toLowerCase();return l.charAt(0)==="."?i.toLowerCase().endsWith(l):l.endsWith("/*")?r===l.replace(/\/.*$/,""):a===l})}return!0}),Ob}var e0t=t0t();const VE=Tr(e0t);function R7(e){return a0t(e)||i0t(e)||xB(e)||n0t()}function n0t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i0t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a0t(e){if(Array.isArray(e))return lC(e)}function M7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,i)}return n}function D7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M7(Object(n),!0).forEach(function(i){bB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M7(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function bB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iv(e,t){return o0t(e)||s0t(e,t)||xB(e,t)||r0t()}function r0t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xB(e,t){if(e){if(typeof e=="string")return lC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lC(e,t)}}function lC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function s0t(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],a=!0,r=!1,s,l;try{for(n=n.call(e);!(a=(s=n.next()).done)&&(i.push(s.value),!(t&&i.length===t));a=!0);}catch(c){r=!0,l=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(r)throw l}}return i}}function o0t(e){if(Array.isArray(e))return e}var l0t=typeof VE=="function"?VE:VE.default,c0t="file-invalid-type",u0t="file-too-large",d0t="file-too-small",h0t="too-many-files",f0t=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),i=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:c0t,message:"File type must be ".concat(i)}},O7=function(t){return{code:u0t,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},N7=function(t){return{code:d0t,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},p0t={code:h0t,message:"Too many files"};function SB(e,t){var n=e.type==="application/x-moz-file"||l0t(e,t);return[n,n?null:f0t(t)]}function _B(e,t,n){if(Od(e.size))if(Od(t)&&Od(n)){if(e.size>n)return[!1,O7(n)];if(e.size<t)return[!1,N7(t)]}else{if(Od(t)&&e.size<t)return[!1,N7(t)];if(Od(n)&&e.size>n)return[!1,O7(n)]}return[!0,null]}function Od(e){return e!=null}function g0t(e){var t=e.files,n=e.accept,i=e.minSize,a=e.maxSize,r=e.multiple,s=e.maxFiles,l=e.validator;return!r&&t.length>1||r&&s>=1&&t.length>s?!1:t.every(function(c){var d=SB(c,n),f=iv(d,1),m=f[0],v=_B(c,i,a),y=iv(v,1),x=y[0],_=l?l(c):null;return m&&x&&!_})}function B1(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Nb(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function P7(e){e.preventDefault()}function m0t(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function v0t(e){return e.indexOf("Edge/")!==-1}function y0t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return m0t(e)||v0t(e)}function Xo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){for(var a=arguments.length,r=new Array(a>1?a-1:0),s=1;s<a;s++)r[s-1]=arguments[s];return t.some(function(l){return!B1(i)&&l&&l.apply(void 0,[i].concat(r)),B1(i)})}}function b0t(){return"showOpenFilePicker"in window}function x0t(e){if(Od(e)){var t=Object.entries(e).filter(function(n){var i=iv(n,2),a=i[0],r=i[1],s=!0;return wB(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(r)||!r.every(EB))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,i){var a=iv(i,2),r=a[0],s=a[1];return D7(D7({},n),{},bB({},r,s))},{});return[{description:"Files",accept:t}]}return e}function S0t(e){if(Od(e))return Object.entries(e).reduce(function(t,n){var i=iv(n,2),a=i[0],r=i[1];return[].concat(R7(t),[a],R7(r))},[]).filter(function(t){return wB(t)||EB(t)}).join(",")}function _0t(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function w0t(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function wB(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function EB(e){return/^.*\.[\w]+$/.test(e)}var E0t=["children"],A0t=["open"],C0t=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],T0t=["refKey","onChange","onClick"];function R0t(e){return O0t(e)||D0t(e)||AB(e)||M0t()}function M0t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D0t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function O0t(e){if(Array.isArray(e))return cC(e)}function YE(e,t){return L0t(e)||P0t(e,t)||AB(e,t)||N0t()}function N0t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AB(e,t){if(e){if(typeof e=="string")return cC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cC(e,t)}}function cC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function P0t(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],a=!0,r=!1,s,l;try{for(n=n.call(e);!(a=(s=n.next()).done)&&(i.push(s.value),!(t&&i.length===t));a=!0);}catch(c){r=!0,l=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(r)throw l}}return i}}function L0t(e){if(Array.isArray(e))return e}function L7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,i)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L7(Object(n),!0).forEach(function(i){uC(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L7(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function uC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I1(e,t){if(e==null)return{};var n=k0t(e,t),i,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function k0t(e,t){if(e==null)return{};var n={},i=Object.keys(e),a,r;for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var t5=j.forwardRef(function(e,t){var n=e.children,i=I1(e,E0t),a=TB(i),r=a.open,s=I1(a,A0t);return j.useImperativeHandle(t,function(){return{open:r}},[r]),Y.createElement(j.Fragment,null,n(Hn(Hn({},s),{},{open:r})))});t5.displayName="Dropzone";var CB={disabled:!1,getFilesFromEvent:Vmt,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};t5.defaultProps=CB;t5.propTypes={children:St.func,accept:St.objectOf(St.arrayOf(St.string)),multiple:St.bool,preventDropOnDocument:St.bool,noClick:St.bool,noKeyboard:St.bool,noDrag:St.bool,noDragEventsBubbling:St.bool,minSize:St.number,maxSize:St.number,maxFiles:St.number,disabled:St.bool,getFilesFromEvent:St.func,onFileDialogCancel:St.func,onFileDialogOpen:St.func,useFsAccessApi:St.bool,autoFocus:St.bool,onDragEnter:St.func,onDragLeave:St.func,onDragOver:St.func,onDrop:St.func,onDropAccepted:St.func,onDropRejected:St.func,onError:St.func,validator:St.func};var dC={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function TB(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Hn(Hn({},CB),e),n=t.accept,i=t.disabled,a=t.getFilesFromEvent,r=t.maxSize,s=t.minSize,l=t.multiple,c=t.maxFiles,d=t.onDragEnter,f=t.onDragLeave,m=t.onDragOver,v=t.onDrop,y=t.onDropAccepted,x=t.onDropRejected,_=t.onFileDialogCancel,E=t.onFileDialogOpen,R=t.useFsAccessApi,A=t.autoFocus,w=t.preventDropOnDocument,M=t.noClick,D=t.noKeyboard,P=t.noDrag,z=t.noDragEventsBubbling,L=t.onError,U=t.validator,I=j.useMemo(function(){return S0t(n)},[n]),q=j.useMemo(function(){return x0t(n)},[n]),J=j.useMemo(function(){return typeof E=="function"?E:k7},[E]),it=j.useMemo(function(){return typeof _=="function"?_:k7},[_]),at=j.useRef(null),et=j.useRef(null),Z=j.useReducer(j0t,dC),B=YE(Z,2),V=B[0],W=B[1],H=V.isFocused,K=V.isFileDialogActive,nt=j.useRef(typeof window<"u"&&window.isSecureContext&&R&&b0t()),$=function(){!nt.current&&K&&setTimeout(function(){if(et.current){var Ut=et.current.files;Ut.length||(W({type:"closeDialog"}),it())}},300)};j.useEffect(function(){return window.addEventListener("focus",$,!1),function(){window.removeEventListener("focus",$,!1)}},[et,K,it,nt]);var lt=j.useRef([]),yt=function(Ut){at.current&&at.current.contains(Ut.target)||(Ut.preventDefault(),lt.current=[])};j.useEffect(function(){return w&&(document.addEventListener("dragover",P7,!1),document.addEventListener("drop",yt,!1)),function(){w&&(document.removeEventListener("dragover",P7),document.removeEventListener("drop",yt))}},[at,w]),j.useEffect(function(){return!i&&A&&at.current&&at.current.focus(),function(){}},[at,A,i]);var ot=j.useCallback(function(Ot){L?L(Ot):console.error(Ot)},[L]),tt=j.useCallback(function(Ot){Ot.preventDefault(),Ot.persist(),un(Ot),lt.current=[].concat(R0t(lt.current),[Ot.target]),Nb(Ot)&&Promise.resolve(a(Ot)).then(function(Ut){if(!(B1(Ot)&&!z)){var ie=Ut.length,$t=ie>0&&g0t({files:Ut,accept:I,minSize:s,maxSize:r,multiple:l,maxFiles:c,validator:U}),re=ie>0&&!$t;W({isDragAccept:$t,isDragReject:re,isDragActive:!0,type:"setDraggedFiles"}),d&&d(Ot)}}).catch(function(Ut){return ot(Ut)})},[a,d,ot,z,I,s,r,l,c,U]),ut=j.useCallback(function(Ot){Ot.preventDefault(),Ot.persist(),un(Ot);var Ut=Nb(Ot);if(Ut&&Ot.dataTransfer)try{Ot.dataTransfer.dropEffect="copy"}catch{}return Ut&&m&&m(Ot),!1},[m,z]),Et=j.useCallback(function(Ot){Ot.preventDefault(),Ot.persist(),un(Ot);var Ut=lt.current.filter(function($t){return at.current&&at.current.contains($t)}),ie=Ut.indexOf(Ot.target);ie!==-1&&Ut.splice(ie,1),lt.current=Ut,!(Ut.length>0)&&(W({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Nb(Ot)&&f&&f(Ot))},[at,f,z]),Dt=j.useCallback(function(Ot,Ut){var ie=[],$t=[];Ot.forEach(function(re){var Ne=SB(re,I),nn=YE(Ne,2),_n=nn[0],yi=nn[1],Rn=_B(re,s,r),Mt=YE(Rn,2),Vt=Mt[0],tn=Mt[1],An=U?U(re):null;if(_n&&Vt&&!An)ie.push(re);else{var Rr=[yi,tn];An&&(Rr=Rr.concat(An)),$t.push({file:re,errors:Rr.filter(function(ms){return ms})})}}),(!l&&ie.length>1||l&&c>=1&&ie.length>c)&&(ie.forEach(function(re){$t.push({file:re,errors:[p0t]})}),ie.splice(0)),W({acceptedFiles:ie,fileRejections:$t,isDragReject:$t.length>0,type:"setFiles"}),v&&v(ie,$t,Ut),$t.length>0&&x&&x($t,Ut),ie.length>0&&y&&y(ie,Ut)},[W,l,I,s,r,c,v,y,x,U]),jt=j.useCallback(function(Ot){Ot.preventDefault(),Ot.persist(),un(Ot),lt.current=[],Nb(Ot)&&Promise.resolve(a(Ot)).then(function(Ut){B1(Ot)&&!z||Dt(Ut,Ot)}).catch(function(Ut){return ot(Ut)}),W({type:"reset"})},[a,Dt,ot,z]),Bt=j.useCallback(function(){if(nt.current){W({type:"openDialog"}),J();var Ot={multiple:l,types:q};window.showOpenFilePicker(Ot).then(function(Ut){return a(Ut)}).then(function(Ut){Dt(Ut,null),W({type:"closeDialog"})}).catch(function(Ut){_0t(Ut)?(it(Ut),W({type:"closeDialog"})):w0t(Ut)?(nt.current=!1,et.current?(et.current.value=null,et.current.click()):ot(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ot(Ut)});return}et.current&&(W({type:"openDialog"}),J(),et.current.value=null,et.current.click())},[W,J,it,R,Dt,ot,q,l]),Ht=j.useCallback(function(Ot){!at.current||!at.current.isEqualNode(Ot.target)||(Ot.key===" "||Ot.key==="Enter"||Ot.keyCode===32||Ot.keyCode===13)&&(Ot.preventDefault(),Bt())},[at,Bt]),pe=j.useCallback(function(){W({type:"focus"})},[]),Lt=j.useCallback(function(){W({type:"blur"})},[]),Re=j.useCallback(function(){M||(y0t()?setTimeout(Bt,0):Bt())},[M,Bt]),Ft=function(Ut){return i?null:Ut},Ce=function(Ut){return D?null:Ft(Ut)},cn=function(Ut){return P?null:Ft(Ut)},un=function(Ut){z&&Ut.stopPropagation()},Sn=j.useMemo(function(){return function(){var Ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ut=Ot.refKey,ie=Ut===void 0?"ref":Ut,$t=Ot.role,re=Ot.onKeyDown,Ne=Ot.onFocus,nn=Ot.onBlur,_n=Ot.onClick,yi=Ot.onDragEnter,Rn=Ot.onDragOver,Mt=Ot.onDragLeave,Vt=Ot.onDrop,tn=I1(Ot,C0t);return Hn(Hn(uC({onKeyDown:Ce(Xo(re,Ht)),onFocus:Ce(Xo(Ne,pe)),onBlur:Ce(Xo(nn,Lt)),onClick:Ft(Xo(_n,Re)),onDragEnter:cn(Xo(yi,tt)),onDragOver:cn(Xo(Rn,ut)),onDragLeave:cn(Xo(Mt,Et)),onDrop:cn(Xo(Vt,jt)),role:typeof $t=="string"&&$t!==""?$t:"presentation"},ie,at),!i&&!D?{tabIndex:0}:{}),tn)}},[at,Ht,pe,Lt,Re,tt,ut,Et,jt,D,P,i]),Zt=j.useCallback(function(Ot){Ot.stopPropagation()},[]),Me=j.useMemo(function(){return function(){var Ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ut=Ot.refKey,ie=Ut===void 0?"ref":Ut,$t=Ot.onChange,re=Ot.onClick,Ne=I1(Ot,T0t),nn=uC({accept:I,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Ft(Xo($t,jt)),onClick:Ft(Xo(re,Zt)),tabIndex:-1},ie,et);return Hn(Hn({},nn),Ne)}},[et,n,l,jt,i]);return Hn(Hn({},V),{},{isFocused:H&&!i,getRootProps:Sn,getInputProps:Me,rootRef:at,inputRef:et,open:Ft(Bt)})}function j0t(e,t){switch(t.type){case"focus":return Hn(Hn({},e),{},{isFocused:!0});case"blur":return Hn(Hn({},e),{},{isFocused:!1});case"openDialog":return Hn(Hn({},dC),{},{isFileDialogActive:!0});case"closeDialog":return Hn(Hn({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Hn(Hn({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Hn(Hn({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Hn({},dC);default:return e}}function k7(){}function F0t({shapeId:e,onClose:t}){const n=Pt(R=>R.updateShape),a=Pt(R=>R.shapes).find(R=>R.id===e&&R.type==="marker"),[r,s]=j.useState(""),[l,c]=j.useState(""),[d,f]=j.useState([]),[m,v]=j.useState("#FF4D4F");j.useEffect(()=>{a&&(s(a.props.title||""),c(a.props.description||""),f(a.props.images||[]),v(a.props.color||"#FF4D4F"))},[a]);const y=R=>{R.forEach(A=>{const w=new FileReader;w.onload=()=>{f(M=>[...M,w.result])},w.readAsDataURL(A)})},{getRootProps:x,getInputProps:_}=TB({onDrop:y}),E=()=>{n(e,{props:{...a.props,title:r,description:l,images:d,color:m}}),t()};return a?F.jsx(y3,{isOpen:!!a,onClose:t,title:"Editar Marcador",children:F.jsxs("div",{className:"space-y-4",children:[F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium",children:"Color del marcador"}),F.jsx(S1,{icon:_C,color:m,onChange:v,label:"Color del marcador"})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium",children:"Título"}),F.jsx("input",{value:r,onChange:R=>s(R.target.value),className:"w-full border rounded p-2"})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium",children:"Descripción"}),F.jsx("textarea",{value:l,onChange:R=>c(R.target.value),className:"w-full border rounded p-2",rows:3})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium",children:"Imágenes"}),F.jsxs("div",{...x(),className:"border-dashed border-2 border-gray-300 rounded p-4 text-center cursor-pointer",children:[F.jsx("input",{..._()}),F.jsx("p",{children:"Arrastra o haz click para subir imágenes"})]}),F.jsx("div",{className:"mt-2 grid grid-cols-3 gap-2",children:d.map((R,A)=>F.jsx("img",{src:R,alt:`preview-${A}`,className:"w-full h-24 object-cover rounded"},A))})]}),F.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[F.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 rounded",children:"Cancelar"}),F.jsx("button",{onClick:E,className:"px-4 py-2 bg-blue-500 text-white rounded",children:"Guardar"})]})]})}):null}function B0t(){const e=j.useRef(null),t=j.useRef(null),n=j.useRef(null),i=j.useRef(null),[a,r]=j.useState({width:0,height:0}),[s,l]=j.useState(null),[c,d]=j.useState(null),{zoom:f,pan:m,setZoom:v,setPan:y,gridEnabled:x,strokeColor:_,fillColor:E,shapes:R,layers:A,activeLayerId:w,tool:M,backgroundColor:D,setSelectedShape:P,addShape:z,updateShape:L,toggleGrid:U,toggleLayersPanel:I,saveToHistory:q,backgroundImage:J,canvasWidth:it,canvasHeight:at}=Pt(),et=Pt(Mt=>Mt.selectedShapeId),Z=Pt(Mt=>Mt.selectedShapeIds),B=Pt(Mt=>Mt.toggleSelection),V=Pt(Mt=>Mt.clearSelection),W=Pt(Mt=>Mt.setMultipleSelection),H=Pt(Mt=>Mt.removeSelectedShapes),K=Pt(Mt=>Mt.copyShape),nt=Pt(Mt=>Mt.pasteShape),$=Pt(Mt=>Mt.removeShape),lt=Pt(Mt=>Mt.clipboardShape),yt=Pt(Mt=>Mt.replaceShape),{contextMenu:ot,showContextMenu:tt,hideContextMenu:ut}=Smt(),Et={x:(a.width-it)/2,y:(a.height-at)/2},[Dt]=JT(J||""),jt=()=>wmt(t,Et);vmt(t,{zoom:f,setZoom:v,pan:m,setPan:y,tool:M});const{handleImageUpload:Bt,openImageInput:Ht}=_mt({fileInputRef:n,CANVAS_WIDTH:it,CANVAS_HEIGHT:at,layers:A,activeLayerId:w,addShape:z,setSelectedShape:P,setTool:Pt.getState().setTool,saveToHistory:q});ymt({autoEditTextId:s,setAutoEditTextId:l,selectedShapeId:et,selectedShapeIds:Z,clearSelection:V,copyShape:K,pasteShape:nt,toggleGrid:U,toggleLayersPanel:I,removeSelectedShapes:H,tool:M});const{isDrawing:pe,handleMouseDown:Lt,handleMouseMove:Re,handleMouseUp:Ft}=bmt({tool:M,layers:A,activeLayerId:w,strokeColor:_,fillColor:E,addShape:z,updateShape:L,setSelectedShape:P,saveToHistory:q,setAutoEditTextId:l,getCanvasPosition:jt,useCanvasStoreRef:Pt}),{selectBox:Ce,isSelecting:cn,handleStart:un,handleMove:Sn,handleEnd:Zt}=xmt({getCanvasPosition:jt,shapes:R,layers:A,setMultipleSelection:W});j.useEffect(()=>{if(!(!t.current||!i.current))if(Z.length>1){const Mt=Z.map(Vt=>t.current.findOne(`#${Vt}`)).filter(Boolean);Mt.length>1&&(i.current.nodes(Mt),i.current.getLayer().batchDraw())}else i.current.nodes([])},[Z]),j.useEffect(()=>{const Mt=()=>{if(!e.current)return;const Vt=e.current.clientWidth,tn=e.current.clientHeight;r({width:Vt,height:tn}),y({x:0,y:0}),v(1)};return Mt(),window.addEventListener("resize",Mt),()=>window.removeEventListener("resize",Mt)},[y,v]),j.useEffect(()=>{const Mt=e.current;if(!Mt)return;const Vt=tn=>tn.preventDefault();return Mt.addEventListener("touchmove",Vt,{passive:!1}),()=>Mt.removeEventListener("touchmove",Vt)},[]),j.useEffect(()=>{M==="image"&&Ht()},[M,Ht]),j.useEffect(()=>{c&&!R.find(Mt=>Mt.id===c)&&d(null)},[R,c]);const Me=Mt=>{ot&&ut();const Vt=["Arrow","Rect","Circle","Line","Text","Image","FreeDraw","Marker","Group"],tn=Mt.target.getClassName&&(Vt.includes(Mt.target.getClassName())||Mt.target.getParent()?.getClassName()==="Group");if(M==="select"&&tn)return;const An=Mt.target===Mt.target.getStage()||Mt.target.id&&Mt.target.id()==="background-rect";M==="select"&&An?!Mt.evt.ctrlKey&&!Mt.evt.metaKey&&(V(),un()):M!=="select"&&Lt(Mt)},Ot=Mt=>{M==="select"?Sn():pe&&Re(Mt,R)},Ut=()=>{M==="select"&&Zt(),pe&&Ft()},ie=Mt=>{const Vt=Mt.target;if(!Vt||typeof Vt.id!="function")return;const tn=Vt.id(),An=R.find(ys=>ys.id===tn);if(!An)return;const Rr=A.find(ys=>ys.id===An.layerId);if(Rr&&Rr.locked)return;const zi=Vt.scaleX(),Mr=Vt.scaleY(),Ui=Vt.rotation(),vs=Vt.x(),Ua=Vt.y();switch(An.type){case"arrow":const ys={x:vs,y:Ua,points:An.props.points.map((Jn,dn)=>dn%2===0?Jn*zi:Jn*Mr),rotation:Ui};L(tn,ys),Vt.scaleX(1),Vt.scaleY(1),Vt.rotation(0);break;case"line":const oc={x:vs,y:Ua,points:An.props.points.map((Jn,dn)=>dn%2===0?Jn*zi:Jn*Mr),rotation:Ui};L(tn,oc),Vt.scaleX(1),Vt.scaleY(1),Vt.rotation(0);break;case"freeDraw":const lc={x:vs,y:Ua,points:An.props.points.map((Jn,dn)=>dn%2===0?Jn*zi:Jn*Mr),rotation:Ui};L(tn,lc),Vt.scaleX(1),Vt.scaleY(1),Vt.rotation(0);break;case"rect":case"image":case"marker":const sl={x:vs,y:Ua,width:Math.max(5,Vt.width()*zi),height:Math.max(5,Vt.height()*Mr),rotation:Ui};L(tn,sl),Vt.scaleX(1),Vt.scaleY(1),Vt.rotation(0);break;case"text":const cc={x:vs,y:Ua,width:Math.max(50,Vt.width()*zi),height:Math.max(20,Vt.height()*Mr),fontSize:Math.max(8,(An.props.fontSize||16)*zi),rotation:Ui};L(tn,cc),Vt.scaleX(1),Vt.scaleY(1),Vt.rotation(0);break;case"circle":L(tn,{x:vs,y:Ua,radius:Math.max(5,An.props.radius*zi),rotation:Ui}),Vt.scaleX(1),Vt.scaleY(1),Vt.rotation(0);break}q()},$t=Mt=>{const Vt=Mt.target,tn=Vt.id();if(!R.find(zi=>zi.id===tn))return;const Rr=Vt.x(),ms=Vt.y();L(tn,{x:Rr,y:ms}),q()},re=Mt=>{R.find(tn=>tn.id===Mt)?.type==="marker"?d(Mt):P(Mt)},Ne=Mt=>{const Vt=["Arrow","Rect","Circle","Line","Text","Image","FreeDraw","Marker","Group"];if(!(Mt.target.getClassName&&(Vt.includes(Mt.target.getClassName())||Mt.target.getParent()?.getClassName()==="Group"))){const{setTool:An}=Pt.getState();An("select")}},nn=Mt=>Pt.getState().bringShapeToFront(Mt),_n=Mt=>Pt.getState().sendShapeToBack(Mt),yi=Mt=>Pt.getState().bringShapeForward(Mt),Rn=Mt=>Pt.getState().sendShapeBackward(Mt);return F.jsxs("div",{ref:e,className:"flex-1 bg-slate-900 overflow-hidden p-0 m-0",children:[F.jsx("input",{type:"file",accept:"image/*",ref:n,style:{display:"none",position:"absolute",left:"-9999px"},onChange:Bt}),F.jsx(pmt,{ref:Mt=>{t.current=Mt,window.__konvaStageRef=Mt},width:a.width,height:a.height,scaleX:f,scaleY:f,x:m.x,y:m.y,draggable:M==="hand",onDragEnd:M==="hand"?Mt=>y({x:Mt.target.x(),y:Mt.target.y()}):void 0,style:{cursor:M==="hand"?"grab":M==="select"?cn?"crosshair":"default":"crosshair"},onMouseDown:Me,onMouseMove:Ot,onMouseUp:Ut,onDblClick:Ne,onTouchStart:Me,onTouchMove:Ot,onTouchEnd:Ut,children:F.jsxs(umt,{children:[F.jsxs(Mv,{x:Et.x,y:Et.y,children:[F.jsx(th,{id:"background-rect",x:0,y:0,fill:D,width:it,height:at,listening:!1}),J&&Dt&&F.jsx(ZT,{image:Dt,x:0,y:0,width:it,height:at,listening:!1}),x&&F.jsx(Emt,{width:it,height:at,cellSize:oZ}),F.jsx(Bmt,{layers:A,shapes:R,selectedShapeIds:Z,tool:M,toggleSelection:B,setSelectedShape:P,handleTransformEnd:ie,handleShapeDragEnd:$t,handleShapeDoubleClick:re,setContextMenu:tt,autoEditTextId:s,updateShape:L}),F.jsx(zmt,{selectBox:Ce})]}),F.jsx(Umt,{transformerRef:i,enabled:Z.length>1})]})}),F.jsx(Imt,{contextMenu:ot,onBringToFront:nn,onSendToBack:_n,onBringForward:yi,onSendBackward:Rn,onClose:ut,onCopy:K,onPaste:nt,onDelete:$,clipboardShape:lt,onReplace:yt}),c&&F.jsx(F0t,{shapeId:c,onClose:()=>d(null)})]})}function I0t(){const{zoom:e,zoomIn:t,zoomOut:n,resetView:i,gridEnabled:a,toggleGrid:r}=Pt(),s=Pt(d=>d.undo),l=Pt(d=>d.redo),c=lT({maxWidth:768});return F.jsx("div",{className:Gn("fixed z-50 right-3 bottom-3 transition-all duration-200",{"right-1 left-1 flex justify-center":c}),children:F.jsxs("nav",{className:Gn("flex items-center gap-2 overflow-x-auto p-2 bg-blue-900/50 backdrop-blur-lg rounded-xl shadow-2xl",{"w-auto":!c}),style:{maxWidth:c?"95vw":"unset"},children:[F.jsx("button",{onClick:s,title:"Deshacer (Ctrl+Z)",className:"p-2 rounded transition-colors text-white hover:bg-blue-500/90 duration-150",children:F.jsx(LH,{size:20})}),F.jsx("button",{onClick:l,title:"Rehacer (Ctrl+Shift+Z)",className:"p-2 rounded transition-colors text-white hover:bg-blue-500/90 duration-150",children:F.jsx(vH,{size:20})}),F.jsx("button",{onClick:n,title:"Alejar",className:"p-2 rounded transition-colors text-white hover:bg-blue-500/90 duration-150",children:F.jsx(GH,{size:20})}),F.jsxs("span",{className:"whitespace-nowrap text-white w-12 text-center select-none",children:[Math.round(e*100),"%"]}),F.jsx("button",{onClick:t,title:"Acercar",className:"p-2 rounded text-white hover:bg-blue-500/90 transition-colors duration-150",children:F.jsx(UH,{size:20})}),F.jsx("button",{onClick:i,title:"Centrar vista",className:"p-2 rounded text-white hover:bg-blue-500/90 transition-colors duration-150",children:F.jsx(JU,{size:20})}),F.jsx("button",{onClick:r,title:"Mostrar/Ocultar cuadrícula",className:Gn("p-2 rounded transition-colors duration-150",{"bg-blue-100 text-black":a,"text-white hover:bg-blue-500/90":!a}),children:F.jsx(IU,{size:20})})]})})}function z0t({mode:e,onToggleMode:t,onSave:n,onDiscard:i,onExit:a}){return F.jsxs("div",{className:Gn("fixed top-3 left-3  z-50 text-xs","flex items-center justify-between gap-2 px-3 py-2","bg-blue-900/50 backdrop-blur shadow-2xl rounded-2xl","w-auto h-12","transition-all duration-200"),children:[F.jsx("button",{onClick:a,className:"flex items-center justify-center p-2 rounded-lg  text-white hover:bg-blue-800/80 transition",title:"Salir",style:{minWidth:38,minHeight:38},children:F.jsx(QE,{size:20})}),F.jsx("div",{className:"flex-1"}),F.jsxs("div",{className:"flex items-center gap-1",children:[F.jsxs("button",{onClick:t,className:Gn("flex items-center gap-1 px-3 py-2 rounded-lg text-white transition font-medium","hover:bg-blue-700",e==="edit"?"bg-blue-500/90":""),title:`Cambiar a modo ${e==="edit"?"visualización":"edición"}`,style:{minWidth:38,minHeight:38},children:[e==="edit"?F.jsx(n1,{size:18}):F.jsx(Vd,{size:18}),F.jsx("span",{className:"hidden md:inline",children:e==="edit"?"Edición":"Visualización"})]}),e==="edit"&&F.jsxs(F.Fragment,{children:[F.jsxs("button",{onClick:n,className:"flex items-center gap-1 px-3 py-2 rounded-lg text-white transition font-medium  hover:bg-blue-700",title:"Guardar cambios",style:{minWidth:38,minHeight:38},children:[F.jsx(uN,{size:18}),F.jsx("span",{className:"hidden md:inline",children:"Guardar"})]}),F.jsxs("button",{onClick:i,className:"flex items-center gap-1 px-3 py-2 rounded-lg text-white transition font-medium  hover:bg-blue-700",title:"Descartar cambios",style:{minWidth:38,minHeight:38},children:[F.jsx(hN,{size:18}),F.jsx("span",{className:"hidden md:inline",children:"Descartar"})]})]})]})]})}const U0t=e=>Bi.get(`/items/layers?filter[workspace_id][_eq]=${e}&sort=order`),H0t=e=>Bi.post("/items/layers",e),G0t=(e,t)=>Bi.patch(`/items/layers/${e}`,t),q0t=e=>Bi.delete(`/items/layers/${e}`);function V0t(e){return lv({queryKey:["layers",e],queryFn:()=>U0t(e),select:t=>t.data.data||[],enabled:!!e})}function Y0t(){const e=ps();return eo({mutationFn:H0t,onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["layers",n.workspace_id]})}})}function K0t(){const e=ps();return eo({mutationFn:({id:t,data:n})=>G0t(t,n),onSuccess:(t,{data:n})=>{n?.workspace_id?e.invalidateQueries({queryKey:["layers",n.workspace_id]}):e.invalidateQueries({queryKey:["layers"]})}})}function X0t(){const e=ps();return eo({mutationFn:q0t,onSuccess:(t,n,i)=>{e.invalidateQueries({queryKey:["layers"]})}})}const $0t=e=>{if(!e||!Array.isArray(e)||e.length===0)return Promise.resolve({data:{data:[]}});const t=encodeURIComponent(e.join(","));return Bi.get(`/items/shapes?filter[layer_id][_in]=${t}&sort=order`)},W0t=e=>Bi.post("/items/shapes",e),Q0t=(e,t)=>Bi.patch(`/items/shapes/${e}`,t),Z0t=e=>Bi.delete(`/items/shapes/${e}`);function J0t(e){return lv({queryKey:["shapes",e],queryFn:()=>$0t(e),enabled:!!e&&e.length>0,select:t=>t.data.data||[]})}function tvt(){const e=ps();return eo({mutationFn:W0t,onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["shapes",n.layer_id]})}})}function evt(){const e=ps();return eo({mutationFn:({id:t,data:n})=>Q0t(t,n),onSuccess:(t,{data:n})=>{n?.layer_id?e.invalidateQueries({queryKey:["shapes",n.layer_id]}):e.invalidateQueries({queryKey:["shapes"]})}})}function nvt(){const e=ps();return eo({mutationFn:Z0t,onSuccess:(t,n,i)=>{e.invalidateQueries({queryKey:["shapes"]})}})}const ivt=e=>Bi.post("/items/files",e);function avt(){const e=ps();return eo({mutationFn:ivt,onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["files",n.workspace_id]})}})}const j7=["¡Cargando tu mesa de trabajo!","Preparando tus capas y herramientas...","Ntropia, la creatividad en acción.","La imaginación nunca duerme.","Tus ideas están por tomar forma.","Listando shapes y fondos...","Todo listo para crear algo grande."];function rvt({text:e="Cargando Workspace..."}){const t=j.useMemo(()=>j7[Math.floor(Math.random()*j7.length)],[]);return F.jsx("div",{className:"fixed inset-0 min-h-screen flex items-center justify-center bg-gradient-to-br from-[#101726] via-[#232C47] to-[#1C2338] z-50",children:F.jsxs($e.div,{initial:{opacity:0,scale:.97},animate:{opacity:1,scale:1},className:"bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl p-10 flex flex-col items-center gap-6 border border-white/10",children:[F.jsx($e.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1.5,ease:"linear"},children:F.jsx(j0,{className:"w-14 h-14 text-[#2563eb] drop-shadow-xl"})}),F.jsx("span",{className:"text-white/90 text-xl font-extrabold tracking-tight",children:e}),F.jsx($e.div,{className:"w-40 h-2 bg-white/20 rounded-full overflow-hidden",initial:{width:"0%"},animate:{width:"100%"},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},children:F.jsx($e.div,{className:"h-full bg-[#2563eb] rounded-full",animate:{x:[0,128,0]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},style:{width:"40%"}})}),F.jsx("span",{className:"text-white/70 text-base italic mt-3",children:t})]})})}function svt(){const{id:e}=nz(),t=eh(),{data:n,isLoading:i}=QQ(e),{data:a,isLoading:r}=V0t(e),s=a?a.map(H=>H.id):[],{data:l,isLoading:c}=J0t(s),d=Pt(H=>H.setAllLayers),f=Pt(H=>H.setAllShapes),m=Pt(H=>H.setBackgroundImage),v=Pt(H=>H.setBackgroundColor),y=Pt(H=>H.setCanvasSize),x=Pt(H=>H.mode),_=Pt(H=>H.toggleMode),E=Pt(H=>H.layers),R=Pt(H=>H.shapes),A=Pt(H=>H.backgroundImage),w=Pt(H=>H.backgroundColor),M=Pt(H=>H.canvasWidth),D=Pt(H=>H.canvasHeight),P=Pt(H=>H.clearAllFlags),z=Pt(H=>H.setAllLayers),L=Pt(H=>H.setAllShapes),U=Pt(H=>H.resetAll),I=Y0t(),q=K0t(),J=X0t(),it=tvt(),at=evt(),et=nvt(),Z=avt(),B=ok();j.useEffect(()=>{U()},[e,U]),j.useEffect(()=>{a&&d(a)},[a,d]),j.useEffect(()=>{l&&f(l)},[l,f]),j.useEffect(()=>{n&&(n.background&&m(n.background),n.backgroundColor&&v(n.backgroundColor),n.canvasWidth&&n.canvasHeight&&y({width:n.canvasWidth,height:n.canvasHeight}))},[n,m,v,y]);async function V(){try{let H=n.background;if(A&&!/^https?:\/\//.test(A)&&!/^\/assets\//.test(A)&&A.startsWith("data:")){const K=await fetch(A).then(lt=>lt.blob()),nt=new FormData;nt.append("file",K,"background.png");const $=await Z.mutateAsync(nt);H=$.data.id||$.data.data?.id}for(const[K,nt]of E.entries()){const $={name:nt.name,order:typeof nt.order=="number"?nt.order:K,visible:typeof nt.visible=="boolean"?nt.visible:!0,locked:typeof nt.locked=="boolean"?nt.locked:!1,workspace_id:e};nt.id&&($.id=nt.id),nt._toDelete&&nt.id?await J.mutateAsync(nt.id):nt._isNew?await I.mutateAsync($):nt._dirty&&nt.id&&await q.mutateAsync({id:nt.id,data:$})}for(const[K,nt]of R.entries()){let $={...nt};if(nt.type==="image"&&nt.props?.src&&nt.props.src.startsWith("data:")){const yt=await fetch(nt.props.src).then(ut=>ut.blob()),ot=new FormData;ot.append("file",yt,"shape-image.png");const tt=await Z.mutateAsync(ot);$.props={...$.props,src:tt.data.id||tt.data.data?.id}}const lt={name:$.name,order:typeof $.order=="number"?$.order:K,layer_id:$.layerId,data:$.props,type:$.type};nt.id&&!nt._isNew&&(lt.id=nt.id),nt._toDelete&&nt.id?await et.mutateAsync(nt.id):nt._isNew?await it.mutateAsync(lt):nt._dirty&&nt.id&&await at.mutateAsync({id:nt.id,data:lt})}await B.mutateAsync({id:e,data:{background:H,backgroundColor:w,canvasWidth:M,canvasHeight:D}}),P(),alert("¡Canvas guardado exitosamente!")}catch{alert("Ocurrió un error al guardar. Intenta de nuevo.")}}function W(){z(a||[]),L(l||[]),n&&(n.background&&m(n.background),n.backgroundColor&&v(n.backgroundColor),n.canvasWidth&&n.canvasHeight&&y({width:n.canvasWidth,height:n.canvasHeight})),P(),alert("Cambios descartados.")}return i||r||c?F.jsx(rvt,{text:"Cargando tu Workspace..."}):F.jsxs("div",{className:"h-[100dvh] w-[100vw] flex flex-col relative bg-slate-900 overflow-hidden",children:[F.jsx(z0t,{mode:x,onToggleMode:_,onSave:V,onDiscard:W,onExit:()=>t("/")}),F.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[F.jsx(B0t,{}),x==="edit"&&F.jsx(zlt,{}),F.jsx(I0t,{}),F.jsx(apt,{})]})]})}function ovt(){return!!localStorage.getItem("access_token")?F.jsx(Z7,{}):F.jsx(Lb,{to:"/login"})}let lvt={data:""},cvt=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||lvt,uvt=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,dvt=/\/\*[^]*?\*\/|  +/g,F7=/\n+/g,ou=(e,t)=>{let n="",i="",a="";for(let r in e){let s=e[r];r[0]=="@"?r[1]=="i"?n=r+" "+s+";":i+=r[1]=="f"?ou(s,r):r+"{"+ou(s,r[1]=="k"?"":t)+"}":typeof s=="object"?i+=ou(s,t?t.replace(/([^,])+/g,l=>r.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):r):s!=null&&(r=/^--/.test(r)?r:r.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=ou.p?ou.p(r,s):r+":"+s+";")}return n+(t&&a?t+"{"+a+"}":a)+i},Gl={},RB=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+RB(e[n]);return t}return e},hvt=(e,t,n,i,a)=>{let r=RB(e),s=Gl[r]||(Gl[r]=(c=>{let d=0,f=11;for(;d<c.length;)f=101*f+c.charCodeAt(d++)>>>0;return"go"+f})(r));if(!Gl[s]){let c=r!==e?e:(d=>{let f,m,v=[{}];for(;f=uvt.exec(d.replace(dvt,""));)f[4]?v.shift():f[3]?(m=f[3].replace(F7," ").trim(),v.unshift(v[0][m]=v[0][m]||{})):v[0][f[1]]=f[2].replace(F7," ").trim();return v[0]})(e);Gl[s]=ou(a?{["@keyframes "+s]:c}:c,n?"":"."+s)}let l=n&&Gl.g?Gl.g:null;return n&&(Gl.g=Gl[s]),((c,d,f,m)=>{m?d.data=d.data.replace(m,c):d.data.indexOf(c)===-1&&(d.data=f?c+d.data:d.data+c)})(Gl[s],t,i,l),s},fvt=(e,t,n)=>e.reduce((i,a,r)=>{let s=t[r];if(s&&s.call){let l=s(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;s=c?"."+c:l&&typeof l=="object"?l.props?"":ou(l,""):l===!1?"":l}return i+a+(s??"")},"");function Vx(e){let t=this||{},n=e.call?e(t.p):e;return hvt(n.unshift?n.raw?fvt(n,[].slice.call(arguments,1),t.p):n.reduce((i,a)=>Object.assign(i,a&&a.call?a(t.p):a),{}):n,cvt(t.target),t.g,t.o,t.k)}let MB,hC,fC;Vx.bind({g:1});let ec=Vx.bind({k:1});function pvt(e,t,n,i){ou.p=t,MB=e,hC=n,fC=i}function Cu(e,t){let n=this||{};return function(){let i=arguments;function a(r,s){let l=Object.assign({},r),c=l.className||a.className;n.p=Object.assign({theme:hC&&hC()},l),n.o=/ *go\d+/.test(c),l.className=Vx.apply(n,i)+(c?" "+c:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),fC&&d[0]&&fC(l),MB(d,l)}return a}}var gvt=e=>typeof e=="function",z1=(e,t)=>gvt(e)?e(t):e,mvt=(()=>{let e=0;return()=>(++e).toString()})(),DB=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),vvt=20,OB=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,vvt)};case 1:return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case 2:let{toast:n}=t;return OB(e,{type:e.toasts.find(r=>r.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(r=>r.id===i||i===void 0?{...r,dismissed:!0,visible:!1}:r)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(r=>({...r,pauseDuration:r.pauseDuration+a}))}}},Qb=[],Fd={toasts:[],pausedAt:void 0},fh=e=>{Fd=OB(Fd,e),Qb.forEach(t=>{t(Fd)})},yvt={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},bvt=(e={})=>{let[t,n]=j.useState(Fd),i=j.useRef(Fd);j.useEffect(()=>(i.current!==Fd&&n(Fd),Qb.push(n),()=>{let r=Qb.indexOf(n);r>-1&&Qb.splice(r,1)}),[]);let a=t.toasts.map(r=>{var s,l,c;return{...e,...e[r.type],...r,removeDelay:r.removeDelay||((s=e[r.type])==null?void 0:s.removeDelay)||e?.removeDelay,duration:r.duration||((l=e[r.type])==null?void 0:l.duration)||e?.duration||yvt[r.type],style:{...e.style,...(c=e[r.type])==null?void 0:c.style,...r.style}}});return{...t,toasts:a}},xvt=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||mvt()}),Dv=e=>(t,n)=>{let i=xvt(t,e,n);return fh({type:2,toast:i}),i.id},Ba=(e,t)=>Dv("blank")(e,t);Ba.error=Dv("error");Ba.success=Dv("success");Ba.loading=Dv("loading");Ba.custom=Dv("custom");Ba.dismiss=e=>{fh({type:3,toastId:e})};Ba.remove=e=>fh({type:4,toastId:e});Ba.promise=(e,t,n)=>{let i=Ba.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let r=t.success?z1(t.success,a):void 0;return r?Ba.success(r,{id:i,...n,...n?.success}):Ba.dismiss(i),a}).catch(a=>{let r=t.error?z1(t.error,a):void 0;r?Ba.error(r,{id:i,...n,...n?.error}):Ba.dismiss(i)}),e};var Svt=(e,t)=>{fh({type:1,toast:{id:e,height:t}})},_vt=()=>{fh({type:5,time:Date.now()})},P0=new Map,wvt=1e3,Evt=(e,t=wvt)=>{if(P0.has(e))return;let n=setTimeout(()=>{P0.delete(e),fh({type:4,toastId:e})},t);P0.set(e,n)},Avt=e=>{let{toasts:t,pausedAt:n}=bvt(e);j.useEffect(()=>{if(n)return;let r=Date.now(),s=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(r-l.createdAt);if(c<0){l.visible&&Ba.dismiss(l.id);return}return setTimeout(()=>Ba.dismiss(l.id),c)});return()=>{s.forEach(l=>l&&clearTimeout(l))}},[t,n]);let i=j.useCallback(()=>{n&&fh({type:6,time:Date.now()})},[n]),a=j.useCallback((r,s)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:d}=s||{},f=t.filter(y=>(y.position||d)===(r.position||d)&&y.height),m=f.findIndex(y=>y.id===r.id),v=f.filter((y,x)=>x<m&&y.visible).length;return f.filter(y=>y.visible).slice(...l?[v+1]:[0,v]).reduce((y,x)=>y+(x.height||0)+c,0)},[t]);return j.useEffect(()=>{t.forEach(r=>{if(r.dismissed)Evt(r.id,r.removeDelay);else{let s=P0.get(r.id);s&&(clearTimeout(s),P0.delete(r.id))}})},[t]),{toasts:t,handlers:{updateHeight:Svt,startPause:_vt,endPause:i,calculateOffset:a}}},Cvt=ec`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Tvt=ec`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Rvt=ec`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Mvt=Cu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Cvt} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Tvt} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Rvt} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Dvt=ec`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Ovt=Cu("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Dvt} 1s linear infinite;
`,Nvt=ec`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Pvt=ec`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Lvt=Cu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Nvt} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Pvt} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,kvt=Cu("div")`
  position: absolute;
`,jvt=Cu("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Fvt=ec`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Bvt=Cu("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Fvt} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Ivt=({toast:e})=>{let{icon:t,type:n,iconTheme:i}=e;return t!==void 0?typeof t=="string"?j.createElement(Bvt,null,t):t:n==="blank"?null:j.createElement(jvt,null,j.createElement(Ovt,{...i}),n!=="loading"&&j.createElement(kvt,null,n==="error"?j.createElement(Mvt,{...i}):j.createElement(Lvt,{...i})))},zvt=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Uvt=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Hvt="0%{opacity:0;} 100%{opacity:1;}",Gvt="0%{opacity:1;} 100%{opacity:0;}",qvt=Cu("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Vvt=Cu("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Yvt=(e,t)=>{let n=e.includes("top")?1:-1,[i,a]=DB()?[Hvt,Gvt]:[zvt(n),Uvt(n)];return{animation:t?`${ec(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ec(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Kvt=j.memo(({toast:e,position:t,style:n,children:i})=>{let a=e.height?Yvt(e.position||t||"top-center",e.visible):{opacity:0},r=j.createElement(Ivt,{toast:e}),s=j.createElement(Vvt,{...e.ariaProps},z1(e.message,e));return j.createElement(qvt,{className:e.className,style:{...a,...n,...e.style}},typeof i=="function"?i({icon:r,message:s}):j.createElement(j.Fragment,null,r,s))});pvt(j.createElement);var Xvt=({id:e,className:t,style:n,onHeightUpdate:i,children:a})=>{let r=j.useCallback(s=>{if(s){let l=()=>{let c=s.getBoundingClientRect().height;i(e,c)};l(),new MutationObserver(l).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[e,i]);return j.createElement("div",{ref:r,className:t,style:n},a)},$vt=(e,t)=>{let n=e.includes("top"),i=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:DB()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...i,...a}},Wvt=Vx`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Pb=16,Qvt=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:i,children:a,containerStyle:r,containerClassName:s})=>{let{toasts:l,handlers:c}=Avt(n);return j.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Pb,left:Pb,right:Pb,bottom:Pb,pointerEvents:"none",...r},className:s,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(d=>{let f=d.position||t,m=c.calculateOffset(d,{reverseOrder:e,gutter:i,defaultPosition:t}),v=$vt(f,m);return j.createElement(Xvt,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?Wvt:"",style:v},d.type==="custom"?z1(d.message,d):a?a(d):j.createElement(Kvt,{toast:d,position:f}))}))},B7=Ba;const I7=[{to:"/dashboard",label:"Inicio",icon:GU},{to:"/workspace",label:"Mesas de trabajo",icon:j0}];function Zvt(){const e=dp(s=>s.user),t=dp(s=>s.clearUser),n=eh(),[i,a]=j.useState(!1);function r(){B7("Cerrando sesión...",{icon:"👋"}),localStorage.removeItem("access_token"),t(),setTimeout(()=>n("/login"),1e3)}return F.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#101726] via-[#232C47] to-[#1C2338] flex flex-col",children:[F.jsx(Qvt,{position:"top-center",toastOptions:{style:{background:"#181F37",color:"#fff",borderRadius:"1rem"},iconTheme:{primary:"#2563eb",secondary:"#fff"}}}),F.jsx("header",{className:"sticky top-0 z-40 backdrop-blur-xl bg-white/5 border-b border-white/10 shadow-md",children:F.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between px-4 py-3",children:[F.jsxs("div",{className:"flex items-center gap-4",children:[F.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-white/10 transition",onClick:()=>a(s=>!s),children:F.jsx(cH,{className:"w-6 h-6 text-[#2563eb]"})}),F.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>n("/dashboard"),children:[F.jsx(j0,{className:"text-[#2563eb] h-7 w-7 drop-shadow"}),F.jsx("span",{className:"text-2xl font-extrabold tracking-tight text-white drop-shadow",children:"Ntropia"})]})]}),F.jsx("nav",{className:"hidden md:flex gap-2",children:I7.map(({to:s,label:l,icon:c})=>F.jsxs($E,{to:s,className:({isActive:d})=>Y6("flex items-center gap-2 px-4 py-2 rounded-2xl font-semibold text-base hover:bg-[#2563eb]/10 transition",d?"bg-[#2563eb]/20 text-[#2563eb]":"text-white/80"),children:[F.jsx(c,{className:"w-5 h-5"})," ",l]},s))}),F.jsxs("div",{className:"flex items-center gap-4",children:[F.jsx("button",{className:"relative p-2 rounded-lg hover:bg-white/10 transition",title:"Notificaciones",onClick:()=>B7("¡Sin notificaciones nuevas! 🎉"),children:F.jsx(gU,{className:"w-6 h-6 text-[#2563eb]"})}),F.jsx($e.div,{whileHover:{scale:1.06},className:"group relative",children:F.jsxs("button",{className:"flex items-center gap-2 p-1 rounded-full hover:bg-white/10 transition",onClick:()=>n("/profile"),children:[F.jsx("span",{className:"inline-block h-10 w-10 rounded-full overflow-hidden bg-[#e5e9f1] border-2 border-[#2563eb] shadow",children:e?.avatar?F.jsx("img",{src:e.avatar,alt:"avatar",className:"w-full h-full object-cover"}):F.jsx(WE,{className:"w-10 h-10 text-[#2563eb]"})}),F.jsxs("span",{className:"hidden md:flex flex-col text-left",children:[F.jsxs("span",{className:"font-bold text-white text-sm leading-tight",children:[e?.first_name||""," ",e?.last_name||""]}),F.jsx("span",{className:"text-xs text-white/80",children:e?.email||""})]})]})}),F.jsx("button",{onClick:r,className:"p-2 rounded-xl bg-[#2563eb] hover:bg-[#274B8A] text-white font-bold shadow transition ml-2",title:"Cerrar sesión",children:F.jsx(QE,{className:"w-5 h-5"})})]})]})}),F.jsx(J1,{children:i&&F.jsxs($e.aside,{initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",stiffness:300,damping:30},className:"fixed inset-y-0 left-0 z-50 w-72 bg-gradient-to-br from-[#16203b] via-[#232C47] to-[#1C2338] shadow-2xl border-r border-[#2563eb]/20 flex flex-col py-6 px-4",children:[F.jsx("button",{className:"absolute top-4 right-4 p-1 rounded-full hover:bg-white/10",onClick:()=>a(!1),children:F.jsx(ov,{className:"w-6 h-6 text-white"})}),F.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[F.jsx(j0,{className:"text-[#2563eb] h-8 w-8"}),F.jsx("span",{className:"text-2xl font-extrabold tracking-tight text-white drop-shadow",children:"Ntropia"})]}),F.jsx("nav",{className:"flex flex-col gap-2",children:I7.map(({to:s,label:l,icon:c})=>F.jsxs($E,{to:s,className:({isActive:d})=>Y6("flex items-center gap-3 px-4 py-2 rounded-2xl font-semibold text-lg hover:bg-[#2563eb]/20 transition",d?"bg-[#2563eb]/30 text-[#2563eb]":"text-white/90"),onClick:()=>a(!1),children:[F.jsx(c,{className:"w-6 h-6"})," ",l]},s))}),F.jsxs("div",{className:"mt-auto pt-12 flex items-center gap-3",children:[F.jsx("span",{className:"inline-block h-9 w-9 rounded-full overflow-hidden bg-[#e5e9f1] border-2 border-[#2563eb] shadow",children:e?.avatar?F.jsx("img",{src:e.avatar,alt:"avatar",className:"w-full h-full object-cover"}):F.jsx(WE,{className:"w-9 h-9 text-[#2563eb]"})}),F.jsxs("div",{className:"flex flex-col",children:[F.jsx("span",{className:"font-bold text-white text-sm",children:e?.first_name}),F.jsx("span",{className:"text-xs text-white/70",children:e?.email})]})]}),F.jsxs("button",{className:"mt-6 px-4 py-2 rounded-xl bg-[#2563eb] hover:bg-[#274B8A] text-white font-bold shadow transition flex items-center gap-2",onClick:r,children:[F.jsx(QE,{className:"w-5 h-5"})," Cerrar sesión"]})]})}),F.jsx("main",{className:"flex-1 w-full max-w-7xl mx-auto px-4 py-8",children:F.jsx(Z7,{})}),F.jsxs("footer",{className:"text-center text-xs text-white/40 py-4 mt-auto",children:["© ",new Date().getFullYear()," Ntropia • Creado por"," ",F.jsx("a",{href:"https://racoondevs.com",className:"text-white font-bold hover:underline",target:"_blank",rel:"noopener noreferrer",children:"RacoonDevs"})]})]})}function Jvt(){return F.jsxs(vz,{children:[F.jsx(ql,{path:"/login",element:F.jsx(z$,{})}),F.jsx(ql,{path:"/register",element:F.jsx(U$,{})}),F.jsxs(ql,{element:F.jsx(ovt,{}),children:[F.jsx(ql,{element:F.jsx(Zvt,{}),children:F.jsx(ql,{path:"/dashboard",element:F.jsx(eZ,{})})}),F.jsx(ql,{path:"/workspace/:id",element:F.jsx(svt,{})})]}),F.jsx(ql,{path:"/",element:localStorage.getItem("access_token")?F.jsx(Lb,{to:"/dashboard"}):F.jsx(Lb,{to:"/login"})}),F.jsx(ql,{path:"*",element:F.jsx(Lb,{to:"/"})})]})}const z7=["Un gran proyecto empieza con una gran idea.","¡Preparando tu espacio de trabajo!","Ntropia, donde tus ideas toman forma.","La creatividad es inteligencia divirtiéndose.","¡Vamos por algo grande hoy!"];function tyt({children:e}){const{isLoading:t}=sV(),n=dp(a=>a.user),i=j.useMemo(()=>z7[Math.floor(Math.random()*z7.length)],[]);return t&&!n?F.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#101726] via-[#232C47] to-[#1C2338]",children:F.jsxs($e.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl p-10 flex flex-col items-center gap-6 border border-white/10",children:[F.jsx($e.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1.5,ease:"linear"},children:F.jsx(j0,{className:"w-14 h-14 text-[#2563eb] drop-shadow-xl"})}),F.jsx("span",{className:"text-white/90 text-xl font-extrabold tracking-tight",children:"Cargando Ntropia..."}),F.jsx($e.div,{className:"w-40 h-2 bg-white/20 rounded-full overflow-hidden",initial:{width:"0%"},animate:{width:"100%"},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},children:F.jsx($e.div,{className:"h-full bg-[#2563eb] rounded-full",animate:{x:[0,128,0]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},style:{width:"40%"}})}),F.jsx("span",{className:"text-white/70 text-base italic mt-3",children:i})]})}):e}const eyt=new rG;H7.createRoot(document.getElementById("root")).render(F.jsx(Y.StrictMode,{children:F.jsx(uG,{client:eyt,children:F.jsx(Uz,{children:F.jsx(tyt,{children:F.jsx(Jvt,{})})})})}));
