var C4=e=>{throw TypeError(e)};var cS=(e,t,n)=>t.has(e)||C4("Cannot "+n);var ni=(e,t,n)=>(cS(e,t,"read from private field"),n?n.call(e):t.get(e)),sl=(e,t,n)=>t.has(e)?C4("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),br=(e,t,n,i)=>(cS(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),ol=(e,t,n)=>(cS(e,t,"access private method"),n);var T4=(e,t,n,i)=>({set _(a){br(e,t,a,n)},get _(){return ni(e,t,i)}});function Lz(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in e)){const r=Object.getOwnPropertyDescriptor(i,a);r&&Object.defineProperty(e,a,r.get?r:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();var xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uS={exports:{}},Og={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R4;function jz(){if(R4)return Og;R4=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,a,r){var s=null;if(r!==void 0&&(s=""+r),a.key!==void 0&&(s=""+a.key),"key"in a){r={};for(var o in a)o!=="key"&&(r[o]=a[o])}else r=a;return a=r.ref,{$$typeof:e,type:i,key:s,ref:a!==void 0?a:null,props:r}}return Og.Fragment=t,Og.jsx=n,Og.jsxs=n,Og}var M4;function Fz(){return M4||(M4=1,uS.exports=jz()),uS.exports}var L=Fz(),dS={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D4;function Bz(){if(D4)return Fe;D4=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.iterator;function v(U){return U===null||typeof U!="object"?null:(U=g&&U[g]||U["@@iterator"],typeof U=="function"?U:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function E(U,$,it){this.props=U,this.context=$,this.refs=w,this.updater=it||y}E.prototype.isReactComponent={},E.prototype.setState=function(U,$){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,$,"setState")},E.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function C(){}C.prototype=E.prototype;function A(U,$,it){this.props=U,this.context=$,this.refs=w,this.updater=it||y}var _=A.prototype=new C;_.constructor=A,b(_,E.prototype),_.isPureReactComponent=!0;var M=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function B(U,$,it,K,ct,pt){return it=pt.ref,{$$typeof:e,type:U,key:$,ref:it!==void 0?it:null,props:pt}}function k(U,$){return B(U.type,$,void 0,void 0,void 0,U.props)}function z(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function H(U){var $={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(it){return $[it]})}var G=/\/+/g;function Q(U,$){return typeof U=="object"&&U!==null&&U.key!=null?H(""+U.key):$.toString(36)}function at(){}function Z(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(at,at):(U.status="pending",U.then(function($){U.status==="pending"&&(U.status="fulfilled",U.value=$)},function($){U.status==="pending"&&(U.status="rejected",U.reason=$)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function nt(U,$,it,K,ct){var pt=typeof U;(pt==="undefined"||pt==="boolean")&&(U=null);var rt=!1;if(U===null)rt=!0;else switch(pt){case"bigint":case"string":case"number":rt=!0;break;case"object":switch(U.$$typeof){case e:case t:rt=!0;break;case f:return rt=U._init,nt(rt(U._payload),$,it,K,ct)}}if(rt)return ct=ct(U),rt=K===""?"."+Q(U,0):K,M(ct)?(it="",rt!=null&&(it=rt.replace(G,"$&/")+"/"),nt(ct,$,it,"",function(St){return St})):ct!=null&&(z(ct)&&(ct=k(ct,it+(ct.key==null||U&&U.key===ct.key?"":(""+ct.key).replace(G,"$&/")+"/")+rt)),$.push(ct)),1;rt=0;var J=K===""?".":K+":";if(M(U))for(var lt=0;lt<U.length;lt++)K=U[lt],pt=J+Q(K,lt),rt+=nt(K,$,it,pt,ct);else if(lt=v(U),typeof lt=="function")for(U=lt.call(U),lt=0;!(K=U.next()).done;)K=K.value,pt=J+Q(K,lt++),rt+=nt(K,$,it,pt,ct);else if(pt==="object"){if(typeof U.then=="function")return nt(Z(U),$,it,K,ct);throw $=String(U),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return rt}function tt(U,$,it){if(U==null)return U;var K=[],ct=0;return nt(U,K,"","",function(pt){return $.call(it,pt,ct++)}),K}function I(U){if(U._status===-1){var $=U._result;$=$(),$.then(function(it){(U._status===0||U._status===-1)&&(U._status=1,U._result=it)},function(it){(U._status===0||U._status===-1)&&(U._status=2,U._result=it)}),U._status===-1&&(U._status=0,U._result=$)}if(U._status===1)return U._result.default;throw U._result}var V=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function X(){}return Fe.Children={map:tt,forEach:function(U,$,it){tt(U,function(){$.apply(this,arguments)},it)},count:function(U){var $=0;return tt(U,function(){$++}),$},toArray:function(U){return tt(U,function($){return $})||[]},only:function(U){if(!z(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Fe.Component=E,Fe.Fragment=n,Fe.Profiler=a,Fe.PureComponent=A,Fe.StrictMode=i,Fe.Suspense=c,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(U){return D.H.useMemoCache(U)}},Fe.cache=function(U){return function(){return U.apply(null,arguments)}},Fe.cloneElement=function(U,$,it){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var K=b({},U.props),ct=U.key,pt=void 0;if($!=null)for(rt in $.ref!==void 0&&(pt=void 0),$.key!==void 0&&(ct=""+$.key),$)!P.call($,rt)||rt==="key"||rt==="__self"||rt==="__source"||rt==="ref"&&$.ref===void 0||(K[rt]=$[rt]);var rt=arguments.length-2;if(rt===1)K.children=it;else if(1<rt){for(var J=Array(rt),lt=0;lt<rt;lt++)J[lt]=arguments[lt+2];K.children=J}return B(U.type,ct,void 0,void 0,pt,K)},Fe.createContext=function(U){return U={$$typeof:s,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:r,_context:U},U},Fe.createElement=function(U,$,it){var K,ct={},pt=null;if($!=null)for(K in $.key!==void 0&&(pt=""+$.key),$)P.call($,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ct[K]=$[K]);var rt=arguments.length-2;if(rt===1)ct.children=it;else if(1<rt){for(var J=Array(rt),lt=0;lt<rt;lt++)J[lt]=arguments[lt+2];ct.children=J}if(U&&U.defaultProps)for(K in rt=U.defaultProps,rt)ct[K]===void 0&&(ct[K]=rt[K]);return B(U,pt,void 0,void 0,null,ct)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(U){return{$$typeof:o,render:U}},Fe.isValidElement=z,Fe.lazy=function(U){return{$$typeof:f,_payload:{_status:-1,_result:U},_init:I}},Fe.memo=function(U,$){return{$$typeof:d,type:U,compare:$===void 0?null:$}},Fe.startTransition=function(U){var $=D.T,it={};D.T=it;try{var K=U(),ct=D.S;ct!==null&&ct(it,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(X,V)}catch(pt){V(pt)}finally{D.T=$}},Fe.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Fe.use=function(U){return D.H.use(U)},Fe.useActionState=function(U,$,it){return D.H.useActionState(U,$,it)},Fe.useCallback=function(U,$){return D.H.useCallback(U,$)},Fe.useContext=function(U){return D.H.useContext(U)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(U,$){return D.H.useDeferredValue(U,$)},Fe.useEffect=function(U,$,it){var K=D.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(U,$)},Fe.useId=function(){return D.H.useId()},Fe.useImperativeHandle=function(U,$,it){return D.H.useImperativeHandle(U,$,it)},Fe.useInsertionEffect=function(U,$){return D.H.useInsertionEffect(U,$)},Fe.useLayoutEffect=function(U,$){return D.H.useLayoutEffect(U,$)},Fe.useMemo=function(U,$){return D.H.useMemo(U,$)},Fe.useOptimistic=function(U,$){return D.H.useOptimistic(U,$)},Fe.useReducer=function(U,$,it){return D.H.useReducer(U,$,it)},Fe.useRef=function(U){return D.H.useRef(U)},Fe.useState=function(U){return D.H.useState(U)},Fe.useSyncExternalStore=function(U,$,it){return D.H.useSyncExternalStore(U,$,it)},Fe.useTransition=function(){return D.H.useTransition()},Fe.version="19.1.0",Fe}var O4;function El(){return O4||(O4=1,dS.exports=Bz()),dS.exports}var j=El();const Y=Qr(j),N4=Lz({__proto__:null,default:Y},[j]);var hS={exports:{}},Ng={},fS={exports:{}},pS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P4;function Iz(){return P4||(P4=1,function(e){function t(tt,I){var V=tt.length;tt.push(I);t:for(;0<V;){var X=V-1>>>1,U=tt[X];if(0<a(U,I))tt[X]=I,tt[V]=U,V=X;else break t}}function n(tt){return tt.length===0?null:tt[0]}function i(tt){if(tt.length===0)return null;var I=tt[0],V=tt.pop();if(V!==I){tt[0]=V;t:for(var X=0,U=tt.length,$=U>>>1;X<$;){var it=2*(X+1)-1,K=tt[it],ct=it+1,pt=tt[ct];if(0>a(K,V))ct<U&&0>a(pt,K)?(tt[X]=pt,tt[ct]=V,X=ct):(tt[X]=K,tt[it]=V,X=it);else if(ct<U&&0>a(pt,V))tt[X]=pt,tt[ct]=V,X=ct;else break t}}return I}function a(tt,I){var V=tt.sortIndex-I.sortIndex;return V!==0?V:tt.id-I.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],d=[],f=1,g=null,v=3,y=!1,b=!1,w=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function M(tt){for(var I=n(d);I!==null;){if(I.callback===null)i(d);else if(I.startTime<=tt)i(d),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(d)}}function D(tt){if(w=!1,M(tt),!b)if(n(c)!==null)b=!0,P||(P=!0,Q());else{var I=n(d);I!==null&&nt(D,I.startTime-tt)}}var P=!1,B=-1,k=5,z=-1;function H(){return E?!0:!(e.unstable_now()-z<k)}function G(){if(E=!1,P){var tt=e.unstable_now();z=tt;var I=!0;try{t:{b=!1,w&&(w=!1,A(B),B=-1),y=!0;var V=v;try{e:{for(M(tt),g=n(c);g!==null&&!(g.expirationTime>tt&&H());){var X=g.callback;if(typeof X=="function"){g.callback=null,v=g.priorityLevel;var U=X(g.expirationTime<=tt);if(tt=e.unstable_now(),typeof U=="function"){g.callback=U,M(tt),I=!0;break e}g===n(c)&&i(c),M(tt)}else i(c);g=n(c)}if(g!==null)I=!0;else{var $=n(d);$!==null&&nt(D,$.startTime-tt),I=!1}}break t}finally{g=null,v=V,y=!1}I=void 0}}finally{I?Q():P=!1}}}var Q;if(typeof _=="function")Q=function(){_(G)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,Z=at.port2;at.port1.onmessage=G,Q=function(){Z.postMessage(null)}}else Q=function(){C(G,0)};function nt(tt,I){B=C(function(){tt(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(tt){tt.callback=null},e.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<tt?Math.floor(1e3/tt):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(tt){switch(v){case 1:case 2:case 3:var I=3;break;default:I=v}var V=v;v=I;try{return tt()}finally{v=V}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(tt,I){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var V=v;v=tt;try{return I()}finally{v=V}},e.unstable_scheduleCallback=function(tt,I,V){var X=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?X+V:X):V=X,tt){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=V+U,tt={id:f++,callback:I,priorityLevel:tt,startTime:V,expirationTime:U,sortIndex:-1},V>X?(tt.sortIndex=V,t(d,tt),n(c)===null&&tt===n(d)&&(w?(A(B),B=-1):w=!0,nt(D,V-X))):(tt.sortIndex=U,t(c,tt),b||y||(b=!0,P||(P=!0,Q()))),tt},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(tt){var I=v;return function(){var V=v;v=I;try{return tt.apply(this,arguments)}finally{v=V}}}}(pS)),pS}var k4;function t3(){return k4||(k4=1,fS.exports=Iz()),fS.exports}var mS={exports:{}},La={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L4;function zz(){if(L4)return La;L4=1;var e=El();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function r(c,d,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:c,containerInfo:d,implementation:f}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return La.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,La.createPortal=function(c,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return r(c,d,null,f)},La.flushSync=function(c){var d=s.T,f=i.p;try{if(s.T=null,i.p=2,c)return c()}finally{s.T=d,i.p=f,i.d.f()}},La.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(c,d))},La.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},La.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var f=d.as,g=o(f,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?i.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:y}):f==="script"&&i.d.X(c,{crossOrigin:g,integrity:v,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},La.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=o(d.as,d.crossOrigin);i.d.M(c,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(c)},La.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,g=o(f,d.crossOrigin);i.d.L(c,f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},La.preloadModule=function(c,d){if(typeof c=="string")if(d){var f=o(d.as,d.crossOrigin);i.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(c)},La.requestFormReset=function(c){i.d.r(c)},La.unstable_batchedUpdates=function(c,d){return c(d)},La.useFormState=function(c,d,f){return s.H.useFormState(c,d,f)},La.useFormStatus=function(){return s.H.useHostTransitionStatus()},La.version="19.1.0",La}var j4;function K9(){if(j4)return mS.exports;j4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mS.exports=zz(),mS.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F4;function Uz(){if(F4)return Ng;F4=1;var e=t3(),t=El(),n=K9();function i(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function r(l){var u=l,m=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(m=u.return),l=u.return;while(l)}return u.tag===3?m:null}function s(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function o(l){if(r(l)!==l)throw Error(i(188))}function c(l){var u=l.alternate;if(!u){if(u=r(l),u===null)throw Error(i(188));return u!==l?null:l}for(var m=l,x=u;;){var T=m.return;if(T===null)break;var O=T.alternate;if(O===null){if(x=T.return,x!==null){m=x;continue}break}if(T.child===O.child){for(O=T.child;O;){if(O===m)return o(T),l;if(O===x)return o(T),u;O=O.sibling}throw Error(i(188))}if(m.return!==x.return)m=T,x=O;else{for(var q=!1,W=T.child;W;){if(W===m){q=!0,m=T,x=O;break}if(W===x){q=!0,x=T,m=O;break}W=W.sibling}if(!q){for(W=O.child;W;){if(W===m){q=!0,m=O,x=T;break}if(W===x){q=!0,x=O,m=T;break}W=W.sibling}if(!q)throw Error(i(189))}}if(m.alternate!==x)throw Error(i(190))}if(m.tag!==3)throw Error(i(188));return m.stateNode.current===m?l:u}function d(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=d(l),u!==null)return u;l=l.sibling}return null}var f=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),_=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function Q(l){return l===null||typeof l!="object"?null:(l=G&&l[G]||l["@@iterator"],typeof l=="function"?l:null)}var at=Symbol.for("react.client.reference");function Z(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===at?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case b:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList";case z:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case y:return"Portal";case _:return(l.displayName||"Context")+".Provider";case A:return(l._context.displayName||"Context")+".Consumer";case M:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case B:return u=l.displayName||null,u!==null?u:Z(l.type)||"Memo";case k:u=l._payload,l=l._init;try{return Z(l(u))}catch{}}return null}var nt=Array.isArray,tt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},X=[],U=-1;function $(l){return{current:l}}function it(l){0>U||(l.current=X[U],X[U]=null,U--)}function K(l,u){U++,X[U]=l.current,l.current=u}var ct=$(null),pt=$(null),rt=$(null),J=$(null);function lt(l,u){switch(K(rt,u),K(pt,l),K(ct,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?t4(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=t4(u),l=e4(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}it(ct),K(ct,l)}function St(){it(ct),it(pt),it(rt)}function Tt(l){l.memoizedState!==null&&K(J,l);var u=ct.current,m=e4(u,l.type);u!==m&&(K(pt,l),K(ct,m))}function Dt(l){pt.current===l&&(it(ct),it(pt)),J.current===l&&(it(J),Cg._currentValue=V)}var kt=Object.prototype.hasOwnProperty,zt=e.unstable_scheduleCallback,Jt=e.unstable_cancelCallback,Pt=e.unstable_shouldYield,re=e.unstable_requestPaint,Bt=e.unstable_now,me=e.unstable_getCurrentPriorityLevel,Ye=e.unstable_ImmediatePriority,le=e.unstable_UserBlockingPriority,pn=e.unstable_NormalPriority,Qt=e.unstable_LowPriority,Ee=e.unstable_IdlePriority,Nt=e.log,Ht=e.unstable_setDisableYieldValue,te=null,Vt=null;function ee(l){if(typeof Nt=="function"&&Ht(l),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(te,l)}catch{}}var Se=Math.clz32?Math.clz32:$n,Ge=Math.log,_n=Math.LN2;function $n(l){return l>>>=0,l===0?32:31-(Ge(l)/_n|0)|0}var mn=256,qe=4194304;function Be(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Ui(l,u,m){var x=l.pendingLanes;if(x===0)return 0;var T=0,O=l.suspendedLanes,q=l.pingedLanes;l=l.warmLanes;var W=x&134217727;return W!==0?(x=W&~O,x!==0?T=Be(x):(q&=W,q!==0?T=Be(q):m||(m=W&~l,m!==0&&(T=Be(m))))):(W=x&~O,W!==0?T=Be(W):q!==0?T=Be(q):m||(m=x&~l,m!==0&&(T=Be(m)))),T===0?0:u!==0&&u!==T&&(u&O)===0&&(O=T&-T,m=u&-u,O>=m||O===32&&(m&4194048)!==0)?u:T}function Oi(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function jt(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function we(){var l=mn;return mn<<=1,(mn&4194048)===0&&(mn=256),l}function un(){var l=qe;return qe<<=1,(qe&62914560)===0&&(qe=4194304),l}function Hn(l){for(var u=[],m=0;31>m;m++)u.push(l);return u}function fi(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Or(l,u,m,x,T,O){var q=l.pendingLanes;l.pendingLanes=m,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=m,l.entangledLanes&=m,l.errorRecoveryDisabledLanes&=m,l.shellSuspendCounter=0;var W=l.entanglements,st=l.expirationTimes,gt=l.hiddenUpdates;for(m=q&~m;0<m;){var Et=31-Se(m),Ct=1<<Et;W[Et]=0,st[Et]=-1;var yt=gt[Et];if(yt!==null)for(gt[Et]=null,Et=0;Et<yt.length;Et++){var bt=yt[Et];bt!==null&&(bt.lane&=-536870913)}m&=~Ct}x!==0&&pi(l,x,0),O!==0&&T===0&&l.tag!==0&&(l.suspendedLanes|=O&~(q&~u))}function pi(l,u,m){l.pendingLanes|=u,l.suspendedLanes&=~u;var x=31-Se(u);l.entangledLanes|=u,l.entanglements[x]=l.entanglements[x]|1073741824|m&4194090}function An(l,u){var m=l.entangledLanes|=u;for(l=l.entanglements;m;){var x=31-Se(m),T=1<<x;T&u|l[x]&u&&(l[x]|=u),m&=~T}}function Yn(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Wt(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function ge(){var l=I.p;return l!==0?l:(l=window.event,l===void 0?32:x4(l.type))}function De(l,u){var m=I.p;try{return I.p=l,u()}finally{I.p=m}}var Ie=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Ie,qt="__reactProps$"+Ie,ae="__reactContainer$"+Ie,en="__reactEvents$"+Ie,kn="__reactListeners$"+Ie,Ln="__reactHandles$"+Ie,On="__reactResources$"+Ie,dn="__reactMarker$"+Ie;function gn(l){delete l[Mt],delete l[qt],delete l[en],delete l[kn],delete l[Ln]}function Re(l){var u=l[Mt];if(u)return u;for(var m=l.parentNode;m;){if(u=m[ae]||m[Mt]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(l=r4(l);l!==null;){if(m=l[Mt])return m;l=r4(l)}return u}l=m,m=l.parentNode}return null}function Hi(l){if(l=l[Mt]||l[ae]){var u=l.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return l}return null}function _o(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(i(33))}function js(l){var u=l[On];return u||(u=l[On]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function ti(l){l[dn]=!0}var Ml=new Set,Dl={};function Sn(l,u){Nr(l,u),Nr(l+"Capture",u)}function Nr(l,u){for(Dl[l]=u,l=0;l<u.length;l++)Ml.add(u[l])}var nn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ua={},Ol={};function Nl(l){return kt.call(Ol,l)?!0:kt.call(Ua,l)?!1:nn.test(l)?Ol[l]=!0:(Ua[l]=!0,!1)}function Eo(l,u,m){if(Nl(u))if(m===null)l.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var x=u.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+m)}}function Zr(l,u,m){if(m===null)l.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+m)}}function Pr(l,u,m,x){if(x===null)l.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(m);return}l.setAttributeNS(u,m,""+x)}}var Xi,oi;function Ao(l){if(Xi===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);Xi=u&&u[1]||"",oi=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xi+l+oi}var Pl=!1;function Oc(l,u){if(!l||Pl)return"";Pl=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(u){var Ct=function(){throw Error()};if(Object.defineProperty(Ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ct,[])}catch(bt){var yt=bt}Reflect.construct(l,[],Ct)}else{try{Ct.call()}catch(bt){yt=bt}l.call(Ct.prototype)}}else{try{throw Error()}catch(bt){yt=bt}(Ct=l())&&typeof Ct.catch=="function"&&Ct.catch(function(){})}}catch(bt){if(bt&&yt&&typeof bt.stack=="string")return[bt.stack,yt.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=x.DetermineComponentFrameRoot(),q=O[0],W=O[1];if(q&&W){var st=q.split(`
`),gt=W.split(`
`);for(T=x=0;x<st.length&&!st[x].includes("DetermineComponentFrameRoot");)x++;for(;T<gt.length&&!gt[T].includes("DetermineComponentFrameRoot");)T++;if(x===st.length||T===gt.length)for(x=st.length-1,T=gt.length-1;1<=x&&0<=T&&st[x]!==gt[T];)T--;for(;1<=x&&0<=T;x--,T--)if(st[x]!==gt[T]){if(x!==1||T!==1)do if(x--,T--,0>T||st[x]!==gt[T]){var Et=`
`+st[x].replace(" at new "," at ");return l.displayName&&Et.includes("<anonymous>")&&(Et=Et.replace("<anonymous>",l.displayName)),Et}while(1<=x&&0<=T);break}}}finally{Pl=!1,Error.prepareStackTrace=m}return(m=l?l.displayName||l.name:"")?Ao(m):""}function um(l){switch(l.tag){case 26:case 27:case 5:return Ao(l.type);case 16:return Ao("Lazy");case 13:return Ao("Suspense");case 19:return Ao("SuspenseList");case 0:case 15:return Oc(l.type,!1);case 11:return Oc(l.type.render,!1);case 1:return Oc(l.type,!0);case 31:return Ao("Activity");default:return""}}function Jr(l){try{var u="";do u+=um(l),l=l.return;while(l);return u}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function ca(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function jh(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function dm(l){var u=jh(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),x=""+l[u];if(!l.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var T=m.get,O=m.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return T.call(this)},set:function(q){x=""+q,O.call(this,q)}}),Object.defineProperty(l,u,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(q){x=""+q},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function $u(l){l._valueTracker||(l._valueTracker=dm(l))}function hm(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var m=u.getValue(),x="";return l&&(x=jh(l)?l.checked?"true":"false":l.value),l=x,l!==m?(u.setValue(l),!0):!1}function Yu(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var oy=/[\n"\\]/g;function Ha(l){return l.replace(oy,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Fh(l,u,m,x,T,O,q,W){l.name="",q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?l.type=q:l.removeAttribute("type"),u!=null?q==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+ca(u)):l.value!==""+ca(u)&&(l.value=""+ca(u)):q!=="submit"&&q!=="reset"||l.removeAttribute("value"),u!=null?Ih(l,q,ca(u)):m!=null?Ih(l,q,ca(m)):x!=null&&l.removeAttribute("value"),T==null&&O!=null&&(l.defaultChecked=!!O),T!=null&&(l.checked=T&&typeof T!="function"&&typeof T!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?l.name=""+ca(W):l.removeAttribute("name")}function Bh(l,u,m,x,T,O,q,W){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(l.type=O),u!=null||m!=null){if(!(O!=="submit"&&O!=="reset"||u!=null))return;m=m!=null?""+ca(m):"",u=u!=null?""+ca(u):m,W||u===l.value||(l.value=u),l.defaultValue=u}x=x??T,x=typeof x!="function"&&typeof x!="symbol"&&!!x,l.checked=W?l.checked:!!x,l.defaultChecked=!!x,q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(l.name=q)}function Ih(l,u,m){u==="number"&&Yu(l.ownerDocument)===l||l.defaultValue===""+m||(l.defaultValue=""+m)}function Nc(l,u,m,x){if(l=l.options,u){u={};for(var T=0;T<m.length;T++)u["$"+m[T]]=!0;for(m=0;m<l.length;m++)T=u.hasOwnProperty("$"+l[m].value),l[m].selected!==T&&(l[m].selected=T),T&&x&&(l[m].defaultSelected=!0)}else{for(m=""+ca(m),u=null,T=0;T<l.length;T++){if(l[T].value===m){l[T].selected=!0,x&&(l[T].defaultSelected=!0);return}u!==null||l[T].disabled||(u=l[T])}u!==null&&(u.selected=!0)}}function fm(l,u,m){if(u!=null&&(u=""+ca(u),u!==l.value&&(l.value=u),m==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=m!=null?""+ca(m):""}function pm(l,u,m,x){if(u==null){if(x!=null){if(m!=null)throw Error(i(92));if(nt(x)){if(1<x.length)throw Error(i(93));x=x[0]}m=x}m==null&&(m=""),u=m}m=ca(u),l.defaultValue=m,x=l.textContent,x===m&&x!==""&&x!==null&&(l.value=x)}function kl(l,u){if(u){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=u;return}}l.textContent=u}var mm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gm(l,u,m){var x=u.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?x?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":x?l.setProperty(u,m):typeof m!="number"||m===0||mm.has(u)?u==="float"?l.cssFloat=m:l[u]=(""+m).trim():l[u]=m+"px"}function vm(l,u,m){if(u!=null&&typeof u!="object")throw Error(i(62));if(l=l.style,m!=null){for(var x in m)!m.hasOwnProperty(x)||u!=null&&u.hasOwnProperty(x)||(x.indexOf("--")===0?l.setProperty(x,""):x==="float"?l.cssFloat="":l[x]="");for(var T in u)x=u[T],u.hasOwnProperty(T)&&m[T]!==x&&gm(l,T,x)}else for(var O in u)u.hasOwnProperty(O)&&gm(l,O,u[O])}function zh(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ly=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Uh(l){return cy.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var Hh=null;function Co(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Fs=null,Ll=null;function Ku(l){var u=Hi(l);if(u&&(l=u.stateNode)){var m=l[qt]||null;t:switch(l=u.stateNode,u.type){case"input":if(Fh(l,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),u=m.name,m.type==="radio"&&u!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Ha(""+u)+'"][type="radio"]'),u=0;u<m.length;u++){var x=m[u];if(x!==l&&x.form===l.form){var T=x[qt]||null;if(!T)throw Error(i(90));Fh(x,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(u=0;u<m.length;u++)x=m[u],x.form===l.form&&hm(x)}break t;case"textarea":fm(l,m.value,m.defaultValue);break t;case"select":u=m.value,u!=null&&Nc(l,!!m.multiple,u,!1)}}}var jl=!1;function ym(l,u,m){if(jl)return l(u,m);jl=!0;try{var x=l(u);return x}finally{if(jl=!1,(Fs!==null||Ll!==null)&&(el(),Fs&&(u=Fs,l=Ll,Ll=Fs=null,Ku(u),l)))for(u=0;u<l.length;u++)Ku(l[u])}}function Pc(l,u){var m=l.stateNode;if(m===null)return null;var x=m[qt]||null;if(x===null)return null;m=x[u];t:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(l=l.type,x=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!x;break t;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(i(231,u,typeof m));return m}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gh=!1;if(ts)try{var kc={};Object.defineProperty(kc,"passive",{get:function(){Gh=!0}}),window.addEventListener("test",kc,kc),window.removeEventListener("test",kc,kc)}catch{Gh=!1}var Bs=null,Xu=null,Wu=null;function bm(){if(Wu)return Wu;var l,u=Xu,m=u.length,x,T="value"in Bs?Bs.value:Bs.textContent,O=T.length;for(l=0;l<m&&u[l]===T[l];l++);var q=m-l;for(x=1;x<=q&&u[m-x]===T[O-x];x++);return Wu=T.slice(l,1<x?1-x:void 0)}function Lc(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Qu(){return!0}function xm(){return!1}function ua(l){function u(m,x,T,O,q){this._reactName=m,this._targetInst=T,this.type=x,this.nativeEvent=O,this.target=q,this.currentTarget=null;for(var W in l)l.hasOwnProperty(W)&&(m=l[W],this[W]=m?m(O):O[W]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Qu:xm,this.isPropagationStopped=xm,this}return f(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Qu)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Qu)},persist:function(){},isPersistent:Qu}),u}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zu=ua(Is),jc=f({},Is,{view:0,detail:0}),T2=ua(jc),Sm,qh,zs,Fc=f({},jc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kh,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==zs&&(zs&&l.type==="mousemove"?(Sm=l.screenX-zs.screenX,qh=l.screenY-zs.screenY):qh=Sm=0,zs=l),Sm)},movementY:function(l){return"movementY"in l?l.movementY:qh}}),Ju=ua(Fc),uy=f({},Fc,{dataTransfer:0}),dy=ua(uy),Vh=f({},jc,{relatedTarget:0}),Fl=ua(Vh),$h=f({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),hy=ua($h),fy=f({},Is,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),To=ua(fy),py=f({},Is,{data:0}),Us=ua(py),Hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function my(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=wm[l])?!!u[l]:!1}function Kh(){return my}var Bl=f({},jc,{key:function(l){if(l.key){var u=Hs[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=Lc(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Yh[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kh,charCode:function(l){return l.type==="keypress"?Lc(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Lc(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Xh=ua(Bl),gy=f({},Fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wh=ua(gy),vy=f({},jc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kh}),yy=ua(vy),R2=f({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gi=ua(R2),by=f({},Fc,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),xy=ua(by),Sy=f({},Is,{newState:0,oldState:0}),wy=ua(Sy),_y=[9,13,27,32],Bc=ts&&"CompositionEvent"in window,Il=null;ts&&"documentMode"in document&&(Il=document.documentMode);var Ey=ts&&"TextEvent"in window&&!Il,_m=ts&&(!Bc||Il&&8<Il&&11>=Il),Em=" ",Qh=!1;function Zh(l,u){switch(l){case"keyup":return _y.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Am(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ro=!1;function Jh(l,u){switch(l){case"compositionend":return Am(u);case"keypress":return u.which!==32?null:(Qh=!0,Em);case"textInput":return l=u.data,l===Em&&Qh?null:l;default:return null}}function Cm(l,u){if(Ro)return l==="compositionend"||!Bc&&Zh(l,u)?(l=bm(),Wu=Xu=Bs=null,Ro=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return _m&&u.locale!=="ko"?null:u.data;default:return null}}var Ay={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tf(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!Ay[l.type]:u==="textarea"}function Tm(l,u,m,x){Fs?Ll?Ll.push(x):Ll=[x]:Fs=x,u=wb(u,"onChange"),0<u.length&&(m=new Zu("onChange","change",null,m,x),l.push({event:m,listeners:u}))}var Ga=null,zl=null;function M2(l){X5(l,0)}function td(l){var u=_o(l);if(hm(u))return l}function Aa(l,u){if(l==="change")return u}var Rm=!1;if(ts){var ed;if(ts){var ef="oninput"in document;if(!ef){var Mm=document.createElement("div");Mm.setAttribute("oninput","return;"),ef=typeof Mm.oninput=="function"}ed=ef}else ed=!1;Rm=ed&&(!document.documentMode||9<document.documentMode)}function nf(){Ga&&(Ga.detachEvent("onpropertychange",af),zl=Ga=null)}function af(l){if(l.propertyName==="value"&&td(zl)){var u=[];Tm(u,zl,l,Co(l)),ym(M2,u)}}function Cy(l,u,m){l==="focusin"?(nf(),Ga=u,zl=m,Ga.attachEvent("onpropertychange",af)):l==="focusout"&&nf()}function rf(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return td(zl)}function nd(l,u){if(l==="click")return td(u)}function Wn(l,u){if(l==="input"||l==="change")return td(u)}function D2(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var qa=typeof Object.is=="function"?Object.is:D2;function Ic(l,u){if(qa(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var m=Object.keys(l),x=Object.keys(u);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var T=m[x];if(!kt.call(u,T)||!qa(l[T],u[T]))return!1}return!0}function zc(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Gs(l,u){var m=zc(l);l=0;for(var x;m;){if(m.nodeType===3){if(x=l+m.textContent.length,l<=u&&x>=u)return{node:m,offset:u-l};l=x}t:{for(;m;){if(m.nextSibling){m=m.nextSibling;break t}m=m.parentNode}m=void 0}m=zc(m)}}function Dm(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?Dm(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function Om(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=Yu(l.document);u instanceof l.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)l=u.contentWindow;else break;u=Yu(l.document)}return u}function Ul(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var es=ts&&"documentMode"in document&&11>=document.documentMode,Hl=null,id=null,Uc=null,ad=!1;function sf(l,u,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;ad||Hl==null||Hl!==Yu(x)||(x=Hl,"selectionStart"in x&&Ul(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Uc&&Ic(Uc,x)||(Uc=x,x=wb(id,"onSelect"),0<x.length&&(u=new Zu("onSelect","select",null,u,m),l.push({event:u,listeners:x}),u.target=Hl)))}function ns(l,u){var m={};return m[l.toLowerCase()]=u.toLowerCase(),m["Webkit"+l]="webkit"+u,m["Moz"+l]="moz"+u,m}var Gl={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionrun:ns("Transition","TransitionRun"),transitionstart:ns("Transition","TransitionStart"),transitioncancel:ns("Transition","TransitionCancel"),transitionend:ns("Transition","TransitionEnd")},of={},Ty={};ts&&(Ty=document.createElement("div").style,"AnimationEvent"in window||(delete Gl.animationend.animation,delete Gl.animationiteration.animation,delete Gl.animationstart.animation),"TransitionEvent"in window||delete Gl.transitionend.transition);function Mo(l){if(of[l])return of[l];if(!Gl[l])return l;var u=Gl[l],m;for(m in u)if(u.hasOwnProperty(m)&&m in Ty)return of[l]=u[m];return l}var Nm=Mo("animationend"),cr=Mo("animationiteration"),lf=Mo("animationstart"),Ry=Mo("transitionrun"),O2=Mo("transitionstart"),Pm=Mo("transitioncancel"),Wi=Mo("transitionend"),km=new Map,Qi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qi.push("scrollEnd");function ur(l,u){km.set(l,u),Sn(u,[l])}var qs=new WeakMap;function Ni(l,u){if(typeof l=="object"&&l!==null){var m=qs.get(l);return m!==void 0?m:(u={value:l,source:u,stack:Jr(u)},qs.set(l,u),u)}return{value:l,source:u,stack:Jr(u)}}var _i=[],Do=0,rd=0;function Va(){for(var l=Do,u=rd=Do=0;u<l;){var m=_i[u];_i[u++]=null;var x=_i[u];_i[u++]=null;var T=_i[u];_i[u++]=null;var O=_i[u];if(_i[u++]=null,x!==null&&T!==null){var q=x.pending;q===null?T.next=T:(T.next=q.next,q.next=T),x.pending=T}O!==0&&No(m,T,O)}}function sd(l,u,m,x){_i[Do++]=l,_i[Do++]=u,_i[Do++]=m,_i[Do++]=x,rd|=x,l.lanes|=x,l=l.alternate,l!==null&&(l.lanes|=x)}function Oo(l,u,m,x){return sd(l,u,m,x),od(l)}function is(l,u){return sd(l,null,null,u),od(l)}function No(l,u,m){l.lanes|=m;var x=l.alternate;x!==null&&(x.lanes|=m);for(var T=!1,O=l.return;O!==null;)O.childLanes|=m,x=O.alternate,x!==null&&(x.childLanes|=m),O.tag===22&&(l=O.stateNode,l===null||l._visibility&1||(T=!0)),l=O,O=O.return;return l.tag===3?(O=l.stateNode,T&&u!==null&&(T=31-Se(m),l=O.hiddenUpdates,x=l[T],x===null?l[T]=[u]:x.push(u),u.lane=m|536870912),O):null}function od(l){if(50<bs)throw bs=0,Id=null,Error(i(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var ql={};function ld(l,u,m,x){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ca(l,u,m,x){return new ld(l,u,m,x)}function Hc(l){return l=l.prototype,!(!l||!l.isReactComponent)}function as(l,u){var m=l.alternate;return m===null?(m=Ca(l.tag,u,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=u,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&65011712,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,u=l.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m.refCleanup=l.refCleanup,m}function cf(l,u){l.flags&=65011714;var m=l.alternate;return m===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=m.childLanes,l.lanes=m.lanes,l.child=m.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=m.memoizedProps,l.memoizedState=m.memoizedState,l.updateQueue=m.updateQueue,l.type=m.type,u=m.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function Gc(l,u,m,x,T,O){var q=0;if(x=l,typeof l=="function")Hc(l)&&(q=1);else if(typeof l=="string")q=wz(l,m,ct.current)?26:l==="html"||l==="head"||l==="body"?27:5;else t:switch(l){case z:return l=Ca(31,m,u,T),l.elementType=z,l.lanes=O,l;case b:return Vs(m.children,T,O,u);case w:q=8,T|=24;break;case E:return l=Ca(12,m,u,T|2),l.elementType=E,l.lanes=O,l;case D:return l=Ca(13,m,u,T),l.elementType=D,l.lanes=O,l;case P:return l=Ca(19,m,u,T),l.elementType=P,l.lanes=O,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case C:case _:q=10;break t;case A:q=9;break t;case M:q=11;break t;case B:q=14;break t;case k:q=16,x=null;break t}q=29,m=Error(i(130,l===null?"null":typeof l,"")),x=null}return u=Ca(q,m,u,T),u.elementType=l,u.type=x,u.lanes=O,u}function Vs(l,u,m,x){return l=Ca(7,l,x,u),l.lanes=m,l}function uf(l,u,m){return l=Ca(6,l,null,u),l.lanes=m,l}function cd(l,u,m){return u=Ca(4,l.children!==null?l.children:[],l.key,u),u.lanes=m,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var Pi=[],Vl=0,Zi=null,ud=0,$a=[],dr=0,Ta=null,rs=1,kr="";function hr(l,u){Pi[Vl++]=ud,Pi[Vl++]=Zi,Zi=l,ud=u}function Lm(l,u,m){$a[dr++]=rs,$a[dr++]=kr,$a[dr++]=Ta,Ta=l;var x=rs;l=kr;var T=32-Se(x)-1;x&=~(1<<T),m+=1;var O=32-Se(u)+T;if(30<O){var q=T-T%5;O=(x&(1<<q)-1).toString(32),x>>=q,T-=q,rs=1<<32-Se(u)+T|m<<T|x,kr=O+l}else rs=1<<O|m<<T|x,kr=l}function df(l){l.return!==null&&(hr(l,1),Lm(l,1,0))}function hf(l){for(;l===Zi;)Zi=Pi[--Vl],Pi[Vl]=null,ud=Pi[--Vl],Pi[Vl]=null;for(;l===Ta;)Ta=$a[--dr],$a[dr]=null,kr=$a[--dr],$a[dr]=null,rs=$a[--dr],$a[dr]=null}var Ji=null,Kn=null,an=!1,$l=null,ss=!1,jm=Error(i(519));function Po(l){var u=Error(i(418,""));throw Vc(Ni(u,l)),jm}function Fm(l){var u=l.stateNode,m=l.type,x=l.memoizedProps;switch(u[Mt]=l,u[qt]=x,m){case"dialog":We("cancel",u),We("close",u);break;case"iframe":case"object":case"embed":We("load",u);break;case"video":case"audio":for(m=0;m<xg.length;m++)We(xg[m],u);break;case"source":We("error",u);break;case"img":case"image":case"link":We("error",u),We("load",u);break;case"details":We("toggle",u);break;case"input":We("invalid",u),Bh(u,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),$u(u);break;case"select":We("invalid",u);break;case"textarea":We("invalid",u),pm(u,x.value,x.defaultValue,x.children),$u(u)}m=x.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||u.textContent===""+m||x.suppressHydrationWarning===!0||J5(u.textContent,m)?(x.popover!=null&&(We("beforetoggle",u),We("toggle",u)),x.onScroll!=null&&We("scroll",u),x.onScrollEnd!=null&&We("scrollend",u),x.onClick!=null&&(u.onclick=_b),u=!0):u=!1,u||Po(l)}function Yl(l){for(Ji=l.return;Ji;)switch(Ji.tag){case 5:case 13:ss=!1;return;case 27:case 3:ss=!0;return;default:Ji=Ji.return}}function ko(l){if(l!==Ji)return!1;if(!an)return Yl(l),an=!0,!1;var u=l.tag,m;if((m=u!==3&&u!==27)&&((m=u===5)&&(m=l.type,m=!(m!=="form"&&m!=="button")||X2(l.type,l.memoizedProps)),m=!m),m&&Kn&&Po(l),Yl(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));t:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8)if(m=l.data,m==="/$"){if(u===0){Kn=so(l.nextSibling);break t}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++;l=l.nextSibling}Kn=null}}else u===27?(u=Kn,pu(l.type)?(l=J2,J2=null,Kn=l):Kn=u):Kn=Ji?so(l.stateNode.nextSibling):null;return!0}function qc(){Kn=Ji=null,an=!1}function Bm(){var l=$l;return l!==null&&($i===null?$i=l:$i.push.apply($i,l),$l=null),l}function Vc(l){$l===null?$l=[l]:$l.push(l)}var ff=$(null),Lo=null,os=null;function fr(l,u,m){K(ff,u._currentValue),u._currentValue=m}function ls(l){l._currentValue=ff.current,it(ff)}function pf(l,u,m){for(;l!==null;){var x=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,x!==null&&(x.childLanes|=u)):x!==null&&(x.childLanes&u)!==u&&(x.childLanes|=u),l===m)break;l=l.return}}function vn(l,u,m,x){var T=l.child;for(T!==null&&(T.return=l);T!==null;){var O=T.dependencies;if(O!==null){var q=T.child;O=O.firstContext;t:for(;O!==null;){var W=O;O=T;for(var st=0;st<u.length;st++)if(W.context===u[st]){O.lanes|=m,W=O.alternate,W!==null&&(W.lanes|=m),pf(O.return,m,l),x||(q=null);break t}O=W.next}}else if(T.tag===18){if(q=T.return,q===null)throw Error(i(341));q.lanes|=m,O=q.alternate,O!==null&&(O.lanes|=m),pf(q,m,l),q=null}else q=T.child;if(q!==null)q.return=T;else for(q=T;q!==null;){if(q===l){q=null;break}if(T=q.sibling,T!==null){T.return=q.return,q=T;break}q=q.return}T=q}}function Kl(l,u,m,x){l=null;for(var T=u,O=!1;T!==null;){if(!O){if((T.flags&524288)!==0)O=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var q=T.alternate;if(q===null)throw Error(i(387));if(q=q.memoizedProps,q!==null){var W=T.type;qa(T.pendingProps.value,q.value)||(l!==null?l.push(W):l=[W])}}else if(T===J.current){if(q=T.alternate,q===null)throw Error(i(387));q.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(l!==null?l.push(Cg):l=[Cg])}T=T.return}l!==null&&vn(u,l,m,x),u.flags|=262144}function mf(l){for(l=l.firstContext;l!==null;){if(!qa(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function jo(l){Lo=l,os=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function ta(l){return My(Lo,l)}function gf(l,u){return Lo===null&&jo(l),My(l,u)}function My(l,u){var m=u._currentValue;if(u={context:u,memoizedValue:m,next:null},os===null){if(l===null)throw Error(i(308));os=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else os=os.next=u;return m}var N2=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(m,x){l.push(x)}};this.abort=function(){u.aborted=!0,l.forEach(function(m){return m()})}},Im=e.unstable_scheduleCallback,$s=e.unstable_NormalPriority,mi={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $c(){return{controller:new N2,data:new Map,refCount:0}}function Lr(l){l.refCount--,l.refCount===0&&Im($s,function(){l.controller.abort()})}var Xl=null,dd=0,Yc=0,Wl=null;function Dy(l,u){if(Xl===null){var m=Xl=[];dd=0,Yc=z2(),Wl={status:"pending",value:void 0,then:function(x){m.push(x)}}}return dd++,u.then(zm,zm),u}function zm(){if(--dd===0&&Xl!==null){Wl!==null&&(Wl.status="fulfilled");var l=Xl;Xl=null,Yc=0,Wl=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function Oy(l,u){var m=[],x={status:"pending",value:null,reason:null,then:function(T){m.push(T)}};return l.then(function(){x.status="fulfilled",x.value=u;for(var T=0;T<m.length;T++)(0,m[T])(u)},function(T){for(x.status="rejected",x.reason=T,T=0;T<m.length;T++)(0,m[T])(void 0)}),x}var Um=tt.S;tt.S=function(l,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&Dy(l,u),Um!==null&&Um(l,u)};var Ys=$(null);function Pe(){var l=Ys.current;return l!==null?l:Rn.pooledCache}function vf(l,u){u===null?K(Ys,Ys.current):K(Ys,u.pool)}function Ra(){var l=Pe();return l===null?null:{parent:mi._currentValue,pool:l}}var Ql=Error(i(460)),Ny=Error(i(474)),Zl=Error(i(542)),Fo={then:function(){}};function Jl(l){return l=l.status,l==="fulfilled"||l==="rejected"}function hd(){}function yf(l,u,m){switch(m=l[m],m===void 0?l.push(u):m!==u&&(u.then(hd,hd),u=m),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,Ks(l),l;default:if(typeof u.status=="string")u.then(hd,hd);else{if(l=Rn,l!==null&&100<l.shellSuspendCounter)throw Error(i(482));l=u,l.status="pending",l.then(function(x){if(u.status==="pending"){var T=u;T.status="fulfilled",T.value=x}},function(x){if(u.status==="pending"){var T=u;T.status="rejected",T.reason=x}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,Ks(l),l}throw fd=u,Ql}}var fd=null;function Hm(){if(fd===null)throw Error(i(459));var l=fd;return fd=null,l}function Ks(l){if(l===Ql||l===Zl)throw Error(i(483))}var cs=!1;function pd(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function md(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function us(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function da(l,u,m){var x=l.updateQueue;if(x===null)return null;if(x=x.shared,(ve&2)!==0){var T=x.pending;return T===null?u.next=u:(u.next=T.next,T.next=u),x.pending=u,u=od(l),No(l,null,m),u}return sd(l,x,u,m),od(l)}function tc(l,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194048)!==0)){var x=u.lanes;x&=l.pendingLanes,m|=x,u.lanes=m,An(l,m)}}function Gm(l,u){var m=l.updateQueue,x=l.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var T=null,O=null;if(m=m.firstBaseUpdate,m!==null){do{var q={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};O===null?T=O=q:O=O.next=q,m=m.next}while(m!==null);O===null?T=O=u:O=O.next=u}else T=O=u;m={baseState:x.baseState,firstBaseUpdate:T,lastBaseUpdate:O,shared:x.shared,callbacks:x.callbacks},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=u}var bf=!1;function gd(){if(bf){var l=Wl;if(l!==null)throw l}}function Bo(l,u,m,x){bf=!1;var T=l.updateQueue;cs=!1;var O=T.firstBaseUpdate,q=T.lastBaseUpdate,W=T.shared.pending;if(W!==null){T.shared.pending=null;var st=W,gt=st.next;st.next=null,q===null?O=gt:q.next=gt,q=st;var Et=l.alternate;Et!==null&&(Et=Et.updateQueue,W=Et.lastBaseUpdate,W!==q&&(W===null?Et.firstBaseUpdate=gt:W.next=gt,Et.lastBaseUpdate=st))}if(O!==null){var Ct=T.baseState;q=0,Et=gt=st=null,W=O;do{var yt=W.lane&-536870913,bt=yt!==W.lane;if(bt?(Xe&yt)===yt:(x&yt)===yt){yt!==0&&yt===Yc&&(bf=!0),Et!==null&&(Et=Et.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});t:{var be=l,de=W;yt=u;var zn=m;switch(de.tag){case 1:if(be=de.payload,typeof be=="function"){Ct=be.call(zn,Ct,yt);break t}Ct=be;break t;case 3:be.flags=be.flags&-65537|128;case 0:if(be=de.payload,yt=typeof be=="function"?be.call(zn,Ct,yt):be,yt==null)break t;Ct=f({},Ct,yt);break t;case 2:cs=!0}}yt=W.callback,yt!==null&&(l.flags|=64,bt&&(l.flags|=8192),bt=T.callbacks,bt===null?T.callbacks=[yt]:bt.push(yt))}else bt={lane:yt,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Et===null?(gt=Et=bt,st=Ct):Et=Et.next=bt,q|=yt;if(W=W.next,W===null){if(W=T.shared.pending,W===null)break;bt=W,W=bt.next,bt.next=null,T.lastBaseUpdate=bt,T.shared.pending=null}}while(!0);Et===null&&(st=Ct),T.baseState=st,T.firstBaseUpdate=gt,T.lastBaseUpdate=Et,O===null&&(T.shared.lanes=0),Pn|=q,l.lanes=q,l.memoizedState=Ct}}function oe(l,u){if(typeof l!="function")throw Error(i(191,l));l.call(u)}function Py(l,u){var m=l.callbacks;if(m!==null)for(l.callbacks=null,l=0;l<m.length;l++)oe(m[l],u)}var Kc=$(null),vd=$(0);function Xc(l,u){l=ys,K(vd,l),K(Kc,u),ys=l|u.baseLanes}function qm(){K(vd,ys),K(Kc,Kc.current)}function Vm(){ys=vd.current,it(Kc),it(vd)}var Io=0,ke=null,Cn=null,ei=null,yd=!1,Xs=!1,zo=!1,xf=0,bd=0,pr=null,Ws=0;function Ve(){throw Error(i(321))}function ds(l,u){if(u===null)return!1;for(var m=0;m<u.length&&m<l.length;m++)if(!qa(l[m],u[m]))return!1;return!0}function Ma(l,u,m,x,T,O){return Io=O,ke=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,tt.H=l===null||l.memoizedState===null?ub:lg,zo=!1,O=m(x,T),zo=!1,Xs&&(O=Ly(u,m,x,T)),ky(l),O}function ky(l){tt.H=Cf;var u=Cn!==null&&Cn.next!==null;if(Io=0,ei=Cn=ke=null,yd=!1,bd=0,pr=null,u)throw Error(i(300));l===null||Tn||(l=l.dependencies,l!==null&&mf(l)&&(Tn=!0))}function Ly(l,u,m,x){ke=l;var T=0;do{if(Xs&&(pr=null),bd=0,Xs=!1,25<=T)throw Error(i(301));if(T+=1,ei=Cn=null,l.updateQueue!=null){var O=l.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}tt.H=j2,O=u(m,x)}while(Xs);return O}function ki(){var l=tt.H,u=l.useState()[0];return u=typeof u.then=="function"?xd(u):u,l=l.useState()[0],(Cn!==null?Cn.memoizedState:null)!==l&&(ke.flags|=1024),u}function jr(){var l=xf!==0;return xf=0,l}function $m(l,u,m){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~m}function Ym(l){if(yd){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}yd=!1}Io=0,ei=Cn=ke=null,Xs=!1,bd=xf=0,pr=null}function Da(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ei===null?ke.memoizedState=ei=l:ei=ei.next=l,ei}function gi(){if(Cn===null){var l=ke.alternate;l=l!==null?l.memoizedState:null}else l=Cn.next;var u=ei===null?ke.memoizedState:ei.next;if(u!==null)ei=u,Cn=l;else{if(l===null)throw ke.alternate===null?Error(i(467)):Error(i(310));Cn=l,l={memoizedState:Cn.memoizedState,baseState:Cn.baseState,baseQueue:Cn.baseQueue,queue:Cn.queue,next:null},ei===null?ke.memoizedState=ei=l:ei=ei.next=l}return ei}function Sf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xd(l){var u=bd;return bd+=1,pr===null&&(pr=[]),l=yf(pr,l,u),u=ke,(ei===null?u.memoizedState:ei.next)===null&&(u=u.alternate,tt.H=u===null||u.memoizedState===null?ub:lg),l}function Sd(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return xd(l);if(l.$$typeof===_)return ta(l)}throw Error(i(438,String(l)))}function Km(l){var u=null,m=ke.updateQueue;if(m!==null&&(u=m.memoCache),u==null){var x=ke.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(u={data:x.data.map(function(T){return T.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),m===null&&(m=Sf(),ke.updateQueue=m),m.memoCache=u,m=u.data[u.index],m===void 0)for(m=u.data[u.index]=Array(l),x=0;x<l;x++)m[x]=H;return u.index++,m}function Oa(l,u){return typeof u=="function"?u(l):u}function hs(l){var u=gi();return Xm(u,Cn,l)}function Xm(l,u,m){var x=l.queue;if(x===null)throw Error(i(311));x.lastRenderedReducer=m;var T=l.baseQueue,O=x.pending;if(O!==null){if(T!==null){var q=T.next;T.next=O.next,O.next=q}u.baseQueue=T=O,x.pending=null}if(O=l.baseState,T===null)l.memoizedState=O;else{u=T.next;var W=q=null,st=null,gt=u,Et=!1;do{var Ct=gt.lane&-536870913;if(Ct!==gt.lane?(Xe&Ct)===Ct:(Io&Ct)===Ct){var yt=gt.revertLane;if(yt===0)st!==null&&(st=st.next={lane:0,revertLane:0,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null}),Ct===Yc&&(Et=!0);else if((Io&yt)===yt){gt=gt.next,yt===Yc&&(Et=!0);continue}else Ct={lane:0,revertLane:gt.revertLane,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null},st===null?(W=st=Ct,q=O):st=st.next=Ct,ke.lanes|=yt,Pn|=yt;Ct=gt.action,zo&&m(O,Ct),O=gt.hasEagerState?gt.eagerState:m(O,Ct)}else yt={lane:Ct,revertLane:gt.revertLane,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null},st===null?(W=st=yt,q=O):st=st.next=yt,ke.lanes|=Ct,Pn|=Ct;gt=gt.next}while(gt!==null&&gt!==u);if(st===null?q=O:st.next=W,!qa(O,l.memoizedState)&&(Tn=!0,Et&&(m=Wl,m!==null)))throw m;l.memoizedState=O,l.baseState=q,l.baseQueue=st,x.lastRenderedState=O}return T===null&&(x.lanes=0),[l.memoizedState,x.dispatch]}function Wm(l){var u=gi(),m=u.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=l;var x=m.dispatch,T=m.pending,O=u.memoizedState;if(T!==null){m.pending=null;var q=T=T.next;do O=l(O,q.action),q=q.next;while(q!==T);qa(O,u.memoizedState)||(Tn=!0),u.memoizedState=O,u.baseQueue===null&&(u.baseState=O),m.lastRenderedState=O}return[O,x]}function jy(l,u,m){var x=ke,T=gi(),O=an;if(O){if(m===void 0)throw Error(i(407));m=m()}else m=u();var q=!qa((Cn||T).memoizedState,m);q&&(T.memoizedState=m,Tn=!0),T=T.queue;var W=By.bind(null,x,T,l);if(wd(2048,8,W,[l]),T.getSnapshot!==u||q||ei!==null&&ei.memoizedState.tag&1){if(x.flags|=2048,Zc(9,wf(),Fy.bind(null,x,T,m,u),null),Rn===null)throw Error(i(349));O||(Io&124)!==0||Wc(x,u,m)}return m}function Wc(l,u,m){l.flags|=16384,l={getSnapshot:u,value:m},u=ke.updateQueue,u===null?(u=Sf(),ke.updateQueue=u,u.stores=[l]):(m=u.stores,m===null?u.stores=[l]:m.push(l))}function Fy(l,u,m,x){u.value=m,u.getSnapshot=x,Iy(u)&&Qc(l)}function By(l,u,m){return m(function(){Iy(u)&&Qc(l)})}function Iy(l){var u=l.getSnapshot;l=l.value;try{var m=u();return!qa(l,m)}catch{return!0}}function Qc(l){var u=is(l,2);u!==null&&xi(u,l,2)}function Qm(l){var u=Da();if(typeof l=="function"){var m=l;if(l=m(),zo){ee(!0);try{m()}finally{ee(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:l},u}function zy(l,u,m,x){return l.baseState=m,Xm(l,Cn,typeof x=="function"?x:Oa)}function P2(l,u,m,x,T){if(Af(l))throw Error(i(485));if(l=u.action,l!==null){var O={payload:T,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(q){O.listeners.push(q)}};tt.T!==null?m(!0):O.isTransition=!1,x(O),m=u.pending,m===null?(O.next=u.pending=O,Uy(u,O)):(O.next=m.next,u.pending=m.next=O)}}function Uy(l,u){var m=u.action,x=u.payload,T=l.state;if(u.isTransition){var O=tt.T,q={};tt.T=q;try{var W=m(T,x),st=tt.S;st!==null&&st(q,W),Hy(l,u,W)}catch(gt){Zm(l,u,gt)}finally{tt.T=O}}else try{O=m(T,x),Hy(l,u,O)}catch(gt){Zm(l,u,gt)}}function Hy(l,u,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(x){Gy(l,u,x)},function(x){return Zm(l,u,x)}):Gy(l,u,m)}function Gy(l,u,m){u.status="fulfilled",u.value=m,qy(u),l.state=m,u=l.pending,u!==null&&(m=u.next,m===u?l.pending=null:(m=m.next,u.next=m,Uy(l,m)))}function Zm(l,u,m){var x=l.pending;if(l.pending=null,x!==null){x=x.next;do u.status="rejected",u.reason=m,qy(u),u=u.next;while(u!==x)}l.action=null}function qy(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function Vy(l,u){return u}function $y(l,u){if(an){var m=Rn.formState;if(m!==null){t:{var x=ke;if(an){if(Kn){e:{for(var T=Kn,O=ss;T.nodeType!==8;){if(!O){T=null;break e}if(T=so(T.nextSibling),T===null){T=null;break e}}O=T.data,T=O==="F!"||O==="F"?T:null}if(T){Kn=so(T.nextSibling),x=T.data==="F!";break t}}Po(x)}x=!1}x&&(u=m[0])}}return m=Da(),m.memoizedState=m.baseState=u,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vy,lastRenderedState:u},m.queue=x,m=ob.bind(null,ke,x),x.dispatch=m,x=Qm(!1),O=og.bind(null,ke,!1,x.queue),x=Da(),T={state:u,dispatch:null,action:l,pending:null},x.queue=T,m=P2.bind(null,ke,T,O,m),T.dispatch=m,x.memoizedState=l,[u,m,!1]}function Yy(l){var u=gi();return Ky(u,Cn,l)}function Ky(l,u,m){if(u=Xm(l,u,Vy)[0],l=hs(Oa)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var x=xd(u)}catch(q){throw q===Ql?Zl:q}else x=u;u=gi();var T=u.queue,O=T.dispatch;return m!==u.memoizedState&&(ke.flags|=2048,Zc(9,wf(),Xy.bind(null,T,m),null)),[x,O,l]}function Xy(l,u){l.action=u}function Wy(l){var u=gi(),m=Cn;if(m!==null)return Ky(u,m,l);gi(),u=u.memoizedState,m=gi();var x=m.queue.dispatch;return m.memoizedState=l,[u,x,!1]}function Zc(l,u,m,x){return l={tag:l,create:m,deps:x,inst:u,next:null},u=ke.updateQueue,u===null&&(u=Sf(),ke.updateQueue=u),m=u.lastEffect,m===null?u.lastEffect=l.next=l:(x=m.next,m.next=l,l.next=x,u.lastEffect=l),l}function wf(){return{destroy:void 0,resource:void 0}}function Qy(){return gi().memoizedState}function _f(l,u,m,x){var T=Da();x=x===void 0?null:x,ke.flags|=l,T.memoizedState=Zc(1|u,wf(),m,x)}function wd(l,u,m,x){var T=gi();x=x===void 0?null:x;var O=T.memoizedState.inst;Cn!==null&&x!==null&&ds(x,Cn.memoizedState.deps)?T.memoizedState=Zc(u,O,m,x):(ke.flags|=l,T.memoizedState=Zc(1|u,O,m,x))}function Jm(l,u){_f(8390656,8,l,u)}function tg(l,u){wd(2048,8,l,u)}function Zy(l,u){return wd(4,2,l,u)}function eg(l,u){return wd(4,4,l,u)}function ng(l,u){if(typeof u=="function"){l=l();var m=u(l);return function(){typeof m=="function"?m():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function ig(l,u,m){m=m!=null?m.concat([l]):null,wd(4,4,ng.bind(null,u,l),m)}function _d(){}function Ef(l,u){var m=gi();u=u===void 0?null:u;var x=m.memoizedState;return u!==null&&ds(u,x[1])?x[0]:(m.memoizedState=[l,u],l)}function Jy(l,u){var m=gi();u=u===void 0?null:u;var x=m.memoizedState;if(u!==null&&ds(u,x[1]))return x[0];if(x=l(),zo){ee(!0);try{l()}finally{ee(!1)}}return m.memoizedState=[x,u],x}function ag(l,u,m){return m===void 0||(Io&1073741824)!==0?l.memoizedState=u:(l.memoizedState=m,l=Zn(),ke.lanes|=l,Pn|=l,m)}function tb(l,u,m,x){return qa(m,u)?m:Kc.current!==null?(l=ag(l,m,x),qa(l,u)||(Tn=!0),l):(Io&42)===0?(Tn=!0,l.memoizedState=m):(l=Zn(),ke.lanes|=l,Pn|=l,u)}function eb(l,u,m,x,T){var O=I.p;I.p=O!==0&&8>O?O:8;var q=tt.T,W={};tt.T=W,og(l,!1,u,m);try{var st=T(),gt=tt.S;if(gt!==null&&gt(W,st),st!==null&&typeof st=="object"&&typeof st.then=="function"){var Et=Oy(st,x);Ed(l,u,Et,li(l))}else Ed(l,u,x,li(l))}catch(Ct){Ed(l,u,{then:function(){},status:"rejected",reason:Ct},li())}finally{I.p=O,tt.T=q}}function nb(){}function rg(l,u,m,x){if(l.tag!==5)throw Error(i(476));var T=ib(l).queue;eb(l,T,u,V,m===null?nb:function(){return ab(l),m(x)})}function ib(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:V},next:null};var m={};return u.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:m},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function ab(l){var u=ib(l).next.queue;Ed(l,u,{},li())}function sg(){return ta(Cg)}function rb(){return gi().memoizedState}function sb(){return gi().memoizedState}function k2(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var m=li();l=us(m);var x=da(u,l,m);x!==null&&(xi(x,u,m),tc(x,u,m)),u={cache:$c()},l.payload=u;return}u=u.return}}function L2(l,u,m){var x=li();m={lane:x,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},Af(l)?lb(u,m):(m=Oo(l,u,m,x),m!==null&&(xi(m,l,x),cb(m,u,x)))}function ob(l,u,m){var x=li();Ed(l,u,m,x)}function Ed(l,u,m,x){var T={lane:x,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(Af(l))lb(u,T);else{var O=l.alternate;if(l.lanes===0&&(O===null||O.lanes===0)&&(O=u.lastRenderedReducer,O!==null))try{var q=u.lastRenderedState,W=O(q,m);if(T.hasEagerState=!0,T.eagerState=W,qa(W,q))return sd(l,u,T,0),Rn===null&&Va(),!1}catch{}finally{}if(m=Oo(l,u,T,x),m!==null)return xi(m,l,x),cb(m,u,x),!0}return!1}function og(l,u,m,x){if(x={lane:2,revertLane:z2(),action:x,hasEagerState:!1,eagerState:null,next:null},Af(l)){if(u)throw Error(i(479))}else u=Oo(l,m,x,2),u!==null&&xi(u,l,2)}function Af(l){var u=l.alternate;return l===ke||u!==null&&u===ke}function lb(l,u){Xs=yd=!0;var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}function cb(l,u,m){if((m&4194048)!==0){var x=u.lanes;x&=l.pendingLanes,m|=x,u.lanes=m,An(l,m)}}var Cf={readContext:ta,use:Sd,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve},ub={readContext:ta,use:Sd,useCallback:function(l,u){return Da().memoizedState=[l,u===void 0?null:u],l},useContext:ta,useEffect:Jm,useImperativeHandle:function(l,u,m){m=m!=null?m.concat([l]):null,_f(4194308,4,ng.bind(null,u,l),m)},useLayoutEffect:function(l,u){return _f(4194308,4,l,u)},useInsertionEffect:function(l,u){_f(4,2,l,u)},useMemo:function(l,u){var m=Da();u=u===void 0?null:u;var x=l();if(zo){ee(!0);try{l()}finally{ee(!1)}}return m.memoizedState=[x,u],x},useReducer:function(l,u,m){var x=Da();if(m!==void 0){var T=m(u);if(zo){ee(!0);try{m(u)}finally{ee(!1)}}}else T=u;return x.memoizedState=x.baseState=T,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:T},x.queue=l,l=l.dispatch=L2.bind(null,ke,l),[x.memoizedState,l]},useRef:function(l){var u=Da();return l={current:l},u.memoizedState=l},useState:function(l){l=Qm(l);var u=l.queue,m=ob.bind(null,ke,u);return u.dispatch=m,[l.memoizedState,m]},useDebugValue:_d,useDeferredValue:function(l,u){var m=Da();return ag(m,l,u)},useTransition:function(){var l=Qm(!1);return l=eb.bind(null,ke,l.queue,!0,!1),Da().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,m){var x=ke,T=Da();if(an){if(m===void 0)throw Error(i(407));m=m()}else{if(m=u(),Rn===null)throw Error(i(349));(Xe&124)!==0||Wc(x,u,m)}T.memoizedState=m;var O={value:m,getSnapshot:u};return T.queue=O,Jm(By.bind(null,x,O,l),[l]),x.flags|=2048,Zc(9,wf(),Fy.bind(null,x,O,m,u),null),m},useId:function(){var l=Da(),u=Rn.identifierPrefix;if(an){var m=kr,x=rs;m=(x&~(1<<32-Se(x)-1)).toString(32)+m,u=""+u+"R"+m,m=xf++,0<m&&(u+="H"+m.toString(32)),u+=""}else m=Ws++,u=""+u+"r"+m.toString(32)+"";return l.memoizedState=u},useHostTransitionStatus:sg,useFormState:$y,useActionState:$y,useOptimistic:function(l){var u=Da();u.memoizedState=u.baseState=l;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=m,u=og.bind(null,ke,!0,m),m.dispatch=u,[l,u]},useMemoCache:Km,useCacheRefresh:function(){return Da().memoizedState=k2.bind(null,ke)}},lg={readContext:ta,use:Sd,useCallback:Ef,useContext:ta,useEffect:tg,useImperativeHandle:ig,useInsertionEffect:Zy,useLayoutEffect:eg,useMemo:Jy,useReducer:hs,useRef:Qy,useState:function(){return hs(Oa)},useDebugValue:_d,useDeferredValue:function(l,u){var m=gi();return tb(m,Cn.memoizedState,l,u)},useTransition:function(){var l=hs(Oa)[0],u=gi().memoizedState;return[typeof l=="boolean"?l:xd(l),u]},useSyncExternalStore:jy,useId:rb,useHostTransitionStatus:sg,useFormState:Yy,useActionState:Yy,useOptimistic:function(l,u){var m=gi();return zy(m,Cn,l,u)},useMemoCache:Km,useCacheRefresh:sb},j2={readContext:ta,use:Sd,useCallback:Ef,useContext:ta,useEffect:tg,useImperativeHandle:ig,useInsertionEffect:Zy,useLayoutEffect:eg,useMemo:Jy,useReducer:Wm,useRef:Qy,useState:function(){return Wm(Oa)},useDebugValue:_d,useDeferredValue:function(l,u){var m=gi();return Cn===null?ag(m,l,u):tb(m,Cn.memoizedState,l,u)},useTransition:function(){var l=Wm(Oa)[0],u=gi().memoizedState;return[typeof l=="boolean"?l:xd(l),u]},useSyncExternalStore:jy,useId:rb,useHostTransitionStatus:sg,useFormState:Wy,useActionState:Wy,useOptimistic:function(l,u){var m=gi();return Cn!==null?zy(m,Cn,l,u):(m.baseState=l,[l,m.queue.dispatch])},useMemoCache:Km,useCacheRefresh:sb},Jc=null,ha=0;function Ad(l){var u=ha;return ha+=1,Jc===null&&(Jc=[]),yf(Jc,l,u)}function ec(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function Cd(l,u){throw u.$$typeof===g?Error(i(525)):(l=Object.prototype.toString.call(u),Error(i(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function cg(l){var u=l._init;return u(l._payload)}function ug(l){function u(ht,ut){if(l){var mt=ht.deletions;mt===null?(ht.deletions=[ut],ht.flags|=16):mt.push(ut)}}function m(ht,ut){if(!l)return null;for(;ut!==null;)u(ht,ut),ut=ut.sibling;return null}function x(ht){for(var ut=new Map;ht!==null;)ht.key!==null?ut.set(ht.key,ht):ut.set(ht.index,ht),ht=ht.sibling;return ut}function T(ht,ut){return ht=as(ht,ut),ht.index=0,ht.sibling=null,ht}function O(ht,ut,mt){return ht.index=mt,l?(mt=ht.alternate,mt!==null?(mt=mt.index,mt<ut?(ht.flags|=67108866,ut):mt):(ht.flags|=67108866,ut)):(ht.flags|=1048576,ut)}function q(ht){return l&&ht.alternate===null&&(ht.flags|=67108866),ht}function W(ht,ut,mt,At){return ut===null||ut.tag!==6?(ut=uf(mt,ht.mode,At),ut.return=ht,ut):(ut=T(ut,mt),ut.return=ht,ut)}function st(ht,ut,mt,At){var Xt=mt.type;return Xt===b?Et(ht,ut,mt.props.children,At,mt.key):ut!==null&&(ut.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===k&&cg(Xt)===ut.type)?(ut=T(ut,mt.props),ec(ut,mt),ut.return=ht,ut):(ut=Gc(mt.type,mt.key,mt.props,null,ht.mode,At),ec(ut,mt),ut.return=ht,ut)}function gt(ht,ut,mt,At){return ut===null||ut.tag!==4||ut.stateNode.containerInfo!==mt.containerInfo||ut.stateNode.implementation!==mt.implementation?(ut=cd(mt,ht.mode,At),ut.return=ht,ut):(ut=T(ut,mt.children||[]),ut.return=ht,ut)}function Et(ht,ut,mt,At,Xt){return ut===null||ut.tag!==7?(ut=Vs(mt,ht.mode,At,Xt),ut.return=ht,ut):(ut=T(ut,mt),ut.return=ht,ut)}function Ct(ht,ut,mt){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return ut=uf(""+ut,ht.mode,mt),ut.return=ht,ut;if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case v:return mt=Gc(ut.type,ut.key,ut.props,null,ht.mode,mt),ec(mt,ut),mt.return=ht,mt;case y:return ut=cd(ut,ht.mode,mt),ut.return=ht,ut;case k:var At=ut._init;return ut=At(ut._payload),Ct(ht,ut,mt)}if(nt(ut)||Q(ut))return ut=Vs(ut,ht.mode,mt,null),ut.return=ht,ut;if(typeof ut.then=="function")return Ct(ht,Ad(ut),mt);if(ut.$$typeof===_)return Ct(ht,gf(ht,ut),mt);Cd(ht,ut)}return null}function yt(ht,ut,mt,At){var Xt=ut!==null?ut.key:null;if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return Xt!==null?null:W(ht,ut,""+mt,At);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case v:return mt.key===Xt?st(ht,ut,mt,At):null;case y:return mt.key===Xt?gt(ht,ut,mt,At):null;case k:return Xt=mt._init,mt=Xt(mt._payload),yt(ht,ut,mt,At)}if(nt(mt)||Q(mt))return Xt!==null?null:Et(ht,ut,mt,At,null);if(typeof mt.then=="function")return yt(ht,ut,Ad(mt),At);if(mt.$$typeof===_)return yt(ht,ut,gf(ht,mt),At);Cd(ht,mt)}return null}function bt(ht,ut,mt,At,Xt){if(typeof At=="string"&&At!==""||typeof At=="number"||typeof At=="bigint")return ht=ht.get(mt)||null,W(ut,ht,""+At,Xt);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case v:return ht=ht.get(At.key===null?mt:At.key)||null,st(ut,ht,At,Xt);case y:return ht=ht.get(At.key===null?mt:At.key)||null,gt(ut,ht,At,Xt);case k:var $e=At._init;return At=$e(At._payload),bt(ht,ut,mt,At,Xt)}if(nt(At)||Q(At))return ht=ht.get(mt)||null,Et(ut,ht,At,Xt,null);if(typeof At.then=="function")return bt(ht,ut,mt,Ad(At),Xt);if(At.$$typeof===_)return bt(ht,ut,mt,gf(ut,At),Xt);Cd(ut,At)}return null}function be(ht,ut,mt,At){for(var Xt=null,$e=null,ne=ut,fe=ut=0,ra=null;ne!==null&&fe<mt.length;fe++){ne.index>fe?(ra=ne,ne=null):ra=ne.sibling;var wn=yt(ht,ne,mt[fe],At);if(wn===null){ne===null&&(ne=ra);break}l&&ne&&wn.alternate===null&&u(ht,ne),ut=O(wn,ut,fe),$e===null?Xt=wn:$e.sibling=wn,$e=wn,ne=ra}if(fe===mt.length)return m(ht,ne),an&&hr(ht,fe),Xt;if(ne===null){for(;fe<mt.length;fe++)ne=Ct(ht,mt[fe],At),ne!==null&&(ut=O(ne,ut,fe),$e===null?Xt=ne:$e.sibling=ne,$e=ne);return an&&hr(ht,fe),Xt}for(ne=x(ne);fe<mt.length;fe++)ra=bt(ne,ht,fe,mt[fe],At),ra!==null&&(l&&ra.alternate!==null&&ne.delete(ra.key===null?fe:ra.key),ut=O(ra,ut,fe),$e===null?Xt=ra:$e.sibling=ra,$e=ra);return l&&ne.forEach(function(bu){return u(ht,bu)}),an&&hr(ht,fe),Xt}function de(ht,ut,mt,At){if(mt==null)throw Error(i(151));for(var Xt=null,$e=null,ne=ut,fe=ut=0,ra=null,wn=mt.next();ne!==null&&!wn.done;fe++,wn=mt.next()){ne.index>fe?(ra=ne,ne=null):ra=ne.sibling;var bu=yt(ht,ne,wn.value,At);if(bu===null){ne===null&&(ne=ra);break}l&&ne&&bu.alternate===null&&u(ht,ne),ut=O(bu,ut,fe),$e===null?Xt=bu:$e.sibling=bu,$e=bu,ne=ra}if(wn.done)return m(ht,ne),an&&hr(ht,fe),Xt;if(ne===null){for(;!wn.done;fe++,wn=mt.next())wn=Ct(ht,wn.value,At),wn!==null&&(ut=O(wn,ut,fe),$e===null?Xt=wn:$e.sibling=wn,$e=wn);return an&&hr(ht,fe),Xt}for(ne=x(ne);!wn.done;fe++,wn=mt.next())wn=bt(ne,ht,fe,wn.value,At),wn!==null&&(l&&wn.alternate!==null&&ne.delete(wn.key===null?fe:wn.key),ut=O(wn,ut,fe),$e===null?Xt=wn:$e.sibling=wn,$e=wn);return l&&ne.forEach(function(kz){return u(ht,kz)}),an&&hr(ht,fe),Xt}function zn(ht,ut,mt,At){if(typeof mt=="object"&&mt!==null&&mt.type===b&&mt.key===null&&(mt=mt.props.children),typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case v:t:{for(var Xt=mt.key;ut!==null;){if(ut.key===Xt){if(Xt=mt.type,Xt===b){if(ut.tag===7){m(ht,ut.sibling),At=T(ut,mt.props.children),At.return=ht,ht=At;break t}}else if(ut.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===k&&cg(Xt)===ut.type){m(ht,ut.sibling),At=T(ut,mt.props),ec(At,mt),At.return=ht,ht=At;break t}m(ht,ut);break}else u(ht,ut);ut=ut.sibling}mt.type===b?(At=Vs(mt.props.children,ht.mode,At,mt.key),At.return=ht,ht=At):(At=Gc(mt.type,mt.key,mt.props,null,ht.mode,At),ec(At,mt),At.return=ht,ht=At)}return q(ht);case y:t:{for(Xt=mt.key;ut!==null;){if(ut.key===Xt)if(ut.tag===4&&ut.stateNode.containerInfo===mt.containerInfo&&ut.stateNode.implementation===mt.implementation){m(ht,ut.sibling),At=T(ut,mt.children||[]),At.return=ht,ht=At;break t}else{m(ht,ut);break}else u(ht,ut);ut=ut.sibling}At=cd(mt,ht.mode,At),At.return=ht,ht=At}return q(ht);case k:return Xt=mt._init,mt=Xt(mt._payload),zn(ht,ut,mt,At)}if(nt(mt))return be(ht,ut,mt,At);if(Q(mt)){if(Xt=Q(mt),typeof Xt!="function")throw Error(i(150));return mt=Xt.call(mt),de(ht,ut,mt,At)}if(typeof mt.then=="function")return zn(ht,ut,Ad(mt),At);if(mt.$$typeof===_)return zn(ht,ut,gf(ht,mt),At);Cd(ht,mt)}return typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint"?(mt=""+mt,ut!==null&&ut.tag===6?(m(ht,ut.sibling),At=T(ut,mt),At.return=ht,ht=At):(m(ht,ut),At=uf(mt,ht.mode,At),At.return=ht,ht=At),q(ht)):m(ht,ut)}return function(ht,ut,mt,At){try{ha=0;var Xt=zn(ht,ut,mt,At);return Jc=null,Xt}catch(ne){if(ne===Ql||ne===Zl)throw ne;var $e=Ca(29,ne,null,ht.mode);return $e.lanes=At,$e.return=ht,$e}finally{}}}var tu=ug(!0),dg=ug(!1),Ya=$(null),fs=null;function Uo(l){var u=l.alternate;K(Ue,Ue.current&1),K(Ya,l),fs===null&&(u===null||Kc.current!==null||u.memoizedState!==null)&&(fs=l)}function db(l){if(l.tag===22){if(K(Ue,Ue.current),K(Ya,l),fs===null){var u=l.alternate;u!==null&&u.memoizedState!==null&&(fs=l)}}else Qs()}function Qs(){K(Ue,Ue.current),K(Ya,Ya.current)}function Zs(l){it(Ya),fs===l&&(fs=null),it(Ue)}var Ue=$(0);function Td(l){for(var u=l;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||Z2(m)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function hg(l,u,m,x){u=l.memoizedState,m=m(x,u),m=m==null?u:f({},u,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Tf={enqueueSetState:function(l,u,m){l=l._reactInternals;var x=li(),T=us(x);T.payload=u,m!=null&&(T.callback=m),u=da(l,T,x),u!==null&&(xi(u,l,x),tc(u,l,x))},enqueueReplaceState:function(l,u,m){l=l._reactInternals;var x=li(),T=us(x);T.tag=1,T.payload=u,m!=null&&(T.callback=m),u=da(l,T,x),u!==null&&(xi(u,l,x),tc(u,l,x))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var m=li(),x=us(m);x.tag=2,u!=null&&(x.callback=u),u=da(l,x,m),u!==null&&(xi(u,l,m),tc(u,l,m))}};function fg(l,u,m,x,T,O,q){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,O,q):u.prototype&&u.prototype.isPureReactComponent?!Ic(m,x)||!Ic(T,O):!0}function nc(l,u,m,x){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,x),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,x),u.state!==l&&Tf.enqueueReplaceState(u,u.state,null)}function Js(l,u){var m=u;if("ref"in u){m={};for(var x in u)x!=="ref"&&(m[x]=u[x])}if(l=l.defaultProps){m===u&&(m=f({},m));for(var T in l)m[T]===void 0&&(m[T]=l[T])}return m}var to=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function ic(l){to(l)}function Na(l){console.error(l)}function hb(l){to(l)}function Rf(l,u){try{var m=l.onUncaughtError;m(u.value,{componentStack:u.stack})}catch(x){setTimeout(function(){throw x})}}function Rd(l,u,m){try{var x=l.onCaughtError;x(m.value,{componentStack:m.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function eu(l,u,m){return m=us(m),m.tag=3,m.payload={element:null},m.callback=function(){Rf(l,u)},m}function Md(l){return l=us(l),l.tag=3,l}function Mf(l,u,m,x){var T=m.type.getDerivedStateFromError;if(typeof T=="function"){var O=x.value;l.payload=function(){return T(O)},l.callback=function(){Rd(u,m,x)}}var q=m.stateNode;q!==null&&typeof q.componentDidCatch=="function"&&(l.callback=function(){Rd(u,m,x),typeof T!="function"&&(Jo===null?Jo=new Set([this]):Jo.add(this));var W=x.stack;this.componentDidCatch(x.value,{componentStack:W!==null?W:""})})}function F2(l,u,m,x,T){if(m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(u=m.alternate,u!==null&&Kl(u,m,T,!0),m=Ya.current,m!==null){switch(m.tag){case 13:return fs===null?xs():m.alternate===null&&Le===0&&(Le=3),m.flags&=-257,m.flags|=65536,m.lanes=T,x===Fo?m.flags|=16384:(u=m.updateQueue,u===null?m.updateQueue=new Set([x]):u.add(x),Rt(l,x,T)),!1;case 22:return m.flags|=65536,x===Fo?m.flags|=16384:(u=m.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([x])},m.updateQueue=u):(m=u.retryQueue,m===null?u.retryQueue=new Set([x]):m.add(x)),Rt(l,x,T)),!1}throw Error(i(435,m.tag))}return Rt(l,x,T),xs(),!1}if(an)return u=Ya.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=T,x!==jm&&(l=Error(i(422),{cause:x}),Vc(Ni(l,m)))):(x!==jm&&(u=Error(i(423),{cause:x}),Vc(Ni(u,m))),l=l.current.alternate,l.flags|=65536,T&=-T,l.lanes|=T,x=Ni(x,m),T=eu(l.stateNode,x,T),Gm(l,T),Le!==4&&(Le=2)),!1;var O=Error(i(520),{cause:x});if(O=Ni(O,m),Qo===null?Qo=[O]:Qo.push(O),Le!==4&&(Le=2),u===null)return!0;x=Ni(x,m),m=u;do{switch(m.tag){case 3:return m.flags|=65536,l=T&-T,m.lanes|=l,l=eu(m.stateNode,x,l),Gm(m,l),!1;case 1:if(u=m.type,O=m.stateNode,(m.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Jo===null||!Jo.has(O))))return m.flags|=65536,T&=-T,m.lanes|=T,T=Md(T),Mf(T,l,m,x),Gm(m,T),!1}m=m.return}while(m!==null);return!1}var fb=Error(i(461)),Tn=!1;function Li(l,u,m,x){u.child=l===null?dg(u,null,m,x):tu(u,l.child,m,x)}function pb(l,u,m,x,T){m=m.render;var O=u.ref;if("ref"in x){var q={};for(var W in x)W!=="ref"&&(q[W]=x[W])}else q=x;return jo(u),x=Ma(l,u,m,q,O,T),W=jr(),l!==null&&!Tn?($m(l,u,T),Gn(l,u,T)):(an&&W&&df(u),u.flags|=1,Li(l,u,x,T),u.child)}function Df(l,u,m,x,T){if(l===null){var O=m.type;return typeof O=="function"&&!Hc(O)&&O.defaultProps===void 0&&m.compare===null?(u.tag=15,u.type=O,mb(l,u,O,x,T)):(l=Gc(m.type,null,x,u,u.mode,T),l.ref=u.ref,l.return=u,u.child=l)}if(O=l.child,!ac(l,T)){var q=O.memoizedProps;if(m=m.compare,m=m!==null?m:Ic,m(q,x)&&l.ref===u.ref)return Gn(l,u,T)}return u.flags|=1,l=as(O,x),l.ref=u.ref,l.return=u,u.child=l}function mb(l,u,m,x,T){if(l!==null){var O=l.memoizedProps;if(Ic(O,x)&&l.ref===u.ref)if(Tn=!1,u.pendingProps=x=O,ac(l,T))(l.flags&131072)!==0&&(Tn=!0);else return u.lanes=l.lanes,Gn(l,u,T)}return fa(l,u,m,x,T)}function gb(l,u,m){var x=u.pendingProps,T=x.children,O=l!==null?l.memoizedState:null;if(x.mode==="hidden"){if((u.flags&128)!==0){if(x=O!==null?O.baseLanes|m:m,l!==null){for(T=u.child=l.child,O=0;T!==null;)O=O|T.lanes|T.childLanes,T=T.sibling;u.childLanes=O&~x}else u.childLanes=0,u.child=null;return vb(l,u,x,m)}if((m&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&vf(u,O!==null?O.cachePool:null),O!==null?Xc(u,O):qm(),db(u);else return u.lanes=u.childLanes=536870912,vb(l,u,O!==null?O.baseLanes|m:m,m)}else O!==null?(vf(u,O.cachePool),Xc(u,O),Qs(),u.memoizedState=null):(l!==null&&vf(u,null),qm(),Qs());return Li(l,u,T,m),u.child}function vb(l,u,m,x){var T=Pe();return T=T===null?null:{parent:mi._currentValue,pool:T},u.memoizedState={baseLanes:m,cachePool:T},l!==null&&vf(u,null),qm(),db(u),l!==null&&Kl(l,u,x,!0),null}function Ho(l,u){var m=u.ref;if(m===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(i(284));(l===null||l.ref!==m)&&(u.flags|=4194816)}}function fa(l,u,m,x,T){return jo(u),m=Ma(l,u,m,x,void 0,T),x=jr(),l!==null&&!Tn?($m(l,u,T),Gn(l,u,T)):(an&&x&&df(u),u.flags|=1,Li(l,u,m,T),u.child)}function Of(l,u,m,x,T,O){return jo(u),u.updateQueue=null,m=Ly(u,x,m,T),ky(l),x=jr(),l!==null&&!Tn?($m(l,u,O),Gn(l,u,O)):(an&&x&&df(u),u.flags|=1,Li(l,u,m,O),u.child)}function pg(l,u,m,x,T){if(jo(u),u.stateNode===null){var O=ql,q=m.contextType;typeof q=="object"&&q!==null&&(O=ta(q)),O=new m(x,O),u.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=Tf,u.stateNode=O,O._reactInternals=u,O=u.stateNode,O.props=x,O.state=u.memoizedState,O.refs={},pd(u),q=m.contextType,O.context=typeof q=="object"&&q!==null?ta(q):ql,O.state=u.memoizedState,q=m.getDerivedStateFromProps,typeof q=="function"&&(hg(u,m,q,x),O.state=u.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(q=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),q!==O.state&&Tf.enqueueReplaceState(O,O.state,null),Bo(u,x,O,T),gd(),O.state=u.memoizedState),typeof O.componentDidMount=="function"&&(u.flags|=4194308),x=!0}else if(l===null){O=u.stateNode;var W=u.memoizedProps,st=Js(m,W);O.props=st;var gt=O.context,Et=m.contextType;q=ql,typeof Et=="object"&&Et!==null&&(q=ta(Et));var Ct=m.getDerivedStateFromProps;Et=typeof Ct=="function"||typeof O.getSnapshotBeforeUpdate=="function",W=u.pendingProps!==W,Et||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(W||gt!==q)&&nc(u,O,x,q),cs=!1;var yt=u.memoizedState;O.state=yt,Bo(u,x,O,T),gd(),gt=u.memoizedState,W||yt!==gt||cs?(typeof Ct=="function"&&(hg(u,m,Ct,x),gt=u.memoizedState),(st=cs||fg(u,m,st,x,yt,gt,q))?(Et||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(u.flags|=4194308)):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=x,u.memoizedState=gt),O.props=x,O.state=gt,O.context=q,x=st):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),x=!1)}else{O=u.stateNode,md(l,u),q=u.memoizedProps,Et=Js(m,q),O.props=Et,Ct=u.pendingProps,yt=O.context,gt=m.contextType,st=ql,typeof gt=="object"&&gt!==null&&(st=ta(gt)),W=m.getDerivedStateFromProps,(gt=typeof W=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(q!==Ct||yt!==st)&&nc(u,O,x,st),cs=!1,yt=u.memoizedState,O.state=yt,Bo(u,x,O,T),gd();var bt=u.memoizedState;q!==Ct||yt!==bt||cs||l!==null&&l.dependencies!==null&&mf(l.dependencies)?(typeof W=="function"&&(hg(u,m,W,x),bt=u.memoizedState),(Et=cs||fg(u,m,Et,x,yt,bt,st)||l!==null&&l.dependencies!==null&&mf(l.dependencies))?(gt||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(x,bt,st),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(x,bt,st)),typeof O.componentDidUpdate=="function"&&(u.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof O.componentDidUpdate!="function"||q===l.memoizedProps&&yt===l.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||q===l.memoizedProps&&yt===l.memoizedState||(u.flags|=1024),u.memoizedProps=x,u.memoizedState=bt),O.props=x,O.state=bt,O.context=st,x=Et):(typeof O.componentDidUpdate!="function"||q===l.memoizedProps&&yt===l.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||q===l.memoizedProps&&yt===l.memoizedState||(u.flags|=1024),x=!1)}return O=x,Ho(l,u),x=(u.flags&128)!==0,O||x?(O=u.stateNode,m=x&&typeof m.getDerivedStateFromError!="function"?null:O.render(),u.flags|=1,l!==null&&x?(u.child=tu(u,l.child,null,T),u.child=tu(u,null,m,T)):Li(l,u,m,T),u.memoizedState=O.state,l=u.child):l=Gn(l,u,T),l}function Nf(l,u,m,x){return qc(),u.flags|=256,Li(l,u,m,x),u.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Go(l){return{baseLanes:l,cachePool:Ra()}}function qo(l,u,m){return l=l!==null?l.childLanes&~m:0,u&&(l|=Vi),l}function Dd(l,u,m){var x=u.pendingProps,T=!1,O=(u.flags&128)!==0,q;if((q=O)||(q=l!==null&&l.memoizedState===null?!1:(Ue.current&2)!==0),q&&(T=!0,u.flags&=-129),q=(u.flags&32)!==0,u.flags&=-33,l===null){if(an){if(T?Uo(u):Qs(),an){var W=Kn,st;if(st=W){t:{for(st=W,W=ss;st.nodeType!==8;){if(!W){W=null;break t}if(st=so(st.nextSibling),st===null){W=null;break t}}W=st}W!==null?(u.memoizedState={dehydrated:W,treeContext:Ta!==null?{id:rs,overflow:kr}:null,retryLane:536870912,hydrationErrors:null},st=Ca(18,null,null,0),st.stateNode=W,st.return=u,u.child=st,Ji=u,Kn=null,st=!0):st=!1}st||Po(u)}if(W=u.memoizedState,W!==null&&(W=W.dehydrated,W!==null))return Z2(W)?u.lanes=32:u.lanes=536870912,null;Zs(u)}return W=x.children,x=x.fallback,T?(Qs(),T=u.mode,W=pa({mode:"hidden",children:W},T),x=Vs(x,T,m,null),W.return=u,x.return=u,W.sibling=x,u.child=W,T=u.child,T.memoizedState=Go(m),T.childLanes=qo(l,q,m),u.memoizedState=Pf,x):(Uo(u),nu(u,W))}if(st=l.memoizedState,st!==null&&(W=st.dehydrated,W!==null)){if(O)u.flags&256?(Uo(u),u.flags&=-257,u=Pa(l,u,m)):u.memoizedState!==null?(Qs(),u.child=l.child,u.flags|=128,u=null):(Qs(),T=x.fallback,W=u.mode,x=pa({mode:"visible",children:x.children},W),T=Vs(T,W,m,null),T.flags|=2,x.return=u,T.return=u,x.sibling=T,u.child=x,tu(u,l.child,null,m),x=u.child,x.memoizedState=Go(m),x.childLanes=qo(l,q,m),u.memoizedState=Pf,u=T);else if(Uo(u),Z2(W)){if(q=W.nextSibling&&W.nextSibling.dataset,q)var gt=q.dgst;q=gt,x=Error(i(419)),x.stack="",x.digest=q,Vc({value:x,source:null,stack:null}),u=Pa(l,u,m)}else if(Tn||Kl(l,u,m,!1),q=(m&l.childLanes)!==0,Tn||q){if(q=Rn,q!==null&&(x=m&-m,x=(x&42)!==0?1:Yn(x),x=(x&(q.suspendedLanes|m))!==0?0:x,x!==0&&x!==st.retryLane))throw st.retryLane=x,is(l,x),xi(q,l,x),fb;W.data==="$?"||xs(),u=Pa(l,u,m)}else W.data==="$?"?(u.flags|=192,u.child=l.child,u=null):(l=st.treeContext,Kn=so(W.nextSibling),Ji=u,an=!0,$l=null,ss=!1,l!==null&&($a[dr++]=rs,$a[dr++]=kr,$a[dr++]=Ta,rs=l.id,kr=l.overflow,Ta=u),u=nu(u,x.children),u.flags|=4096);return u}return T?(Qs(),T=x.fallback,W=u.mode,st=l.child,gt=st.sibling,x=as(st,{mode:"hidden",children:x.children}),x.subtreeFlags=st.subtreeFlags&65011712,gt!==null?T=as(gt,T):(T=Vs(T,W,m,null),T.flags|=2),T.return=u,x.return=u,x.sibling=T,u.child=x,x=T,T=u.child,W=l.child.memoizedState,W===null?W=Go(m):(st=W.cachePool,st!==null?(gt=mi._currentValue,st=st.parent!==gt?{parent:gt,pool:gt}:st):st=Ra(),W={baseLanes:W.baseLanes|m,cachePool:st}),T.memoizedState=W,T.childLanes=qo(l,q,m),u.memoizedState=Pf,x):(Uo(u),m=l.child,l=m.sibling,m=as(m,{mode:"visible",children:x.children}),m.return=u,m.sibling=null,l!==null&&(q=u.deletions,q===null?(u.deletions=[l],u.flags|=16):q.push(l)),u.child=m,u.memoizedState=null,m)}function nu(l,u){return u=pa({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function pa(l,u){return l=Ca(22,l,null,u),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function Pa(l,u,m){return tu(u,l.child,null,m),l=nu(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function Vo(l,u,m){l.lanes|=u;var x=l.alternate;x!==null&&(x.lanes|=u),pf(l.return,u,m)}function Fr(l,u,m,x,T){var O=l.memoizedState;O===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:T}:(O.isBackwards=u,O.rendering=null,O.renderingStartTime=0,O.last=x,O.tail=m,O.tailMode=T)}function ps(l,u,m){var x=u.pendingProps,T=x.revealOrder,O=x.tail;if(Li(l,u,x.children,m),x=Ue.current,(x&2)!==0)x=x&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)t:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Vo(l,m,u);else if(l.tag===19)Vo(l,m,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break t;for(;l.sibling===null;){if(l.return===null||l.return===u)break t;l=l.return}l.sibling.return=l.return,l=l.sibling}x&=1}switch(K(Ue,x),T){case"forwards":for(m=u.child,T=null;m!==null;)l=m.alternate,l!==null&&Td(l)===null&&(T=m),m=m.sibling;m=T,m===null?(T=u.child,u.child=null):(T=m.sibling,m.sibling=null),Fr(u,!1,T,m,O);break;case"backwards":for(m=null,T=u.child,u.child=null;T!==null;){if(l=T.alternate,l!==null&&Td(l)===null){u.child=T;break}l=T.sibling,T.sibling=m,m=T,T=l}Fr(u,!0,m,null,O);break;case"together":Fr(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Gn(l,u,m){if(l!==null&&(u.dependencies=l.dependencies),Pn|=u.lanes,(m&u.childLanes)===0)if(l!==null){if(Kl(l,u,m,!1),(m&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(i(153));if(u.child!==null){for(l=u.child,m=as(l,l.pendingProps),u.child=m,m.return=u;l.sibling!==null;)l=l.sibling,m=m.sibling=as(l,l.pendingProps),m.return=u;m.sibling=null}return u.child}function ac(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&mf(l)))}function $o(l,u,m){switch(u.tag){case 3:lt(u,u.stateNode.containerInfo),fr(u,mi,l.memoizedState.cache),qc();break;case 27:case 5:Tt(u);break;case 4:lt(u,u.stateNode.containerInfo);break;case 10:fr(u,u.type,u.memoizedProps.value);break;case 13:var x=u.memoizedState;if(x!==null)return x.dehydrated!==null?(Uo(u),u.flags|=128,null):(m&u.child.childLanes)!==0?Dd(l,u,m):(Uo(u),l=Gn(l,u,m),l!==null?l.sibling:null);Uo(u);break;case 19:var T=(l.flags&128)!==0;if(x=(m&u.childLanes)!==0,x||(Kl(l,u,m,!1),x=(m&u.childLanes)!==0),T){if(x)return ps(l,u,m);u.flags|=128}if(T=u.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),K(Ue,Ue.current),x)break;return null;case 22:case 23:return u.lanes=0,gb(l,u,m);case 24:fr(u,mi,l.memoizedState.cache)}return Gn(l,u,m)}function Od(l,u,m){if(l!==null)if(l.memoizedProps!==u.pendingProps)Tn=!0;else{if(!ac(l,m)&&(u.flags&128)===0)return Tn=!1,$o(l,u,m);Tn=(l.flags&131072)!==0}else Tn=!1,an&&(u.flags&1048576)!==0&&Lm(u,ud,u.index);switch(u.lanes=0,u.tag){case 16:t:{l=u.pendingProps;var x=u.elementType,T=x._init;if(x=T(x._payload),u.type=x,typeof x=="function")Hc(x)?(l=Js(x,l),u.tag=1,u=pg(null,u,x,l,m)):(u.tag=0,u=fa(null,u,x,l,m));else{if(x!=null){if(T=x.$$typeof,T===M){u.tag=11,u=pb(null,u,x,l,m);break t}else if(T===B){u.tag=14,u=Df(null,u,x,l,m);break t}}throw u=Z(x)||x,Error(i(306,u,""))}}return u;case 0:return fa(l,u,u.type,u.pendingProps,m);case 1:return x=u.type,T=Js(x,u.pendingProps),pg(l,u,x,T,m);case 3:t:{if(lt(u,u.stateNode.containerInfo),l===null)throw Error(i(387));x=u.pendingProps;var O=u.memoizedState;T=O.element,md(l,u),Bo(u,x,null,m);var q=u.memoizedState;if(x=q.cache,fr(u,mi,x),x!==O.cache&&vn(u,[mi],m,!0),gd(),x=q.element,O.isDehydrated)if(O={element:x,isDehydrated:!1,cache:q.cache},u.updateQueue.baseState=O,u.memoizedState=O,u.flags&256){u=Nf(l,u,x,m);break t}else if(x!==T){T=Ni(Error(i(424)),u),Vc(T),u=Nf(l,u,x,m);break t}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Kn=so(l.firstChild),Ji=u,an=!0,$l=null,ss=!0,m=dg(u,null,x,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(qc(),x===T){u=Gn(l,u,m);break t}Li(l,u,x,m)}u=u.child}return u;case 26:return Ho(l,u),l===null?(m=c4(u.type,null,u.pendingProps,null))?u.memoizedState=m:an||(m=u.type,l=u.pendingProps,x=Eb(rt.current).createElement(m),x[Mt]=u,x[qt]=l,ya(x,m,l),ti(x),u.stateNode=x):u.memoizedState=c4(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return Tt(u),l===null&&an&&(x=u.stateNode=s4(u.type,u.pendingProps,rt.current),Ji=u,ss=!0,T=Kn,pu(u.type)?(J2=T,Kn=so(x.firstChild)):Kn=T),Li(l,u,u.pendingProps.children,m),Ho(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&an&&((T=x=Kn)&&(x=cz(x,u.type,u.pendingProps,ss),x!==null?(u.stateNode=x,Ji=u,Kn=so(x.firstChild),ss=!1,T=!0):T=!1),T||Po(u)),Tt(u),T=u.type,O=u.pendingProps,q=l!==null?l.memoizedProps:null,x=O.children,X2(T,O)?x=null:q!==null&&X2(T,q)&&(u.flags|=32),u.memoizedState!==null&&(T=Ma(l,u,ki,null,null,m),Cg._currentValue=T),Ho(l,u),Li(l,u,x,m),u.child;case 6:return l===null&&an&&((l=m=Kn)&&(m=uz(m,u.pendingProps,ss),m!==null?(u.stateNode=m,Ji=u,Kn=null,l=!0):l=!1),l||Po(u)),null;case 13:return Dd(l,u,m);case 4:return lt(u,u.stateNode.containerInfo),x=u.pendingProps,l===null?u.child=tu(u,null,x,m):Li(l,u,x,m),u.child;case 11:return pb(l,u,u.type,u.pendingProps,m);case 7:return Li(l,u,u.pendingProps,m),u.child;case 8:return Li(l,u,u.pendingProps.children,m),u.child;case 12:return Li(l,u,u.pendingProps.children,m),u.child;case 10:return x=u.pendingProps,fr(u,u.type,x.value),Li(l,u,x.children,m),u.child;case 9:return T=u.type._context,x=u.pendingProps.children,jo(u),T=ta(T),x=x(T),u.flags|=1,Li(l,u,x,m),u.child;case 14:return Df(l,u,u.type,u.pendingProps,m);case 15:return mb(l,u,u.type,u.pendingProps,m);case 19:return ps(l,u,m);case 31:return x=u.pendingProps,m=u.mode,x={mode:x.mode,children:x.children},l===null?(m=pa(x,m),m.ref=u.ref,u.child=m,m.return=u,u=m):(m=as(l.child,x),m.ref=u.ref,u.child=m,m.return=u,u=m),u;case 22:return gb(l,u,m);case 24:return jo(u),x=ta(mi),l===null?(T=Pe(),T===null&&(T=Rn,O=$c(),T.pooledCache=O,O.refCount++,O!==null&&(T.pooledCacheLanes|=m),T=O),u.memoizedState={parent:x,cache:T},pd(u),fr(u,mi,T)):((l.lanes&m)!==0&&(md(l,u),Bo(u,null,null,m),gd()),T=l.memoizedState,O=u.memoizedState,T.parent!==x?(T={parent:x,cache:x},u.memoizedState=T,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=T),fr(u,mi,x)):(x=O.cache,fr(u,mi,x),x!==T.cache&&vn(u,[mi],m,!0))),Li(l,u,u.pendingProps.children,m),u.child;case 29:throw u.pendingProps}throw Error(i(156,u.tag))}function Qn(l){l.flags|=4}function vi(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!p4(u)){if(u=Ya.current,u!==null&&((Xe&4194048)===Xe?fs!==null:(Xe&62914560)!==Xe&&(Xe&536870912)===0||u!==fs))throw fd=Fo,Ny;l.flags|=8192}}function Ze(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?un():536870912,l.lanes|=u,lu|=u)}function Br(l,u){if(!an)switch(l.tailMode){case"hidden":u=l.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function hn(l){var u=l.alternate!==null&&l.alternate.child===l.child,m=0,x=0;if(u)for(var T=l.child;T!==null;)m|=T.lanes|T.childLanes,x|=T.subtreeFlags&65011712,x|=T.flags&65011712,T.return=l,T=T.sibling;else for(T=l.child;T!==null;)m|=T.lanes|T.childLanes,x|=T.subtreeFlags,x|=T.flags,T.return=l,T=T.sibling;return l.subtreeFlags|=x,l.childLanes=m,u}function mg(l,u,m){var x=u.pendingProps;switch(hf(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(u),null;case 1:return hn(u),null;case 3:return m=u.stateNode,x=null,l!==null&&(x=l.memoizedState.cache),u.memoizedState.cache!==x&&(u.flags|=2048),ls(mi),St(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(l===null||l.child===null)&&(ko(u)?Qn(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Bm())),hn(u),null;case 26:return m=u.memoizedState,l===null?(Qn(u),m!==null?(hn(u),vi(u,m)):(hn(u),u.flags&=-16777217)):m?m!==l.memoizedState?(Qn(u),hn(u),vi(u,m)):(hn(u),u.flags&=-16777217):(l.memoizedProps!==x&&Qn(u),hn(u),u.flags&=-16777217),null;case 27:Dt(u),m=rt.current;var T=u.type;if(l!==null&&u.stateNode!=null)l.memoizedProps!==x&&Qn(u);else{if(!x){if(u.stateNode===null)throw Error(i(166));return hn(u),null}l=ct.current,ko(u)?Fm(u):(l=s4(T,x,m),u.stateNode=l,Qn(u))}return hn(u),null;case 5:if(Dt(u),m=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==x&&Qn(u);else{if(!x){if(u.stateNode===null)throw Error(i(166));return hn(u),null}if(l=ct.current,ko(u))Fm(u);else{switch(T=Eb(rt.current),l){case 1:l=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:l=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":l=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":l=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":l=T.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof x.is=="string"?T.createElement("select",{is:x.is}):T.createElement("select"),x.multiple?l.multiple=!0:x.size&&(l.size=x.size);break;default:l=typeof x.is=="string"?T.createElement(m,{is:x.is}):T.createElement(m)}}l[Mt]=u,l[qt]=x;t:for(T=u.child;T!==null;){if(T.tag===5||T.tag===6)l.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===u)break t;for(;T.sibling===null;){if(T.return===null||T.return===u)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}u.stateNode=l;t:switch(ya(l,m,x),m){case"button":case"input":case"select":case"textarea":l=!!x.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Qn(u)}}return hn(u),u.flags&=-16777217,null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==x&&Qn(u);else{if(typeof x!="string"&&u.stateNode===null)throw Error(i(166));if(l=rt.current,ko(u)){if(l=u.stateNode,m=u.memoizedProps,x=null,T=Ji,T!==null)switch(T.tag){case 27:case 5:x=T.memoizedProps}l[Mt]=u,l=!!(l.nodeValue===m||x!==null&&x.suppressHydrationWarning===!0||J5(l.nodeValue,m)),l||Po(u)}else l=Eb(l).createTextNode(x),l[Mt]=u,u.stateNode=l}return hn(u),null;case 13:if(x=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(T=ko(u),x!==null&&x.dehydrated!==null){if(l===null){if(!T)throw Error(i(318));if(T=u.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(i(317));T[Mt]=u}else qc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;hn(u),T=!1}else T=Bm(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=T),T=!0;if(!T)return u.flags&256?(Zs(u),u):(Zs(u),null)}if(Zs(u),(u.flags&128)!==0)return u.lanes=m,u;if(m=x!==null,l=l!==null&&l.memoizedState!==null,m){x=u.child,T=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(T=x.alternate.memoizedState.cachePool.pool);var O=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(O=x.memoizedState.cachePool.pool),O!==T&&(x.flags|=2048)}return m!==l&&m&&(u.child.flags|=8192),Ze(u,u.updateQueue),hn(u),null;case 4:return St(),l===null&&q2(u.stateNode.containerInfo),hn(u),null;case 10:return ls(u.type),hn(u),null;case 19:if(it(Ue),T=u.memoizedState,T===null)return hn(u),null;if(x=(u.flags&128)!==0,O=T.rendering,O===null)if(x)Br(T,!1);else{if(Le!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(O=Td(l),O!==null){for(u.flags|=128,Br(T,!1),l=O.updateQueue,u.updateQueue=l,Ze(u,l),u.subtreeFlags=0,l=m,m=u.child;m!==null;)cf(m,l),m=m.sibling;return K(Ue,Ue.current&1|2),u.child}l=l.sibling}T.tail!==null&&Bt()>oc&&(u.flags|=128,x=!0,Br(T,!1),u.lanes=4194304)}else{if(!x)if(l=Td(O),l!==null){if(u.flags|=128,x=!0,l=l.updateQueue,u.updateQueue=l,Ze(u,l),Br(T,!0),T.tail===null&&T.tailMode==="hidden"&&!O.alternate&&!an)return hn(u),null}else 2*Bt()-T.renderingStartTime>oc&&m!==536870912&&(u.flags|=128,x=!0,Br(T,!1),u.lanes=4194304);T.isBackwards?(O.sibling=u.child,u.child=O):(l=T.last,l!==null?l.sibling=O:u.child=O,T.last=O)}return T.tail!==null?(u=T.tail,T.rendering=u,T.tail=u.sibling,T.renderingStartTime=Bt(),u.sibling=null,l=Ue.current,K(Ue,x?l&1|2:l&1),u):(hn(u),null);case 22:case 23:return Zs(u),Vm(),x=u.memoizedState!==null,l!==null?l.memoizedState!==null!==x&&(u.flags|=8192):x&&(u.flags|=8192),x?(m&536870912)!==0&&(u.flags&128)===0&&(hn(u),u.subtreeFlags&6&&(u.flags|=8192)):hn(u),m=u.updateQueue,m!==null&&Ze(u,m.retryQueue),m=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==m&&(u.flags|=2048),l!==null&&it(Ys),null;case 24:return m=null,l!==null&&(m=l.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),ls(mi),hn(u),null;case 25:return null;case 30:return null}throw Error(i(156,u.tag))}function Ka(l,u){switch(hf(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return ls(mi),St(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return Dt(u),null;case 13:if(Zs(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(i(340));qc()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return it(Ue),null;case 4:return St(),null;case 10:return ls(u.type),null;case 22:case 23:return Zs(u),Vm(),l!==null&&it(Ys),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return ls(mi),null;case 25:return null;default:return null}}function Nd(l,u){switch(hf(u),u.tag){case 3:ls(mi),St();break;case 26:case 27:case 5:Dt(u);break;case 4:St();break;case 13:Zs(u);break;case 19:it(Ue);break;case 10:ls(u.type);break;case 22:case 23:Zs(u),Vm(),l!==null&&it(Ys);break;case 24:ls(mi)}}function Ir(l,u){try{var m=u.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var T=x.next;m=T;do{if((m.tag&l)===l){x=void 0;var O=m.create,q=m.inst;x=O(),q.destroy=x}m=m.next}while(m!==T)}}catch(W){ft(u,u.return,W)}}function ea(l,u,m){try{var x=u.updateQueue,T=x!==null?x.lastEffect:null;if(T!==null){var O=T.next;x=O;do{if((x.tag&l)===l){var q=x.inst,W=q.destroy;if(W!==void 0){q.destroy=void 0,T=u;var st=m,gt=W;try{gt()}catch(Et){ft(T,st,Et)}}}x=x.next}while(x!==O)}}catch(Et){ft(u,u.return,Et)}}function yb(l){var u=l.updateQueue;if(u!==null){var m=l.stateNode;try{Py(u,m)}catch(x){ft(l,l.return,x)}}}function bb(l,u,m){m.props=Js(l.type,l.memoizedProps),m.state=l.memoizedState;try{m.componentWillUnmount()}catch(x){ft(l,u,x)}}function Pd(l,u){try{var m=l.ref;if(m!==null){switch(l.tag){case 26:case 27:case 5:var x=l.stateNode;break;case 30:x=l.stateNode;break;default:x=l.stateNode}typeof m=="function"?l.refCleanup=m(x):m.current=x}}catch(T){ft(l,u,T)}}function yn(l,u){var m=l.ref,x=l.refCleanup;if(m!==null)if(typeof x=="function")try{x()}catch(T){ft(l,u,T)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(T){ft(l,u,T)}else m.current=null}function kd(l){var u=l.type,m=l.memoizedProps,x=l.stateNode;try{t:switch(u){case"button":case"input":case"select":case"textarea":m.autoFocus&&x.focus();break t;case"img":m.src?x.src=m.src:m.srcSet&&(x.srcset=m.srcSet)}}catch(T){ft(l,l.return,T)}}function Yo(l,u,m){try{var x=l.stateNode;az(x,l.type,m,u),x[qt]=u}catch(T){ft(l,l.return,T)}}function kf(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&pu(l.type)||l.tag===4}function iu(l){t:for(;;){for(;l.sibling===null;){if(l.return===null||kf(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&pu(l.type)||l.flags&2||l.child===null||l.tag===4)continue t;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Ld(l,u,m){var x=l.tag;if(x===5||x===6)l=l.stateNode,u?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(l,u):(u=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,u.appendChild(l),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=_b));else if(x!==4&&(x===27&&pu(l.type)&&(m=l.stateNode,u=null),l=l.child,l!==null))for(Ld(l,u,m),l=l.sibling;l!==null;)Ld(l,u,m),l=l.sibling}function eo(l,u,m){var x=l.tag;if(x===5||x===6)l=l.stateNode,u?m.insertBefore(l,u):m.appendChild(l);else if(x!==4&&(x===27&&pu(l.type)&&(m=l.stateNode),l=l.child,l!==null))for(eo(l,u,m),l=l.sibling;l!==null;)eo(l,u,m),l=l.sibling}function au(l){var u=l.stateNode,m=l.memoizedProps;try{for(var x=l.type,T=u.attributes;T.length;)u.removeAttributeNode(T[0]);ya(u,x,m),u[Mt]=l,u[qt]=m}catch(O){ft(l,l.return,O)}}var zr=!1,jn=!1,Ko=!1,gg=typeof WeakSet=="function"?WeakSet:Set,Xn=null;function B2(l,u){if(l=l.containerInfo,Y2=Db,l=Om(l),Ul(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else t:{m=(m=l.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var T=x.anchorOffset,O=x.focusNode;x=x.focusOffset;try{m.nodeType,O.nodeType}catch{m=null;break t}var q=0,W=-1,st=-1,gt=0,Et=0,Ct=l,yt=null;e:for(;;){for(var bt;Ct!==m||T!==0&&Ct.nodeType!==3||(W=q+T),Ct!==O||x!==0&&Ct.nodeType!==3||(st=q+x),Ct.nodeType===3&&(q+=Ct.nodeValue.length),(bt=Ct.firstChild)!==null;)yt=Ct,Ct=bt;for(;;){if(Ct===l)break e;if(yt===m&&++gt===T&&(W=q),yt===O&&++Et===x&&(st=q),(bt=Ct.nextSibling)!==null)break;Ct=yt,yt=Ct.parentNode}Ct=bt}m=W===-1||st===-1?null:{start:W,end:st}}else m=null}m=m||{start:0,end:0}}else m=null;for(K2={focusedElem:l,selectionRange:m},Db=!1,Xn=u;Xn!==null;)if(u=Xn,l=u.child,(u.subtreeFlags&1024)!==0&&l!==null)l.return=u,Xn=l;else for(;Xn!==null;){switch(u=Xn,O=u.alternate,l=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&O!==null){l=void 0,m=u,T=O.memoizedProps,O=O.memoizedState,x=m.stateNode;try{var be=Js(m.type,T,m.elementType===m.type);l=x.getSnapshotBeforeUpdate(be,O),x.__reactInternalSnapshotBeforeUpdate=l}catch(de){ft(m,m.return,de)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,m=l.nodeType,m===9)Q2(l);else if(m===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Q2(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(i(163))}if(l=u.sibling,l!==null){l.return=u.return,Xn=l;break}Xn=u.return}}function ru(l,u,m){var x=m.flags;switch(m.tag){case 0:case 11:case 15:Ke(l,m),x&4&&Ir(5,m);break;case 1:if(Ke(l,m),x&4)if(l=m.stateNode,u===null)try{l.componentDidMount()}catch(q){ft(m,m.return,q)}else{var T=Js(m.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(T,u,l.__reactInternalSnapshotBeforeUpdate)}catch(q){ft(m,m.return,q)}}x&64&&yb(m),x&512&&Pd(m,m.return);break;case 3:if(Ke(l,m),x&64&&(l=m.updateQueue,l!==null)){if(u=null,m.child!==null)switch(m.child.tag){case 27:case 5:u=m.child.stateNode;break;case 1:u=m.child.stateNode}try{Py(l,u)}catch(q){ft(m,m.return,q)}}break;case 27:u===null&&x&4&&au(m);case 26:case 5:Ke(l,m),u===null&&x&4&&kd(m),x&512&&Pd(m,m.return);break;case 12:Ke(l,m);break;case 13:Ke(l,m),x&4&&rc(l,m),x&64&&(l=m.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(m=Gt.bind(null,m),dz(l,m))));break;case 22:if(x=m.memoizedState!==null||zr,!x){u=u!==null&&u.memoizedState!==null||jn,T=zr;var O=jn;zr=x,(jn=u)&&!O?Ur(l,m,(m.subtreeFlags&8772)!==0):Ke(l,m),zr=T,jn=O}break;case 30:break;default:Ke(l,m)}}function Lf(l){var u=l.alternate;u!==null&&(l.alternate=null,Lf(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&gn(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Nn=null,qi=!1;function ka(l,u,m){for(m=m.child;m!==null;)Xa(l,u,m),m=m.sibling}function Xa(l,u,m){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(te,m)}catch{}switch(m.tag){case 26:jn||yn(m,u),ka(l,u,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:jn||yn(m,u);var x=Nn,T=qi;pu(m.type)&&(Nn=m.stateNode,qi=!1),ka(l,u,m),wg(m.stateNode),Nn=x,qi=T;break;case 5:jn||yn(m,u);case 6:if(x=Nn,T=qi,Nn=null,ka(l,u,m),Nn=x,qi=T,Nn!==null)if(qi)try{(Nn.nodeType===9?Nn.body:Nn.nodeName==="HTML"?Nn.ownerDocument.body:Nn).removeChild(m.stateNode)}catch(O){ft(m,u,O)}else try{Nn.removeChild(m.stateNode)}catch(O){ft(m,u,O)}break;case 18:Nn!==null&&(qi?(l=Nn,a4(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,m.stateNode),Dg(l)):a4(Nn,m.stateNode));break;case 4:x=Nn,T=qi,Nn=m.stateNode.containerInfo,qi=!0,ka(l,u,m),Nn=x,qi=T;break;case 0:case 11:case 14:case 15:jn||ea(2,m,u),jn||ea(4,m,u),ka(l,u,m);break;case 1:jn||(yn(m,u),x=m.stateNode,typeof x.componentWillUnmount=="function"&&bb(m,u,x)),ka(l,u,m);break;case 21:ka(l,u,m);break;case 22:jn=(x=jn)||m.memoizedState!==null,ka(l,u,m),jn=x;break;default:ka(l,u,m)}}function rc(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Dg(l)}catch(m){ft(u,u.return,m)}}function vg(l){switch(l.tag){case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new gg),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new gg),u;default:throw Error(i(435,l.tag))}}function ms(l,u){var m=vg(l);u.forEach(function(x){var T=Me.bind(null,l,x);m.has(x)||(m.add(x),x.then(T,T))})}function ma(l,u){var m=u.deletions;if(m!==null)for(var x=0;x<m.length;x++){var T=m[x],O=l,q=u,W=q;t:for(;W!==null;){switch(W.tag){case 27:if(pu(W.type)){Nn=W.stateNode,qi=!1;break t}break;case 5:Nn=W.stateNode,qi=!1;break t;case 3:case 4:Nn=W.stateNode.containerInfo,qi=!0;break t}W=W.return}if(Nn===null)throw Error(i(160));Xa(O,q,T),Nn=null,qi=!1,O=T.alternate,O!==null&&(O.return=null),T.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)jd(u,l),u=u.sibling}var na=null;function jd(l,u){var m=l.alternate,x=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:ma(u,l),yi(l),x&4&&(ea(3,l,l.return),Ir(3,l),ea(5,l,l.return));break;case 1:ma(u,l),yi(l),x&512&&(jn||m===null||yn(m,m.return)),x&64&&zr&&(l=l.updateQueue,l!==null&&(x=l.callbacks,x!==null&&(m=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=m===null?x:m.concat(x))));break;case 26:var T=na;if(ma(u,l),yi(l),x&512&&(jn||m===null||yn(m,m.return)),x&4){var O=m!==null?m.memoizedState:null;if(x=l.memoizedState,m===null)if(x===null)if(l.stateNode===null){t:{x=l.type,m=l.memoizedProps,T=T.ownerDocument||T;e:switch(x){case"title":O=T.getElementsByTagName("title")[0],(!O||O[dn]||O[Mt]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=T.createElement(x),T.head.insertBefore(O,T.querySelector("head > title"))),ya(O,x,m),O[Mt]=l,ti(O),x=O;break t;case"link":var q=h4("link","href",T).get(x+(m.href||""));if(q){for(var W=0;W<q.length;W++)if(O=q[W],O.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&O.getAttribute("rel")===(m.rel==null?null:m.rel)&&O.getAttribute("title")===(m.title==null?null:m.title)&&O.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){q.splice(W,1);break e}}O=T.createElement(x),ya(O,x,m),T.head.appendChild(O);break;case"meta":if(q=h4("meta","content",T).get(x+(m.content||""))){for(W=0;W<q.length;W++)if(O=q[W],O.getAttribute("content")===(m.content==null?null:""+m.content)&&O.getAttribute("name")===(m.name==null?null:m.name)&&O.getAttribute("property")===(m.property==null?null:m.property)&&O.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&O.getAttribute("charset")===(m.charSet==null?null:m.charSet)){q.splice(W,1);break e}}O=T.createElement(x),ya(O,x,m),T.head.appendChild(O);break;default:throw Error(i(468,x))}O[Mt]=l,ti(O),x=O}l.stateNode=x}else f4(T,l.type,l.stateNode);else l.stateNode=d4(T,x,l.memoizedProps);else O!==x?(O===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):O.count--,x===null?f4(T,l.type,l.stateNode):d4(T,x,l.memoizedProps)):x===null&&l.stateNode!==null&&Yo(l,l.memoizedProps,m.memoizedProps)}break;case 27:ma(u,l),yi(l),x&512&&(jn||m===null||yn(m,m.return)),m!==null&&x&4&&Yo(l,l.memoizedProps,m.memoizedProps);break;case 5:if(ma(u,l),yi(l),x&512&&(jn||m===null||yn(m,m.return)),l.flags&32){T=l.stateNode;try{kl(T,"")}catch(bt){ft(l,l.return,bt)}}x&4&&l.stateNode!=null&&(T=l.memoizedProps,Yo(l,T,m!==null?m.memoizedProps:T)),x&1024&&(Ko=!0);break;case 6:if(ma(u,l),yi(l),x&4){if(l.stateNode===null)throw Error(i(162));x=l.memoizedProps,m=l.stateNode;try{m.nodeValue=x}catch(bt){ft(l,l.return,bt)}}break;case 3:if(Tb=null,T=na,na=Ab(u.containerInfo),ma(u,l),na=T,yi(l),x&4&&m!==null&&m.memoizedState.isDehydrated)try{Dg(u.containerInfo)}catch(bt){ft(l,l.return,bt)}Ko&&(Ko=!1,Oe(l));break;case 4:x=na,na=Ab(l.stateNode.containerInfo),ma(u,l),yi(l),na=x;break;case 12:ma(u,l),yi(l);break;case 13:ma(u,l),yi(l),l.child.flags&8192&&l.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(uu=Bt()),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,ms(l,x)));break;case 22:T=l.memoizedState!==null;var st=m!==null&&m.memoizedState!==null,gt=zr,Et=jn;if(zr=gt||T,jn=Et||st,ma(u,l),jn=Et,zr=gt,yi(l),x&8192)t:for(u=l.stateNode,u._visibility=T?u._visibility&-2:u._visibility|1,T&&(m===null||st||zr||jn||Fn(l)),m=null,u=l;;){if(u.tag===5||u.tag===26){if(m===null){st=m=u;try{if(O=st.stateNode,T)q=O.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none";else{W=st.stateNode;var Ct=st.memoizedProps.style,yt=Ct!=null&&Ct.hasOwnProperty("display")?Ct.display:null;W.style.display=yt==null||typeof yt=="boolean"?"":(""+yt).trim()}}catch(bt){ft(st,st.return,bt)}}}else if(u.tag===6){if(m===null){st=u;try{st.stateNode.nodeValue=T?"":st.memoizedProps}catch(bt){ft(st,st.return,bt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break t;for(;u.sibling===null;){if(u.return===null||u.return===l)break t;m===u&&(m=null),u=u.return}m===u&&(m=null),u.sibling.return=u.return,u=u.sibling}x&4&&(x=l.updateQueue,x!==null&&(m=x.retryQueue,m!==null&&(x.retryQueue=null,ms(l,m))));break;case 19:ma(u,l),yi(l),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,ms(l,x)));break;case 30:break;case 21:break;default:ma(u,l),yi(l)}}function yi(l){var u=l.flags;if(u&2){try{for(var m,x=l.return;x!==null;){if(kf(x)){m=x;break}x=x.return}if(m==null)throw Error(i(160));switch(m.tag){case 27:var T=m.stateNode,O=iu(l);eo(l,O,T);break;case 5:var q=m.stateNode;m.flags&32&&(kl(q,""),m.flags&=-33);var W=iu(l);eo(l,W,q);break;case 3:case 4:var st=m.stateNode.containerInfo,gt=iu(l);Ld(l,gt,st);break;default:throw Error(i(161))}}catch(Et){ft(l,l.return,Et)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function Oe(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;Oe(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function Ke(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)ru(l,u.alternate,u),u=u.sibling}function Fn(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:ea(4,u,u.return),Fn(u);break;case 1:yn(u,u.return);var m=u.stateNode;typeof m.componentWillUnmount=="function"&&bb(u,u.return,m),Fn(u);break;case 27:wg(u.stateNode);case 26:case 5:yn(u,u.return),Fn(u);break;case 22:u.memoizedState===null&&Fn(u);break;case 30:Fn(u);break;default:Fn(u)}l=l.sibling}}function Ur(l,u,m){for(m=m&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var x=u.alternate,T=l,O=u,q=O.flags;switch(O.tag){case 0:case 11:case 15:Ur(T,O,m),Ir(4,O);break;case 1:if(Ur(T,O,m),x=O,T=x.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(gt){ft(x,x.return,gt)}if(x=O,T=x.updateQueue,T!==null){var W=x.stateNode;try{var st=T.shared.hiddenCallbacks;if(st!==null)for(T.shared.hiddenCallbacks=null,T=0;T<st.length;T++)oe(st[T],W)}catch(gt){ft(x,x.return,gt)}}m&&q&64&&yb(O),Pd(O,O.return);break;case 27:au(O);case 26:case 5:Ur(T,O,m),m&&x===null&&q&4&&kd(O),Pd(O,O.return);break;case 12:Ur(T,O,m);break;case 13:Ur(T,O,m),m&&q&4&&rc(T,O);break;case 22:O.memoizedState===null&&Ur(T,O,m),Pd(O,O.return);break;case 30:break;default:Ur(T,O,m)}u=u.sibling}}function Xo(l,u){var m=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==m&&(l!=null&&l.refCount++,m!=null&&Lr(m))}function no(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&Lr(l))}function Wa(l,u,m,x){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)su(l,u,m,x),u=u.sibling}function su(l,u,m,x){var T=u.flags;switch(u.tag){case 0:case 11:case 15:Wa(l,u,m,x),T&2048&&Ir(9,u);break;case 1:Wa(l,u,m,x);break;case 3:Wa(l,u,m,x),T&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&Lr(l)));break;case 12:if(T&2048){Wa(l,u,m,x),l=u.stateNode;try{var O=u.memoizedProps,q=O.id,W=O.onPostCommit;typeof W=="function"&&W(q,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(st){ft(u,u.return,st)}}else Wa(l,u,m,x);break;case 13:Wa(l,u,m,x);break;case 23:break;case 22:O=u.stateNode,q=u.alternate,u.memoizedState!==null?O._visibility&2?Wa(l,u,m,x):Fd(l,u):O._visibility&2?Wa(l,u,m,x):(O._visibility|=2,Hr(l,u,m,x,(u.subtreeFlags&10256)!==0)),T&2048&&Xo(q,u);break;case 24:Wa(l,u,m,x),T&2048&&no(u.alternate,u);break;default:Wa(l,u,m,x)}}function Hr(l,u,m,x,T){for(T=T&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var O=l,q=u,W=m,st=x,gt=q.flags;switch(q.tag){case 0:case 11:case 15:Hr(O,q,W,st,T),Ir(8,q);break;case 23:break;case 22:var Et=q.stateNode;q.memoizedState!==null?Et._visibility&2?Hr(O,q,W,st,T):Fd(O,q):(Et._visibility|=2,Hr(O,q,W,st,T)),T&&gt&2048&&Xo(q.alternate,q);break;case 24:Hr(O,q,W,st,T),T&&gt&2048&&no(q.alternate,q);break;default:Hr(O,q,W,st,T)}u=u.sibling}}function Fd(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var m=l,x=u,T=x.flags;switch(x.tag){case 22:Fd(m,x),T&2048&&Xo(x.alternate,x);break;case 24:Fd(m,x),T&2048&&no(x.alternate,x);break;default:Fd(m,x)}u=u.sibling}}var Wo=8192;function sc(l){if(l.subtreeFlags&Wo)for(l=l.child;l!==null;)yg(l),l=l.sibling}function yg(l){switch(l.tag){case 26:sc(l),l.flags&Wo&&l.memoizedState!==null&&Ez(na,l.memoizedState,l.memoizedProps);break;case 5:sc(l);break;case 3:case 4:var u=na;na=Ab(l.stateNode.containerInfo),sc(l),na=u;break;case 22:l.memoizedState===null&&(u=l.alternate,u!==null&&u.memoizedState!==null?(u=Wo,Wo=16777216,sc(l),Wo=u):sc(l));break;default:sc(l)}}function xb(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function gs(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var x=u[m];Xn=x,bg(x,l)}xb(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ou(l),l=l.sibling}function ou(l){switch(l.tag){case 0:case 11:case 15:gs(l),l.flags&2048&&ea(9,l,l.return);break;case 3:gs(l);break;case 12:gs(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,io(l)):gs(l);break;default:gs(l)}}function io(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var x=u[m];Xn=x,bg(x,l)}xb(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:ea(8,u,u.return),io(u);break;case 22:m=u.stateNode,m._visibility&2&&(m._visibility&=-3,io(u));break;default:io(u)}l=l.sibling}}function bg(l,u){for(;Xn!==null;){var m=Xn;switch(m.tag){case 0:case 11:case 15:ea(8,m,u);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var x=m.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Lr(m.memoizedState.cache)}if(x=m.child,x!==null)x.return=m,Xn=x;else t:for(m=l;Xn!==null;){x=Xn;var T=x.sibling,O=x.return;if(Lf(x),x===m){Xn=null;break t}if(T!==null){T.return=O,Xn=T;break t}Xn=O}}}var mr={getCacheForType:function(l){var u=ta(mi),m=u.data.get(l);return m===void 0&&(m=l(),u.data.set(l,m)),m}},vs=typeof WeakMap=="function"?WeakMap:Map,ve=0,Rn=null,ze=null,Xe=0,ye=0,ga=null,ia=!1,Bn=!1,Bd=!1,ys=0,Le=0,Pn=0,bi=0,Qa=0,Vi=0,lu=0,Qo=null,$i=null,cu=!1,uu=0,oc=1/0,Zo=null,Jo=null,ce=0,rn=null,Ae=null,je=0,bn=0,va=null,ao=null,bs=0,Id=null;function li(){if((ve&2)!==0&&Xe!==0)return Xe&-Xe;if(tt.T!==null){var l=Yc;return l!==0?l:z2()}return ge()}function Zn(){Vi===0&&(Vi=(Xe&536870912)===0||an?we():536870912);var l=Ya.current;return l!==null&&(l.flags|=32),Vi}function xi(l,u,m){(l===Rn&&(ye===2||ye===9)||l.cancelPendingCommit!==null)&&(nl(l,0),Za(l,Xe,Vi,!1)),fi(l,m),((ve&2)===0||l!==Rn)&&(l===Rn&&((ve&2)===0&&(bi|=m),Le===4&&Za(l,Xe,Vi,!1)),$t(l))}function tl(l,u,m){if((ve&6)!==0)throw Error(i(327));var x=!m&&(u&124)===0&&(u&l.expiredLanes)===0||Oi(l,u),T=x?hu(l,u):Ei(l,u,!0),O=x;do{if(T===0){Bn&&!x&&Za(l,u,0,!1);break}else{if(m=l.current.alternate,O&&!gr(m)){T=Ei(l,u,!1),O=!1;continue}if(T===2){if(O=u,l.errorRecoveryDisabledLanes&O)var q=0;else q=l.pendingLanes&-536870913,q=q!==0?q:q&536870912?536870912:0;if(q!==0){u=q;t:{var W=l;T=Qo;var st=W.current.memoizedState.isDehydrated;if(st&&(nl(W,q).flags|=256),q=Ei(W,q,!1),q!==2){if(Bd&&!st){W.errorRecoveryDisabledLanes|=O,bi|=O,T=4;break t}O=$i,$i=T,O!==null&&($i===null?$i=O:$i.push.apply($i,O))}T=q}if(O=!1,T!==2)continue}}if(T===1){nl(l,0),Za(l,u,0,!0);break}t:{switch(x=l,O=T,O){case 0:case 1:throw Error(i(345));case 4:if((u&4194048)!==u)break;case 6:Za(x,u,Vi,!ia);break t;case 2:$i=null;break;case 3:case 5:break;default:throw Error(i(329))}if((u&62914560)===u&&(T=uu+300-Bt(),10<T)){if(Za(x,u,Vi,!ia),Ui(x,0,!0)!==0)break t;x.timeoutHandle=n4(jf.bind(null,x,m,$i,Zo,cu,u,Vi,bi,lu,ia,O,2,-0,0),T);break t}jf(x,m,$i,Zo,cu,u,Vi,bi,lu,ia,O,0,-0,0)}}break}while(!0);$t(l)}function jf(l,u,m,x,T,O,q,W,st,gt,Et,Ct,yt,bt){if(l.timeoutHandle=-1,Ct=u.subtreeFlags,(Ct&8192||(Ct&16785408)===16785408)&&(Ag={stylesheets:null,count:0,unsuspend:_z},yg(u),Ct=Az(),Ct!==null)){l.cancelPendingCommit=Ct(h.bind(null,l,u,O,m,x,T,q,W,st,Et,1,yt,bt)),Za(l,O,q,!gt);return}h(l,u,O,m,x,T,q,W,st)}function gr(l){for(var u=l;;){var m=u.tag;if((m===0||m===11||m===15)&&u.flags&16384&&(m=u.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var x=0;x<m.length;x++){var T=m[x],O=T.getSnapshot;T=T.value;try{if(!qa(O(),T))return!1}catch{return!1}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Za(l,u,m,x){u&=~Qa,u&=~bi,l.suspendedLanes|=u,l.pingedLanes&=~u,x&&(l.warmLanes|=u),x=l.expirationTimes;for(var T=u;0<T;){var O=31-Se(T),q=1<<O;x[O]=-1,T&=~q}m!==0&&pi(l,m,u)}function el(){return(ve&6)===0?(En(0),!1):!0}function aa(){if(ze!==null){if(ye===0)var l=ze.return;else l=ze,os=Lo=null,Ym(l),Jc=null,ha=0,l=ze;for(;l!==null;)Nd(l.alternate,l),l=l.return;ze=null}}function nl(l,u){var m=l.timeoutHandle;m!==-1&&(l.timeoutHandle=-1,sz(m)),m=l.cancelPendingCommit,m!==null&&(l.cancelPendingCommit=null,m()),aa(),Rn=l,ze=m=as(l.current,null),Xe=u,ye=0,ga=null,ia=!1,Bn=Oi(l,u),Bd=!1,lu=Vi=Qa=bi=Pn=Le=0,$i=Qo=null,cu=!1,(u&8)!==0&&(u|=u&32);var x=l.entangledLanes;if(x!==0)for(l=l.entanglements,x&=u;0<x;){var T=31-Se(x),O=1<<T;u|=l[T],x&=~O}return ys=u,Va(),m}function Ff(l,u){ke=null,tt.H=Cf,u===Ql||u===Zl?(u=Hm(),ye=3):u===Ny?(u=Hm(),ye=4):ye=u===fb?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,ga=u,ze===null&&(Le=1,Rf(l,Ni(u,l.current)))}function du(){var l=tt.H;return tt.H=Cf,l===null?Cf:l}function zd(){var l=tt.A;return tt.A=mr,l}function xs(){Le=4,ia||(Xe&4194048)!==Xe&&Ya.current!==null||(Bn=!0),(Pn&134217727)===0&&(bi&134217727)===0||Rn===null||Za(Rn,Xe,Vi,!1)}function Ei(l,u,m){var x=ve;ve|=2;var T=du(),O=zd();(Rn!==l||Xe!==u)&&(Zo=null,nl(l,u)),u=!1;var q=Le;t:do try{if(ye!==0&&ze!==null){var W=ze,st=ga;switch(ye){case 8:aa(),q=6;break t;case 3:case 2:case 9:case 6:Ya.current===null&&(u=!0);var gt=ye;if(ye=0,ga=null,lc(l,W,st,gt),m&&Bn){q=0;break t}break;default:gt=ye,ye=0,ga=null,lc(l,W,st,gt)}}il(),q=Le;break}catch(Et){Ff(l,Et)}while(!0);return u&&l.shellSuspendCounter++,os=Lo=null,ve=x,tt.H=T,tt.A=O,ze===null&&(Rn=null,Xe=0,Va()),q}function il(){for(;ze!==null;)Bf(ze)}function hu(l,u){var m=ve;ve|=2;var x=du(),T=zd();Rn!==l||Xe!==u?(Zo=null,oc=Bt()+500,nl(l,u)):Bn=Oi(l,u);t:do try{if(ye!==0&&ze!==null){u=ze;var O=ga;e:switch(ye){case 1:ye=0,ga=null,lc(l,u,O,1);break;case 2:case 9:if(Jl(O)){ye=0,ga=null,If(u);break}u=function(){ye!==2&&ye!==9||Rn!==l||(ye=7),$t(l)},O.then(u,u);break t;case 3:ye=7;break t;case 4:ye=5;break t;case 7:Jl(O)?(ye=0,ga=null,If(u)):(ye=0,ga=null,lc(l,u,O,7));break;case 5:var q=null;switch(ze.tag){case 26:q=ze.memoizedState;case 5:case 27:var W=ze;if(!q||p4(q)){ye=0,ga=null;var st=W.sibling;if(st!==null)ze=st;else{var gt=W.return;gt!==null?(ze=gt,al(gt)):ze=null}break e}}ye=0,ga=null,lc(l,u,O,5);break;case 6:ye=0,ga=null,lc(l,u,O,6);break;case 8:aa(),Le=6;break t;default:throw Error(i(462))}}fu();break}catch(Et){Ff(l,Et)}while(!0);return os=Lo=null,tt.H=x,tt.A=T,ve=m,ze!==null?0:(Rn=null,Xe=0,Va(),Le)}function fu(){for(;ze!==null&&!Pt();)Bf(ze)}function Bf(l){var u=Od(l.alternate,l,ys);l.memoizedProps=l.pendingProps,u===null?al(l):ze=u}function If(l){var u=l,m=u.alternate;switch(u.tag){case 15:case 0:u=Of(m,u,u.pendingProps,u.type,void 0,Xe);break;case 11:u=Of(m,u,u.pendingProps,u.type.render,u.ref,Xe);break;case 5:Ym(u);default:Nd(m,u),u=ze=cf(u,ys),u=Od(m,u,ys)}l.memoizedProps=l.pendingProps,u===null?al(l):ze=u}function lc(l,u,m,x){os=Lo=null,Ym(u),Jc=null,ha=0;var T=u.return;try{if(F2(l,T,u,m,Xe)){Le=1,Rf(l,Ni(m,l.current)),ze=null;return}}catch(O){if(T!==null)throw ze=T,O;Le=1,Rf(l,Ni(m,l.current)),ze=null;return}u.flags&32768?(an||x===1?l=!0:Bn||(Xe&536870912)!==0?l=!1:(ia=l=!0,(x===2||x===9||x===3||x===6)&&(x=Ya.current,x!==null&&x.tag===13&&(x.flags|=16384))),zf(u,l)):al(u)}function al(l){var u=l;do{if((u.flags&32768)!==0){zf(u,ia);return}l=u.return;var m=mg(u.alternate,u,ys);if(m!==null){ze=m;return}if(u=u.sibling,u!==null){ze=u;return}ze=u=l}while(u!==null);Le===0&&(Le=5)}function zf(l,u){do{var m=Ka(l.alternate,l);if(m!==null){m.flags&=32767,ze=m;return}if(m=l.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!u&&(l=l.sibling,l!==null)){ze=l;return}ze=l=m}while(l!==null);Le=6,ze=null}function h(l,u,m,x,T,O,q,W,st){l.cancelPendingCommit=null;do F();while(ce!==0);if((ve&6)!==0)throw Error(i(327));if(u!==null){if(u===l.current)throw Error(i(177));if(O=u.lanes|u.childLanes,O|=rd,Or(l,m,O,q,W,st),l===Rn&&(ze=Rn=null,Xe=0),Ae=u,rn=l,je=m,bn=O,va=T,ao=x,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,vr(pn,function(){return et(),null})):(l.callbackNode=null,l.callbackPriority=0),x=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||x){x=tt.T,tt.T=null,T=I.p,I.p=2,q=ve,ve|=4;try{B2(l,u,m)}finally{ve=q,I.p=T,tt.T=x}}ce=1,p(),S(),R()}}function p(){if(ce===1){ce=0;var l=rn,u=Ae,m=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||m){m=tt.T,tt.T=null;var x=I.p;I.p=2;var T=ve;ve|=4;try{jd(u,l);var O=K2,q=Om(l.containerInfo),W=O.focusedElem,st=O.selectionRange;if(q!==W&&W&&W.ownerDocument&&Dm(W.ownerDocument.documentElement,W)){if(st!==null&&Ul(W)){var gt=st.start,Et=st.end;if(Et===void 0&&(Et=gt),"selectionStart"in W)W.selectionStart=gt,W.selectionEnd=Math.min(Et,W.value.length);else{var Ct=W.ownerDocument||document,yt=Ct&&Ct.defaultView||window;if(yt.getSelection){var bt=yt.getSelection(),be=W.textContent.length,de=Math.min(st.start,be),zn=st.end===void 0?de:Math.min(st.end,be);!bt.extend&&de>zn&&(q=zn,zn=de,de=q);var ht=Gs(W,de),ut=Gs(W,zn);if(ht&&ut&&(bt.rangeCount!==1||bt.anchorNode!==ht.node||bt.anchorOffset!==ht.offset||bt.focusNode!==ut.node||bt.focusOffset!==ut.offset)){var mt=Ct.createRange();mt.setStart(ht.node,ht.offset),bt.removeAllRanges(),de>zn?(bt.addRange(mt),bt.extend(ut.node,ut.offset)):(mt.setEnd(ut.node,ut.offset),bt.addRange(mt))}}}}for(Ct=[],bt=W;bt=bt.parentNode;)bt.nodeType===1&&Ct.push({element:bt,left:bt.scrollLeft,top:bt.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Ct.length;W++){var At=Ct[W];At.element.scrollLeft=At.left,At.element.scrollTop=At.top}}Db=!!Y2,K2=Y2=null}finally{ve=T,I.p=x,tt.T=m}}l.current=u,ce=2}}function S(){if(ce===2){ce=0;var l=rn,u=Ae,m=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||m){m=tt.T,tt.T=null;var x=I.p;I.p=2;var T=ve;ve|=4;try{ru(l,u.alternate,u)}finally{ve=T,I.p=x,tt.T=m}}ce=3}}function R(){if(ce===4||ce===3){ce=0,re();var l=rn,u=Ae,m=je,x=ao;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?ce=5:(ce=0,Ae=rn=null,N(l,l.pendingLanes));var T=l.pendingLanes;if(T===0&&(Jo=null),Wt(m),u=u.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(te,u,void 0,(u.current.flags&128)===128)}catch{}if(x!==null){u=tt.T,T=I.p,I.p=2,tt.T=null;try{for(var O=l.onRecoverableError,q=0;q<x.length;q++){var W=x[q];O(W.value,{componentStack:W.stack})}}finally{tt.T=u,I.p=T}}(je&3)!==0&&F(),$t(l),T=l.pendingLanes,(m&4194090)!==0&&(T&42)!==0?l===Id?bs++:(bs=0,Id=l):bs=0,En(0)}}function N(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,Lr(u)))}function F(l){return p(),S(),R(),et()}function et(){if(ce!==5)return!1;var l=rn,u=bn;bn=0;var m=Wt(je),x=tt.T,T=I.p;try{I.p=32>m?32:m,tt.T=null,m=va,va=null;var O=rn,q=je;if(ce=0,Ae=rn=null,je=0,(ve&6)!==0)throw Error(i(331));var W=ve;if(ve|=4,ou(O.current),su(O,O.current,q,m),ve=W,En(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(te,O)}catch{}return!0}finally{I.p=T,tt.T=x,N(l,u)}}function ot(l,u,m){u=Ni(m,u),u=eu(l.stateNode,u,2),l=da(l,u,2),l!==null&&(fi(l,2),$t(l))}function ft(l,u,m){if(l.tag===3)ot(l,l,m);else for(;u!==null;){if(u.tag===3){ot(u,l,m);break}else if(u.tag===1){var x=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Jo===null||!Jo.has(x))){l=Ni(m,l),m=Md(2),x=da(u,m,2),x!==null&&(Mf(m,x,u,l),fi(x,2),$t(x));break}}u=u.return}}function Rt(l,u,m){var x=l.pingCache;if(x===null){x=l.pingCache=new vs;var T=new Set;x.set(u,T)}else T=x.get(u),T===void 0&&(T=new Set,x.set(u,T));T.has(m)||(Bd=!0,T.add(m),l=Ft.bind(null,l,u,m),u.then(l,l))}function Ft(l,u,m){var x=l.pingCache;x!==null&&x.delete(u),l.pingedLanes|=l.suspendedLanes&m,l.warmLanes&=~m,Rn===l&&(Xe&m)===m&&(Le===4||Le===3&&(Xe&62914560)===Xe&&300>Bt()-uu?(ve&2)===0&&nl(l,0):Qa|=m,lu===Xe&&(lu=0)),$t(l)}function Ut(l,u){u===0&&(u=un()),l=is(l,u),l!==null&&(fi(l,u),$t(l))}function Gt(l){var u=l.memoizedState,m=0;u!==null&&(m=u.retryLane),Ut(l,m)}function Me(l,u){var m=0;switch(l.tag){case 13:var x=l.stateNode,T=l.memoizedState;T!==null&&(m=T.retryLane);break;case 19:x=l.stateNode;break;case 22:x=l.stateNode._retryCache;break;default:throw Error(i(314))}x!==null&&x.delete(u),Ut(l,m)}function vr(l,u){return zt(l,u)}var rl=null,yr=null,vt=!1,dt=!1,xt=!1,Ot=0;function $t(l){l!==yr&&l.next===null&&(yr===null?rl=yr=l:yr=yr.next=l),dt=!0,vt||(vt=!0,I2())}function En(l,u){if(!xt&&dt){xt=!0;do for(var m=!1,x=rl;x!==null;){if(l!==0){var T=x.pendingLanes;if(T===0)var O=0;else{var q=x.suspendedLanes,W=x.pingedLanes;O=(1<<31-Se(42|l)+1)-1,O&=T&~(q&~W),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(m=!0,ro(x,O))}else O=Xe,O=Ui(x,x===Rn?O:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(O&3)===0||Oi(x,O)||(m=!0,ro(x,O));x=x.next}while(m);xt=!1}}function he(){sn()}function sn(){dt=vt=!1;var l=0;Ot!==0&&(rz()&&(l=Ot),Ot=0);for(var u=Bt(),m=null,x=rl;x!==null;){var T=x.next,O=Ai(x,u);O===0?(x.next=null,m===null?rl=T:m.next=T,T===null&&(yr=m)):(m=x,(l!==0||(O&3)!==0)&&(dt=!0)),x=T}En(l)}function Ai(l,u){for(var m=l.suspendedLanes,x=l.pingedLanes,T=l.expirationTimes,O=l.pendingLanes&-62914561;0<O;){var q=31-Se(O),W=1<<q,st=T[q];st===-1?((W&m)===0||(W&x)!==0)&&(T[q]=jt(W,u)):st<=u&&(l.expiredLanes|=W),O&=~W}if(u=Rn,m=Xe,m=Ui(l,l===u?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x=l.callbackNode,m===0||l===u&&(ye===2||ye===9)||l.cancelPendingCommit!==null)return x!==null&&x!==null&&Jt(x),l.callbackNode=null,l.callbackPriority=0;if((m&3)===0||Oi(l,m)){if(u=m&-m,u===l.callbackPriority)return u;switch(x!==null&&Jt(x),Wt(m)){case 2:case 8:m=le;break;case 32:m=pn;break;case 268435456:m=Ee;break;default:m=pn}return x=on.bind(null,l),m=zt(m,x),l.callbackPriority=u,l.callbackNode=m,u}return x!==null&&x!==null&&Jt(x),l.callbackPriority=2,l.callbackNode=null,2}function on(l,u){if(ce!==0&&ce!==5)return l.callbackNode=null,l.callbackPriority=0,null;var m=l.callbackNode;if(F()&&l.callbackNode!==m)return null;var x=Xe;return x=Ui(l,l===Rn?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x===0?null:(tl(l,x,u),Ai(l,Bt()),l.callbackNode!=null&&l.callbackNode===m?on.bind(null,l):null)}function ro(l,u){if(F())return null;tl(l,u,!0)}function I2(){oz(function(){(ve&6)!==0?zt(Ye,he):sn()})}function z2(){return Ot===0&&(Ot=we()),Ot}function Y5(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Uh(""+l)}function K5(l,u){var m=u.ownerDocument.createElement("input");return m.name=u.name,m.value=u.value,l.id&&m.setAttribute("form",l.id),u.parentNode.insertBefore(m,u),l=new FormData(l),m.parentNode.removeChild(m),l}function ZI(l,u,m,x,T){if(u==="submit"&&m&&m.stateNode===T){var O=Y5((T[qt]||null).action),q=x.submitter;q&&(u=(u=q[qt]||null)?Y5(u.formAction):q.getAttribute("formAction"),u!==null&&(O=u,q=null));var W=new Zu("action","action",null,x,T);l.push({event:W,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Ot!==0){var st=q?K5(T,q):new FormData(T);rg(m,{pending:!0,data:st,method:T.method,action:O},null,st)}}else typeof O=="function"&&(W.preventDefault(),st=q?K5(T,q):new FormData(T),rg(m,{pending:!0,data:st,method:T.method,action:O},O,st))},currentTarget:T}]})}}for(var U2=0;U2<Qi.length;U2++){var H2=Qi[U2],JI=H2.toLowerCase(),tz=H2[0].toUpperCase()+H2.slice(1);ur(JI,"on"+tz)}ur(Nm,"onAnimationEnd"),ur(cr,"onAnimationIteration"),ur(lf,"onAnimationStart"),ur("dblclick","onDoubleClick"),ur("focusin","onFocus"),ur("focusout","onBlur"),ur(Ry,"onTransitionRun"),ur(O2,"onTransitionStart"),ur(Pm,"onTransitionCancel"),ur(Wi,"onTransitionEnd"),Nr("onMouseEnter",["mouseout","mouseover"]),Nr("onMouseLeave",["mouseout","mouseover"]),Nr("onPointerEnter",["pointerout","pointerover"]),Nr("onPointerLeave",["pointerout","pointerover"]),Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ez=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xg));function X5(l,u){u=(u&4)!==0;for(var m=0;m<l.length;m++){var x=l[m],T=x.event;x=x.listeners;t:{var O=void 0;if(u)for(var q=x.length-1;0<=q;q--){var W=x[q],st=W.instance,gt=W.currentTarget;if(W=W.listener,st!==O&&T.isPropagationStopped())break t;O=W,T.currentTarget=gt;try{O(T)}catch(Et){to(Et)}T.currentTarget=null,O=st}else for(q=0;q<x.length;q++){if(W=x[q],st=W.instance,gt=W.currentTarget,W=W.listener,st!==O&&T.isPropagationStopped())break t;O=W,T.currentTarget=gt;try{O(T)}catch(Et){to(Et)}T.currentTarget=null,O=st}}}}function We(l,u){var m=u[en];m===void 0&&(m=u[en]=new Set);var x=l+"__bubble";m.has(x)||(W5(u,l,2,!1),m.add(x))}function G2(l,u,m){var x=0;u&&(x|=4),W5(m,l,x,u)}var Sb="_reactListening"+Math.random().toString(36).slice(2);function q2(l){if(!l[Sb]){l[Sb]=!0,Ml.forEach(function(m){m!=="selectionchange"&&(ez.has(m)||G2(m,!1,l),G2(m,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[Sb]||(u[Sb]=!0,G2("selectionchange",!1,u))}}function W5(l,u,m,x){switch(x4(u)){case 2:var T=Rz;break;case 8:T=Mz;break;default:T=aS}m=T.bind(null,u,m,l),T=void 0,!Gh||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(T=!0),x?T!==void 0?l.addEventListener(u,m,{capture:!0,passive:T}):l.addEventListener(u,m,!0):T!==void 0?l.addEventListener(u,m,{passive:T}):l.addEventListener(u,m,!1)}function V2(l,u,m,x,T){var O=x;if((u&1)===0&&(u&2)===0&&x!==null)t:for(;;){if(x===null)return;var q=x.tag;if(q===3||q===4){var W=x.stateNode.containerInfo;if(W===T)break;if(q===4)for(q=x.return;q!==null;){var st=q.tag;if((st===3||st===4)&&q.stateNode.containerInfo===T)return;q=q.return}for(;W!==null;){if(q=Re(W),q===null)return;if(st=q.tag,st===5||st===6||st===26||st===27){x=O=q;continue t}W=W.parentNode}}x=x.return}ym(function(){var gt=O,Et=Co(m),Ct=[];t:{var yt=km.get(l);if(yt!==void 0){var bt=Zu,be=l;switch(l){case"keypress":if(Lc(m)===0)break t;case"keydown":case"keyup":bt=Xh;break;case"focusin":be="focus",bt=Fl;break;case"focusout":be="blur",bt=Fl;break;case"beforeblur":case"afterblur":bt=Fl;break;case"click":if(m.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":bt=Ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":bt=dy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":bt=yy;break;case Nm:case cr:case lf:bt=hy;break;case Wi:bt=Gi;break;case"scroll":case"scrollend":bt=T2;break;case"wheel":bt=xy;break;case"copy":case"cut":case"paste":bt=To;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":bt=Wh;break;case"toggle":case"beforetoggle":bt=wy}var de=(u&4)!==0,zn=!de&&(l==="scroll"||l==="scrollend"),ht=de?yt!==null?yt+"Capture":null:yt;de=[];for(var ut=gt,mt;ut!==null;){var At=ut;if(mt=At.stateNode,At=At.tag,At!==5&&At!==26&&At!==27||mt===null||ht===null||(At=Pc(ut,ht),At!=null&&de.push(Sg(ut,At,mt))),zn)break;ut=ut.return}0<de.length&&(yt=new bt(yt,be,null,m,Et),Ct.push({event:yt,listeners:de}))}}if((u&7)===0){t:{if(yt=l==="mouseover"||l==="pointerover",bt=l==="mouseout"||l==="pointerout",yt&&m!==Hh&&(be=m.relatedTarget||m.fromElement)&&(Re(be)||be[ae]))break t;if((bt||yt)&&(yt=Et.window===Et?Et:(yt=Et.ownerDocument)?yt.defaultView||yt.parentWindow:window,bt?(be=m.relatedTarget||m.toElement,bt=gt,be=be?Re(be):null,be!==null&&(zn=r(be),de=be.tag,be!==zn||de!==5&&de!==27&&de!==6)&&(be=null)):(bt=null,be=gt),bt!==be)){if(de=Ju,At="onMouseLeave",ht="onMouseEnter",ut="mouse",(l==="pointerout"||l==="pointerover")&&(de=Wh,At="onPointerLeave",ht="onPointerEnter",ut="pointer"),zn=bt==null?yt:_o(bt),mt=be==null?yt:_o(be),yt=new de(At,ut+"leave",bt,m,Et),yt.target=zn,yt.relatedTarget=mt,At=null,Re(Et)===gt&&(de=new de(ht,ut+"enter",be,m,Et),de.target=mt,de.relatedTarget=zn,At=de),zn=At,bt&&be)e:{for(de=bt,ht=be,ut=0,mt=de;mt;mt=Uf(mt))ut++;for(mt=0,At=ht;At;At=Uf(At))mt++;for(;0<ut-mt;)de=Uf(de),ut--;for(;0<mt-ut;)ht=Uf(ht),mt--;for(;ut--;){if(de===ht||ht!==null&&de===ht.alternate)break e;de=Uf(de),ht=Uf(ht)}de=null}else de=null;bt!==null&&Q5(Ct,yt,bt,de,!1),be!==null&&zn!==null&&Q5(Ct,zn,be,de,!0)}}t:{if(yt=gt?_o(gt):window,bt=yt.nodeName&&yt.nodeName.toLowerCase(),bt==="select"||bt==="input"&&yt.type==="file")var Xt=Aa;else if(tf(yt))if(Rm)Xt=Wn;else{Xt=rf;var $e=Cy}else bt=yt.nodeName,!bt||bt.toLowerCase()!=="input"||yt.type!=="checkbox"&&yt.type!=="radio"?gt&&zh(gt.elementType)&&(Xt=Aa):Xt=nd;if(Xt&&(Xt=Xt(l,gt))){Tm(Ct,Xt,m,Et);break t}$e&&$e(l,yt,gt),l==="focusout"&&gt&&yt.type==="number"&&gt.memoizedProps.value!=null&&Ih(yt,"number",yt.value)}switch($e=gt?_o(gt):window,l){case"focusin":(tf($e)||$e.contentEditable==="true")&&(Hl=$e,id=gt,Uc=null);break;case"focusout":Uc=id=Hl=null;break;case"mousedown":ad=!0;break;case"contextmenu":case"mouseup":case"dragend":ad=!1,sf(Ct,m,Et);break;case"selectionchange":if(es)break;case"keydown":case"keyup":sf(Ct,m,Et)}var ne;if(Bc)t:{switch(l){case"compositionstart":var fe="onCompositionStart";break t;case"compositionend":fe="onCompositionEnd";break t;case"compositionupdate":fe="onCompositionUpdate";break t}fe=void 0}else Ro?Zh(l,m)&&(fe="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(fe="onCompositionStart");fe&&(_m&&m.locale!=="ko"&&(Ro||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Ro&&(ne=bm()):(Bs=Et,Xu="value"in Bs?Bs.value:Bs.textContent,Ro=!0)),$e=wb(gt,fe),0<$e.length&&(fe=new Us(fe,l,null,m,Et),Ct.push({event:fe,listeners:$e}),ne?fe.data=ne:(ne=Am(m),ne!==null&&(fe.data=ne)))),(ne=Ey?Jh(l,m):Cm(l,m))&&(fe=wb(gt,"onBeforeInput"),0<fe.length&&($e=new Us("onBeforeInput","beforeinput",null,m,Et),Ct.push({event:$e,listeners:fe}),$e.data=ne)),ZI(Ct,l,gt,m,Et)}X5(Ct,u)})}function Sg(l,u,m){return{instance:l,listener:u,currentTarget:m}}function wb(l,u){for(var m=u+"Capture",x=[];l!==null;){var T=l,O=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||O===null||(T=Pc(l,m),T!=null&&x.unshift(Sg(l,T,O)),T=Pc(l,u),T!=null&&x.push(Sg(l,T,O))),l.tag===3)return x;l=l.return}return[]}function Uf(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function Q5(l,u,m,x,T){for(var O=u._reactName,q=[];m!==null&&m!==x;){var W=m,st=W.alternate,gt=W.stateNode;if(W=W.tag,st!==null&&st===x)break;W!==5&&W!==26&&W!==27||gt===null||(st=gt,T?(gt=Pc(m,O),gt!=null&&q.unshift(Sg(m,gt,st))):T||(gt=Pc(m,O),gt!=null&&q.push(Sg(m,gt,st)))),m=m.return}q.length!==0&&l.push({event:u,listeners:q})}var nz=/\r\n?/g,iz=/\u0000|\uFFFD/g;function Z5(l){return(typeof l=="string"?l:""+l).replace(nz,`
`).replace(iz,"")}function J5(l,u){return u=Z5(u),Z5(l)===u}function _b(){}function In(l,u,m,x,T,O){switch(m){case"children":typeof x=="string"?u==="body"||u==="textarea"&&x===""||kl(l,x):(typeof x=="number"||typeof x=="bigint")&&u!=="body"&&kl(l,""+x);break;case"className":Zr(l,"class",x);break;case"tabIndex":Zr(l,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Zr(l,m,x);break;case"style":vm(l,x,O);break;case"data":if(u!=="object"){Zr(l,"data",x);break}case"src":case"href":if(x===""&&(u!=="a"||m!=="href")){l.removeAttribute(m);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(m);break}x=Uh(""+x),l.setAttribute(m,x);break;case"action":case"formAction":if(typeof x=="function"){l.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(m==="formAction"?(u!=="input"&&In(l,u,"name",T.name,T,null),In(l,u,"formEncType",T.formEncType,T,null),In(l,u,"formMethod",T.formMethod,T,null),In(l,u,"formTarget",T.formTarget,T,null)):(In(l,u,"encType",T.encType,T,null),In(l,u,"method",T.method,T,null),In(l,u,"target",T.target,T,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(m);break}x=Uh(""+x),l.setAttribute(m,x);break;case"onClick":x!=null&&(l.onclick=_b);break;case"onScroll":x!=null&&We("scroll",l);break;case"onScrollEnd":x!=null&&We("scrollend",l);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(m=x.__html,m!=null){if(T.children!=null)throw Error(i(60));l.innerHTML=m}}break;case"multiple":l.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":l.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){l.removeAttribute("xlink:href");break}m=Uh(""+x),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(m,""+x):l.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(m,""):l.removeAttribute(m);break;case"capture":case"download":x===!0?l.setAttribute(m,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(m,x):l.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?l.setAttribute(m,x):l.removeAttribute(m);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?l.removeAttribute(m):l.setAttribute(m,x);break;case"popover":We("beforetoggle",l),We("toggle",l),Eo(l,"popover",x);break;case"xlinkActuate":Pr(l,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Pr(l,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Pr(l,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Pr(l,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Pr(l,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Pr(l,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Pr(l,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Pr(l,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Pr(l,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Eo(l,"is",x);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=ly.get(m)||m,Eo(l,m,x))}}function $2(l,u,m,x,T,O){switch(m){case"style":vm(l,x,O);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(m=x.__html,m!=null){if(T.children!=null)throw Error(i(60));l.innerHTML=m}}break;case"children":typeof x=="string"?kl(l,x):(typeof x=="number"||typeof x=="bigint")&&kl(l,""+x);break;case"onScroll":x!=null&&We("scroll",l);break;case"onScrollEnd":x!=null&&We("scrollend",l);break;case"onClick":x!=null&&(l.onclick=_b);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dl.hasOwnProperty(m))t:{if(m[0]==="o"&&m[1]==="n"&&(T=m.endsWith("Capture"),u=m.slice(2,T?m.length-7:void 0),O=l[qt]||null,O=O!=null?O[m]:null,typeof O=="function"&&l.removeEventListener(u,O,T),typeof x=="function")){typeof O!="function"&&O!==null&&(m in l?l[m]=null:l.hasAttribute(m)&&l.removeAttribute(m)),l.addEventListener(u,x,T);break t}m in l?l[m]=x:x===!0?l.setAttribute(m,""):Eo(l,m,x)}}}function ya(l,u,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",l),We("load",l);var x=!1,T=!1,O;for(O in m)if(m.hasOwnProperty(O)){var q=m[O];if(q!=null)switch(O){case"src":x=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:In(l,u,O,q,m,null)}}T&&In(l,u,"srcSet",m.srcSet,m,null),x&&In(l,u,"src",m.src,m,null);return;case"input":We("invalid",l);var W=O=q=T=null,st=null,gt=null;for(x in m)if(m.hasOwnProperty(x)){var Et=m[x];if(Et!=null)switch(x){case"name":T=Et;break;case"type":q=Et;break;case"checked":st=Et;break;case"defaultChecked":gt=Et;break;case"value":O=Et;break;case"defaultValue":W=Et;break;case"children":case"dangerouslySetInnerHTML":if(Et!=null)throw Error(i(137,u));break;default:In(l,u,x,Et,m,null)}}Bh(l,O,W,st,gt,q,T,!1),$u(l);return;case"select":We("invalid",l),x=q=O=null;for(T in m)if(m.hasOwnProperty(T)&&(W=m[T],W!=null))switch(T){case"value":O=W;break;case"defaultValue":q=W;break;case"multiple":x=W;default:In(l,u,T,W,m,null)}u=O,m=q,l.multiple=!!x,u!=null?Nc(l,!!x,u,!1):m!=null&&Nc(l,!!x,m,!0);return;case"textarea":We("invalid",l),O=T=x=null;for(q in m)if(m.hasOwnProperty(q)&&(W=m[q],W!=null))switch(q){case"value":x=W;break;case"defaultValue":T=W;break;case"children":O=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(91));break;default:In(l,u,q,W,m,null)}pm(l,x,T,O),$u(l);return;case"option":for(st in m)if(m.hasOwnProperty(st)&&(x=m[st],x!=null))switch(st){case"selected":l.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:In(l,u,st,x,m,null)}return;case"dialog":We("beforetoggle",l),We("toggle",l),We("cancel",l),We("close",l);break;case"iframe":case"object":We("load",l);break;case"video":case"audio":for(x=0;x<xg.length;x++)We(xg[x],l);break;case"image":We("error",l),We("load",l);break;case"details":We("toggle",l);break;case"embed":case"source":case"link":We("error",l),We("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(gt in m)if(m.hasOwnProperty(gt)&&(x=m[gt],x!=null))switch(gt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:In(l,u,gt,x,m,null)}return;default:if(zh(u)){for(Et in m)m.hasOwnProperty(Et)&&(x=m[Et],x!==void 0&&$2(l,u,Et,x,m,void 0));return}}for(W in m)m.hasOwnProperty(W)&&(x=m[W],x!=null&&In(l,u,W,x,m,null))}function az(l,u,m,x){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,O=null,q=null,W=null,st=null,gt=null,Et=null;for(bt in m){var Ct=m[bt];if(m.hasOwnProperty(bt)&&Ct!=null)switch(bt){case"checked":break;case"value":break;case"defaultValue":st=Ct;default:x.hasOwnProperty(bt)||In(l,u,bt,null,x,Ct)}}for(var yt in x){var bt=x[yt];if(Ct=m[yt],x.hasOwnProperty(yt)&&(bt!=null||Ct!=null))switch(yt){case"type":O=bt;break;case"name":T=bt;break;case"checked":gt=bt;break;case"defaultChecked":Et=bt;break;case"value":q=bt;break;case"defaultValue":W=bt;break;case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(i(137,u));break;default:bt!==Ct&&In(l,u,yt,bt,x,Ct)}}Fh(l,q,W,st,gt,Et,O,T);return;case"select":bt=q=W=yt=null;for(O in m)if(st=m[O],m.hasOwnProperty(O)&&st!=null)switch(O){case"value":break;case"multiple":bt=st;default:x.hasOwnProperty(O)||In(l,u,O,null,x,st)}for(T in x)if(O=x[T],st=m[T],x.hasOwnProperty(T)&&(O!=null||st!=null))switch(T){case"value":yt=O;break;case"defaultValue":W=O;break;case"multiple":q=O;default:O!==st&&In(l,u,T,O,x,st)}u=W,m=q,x=bt,yt!=null?Nc(l,!!m,yt,!1):!!x!=!!m&&(u!=null?Nc(l,!!m,u,!0):Nc(l,!!m,m?[]:"",!1));return;case"textarea":bt=yt=null;for(W in m)if(T=m[W],m.hasOwnProperty(W)&&T!=null&&!x.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:In(l,u,W,null,x,T)}for(q in x)if(T=x[q],O=m[q],x.hasOwnProperty(q)&&(T!=null||O!=null))switch(q){case"value":yt=T;break;case"defaultValue":bt=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:T!==O&&In(l,u,q,T,x,O)}fm(l,yt,bt);return;case"option":for(var be in m)if(yt=m[be],m.hasOwnProperty(be)&&yt!=null&&!x.hasOwnProperty(be))switch(be){case"selected":l.selected=!1;break;default:In(l,u,be,null,x,yt)}for(st in x)if(yt=x[st],bt=m[st],x.hasOwnProperty(st)&&yt!==bt&&(yt!=null||bt!=null))switch(st){case"selected":l.selected=yt&&typeof yt!="function"&&typeof yt!="symbol";break;default:In(l,u,st,yt,x,bt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in m)yt=m[de],m.hasOwnProperty(de)&&yt!=null&&!x.hasOwnProperty(de)&&In(l,u,de,null,x,yt);for(gt in x)if(yt=x[gt],bt=m[gt],x.hasOwnProperty(gt)&&yt!==bt&&(yt!=null||bt!=null))switch(gt){case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(i(137,u));break;default:In(l,u,gt,yt,x,bt)}return;default:if(zh(u)){for(var zn in m)yt=m[zn],m.hasOwnProperty(zn)&&yt!==void 0&&!x.hasOwnProperty(zn)&&$2(l,u,zn,void 0,x,yt);for(Et in x)yt=x[Et],bt=m[Et],!x.hasOwnProperty(Et)||yt===bt||yt===void 0&&bt===void 0||$2(l,u,Et,yt,x,bt);return}}for(var ht in m)yt=m[ht],m.hasOwnProperty(ht)&&yt!=null&&!x.hasOwnProperty(ht)&&In(l,u,ht,null,x,yt);for(Ct in x)yt=x[Ct],bt=m[Ct],!x.hasOwnProperty(Ct)||yt===bt||yt==null&&bt==null||In(l,u,Ct,yt,x,bt)}var Y2=null,K2=null;function Eb(l){return l.nodeType===9?l:l.ownerDocument}function t4(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e4(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function X2(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var W2=null;function rz(){var l=window.event;return l&&l.type==="popstate"?l===W2?!1:(W2=l,!0):(W2=null,!1)}var n4=typeof setTimeout=="function"?setTimeout:void 0,sz=typeof clearTimeout=="function"?clearTimeout:void 0,i4=typeof Promise=="function"?Promise:void 0,oz=typeof queueMicrotask=="function"?queueMicrotask:typeof i4<"u"?function(l){return i4.resolve(null).then(l).catch(lz)}:n4;function lz(l){setTimeout(function(){throw l})}function pu(l){return l==="head"}function a4(l,u){var m=u,x=0,T=0;do{var O=m.nextSibling;if(l.removeChild(m),O&&O.nodeType===8)if(m=O.data,m==="/$"){if(0<x&&8>x){m=x;var q=l.ownerDocument;if(m&1&&wg(q.documentElement),m&2&&wg(q.body),m&4)for(m=q.head,wg(m),q=m.firstChild;q;){var W=q.nextSibling,st=q.nodeName;q[dn]||st==="SCRIPT"||st==="STYLE"||st==="LINK"&&q.rel.toLowerCase()==="stylesheet"||m.removeChild(q),q=W}}if(T===0){l.removeChild(O),Dg(u);return}T--}else m==="$"||m==="$?"||m==="$!"?T++:x=m.charCodeAt(0)-48;else x=0;m=O}while(m);Dg(u)}function Q2(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var m=u;switch(u=u.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":Q2(m),gn(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}l.removeChild(m)}}function cz(l,u,m,x){for(;l.nodeType===1;){var T=m;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!x&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(x){if(!l[dn])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(O=l.getAttribute("rel"),O==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(O!==T.rel||l.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||l.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||l.getAttribute("title")!==(T.title==null?null:T.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(O=l.getAttribute("src"),(O!==(T.src==null?null:T.src)||l.getAttribute("type")!==(T.type==null?null:T.type)||l.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&O&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var O=T.name==null?null:""+T.name;if(T.type==="hidden"&&l.getAttribute("name")===O)return l}else return l;if(l=so(l.nextSibling),l===null)break}return null}function uz(l,u,m){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!m||(l=so(l.nextSibling),l===null))return null;return l}function Z2(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function dz(l,u){var m=l.ownerDocument;if(l.data!=="$?"||m.readyState==="complete")u();else{var x=function(){u(),m.removeEventListener("DOMContentLoaded",x)};m.addEventListener("DOMContentLoaded",x),l._reactRetry=x}}function so(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return l}var J2=null;function r4(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return l;u--}else m==="/$"&&u++}l=l.previousSibling}return null}function s4(l,u,m){switch(u=Eb(m),l){case"html":if(l=u.documentElement,!l)throw Error(i(452));return l;case"head":if(l=u.head,!l)throw Error(i(453));return l;case"body":if(l=u.body,!l)throw Error(i(454));return l;default:throw Error(i(451))}}function wg(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);gn(l)}var Ss=new Map,o4=new Set;function Ab(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var cc=I.d;I.d={f:hz,r:fz,D:pz,C:mz,L:gz,m:vz,X:bz,S:yz,M:xz};function hz(){var l=cc.f(),u=el();return l||u}function fz(l){var u=Hi(l);u!==null&&u.tag===5&&u.type==="form"?ab(u):cc.r(l)}var Hf=typeof document>"u"?null:document;function l4(l,u,m){var x=Hf;if(x&&typeof u=="string"&&u){var T=Ha(u);T='link[rel="'+l+'"][href="'+T+'"]',typeof m=="string"&&(T+='[crossorigin="'+m+'"]'),o4.has(T)||(o4.add(T),l={rel:l,crossOrigin:m,href:u},x.querySelector(T)===null&&(u=x.createElement("link"),ya(u,"link",l),ti(u),x.head.appendChild(u)))}}function pz(l){cc.D(l),l4("dns-prefetch",l,null)}function mz(l,u){cc.C(l,u),l4("preconnect",l,u)}function gz(l,u,m){cc.L(l,u,m);var x=Hf;if(x&&l&&u){var T='link[rel="preload"][as="'+Ha(u)+'"]';u==="image"&&m&&m.imageSrcSet?(T+='[imagesrcset="'+Ha(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(T+='[imagesizes="'+Ha(m.imageSizes)+'"]')):T+='[href="'+Ha(l)+'"]';var O=T;switch(u){case"style":O=Gf(l);break;case"script":O=qf(l)}Ss.has(O)||(l=f({rel:"preload",href:u==="image"&&m&&m.imageSrcSet?void 0:l,as:u},m),Ss.set(O,l),x.querySelector(T)!==null||u==="style"&&x.querySelector(_g(O))||u==="script"&&x.querySelector(Eg(O))||(u=x.createElement("link"),ya(u,"link",l),ti(u),x.head.appendChild(u)))}}function vz(l,u){cc.m(l,u);var m=Hf;if(m&&l){var x=u&&typeof u.as=="string"?u.as:"script",T='link[rel="modulepreload"][as="'+Ha(x)+'"][href="'+Ha(l)+'"]',O=T;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=qf(l)}if(!Ss.has(O)&&(l=f({rel:"modulepreload",href:l},u),Ss.set(O,l),m.querySelector(T)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Eg(O)))return}x=m.createElement("link"),ya(x,"link",l),ti(x),m.head.appendChild(x)}}}function yz(l,u,m){cc.S(l,u,m);var x=Hf;if(x&&l){var T=js(x).hoistableStyles,O=Gf(l);u=u||"default";var q=T.get(O);if(!q){var W={loading:0,preload:null};if(q=x.querySelector(_g(O)))W.loading=5;else{l=f({rel:"stylesheet",href:l,"data-precedence":u},m),(m=Ss.get(O))&&tS(l,m);var st=q=x.createElement("link");ti(st),ya(st,"link",l),st._p=new Promise(function(gt,Et){st.onload=gt,st.onerror=Et}),st.addEventListener("load",function(){W.loading|=1}),st.addEventListener("error",function(){W.loading|=2}),W.loading|=4,Cb(q,u,x)}q={type:"stylesheet",instance:q,count:1,state:W},T.set(O,q)}}}function bz(l,u){cc.X(l,u);var m=Hf;if(m&&l){var x=js(m).hoistableScripts,T=qf(l),O=x.get(T);O||(O=m.querySelector(Eg(T)),O||(l=f({src:l,async:!0},u),(u=Ss.get(T))&&eS(l,u),O=m.createElement("script"),ti(O),ya(O,"link",l),m.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},x.set(T,O))}}function xz(l,u){cc.M(l,u);var m=Hf;if(m&&l){var x=js(m).hoistableScripts,T=qf(l),O=x.get(T);O||(O=m.querySelector(Eg(T)),O||(l=f({src:l,async:!0,type:"module"},u),(u=Ss.get(T))&&eS(l,u),O=m.createElement("script"),ti(O),ya(O,"link",l),m.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},x.set(T,O))}}function c4(l,u,m,x){var T=(T=rt.current)?Ab(T):null;if(!T)throw Error(i(446));switch(l){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(u=Gf(m.href),m=js(T).hoistableStyles,x=m.get(u),x||(x={type:"style",instance:null,count:0,state:null},m.set(u,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){l=Gf(m.href);var O=js(T).hoistableStyles,q=O.get(l);if(q||(T=T.ownerDocument||T,q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(l,q),(O=T.querySelector(_g(l)))&&!O._p&&(q.instance=O,q.state.loading=5),Ss.has(l)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Ss.set(l,m),O||Sz(T,l,m,q.state))),u&&x===null)throw Error(i(528,""));return q}if(u&&x!==null)throw Error(i(529,""));return null;case"script":return u=m.async,m=m.src,typeof m=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=qf(m),m=js(T).hoistableScripts,x=m.get(u),x||(x={type:"script",instance:null,count:0,state:null},m.set(u,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,l))}}function Gf(l){return'href="'+Ha(l)+'"'}function _g(l){return'link[rel="stylesheet"]['+l+"]"}function u4(l){return f({},l,{"data-precedence":l.precedence,precedence:null})}function Sz(l,u,m,x){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?x.loading=1:(u=l.createElement("link"),x.preload=u,u.addEventListener("load",function(){return x.loading|=1}),u.addEventListener("error",function(){return x.loading|=2}),ya(u,"link",m),ti(u),l.head.appendChild(u))}function qf(l){return'[src="'+Ha(l)+'"]'}function Eg(l){return"script[async]"+l}function d4(l,u,m){if(u.count++,u.instance===null)switch(u.type){case"style":var x=l.querySelector('style[data-href~="'+Ha(m.href)+'"]');if(x)return u.instance=x,ti(x),x;var T=f({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return x=(l.ownerDocument||l).createElement("style"),ti(x),ya(x,"style",T),Cb(x,m.precedence,l),u.instance=x;case"stylesheet":T=Gf(m.href);var O=l.querySelector(_g(T));if(O)return u.state.loading|=4,u.instance=O,ti(O),O;x=u4(m),(T=Ss.get(T))&&tS(x,T),O=(l.ownerDocument||l).createElement("link"),ti(O);var q=O;return q._p=new Promise(function(W,st){q.onload=W,q.onerror=st}),ya(O,"link",x),u.state.loading|=4,Cb(O,m.precedence,l),u.instance=O;case"script":return O=qf(m.src),(T=l.querySelector(Eg(O)))?(u.instance=T,ti(T),T):(x=m,(T=Ss.get(O))&&(x=f({},m),eS(x,T)),l=l.ownerDocument||l,T=l.createElement("script"),ti(T),ya(T,"link",x),l.head.appendChild(T),u.instance=T);case"void":return null;default:throw Error(i(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(x=u.instance,u.state.loading|=4,Cb(x,m.precedence,l));return u.instance}function Cb(l,u,m){for(var x=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=x.length?x[x.length-1]:null,O=T,q=0;q<x.length;q++){var W=x[q];if(W.dataset.precedence===u)O=W;else if(O!==T)break}O?O.parentNode.insertBefore(l,O.nextSibling):(u=m.nodeType===9?m.head:m,u.insertBefore(l,u.firstChild))}function tS(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function eS(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var Tb=null;function h4(l,u,m){if(Tb===null){var x=new Map,T=Tb=new Map;T.set(m,x)}else T=Tb,x=T.get(m),x||(x=new Map,T.set(m,x));if(x.has(l))return x;for(x.set(l,null),m=m.getElementsByTagName(l),T=0;T<m.length;T++){var O=m[T];if(!(O[dn]||O[Mt]||l==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var q=O.getAttribute(u)||"";q=l+q;var W=x.get(q);W?W.push(O):x.set(q,[O])}}return x}function f4(l,u,m){l=l.ownerDocument||l,l.head.insertBefore(m,u==="title"?l.querySelector("head > title"):null)}function wz(l,u,m){if(m===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function p4(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var Ag=null;function _z(){}function Ez(l,u,m){if(Ag===null)throw Error(i(475));var x=Ag;if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var T=Gf(m.href),O=l.querySelector(_g(T));if(O){l=O._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(x.count++,x=Rb.bind(x),l.then(x,x)),u.state.loading|=4,u.instance=O,ti(O);return}O=l.ownerDocument||l,m=u4(m),(T=Ss.get(T))&&tS(m,T),O=O.createElement("link"),ti(O);var q=O;q._p=new Promise(function(W,st){q.onload=W,q.onerror=st}),ya(O,"link",m),u.instance=O}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(x.count++,u=Rb.bind(x),l.addEventListener("load",u),l.addEventListener("error",u))}}function Az(){if(Ag===null)throw Error(i(475));var l=Ag;return l.stylesheets&&l.count===0&&nS(l,l.stylesheets),0<l.count?function(u){var m=setTimeout(function(){if(l.stylesheets&&nS(l,l.stylesheets),l.unsuspend){var x=l.unsuspend;l.unsuspend=null,x()}},6e4);return l.unsuspend=u,function(){l.unsuspend=null,clearTimeout(m)}}:null}function Rb(){if(this.count--,this.count===0){if(this.stylesheets)nS(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Mb=null;function nS(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Mb=new Map,u.forEach(Cz,l),Mb=null,Rb.call(l))}function Cz(l,u){if(!(u.state.loading&4)){var m=Mb.get(l);if(m)var x=m.get(null);else{m=new Map,Mb.set(l,m);for(var T=l.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<T.length;O++){var q=T[O];(q.nodeName==="LINK"||q.getAttribute("media")!=="not all")&&(m.set(q.dataset.precedence,q),x=q)}x&&m.set(null,x)}T=u.instance,q=T.getAttribute("data-precedence"),O=m.get(q)||x,O===x&&m.set(null,T),m.set(q,T),this.count++,x=Rb.bind(this),T.addEventListener("load",x),T.addEventListener("error",x),O?O.parentNode.insertBefore(T,O.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(T,l.firstChild)),u.state.loading|=4}}var Cg={$$typeof:_,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function Tz(l,u,m,x,T,O,q,W){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=x,this.onUncaughtError=T,this.onCaughtError=O,this.onRecoverableError=q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function m4(l,u,m,x,T,O,q,W,st,gt,Et,Ct){return l=new Tz(l,u,m,q,W,st,gt,Ct),u=1,O===!0&&(u|=24),O=Ca(3,null,null,u),l.current=O,O.stateNode=l,u=$c(),u.refCount++,l.pooledCache=u,u.refCount++,O.memoizedState={element:x,isDehydrated:m,cache:u},pd(O),l}function g4(l){return l?(l=ql,l):ql}function v4(l,u,m,x,T,O){T=g4(T),x.context===null?x.context=T:x.pendingContext=T,x=us(u),x.payload={element:m},O=O===void 0?null:O,O!==null&&(x.callback=O),m=da(l,x,u),m!==null&&(xi(m,l,u),tc(m,l,u))}function y4(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<u?m:u}}function iS(l,u){y4(l,u),(l=l.alternate)&&y4(l,u)}function b4(l){if(l.tag===13){var u=is(l,67108864);u!==null&&xi(u,l,67108864),iS(l,67108864)}}var Db=!0;function Rz(l,u,m,x){var T=tt.T;tt.T=null;var O=I.p;try{I.p=2,aS(l,u,m,x)}finally{I.p=O,tt.T=T}}function Mz(l,u,m,x){var T=tt.T;tt.T=null;var O=I.p;try{I.p=8,aS(l,u,m,x)}finally{I.p=O,tt.T=T}}function aS(l,u,m,x){if(Db){var T=rS(x);if(T===null)V2(l,u,x,Ob,m),S4(l,x);else if(Oz(T,l,u,m,x))x.stopPropagation();else if(S4(l,x),u&4&&-1<Dz.indexOf(l)){for(;T!==null;){var O=Hi(T);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var q=Be(O.pendingLanes);if(q!==0){var W=O;for(W.pendingLanes|=2,W.entangledLanes|=2;q;){var st=1<<31-Se(q);W.entanglements[1]|=st,q&=~st}$t(O),(ve&6)===0&&(oc=Bt()+500,En(0))}}break;case 13:W=is(O,2),W!==null&&xi(W,O,2),el(),iS(O,2)}if(O=rS(x),O===null&&V2(l,u,x,Ob,m),O===T)break;T=O}T!==null&&x.stopPropagation()}else V2(l,u,x,null,m)}}function rS(l){return l=Co(l),sS(l)}var Ob=null;function sS(l){if(Ob=null,l=Re(l),l!==null){var u=r(l);if(u===null)l=null;else{var m=u.tag;if(m===13){if(l=s(u),l!==null)return l;l=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return Ob=l,null}function x4(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(me()){case Ye:return 2;case le:return 8;case pn:case Qt:return 32;case Ee:return 268435456;default:return 32}default:return 32}}var oS=!1,mu=null,gu=null,vu=null,Tg=new Map,Rg=new Map,yu=[],Dz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S4(l,u){switch(l){case"focusin":case"focusout":mu=null;break;case"dragenter":case"dragleave":gu=null;break;case"mouseover":case"mouseout":vu=null;break;case"pointerover":case"pointerout":Tg.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rg.delete(u.pointerId)}}function Mg(l,u,m,x,T,O){return l===null||l.nativeEvent!==O?(l={blockedOn:u,domEventName:m,eventSystemFlags:x,nativeEvent:O,targetContainers:[T]},u!==null&&(u=Hi(u),u!==null&&b4(u)),l):(l.eventSystemFlags|=x,u=l.targetContainers,T!==null&&u.indexOf(T)===-1&&u.push(T),l)}function Oz(l,u,m,x,T){switch(u){case"focusin":return mu=Mg(mu,l,u,m,x,T),!0;case"dragenter":return gu=Mg(gu,l,u,m,x,T),!0;case"mouseover":return vu=Mg(vu,l,u,m,x,T),!0;case"pointerover":var O=T.pointerId;return Tg.set(O,Mg(Tg.get(O)||null,l,u,m,x,T)),!0;case"gotpointercapture":return O=T.pointerId,Rg.set(O,Mg(Rg.get(O)||null,l,u,m,x,T)),!0}return!1}function w4(l){var u=Re(l.target);if(u!==null){var m=r(u);if(m!==null){if(u=m.tag,u===13){if(u=s(m),u!==null){l.blockedOn=u,De(l.priority,function(){if(m.tag===13){var x=li();x=Yn(x);var T=is(m,x);T!==null&&xi(T,m,x),iS(m,x)}});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Nb(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var m=rS(l.nativeEvent);if(m===null){m=l.nativeEvent;var x=new m.constructor(m.type,m);Hh=x,m.target.dispatchEvent(x),Hh=null}else return u=Hi(m),u!==null&&b4(u),l.blockedOn=m,!1;u.shift()}return!0}function _4(l,u,m){Nb(l)&&m.delete(u)}function Nz(){oS=!1,mu!==null&&Nb(mu)&&(mu=null),gu!==null&&Nb(gu)&&(gu=null),vu!==null&&Nb(vu)&&(vu=null),Tg.forEach(_4),Rg.forEach(_4)}function Pb(l,u){l.blockedOn===u&&(l.blockedOn=null,oS||(oS=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Nz)))}var kb=null;function E4(l){kb!==l&&(kb=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){kb===l&&(kb=null);for(var u=0;u<l.length;u+=3){var m=l[u],x=l[u+1],T=l[u+2];if(typeof x!="function"){if(sS(x||m)===null)continue;break}var O=Hi(m);O!==null&&(l.splice(u,3),u-=3,rg(O,{pending:!0,data:T,method:m.method,action:x},x,T))}}))}function Dg(l){function u(st){return Pb(st,l)}mu!==null&&Pb(mu,l),gu!==null&&Pb(gu,l),vu!==null&&Pb(vu,l),Tg.forEach(u),Rg.forEach(u);for(var m=0;m<yu.length;m++){var x=yu[m];x.blockedOn===l&&(x.blockedOn=null)}for(;0<yu.length&&(m=yu[0],m.blockedOn===null);)w4(m),m.blockedOn===null&&yu.shift();if(m=(l.ownerDocument||l).$$reactFormReplay,m!=null)for(x=0;x<m.length;x+=3){var T=m[x],O=m[x+1],q=T[qt]||null;if(typeof O=="function")q||E4(m);else if(q){var W=null;if(O&&O.hasAttribute("formAction")){if(T=O,q=O[qt]||null)W=q.formAction;else if(sS(T)!==null)continue}else W=q.action;typeof W=="function"?m[x+1]=W:(m.splice(x,3),x-=3),E4(m)}}}function lS(l){this._internalRoot=l}Lb.prototype.render=lS.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(i(409));var m=u.current,x=li();v4(m,x,l,u,null,null)},Lb.prototype.unmount=lS.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;v4(l.current,2,null,l,null,null),el(),u[ae]=null}};function Lb(l){this._internalRoot=l}Lb.prototype.unstable_scheduleHydration=function(l){if(l){var u=ge();l={blockedOn:null,target:l,priority:u};for(var m=0;m<yu.length&&u!==0&&u<yu[m].priority;m++);yu.splice(m,0,l),m===0&&w4(l)}};var A4=t.version;if(A4!=="19.1.0")throw Error(i(527,A4,"19.1.0"));I.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(i(188)):(l=Object.keys(l).join(","),Error(i(268,l)));return l=c(u),l=l!==null?d(l):null,l=l===null?null:l.stateNode,l};var Pz={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:tt,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jb.isDisabled&&jb.supportsFiber)try{te=jb.inject(Pz),Vt=jb}catch{}}return Ng.createRoot=function(l,u){if(!a(l))throw Error(i(299));var m=!1,x="",T=ic,O=Na,q=hb,W=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(T=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(q=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(W=u.unstable_transitionCallbacks)),u=m4(l,1,!1,null,null,m,x,T,O,q,W,null),l[ae]=u.current,q2(l),new lS(u)},Ng.hydrateRoot=function(l,u,m){if(!a(l))throw Error(i(299));var x=!1,T="",O=ic,q=Na,W=hb,st=null,gt=null;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onUncaughtError!==void 0&&(O=m.onUncaughtError),m.onCaughtError!==void 0&&(q=m.onCaughtError),m.onRecoverableError!==void 0&&(W=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(st=m.unstable_transitionCallbacks),m.formState!==void 0&&(gt=m.formState)),u=m4(l,1,!0,u,m??null,x,T,O,q,W,st,gt),u.context=g4(null),m=u.current,x=li(),x=Yn(x),T=us(x),T.callback=null,da(m,T,x),m=x,u.current.lanes=m,fi(u,m),$t(u),l[ae]=u.current,q2(l),new Lb(u)},Ng.version="19.1.0",Ng}var B4;function Hz(){if(B4)return hS.exports;B4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hS.exports=Uz(),hS.exports}var Gz=Hz();const X9=Qr(Gz);var Pg={},I4;function qz(){if(I4)return Pg;I4=1,Object.defineProperty(Pg,"__esModule",{value:!0}),Pg.parse=s,Pg.serialize=d;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,r=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function s(v,y){const b=new r,w=v.length;if(w<2)return b;const E=y?.decode||f;let C=0;do{const A=v.indexOf("=",C);if(A===-1)break;const _=v.indexOf(";",C),M=_===-1?w:_;if(A>M){C=v.lastIndexOf(";",A-1)+1;continue}const D=o(v,C,A),P=c(v,A,D),B=v.slice(D,P);if(b[B]===void 0){let k=o(v,A+1,M),z=c(v,M,k);const H=E(v.slice(k,z));b[B]=H}C=M+1}while(C<w);return b}function o(v,y,b){do{const w=v.charCodeAt(y);if(w!==32&&w!==9)return y}while(++y<b);return b}function c(v,y,b){for(;y>b;){const w=v.charCodeAt(--y);if(w!==32&&w!==9)return y+1}return b}function d(v,y,b){const w=b?.encode||encodeURIComponent;if(!e.test(v))throw new TypeError(`argument name is invalid: ${v}`);const E=w(y);if(!t.test(E))throw new TypeError(`argument val is invalid: ${y}`);let C=v+"="+E;if(!b)return C;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);C+="; Max-Age="+b.maxAge}if(b.domain){if(!n.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);C+="; Domain="+b.domain}if(b.path){if(!i.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);C+="; Path="+b.path}if(b.expires){if(!g(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);C+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(C+="; HttpOnly"),b.secure&&(C+="; Secure"),b.partitioned&&(C+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return C}function f(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function g(v){return a.call(v)==="[object Date]"}return Pg}qz();var z4="popstate";function Vz(e={}){function t(i,a){let{pathname:r,search:s,hash:o}=i.location;return MA("",{pathname:r,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:rv(a)}return Yz(t,n,null,e)}function si(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $z(){return Math.random().toString(36).substring(2,10)}function U4(e,t){return{usr:e.state,key:e.key,idx:t}}function MA(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?qp(t):t,state:n,key:t&&t.key||i||$z()}}function rv({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function qp(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function Yz(e,t,n,i={}){let{window:a=document.defaultView,v5Compat:r=!1}=i,s=a.history,o="POP",c=null,d=f();d==null&&(d=0,s.replaceState({...s.state,idx:d},""));function f(){return(s.state||{idx:null}).idx}function g(){o="POP";let E=f(),C=E==null?null:E-d;d=E,c&&c({action:o,location:w.location,delta:C})}function v(E,C){o="PUSH";let A=MA(w.location,E,C);d=f()+1;let _=U4(A,d),M=w.createHref(A);try{s.pushState(_,"",M)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;a.location.assign(M)}r&&c&&c({action:o,location:w.location,delta:1})}function y(E,C){o="REPLACE";let A=MA(w.location,E,C);d=f();let _=U4(A,d),M=w.createHref(A);s.replaceState(_,"",M),r&&c&&c({action:o,location:w.location,delta:0})}function b(E){return Kz(E)}let w={get action(){return o},get location(){return e(a,s)},listen(E){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(z4,g),c=E,()=>{a.removeEventListener(z4,g),c=null}},createHref(E){return t(a,E)},createURL:b,encodeLocation(E){let C=b(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:y,go(E){return s.go(E)}};return w}function Kz(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),si(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:rv(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function W9(e,t,n="/"){return Xz(e,t,n,!1)}function Xz(e,t,n,i){let a=typeof t=="string"?qp(t):t,r=Sc(a.pathname||"/",n);if(r==null)return null;let s=Q9(e);Wz(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let d=oU(r);o=rU(s[c],d,i)}return o}function Q9(e,t=[],n=[],i=""){let a=(r,s,o)=>{let c={relativePath:o===void 0?r.path||"":o,caseSensitive:r.caseSensitive===!0,childrenIndex:s,route:r};c.relativePath.startsWith("/")&&(si(c.relativePath.startsWith(i),`Absolute route path "${c.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(i.length));let d=bc([i,c.relativePath]),f=n.concat(c);r.children&&r.children.length>0&&(si(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Q9(r.children,t,f,d)),!(r.path==null&&!r.index)&&t.push({path:d,score:iU(d,r.index),routesMeta:f})};return e.forEach((r,s)=>{if(r.path===""||!r.path?.includes("?"))a(r,s);else for(let o of Z9(r.path))a(r,s,o)}),t}function Z9(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,a=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return a?[r,""]:[r];let s=Z9(i.join("/")),o=[];return o.push(...s.map(c=>c===""?r:[r,c].join("/"))),a&&o.push(...s),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Wz(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:aU(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var Qz=/^:[\w-]+$/,Zz=3,Jz=2,tU=1,eU=10,nU=-2,H4=e=>e==="*";function iU(e,t){let n=e.split("/"),i=n.length;return n.some(H4)&&(i+=nU),t&&(i+=Jz),n.filter(a=>!H4(a)).reduce((a,r)=>a+(Qz.test(r)?Zz:r===""?tU:eU),i)}function aU(e,t){return e.length===t.length&&e.slice(0,-1).every((i,a)=>i===t[a])?e[e.length-1]-t[t.length-1]:0}function rU(e,t,n=!1){let{routesMeta:i}=e,a={},r="/",s=[];for(let o=0;o<i.length;++o){let c=i[o],d=o===i.length-1,f=r==="/"?t:t.slice(r.length)||"/",g=T1({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),v=c.route;if(!g&&d&&n&&!i[i.length-1].route.index&&(g=T1({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!g)return null;Object.assign(a,g.params),s.push({params:a,pathname:bc([r,g.pathname]),pathnameBase:dU(bc([r,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(r=bc([r,g.pathnameBase]))}return s}function T1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=sU(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let r=a[0],s=r.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:i.reduce((d,{paramName:f,isOptional:g},v)=>{if(f==="*"){let b=o[v]||"";s=r.slice(0,r.length-b.length).replace(/(.)\/+$/,"$1")}const y=o[v];return g&&!y?d[f]=void 0:d[f]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:s,pattern:e}}function sU(e,t=!1,n=!0){mo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(i.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function oU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mo(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Sc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function lU(e,t="/"){let{pathname:n,search:i="",hash:a=""}=typeof e=="string"?qp(e):e;return{pathname:n?n.startsWith("/")?n:cU(n,t):t,search:hU(i),hash:fU(a)}}function cU(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function gS(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uU(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function e3(e){let t=uU(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function n3(e,t,n,i=!1){let a;typeof e=="string"?a=qp(e):(a={...e},si(!a.pathname||!a.pathname.includes("?"),gS("?","pathname","search",a)),si(!a.pathname||!a.pathname.includes("#"),gS("#","pathname","hash",a)),si(!a.search||!a.search.includes("#"),gS("#","search","hash",a)));let r=e===""||a.pathname==="",s=r?"/":a.pathname,o;if(s==null)o=n;else{let g=t.length-1;if(!i&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),g-=1;a.pathname=v.join("/")}o=g>=0?t[g]:"/"}let c=lU(a,o),d=s&&s!=="/"&&s.endsWith("/"),f=(r||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var bc=e=>e.join("/").replace(/\/\/+/g,"/"),dU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var J9=["POST","PUT","PATCH","DELETE"];new Set(J9);var mU=["GET",...J9];new Set(mU);var Vp=j.createContext(null);Vp.displayName="DataRouter";var bx=j.createContext(null);bx.displayName="DataRouterState";var tP=j.createContext({isTransitioning:!1});tP.displayName="ViewTransition";var gU=j.createContext(new Map);gU.displayName="Fetchers";var vU=j.createContext(null);vU.displayName="Await";var bo=j.createContext(null);bo.displayName="Navigation";var Nv=j.createContext(null);Nv.displayName="Location";var ks=j.createContext({outlet:null,matches:[],isDataRoute:!1});ks.displayName="Route";var i3=j.createContext(null);i3.displayName="RouteError";function yU(e,{relative:t}={}){si($p(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=j.useContext(bo),{hash:a,pathname:r,search:s}=Pv(e,{relative:t}),o=r;return n!=="/"&&(o=r==="/"?n:bc([n,r])),i.createHref({pathname:o,search:s,hash:a})}function $p(){return j.useContext(Nv)!=null}function Al(){return si($p(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Nv).location}var eP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nP(e){j.useContext(bo).static||j.useLayoutEffect(e)}function _h(){let{isDataRoute:e}=j.useContext(ks);return e?kU():bU()}function bU(){si($p(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(Vp),{basename:t,navigator:n}=j.useContext(bo),{matches:i}=j.useContext(ks),{pathname:a}=Al(),r=JSON.stringify(e3(i)),s=j.useRef(!1);return nP(()=>{s.current=!0}),j.useCallback((c,d={})=>{if(mo(s.current,eP),!s.current)return;if(typeof c=="number"){n.go(c);return}let f=n3(c,JSON.parse(r),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:bc([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,r,a,e])}var xU=j.createContext(null);function SU(e){let t=j.useContext(ks).outlet;return t&&j.createElement(xU.Provider,{value:e},t)}function wU(){let{matches:e}=j.useContext(ks),t=e[e.length-1];return t?t.params:{}}function Pv(e,{relative:t}={}){let{matches:n}=j.useContext(ks),{pathname:i}=Al(),a=JSON.stringify(e3(n));return j.useMemo(()=>n3(e,JSON.parse(a),i,t==="path"),[e,a,i,t])}function _U(e,t){return iP(e,t)}function iP(e,t,n,i){si($p(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=j.useContext(bo),{matches:r}=j.useContext(ks),s=r[r.length-1],o=s?s.params:{},c=s?s.pathname:"/",d=s?s.pathnameBase:"/",f=s&&s.route;{let C=f&&f.path||"";aP(c,!f||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let g=Al(),v;if(t){let C=typeof t=="string"?qp(t):t;si(d==="/"||C.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${C.pathname}" was given in the \`location\` prop.`),v=C}else v=g;let y=v.pathname||"/",b=y;if(d!=="/"){let C=d.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(C.length).join("/")}let w=W9(e,{pathname:b});mo(f||w!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),mo(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=RU(w&&w.map(C=>Object.assign({},C,{params:Object.assign({},o,C.params),pathname:bc([d,a.encodeLocation?a.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:bc([d,a.encodeLocation?a.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),r,n,i);return t&&E?j.createElement(Nv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},E):E}function EU(){let e=PU(),t=pU(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:r},"ErrorBoundary")," or"," ",j.createElement("code",{style:r},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:a},n):null,s)}var AU=j.createElement(EU,null),CU=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?j.createElement(ks.Provider,{value:this.props.routeContext},j.createElement(i3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TU({routeContext:e,match:t,children:n}){let i=j.useContext(Vp);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(ks.Provider,{value:e},n)}function RU(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,r=n?.errors;if(r!=null){let c=a.findIndex(d=>d.route.id&&r?.[d.route.id]!==void 0);si(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let s=!1,o=-1;if(n)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(o=c),d.route.id){let{loaderData:f,errors:g}=n,v=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||v){s=!0,o>=0?a=a.slice(0,o+1):a=[a[0]];break}}}return a.reduceRight((c,d,f)=>{let g,v=!1,y=null,b=null;n&&(g=r&&d.route.id?r[d.route.id]:void 0,y=d.route.errorElement||AU,s&&(o<0&&f===0?(aP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):o===f&&(v=!0,b=d.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,f+1)),E=()=>{let C;return g?C=y:v?C=b:d.route.Component?C=j.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=c,j.createElement(TU,{match:d,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:C})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?j.createElement(CU,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):E()},null)}function a3(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MU(e){let t=j.useContext(Vp);return si(t,a3(e)),t}function DU(e){let t=j.useContext(bx);return si(t,a3(e)),t}function OU(e){let t=j.useContext(ks);return si(t,a3(e)),t}function r3(e){let t=OU(e),n=t.matches[t.matches.length-1];return si(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function NU(){return r3("useRouteId")}function PU(){let e=j.useContext(i3),t=DU("useRouteError"),n=r3("useRouteError");return e!==void 0?e:t.errors?.[n]}function kU(){let{router:e}=MU("useNavigate"),t=r3("useNavigate"),n=j.useRef(!1);return nP(()=>{n.current=!0}),j.useCallback(async(a,r={})=>{mo(n.current,eP),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...r}))},[e,t])}var G4={};function aP(e,t,n){!t&&!G4[e]&&(G4[e]=!0,mo(!1,n))}j.memo(LU);function LU({routes:e,future:t,state:n}){return iP(e,void 0,n,t)}function ah({to:e,replace:t,state:n,relative:i}){si($p(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext(bo);mo(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=j.useContext(ks),{pathname:s}=Al(),o=_h(),c=n3(e,e3(r),s,i==="path"),d=JSON.stringify(c);return j.useEffect(()=>{o(JSON.parse(d),{replace:t,state:n,relative:i})},[o,d,i,t,n]),null}function Rp(e){return SU(e.context)}function hl(e){si(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jU({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:a,static:r=!1}){si(!$p(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=j.useMemo(()=>({basename:s,navigator:a,static:r,future:{}}),[s,a,r]);typeof n=="string"&&(n=qp(n));let{pathname:c="/",search:d="",hash:f="",state:g=null,key:v="default"}=n,y=j.useMemo(()=>{let b=Sc(c,s);return b==null?null:{location:{pathname:b,search:d,hash:f,state:g,key:v},navigationType:i}},[s,c,d,f,g,v,i]);return mo(y!=null,`<Router basename="${s}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:j.createElement(bo.Provider,{value:o},j.createElement(Nv.Provider,{children:t,value:y}))}function FU({children:e,location:t}){return _U(DA(e),t)}function DA(e,t=[]){let n=[];return j.Children.forEach(e,(i,a)=>{if(!j.isValidElement(i))return;let r=[...t,a];if(i.type===j.Fragment){n.push.apply(n,DA(i.props.children,r));return}si(i.type===hl,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),si(!i.props.index||!i.props.children,"An index route cannot have child routes.");let s={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=DA(i.props.children,r)),n.push(s)}),n}var d1="get",h1="application/x-www-form-urlencoded";function xx(e){return e!=null&&typeof e.tagName=="string"}function BU(e){return xx(e)&&e.tagName.toLowerCase()==="button"}function IU(e){return xx(e)&&e.tagName.toLowerCase()==="form"}function zU(e){return xx(e)&&e.tagName.toLowerCase()==="input"}function UU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function HU(e,t){return e.button===0&&(!t||t==="_self")&&!UU(e)}var Fb=null;function GU(){if(Fb===null)try{new FormData(document.createElement("form"),0),Fb=!1}catch{Fb=!0}return Fb}var qU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vS(e){return e!=null&&!qU.has(e)?(mo(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${h1}"`),null):e}function VU(e,t){let n,i,a,r,s;if(IU(e)){let o=e.getAttribute("action");i=o?Sc(o,t):null,n=e.getAttribute("method")||d1,a=vS(e.getAttribute("enctype"))||h1,r=new FormData(e)}else if(BU(e)||zU(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(i=c?Sc(c,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||d1,a=vS(e.getAttribute("formenctype"))||vS(o.getAttribute("enctype"))||h1,r=new FormData(o,e),!GU()){let{name:d,type:f,value:g}=e;if(f==="image"){let v=d?`${d}.`:"";r.append(`${v}x`,"0"),r.append(`${v}y`,"0")}else d&&r.append(d,g)}}else{if(xx(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=d1,i=null,a=h1,s=e}return r&&a==="text/plain"&&(s=r,r=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:r,body:s}}function s3(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function $U(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YU(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function KU(e,t,n){let i=await Promise.all(e.map(async a=>{let r=t.routes[a.route.id];if(r){let s=await $U(r,n);return s.links?s.links():[]}return[]}));return ZU(i.flat(1).filter(YU).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function q4(e,t,n,i,a,r){let s=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,o=(c,d)=>n[d].pathname!==c.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==c.params["*"];return r==="assets"?t.filter((c,d)=>s(c,d)||o(c,d)):r==="data"?t.filter((c,d)=>{let f=i.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(s(c,d)||o(c,d))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function XU(e,t,{includeHydrateFallback:n}={}){return WU(e.map(i=>{let a=t.routes[i.route.id];if(!a)return[];let r=[a.module];return a.clientActionModule&&(r=r.concat(a.clientActionModule)),a.clientLoaderModule&&(r=r.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(r=r.concat(a.hydrateFallbackModule)),a.imports&&(r=r.concat(a.imports)),r}).flat(1))}function WU(e){return[...new Set(e)]}function QU(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function ZU(e,t){let n=new Set;return new Set(t),e.reduce((i,a)=>{let r=JSON.stringify(QU(a));return n.has(r)||(n.add(r),i.push({key:r,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var JU=new Set([100,101,204,205]);function tH(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Sc(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function rP(){let e=j.useContext(Vp);return s3(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function eH(){let e=j.useContext(bx);return s3(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var o3=j.createContext(void 0);o3.displayName="FrameworkContext";function sP(){let e=j.useContext(o3);return s3(e,"You must render this element inside a <HydratedRouter> element"),e}function nH(e,t){let n=j.useContext(o3),[i,a]=j.useState(!1),[r,s]=j.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:g}=t,v=j.useRef(null);j.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let w=C=>{C.forEach(A=>{s(A.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[e]),j.useEffect(()=>{if(i){let w=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(w)}}},[i]);let y=()=>{a(!0)},b=()=>{a(!1),s(!1)};return n?e!=="intent"?[r,v,{}]:[r,v,{onFocus:kg(o,y),onBlur:kg(c,b),onMouseEnter:kg(d,y),onMouseLeave:kg(f,b),onTouchStart:kg(g,y)}]:[!1,v,{}]}function kg(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function iH({page:e,...t}){let{router:n}=rP(),i=j.useMemo(()=>W9(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?j.createElement(rH,{page:e,matches:i,...t}):null}function aH(e){let{manifest:t,routeModules:n}=sP(),[i,a]=j.useState([]);return j.useEffect(()=>{let r=!1;return KU(e,t,n).then(s=>{r||a(s)}),()=>{r=!0}},[e,t,n]),i}function rH({page:e,matches:t,...n}){let i=Al(),{manifest:a,routeModules:r}=sP(),{basename:s}=rP(),{loaderData:o,matches:c}=eH(),d=j.useMemo(()=>q4(e,t,c,a,i,"data"),[e,t,c,a,i]),f=j.useMemo(()=>q4(e,t,c,a,i,"assets"),[e,t,c,a,i]),g=j.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let b=new Set,w=!1;if(t.forEach(C=>{let A=a.routes[C.route.id];!A||!A.hasLoader||(!d.some(_=>_.route.id===C.route.id)&&C.route.id in o&&r[C.route.id]?.shouldRevalidate||A.hasClientLoader?w=!0:b.add(C.route.id))}),b.size===0)return[];let E=tH(e,s);return w&&b.size>0&&E.searchParams.set("_routes",t.filter(C=>b.has(C.route.id)).map(C=>C.route.id).join(",")),[E.pathname+E.search]},[s,o,i,a,d,t,e,r]),v=j.useMemo(()=>XU(f,a),[f,a]),y=aH(f);return j.createElement(j.Fragment,null,g.map(b=>j.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),v.map(b=>j.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),y.map(({key:b,link:w})=>j.createElement("link",{key:b,...w})))}function sH(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var oP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oP&&(window.__reactRouterVersion="7.6.3")}catch{}function oH({basename:e,children:t,window:n}){let i=j.useRef();i.current==null&&(i.current=Vz({window:n,v5Compat:!0}));let a=i.current,[r,s]=j.useState({action:a.action,location:a.location}),o=j.useCallback(c=>{j.startTransition(()=>s(c))},[s]);return j.useLayoutEffect(()=>a.listen(o),[a,o]),j.createElement(jU,{basename:e,children:t,location:r.location,navigationType:r.action,navigator:a})}var lP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sx=j.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:a,reloadDocument:r,replace:s,state:o,target:c,to:d,preventScrollReset:f,viewTransition:g,...v},y){let{basename:b}=j.useContext(bo),w=typeof d=="string"&&lP.test(d),E,C=!1;if(typeof d=="string"&&w&&(E=d,oP))try{let z=new URL(window.location.href),H=d.startsWith("//")?new URL(z.protocol+d):new URL(d),G=Sc(H.pathname,b);H.origin===z.origin&&G!=null?d=G+H.search+H.hash:C=!0}catch{mo(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=yU(d,{relative:a}),[_,M,D]=nH(i,v),P=uH(d,{replace:s,state:o,target:c,preventScrollReset:f,relative:a,viewTransition:g});function B(z){t&&t(z),z.defaultPrevented||P(z)}let k=j.createElement("a",{...v,...D,href:E||A,onClick:C||r?t:B,ref:sH(y,M),target:c,"data-discover":!w&&n==="render"?"true":void 0});return _&&!w?j.createElement(j.Fragment,null,k,j.createElement(iH,{page:A})):k});Sx.displayName="Link";var OA=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:a=!1,style:r,to:s,viewTransition:o,children:c,...d},f){let g=Pv(s,{relative:d.relative}),v=Al(),y=j.useContext(bx),{navigator:b,basename:w}=j.useContext(bo),E=y!=null&&mH(g)&&o===!0,C=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,A=v.pathname,_=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(A=A.toLowerCase(),_=_?_.toLowerCase():null,C=C.toLowerCase()),_&&w&&(_=Sc(_,w)||_);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let D=A===C||!a&&A.startsWith(C)&&A.charAt(M)==="/",P=_!=null&&(_===C||!a&&_.startsWith(C)&&_.charAt(C.length)==="/"),B={isActive:D,isPending:P,isTransitioning:E},k=D?t:void 0,z;typeof i=="function"?z=i(B):z=[i,D?"active":null,P?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let H=typeof r=="function"?r(B):r;return j.createElement(Sx,{...d,"aria-current":k,className:z,ref:f,style:H,to:s,viewTransition:o},typeof c=="function"?c(B):c)});OA.displayName="NavLink";var lH=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:a,state:r,method:s=d1,action:o,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:g,...v},y)=>{let b=fH(),w=pH(o,{relative:d}),E=s.toLowerCase()==="get"?"get":"post",C=typeof o=="string"&&lP.test(o),A=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let M=_.nativeEvent.submitter,D=M?.getAttribute("formmethod")||s;b(M||_.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:a,state:r,relative:d,preventScrollReset:f,viewTransition:g})};return j.createElement("form",{ref:y,method:E,action:w,onSubmit:i?c:A,...v,"data-discover":!C&&e==="render"?"true":void 0})});lH.displayName="Form";function cH(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cP(e){let t=j.useContext(Vp);return si(t,cH(e)),t}function uH(e,{target:t,replace:n,state:i,preventScrollReset:a,relative:r,viewTransition:s}={}){let o=_h(),c=Al(),d=Pv(e,{relative:r});return j.useCallback(f=>{if(HU(f,t)){f.preventDefault();let g=n!==void 0?n:rv(c)===rv(d);o(e,{replace:g,state:i,preventScrollReset:a,relative:r,viewTransition:s})}},[c,o,d,n,i,t,e,a,r,s])}var dH=0,hH=()=>`__${String(++dH)}__`;function fH(){let{router:e}=cP("useSubmit"),{basename:t}=j.useContext(bo),n=NU();return j.useCallback(async(i,a={})=>{let{action:r,method:s,encType:o,formData:c,body:d}=VU(i,t);if(a.navigate===!1){let f=a.fetcherKey||hH();await e.fetch(f,n,a.action||r,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||s,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||r,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||s,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function pH(e,{relative:t}={}){let{basename:n}=j.useContext(bo),i=j.useContext(ks);si(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),r={...Pv(e||".",{relative:t})},s=Al();if(e==null){r.search=s.search;let o=new URLSearchParams(r.search),c=o.getAll("index");if(c.some(f=>f==="")){o.delete("index"),c.filter(g=>g).forEach(g=>o.append("index",g));let f=o.toString();r.search=f?`?${f}`:""}}return(!e||e===".")&&a.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:bc([n,r.pathname])),rv(r)}function mH(e,t={}){let n=j.useContext(tP);si(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=cP("useViewTransitionState"),a=Pv(e,{relative:t.relative});if(!n.isTransitioning)return!1;let r=Sc(n.currentLocation.pathname,i)||n.currentLocation.pathname,s=Sc(n.nextLocation.pathname,i)||n.nextLocation.pathname;return T1(a.pathname,s)!=null||T1(a.pathname,r)!=null}[...JU];var kv=K9();const gH=Qr(kv);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yH=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),V4=e=>{const t=yH(e);return t.charAt(0).toUpperCase()+t.slice(1)},uP=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),bH=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:r,iconNode:s,...o},c)=>j.createElement("svg",{ref:c,...xH,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:uP("lucide",a),...!r&&!bH(o)&&{"aria-hidden":"true"},...o},[...s.map(([d,f])=>j.createElement(d,f)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=(e,t)=>{const n=j.forwardRef(({className:i,...a},r)=>j.createElement(SH,{ref:r,iconNode:t,className:uP(`lucide-${vH(V4(e))}`,`lucide-${e}`,i),...a}));return n.displayName=V4(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],_H=Kt("arrow-down-to-line",wH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],AH=Kt("arrow-down",EH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],TH=Kt("arrow-right",CH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["path",{d:"M5 3h14",key:"7usisc"}],["path",{d:"m18 13-6-6-6 6",key:"1kf1n9"}],["path",{d:"M12 7v14",key:"1akyts"}]],MH=Kt("arrow-up-to-line",RH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],OH=Kt("arrow-up",DH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],PH=Kt("banknote",NH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],LH=Kt("bell",kH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],sv=Kt("chevron-down",jH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],BH=Kt("chevron-right",FH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],R1=Kt("chevron-up",IH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],ov=Kt("circle-plus",zH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],NA=Kt("circle-user",UH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],GH=Kt("circle",HH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=[["path",{d:"M11 14h10",key:"1w8e9d"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v1.344",key:"1e62lh"}],["path",{d:"m17 18 4-4-4-4",key:"z2g111"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 1.793-1.113",key:"bjbb7m"}],["rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",key:"ublpy"}]],$4=Kt("clipboard-paste",qH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],$H=Kt("clipboard",VH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],KH=Kt("coffee",YH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],dP=Kt("copy",XH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],f1=Kt("download",WH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],M1=Kt("droplet",QH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Pp=Kt("eye-off",ZH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dh=Kt("eye",JH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],eG=Kt("facebook",tG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],Y4=Kt("file-image",nG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],K4=Kt("file-text",iG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],rG=Kt("globe",aG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],oG=Kt("grid-3x3",sG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],cG=Kt("hand",lG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],dG=Kt("house",uG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],l3=Kt("image",hG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],hP=Kt("info",fG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],mG=Kt("instagram",pG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],fP=Kt("layers",gG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],lv=Kt("layout-grid",vG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],c3=Kt("loader-circle",yG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xG=Kt("locate-fixed",bG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],wG=Kt("lock-open",SG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],X4=Kt("log-in",_G);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],kp=Kt("lock",EG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],PA=Kt("log-out",AG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M16 19h6",key:"xwg31i"}]],TG=Kt("mail-plus",CG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],pP=Kt("mail",RG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],DG=Kt("map-pin",MG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],NG=Kt("menu",OG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],kG=Kt("mouse-pointer-click",PG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]],mP=Kt("paint-bucket",LG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],FG=Kt("pen-tool",jG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],D1=Kt("pencil",BG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],zG=Kt("redo",IG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],W4=Kt("refresh-cw",UG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],gP=Kt("save",HG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],qG=Kt("settings-2",GG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vP=Kt("settings",VG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=[["path",{d:"M22 2 2 22",key:"y4kqgn"}]],YG=Kt("slash",$G);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],XG=Kt("square",KG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Lv=Kt("trash-2",WG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],ZG=Kt("twitter",QG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],tq=Kt("type",JG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],yP=Kt("undo-2",eq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],iq=Kt("undo",nq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Q4=Kt("user-plus",aq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Z4=Kt("user",rq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=[["circle",{cx:"7",cy:"12",r:"3",key:"12clwm"}],["path",{d:"M10 9v6",key:"17i7lo"}],["circle",{cx:"17",cy:"12",r:"3",key:"gl7c2s"}],["path",{d:"M14 7v8",key:"dl84cr"}],["path",{d:"M22 17v1c0 .5-.5 1-1 1H3c-.5 0-1-.5-1-1v-1",key:"lt2kga"}]],oq=Kt("whole-word",sq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Yp=Kt("x",lq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],uq=Kt("zoom-in",cq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],hq=Kt("zoom-out",dq);var Kp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hh=typeof window>"u"||"Deno"in globalThis;function rr(){}function fq(e,t){return typeof e=="function"?e(t):e}function kA(e){return typeof e=="number"&&e>=0&&e!==1/0}function bP(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Du(e,t){return typeof e=="function"?e(t):e}function Ms(e,t){return typeof e=="function"?e(t):e}function J4(e,t){const{type:n="all",exact:i,fetchStatus:a,predicate:r,queryKey:s,stale:o}=e;if(s){if(i){if(t.queryHash!==u3(s,t.options))return!1}else if(!cv(t.queryKey,s))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||r&&!r(t))}function tR(e,t){const{exact:n,status:i,predicate:a,mutationKey:r}=e;if(r){if(!t.options.mutationKey)return!1;if(n){if(fh(t.options.mutationKey)!==fh(r))return!1}else if(!cv(t.options.mutationKey,r))return!1}return!(i&&t.state.status!==i||a&&!a(t))}function u3(e,t){return(t?.queryKeyHashFn||fh)(e)}function fh(e){return JSON.stringify(e,(t,n)=>LA(n)?Object.keys(n).sort().reduce((i,a)=>(i[a]=n[a],i),{}):n)}function cv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>cv(e[n],t[n])):!1}function xP(e,t){if(e===t)return e;const n=eR(e)&&eR(t);if(n||LA(e)&&LA(t)){const i=n?e:Object.keys(e),a=i.length,r=n?t:Object.keys(t),s=r.length,o=n?[]:{},c=new Set(i);let d=0;for(let f=0;f<s;f++){const g=n?f:r[f];(!n&&c.has(g)||n)&&e[g]===void 0&&t[g]===void 0?(o[g]=void 0,d++):(o[g]=xP(e[g],t[g]),o[g]===e[g]&&e[g]!==void 0&&d++)}return a===s&&d===a?e:o}return t}function O1(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function eR(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function LA(e){if(!nR(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!nR(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function nR(e){return Object.prototype.toString.call(e)==="[object Object]"}function pq(e){return new Promise(t=>{setTimeout(t,e)})}function jA(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?xP(e,t):t}function mq(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function gq(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var d3=Symbol();function SP(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===d3?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function wP(e,t){return typeof e=="function"?e(...t):!!e}var vq=class extends Kp{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!hh&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},h3=new vq,yq=class extends Kp{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!hh&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#t}},N1=new yq;function FA(){let e,t;const n=new Promise((a,r)=>{e=a,t=r});n.status="pending",n.catch(()=>{});function i(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{i({status:"fulfilled",value:a}),e(a)},n.reject=a=>{i({status:"rejected",reason:a}),t(a)},n}function bq(e){return Math.min(1e3*2**e,3e4)}function _P(e){return(e??"online")==="online"?N1.isOnline():!0}var EP=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function yS(e){return e instanceof EP}function AP(e){let t=!1,n=0,i=!1,a;const r=FA(),s=w=>{i||(v(new EP(w)),e.abort?.())},o=()=>{t=!0},c=()=>{t=!1},d=()=>h3.isFocused()&&(e.networkMode==="always"||N1.isOnline())&&e.canRun(),f=()=>_P(e.networkMode)&&e.canRun(),g=w=>{i||(i=!0,e.onSuccess?.(w),a?.(),r.resolve(w))},v=w=>{i||(i=!0,e.onError?.(w),a?.(),r.reject(w))},y=()=>new Promise(w=>{a=E=>{(i||d())&&w(E)},e.onPause?.()}).then(()=>{a=void 0,i||e.onContinue?.()}),b=()=>{if(i)return;let w;const E=n===0?e.initialPromise:void 0;try{w=E??e.fn()}catch(C){w=Promise.reject(C)}Promise.resolve(w).then(g).catch(C=>{if(i)return;const A=e.retry??(hh?0:3),_=e.retryDelay??bq,M=typeof _=="function"?_(n,C):_,D=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,C);if(t||!D){v(C);return}n++,e.onFail?.(n,C),pq(M).then(()=>d()?void 0:y()).then(()=>{t?v(C):b()})})};return{promise:r,cancel:s,continue:()=>(a?.(),r),cancelRetry:o,continueRetry:c,canStart:f,start:()=>(f()?b():y().then(b),r)}}var xq=e=>setTimeout(e,0);function Sq(){let e=[],t=0,n=o=>{o()},i=o=>{o()},a=xq;const r=o=>{t?e.push(o):a(()=>{n(o)})},s=()=>{const o=e;e=[],o.length&&a(()=>{i(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||s()}return c},batchCalls:o=>(...c)=>{r(()=>{o(...c)})},schedule:r,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{i=o},setScheduler:o=>{a=o}}}var Ki=Sq(),CP=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kA(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(hh?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},wq=class extends CP{#t;#e;#n;#i;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=_q(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=jA(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(rr).catch(rr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>Ms(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===d3||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Du(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!bP(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,i=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},a=()=>{const c=SP(this.options,t),f=(()=>{const g={client:this.#i,queryKey:this.queryKey,meta:this.meta};return i(g),g})();return this.#o=!1,this.options.persister?this.options.persister(c,f,this):c(f)},s=(()=>{const c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:a};return i(c),c})();this.options.behavior?.onFetch(s,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#s({type:"fetch",meta:s.fetchOptions?.meta});const o=c=>{yS(c)&&c.silent||this.#s({type:"error",error:c}),yS(c)||(this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#r=AP({initialPromise:t?.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:c=>{if(c===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(d){o(d);return}this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:o,onFail:(c,d)=>{this.#s({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#r.start()}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...TP(n.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return yS(i)&&i.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Ki.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function TP(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_P(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function _q(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Eq=class extends Kp{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,n){const i=t.queryKey,a=t.queryHash??u3(i,t);let r=this.get(a);return r||(r=new wq({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(r)),r}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ki.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>J4(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>J4(e,n)):t}notify(e){Ki.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Ki.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ki.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Aq=class extends CP{#t;#e;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||RP(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#i({type:"continue"})};this.#n=AP({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(a,r)=>{this.#i({type:"failed",failureCount:a,error:r})},onPause:()=>{this.#i({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",i=!this.#n.canStart();try{if(n)t();else{this.#i({type:"pending",variables:e,isPaused:i}),await this.#e.config.onMutate?.(e,this);const r=await this.options.onMutate?.(e);r!==this.state.context&&this.#i({type:"pending",context:r,variables:e,isPaused:i})}const a=await this.#n.start();return await this.#e.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#e.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#i({type:"success",data:a}),a}catch(a){try{throw await this.#e.config.onError?.(a,e,this.state.context,this),await this.options.onError?.(a,e,this.state.context),await this.#e.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,e,this.state.context),a}finally{this.#i({type:"error",error:a})}}finally{this.#e.runNext(this)}}#i(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Ki.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function RP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Cq=class extends Kp{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,t,n){const i=new Aq({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(i),i}add(e){this.#t.add(e);const t=Bb(e);if(typeof t=="string"){const n=this.#e.get(t);n?n.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=Bb(e);if(typeof t=="string"){const n=this.#e.get(t);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Bb(e);if(typeof t=="string"){const i=this.#e.get(t)?.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){const t=Bb(e);return typeof t=="string"?this.#e.get(t)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ki.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>tR(t,n))}findAll(e={}){return this.getAll().filter(t=>tR(e,t))}notify(e){Ki.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Ki.batch(()=>Promise.all(e.map(t=>t.continue().catch(rr))))}};function Bb(e){return e.options.scope?.id}function iR(e){return{onFetch:(t,n)=>{const i=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,r=t.state.data?.pages||[],s=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let f=!1;const g=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},v=SP(t.options,t.fetchOptions),y=async(b,w,E)=>{if(f)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const A=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:w,direction:E?"backward":"forward",meta:t.options.meta};return g(P),P})(),_=await v(A),{maxPages:M}=t.options,D=E?gq:mq;return{pages:D(b.pages,_,M),pageParams:D(b.pageParams,w,M)}};if(a&&r.length){const b=a==="backward",w=b?Tq:aR,E={pages:r,pageParams:s},C=w(i,E);o=await y(E,C,b)}else{const b=e??r.length;do{const w=c===0?s[0]??i.initialPageParam:aR(i,o);if(c>0&&w==null)break;o=await y(o,w),c++}while(c<b)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=d}}}function aR(e,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function Tq(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var Rq=class{#t;#e;#n;#i;#r;#a;#o;#s;constructor(e={}){this.#t=e.queryCache||new Eq,this.#e=e.mutationCache||new Cq,this.#n=e.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=h3.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=N1.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#t.build(this,t),i=n.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Du(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),r=this.#t.get(i.queryHash)?.state.data,s=fq(t,r);if(s!==void 0)return this.#t.build(this,i).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return Ki.batch(()=>this.#t.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;Ki.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#t;return Ki.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},i=Ki.batch(()=>this.#t.findAll(e).map(a=>a.cancel(n)));return Promise.all(i).then(rr).catch(rr)}invalidateQueries(e,t={}){return Ki.batch(()=>(this.#t.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},i=Ki.batch(()=>this.#t.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let r=a.fetch(void 0,n);return n.throwOnError||(r=r.catch(rr)),a.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(i).then(rr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#t.build(this,t);return n.isStaleByTime(Du(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(rr).catch(rr)}fetchInfiniteQuery(e){return e.behavior=iR(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(rr).catch(rr)}ensureInfiniteQueryData(e){return e.behavior=iR(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return N1.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(fh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(i=>{cv(e,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(fh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(i=>{cv(e,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=u3(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===d3&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},Mq=class extends Kp{constructor(e,t){super(),this.options=t,this.#t=e,this.#s=null,this.#o=FA(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#n=void 0;#i=void 0;#r;#a;#o;#s;#d;#l;#h;#u;#f;#p;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),rR(this.#e,this.options)?this.#c():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return BA(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return BA(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ms(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!O1(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const i=this.hasListeners();i&&sR(this.#e,n,this.options,t)&&this.#c(),this.updateResult(),i&&(this.#e!==n||Ms(this.options.enabled,this.#e)!==Ms(t.enabled,this.#e)||Du(this.options.staleTime,this.#e)!==Du(t.staleTime,this.#e))&&this.#g();const a=this.#v();i&&(this.#e!==n||Ms(this.options.enabled,this.#e)!==Ms(t.enabled,this.#e)||a!==this.#p)&&this.#y(a)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),n=this.createResult(t,e);return Oq(this,n)&&(this.#i=n,this.#a=this.options,this.#r=this.#e.state),n}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),t?.(i),Reflect.get(n,i))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),n=this.#t.getQueryCache().build(this.#t,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#c({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#c(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(rr)),t}#g(){this.#x();const e=Du(this.options.staleTime,this.#e);if(hh||this.#i.isStale||!kA(e))return;const n=bP(this.#i.dataUpdatedAt,e)+1;this.#u=setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#p=e,!(hh||Ms(this.options.enabled,this.#e)===!1||!kA(this.#p)||this.#p===0)&&(this.#f=setInterval(()=>{(this.options.refetchIntervalInBackground||h3.isFocused())&&this.#c()},this.#p))}#b(){this.#g(),this.#y(this.#v())}#x(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#w(){this.#f&&(clearInterval(this.#f),this.#f=void 0)}createResult(e,t){const n=this.#e,i=this.options,a=this.#i,r=this.#r,s=this.#a,c=e!==n?e.state:this.#n,{state:d}=e;let f={...d},g=!1,v;if(t._optimisticResults){const k=this.hasListeners(),z=!k&&rR(e,t),H=k&&sR(e,n,t,i);(z||H)&&(f={...f,...TP(d.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:w}=f;v=f.data;let E=!1;if(t.placeholderData!==void 0&&v===void 0&&w==="pending"){let k;a?.isPlaceholderData&&t.placeholderData===s?.placeholderData?(k=a.data,E=!0):k=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,k!==void 0&&(w="success",v=jA(a?.data,k,t),g=!0)}if(t.select&&v!==void 0&&!E)if(a&&v===r?.data&&t.select===this.#d)v=this.#l;else try{this.#d=t.select,v=t.select(v),v=jA(a?.data,v,t),this.#l=v,this.#s=null}catch(k){this.#s=k}this.#s&&(y=this.#s,v=this.#l,b=Date.now(),w="error");const C=f.fetchStatus==="fetching",A=w==="pending",_=w==="error",M=A&&C,D=v!==void 0,B={status:w,fetchStatus:f.fetchStatus,isPending:A,isSuccess:w==="success",isError:_,isInitialLoading:M,isLoading:M,data:v,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:C,isRefetching:C&&!A,isLoadingError:_&&!D,isPaused:f.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:_&&D,isStale:f3(e,t),refetch:this.refetch,promise:this.#o,isEnabled:Ms(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const k=G=>{B.status==="error"?G.reject(B.error):B.data!==void 0&&G.resolve(B.data)},z=()=>{const G=this.#o=B.promise=FA();k(G)},H=this.#o;switch(H.status){case"pending":e.queryHash===n.queryHash&&k(H);break;case"fulfilled":(B.status==="error"||B.data!==H.value)&&z();break;case"rejected":(B.status!=="error"||B.error!==H.reason)&&z();break}}return B}updateResult(){const e=this.#i,t=this.createResult(this.#e,this.options);if(this.#r=this.#e.state,this.#a=this.options,this.#r.data!==void 0&&(this.#h=this.#e),O1(t,e))return;this.#i=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!this.#m.size)return!0;const r=new Set(a??this.#m);return this.options.throwOnError&&r.add("error"),Object.keys(this.#i).some(s=>{const o=s;return this.#i[o]!==e[o]&&r.has(o)})};this.#C({listeners:n()})}#_(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#C(e){Ki.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#i)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Dq(e,t){return Ms(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function rR(e,t){return Dq(e,t)||e.state.data!==void 0&&BA(e,t,t.refetchOnMount)}function BA(e,t,n){if(Ms(t.enabled,e)!==!1&&Du(t.staleTime,e)!=="static"){const i=typeof n=="function"?n(e):n;return i==="always"||i!==!1&&f3(e,t)}return!1}function sR(e,t,n,i){return(e!==t||Ms(i.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&f3(e,n)}function f3(e,t){return Ms(t.enabled,e)!==!1&&e.isStaleByTime(Du(t.staleTime,e))}function Oq(e,t){return!O1(e.getCurrentResult(),t)}var Nq=class extends Kp{#t;#e=void 0;#n;#i;constructor(t,n){super(),this.#t=t,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#t.defaultMutationOptions(t),O1(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&fh(n.mutationKey)!==fh(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#a(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(t,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??RP();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){Ki.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#e.variables,i=this.#e.context;t?.type==="success"?(this.#i.onSuccess?.(t.data,n,i),this.#i.onSettled?.(t.data,null,n,i)):t?.type==="error"&&(this.#i.onError?.(t.error,n,i),this.#i.onSettled?.(void 0,t.error,n,i))}this.listeners.forEach(n=>{n(this.#e)})})}},MP=j.createContext(void 0),za=e=>{const t=j.useContext(MP);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Pq=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),L.jsx(MP.Provider,{value:e,children:t})),DP=j.createContext(!1),kq=()=>j.useContext(DP);DP.Provider;function Lq(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var jq=j.createContext(Lq()),Fq=()=>j.useContext(jq),Bq=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Iq=e=>{j.useEffect(()=>{e.clearReset()},[e])},zq=({result:e,errorResetBoundary:t,throwOnError:n,query:i,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(a&&e.data===void 0||wP(n,[e.error,i])),Uq=e=>{if(e.suspense){const t=i=>i==="static"?i:Math.max(i??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...i)=>t(n(...i)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Hq=(e,t)=>e.isLoading&&e.isFetching&&!t,Gq=(e,t)=>e?.suspense&&t.isPending,oR=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function qq(e,t,n){const i=kq(),a=Fq(),r=za(),s=r.defaultQueryOptions(e);r.getDefaultOptions().queries?._experimental_beforeQuery?.(s),s._optimisticResults=i?"isRestoring":"optimistic",Uq(s),Bq(s,a),Iq(a);const o=!r.getQueryCache().get(s.queryHash),[c]=j.useState(()=>new t(r,s)),d=c.getOptimisticResult(s),f=!i&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(g=>{const v=f?c.subscribe(Ki.batchCalls(g)):rr;return c.updateResult(),v},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(s)},[s,c]),Gq(s,d))throw oR(s,c,a);if(zq({result:d,errorResetBoundary:a,throwOnError:s.throwOnError,query:r.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw d.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(s,d),s.experimental_prefetchInRender&&!hh&&Hq(d,i)&&(o?oR(s,c,a):r.getQueryCache().get(s.queryHash)?.promise)?.catch(rr).finally(()=>{c.updateResult()}),s.notifyOnChangeProps?d:c.trackResult(d)}function Xp(e,t){return qq(e,Mq)}function lr(e,t){const n=za(),[i]=j.useState(()=>new Nq(n,e));j.useEffect(()=>{i.setOptions(e)},[i,e]);const a=j.useSyncExternalStore(j.useCallback(s=>i.subscribe(Ki.batchCalls(s)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),r=j.useCallback((s,o)=>{i.mutate(s,o).catch(rr)},[i]);if(a.error&&wP(i.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:r,mutateAsync:a.mutate}}function OP(e,t){return function(){return e.apply(t,arguments)}}const{toString:Vq}=Object.prototype,{getPrototypeOf:p3}=Object,{iterator:wx,toStringTag:NP}=Symbol,_x=(e=>t=>{const n=Vq.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),xo=e=>(e=e.toLowerCase(),t=>_x(t)===e),Ex=e=>t=>typeof t===e,{isArray:Wp}=Array,uv=Ex("undefined");function $q(e){return e!==null&&!uv(e)&&e.constructor!==null&&!uv(e.constructor)&&Cr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const PP=xo("ArrayBuffer");function Yq(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&PP(e.buffer),t}const Kq=Ex("string"),Cr=Ex("function"),kP=Ex("number"),Ax=e=>e!==null&&typeof e=="object",Xq=e=>e===!0||e===!1,p1=e=>{if(_x(e)!=="object")return!1;const t=p3(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(NP in e)&&!(wx in e)},Wq=xo("Date"),Qq=xo("File"),Zq=xo("Blob"),Jq=xo("FileList"),tV=e=>Ax(e)&&Cr(e.pipe),eV=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Cr(e.append)&&((t=_x(e))==="formdata"||t==="object"&&Cr(e.toString)&&e.toString()==="[object FormData]"))},nV=xo("URLSearchParams"),[iV,aV,rV,sV]=["ReadableStream","Request","Response","Headers"].map(xo),oV=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jv(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,a;if(typeof e!="object"&&(e=[e]),Wp(e))for(i=0,a=e.length;i<a;i++)t.call(null,e[i],i,e);else{const r=n?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let o;for(i=0;i<s;i++)o=r[i],t.call(null,e[o],o,e)}}function LP(e,t){t=t.toLowerCase();const n=Object.keys(e);let i=n.length,a;for(;i-- >0;)if(a=n[i],t===a.toLowerCase())return a;return null}const Xd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jP=e=>!uv(e)&&e!==Xd;function IA(){const{caseless:e}=jP(this)&&this||{},t={},n=(i,a)=>{const r=e&&LP(t,a)||a;p1(t[r])&&p1(i)?t[r]=IA(t[r],i):p1(i)?t[r]=IA({},i):Wp(i)?t[r]=i.slice():t[r]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&jv(arguments[i],n);return t}const lV=(e,t,n,{allOwnKeys:i}={})=>(jv(t,(a,r)=>{n&&Cr(a)?e[r]=OP(a,n):e[r]=a},{allOwnKeys:i}),e),cV=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),uV=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},dV=(e,t,n,i)=>{let a,r,s;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),r=a.length;r-- >0;)s=a[r],(!i||i(s,e,t))&&!o[s]&&(t[s]=e[s],o[s]=!0);e=n!==!1&&p3(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},hV=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},fV=e=>{if(!e)return null;if(Wp(e))return e;let t=e.length;if(!kP(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},pV=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&p3(Uint8Array)),mV=(e,t)=>{const i=(e&&e[wx]).call(e);let a;for(;(a=i.next())&&!a.done;){const r=a.value;t.call(e,r[0],r[1])}},gV=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},vV=xo("HTMLFormElement"),yV=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,a){return i.toUpperCase()+a}),lR=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),bV=xo("RegExp"),FP=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};jv(n,(a,r)=>{let s;(s=t(a,r,e))!==!1&&(i[r]=s||a)}),Object.defineProperties(e,i)},xV=e=>{FP(e,(t,n)=>{if(Cr(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(Cr(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},SV=(e,t)=>{const n={},i=a=>{a.forEach(r=>{n[r]=!0})};return Wp(e)?i(e):i(String(e).split(t)),n},wV=()=>{},_V=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function EV(e){return!!(e&&Cr(e.append)&&e[NP]==="FormData"&&e[wx])}const AV=e=>{const t=new Array(10),n=(i,a)=>{if(Ax(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[a]=i;const r=Wp(i)?[]:{};return jv(i,(s,o)=>{const c=n(s,a+1);!uv(c)&&(r[o]=c)}),t[a]=void 0,r}}return i};return n(e,0)},CV=xo("AsyncFunction"),TV=e=>e&&(Ax(e)||Cr(e))&&Cr(e.then)&&Cr(e.catch),BP=((e,t)=>e?setImmediate:t?((n,i)=>(Xd.addEventListener("message",({source:a,data:r})=>{a===Xd&&r===n&&i.length&&i.shift()()},!1),a=>{i.push(a),Xd.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Cr(Xd.postMessage)),RV=typeof queueMicrotask<"u"?queueMicrotask.bind(Xd):typeof process<"u"&&process.nextTick||BP,MV=e=>e!=null&&Cr(e[wx]),_t={isArray:Wp,isArrayBuffer:PP,isBuffer:$q,isFormData:eV,isArrayBufferView:Yq,isString:Kq,isNumber:kP,isBoolean:Xq,isObject:Ax,isPlainObject:p1,isReadableStream:iV,isRequest:aV,isResponse:rV,isHeaders:sV,isUndefined:uv,isDate:Wq,isFile:Qq,isBlob:Zq,isRegExp:bV,isFunction:Cr,isStream:tV,isURLSearchParams:nV,isTypedArray:pV,isFileList:Jq,forEach:jv,merge:IA,extend:lV,trim:oV,stripBOM:cV,inherits:uV,toFlatObject:dV,kindOf:_x,kindOfTest:xo,endsWith:hV,toArray:fV,forEachEntry:mV,matchAll:gV,isHTMLForm:vV,hasOwnProperty:lR,hasOwnProp:lR,reduceDescriptors:FP,freezeMethods:xV,toObjectSet:SV,toCamelCase:yV,noop:wV,toFiniteNumber:_V,findKey:LP,global:Xd,isContextDefined:jP,isSpecCompliantForm:EV,toJSONObject:AV,isAsyncFn:CV,isThenable:TV,setImmediate:BP,asap:RV,isIterable:MV};function Ne(e,t,n,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}_t.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_t.toJSONObject(this.config),code:this.code,status:this.status}}});const IP=Ne.prototype,zP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{zP[e]={value:e}});Object.defineProperties(Ne,zP);Object.defineProperty(IP,"isAxiosError",{value:!0});Ne.from=(e,t,n,i,a,r)=>{const s=Object.create(IP);return _t.toFlatObject(e,s,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),Ne.call(s,e.message,t,n,i,a),s.cause=e,s.name=e.name,r&&Object.assign(s,r),s};const DV=null;function zA(e){return _t.isPlainObject(e)||_t.isArray(e)}function UP(e){return _t.endsWith(e,"[]")?e.slice(0,-2):e}function cR(e,t,n){return e?e.concat(t).map(function(a,r){return a=UP(a),!n&&r?"["+a+"]":a}).join(n?".":""):t}function OV(e){return _t.isArray(e)&&!e.some(zA)}const NV=_t.toFlatObject(_t,{},null,function(t){return/^is[A-Z]/.test(t)});function Cx(e,t,n){if(!_t.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=_t.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,E){return!_t.isUndefined(E[w])});const i=n.metaTokens,a=n.visitor||f,r=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&_t.isSpecCompliantForm(t);if(!_t.isFunction(a))throw new TypeError("visitor must be a function");function d(b){if(b===null)return"";if(_t.isDate(b))return b.toISOString();if(_t.isBoolean(b))return b.toString();if(!c&&_t.isBlob(b))throw new Ne("Blob is not supported. Use a Buffer instead.");return _t.isArrayBuffer(b)||_t.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function f(b,w,E){let C=b;if(b&&!E&&typeof b=="object"){if(_t.endsWith(w,"{}"))w=i?w:w.slice(0,-2),b=JSON.stringify(b);else if(_t.isArray(b)&&OV(b)||(_t.isFileList(b)||_t.endsWith(w,"[]"))&&(C=_t.toArray(b)))return w=UP(w),C.forEach(function(_,M){!(_t.isUndefined(_)||_===null)&&t.append(s===!0?cR([w],M,r):s===null?w:w+"[]",d(_))}),!1}return zA(b)?!0:(t.append(cR(E,w,r),d(b)),!1)}const g=[],v=Object.assign(NV,{defaultVisitor:f,convertValue:d,isVisitable:zA});function y(b,w){if(!_t.isUndefined(b)){if(g.indexOf(b)!==-1)throw Error("Circular reference detected in "+w.join("."));g.push(b),_t.forEach(b,function(C,A){(!(_t.isUndefined(C)||C===null)&&a.call(t,C,_t.isString(A)?A.trim():A,w,v))===!0&&y(C,w?w.concat(A):[A])}),g.pop()}}if(!_t.isObject(e))throw new TypeError("data must be an object");return y(e),t}function uR(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function m3(e,t){this._pairs=[],e&&Cx(e,this,t)}const HP=m3.prototype;HP.append=function(t,n){this._pairs.push([t,n])};HP.toString=function(t){const n=t?function(i){return t.call(this,i,uR)}:uR;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function PV(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function GP(e,t,n){if(!t)return e;const i=n&&n.encode||PV;_t.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let r;if(a?r=a(t,n):r=_t.isURLSearchParams(t)?t.toString():new m3(t,n).toString(i),r){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e}class dR{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){_t.forEach(this.handlers,function(i){i!==null&&t(i)})}}const qP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kV=typeof URLSearchParams<"u"?URLSearchParams:m3,LV=typeof FormData<"u"?FormData:null,jV=typeof Blob<"u"?Blob:null,FV={isBrowser:!0,classes:{URLSearchParams:kV,FormData:LV,Blob:jV},protocols:["http","https","file","blob","url","data"]},g3=typeof window<"u"&&typeof document<"u",UA=typeof navigator=="object"&&navigator||void 0,BV=g3&&(!UA||["ReactNative","NativeScript","NS"].indexOf(UA.product)<0),IV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zV=g3&&window.location.href||"http://localhost",UV=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:g3,hasStandardBrowserEnv:BV,hasStandardBrowserWebWorkerEnv:IV,navigator:UA,origin:zV},Symbol.toStringTag,{value:"Module"})),Fa={...UV,...FV};function HV(e,t){return Cx(e,new Fa.classes.URLSearchParams,Object.assign({visitor:function(n,i,a,r){return Fa.isNode&&_t.isBuffer(n)?(this.append(i,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function GV(e){return _t.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function qV(e){const t={},n=Object.keys(e);let i;const a=n.length;let r;for(i=0;i<a;i++)r=n[i],t[r]=e[r];return t}function VP(e){function t(n,i,a,r){let s=n[r++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),c=r>=n.length;return s=!s&&_t.isArray(a)?a.length:s,c?(_t.hasOwnProp(a,s)?a[s]=[a[s],i]:a[s]=i,!o):((!a[s]||!_t.isObject(a[s]))&&(a[s]=[]),t(n,i,a[s],r)&&_t.isArray(a[s])&&(a[s]=qV(a[s])),!o)}if(_t.isFormData(e)&&_t.isFunction(e.entries)){const n={};return _t.forEachEntry(e,(i,a)=>{t(GV(i),a,n,0)}),n}return null}function VV(e,t,n){if(_t.isString(e))try{return(t||JSON.parse)(e),_t.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const Fv={transitional:qP,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const i=n.getContentType()||"",a=i.indexOf("application/json")>-1,r=_t.isObject(t);if(r&&_t.isHTMLForm(t)&&(t=new FormData(t)),_t.isFormData(t))return a?JSON.stringify(VP(t)):t;if(_t.isArrayBuffer(t)||_t.isBuffer(t)||_t.isStream(t)||_t.isFile(t)||_t.isBlob(t)||_t.isReadableStream(t))return t;if(_t.isArrayBufferView(t))return t.buffer;if(_t.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return HV(t,this.formSerializer).toString();if((o=_t.isFileList(t))||i.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Cx(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return r||a?(n.setContentType("application/json",!1),VV(t)):t}],transformResponse:[function(t){const n=this.transitional||Fv.transitional,i=n&&n.forcedJSONParsing,a=this.responseType==="json";if(_t.isResponse(t)||_t.isReadableStream(t))return t;if(t&&_t.isString(t)&&(i&&!this.responseType||a)){const s=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(o){if(s)throw o.name==="SyntaxError"?Ne.from(o,Ne.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fa.classes.FormData,Blob:Fa.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_t.forEach(["delete","get","head","post","put","patch"],e=>{Fv.headers[e]={}});const $V=_t.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),YV=e=>{const t={};let n,i,a;return e&&e.split(`
`).forEach(function(s){a=s.indexOf(":"),n=s.substring(0,a).trim().toLowerCase(),i=s.substring(a+1).trim(),!(!n||t[n]&&$V[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},hR=Symbol("internals");function Lg(e){return e&&String(e).trim().toLowerCase()}function m1(e){return e===!1||e==null?e:_t.isArray(e)?e.map(m1):String(e)}function KV(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const XV=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function bS(e,t,n,i,a){if(_t.isFunction(i))return i.call(this,t,n);if(a&&(t=n),!!_t.isString(t)){if(_t.isString(i))return t.indexOf(i)!==-1;if(_t.isRegExp(i))return i.test(t)}}function WV(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function QV(e,t){const n=_t.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(a,r,s){return this[i].call(this,t,a,r,s)},configurable:!0})})}let Tr=class{constructor(t){t&&this.set(t)}set(t,n,i){const a=this;function r(o,c,d){const f=Lg(c);if(!f)throw new Error("header name must be a non-empty string");const g=_t.findKey(a,f);(!g||a[g]===void 0||d===!0||d===void 0&&a[g]!==!1)&&(a[g||c]=m1(o))}const s=(o,c)=>_t.forEach(o,(d,f)=>r(d,f,c));if(_t.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(_t.isString(t)&&(t=t.trim())&&!XV(t))s(YV(t),n);else if(_t.isObject(t)&&_t.isIterable(t)){let o={},c,d;for(const f of t){if(!_t.isArray(f))throw TypeError("Object iterator must return a key-value pair");o[d=f[0]]=(c=o[d])?_t.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}s(o,n)}else t!=null&&r(n,t,i);return this}get(t,n){if(t=Lg(t),t){const i=_t.findKey(this,t);if(i){const a=this[i];if(!n)return a;if(n===!0)return KV(a);if(_t.isFunction(n))return n.call(this,a,i);if(_t.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Lg(t),t){const i=_t.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||bS(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let a=!1;function r(s){if(s=Lg(s),s){const o=_t.findKey(i,s);o&&(!n||bS(i,i[o],o,n))&&(delete i[o],a=!0)}}return _t.isArray(t)?t.forEach(r):r(t),a}clear(t){const n=Object.keys(this);let i=n.length,a=!1;for(;i--;){const r=n[i];(!t||bS(this,this[r],r,t,!0))&&(delete this[r],a=!0)}return a}normalize(t){const n=this,i={};return _t.forEach(this,(a,r)=>{const s=_t.findKey(i,r);if(s){n[s]=m1(a),delete n[r];return}const o=t?WV(r):String(r).trim();o!==r&&delete n[r],n[o]=m1(a),i[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return _t.forEach(this,(i,a)=>{i!=null&&i!==!1&&(n[a]=t&&_t.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(a=>i.set(a)),i}static accessor(t){const i=(this[hR]=this[hR]={accessors:{}}).accessors,a=this.prototype;function r(s){const o=Lg(s);i[o]||(QV(a,s),i[o]=!0)}return _t.isArray(t)?t.forEach(r):r(t),this}};Tr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_t.reduceDescriptors(Tr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});_t.freezeMethods(Tr);function xS(e,t){const n=this||Fv,i=t||n,a=Tr.from(i.headers);let r=i.data;return _t.forEach(e,function(o){r=o.call(n,r,a.normalize(),t?t.status:void 0)}),a.normalize(),r}function $P(e){return!!(e&&e.__CANCEL__)}function Qp(e,t,n){Ne.call(this,e??"canceled",Ne.ERR_CANCELED,t,n),this.name="CanceledError"}_t.inherits(Qp,Ne,{__CANCEL__:!0});function YP(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new Ne("Request failed with status code "+n.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function ZV(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function JV(e,t){e=e||10;const n=new Array(e),i=new Array(e);let a=0,r=0,s;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),f=i[r];s||(s=d),n[a]=c,i[a]=d;let g=r,v=0;for(;g!==a;)v+=n[g++],g=g%e;if(a=(a+1)%e,a===r&&(r=(r+1)%e),d-s<t)return;const y=f&&d-f;return y?Math.round(v*1e3/y):void 0}}function t$(e,t){let n=0,i=1e3/t,a,r;const s=(d,f=Date.now())=>{n=f,a=null,r&&(clearTimeout(r),r=null),e.apply(null,d)};return[(...d)=>{const f=Date.now(),g=f-n;g>=i?s(d,f):(a=d,r||(r=setTimeout(()=>{r=null,s(a)},i-g)))},()=>a&&s(a)]}const P1=(e,t,n=3)=>{let i=0;const a=JV(50,250);return t$(r=>{const s=r.loaded,o=r.lengthComputable?r.total:void 0,c=s-i,d=a(c),f=s<=o;i=s;const g={loaded:s,total:o,progress:o?s/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&f?(o-s)/d:void 0,event:r,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(g)},n)},fR=(e,t)=>{const n=e!=null;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},pR=e=>(...t)=>_t.asap(()=>e(...t)),e$=Fa.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Fa.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Fa.origin),Fa.navigator&&/(msie|trident)/i.test(Fa.navigator.userAgent)):()=>!0,n$=Fa.hasStandardBrowserEnv?{write(e,t,n,i,a,r){const s=[e+"="+encodeURIComponent(t)];_t.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),_t.isString(i)&&s.push("path="+i),_t.isString(a)&&s.push("domain="+a),r===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function i$(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function a$(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function KP(e,t,n){let i=!i$(t);return e&&(i||n==!1)?a$(e,t):t}const mR=e=>e instanceof Tr?{...e}:e;function ph(e,t){t=t||{};const n={};function i(d,f,g,v){return _t.isPlainObject(d)&&_t.isPlainObject(f)?_t.merge.call({caseless:v},d,f):_t.isPlainObject(f)?_t.merge({},f):_t.isArray(f)?f.slice():f}function a(d,f,g,v){if(_t.isUndefined(f)){if(!_t.isUndefined(d))return i(void 0,d,g,v)}else return i(d,f,g,v)}function r(d,f){if(!_t.isUndefined(f))return i(void 0,f)}function s(d,f){if(_t.isUndefined(f)){if(!_t.isUndefined(d))return i(void 0,d)}else return i(void 0,f)}function o(d,f,g){if(g in t)return i(d,f);if(g in e)return i(void 0,d)}const c={url:r,method:r,data:r,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(d,f,g)=>a(mR(d),mR(f),g,!0)};return _t.forEach(Object.keys(Object.assign({},e,t)),function(f){const g=c[f]||a,v=g(e[f],t[f],f);_t.isUndefined(v)&&g!==o||(n[f]=v)}),n}const XP=e=>{const t=ph({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:r,headers:s,auth:o}=t;t.headers=s=Tr.from(s),t.url=GP(KP(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(_t.isFormData(n)){if(Fa.hasStandardBrowserEnv||Fa.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[d,...f]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];s.setContentType([d||"multipart/form-data",...f].join("; "))}}if(Fa.hasStandardBrowserEnv&&(i&&_t.isFunction(i)&&(i=i(t)),i||i!==!1&&e$(t.url))){const d=a&&r&&n$.read(r);d&&s.set(a,d)}return t},r$=typeof XMLHttpRequest<"u",s$=r$&&function(e){return new Promise(function(n,i){const a=XP(e);let r=a.data;const s=Tr.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=a,f,g,v,y,b;function w(){y&&y(),b&&b(),a.cancelToken&&a.cancelToken.unsubscribe(f),a.signal&&a.signal.removeEventListener("abort",f)}let E=new XMLHttpRequest;E.open(a.method.toUpperCase(),a.url,!0),E.timeout=a.timeout;function C(){if(!E)return;const _=Tr.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),D={data:!o||o==="text"||o==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:_,config:e,request:E};YP(function(B){n(B),w()},function(B){i(B),w()},D),E=null}"onloadend"in E?E.onloadend=C:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(C)},E.onabort=function(){E&&(i(new Ne("Request aborted",Ne.ECONNABORTED,e,E)),E=null)},E.onerror=function(){i(new Ne("Network Error",Ne.ERR_NETWORK,e,E)),E=null},E.ontimeout=function(){let M=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const D=a.transitional||qP;a.timeoutErrorMessage&&(M=a.timeoutErrorMessage),i(new Ne(M,D.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,e,E)),E=null},r===void 0&&s.setContentType(null),"setRequestHeader"in E&&_t.forEach(s.toJSON(),function(M,D){E.setRequestHeader(D,M)}),_t.isUndefined(a.withCredentials)||(E.withCredentials=!!a.withCredentials),o&&o!=="json"&&(E.responseType=a.responseType),d&&([v,b]=P1(d,!0),E.addEventListener("progress",v)),c&&E.upload&&([g,y]=P1(c),E.upload.addEventListener("progress",g),E.upload.addEventListener("loadend",y)),(a.cancelToken||a.signal)&&(f=_=>{E&&(i(!_||_.type?new Qp(null,e,E):_),E.abort(),E=null)},a.cancelToken&&a.cancelToken.subscribe(f),a.signal&&(a.signal.aborted?f():a.signal.addEventListener("abort",f)));const A=ZV(a.url);if(A&&Fa.protocols.indexOf(A)===-1){i(new Ne("Unsupported protocol "+A+":",Ne.ERR_BAD_REQUEST,e));return}E.send(r||null)})},o$=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let i=new AbortController,a;const r=function(d){if(!a){a=!0,o();const f=d instanceof Error?d:this.reason;i.abort(f instanceof Ne?f:new Qp(f instanceof Error?f.message:f))}};let s=t&&setTimeout(()=>{s=null,r(new Ne(`timeout ${t} of ms exceeded`,Ne.ETIMEDOUT))},t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(r):d.removeEventListener("abort",r)}),e=null)};e.forEach(d=>d.addEventListener("abort",r));const{signal:c}=i;return c.unsubscribe=()=>_t.asap(o),c}},l$=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let i=0,a;for(;i<n;)a=i+t,yield e.slice(i,a),i=a},c$=async function*(e,t){for await(const n of u$(e))yield*l$(n,t)},u$=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:i}=await t.read();if(n)break;yield i}}finally{await t.cancel()}},gR=(e,t,n,i)=>{const a=c$(e,t);let r=0,s,o=c=>{s||(s=!0,i&&i(c))};return new ReadableStream({async pull(c){try{const{done:d,value:f}=await a.next();if(d){o(),c.close();return}let g=f.byteLength;if(n){let v=r+=g;n(v)}c.enqueue(new Uint8Array(f))}catch(d){throw o(d),d}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},Tx=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",WP=Tx&&typeof ReadableStream=="function",d$=Tx&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),QP=(e,...t)=>{try{return!!e(...t)}catch{return!1}},h$=WP&&QP(()=>{let e=!1;const t=new Request(Fa.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),vR=64*1024,HA=WP&&QP(()=>_t.isReadableStream(new Response("").body)),k1={stream:HA&&(e=>e.body)};Tx&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!k1[t]&&(k1[t]=_t.isFunction(e[t])?n=>n[t]():(n,i)=>{throw new Ne(`Response type '${t}' is not supported`,Ne.ERR_NOT_SUPPORT,i)})})})(new Response);const f$=async e=>{if(e==null)return 0;if(_t.isBlob(e))return e.size;if(_t.isSpecCompliantForm(e))return(await new Request(Fa.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(_t.isArrayBufferView(e)||_t.isArrayBuffer(e))return e.byteLength;if(_t.isURLSearchParams(e)&&(e=e+""),_t.isString(e))return(await d$(e)).byteLength},p$=async(e,t)=>{const n=_t.toFiniteNumber(e.getContentLength());return n??f$(t)},m$=Tx&&(async e=>{let{url:t,method:n,data:i,signal:a,cancelToken:r,timeout:s,onDownloadProgress:o,onUploadProgress:c,responseType:d,headers:f,withCredentials:g="same-origin",fetchOptions:v}=XP(e);d=d?(d+"").toLowerCase():"text";let y=o$([a,r&&r.toAbortSignal()],s),b;const w=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let E;try{if(c&&h$&&n!=="get"&&n!=="head"&&(E=await p$(f,i))!==0){let D=new Request(t,{method:"POST",body:i,duplex:"half"}),P;if(_t.isFormData(i)&&(P=D.headers.get("content-type"))&&f.setContentType(P),D.body){const[B,k]=fR(E,P1(pR(c)));i=gR(D.body,vR,B,k)}}_t.isString(g)||(g=g?"include":"omit");const C="credentials"in Request.prototype;b=new Request(t,{...v,signal:y,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:i,duplex:"half",credentials:C?g:void 0});let A=await fetch(b,v);const _=HA&&(d==="stream"||d==="response");if(HA&&(o||_&&w)){const D={};["status","statusText","headers"].forEach(z=>{D[z]=A[z]});const P=_t.toFiniteNumber(A.headers.get("content-length")),[B,k]=o&&fR(P,P1(pR(o),!0))||[];A=new Response(gR(A.body,vR,B,()=>{k&&k(),w&&w()}),D)}d=d||"text";let M=await k1[_t.findKey(k1,d)||"text"](A,e);return!_&&w&&w(),await new Promise((D,P)=>{YP(D,P,{data:M,headers:Tr.from(A.headers),status:A.status,statusText:A.statusText,config:e,request:b})})}catch(C){throw w&&w(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,e,b),{cause:C.cause||C}):Ne.from(C,C&&C.code,e,b)}}),GA={http:DV,xhr:s$,fetch:m$};_t.forEach(GA,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const yR=e=>`- ${e}`,g$=e=>_t.isFunction(e)||e===null||e===!1,ZP={getAdapter:e=>{e=_t.isArray(e)?e:[e];const{length:t}=e;let n,i;const a={};for(let r=0;r<t;r++){n=e[r];let s;if(i=n,!g$(n)&&(i=GA[(s=String(n)).toLowerCase()],i===void 0))throw new Ne(`Unknown adapter '${s}'`);if(i)break;a[s||"#"+r]=i}if(!i){const r=Object.entries(a).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=t?r.length>1?`since :
`+r.map(yR).join(`
`):" "+yR(r[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i},adapters:GA};function SS(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qp(null,e)}function bR(e){return SS(e),e.headers=Tr.from(e.headers),e.data=xS.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ZP.getAdapter(e.adapter||Fv.adapter)(e).then(function(i){return SS(e),i.data=xS.call(e,e.transformResponse,i),i.headers=Tr.from(i.headers),i},function(i){return $P(i)||(SS(e),i&&i.response&&(i.response.data=xS.call(e,e.transformResponse,i.response),i.response.headers=Tr.from(i.response.headers))),Promise.reject(i)})}const JP="1.10.0",Rx={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Rx[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const xR={};Rx.transitional=function(t,n,i){function a(r,s){return"[Axios v"+JP+"] Transitional option '"+r+"'"+s+(i?". "+i:"")}return(r,s,o)=>{if(t===!1)throw new Ne(a(s," has been removed"+(n?" in "+n:"")),Ne.ERR_DEPRECATED);return n&&!xR[s]&&(xR[s]=!0,console.warn(a(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(r,s,o):!0}};Rx.spelling=function(t){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function v$(e,t,n){if(typeof e!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let a=i.length;for(;a-- >0;){const r=i[a],s=t[r];if(s){const o=e[r],c=o===void 0||s(o,r,e);if(c!==!0)throw new Ne("option "+r+" must be "+c,Ne.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ne("Unknown option "+r,Ne.ERR_BAD_OPTION)}}const g1={assertOptions:v$,validators:Rx},ll=g1.validators;let rh=class{constructor(t){this.defaults=t||{},this.interceptors={request:new dR,response:new dR}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const r=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}catch{}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ph(this.defaults,n);const{transitional:i,paramsSerializer:a,headers:r}=n;i!==void 0&&g1.assertOptions(i,{silentJSONParsing:ll.transitional(ll.boolean),forcedJSONParsing:ll.transitional(ll.boolean),clarifyTimeoutError:ll.transitional(ll.boolean)},!1),a!=null&&(_t.isFunction(a)?n.paramsSerializer={serialize:a}:g1.assertOptions(a,{encode:ll.function,serialize:ll.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),g1.assertOptions(n,{baseUrl:ll.spelling("baseURL"),withXsrfToken:ll.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=r&&_t.merge(r.common,r[n.method]);r&&_t.forEach(["delete","get","head","post","put","patch","common"],b=>{delete r[b]}),n.headers=Tr.concat(s,r);const o=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(c=c&&w.synchronous,o.unshift(w.fulfilled,w.rejected))});const d=[];this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let f,g=0,v;if(!c){const b=[bR.bind(this),void 0];for(b.unshift.apply(b,o),b.push.apply(b,d),v=b.length,f=Promise.resolve(n);g<v;)f=f.then(b[g++],b[g++]);return f}v=o.length;let y=n;for(g=0;g<v;){const b=o[g++],w=o[g++];try{y=b(y)}catch(E){w.call(this,E);break}}try{f=bR.call(this,y)}catch(b){return Promise.reject(b)}for(g=0,v=d.length;g<v;)f=f.then(d[g++],d[g++]);return f}getUri(t){t=ph(this.defaults,t);const n=KP(t.baseURL,t.url,t.allowAbsoluteUrls);return GP(n,t.params,t.paramsSerializer)}};_t.forEach(["delete","get","head","options"],function(t){rh.prototype[t]=function(n,i){return this.request(ph(i||{},{method:t,url:n,data:(i||{}).data}))}});_t.forEach(["post","put","patch"],function(t){function n(i){return function(r,s,o){return this.request(ph(o||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:s}))}}rh.prototype[t]=n(),rh.prototype[t+"Form"]=n(!0)});let y$=class tk{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const i=this;this.promise.then(a=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](a);i._listeners=null}),this.promise.then=a=>{let r;const s=new Promise(o=>{i.subscribe(o),r=o}).then(a);return s.cancel=function(){i.unsubscribe(r)},s},t(function(r,s,o){i.reason||(i.reason=new Qp(r,s,o),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=i=>{t.abort(i)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new tk(function(a){t=a}),cancel:t}}};function b$(e){return function(n){return e.apply(null,n)}}function x$(e){return _t.isObject(e)&&e.isAxiosError===!0}const qA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qA).forEach(([e,t])=>{qA[t]=e});function ek(e){const t=new rh(e),n=OP(rh.prototype.request,t);return _t.extend(n,rh.prototype,t,{allOwnKeys:!0}),_t.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return ek(ph(e,a))},n}const Ri=ek(Fv);Ri.Axios=rh;Ri.CanceledError=Qp;Ri.CancelToken=y$;Ri.isCancel=$P;Ri.VERSION=JP;Ri.toFormData=Cx;Ri.AxiosError=Ne;Ri.Cancel=Ri.CanceledError;Ri.all=function(t){return Promise.all(t)};Ri.spread=b$;Ri.isAxiosError=x$;Ri.mergeConfig=ph;Ri.AxiosHeaders=Tr;Ri.formToJSON=e=>VP(_t.isHTMLForm(e)?new FormData(e):e);Ri.getAdapter=ZP.getAdapter;Ri.HttpStatusCode=qA;Ri.default=Ri;const{Axios:H1t,AxiosError:G1t,CanceledError:q1t,isCancel:V1t,CancelToken:$1t,VERSION:Y1t,all:K1t,Cancel:X1t,isAxiosError:W1t,spread:Q1t,toFormData:Z1t,AxiosHeaders:J1t,HttpStatusCode:txt,formToJSON:ext,getAdapter:nxt,mergeConfig:ixt}=Ri,dv="http://localhost:8055",hi=Ri.create({baseURL:dv});hi.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));hi.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(console.warn("Token expirado o invlido, redirigiendo al login..."),localStorage.removeItem("access_token"),window.location.pathname.includes("/login")||(window.location.href="/login")),Promise.reject(e)));const S$=({email:e,password:t})=>hi.post("/auth/login",{email:e,password:t}),w$=({email:e,password:t,first_name:n,last_name:i})=>hi.post("/users/register",{email:e,password:t,first_name:n,last_name:i}),_$=()=>hi.get("/users/me?fields=id,first_name,last_name,email,avatar"),SR=e=>{let t;const n=new Set,i=(d,f)=>{const g=typeof d=="function"?d(t):d;if(!Object.is(g,t)){const v=t;t=f??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(y=>y(t,v))}},a=()=>t,o={setState:i,getState:a,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d))},c=t=e(i,a,o);return o},E$=e=>e?SR(e):SR,A$=e=>e;function C$(e,t=A$){const n=Y.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return Y.useDebugValue(n),n}const wR=e=>{const t=E$(e),n=i=>C$(t,i);return Object.assign(n,t),n},nk=e=>e?wR(e):wR,Sl=nk(e=>({user:null,setUser:t=>e({user:t}),clearUser:()=>e({user:null})}));function T$(){const e=za();return lr({mutationFn:S$,onSuccess:t=>{const n=t.data.data.access_token;n&&(localStorage.setItem("access_token",n),e.invalidateQueries({queryKey:["me"]}))},onError:t=>{console.error("Error en login:",t)}})}function R$(){return lr({mutationFn:w$,onError:e=>{console.error("Error en registro:",e)}})}function v3(){const e=Sl(i=>i.setUser),t=Sl(i=>i.clearUser),n=Xp({queryKey:["me"],queryFn:_$,select:i=>i.data.data,retry:(i,a)=>a.response?.status===401?!1:i<2,retryDelay:1e3,enabled:!!localStorage.getItem("access_token"),staleTime:5*60*1e3,cacheTime:10*60*1e3,onSuccess:i=>{console.log("Usuario obtenido exitosamente:",i),e(i)},onError:i=>{console.error("Error obteniendo usuario:",i),i.response?.status===401&&(console.log("Token invlido, limpiando sesin..."),t(),localStorage.removeItem("access_token"))}});return j.useEffect(()=>{n.data&&!n.error?e(n.data):n.error?.response?.status===401&&t()},[n.data,n.error,e,t]),n}const y3=j.createContext({});function b3(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const x3=typeof window<"u",ik=x3?j.useLayoutEffect:j.useEffect,Mx=j.createContext(null);function S3(e,t){e.indexOf(t)===-1&&e.push(t)}function w3(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const wc=(e,t,n)=>n>t?t:n<e?e:n;let _3=()=>{};const _c={},ak=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function rk(e){return typeof e=="object"&&e!==null}const sk=e=>/^0[^.\s]+$/u.test(e);function E3(e){let t;return()=>(t===void 0&&(t=e()),t)}const Os=e=>e,M$=(e,t)=>n=>t(e(n)),Bv=(...e)=>e.reduce(M$),hv=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class A3{constructor(){this.subscriptions=[]}add(t){return S3(this.subscriptions,t),()=>w3(this.subscriptions,t)}notify(t,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,i);else for(let r=0;r<a;r++){const s=this.subscriptions[r];s&&s(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gl=e=>e*1e3,vl=e=>e/1e3;function ok(e,t){return t?e*(1e3/t):0}const lk=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,D$=1e-7,O$=12;function N$(e,t,n,i,a){let r,s,o=0;do s=t+(n-t)/2,r=lk(s,i,a)-e,r>0?n=s:t=s;while(Math.abs(r)>D$&&++o<O$);return s}function Iv(e,t,n,i){if(e===t&&n===i)return Os;const a=r=>N$(r,0,1,e,n);return r=>r===0||r===1?r:lk(a(r),t,i)}const ck=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,uk=e=>t=>1-e(1-t),dk=Iv(.33,1.53,.69,.99),C3=uk(dk),hk=ck(C3),fk=e=>(e*=2)<1?.5*C3(e):.5*(2-Math.pow(2,-10*(e-1))),T3=e=>1-Math.sin(Math.acos(e)),pk=uk(T3),mk=ck(T3),P$=Iv(.42,0,1,1),k$=Iv(0,0,.58,1),gk=Iv(.42,0,.58,1),L$=e=>Array.isArray(e)&&typeof e[0]!="number",vk=e=>Array.isArray(e)&&typeof e[0]=="number",j$={linear:Os,easeIn:P$,easeInOut:gk,easeOut:k$,circIn:T3,circInOut:mk,circOut:pk,backIn:C3,backInOut:hk,backOut:dk,anticipate:fk},F$=e=>typeof e=="string",_R=e=>{if(vk(e)){_3(e.length===4);const[t,n,i,a]=e;return Iv(t,n,i,a)}else if(F$(e))return j$[e];return e},Ib=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function B$(e,t){let n=new Set,i=new Set,a=!1,r=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(f){s.has(f)&&(d.schedule(f),e()),f(o)}const d={schedule:(f,g=!1,v=!1)=>{const b=v&&a?n:i;return g&&s.add(f),b.has(f)||b.add(f),f},cancel:f=>{i.delete(f),s.delete(f)},process:f=>{if(o=f,a){r=!0;return}a=!0,[n,i]=[i,n],n.forEach(c),n.clear(),a=!1,r&&(r=!1,d.process(f))}};return d}const I$=40;function yk(e,t){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,s=Ib.reduce((_,M)=>(_[M]=B$(r),_),{}),{setup:o,read:c,resolveKeyframes:d,preUpdate:f,update:g,preRender:v,render:y,postRender:b}=s,w=()=>{const _=_c.useManualTiming?a.timestamp:performance.now();n=!1,_c.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(_-a.timestamp,I$),1)),a.timestamp=_,a.isProcessing=!0,o.process(a),c.process(a),d.process(a),f.process(a),g.process(a),v.process(a),y.process(a),b.process(a),a.isProcessing=!1,n&&t&&(i=!1,e(w))},E=()=>{n=!0,i=!0,a.isProcessing||e(w)};return{schedule:Ib.reduce((_,M)=>{const D=s[M];return _[M]=(P,B=!1,k=!1)=>(n||E(),D.schedule(P,B,k)),_},{}),cancel:_=>{for(let M=0;M<Ib.length;M++)s[Ib[M]].cancel(_)},state:a,steps:s}}const{schedule:ri,cancel:ku,state:Sa,steps:wS}=yk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Os,!0);let v1;function z$(){v1=void 0}const Ar={now:()=>(v1===void 0&&Ar.set(Sa.isProcessing||_c.useManualTiming?Sa.timestamp:performance.now()),v1),set:e=>{v1=e,queueMicrotask(z$)}},bk=e=>t=>typeof t=="string"&&t.startsWith(e),R3=bk("--"),U$=bk("var(--"),M3=e=>U$(e)?H$.test(e.split("/*")[0].trim()):!1,H$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Zp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},fv={...Zp,transform:e=>wc(0,1,e)},zb={...Zp,default:1},Y0=e=>Math.round(e*1e5)/1e5,D3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function G$(e){return e==null}const q$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,O3=(e,t)=>n=>!!(typeof n=="string"&&q$.test(n)&&n.startsWith(e)||t&&!G$(n)&&Object.prototype.hasOwnProperty.call(n,t)),xk=(e,t,n)=>i=>{if(typeof i!="string")return i;const[a,r,s,o]=i.match(D3);return{[e]:parseFloat(a),[t]:parseFloat(r),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},V$=e=>wc(0,255,e),_S={...Zp,transform:e=>Math.round(V$(e))},Wd={test:O3("rgb","red"),parse:xk("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+_S.transform(e)+", "+_S.transform(t)+", "+_S.transform(n)+", "+Y0(fv.transform(i))+")"};function $$(e){let t="",n="",i="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const VA={test:O3("#"),parse:$$,transform:Wd.transform},zv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Su=zv("deg"),yl=zv("%"),xe=zv("px"),Y$=zv("vh"),K$=zv("vw"),ER={...yl,parse:e=>yl.parse(e)/100,transform:e=>yl.transform(e*100)},Sp={test:O3("hsl","hue"),parse:xk("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+yl.transform(Y0(t))+", "+yl.transform(Y0(n))+", "+Y0(fv.transform(i))+")"},Bi={test:e=>Wd.test(e)||VA.test(e)||Sp.test(e),parse:e=>Wd.test(e)?Wd.parse(e):Sp.test(e)?Sp.parse(e):VA.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Wd.transform(e):Sp.transform(e),getAnimatableNone:e=>{const t=Bi.parse(e);return t.alpha=0,Bi.transform(t)}},X$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function W$(e){return isNaN(e)&&typeof e=="string"&&(e.match(D3)?.length||0)+(e.match(X$)?.length||0)>0}const Sk="number",wk="color",Q$="var",Z$="var(",AR="${}",J$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pv(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},a=[];let r=0;const o=t.replace(J$,c=>(Bi.test(c)?(i.color.push(r),a.push(wk),n.push(Bi.parse(c))):c.startsWith(Z$)?(i.var.push(r),a.push(Q$),n.push(c)):(i.number.push(r),a.push(Sk),n.push(parseFloat(c))),++r,AR)).split(AR);return{values:n,split:o,indexes:i,types:a}}function _k(e){return pv(e).values}function Ek(e){const{split:t,types:n}=pv(e),i=t.length;return a=>{let r="";for(let s=0;s<i;s++)if(r+=t[s],a[s]!==void 0){const o=n[s];o===Sk?r+=Y0(a[s]):o===wk?r+=Bi.transform(a[s]):r+=a[s]}return r}}const tY=e=>typeof e=="number"?0:Bi.test(e)?Bi.getAnimatableNone(e):e;function eY(e){const t=_k(e);return Ek(e)(t.map(tY))}const Lu={test:W$,parse:_k,createTransformer:Ek,getAnimatableNone:eY};function ES(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function nY({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let a=0,r=0,s=0;if(!t)a=r=s=n;else{const o=n<.5?n*(1+t):n+t-n*t,c=2*n-o;a=ES(c,o,e+1/3),r=ES(c,o,e),s=ES(c,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(r*255),blue:Math.round(s*255),alpha:i}}function L1(e,t){return n=>n>0?t:e}const di=(e,t,n)=>e+(t-e)*n,AS=(e,t,n)=>{const i=e*e,a=n*(t*t-i)+i;return a<0?0:Math.sqrt(a)},iY=[VA,Wd,Sp],aY=e=>iY.find(t=>t.test(e));function CR(e){const t=aY(e);if(!t)return!1;let n=t.parse(e);return t===Sp&&(n=nY(n)),n}const TR=(e,t)=>{const n=CR(e),i=CR(t);if(!n||!i)return L1(e,t);const a={...n};return r=>(a.red=AS(n.red,i.red,r),a.green=AS(n.green,i.green,r),a.blue=AS(n.blue,i.blue,r),a.alpha=di(n.alpha,i.alpha,r),Wd.transform(a))},$A=new Set(["none","hidden"]);function rY(e,t){return $A.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function sY(e,t){return n=>di(e,t,n)}function N3(e){return typeof e=="number"?sY:typeof e=="string"?M3(e)?L1:Bi.test(e)?TR:cY:Array.isArray(e)?Ak:typeof e=="object"?Bi.test(e)?TR:oY:L1}function Ak(e,t){const n=[...e],i=n.length,a=e.map((r,s)=>N3(r)(r,t[s]));return r=>{for(let s=0;s<i;s++)n[s]=a[s](r);return n}}function oY(e,t){const n={...e,...t},i={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(i[a]=N3(e[a])(e[a],t[a]));return a=>{for(const r in i)n[r]=i[r](a);return n}}function lY(e,t){const n=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const r=t.types[a],s=e.indexes[r][i[r]],o=e.values[s]??0;n[a]=o,i[r]++}return n}const cY=(e,t)=>{const n=Lu.createTransformer(t),i=pv(e),a=pv(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?$A.has(e)&&!a.values.length||$A.has(t)&&!i.values.length?rY(e,t):Bv(Ak(lY(i,a),a.values),n):L1(e,t)};function Ck(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?di(e,t,n):N3(e)(e,t)}const uY=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ri.update(t,n),stop:()=>ku(t),now:()=>Sa.isProcessing?Sa.timestamp:Ar.now()}},Tk=(e,t,n=10)=>{let i="";const a=Math.max(Math.round(t/n),2);for(let r=0;r<a;r++)i+=Math.round(e(r/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},j1=2e4;function P3(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<j1;)t+=n,i=e.next(t);return t>=j1?1/0:t}function dY(e,t=100,n){const i=n({...e,keyframes:[0,t]}),a=Math.min(P3(i),j1);return{type:"keyframes",ease:r=>i.next(a*r).value/t,duration:vl(a)}}const hY=5;function Rk(e,t,n){const i=Math.max(t-hY,0);return ok(n-e(i),t-i)}const Si={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},CS=.001;function fY({duration:e=Si.duration,bounce:t=Si.bounce,velocity:n=Si.velocity,mass:i=Si.mass}){let a,r,s=1-t;s=wc(Si.minDamping,Si.maxDamping,s),e=wc(Si.minDuration,Si.maxDuration,vl(e)),s<1?(a=d=>{const f=d*s,g=f*e,v=f-n,y=YA(d,s),b=Math.exp(-g);return CS-v/y*b},r=d=>{const g=d*s*e,v=g*n+n,y=Math.pow(s,2)*Math.pow(d,2)*e,b=Math.exp(-g),w=YA(Math.pow(d,2),s);return(-a(d)+CS>0?-1:1)*((v-y)*b)/w}):(a=d=>{const f=Math.exp(-d*e),g=(d-n)*e+1;return-CS+f*g},r=d=>{const f=Math.exp(-d*e),g=(n-d)*(e*e);return f*g});const o=5/e,c=mY(a,r,o);if(e=gl(e),isNaN(c))return{stiffness:Si.stiffness,damping:Si.damping,duration:e};{const d=Math.pow(c,2)*i;return{stiffness:d,damping:s*2*Math.sqrt(i*d),duration:e}}}const pY=12;function mY(e,t,n){let i=n;for(let a=1;a<pY;a++)i=i-e(i)/t(i);return i}function YA(e,t){return e*Math.sqrt(1-t*t)}const gY=["duration","bounce"],vY=["stiffness","damping","mass"];function RR(e,t){return t.some(n=>e[n]!==void 0)}function yY(e){let t={velocity:Si.velocity,stiffness:Si.stiffness,damping:Si.damping,mass:Si.mass,isResolvedFromDuration:!1,...e};if(!RR(e,vY)&&RR(e,gY))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,r=2*wc(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Si.mass,stiffness:a,damping:r}}else{const n=fY(e);t={...t,...n,mass:Si.mass},t.isResolvedFromDuration=!0}return t}function F1(e=Si.visualDuration,t=Si.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:a}=n;const r=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:r},{stiffness:c,damping:d,mass:f,duration:g,velocity:v,isResolvedFromDuration:y}=yY({...n,velocity:-vl(n.velocity||0)}),b=v||0,w=d/(2*Math.sqrt(c*f)),E=s-r,C=vl(Math.sqrt(c/f)),A=Math.abs(E)<5;i||(i=A?Si.restSpeed.granular:Si.restSpeed.default),a||(a=A?Si.restDelta.granular:Si.restDelta.default);let _;if(w<1){const D=YA(C,w);_=P=>{const B=Math.exp(-w*C*P);return s-B*((b+w*C*E)/D*Math.sin(D*P)+E*Math.cos(D*P))}}else if(w===1)_=D=>s-Math.exp(-C*D)*(E+(b+C*E)*D);else{const D=C*Math.sqrt(w*w-1);_=P=>{const B=Math.exp(-w*C*P),k=Math.min(D*P,300);return s-B*((b+w*C*E)*Math.sinh(k)+D*E*Math.cosh(k))/D}}const M={calculatedDuration:y&&g||null,next:D=>{const P=_(D);if(y)o.done=D>=g;else{let B=D===0?b:0;w<1&&(B=D===0?gl(b):Rk(_,D,P));const k=Math.abs(B)<=i,z=Math.abs(s-P)<=a;o.done=k&&z}return o.value=o.done?s:P,o},toString:()=>{const D=Math.min(P3(M),j1),P=Tk(B=>M.next(D*B).value,D,30);return D+"ms "+P},toTransition:()=>{}};return M}F1.applyToOptions=e=>{const t=dY(e,100,F1);return e.ease=t.ease,e.duration=gl(t.duration),e.type="keyframes",e};function KA({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:r=500,modifyTarget:s,min:o,max:c,restDelta:d=.5,restSpeed:f}){const g=e[0],v={done:!1,value:g},y=k=>o!==void 0&&k<o||c!==void 0&&k>c,b=k=>o===void 0?c:c===void 0||Math.abs(o-k)<Math.abs(c-k)?o:c;let w=n*t;const E=g+w,C=s===void 0?E:s(E);C!==E&&(w=C-g);const A=k=>-w*Math.exp(-k/i),_=k=>C+A(k),M=k=>{const z=A(k),H=_(k);v.done=Math.abs(z)<=d,v.value=v.done?C:H};let D,P;const B=k=>{y(v.value)&&(D=k,P=F1({keyframes:[v.value,b(v.value)],velocity:Rk(_,k,v.value),damping:a,stiffness:r,restDelta:d,restSpeed:f}))};return B(0),{calculatedDuration:null,next:k=>{let z=!1;return!P&&D===void 0&&(z=!0,M(k),B(k)),D!==void 0&&k>=D?P.next(k-D):(!z&&M(k),v)}}}function bY(e,t,n){const i=[],a=n||_c.mix||Ck,r=e.length-1;for(let s=0;s<r;s++){let o=a(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]||Os:t;o=Bv(c,o)}i.push(o)}return i}function xY(e,t,{clamp:n=!0,ease:i,mixer:a}={}){const r=e.length;if(_3(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=bY(t,i,a),c=o.length,d=f=>{if(s&&f<e[0])return t[0];let g=0;if(c>1)for(;g<e.length-2&&!(f<e[g+1]);g++);const v=hv(e[g],e[g+1],f);return o[g](v)};return n?f=>d(wc(e[0],e[r-1],f)):d}function SY(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const a=hv(0,t,i);e.push(di(n,1,a))}}function wY(e){const t=[0];return SY(t,e.length-1),t}function _Y(e,t){return e.map(n=>n*t)}function EY(e,t){return e.map(()=>t||gk).splice(0,e.length-1)}function K0({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const a=L$(i)?i.map(_R):_R(i),r={done:!1,value:t[0]},s=_Y(n&&n.length===t.length?n:wY(t),e),o=xY(s,t,{ease:Array.isArray(a)?a:EY(t,a)});return{calculatedDuration:e,next:c=>(r.value=o(c),r.done=c>=e,r)}}const AY=e=>e!==null;function k3(e,{repeat:t,repeatType:n="loop"},i,a=1){const r=e.filter(AY),o=a<0||t&&n!=="loop"&&t%2===1?0:r.length-1;return!o||i===void 0?r[o]:i}const CY={decay:KA,inertia:KA,tween:K0,keyframes:K0,spring:F1};function Mk(e){typeof e.type=="string"&&(e.type=CY[e.type])}class L3{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const TY=e=>e/100;class j3 extends L3{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ar.now()&&this.tick(Ar.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Mk(t);const{type:n=K0,repeat:i=0,repeatDelay:a=0,repeatType:r,velocity:s=0}=t;let{keyframes:o}=t;const c=n||K0;c!==K0&&typeof o[0]!="number"&&(this.mixKeyframes=Bv(TY,Ck(o[0],o[1])),o=[0,100]);const d=c({...t,keyframes:o});r==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...o].reverse(),velocity:-s})),d.calculatedDuration===null&&(d.calculatedDuration=P3(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:a,mixKeyframes:r,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:f,repeat:g,repeatType:v,repeatDelay:y,type:b,onUpdate:w,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const C=this.currentTime-d*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?C<0:C>a;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let _=this.currentTime,M=i;if(g){const k=Math.min(this.currentTime,a)/o;let z=Math.floor(k),H=k%1;!H&&k>=1&&(H=1),H===1&&z--,z=Math.min(z,g+1),!!(z%2)&&(v==="reverse"?(H=1-H,y&&(H-=y/o)):v==="mirror"&&(M=s)),_=wc(0,1,H)*o}const D=A?{done:!1,value:f[0]}:M.next(_);r&&(D.value=r(D.value));let{done:P}=D;!A&&c!==null&&(P=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return B&&b!==KA&&(D.value=k3(f,this.options,E,this.speed)),w&&w(D.value),B&&this.finish(),D}then(t,n){return this.finished.then(t,n)}get duration(){return vl(this.calculatedDuration)}get time(){return vl(this.currentTime)}set time(t){t=gl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ar.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=vl(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=uY,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ar.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function RY(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Qd=e=>e*180/Math.PI,XA=e=>{const t=Qd(Math.atan2(e[1],e[0]));return WA(t)},MY={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:XA,rotateZ:XA,skewX:e=>Qd(Math.atan(e[1])),skewY:e=>Qd(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},WA=e=>(e=e%360,e<0&&(e+=360),e),MR=XA,DR=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),OR=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),DY={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:DR,scaleY:OR,scale:e=>(DR(e)+OR(e))/2,rotateX:e=>WA(Qd(Math.atan2(e[6],e[5]))),rotateY:e=>WA(Qd(Math.atan2(-e[2],e[0]))),rotateZ:MR,rotate:MR,skewX:e=>Qd(Math.atan(e[4])),skewY:e=>Qd(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function QA(e){return e.includes("scale")?1:0}function ZA(e,t){if(!e||e==="none")return QA(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=DY,a=n;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=MY,a=o}if(!a)return QA(t);const r=i[t],s=a[1].split(",").map(NY);return typeof r=="function"?r(s):s[r]}const OY=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return ZA(n,t)};function NY(e){return parseFloat(e.trim())}const Jp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tm=new Set(Jp),NR=e=>e===Zp||e===xe,PY=new Set(["x","y","z"]),kY=Jp.filter(e=>!PY.has(e));function LY(e){const t=[];return kY.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const sh={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ZA(t,"x"),y:(e,{transform:t})=>ZA(t,"y")};sh.translateX=sh.x;sh.translateY=sh.y;const oh=new Set;let JA=!1,tC=!1,eC=!1;function Dk(){if(tC){const e=Array.from(oh).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const a=LY(i);a.length&&(n.set(i,a),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([r,s])=>{i.getValue(r)?.set(s)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}tC=!1,JA=!1,oh.forEach(e=>e.complete(eC)),oh.clear()}function Ok(){oh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(tC=!0)})}function jY(){eC=!0,Ok(),Dk(),eC=!1}class F3{constructor(t,n,i,a,r,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=a,this.element=r,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(oh.add(this),JA||(JA=!0,ri.read(Ok),ri.resolveKeyframes(Dk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:a}=this;if(t[0]===null){const r=a?.get(),s=t[t.length-1];if(r!==void 0)t[0]=r;else if(i&&n){const o=i.readValue(n,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),a&&r===void 0&&a.set(t[0])}RY(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),oh.delete(this)}cancel(){this.state==="scheduled"&&(oh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const FY=e=>e.startsWith("--");function BY(e,t,n){FY(t)?e.style.setProperty(t,n):e.style[t]=n}const IY=E3(()=>window.ScrollTimeline!==void 0),zY={};function UY(e,t){const n=E3(e);return()=>zY[t]??n()}const Nk=UY(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),k0=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,PR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:k0([0,.65,.55,1]),circOut:k0([.55,0,1,.45]),backIn:k0([.31,.01,.66,-.59]),backOut:k0([.33,1.53,.69,.99])};function Pk(e,t){if(e)return typeof e=="function"?Nk()?Tk(e,t):"ease-out":vk(e)?k0(e):Array.isArray(e)?e.map(n=>Pk(n,t)||PR.easeOut):PR[e]}function HY(e,t,n,{delay:i=0,duration:a=300,repeat:r=0,repeatType:s="loop",ease:o="easeOut",times:c}={},d=void 0){const f={[t]:n};c&&(f.offset=c);const g=Pk(o,a);Array.isArray(g)&&(f.easing=g);const v={delay:i,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:r+1,direction:s==="reverse"?"alternate":"normal"};return d&&(v.pseudoElement=d),e.animate(f,v)}function kk(e){return typeof e=="function"&&"applyToOptions"in e}function GY({type:e,...t}){return kk(e)&&Nk()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class qY extends L3{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:a,pseudoElement:r,allowFlatten:s=!1,finalKeyframe:o,onComplete:c}=t;this.isPseudoElement=!!r,this.allowFlatten=s,this.options=t,_3(typeof t.type!="string");const d=GY(t);this.animation=HY(n,i,a,d,r),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const f=k3(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(f):BY(n,i,f),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return vl(Number(t))}get time(){return vl(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=gl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&IY()?(this.animation.timeline=t,Os):n(this)}}const Lk={anticipate:fk,backInOut:hk,circInOut:mk};function VY(e){return e in Lk}function $Y(e){typeof e.ease=="string"&&VY(e.ease)&&(e.ease=Lk[e.ease])}const kR=10;class YY extends qY{constructor(t){$Y(t),Mk(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:a,element:r,...s}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const o=new j3({...s,autoplay:!1}),c=gl(this.finishedTime??this.time);n.setWithVelocity(o.sample(c-kR).value,o.sample(c).value,kR),o.stop()}}const LR=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Lu.test(e)||e==="0")&&!e.startsWith("url("));function KY(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function XY(e,t,n,i){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const r=e[e.length-1],s=LR(a,t),o=LR(r,t);return!s||!o?!1:KY(e)||(n==="spring"||kk(n))&&i}const WY=new Set(["opacity","clipPath","filter","transform"]),QY=E3(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ZY(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:a,damping:r,type:s}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return QY()&&n&&WY.has(n)&&(n!=="transform"||!d)&&!c&&!i&&a!=="mirror"&&r!==0&&s!=="inertia"}const JY=40;class tK extends L3{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:r=0,repeatType:s="loop",keyframes:o,name:c,motionValue:d,element:f,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ar.now();const v={autoplay:t,delay:n,type:i,repeat:a,repeatDelay:r,repeatType:s,name:c,motionValue:d,element:f,...g},y=f?.KeyframeResolver||F3;this.keyframeResolver=new y(o,(b,w,E)=>this.onKeyframesResolved(b,w,v,!E),c,d,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,a){this.keyframeResolver=void 0;const{name:r,type:s,velocity:o,delay:c,isHandoff:d,onUpdate:f}=i;this.resolvedAt=Ar.now(),XY(t,r,s,o)||((_c.instantAnimations||!c)&&f?.(k3(t,i,n)),t[0]=t[t.length-1],i.duration=0,i.repeat=0);const v={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>JY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},y=!d&&ZY(v)?new YY({...v,element:v.motionValue.owner.current}):new j3(v);y.finished.then(()=>this.notifyFinished()).catch(Os),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),jY()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const eK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function nK(e){const t=eK.exec(e);if(!t)return[,];const[,n,i,a]=t;return[`--${n??i}`,a]}function jk(e,t,n=1){const[i,a]=nK(e);if(!i)return;const r=window.getComputedStyle(t).getPropertyValue(i);if(r){const s=r.trim();return ak(s)?parseFloat(s):s}return M3(a)?jk(a,t,n+1):a}function B3(e,t){return e?.[t]??e?.default??e}const Fk=new Set(["width","height","top","left","right","bottom",...Jp]),iK={test:e=>e==="auto",parse:e=>e},Bk=e=>t=>t.test(e),Ik=[Zp,xe,yl,Su,K$,Y$,iK],jR=e=>Ik.find(Bk(e));function aK(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||sk(e):!0}const rK=new Set(["brightness","contrast","saturate","opacity"]);function sK(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(D3)||[];if(!i)return e;const a=n.replace(i,"");let r=rK.has(t)?1:0;return i!==n&&(r*=100),t+"("+r+a+")"}const oK=/\b([a-z-]*)\(.*?\)/gu,nC={...Lu,getAnimatableNone:e=>{const t=e.match(oK);return t?t.map(sK).join(" "):e}},FR={...Zp,transform:Math.round},lK={rotate:Su,rotateX:Su,rotateY:Su,rotateZ:Su,scale:zb,scaleX:zb,scaleY:zb,scaleZ:zb,skew:Su,skewX:Su,skewY:Su,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:fv,originX:ER,originY:ER,originZ:xe},I3={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,backgroundPositionX:xe,backgroundPositionY:xe,...lK,zIndex:FR,fillOpacity:fv,strokeOpacity:fv,numOctaves:FR},cK={...I3,color:Bi,backgroundColor:Bi,outlineColor:Bi,fill:Bi,stroke:Bi,borderColor:Bi,borderTopColor:Bi,borderRightColor:Bi,borderBottomColor:Bi,borderLeftColor:Bi,filter:nC,WebkitFilter:nC},zk=e=>cK[e];function Uk(e,t){let n=zk(e);return n!==nC&&(n=Lu),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const uK=new Set(["auto","none","0"]);function dK(e,t,n){let i=0,a;for(;i<e.length&&!a;){const r=e[i];typeof r=="string"&&!uK.has(r)&&pv(r).values.length&&(a=e[i]),i++}if(a&&n)for(const r of t)e[r]=Uk(n,a)}class hK extends F3{constructor(t,n,i,a,r){super(t,n,i,a,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),M3(d))){const f=jk(d,n.current);f!==void 0&&(t[c]=f),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Fk.has(i)||t.length!==2)return;const[a,r]=t,s=jR(a),o=jR(r);if(s!==o)if(NR(s)&&NR(o))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else sh[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let a=0;a<t.length;a++)(t[a]===null||aK(t[a]))&&i.push(a);i.length&&dK(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sh[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const r=i.length-1,s=i[r];i[r]=sh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,c])=>{t.getValue(o).set(c)}),this.resolveNoneKeyframes()}}function fK(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const a=n?.[e]??i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const Hk=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Gk(e){return rk(e)&&"offsetHeight"in e}const BR=30,pK=e=>!isNaN(parseFloat(e));class mK{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,a=!0)=>{const r=Ar.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty();a&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ar.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=pK(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new A3);const i=this.events[t].add(n);return t==="change"?()=>{i(),ri.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ar.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>BR)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,BR);return ok(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lp(e,t){return new mK(e,t)}const{schedule:z3}=yk(queueMicrotask,!1),co={x:!1,y:!1};function qk(){return co.x||co.y}function gK(e){return e==="x"||e==="y"?co[e]?null:(co[e]=!0,()=>{co[e]=!1}):co.x||co.y?null:(co.x=co.y=!0,()=>{co.x=co.y=!1})}function Vk(e,t){const n=fK(e),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[n,a,()=>i.abort()]}function IR(e){return!(e.pointerType==="touch"||qk())}function vK(e,t,n={}){const[i,a,r]=Vk(e,n),s=o=>{if(!IR(o))return;const{target:c}=o,d=t(c,o);if(typeof d!="function"||!c)return;const f=g=>{IR(g)&&(d(g),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,a)};return i.forEach(o=>{o.addEventListener("pointerenter",s,a)}),r}const $k=(e,t)=>t?e===t?!0:$k(e,t.parentElement):!1,U3=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,yK=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bK(e){return yK.has(e.tagName)||e.tabIndex!==-1}const y1=new WeakSet;function zR(e){return t=>{t.key==="Enter"&&e(t)}}function TS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const xK=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=zR(()=>{if(y1.has(n))return;TS(n,"down");const a=zR(()=>{TS(n,"up")}),r=()=>TS(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",r,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function UR(e){return U3(e)&&!qk()}function SK(e,t,n={}){const[i,a,r]=Vk(e,n),s=o=>{const c=o.currentTarget;if(!UR(o))return;y1.add(c);const d=t(c,o),f=(y,b)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),y1.has(c)&&y1.delete(c),UR(y)&&typeof d=="function"&&d(y,{success:b})},g=y=>{f(y,c===window||c===document||n.useGlobalTarget||$k(c,y.target))},v=y=>{f(y,!1)};window.addEventListener("pointerup",g,a),window.addEventListener("pointercancel",v,a)};return i.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),Gk(o)&&(o.addEventListener("focus",d=>xK(d,a)),!bK(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),r}function Yk(e){return rk(e)&&"ownerSVGElement"in e}function wK(e){return Yk(e)&&e.tagName==="svg"}const Ba=e=>!!(e&&e.getVelocity),_K=[...Ik,Bi,Lu],EK=e=>_K.find(Bk(e)),H3=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class AK extends j.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=Gk(i)&&i.offsetWidth||0,r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft,r.right=a-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function CK({children:e,isPresent:t,anchorX:n,root:i}){const a=j.useId(),r=j.useRef(null),s=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=j.useContext(H3);return j.useInsertionEffect(()=>{const{width:c,height:d,top:f,left:g,right:v}=s.current;if(t||!r.current||!c||!d)return;const y=n==="left"?`left: ${g}`:`right: ${v}`;r.current.dataset.motionPopId=a;const b=document.createElement("style");o&&(b.nonce=o);const w=i??document.head;return w.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${f}px !important;
          }
        `),()=>{w.removeChild(b),w.contains(b)&&w.removeChild(b)}},[t]),L.jsx(AK,{isPresent:t,childRef:r,sizeRef:s,children:j.cloneElement(e,{ref:r})})}const TK=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:r,mode:s,anchorX:o,root:c})=>{const d=b3(RK),f=j.useId();let g=!0,v=j.useMemo(()=>(g=!1,{id:f,initial:t,isPresent:n,custom:a,onExitComplete:y=>{d.set(y,!0);for(const b of d.values())if(!b)return;i&&i()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[n,d,i]);return r&&g&&(v={...v}),j.useMemo(()=>{d.forEach((y,b)=>d.set(b,!1))},[n]),j.useEffect(()=>{!n&&!d.size&&i&&i()},[n]),s==="popLayout"&&(e=L.jsx(CK,{isPresent:n,anchorX:o,root:c,children:e})),L.jsx(Mx.Provider,{value:v,children:e})};function RK(){return new Map}function Kk(e=!0){const t=j.useContext(Mx);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=t,r=j.useId();j.useEffect(()=>{if(e)return a(r)},[e]);const s=j.useCallback(()=>e&&i&&i(r),[r,i,e]);return!n&&i?[!1,s]:[!0]}const Ub=e=>e.key||"";function HR(e){const t=[];return j.Children.forEach(e,n=>{j.isValidElement(n)&&t.push(n)}),t}const Dx=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:r="sync",propagate:s=!1,anchorX:o="left",root:c})=>{const[d,f]=Kk(s),g=j.useMemo(()=>HR(e),[e]),v=s&&!d?[]:g.map(Ub),y=j.useRef(!0),b=j.useRef(g),w=b3(()=>new Map),[E,C]=j.useState(g),[A,_]=j.useState(g);ik(()=>{y.current=!1,b.current=g;for(let P=0;P<A.length;P++){const B=Ub(A[P]);v.includes(B)?w.delete(B):w.get(B)!==!0&&w.set(B,!1)}},[A,v.length,v.join("-")]);const M=[];if(g!==E){let P=[...g];for(let B=0;B<A.length;B++){const k=A[B],z=Ub(k);v.includes(z)||(P.splice(B,0,k),M.push(k))}return r==="wait"&&M.length&&(P=M),_(HR(P)),C(g),null}const{forceRender:D}=j.useContext(y3);return L.jsx(L.Fragment,{children:A.map(P=>{const B=Ub(P),k=s&&!d?!1:g===A||v.includes(B),z=()=>{if(w.has(B))w.set(B,!0);else return;let H=!0;w.forEach(G=>{G||(H=!1)}),H&&(D?.(),_(b.current),s&&f?.(),i&&i())};return L.jsx(TK,{isPresent:k,initial:!y.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:r,root:c,onExitComplete:k?void 0:z,anchorX:o,children:P},B)})})},Xk=j.createContext({strict:!1}),GR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jp={};for(const e in GR)jp[e]={isEnabled:t=>GR[e].some(n=>!!t[n])};function MK(e){for(const t in e)jp[t]={...jp[t],...e[t]}}const DK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function B1(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||DK.has(e)}let Wk=e=>!B1(e);function OK(e){typeof e=="function"&&(Wk=t=>t.startsWith("on")?!B1(t):e(t))}try{OK(require("@emotion/is-prop-valid").default)}catch{}function NK(e,t,n){const i={};for(const a in e)a==="values"&&typeof e.values=="object"||(Wk(a)||n===!0&&B1(a)||!t&&!B1(a)||e.draggable&&a.startsWith("onDrag"))&&(i[a]=e[a]);return i}const Ox=j.createContext({});function Nx(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function mv(e){return typeof e=="string"||Array.isArray(e)}const G3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],q3=["initial",...G3];function Px(e){return Nx(e.animate)||q3.some(t=>mv(e[t]))}function Qk(e){return!!(Px(e)||e.variants)}function PK(e,t){if(Px(e)){const{initial:n,animate:i}=e;return{initial:n===!1||mv(n)?n:void 0,animate:mv(i)?i:void 0}}return e.inherit!==!1?t:{}}function kK(e){const{initial:t,animate:n}=PK(e,j.useContext(Ox));return j.useMemo(()=>({initial:t,animate:n}),[qR(t),qR(n)])}function qR(e){return Array.isArray(e)?e.join(" "):e}const gv={};function LK(e){for(const t in e)gv[t]=e[t],R3(t)&&(gv[t].isCSSVariable=!0)}function Zk(e,{layout:t,layoutId:n}){return tm.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!gv[e]||e==="opacity")}const jK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FK=Jp.length;function BK(e,t,n){let i="",a=!0;for(let r=0;r<FK;r++){const s=Jp[r],o=e[s];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(s.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const d=Hk(o,I3[s]);if(!c){a=!1;const f=jK[s]||s;i+=`${f}(${d}) `}n&&(t[s]=d)}}return i=i.trim(),n?i=n(t,a?"":i):a&&(i="none"),i}function V3(e,t,n){const{style:i,vars:a,transformOrigin:r}=e;let s=!1,o=!1;for(const c in t){const d=t[c];if(tm.has(c)){s=!0;continue}else if(R3(c)){a[c]=d;continue}else{const f=Hk(d,I3[c]);c.startsWith("origin")?(o=!0,r[c]=f):i[c]=f}}if(t.transform||(s||n?i.transform=BK(t,e.transform,n):i.transform&&(i.transform="none")),o){const{originX:c="50%",originY:d="50%",originZ:f=0}=r;i.transformOrigin=`${c} ${d} ${f}`}}const $3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Jk(e,t,n){for(const i in t)!Ba(t[i])&&!Zk(i,n)&&(e[i]=t[i])}function IK({transformTemplate:e},t){return j.useMemo(()=>{const n=$3();return V3(n,t,e),Object.assign({},n.vars,n.style)},[t])}function zK(e,t){const n=e.style||{},i={};return Jk(i,n,e),Object.assign(i,IK(e,t)),i}function UK(e,t){const n={},i=zK(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const HK={offset:"stroke-dashoffset",array:"stroke-dasharray"},GK={offset:"strokeDashoffset",array:"strokeDasharray"};function qK(e,t,n=1,i=0,a=!0){e.pathLength=1;const r=a?HK:GK;e[r.offset]=xe.transform(-i);const s=xe.transform(t),o=xe.transform(n);e[r.array]=`${s} ${o}`}function tL(e,{attrX:t,attrY:n,attrScale:i,pathLength:a,pathSpacing:r=1,pathOffset:s=0,...o},c,d,f){if(V3(e,o,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:v}=e;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=f?.transformBox??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),i!==void 0&&(g.scale=i),a!==void 0&&qK(g,a,r,s,!1)}const eL=()=>({...$3(),attrs:{}}),nL=e=>typeof e=="string"&&e.toLowerCase()==="svg";function VK(e,t,n,i){const a=j.useMemo(()=>{const r=eL();return tL(r,t,nL(i),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};Jk(r,e.style,e),a.style={...r,...a.style}}return a}const $K=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Y3(e){return typeof e!="string"||e.includes("-")?!1:!!($K.indexOf(e)>-1||/[A-Z]/u.test(e))}function YK(e,t,n,{latestValues:i},a,r=!1){const o=(Y3(e)?VK:UK)(t,i,a,e),c=NK(t,typeof e=="string",r),d=e!==j.Fragment?{...c,...o,ref:n}:{},{children:f}=t,g=j.useMemo(()=>Ba(f)?f.get():f,[f]);return j.createElement(e,{...d,children:g})}function VR(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function K3(e,t,n,i){if(typeof t=="function"){const[a,r]=VR(i);t=t(n!==void 0?n:e.custom,a,r)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,r]=VR(i);t=t(n!==void 0?n:e.custom,a,r)}return t}function b1(e){return Ba(e)?e.get():e}function KK({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,a){return{latestValues:XK(n,i,a,e),renderState:t()}}function XK(e,t,n,i){const a={},r=i(e,{});for(const v in r)a[v]=b1(r[v]);let{initial:s,animate:o}=e;const c=Px(e),d=Qk(e);t&&d&&!c&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let f=n?n.initial===!1:!1;f=f||s===!1;const g=f?o:s;if(g&&typeof g!="boolean"&&!Nx(g)){const v=Array.isArray(g)?g:[g];for(let y=0;y<v.length;y++){const b=K3(e,v[y]);if(b){const{transitionEnd:w,transition:E,...C}=b;for(const A in C){let _=C[A];if(Array.isArray(_)){const M=f?_.length-1:0;_=_[M]}_!==null&&(a[A]=_)}for(const A in w)a[A]=w[A]}}}return a}const iL=e=>(t,n)=>{const i=j.useContext(Ox),a=j.useContext(Mx),r=()=>KK(e,t,i,a);return n?r():b3(r)};function X3(e,t,n){const{style:i}=e,a={};for(const r in i)(Ba(i[r])||t.style&&Ba(t.style[r])||Zk(r,e)||n?.getValue(r)?.liveStyle!==void 0)&&(a[r]=i[r]);return a}const WK=iL({scrapeMotionValuesFromProps:X3,createRenderState:$3});function aL(e,t,n){const i=X3(e,t,n);for(const a in e)if(Ba(e[a])||Ba(t[a])){const r=Jp.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[r]=e[a]}return i}const QK=iL({scrapeMotionValuesFromProps:aL,createRenderState:eL}),ZK=Symbol.for("motionComponentSymbol");function wp(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function JK(e,t,n){return j.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):wp(n)&&(n.current=i))},[t])}const W3=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tX="framerAppearId",rL="data-"+W3(tX),sL=j.createContext({});function eX(e,t,n,i,a){const{visualElement:r}=j.useContext(Ox),s=j.useContext(Xk),o=j.useContext(Mx),c=j.useContext(H3).reducedMotion,d=j.useRef(null);i=i||s.renderer,!d.current&&i&&(d.current=i(e,{visualState:t,parent:r,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,g=j.useContext(sL);f&&!f.projection&&a&&(f.type==="html"||f.type==="svg")&&nX(d.current,n,a,g);const v=j.useRef(!1);j.useInsertionEffect(()=>{f&&v.current&&f.update(n,o)});const y=n[rL],b=j.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return ik(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),b.current&&f.animationState&&f.animationState.animateChanges())}),j.useEffect(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),b.current=!1))}),f}function nX(e,t,n,i){const{layoutId:a,layout:r,drag:s,dragConstraints:o,layoutScroll:c,layoutRoot:d,layoutCrossfade:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:oL(e.parent)),e.projection.setOptions({layoutId:a,layout:r,alwaysMeasureLayout:!!s||o&&wp(o),visualElement:e,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:f,layoutScroll:c,layoutRoot:d})}function oL(e){if(e)return e.options.allowProjection!==!1?e.projection:oL(e.parent)}function RS(e,{forwardMotionProps:t=!1}={},n,i){n&&MK(n);const a=Y3(e)?QK:WK;function r(o,c){let d;const f={...j.useContext(H3),...o,layoutId:iX(o)},{isStatic:g}=f,v=kK(o),y=a(o,g);if(!g&&x3){aX();const b=rX(f);d=b.MeasureLayout,v.visualElement=eX(e,y,f,i,b.ProjectionNode)}return L.jsxs(Ox.Provider,{value:v,children:[d&&v.visualElement?L.jsx(d,{visualElement:v.visualElement,...f}):null,YK(e,o,JK(y,v.visualElement,c),y,g,t)]})}r.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const s=j.forwardRef(r);return s[ZK]=e,s}function iX({layoutId:e}){const t=j.useContext(y3).id;return t&&e!==void 0?t+"-"+e:e}function aX(e,t){j.useContext(Xk).strict}function rX(e){const{drag:t,layout:n}=jp;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function sX(e,t){if(typeof Proxy>"u")return RS;const n=new Map,i=(r,s)=>RS(r,s,e,t),a=(r,s)=>i(r,s);return new Proxy(a,{get:(r,s)=>s==="create"?i:(n.has(s)||n.set(s,RS(s,void 0,e,t)),n.get(s))})}function lL({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function oX({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function lX(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function MS(e){return e===void 0||e===1}function iC({scale:e,scaleX:t,scaleY:n}){return!MS(e)||!MS(t)||!MS(n)}function qd(e){return iC(e)||cL(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function cL(e){return $R(e.x)||$R(e.y)}function $R(e){return e&&e!=="0%"}function I1(e,t,n){const i=e-n,a=t*i;return n+a}function YR(e,t,n,i,a){return a!==void 0&&(e=I1(e,a,i)),I1(e,n,i)+t}function aC(e,t=0,n=1,i,a){e.min=YR(e.min,t,n,i,a),e.max=YR(e.max,t,n,i,a)}function uL(e,{x:t,y:n}){aC(e.x,t.translate,t.scale,t.originPoint),aC(e.y,n.translate,n.scale,n.originPoint)}const KR=.999999999999,XR=1.0000000000001;function cX(e,t,n,i=!1){const a=n.length;if(!a)return;t.x=t.y=1;let r,s;for(let o=0;o<a;o++){r=n[o],s=r.projectionDelta;const{visualElement:c}=r.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Ep(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,uL(e,s)),i&&qd(r.latestValues)&&Ep(e,r.latestValues))}t.x<XR&&t.x>KR&&(t.x=1),t.y<XR&&t.y>KR&&(t.y=1)}function _p(e,t){e.min=e.min+t,e.max=e.max+t}function WR(e,t,n,i,a=.5){const r=di(e.min,e.max,a);aC(e,t,n,r,i)}function Ep(e,t){WR(e.x,t.x,t.scaleX,t.scale,t.originX),WR(e.y,t.y,t.scaleY,t.scale,t.originY)}function dL(e,t){return lL(lX(e.getBoundingClientRect(),t))}function uX(e,t,n){const i=dL(e,n),{scroll:a}=t;return a&&(_p(i.x,a.offset.x),_p(i.y,a.offset.y)),i}const QR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ap=()=>({x:QR(),y:QR()}),ZR=()=>({min:0,max:0}),Ti=()=>({x:ZR(),y:ZR()}),rC={current:null},hL={current:!1};function dX(){if(hL.current=!0,!!x3)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>rC.current=e.matches;e.addEventListener("change",t),t()}else rC.current=!1}const hX=new WeakMap;function fX(e,t,n){for(const i in t){const a=t[i],r=n[i];if(Ba(a))e.addValue(i,a);else if(Ba(r))e.addValue(i,Lp(a,{owner:e}));else if(r!==a)if(e.hasValue(i)){const s=e.getValue(i);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(i);e.addValue(i,Lp(s!==void 0?s:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const JR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pX{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=F3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Ar.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,ri.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=s;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!r,this.isControllingVariants=Px(n),this.isVariantNode=Qk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const y=g[v];c[v]!==void 0&&Ba(y)&&y.set(c[v],!1)}}mount(t){this.current=t,hX.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),hL.current||dX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rC.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ku(this.notifyUpdate),ku(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=tm.has(t);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ri.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),r=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),r(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in jp){const n=jp[t];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ti()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<JR.length;i++){const a=JR[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const r="on"+a,s=t[r];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=fX(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Lp(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(ak(i)||sk(i))?i=parseFloat(i):!EK(i)&&Lu.test(n)&&(i=Uk(t,n)),this.setBaseTarget(t,Ba(i)?i.get():i)),Ba(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const r=K3(this.props,n,this.presenceContext?.custom);r&&(i=r[t])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ba(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new A3),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){z3.render(this.render)}}class fL extends pX{constructor(){super(...arguments),this.KeyframeResolver=hK}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ba(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function pL(e,{style:t,vars:n},i,a){const r=e.style;let s;for(s in t)r[s]=t[s];a?.applyProjectionStyles(r,i);for(s in n)r.setProperty(s,n[s])}function mX(e){return window.getComputedStyle(e)}class gX extends fL{constructor(){super(...arguments),this.type="html",this.renderInstance=pL}readValueFromInstance(t,n){if(tm.has(n))return this.projection?.isProjecting?QA(n):OY(t,n);{const i=mX(t),a=(R3(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return dL(t,n)}build(t,n,i){V3(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return X3(t,n,i)}}const mL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vX(e,t,n,i){pL(e,t,void 0,i);for(const a in t.attrs)e.setAttribute(mL.has(a)?a:W3(a),t.attrs[a])}class yX extends fL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ti}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(tm.has(n)){const i=zk(n);return i&&i.default||0}return n=mL.has(n)?n:W3(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return aL(t,n,i)}build(t,n,i){tL(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,a){vX(t,n,i,a)}mount(t){this.isSVGTag=nL(t.tagName),super.mount(t)}}const bX=(e,t)=>Y3(e)?new yX(t):new gX(t,{allowProjection:e!==j.Fragment});function vv(e,t,n){const i=e.getProps();return K3(i,t,n!==void 0?n:i.custom,e)}const sC=e=>Array.isArray(e);function xX(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Lp(n))}function SX(e){return sC(e)?e[e.length-1]||0:e}function wX(e,t){const n=vv(e,t);let{transitionEnd:i={},transition:a={},...r}=n||{};r={...r,...i};for(const s in r){const o=SX(r[s]);xX(e,s,o)}}function _X(e){return!!(Ba(e)&&e.add)}function oC(e,t){const n=e.getValue("willChange");if(_X(n))return n.add(t);if(!n&&_c.WillChange){const i=new _c.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function gL(e){return e.props[rL]}const EX=e=>e!==null;function AX(e,{repeat:t,repeatType:n="loop"},i){const a=e.filter(EX),r=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[r]}const CX={type:"spring",stiffness:500,damping:25,restSpeed:10},TX=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),RX={type:"keyframes",duration:.8},MX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},DX=(e,{keyframes:t})=>t.length>2?RX:tm.has(e)?e.startsWith("scale")?TX(t[1]):CX:MX;function OX({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:r,repeatType:s,repeatDelay:o,from:c,elapsed:d,...f}){return!!Object.keys(f).length}const Q3=(e,t,n,i={},a,r)=>s=>{const o=B3(i,e)||{},c=o.delay||i.delay||0;let{elapsed:d=0}=i;d=d-gl(c);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-d,onUpdate:v=>{t.set(v),o.onUpdate&&o.onUpdate(v)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:r?void 0:a};OX(o)||Object.assign(f,DX(e,f)),f.duration&&(f.duration=gl(f.duration)),f.repeatDelay&&(f.repeatDelay=gl(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let g=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(g=!0)),(_c.instantAnimations||_c.skipAnimations)&&(g=!0,f.duration=0,f.delay=0),f.allowFlatten=!o.type&&!o.ease,g&&!r&&t.get()!==void 0){const v=AX(f.keyframes,o);if(v!==void 0){ri.update(()=>{f.onUpdate(v),f.onComplete()});return}}return o.isSync?new j3(f):new tK(f)};function NX({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function vL(e,t,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:r=e.getDefaultTransition(),transitionEnd:s,...o}=t;i&&(r=i);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in o){const g=e.getValue(f,e.latestValues[f]??null),v=o[f];if(v===void 0||d&&NX(d,f))continue;const y={delay:n,...B3(r||{},f)},b=g.get();if(b!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===b&&!y.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const C=gL(e);if(C){const A=window.MotionHandoffAnimation(C,f,ri);A!==null&&(y.startTime=A,w=!0)}}oC(e,f),g.start(Q3(f,g,v,e.shouldReduceMotion&&Fk.has(f)?{type:!1}:y,e,w));const E=g.animation;E&&c.push(E)}return s&&Promise.all(c).then(()=>{ri.update(()=>{s&&wX(e,s)})}),c}function lC(e,t,n={}){const i=vv(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const r=i?()=>Promise.all(vL(e,i,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:g}=a;return PX(e,t,c,d,f,g,n)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,d]=o==="beforeChildren"?[r,s]:[s,r];return c().then(()=>d())}else return Promise.all([r(),s(n.delay)])}function PX(e,t,n=0,i=0,a=0,r=1,s){const o=[],c=e.variantChildren.size,d=(c-1)*a,f=typeof i=="function",g=f?v=>i(v,c):r===1?(v=0)=>v*a:(v=0)=>d-v*a;return Array.from(e.variantChildren).sort(kX).forEach((v,y)=>{v.notify("AnimationStart",t),o.push(lC(v,t,{...s,delay:n+(f?0:i)+g(y)}).then(()=>v.notify("AnimationComplete",t)))}),Promise.all(o)}function kX(e,t){return e.sortNodePosition(t)}function LX(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(r=>lC(e,r,n));i=Promise.all(a)}else if(typeof t=="string")i=lC(e,t,n);else{const a=typeof t=="function"?vv(e,t,n.custom):t;i=Promise.all(vL(e,a,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function yL(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const jX=q3.length;function bL(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?bL(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<jX;n++){const i=q3[n],a=e.props[i];(mv(a)||a===!1)&&(t[i]=a)}return t}const FX=[...G3].reverse(),BX=G3.length;function IX(e){return t=>Promise.all(t.map(({animation:n,options:i})=>LX(e,n,i)))}function zX(e){let t=IX(e),n=t6(),i=!0;const a=c=>(d,f)=>{const g=vv(e,f,c==="exit"?e.presenceContext?.custom:void 0);if(g){const{transition:v,transitionEnd:y,...b}=g;d={...d,...b,...y}}return d};function r(c){t=c(e)}function s(c){const{props:d}=e,f=bL(e.parent)||{},g=[],v=new Set;let y={},b=1/0;for(let E=0;E<BX;E++){const C=FX[E],A=n[C],_=d[C]!==void 0?d[C]:f[C],M=mv(_),D=C===c?A.isActive:null;D===!1&&(b=E);let P=_===f[C]&&_!==d[C]&&M;if(P&&i&&e.manuallyAnimateOnMount&&(P=!1),A.protectedKeys={...y},!A.isActive&&D===null||!_&&!A.prevProp||Nx(_)||typeof _=="boolean")continue;const B=UX(A.prevProp,_);let k=B||C===c&&A.isActive&&!P&&M||E>b&&M,z=!1;const H=Array.isArray(_)?_:[_];let G=H.reduce(a(C),{});D===!1&&(G={});const{prevResolvedValues:Q={}}=A,at={...Q,...G},Z=I=>{k=!0,v.has(I)&&(z=!0,v.delete(I)),A.needsAnimating[I]=!0;const V=e.getValue(I);V&&(V.liveStyle=!1)};for(const I in at){const V=G[I],X=Q[I];if(y.hasOwnProperty(I))continue;let U=!1;sC(V)&&sC(X)?U=!yL(V,X):U=V!==X,U?V!=null?Z(I):v.add(I):V!==void 0&&v.has(I)?Z(I):A.protectedKeys[I]=!0}A.prevProp=_,A.prevResolvedValues=G,A.isActive&&(y={...y,...G}),i&&e.blockInitialAnimation&&(k=!1),k&&(!(P&&B)||z)&&g.push(...H.map(I=>({animation:I,options:{type:C}})))}if(v.size){const E={};if(typeof d.initial!="boolean"){const C=vv(e,Array.isArray(d.initial)?d.initial[0]:d.initial);C&&C.transition&&(E.transition=C.transition)}v.forEach(C=>{const A=e.getBaseTarget(C),_=e.getValue(C);_&&(_.liveStyle=!0),E[C]=A??null}),g.push({animation:E})}let w=!!g.length;return i&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(w=!1),i=!1,w?t(g):Promise.resolve()}function o(c,d){if(n[c].isActive===d)return Promise.resolve();e.variantChildren?.forEach(g=>g.animationState?.setActive(c,d)),n[c].isActive=d;const f=s(c);for(const g in n)n[g].protectedKeys={};return f}return{animateChanges:s,setActive:o,setAnimateFunction:r,getState:()=>n,reset:()=>{n=t6(),i=!0}}}function UX(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!yL(t,e):!1}function Ud(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function t6(){return{animate:Ud(!0),whileInView:Ud(),whileHover:Ud(),whileTap:Ud(),whileDrag:Ud(),whileFocus:Ud(),exit:Ud()}}class Hu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class HX extends Hu{constructor(t){super(t),t.animationState||(t.animationState=zX(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Nx(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let GX=0;class qX extends Hu{constructor(){super(...arguments),this.id=GX++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const VX={animation:{Feature:HX},exit:{Feature:qX}};function yv(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Uv(e){return{point:{x:e.pageX,y:e.pageY}}}const $X=e=>t=>U3(t)&&e(t,Uv(t));function X0(e,t,n,i){return yv(e,t,$X(n),i)}const xL=1e-4,YX=1-xL,KX=1+xL,SL=.01,XX=0-SL,WX=0+SL;function sr(e){return e.max-e.min}function QX(e,t,n){return Math.abs(e-t)<=n}function e6(e,t,n,i=.5){e.origin=i,e.originPoint=di(t.min,t.max,e.origin),e.scale=sr(n)/sr(t),e.translate=di(n.min,n.max,e.origin)-e.originPoint,(e.scale>=YX&&e.scale<=KX||isNaN(e.scale))&&(e.scale=1),(e.translate>=XX&&e.translate<=WX||isNaN(e.translate))&&(e.translate=0)}function W0(e,t,n,i){e6(e.x,t.x,n.x,i?i.originX:void 0),e6(e.y,t.y,n.y,i?i.originY:void 0)}function n6(e,t,n){e.min=n.min+t.min,e.max=e.min+sr(t)}function ZX(e,t,n){n6(e.x,t.x,n.x),n6(e.y,t.y,n.y)}function i6(e,t,n){e.min=t.min-n.min,e.max=e.min+sr(t)}function Q0(e,t,n){i6(e.x,t.x,n.x),i6(e.y,t.y,n.y)}function Ts(e){return[e("x"),e("y")]}const wL=({current:e})=>e?e.ownerDocument.defaultView:null,a6=(e,t)=>Math.abs(e-t);function JX(e,t){const n=a6(e.x,t.x),i=a6(e.y,t.y);return Math.sqrt(n**2+i**2)}class _L{constructor(t,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:r=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=OS(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,b=JX(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!b)return;const{point:w}=v,{timestamp:E}=Sa;this.history.push({...w,timestamp:E});const{onStart:C,onMove:A}=this.handlers;y||(C&&C(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,v)},this.handlePointerMove=(v,y)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=DS(y,this.transformPagePoint),ri.update(this.updatePoint,!0)},this.handlePointerUp=(v,y)=>{this.end();const{onEnd:b,onSessionEnd:w,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=OS(v.type==="pointercancel"?this.lastMoveEventInfo:DS(y,this.transformPagePoint),this.history);this.startEvent&&b&&b(v,C),w&&w(v,C)},!U3(t))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=s,this.contextWindow=a||window;const o=Uv(t),c=DS(o,this.transformPagePoint),{point:d}=c,{timestamp:f}=Sa;this.history=[{...d,timestamp:f}];const{onSessionStart:g}=n;g&&g(t,OS(c,this.history)),this.removeListeners=Bv(X0(this.contextWindow,"pointermove",this.handlePointerMove),X0(this.contextWindow,"pointerup",this.handlePointerUp),X0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ku(this.updatePoint)}}function DS(e,t){return t?{point:t(e.point)}:e}function r6(e,t){return{x:e.x-t.x,y:e.y-t.y}}function OS({point:e},t){return{point:e,delta:r6(e,EL(t)),offset:r6(e,tW(t)),velocity:eW(t,.1)}}function tW(e){return e[0]}function EL(e){return e[e.length-1]}function eW(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const a=EL(e);for(;n>=0&&(i=e[n],!(a.timestamp-i.timestamp>gl(t)));)n--;if(!i)return{x:0,y:0};const r=vl(a.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const s={x:(a.x-i.x)/r,y:(a.y-i.y)/r};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function nW(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?di(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?di(n,e,i.max):Math.min(e,n)),e}function s6(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function iW(e,{top:t,left:n,bottom:i,right:a}){return{x:s6(e.x,n,a),y:s6(e.y,t,i)}}function o6(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function aW(e,t){return{x:o6(e.x,t.x),y:o6(e.y,t.y)}}function rW(e,t){let n=.5;const i=sr(e),a=sr(t);return a>i?n=hv(t.min,t.max-i,e.min):i>a&&(n=hv(e.min,e.max-a,t.min)),wc(0,1,n)}function sW(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const cC=.35;function oW(e=cC){return e===!1?e=0:e===!0&&(e=cC),{x:l6(e,"left","right"),y:l6(e,"top","bottom")}}function l6(e,t,n){return{min:c6(e,t),max:c6(e,n)}}function c6(e,t){return typeof e=="number"?e:e[t]||0}const lW=new WeakMap;class cW{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ti(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const r=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Uv(g).point)},s=(g,v)=>{const{drag:y,dragPropagation:b,onDragStart:w}=this.getProps();if(y&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=gK(y),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ts(C=>{let A=this.getAxisMotionValue(C).get()||0;if(yl.test(A)){const{projection:_}=this.visualElement;if(_&&_.layout){const M=_.layout.layoutBox[C];M&&(A=sr(M)*(parseFloat(A)/100))}}this.originPoint[C]=A}),w&&ri.postRender(()=>w(g,v)),oC(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},o=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:y,dragDirectionLock:b,onDirectionLock:w,onDrag:E}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:C}=v;if(b&&this.currentDirection===null){this.currentDirection=uW(C),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",v.point,C),this.updateAxis("y",v.point,C),this.visualElement.render(),E&&E(g,v)},c=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Ts(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new _L(t,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:i,contextWindow:wL(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,a=n||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!a||!i)return;const{velocity:s}=a;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&ri.postRender(()=>o(i,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:a}=this.getProps();if(!i||!Hb(t,a,this.currentDirection))return;const r=this.getAxisMotionValue(t);let s=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(s=nW(s,this.constraints[t],this.elastic[t])),r.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&wp(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=iW(i.layoutBox,t):this.constraints=!1,this.elastic=oW(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ts(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=sW(i.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!wp(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const r=uX(i,a.root,this.visualElement.getTransformPagePoint());let s=aW(a.layout.layoutBox,r);if(n){const o=n(oX(s));this.hasMutatedConstraints=!!o,o&&(s=lL(o))}return s}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:r,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},d=Ts(f=>{if(!Hb(f,n,this.currentDirection))return;let g=c&&c[f]||{};s&&(g={min:0,max:0});const v=a?200:1e6,y=a?40:1e7,b={type:"inertia",velocity:i?t[f]:0,bounceStiffness:v,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...r,...g};return this.startAxisValueAnimation(f,b)});return Promise.all(d).then(o)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return oC(this.visualElement,t),i.start(Q3(t,i,0,n,this.visualElement,!1))}stopAnimation(){Ts(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ts(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Ts(n=>{const{drag:i}=this.getProps();if(!Hb(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,r=this.getAxisMotionValue(n);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[n];r.set(t[n]-di(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!wp(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ts(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const c=o.get();a[s]=rW({min:c,max:c},this.constraints[s])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ts(s=>{if(!Hb(s,t,null))return;const o=this.getAxisMotionValue(s),{min:c,max:d}=this.constraints[s];o.set(di(c,d,a[s]))})}addListeners(){if(!this.visualElement.current)return;lW.set(this.visualElement,this);const t=this.visualElement.current,n=X0(t,"pointerdown",c=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();wp(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,r=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ri.read(i);const s=yv(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ts(f=>{const g=this.getAxisMotionValue(f);g&&(this.originPoint[f]+=c[f].translate,g.set(g.get()+c[f].translate))}),this.visualElement.render())});return()=>{s(),n(),r(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:r=!1,dragElastic:s=cC,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:r,dragElastic:s,dragMomentum:o}}}function Hb(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function uW(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class dW extends Hu{constructor(t){super(t),this.removeGroupControls=Os,this.removeListeners=Os,this.controls=new cW(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Os}unmount(){this.removeGroupControls(),this.removeListeners()}}const u6=e=>(t,n)=>{e&&ri.postRender(()=>e(t,n))};class hW extends Hu{constructor(){super(...arguments),this.removePointerDownListener=Os}onPointerDown(t){this.session=new _L(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wL(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:u6(t),onStart:u6(n),onMove:i,onEnd:(r,s)=>{delete this.session,a&&ri.postRender(()=>a(r,s))}}}mount(){this.removePointerDownListener=X0(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const x1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function d6(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const jg={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(xe.test(e))e=parseFloat(e);else return e;const n=d6(e,t.target.x),i=d6(e,t.target.y);return`${n}% ${i}%`}},fW={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,a=Lu.parse(e);if(a.length>5)return i;const r=Lu.createTransformer(e),s=typeof a[0]!="number"?1:0,o=n.x.scale*t.x,c=n.y.scale*t.y;a[0+s]/=o,a[1+s]/=c;const d=di(o,c,.5);return typeof a[2+s]=="number"&&(a[2+s]/=d),typeof a[3+s]=="number"&&(a[3+s]/=d),r(a)}};let h6=!1;class pW extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:r}=t;LK(mW),r&&(n.group&&n.group.add(r),i&&i.register&&a&&i.register(r),h6&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),x1.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:a,isPresent:r}=this.props,{projection:s}=i;return s&&(s.isPresent=r,h6=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==r?s.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?s.promote():s.relegate()||ri.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),z3.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function AL(e){const[t,n]=Kk(),i=j.useContext(y3);return L.jsx(pW,{...e,layoutGroup:i,switchLayoutGroup:j.useContext(sL),isPresent:t,safeToRemove:n})}const mW={borderRadius:{...jg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jg,borderTopRightRadius:jg,borderBottomLeftRadius:jg,borderBottomRightRadius:jg,boxShadow:fW};function gW(e,t,n){const i=Ba(e)?e:Lp(e);return i.start(Q3("",i,t,n)),i.animation}const vW=(e,t)=>e.depth-t.depth;class yW{constructor(){this.children=[],this.isDirty=!1}add(t){S3(this.children,t),this.isDirty=!0}remove(t){w3(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(vW),this.isDirty=!1,this.children.forEach(t)}}function bW(e,t){const n=Ar.now(),i=({timestamp:a})=>{const r=a-n;r>=t&&(ku(i),e(r-t))};return ri.setup(i,!0),()=>ku(i)}const CL=["TopLeft","TopRight","BottomLeft","BottomRight"],xW=CL.length,f6=e=>typeof e=="string"?parseFloat(e):e,p6=e=>typeof e=="number"||xe.test(e);function SW(e,t,n,i,a,r){a?(e.opacity=di(0,n.opacity??1,wW(i)),e.opacityExit=di(t.opacity??1,0,_W(i))):r&&(e.opacity=di(t.opacity??1,n.opacity??1,i));for(let s=0;s<xW;s++){const o=`border${CL[s]}Radius`;let c=m6(t,o),d=m6(n,o);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||p6(c)===p6(d)?(e[o]=Math.max(di(f6(c),f6(d),i),0),(yl.test(d)||yl.test(c))&&(e[o]+="%")):e[o]=d}(t.rotate||n.rotate)&&(e.rotate=di(t.rotate||0,n.rotate||0,i))}function m6(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const wW=TL(0,.5,pk),_W=TL(.5,.95,Os);function TL(e,t,n){return i=>i<e?0:i>t?1:n(hv(e,t,i))}function g6(e,t){e.min=t.min,e.max=t.max}function ws(e,t){g6(e.x,t.x),g6(e.y,t.y)}function v6(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function y6(e,t,n,i,a){return e-=t,e=I1(e,1/n,i),a!==void 0&&(e=I1(e,1/a,i)),e}function EW(e,t=0,n=1,i=.5,a,r=e,s=e){if(yl.test(t)&&(t=parseFloat(t),t=di(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=di(r.min,r.max,i);e===r&&(o-=t),e.min=y6(e.min,t,n,o,a),e.max=y6(e.max,t,n,o,a)}function b6(e,t,[n,i,a],r,s){EW(e,t[n],t[i],t[a],t.scale,r,s)}const AW=["x","scaleX","originX"],CW=["y","scaleY","originY"];function x6(e,t,n,i){b6(e.x,t,AW,n?n.x:void 0,i?i.x:void 0),b6(e.y,t,CW,n?n.y:void 0,i?i.y:void 0)}function S6(e){return e.translate===0&&e.scale===1}function RL(e){return S6(e.x)&&S6(e.y)}function w6(e,t){return e.min===t.min&&e.max===t.max}function TW(e,t){return w6(e.x,t.x)&&w6(e.y,t.y)}function _6(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ML(e,t){return _6(e.x,t.x)&&_6(e.y,t.y)}function E6(e){return sr(e.x)/sr(e.y)}function A6(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class RW{constructor(){this.members=[]}add(t){S3(this.members,t),t.scheduleRender()}remove(t){if(w3(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const r=this.members[a];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function MW(e,t,n){let i="";const a=e.x.translate/t.x,r=e.y.translate/t.y,s=n?.z||0;if((a||r||s)&&(i=`translate3d(${a}px, ${r}px, ${s}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:g,rotateY:v,skewX:y,skewY:b}=n;d&&(i=`perspective(${d}px) ${i}`),f&&(i+=`rotate(${f}deg) `),g&&(i+=`rotateX(${g}deg) `),v&&(i+=`rotateY(${v}deg) `),y&&(i+=`skewX(${y}deg) `),b&&(i+=`skewY(${b}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(i+=`scale(${o}, ${c})`),i||"none"}const NS=["","X","Y","Z"],DW=1e3;let OW=0;function PS(e,t,n,i){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),i&&(i[e]=0))}function DL(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=gL(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ri,!(a||r))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&DL(i)}function OL({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(s={},o=t?.()){this.id=OW++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(kW),this.nodes.forEach(BW),this.nodes.forEach(IW),this.nodes.forEach(LW)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new yW)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new A3),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const c=this.eventHandlers.get(s);c&&c.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=Yk(s)&&!wK(s),this.instance=s;const{layoutId:o,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),e){let f,g=0;const v=()=>this.root.updateBlockedByResize=!1;ri.read(()=>{g=window.innerWidth}),e(s,()=>{const y=window.innerWidth;y!==g&&(g=y,this.root.updateBlockedByResize=!0,f&&f(),f=bW(v,250),x1.hasAnimatedSinceResize&&(x1.hasAnimatedSinceResize=!1,this.nodes.forEach(R6)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&d&&(o||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||qW,{onLayoutAnimationStart:w,onLayoutAnimationComplete:E}=d.getProps(),C=!this.targetLayout||!ML(this.targetLayout,y),A=!g&&v;if(this.options.layoutRoot||this.resumeFrom||A||g&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...B3(b,"layout"),onPlay:w,onComplete:E};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(f,A)}else g||R6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ku(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zW),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const g=this.path[f];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(C6);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(T6);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(FW),this.nodes.forEach(NW),this.nodes.forEach(PW)):this.nodes.forEach(T6),this.clearAllSnapshots();const o=Ar.now();Sa.delta=wc(0,1e3/60,o-Sa.timestamp),Sa.timestamp=o,Sa.isProcessing=!0,wS.update.process(Sa),wS.preRender.process(Sa),wS.render.process(Sa),Sa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,z3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jW),this.sharedNodes.forEach(UW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ri.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ri.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!sr(this.snapshot.measuredBox.x)&&!sr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ti(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!RL(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;s&&this.instance&&(o||qd(this.latestValues)||f)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return s&&(c=this.removeTransform(c)),VW(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Ti();const o=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some($W))){const{scroll:d}=this.root;d&&(_p(o.x,d.offset.x),_p(o.y,d.offset.y))}return o}removeElementScroll(s){const o=Ti();if(ws(o,s),this.scroll?.wasRoot)return o;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:g}=d;d!==this.root&&f&&g.layoutScroll&&(f.wasRoot&&ws(o,s),_p(o.x,f.offset.x),_p(o.y,f.offset.y))}return o}applyTransform(s,o=!1){const c=Ti();ws(c,s);for(let d=0;d<this.path.length;d++){const f=this.path[d];!o&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Ep(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),qd(f.latestValues)&&Ep(c,f.latestValues)}return qd(this.latestValues)&&Ep(c,this.latestValues),c}removeTransform(s){const o=Ti();ws(o,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!qd(d.latestValues))continue;iC(d.latestValues)&&d.updateSnapshot();const f=Ti(),g=d.measurePageBox();ws(f,g),x6(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return qd(this.latestValues)&&x6(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:g}=this.options;if(!(!this.layout||!(f||g))){if(this.resolvedRelativeTargetAt=Sa.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ti(),this.relativeTargetOrigin=Ti(),Q0(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),ws(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ti(),this.targetWithTransforms=Ti()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ZX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ws(this.target,this.layout.layoutBox),uL(this.target,this.targetDelta)):ws(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ti(),this.relativeTargetOrigin=Ti(),Q0(this.relativeTargetOrigin,this.target,v.target),ws(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||iC(this.parent.latestValues)||cL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const s=this.getLead(),o=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Sa.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;ws(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;cX(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Ti());const{target:y}=s;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(v6(this.prevProjectionDelta.x,this.projectionDelta.x),v6(this.prevProjectionDelta.y,this.projectionDelta.y)),W0(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!A6(this.projectionDelta.x,this.prevProjectionDelta.x)||!A6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ap(),this.projectionDelta=Ap(),this.projectionDeltaWithTransform=Ap()}setAnimationOrigin(s,o=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},g=Ap();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const v=Ti(),y=c?c.source:void 0,b=this.layout?this.layout.source:void 0,w=y!==b,E=this.getStack(),C=!E||E.members.length<=1,A=!!(w&&!C&&this.options.crossfade===!0&&!this.path.some(GW));this.animationProgress=0;let _;this.mixTargetDelta=M=>{const D=M/1e3;M6(g.x,s.x,D),M6(g.y,s.y,D),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Q0(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),HW(this.relativeTarget,this.relativeTargetOrigin,v,D),_&&TW(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Ti()),ws(_,this.relativeTarget)),w&&(this.animationValues=f,SW(f,d,this.latestValues,D,A,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ku(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ri.update(()=>{x1.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Lp(0)),this.currentAnimation=gW(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(DW),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:c,layout:d,latestValues:f}=s;if(!(!o||!c||!d)){if(this!==s&&this.layout&&d&&NL(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ti();const g=sr(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+g;const v=sr(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+v}ws(o,c),Ep(o,f),W0(this.projectionDeltaWithTransform,this.layoutCorrected,o,f)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new RW),this.sharedNodes.get(s).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){const{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const d={};c.z&&PS("z",s,d,this.animationValues);for(let f=0;f<NS.length;f++)PS(`rotate${NS[f]}`,s,d,this.animationValues),PS(`skew${NS[f]}`,s,d,this.animationValues);s.render();for(const f in d)s.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);s.scheduleRender()}applyProjectionStyles(s,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=b1(o?.pointerEvents)||"",s.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=b1(o?.pointerEvents)||""),this.hasProjected&&!qd(this.latestValues)&&(s.transform=c?c({},""):"none",this.hasProjected=!1);return}s.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let g=MW(this.projectionDeltaWithTransform,this.treeScale,f);c&&(g=c(f,g)),s.transform=g;const{x:v,y}=this.projectionDelta;s.transformOrigin=`${v.origin*100}% ${y.origin*100}% 0`,d.animationValues?s.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:s.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const b in gv){if(f[b]===void 0)continue;const{correct:w,applyTo:E,isCSSVariable:C}=gv[b],A=g==="none"?f[b]:w(f[b],d);if(E){const _=E.length;for(let M=0;M<_;M++)s[E[M]]=A}else C?this.options.visualElement.renderState.vars[b]=A:s[b]=A}this.options.layoutId&&(s.pointerEvents=d===this?b1(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(C6),this.root.sharedNodes.clear()}}}function NW(e){e.updateLayout()}function PW(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,r=t.source!==e.layout.source;a==="size"?Ts(f=>{const g=r?t.measuredBox[f]:t.layoutBox[f],v=sr(g);g.min=n[f].min,g.max=g.min+v}):NL(a,t.layoutBox,n)&&Ts(f=>{const g=r?t.measuredBox[f]:t.layoutBox[f],v=sr(n[f]);g.max=g.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+v)});const s=Ap();W0(s,n,t.layoutBox);const o=Ap();r?W0(o,e.applyTransform(i,!0),t.measuredBox):W0(o,n,t.layoutBox);const c=!RL(s);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:g,layout:v}=f;if(g&&v){const y=Ti();Q0(y,t.layoutBox,g.layoutBox);const b=Ti();Q0(b,n,v.layoutBox),ML(y,b)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=y,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:o,layoutDelta:s,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function kW(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function LW(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function jW(e){e.clearSnapshot()}function C6(e){e.clearMeasurements()}function T6(e){e.isLayoutDirty=!1}function FW(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function R6(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function BW(e){e.resolveTargetDelta()}function IW(e){e.calcProjection()}function zW(e){e.resetSkewAndRotation()}function UW(e){e.removeLeadSnapshot()}function M6(e,t,n){e.translate=di(t.translate,0,n),e.scale=di(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function D6(e,t,n,i){e.min=di(t.min,n.min,i),e.max=di(t.max,n.max,i)}function HW(e,t,n,i){D6(e.x,t.x,n.x,i),D6(e.y,t.y,n.y,i)}function GW(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const qW={duration:.45,ease:[.4,0,.1,1]},O6=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),N6=O6("applewebkit/")&&!O6("chrome/")?Math.round:Os;function P6(e){e.min=N6(e.min),e.max=N6(e.max)}function VW(e){P6(e.x),P6(e.y)}function NL(e,t,n){return e==="position"||e==="preserve-aspect"&&!QX(E6(t),E6(n),.2)}function $W(e){return e!==e.root&&e.scroll?.wasRoot}const YW=OL({attachResizeListener:(e,t)=>yv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kS={current:void 0},PL=OL({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!kS.current){const e=new YW({});e.mount(window),e.setOptions({layoutScroll:!0}),kS.current=e}return kS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),KW={pan:{Feature:hW},drag:{Feature:dW,ProjectionNode:PL,MeasureLayout:AL}};function k6(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,r=i[a];r&&ri.postRender(()=>r(t,Uv(t)))}class XW extends Hu{mount(){const{current:t}=this.node;t&&(this.unmount=vK(t,(n,i)=>(k6(this.node,i,"Start"),a=>k6(this.node,a,"End"))))}unmount(){}}class WW extends Hu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bv(yv(this.node.current,"focus",()=>this.onFocus()),yv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function L6(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),r=i[a];r&&ri.postRender(()=>r(t,Uv(t)))}class QW extends Hu{mount(){const{current:t}=this.node;t&&(this.unmount=SK(t,(n,i)=>(L6(this.node,i,"Start"),(a,{success:r})=>L6(this.node,a,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const uC=new WeakMap,LS=new WeakMap,ZW=e=>{const t=uC.get(e.target);t&&t(e)},JW=e=>{e.forEach(ZW)};function tQ({root:e,...t}){const n=e||document;LS.has(n)||LS.set(n,{});const i=LS.get(n),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver(JW,{root:e,...t})),i[a]}function eQ(e,t,n){const i=tQ(t);return uC.set(e,n),i.observe(e),()=>{uC.delete(e),i.unobserve(e)}}const nQ={some:0,all:1};class iQ extends Hu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:r}=t,s={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:nQ[a]},o=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,r&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:g}=this.node.getProps(),v=d?f:g;v&&v(c)};return eQ(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(aQ(t,n))&&this.startObserver()}unmount(){}}function aQ({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const rQ={inView:{Feature:iQ},tap:{Feature:QW},focus:{Feature:WW},hover:{Feature:XW}},sQ={layout:{ProjectionNode:PL,MeasureLayout:AL}},oQ={...VX,...rQ,...KW,...sQ},xn=sX(oQ,bX),j6=["Nos alegra verte de vuelta!","Tu creatividad comienza aqu.","Bienvenido a Ntropia!","Haz tus ideas realidad."];function lQ(){const[e,t]=j.useState(""),[n,i]=j.useState(""),[a,r]=j.useState(!1),[s,o]=j.useState(""),c=_h(),d=T$(),f=j.useMemo(()=>j6[Math.floor(Math.random()*j6.length)],[]),g=v=>{v.preventDefault(),o(""),d.mutate({email:e,password:n},{onSuccess:()=>{c("/dashboard")},onError:()=>{o("Correo o contrasea incorrectos.")}})};return L.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-900 via-indigo-900 to-sky-600",children:L.jsxs(xn.div,{className:"bg-white/90 shadow-2xl rounded-2xl p-8 max-w-sm w-full",initial:{opacity:0,scale:.98,y:40},animate:{opacity:1,scale:1,y:0},transition:{duration:.4},children:[L.jsxs("div",{className:"flex flex-col items-center mb-6",children:[L.jsx(X4,{className:"h-12 w-12 text-sky-600 mb-2 animate-pulse"}),L.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Iniciar Sesin"}),L.jsx(xn.p,{className:"text-gray-500 text-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},children:f})]}),L.jsxs("form",{className:"space-y-4",onSubmit:g,autoComplete:"on",children:[L.jsxs("div",{className:"relative",children:[L.jsx(pP,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),L.jsx("input",{type:"email",className:`w-full py-2 pl-10 pr-3 rounded-xl border ${s?"border-red-400":"border-gray-300"} focus:ring-2 focus:ring-sky-500 outline-none`,placeholder:"Correo electrnico",value:e,onChange:v=>t(v.target.value),autoFocus:!0,required:!0,autoComplete:"username",disabled:d.isPending})]}),L.jsxs("div",{className:"relative",children:[L.jsx(kp,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),L.jsx("input",{type:a?"text":"password",className:`w-full py-2 pl-10 pr-10 rounded-xl border ${s?"border-red-400":"border-gray-300"} focus:ring-2 focus:ring-sky-500 outline-none`,placeholder:"Contrasea",value:n,onChange:v=>i(v.target.value),required:!0,autoComplete:"current-password",disabled:d.isPending,onKeyDown:v=>{v.key==="Enter"&&g(v)}}),L.jsx("button",{type:"button",tabIndex:-1,"aria-label":a?"Ocultar contrasea":"Mostrar contrasea",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-sky-600",onClick:()=>r(v=>!v),children:a?L.jsx(Pp,{className:"w-5 h-5"}):L.jsx(dh,{className:"w-5 h-5"})})]}),L.jsx(Dx,{children:s&&L.jsx(xn.div,{className:"text-red-600 text-sm text-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:s})}),L.jsxs("button",{type:"submit",disabled:d.isPending,className:"w-full bg-sky-600 hover:bg-sky-700 text-white py-2 rounded-xl font-bold transition-all shadow-md flex items-center justify-center gap-2 disabled:opacity-70",children:[L.jsx(X4,{className:"w-5 h-5"}),d.isPending?"Entrando...":"Entrar"]})]}),L.jsxs("div",{className:"text-center text-sm mt-6 text-gray-500",children:["No tienes cuenta?"," ",L.jsx(Sx,{to:"/register",className:"text-sky-600 font-bold hover:underline",children:"Regstrate aqu"})]})]})})}const F6=["Regstrate y crea sin lmites!","Construye tus ideas con Ntropia.","Haz crecer tu creatividad.","Una cuenta, infinitas posibilidades."];function cQ(){const[e,t]=j.useState(""),[n,i]=j.useState(""),[a,r]=j.useState(""),[s,o]=j.useState(!1),[c,d]=j.useState(!1),[f,g]=j.useState(""),[v,y]=j.useState(""),[b,w]=j.useState(""),[E,C]=j.useState(""),[A,_]=j.useState(""),M=_h(),D=R$(),P=j.useMemo(()=>F6[Math.floor(Math.random()*F6.length)],[]),B=k=>{if(k.preventDefault(),w(""),C(""),!/\S+@\S+\.\S+/.test(e)){w("Ingresa un correo electrnico vlido.");return}if(n!==a){w("Las contraseas no coinciden.");return}D.mutate({email:e,password:n,first_name:f,last_name:v||""},{onSuccess:()=>{C("Usuario registrado correctamente! Ahora puedes iniciar sesin."),setTimeout(()=>M("/login"),1800)},onError:()=>{w("No se pudo registrar. Contacta al administrador.")}})};return L.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-sky-600 via-indigo-900 to-purple-900",children:L.jsxs(xn.div,{className:"bg-white/90 shadow-2xl rounded-2xl p-8 max-w-sm w-full",initial:{opacity:0,scale:.98,y:40},animate:{opacity:1,scale:1,y:0},transition:{duration:.4},children:[L.jsxs("div",{className:"flex flex-col items-center mb-6",children:[L.jsx(Q4,{className:"h-12 w-12 text-purple-600 mb-2 animate-pulse"}),L.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Crear Cuenta"}),L.jsx(xn.p,{className:"text-gray-500 text-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},children:P})]}),L.jsxs("form",{className:"space-y-4",onSubmit:B,autoComplete:"on",children:[L.jsxs("div",{className:"relative",children:[L.jsx(Z4,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),L.jsx("input",{type:"text",className:`w-full py-2 pl-10 pr-3 rounded-xl border ${b&&!f?"border-red-400":"border-gray-300"} focus:ring-2 focus:ring-purple-500 outline-none`,placeholder:"Nombre",value:f,autoFocus:!0,onChange:k=>g(k.target.value),required:!0,autoComplete:"given-name",disabled:D.isPending})]}),L.jsxs("div",{className:"relative",children:[L.jsx(Z4,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),L.jsx("input",{type:"text",className:`w-full py-2 pl-10 pr-3 rounded-xl border ${b&&!v?"border-red-400":"border-gray-300"} focus:ring-2 focus:ring-purple-500 outline-none`,placeholder:"Apellidos",value:v,onChange:k=>y(k.target.value),required:!0,autoComplete:"family-name",disabled:D.isPending})]}),L.jsxs("div",{className:"relative",children:[L.jsx(pP,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),L.jsx("input",{type:"email",className:`w-full py-2 pl-10 pr-3 rounded-xl border ${b&&b.toLowerCase().includes("correo")?"border-red-400":"border-gray-300"} focus:ring-2 focus:ring-purple-500 outline-none`,placeholder:"Correo electrnico",value:e,onChange:k=>t(k.target.value),required:!0,autoComplete:"email",disabled:D.isPending})]}),L.jsxs("div",{className:"relative",children:[L.jsx(kp,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),L.jsx("input",{type:s?"text":"password",className:`w-full py-2 pl-10 pr-10 rounded-xl border ${b&&b.toLowerCase().includes("contrasea")?"border-red-400":"border-gray-300"} focus:ring-2 focus:ring-purple-500 outline-none`,placeholder:"Contrasea",value:n,onChange:k=>{i(k.target.value),a&&k.target.value===a&&_("")},required:!0,autoComplete:"new-password",disabled:D.isPending}),L.jsx("button",{type:"button",tabIndex:-1,"aria-label":s?"Ocultar contrasea":"Mostrar contrasea",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-purple-600",onClick:()=>o(k=>!k),children:s?L.jsx(Pp,{className:"w-5 h-5"}):L.jsx(dh,{className:"w-5 h-5"})})]}),L.jsxs("div",{className:"relative",children:[L.jsx(kp,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),L.jsx("input",{type:c?"text":"password",className:`w-full py-2 pl-10 pr-10 rounded-xl border ${b&&b.toLowerCase().includes("contrasea")?"border-red-400":"border-gray-300"} focus:ring-2 focus:ring-purple-500 outline-none`,placeholder:"Confirmar contrasea",value:a,onChange:k=>r(k.target.value),required:!0,autoComplete:"new-password",onBlur:()=>{_(a&&a!==n?"Las contraseas no coinciden.":"")},disabled:D.isPending}),L.jsx("button",{type:"button",tabIndex:-1,"aria-label":c?"Ocultar contrasea":"Mostrar contrasea",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-purple-600",onClick:()=>d(k=>!k),children:c?L.jsx(Pp,{className:"w-5 h-5"}):L.jsx(dh,{className:"w-5 h-5"})})]}),A&&L.jsx("div",{className:"text-red-500 text-xs pl-2 mt-1",children:A}),L.jsxs(Dx,{children:[b&&L.jsx(xn.div,{className:"text-red-600 text-sm text-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:b}),E&&L.jsx(xn.div,{className:"text-green-600 text-sm text-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:E})]}),L.jsxs("button",{type:"submit",disabled:D.isPending,className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-2 rounded-xl font-bold transition-all shadow-md flex items-center justify-center gap-2 disabled:opacity-70",children:[L.jsx(Q4,{className:"w-5 h-5"}),D.isPending?"Registrando...":"Crear cuenta"]})]}),L.jsxs("div",{className:"text-center text-sm mt-6 text-gray-500",children:["Ya tienes cuenta?"," ",L.jsx(Sx,{to:"/login",className:"text-purple-600 font-bold hover:underline",children:"Inicia sesin aqu"})]})]})})}function kL(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=kL(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function B6(){for(var e,t,n=0,i="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=kL(e))&&(i&&(i+=" "),i+=t);return i}var uQ=Object.defineProperty,dQ=(e,t,n)=>t in e?uQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jS=(e,t,n)=>(dQ(e,typeof t!="symbol"?t+"":t,n),n);let hQ=class{constructor(){jS(this,"current",this.detect()),jS(this,"handoffState","pending"),jS(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},lh=new hQ;function kx(e){var t,n;return lh.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function Lx(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Cc(){let e=[],t={addEventListener(n,i,a,r){return n.addEventListener(i,a,r),t.add(()=>n.removeEventListener(i,a,r))},requestAnimationFrame(...n){let i=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(i))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let i=setTimeout(...n);return t.add(()=>clearTimeout(i))},microTask(...n){let i={current:!0};return Lx(()=>{i.current&&n[0]()}),t.add(()=>{i.current=!1})},style(n,i,a){let r=n.style.getPropertyValue(i);return Object.assign(n.style,{[i]:a}),this.add(()=>{Object.assign(n.style,{[i]:r})})},group(n){let i=Cc();return n(i),this.add(()=>i.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let i=e.indexOf(n);if(i>=0)for(let a of e.splice(i,1))a()}},dispose(){for(let n of e.splice(0))n()}};return t}function Z3(){let[e]=j.useState(Cc);return j.useEffect(()=>()=>e.dispose(),[e]),e}let Ia=(e,t)=>{lh.isServer?j.useEffect(e,t):j.useLayoutEffect(e,t)};function Eh(e){let t=j.useRef(e);return Ia(()=>{t.current=e},[e]),t}let Vn=function(e){let t=Eh(e);return Y.useCallback((...n)=>t.current(...n),[t])},fQ=j.createContext(void 0);function pQ(){return j.useContext(fQ)}function dC(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Ec(e,t,...n){if(e in t){let a=t[e];return typeof a=="function"?a(...n):a}let i=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Ec),i}var z1=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(z1||{}),Tu=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Tu||{});function Ls(){let e=gQ();return j.useCallback(t=>mQ({mergeRefs:e,...t}),[e])}function mQ({ourProps:e,theirProps:t,slot:n,defaultTag:i,features:a,visible:r=!0,name:s,mergeRefs:o}){o=o??vQ;let c=LL(t,e);if(r)return Gb(c,n,i,s,o);let d=a??0;if(d&2){let{static:f=!1,...g}=c;if(f)return Gb(g,n,i,s,o)}if(d&1){let{unmount:f=!0,...g}=c;return Ec(f?0:1,{0(){return null},1(){return Gb({...g,hidden:!0,style:{display:"none"}},n,i,s,o)}})}return Gb(c,n,i,s,o)}function Gb(e,t={},n,i,a){let{as:r=n,children:s,refName:o="ref",...c}=FS(e,["unmount","static"]),d=e.ref!==void 0?{[o]:e.ref}:{},f=typeof s=="function"?s(t):s;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let g={};if(t){let v=!1,y=[];for(let[b,w]of Object.entries(t))typeof w=="boolean"&&(v=!0),w===!0&&y.push(b.replace(/([A-Z])/g,E=>`-${E.toLowerCase()}`));if(v){g["data-headlessui-state"]=y.join(" ");for(let b of y)g[`data-${b}`]=""}}if(r===j.Fragment&&(Object.keys(Vd(c)).length>0||Object.keys(Vd(g)).length>0))if(!j.isValidElement(f)||Array.isArray(f)&&f.length>1){if(Object.keys(Vd(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Vd(c)).concat(Object.keys(Vd(g))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=f.props,y=v?.className,b=typeof y=="function"?(...C)=>dC(y(...C),c.className):dC(y,c.className),w=b?{className:b}:{},E=LL(f.props,Vd(FS(c,["ref"])));for(let C in g)C in E&&delete g[C];return j.cloneElement(f,Object.assign({},E,g,d,{ref:a(yQ(f),d.ref)},w))}return j.createElement(r,Object.assign({},FS(c,["ref"]),r!==j.Fragment&&d,r!==j.Fragment&&g),f)}function gQ(){let e=j.useRef([]),t=j.useCallback(n=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(n):i.current=n)},[]);return(...n)=>{if(!n.every(i=>i==null))return e.current=n,t}}function vQ(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function LL(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let i of e)for(let a in i)a.startsWith("on")&&typeof i[a]=="function"?(n[a]!=null||(n[a]=[]),n[a].push(i[a])):t[a]=i[a];if(t.disabled||t["aria-disabled"])for(let i in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(n[i]=[a=>{var r;return(r=a?.preventDefault)==null?void 0:r.call(a)}]);for(let i in n)Object.assign(t,{[i](a,...r){let s=n[i];for(let o of s){if((a instanceof Event||a?.nativeEvent instanceof Event)&&a.defaultPrevented)return;o(a,...r)}}});return t}function Rr(e){var t;return Object.assign(j.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Vd(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function FS(e,t=[]){let n=Object.assign({},e);for(let i of t)i in n&&delete n[i];return n}function yQ(e){return Y.version.split(".")[0]>="19"?e.props.ref:e.ref}let bQ="span";var U1=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(U1||{});function xQ(e,t){var n;let{features:i=1,...a}=e,r={ref:t,"aria-hidden":(i&2)===2?!0:(n=a["aria-hidden"])!=null?n:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return Ls()({ourProps:r,theirProps:a,slot:{},defaultTag:bQ,name:"Hidden"})}let hC=Rr(xQ);function jL(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function Ou(e){return jL(e)&&"tagName"in e}function mh(e){return Ou(e)&&"accessKey"in e}function Ru(e){return Ou(e)&&"tabIndex"in e}function SQ(e){return Ou(e)&&"style"in e}function wQ(e){return mh(e)&&e.nodeName==="IFRAME"}function _Q(e){return mh(e)&&e.nodeName==="INPUT"}let FL=Symbol();function EQ(e,t=!0){return Object.assign(e,{[FL]:t})}function Cl(...e){let t=j.useRef(e);j.useEffect(()=>{t.current=e},[e]);let n=Vn(i=>{for(let a of t.current)a!=null&&(typeof a=="function"?a(i):a.current=i)});return e.every(i=>i==null||i?.[FL])?void 0:n}let J3=j.createContext(null);J3.displayName="DescriptionContext";function BL(){let e=j.useContext(J3);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,BL),t}return e}function AQ(){let[e,t]=j.useState([]);return[e.length>0?e.join(" "):void 0,j.useMemo(()=>function(n){let i=Vn(r=>(t(s=>[...s,r]),()=>t(s=>{let o=s.slice(),c=o.indexOf(r);return c!==-1&&o.splice(c,1),o}))),a=j.useMemo(()=>({register:i,slot:n.slot,name:n.name,props:n.props,value:n.value}),[i,n.slot,n.name,n.props,n.value]);return Y.createElement(J3.Provider,{value:a},n.children)},[t])]}let CQ="p";function TQ(e,t){let n=j.useId(),i=pQ(),{id:a=`headlessui-description-${n}`,...r}=e,s=BL(),o=Cl(t);Ia(()=>s.register(a),[a,s.register]);let c=i||!1,d=j.useMemo(()=>({...s.slot,disabled:c}),[s.slot,c]),f={ref:o,...s.props,id:a};return Ls()({ourProps:f,theirProps:r,slot:d,defaultTag:CQ,name:s.name||"Description"})}let RQ=Rr(TQ),MQ=Object.assign(RQ,{});var IL=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(IL||{});let DQ=j.createContext(()=>{});function OQ({value:e,children:t}){return Y.createElement(DQ.Provider,{value:e},t)}let zL=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var NQ=Object.defineProperty,PQ=(e,t,n)=>t in e?NQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kQ=(e,t,n)=>(PQ(e,t+"",n),n),UL=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},_s=(e,t,n)=>(UL(e,t,"read from private field"),n?n.call(e):t.get(e)),BS=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},I6=(e,t,n,i)=>(UL(e,t,"write to private field"),t.set(e,n),n),fl,L0,j0;let LQ=class{constructor(t){BS(this,fl,{}),BS(this,L0,new zL(()=>new Set)),BS(this,j0,new Set),kQ(this,"disposables",Cc()),I6(this,fl,t)}dispose(){this.disposables.dispose()}get state(){return _s(this,fl)}subscribe(t,n){let i={selector:t,callback:n,current:t(_s(this,fl))};return _s(this,j0).add(i),this.disposables.add(()=>{_s(this,j0).delete(i)})}on(t,n){return _s(this,L0).get(t).add(n),this.disposables.add(()=>{_s(this,L0).get(t).delete(n)})}send(t){let n=this.reduce(_s(this,fl),t);if(n!==_s(this,fl)){I6(this,fl,n);for(let i of _s(this,j0)){let a=i.selector(_s(this,fl));HL(i.current,a)||(i.current=a,i.callback(a))}for(let i of _s(this,L0).get(t.type))i(_s(this,fl),t)}}};fl=new WeakMap,L0=new WeakMap,j0=new WeakMap;function HL(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:IS(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:IS(e.entries(),t.entries()):z6(e)&&z6(t)?IS(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function IS(e,t){do{let n=e.next(),i=t.next();if(n.done&&i.done)return!0;if(n.done||i.done||!Object.is(n.value,i.value))return!1}while(!0)}function z6(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var jQ=Object.defineProperty,FQ=(e,t,n)=>t in e?jQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U6=(e,t,n)=>(FQ(e,typeof t!="symbol"?t+"":t,n),n),BQ=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(BQ||{});let IQ={0(e,t){let n=t.id,i=e.stack,a=e.stack.indexOf(n);if(a!==-1){let r=e.stack.slice();return r.splice(a,1),r.push(n),i=r,{...e,stack:i}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,i=e.stack.indexOf(n);if(i===-1)return e;let a=e.stack.slice();return a.splice(i,1),{...e,stack:a}}},zQ=class GL extends LQ{constructor(){super(...arguments),U6(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),U6(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new GL({stack:[]})}reduce(t,n){return Ec(n.type,IQ,t,n)}};const qL=new zL(()=>zQ.new());var zS={exports:{}},US={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H6;function UQ(){if(H6)return US;H6=1;var e=El();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,a=e.useRef,r=e.useEffect,s=e.useMemo,o=e.useDebugValue;return US.useSyncExternalStoreWithSelector=function(c,d,f,g,v){var y=a(null);if(y.current===null){var b={hasValue:!1,value:null};y.current=b}else b=y.current;y=s(function(){function E(D){if(!C){if(C=!0,A=D,D=g(D),v!==void 0&&b.hasValue){var P=b.value;if(v(P,D))return _=P}return _=D}if(P=_,n(A,D))return P;var B=g(D);return v!==void 0&&v(P,B)?(A=D,P):(A=D,_=B)}var C=!1,A,_,M=f===void 0?null:f;return[function(){return E(d())},M===null?void 0:function(){return E(M())}]},[d,f,g,v]);var w=i(c,y[0],y[1]);return r(function(){b.hasValue=!0,b.value=w},[w]),o(w),w},US}var G6;function HQ(){return G6||(G6=1,zS.exports=UQ()),zS.exports}var GQ=HQ();function VL(e,t,n=HL){return GQ.useSyncExternalStoreWithSelector(Vn(i=>e.subscribe(qQ,i)),Vn(()=>e.state),Vn(()=>e.state),Vn(t),n)}function qQ(e){return e}function Hv(e,t){let n=j.useId(),i=qL.get(t),[a,r]=VL(i,j.useCallback(s=>[i.selectors.isTop(s,n),i.selectors.inStack(s,n)],[i,n]));return Ia(()=>{if(e)return i.actions.push(n),()=>i.actions.pop(n)},[i,e,n]),e?r?a:!0:!1}let fC=new Map,Z0=new Map;function q6(e){var t;let n=(t=Z0.get(e))!=null?t:0;return Z0.set(e,n+1),n!==0?()=>V6(e):(fC.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>V6(e))}function V6(e){var t;let n=(t=Z0.get(e))!=null?t:1;if(n===1?Z0.delete(e):Z0.set(e,n-1),n!==1)return;let i=fC.get(e);i&&(i["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",i["aria-hidden"]),e.inert=i.inert,fC.delete(e))}function VQ(e,{allowed:t,disallowed:n}={}){let i=Hv(e,"inert-others");Ia(()=>{var a,r;if(!i)return;let s=Cc();for(let c of(a=n?.())!=null?a:[])c&&s.add(q6(c));let o=(r=t?.())!=null?r:[];for(let c of o){if(!c)continue;let d=kx(c);if(!d)continue;let f=c.parentElement;for(;f&&f!==d.body;){for(let g of f.children)o.some(v=>g.contains(v))||s.add(q6(g));f=f.parentElement}}return s.dispose},[i,t,n])}function $Q(e,t,n){let i=Eh(a=>{let r=a.getBoundingClientRect();r.x===0&&r.y===0&&r.width===0&&r.height===0&&n()});j.useEffect(()=>{if(!e)return;let a=t===null?null:mh(t)?t:t.current;if(!a)return;let r=Cc();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>i.current(a));s.observe(a),r.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>i.current(a));s.observe(a),r.add(()=>s.disconnect())}return()=>r.dispose()},[t,i,e])}let H1=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),YQ=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var yc=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(yc||{}),pC=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(pC||{}),KQ=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(KQ||{});function XQ(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(H1)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function WQ(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(YQ)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var $L=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))($L||{});function QQ(e,t=0){var n;return e===((n=kx(e))==null?void 0:n.body)?!1:Ec(t,{0(){return e.matches(H1)},1(){let i=e;for(;i!==null;){if(i.matches(H1))return!0;i=i.parentElement}return!1}})}var ZQ=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(ZQ||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function xc(e){e?.focus({preventScroll:!0})}let JQ=["textarea","input"].join(",");function tZ(e){var t,n;return(n=(t=e?.matches)==null?void 0:t.call(e,JQ))!=null?n:!1}function eZ(e,t=n=>n){return e.slice().sort((n,i)=>{let a=t(n),r=t(i);if(a===null||r===null)return 0;let s=a.compareDocumentPosition(r);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function J0(e,t,{sorted:n=!0,relativeTo:i=null,skipElements:a=[]}={}){let r=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?n?eZ(e):e:t&64?WQ(e):XQ(e);a.length>0&&s.length>1&&(s=s.filter(y=>!a.some(b=>b!=null&&"current"in b?b?.current===y:b===y))),i=i??r.activeElement;let o=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,s.indexOf(i))-1;if(t&4)return Math.max(0,s.indexOf(i))+1;if(t&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},f=0,g=s.length,v;do{if(f>=g||f+g<=0)return 0;let y=c+f;if(t&16)y=(y+g)%g;else{if(y<0)return 3;if(y>=g)return 1}v=s[y],v?.focus(d),f+=o}while(v!==r.activeElement);return t&6&&tZ(v)&&v.select(),2}function YL(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function nZ(){return/Android/gi.test(window.navigator.userAgent)}function $6(){return YL()||nZ()}function qb(e,t,n,i){let a=Eh(n);j.useEffect(()=>{if(!e)return;function r(s){a.current(s)}return document.addEventListener(t,r,i),()=>document.removeEventListener(t,r,i)},[e,t,i])}function KL(e,t,n,i){let a=Eh(n);j.useEffect(()=>{if(!e)return;function r(s){a.current(s)}return window.addEventListener(t,r,i),()=>window.removeEventListener(t,r,i)},[e,t,i])}const Y6=30;function iZ(e,t,n){let i=Eh(n),a=j.useCallback(function(o,c){if(o.defaultPrevented)return;let d=c(o);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let f=function g(v){return typeof v=="function"?g(v()):Array.isArray(v)||v instanceof Set?v:[v]}(t);for(let g of f)if(g!==null&&(g.contains(d)||o.composed&&o.composedPath().includes(g)))return;return!QQ(d,$L.Loose)&&d.tabIndex!==-1&&o.preventDefault(),i.current(o,d)},[i,t]),r=j.useRef(null);qb(e,"pointerdown",o=>{var c,d;$6()||(r.current=((d=(c=o.composedPath)==null?void 0:c.call(o))==null?void 0:d[0])||o.target)},!0),qb(e,"pointerup",o=>{if($6()||!r.current)return;let c=r.current;return r.current=null,a(o,()=>c)},!0);let s=j.useRef({x:0,y:0});qb(e,"touchstart",o=>{s.current.x=o.touches[0].clientX,s.current.y=o.touches[0].clientY},!0),qb(e,"touchend",o=>{let c={x:o.changedTouches[0].clientX,y:o.changedTouches[0].clientY};if(!(Math.abs(c.x-s.current.x)>=Y6||Math.abs(c.y-s.current.y)>=Y6))return a(o,()=>Ru(o.target)?o.target:null)},!0),KL(e,"blur",o=>a(o,()=>wQ(window.document.activeElement)?window.document.activeElement:null),!0)}function jx(...e){return j.useMemo(()=>kx(...e),[...e])}function XL(e,t,n,i){let a=Eh(n);j.useEffect(()=>{e=e??window;function r(s){a.current(s)}return e.addEventListener(t,r,i),()=>e.removeEventListener(t,r,i)},[e,t,i])}function aZ(e){return j.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function rZ(e,t){let n=e(),i=new Set;return{getSnapshot(){return n},subscribe(a){return i.add(a),()=>i.delete(a)},dispatch(a,...r){let s=t[a].call(n,...r);s&&(n=s,i.forEach(o=>o()))}}}function sZ(){let e;return{before({doc:t}){var n;let i=t.documentElement,a=(n=t.defaultView)!=null?n:window;e=Math.max(0,a.innerWidth-i.clientWidth)},after({doc:t,d:n}){let i=t.documentElement,a=Math.max(0,i.clientWidth-i.offsetWidth),r=Math.max(0,e-a);n.style(i,"paddingRight",`${r}px`)}}}function oZ(){return YL()?{before({doc:e,d:t,meta:n}){function i(a){return n.containers.flatMap(r=>r()).some(r=>r.contains(a))}t.microTask(()=>{var a;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let o=Cc();o.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>o.dispose()))}let r=(a=window.scrollY)!=null?a:window.pageYOffset,s=null;t.addEventListener(e,"click",o=>{if(Ru(o.target))try{let c=o.target.closest("a");if(!c)return;let{hash:d}=new URL(c.href),f=e.querySelector(d);Ru(f)&&!i(f)&&(s=f)}catch{}},!0),t.addEventListener(e,"touchstart",o=>{if(Ru(o.target)&&SQ(o.target))if(i(o.target)){let c=o.target;for(;c.parentElement&&i(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(o.target,"touchAction","none")}),t.addEventListener(e,"touchmove",o=>{if(Ru(o.target)){if(_Q(o.target))return;if(i(o.target)){let c=o.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&o.preventDefault()}else o.preventDefault()}},{passive:!1}),t.add(()=>{var o;let c=(o=window.scrollY)!=null?o:window.pageYOffset;r!==c&&window.scrollTo(0,r),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function lZ(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function cZ(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Zd=rZ(()=>new Map,{PUSH(e,t){var n;let i=(n=this.get(e))!=null?n:{doc:e,count:0,d:Cc(),meta:new Set};return i.count++,i.meta.add(t),this.set(e,i),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let i={doc:e,d:t,meta:cZ(n)},a=[oZ(),sZ(),lZ()];a.forEach(({before:r})=>r?.(i)),a.forEach(({after:r})=>r?.(i))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Zd.subscribe(()=>{let e=Zd.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let i=t.get(n.doc)==="hidden",a=n.count!==0;(a&&!i||!a&&i)&&Zd.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Zd.dispatch("TEARDOWN",n)}});function uZ(e,t,n=()=>({containers:[]})){let i=aZ(Zd),a=t?i.get(t):void 0,r=a?a.count>0:!1;return Ia(()=>{if(!(!t||!e))return Zd.dispatch("PUSH",t,n),()=>Zd.dispatch("POP",t,n)},[e,t]),r}function dZ(e,t,n=()=>[document.body]){let i=Hv(e,"scroll-lock");uZ(i,t,a=>{var r;return{containers:[...(r=a.containers)!=null?r:[],n]}})}function hZ(e=0){let[t,n]=j.useState(e),i=j.useCallback(c=>n(c),[t]),a=j.useCallback(c=>n(d=>d|c),[t]),r=j.useCallback(c=>(t&c)===c,[t]),s=j.useCallback(c=>n(d=>d&~c),[n]),o=j.useCallback(c=>n(d=>d^c),[n]);return{flags:t,setFlag:i,addFlag:a,hasFlag:r,removeFlag:s,toggleFlag:o}}var fZ={},K6,X6;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((K6=process==null?void 0:fZ)==null?void 0:K6.NODE_ENV)==="test"&&typeof((X6=Element?.prototype)==null?void 0:X6.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var pZ=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(pZ||{});function mZ(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function gZ(e,t,n,i){let[a,r]=j.useState(n),{hasFlag:s,addFlag:o,removeFlag:c}=hZ(e&&a?3:0),d=j.useRef(!1),f=j.useRef(!1),g=Z3();return Ia(()=>{var v;if(e){if(n&&r(!0),!t){n&&o(3);return}return(v=i?.start)==null||v.call(i,n),vZ(t,{inFlight:d,prepare(){f.current?f.current=!1:f.current=d.current,d.current=!0,!f.current&&(n?(o(3),c(4)):(o(4),c(2)))},run(){f.current?n?(c(3),o(4)):(c(4),o(3)):n?c(1):o(1)},done(){var y;f.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(d.current=!1,c(7),n||r(!1),(y=i?.end)==null||y.call(i,n))}})}},[e,n,t,g]),e?[a,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function vZ(e,{prepare:t,run:n,done:i,inFlight:a}){let r=Cc();return bZ(e,{prepare:t,inFlight:a}),r.nextFrame(()=>{n(),r.requestAnimationFrame(()=>{r.add(yZ(e,i))})}),r.dispose}function yZ(e,t){var n,i;let a=Cc();if(!e)return a.dispose;let r=!1;a.add(()=>{r=!0});let s=(i=(n=e.getAnimations)==null?void 0:n.call(e).filter(o=>o instanceof CSSTransition))!=null?i:[];return s.length===0?(t(),a.dispose):(Promise.allSettled(s.map(o=>o.finished)).then(()=>{r||t()}),a.dispose)}function bZ(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let i=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=i}function tT(e,t){let n=j.useRef([]),i=Vn(e);j.useEffect(()=>{let a=[...n.current];for(let[r,s]of t.entries())if(n.current[r]!==s){let o=i(t,a);return n.current=t,o}},[i,...t])}function Fx(){return typeof window<"u"}function em(e){return WL(e)?(e.nodeName||"").toLowerCase():"#document"}function Yr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Tl(e){var t;return(t=(WL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function WL(e){return Fx()?e instanceof Node||e instanceof Yr(e).Node:!1}function go(e){return Fx()?e instanceof Element||e instanceof Yr(e).Element:!1}function wl(e){return Fx()?e instanceof HTMLElement||e instanceof Yr(e).HTMLElement:!1}function W6(e){return!Fx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yr(e).ShadowRoot}const xZ=new Set(["inline","contents"]);function Gv(e){const{overflow:t,overflowX:n,overflowY:i,display:a}=vo(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!xZ.has(a)}const SZ=new Set(["table","td","th"]);function wZ(e){return SZ.has(em(e))}const _Z=[":popover-open",":modal"];function Bx(e){return _Z.some(t=>{try{return e.matches(t)}catch{return!1}})}const EZ=["transform","translate","scale","rotate","perspective"],AZ=["transform","translate","scale","rotate","perspective","filter"],CZ=["paint","layout","strict","content"];function eT(e){const t=nT(),n=go(e)?vo(e):e;return EZ.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||AZ.some(i=>(n.willChange||"").includes(i))||CZ.some(i=>(n.contain||"").includes(i))}function TZ(e){let t=ju(e);for(;wl(t)&&!Fp(t);){if(eT(t))return t;if(Bx(t))return null;t=ju(t)}return null}function nT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const RZ=new Set(["html","body","#document"]);function Fp(e){return RZ.has(em(e))}function vo(e){return Yr(e).getComputedStyle(e)}function Ix(e){return go(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ju(e){if(em(e)==="html")return e;const t=e.assignedSlot||e.parentNode||W6(e)&&e.host||Tl(e);return W6(t)?t.host:t}function QL(e){const t=ju(e);return Fp(t)?e.ownerDocument?e.ownerDocument.body:e.body:wl(t)&&Gv(t)?t:QL(t)}function bv(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=QL(e),r=a===((i=e.ownerDocument)==null?void 0:i.body),s=Yr(a);if(r){const o=mC(s);return t.concat(s,s.visualViewport||[],Gv(a)?a:[],o&&n?bv(o):[])}return t.concat(a,bv(a,[],n))}function mC(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Bp=Math.min,ch=Math.max,G1=Math.round,Vb=Math.floor,bl=e=>({x:e,y:e}),MZ={left:"right",right:"left",bottom:"top",top:"bottom"},DZ={start:"end",end:"start"};function gC(e,t,n){return ch(e,Bp(t,n))}function qv(e,t){return typeof e=="function"?e(t):e}function gh(e){return e.split("-")[0]}function Vv(e){return e.split("-")[1]}function ZL(e){return e==="x"?"y":"x"}function iT(e){return e==="y"?"height":"width"}const OZ=new Set(["top","bottom"]);function Mu(e){return OZ.has(gh(e))?"y":"x"}function aT(e){return ZL(Mu(e))}function NZ(e,t,n){n===void 0&&(n=!1);const i=Vv(e),a=aT(e),r=iT(a);let s=a==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(s=q1(s)),[s,q1(s)]}function PZ(e){const t=q1(e);return[vC(e),t,vC(t)]}function vC(e){return e.replace(/start|end/g,t=>DZ[t])}const Q6=["left","right"],Z6=["right","left"],kZ=["top","bottom"],LZ=["bottom","top"];function jZ(e,t,n){switch(e){case"top":case"bottom":return n?t?Z6:Q6:t?Q6:Z6;case"left":case"right":return t?kZ:LZ;default:return[]}}function FZ(e,t,n,i){const a=Vv(e);let r=jZ(gh(e),n==="start",i);return a&&(r=r.map(s=>s+"-"+a),t&&(r=r.concat(r.map(vC)))),r}function q1(e){return e.replace(/left|right|bottom|top/g,t=>MZ[t])}function BZ(e){return{top:0,right:0,bottom:0,left:0,...e}}function JL(e){return typeof e!="number"?BZ(e):{top:e,right:e,bottom:e,left:e}}function V1(e){const{x:t,y:n,width:i,height:a}=e;return{width:i,height:a,top:n,left:t,right:t+i,bottom:n+a,x:t,y:n}}function J6(e,t,n){let{reference:i,floating:a}=e;const r=Mu(t),s=aT(t),o=iT(s),c=gh(t),d=r==="y",f=i.x+i.width/2-a.width/2,g=i.y+i.height/2-a.height/2,v=i[o]/2-a[o]/2;let y;switch(c){case"top":y={x:f,y:i.y-a.height};break;case"bottom":y={x:f,y:i.y+i.height};break;case"right":y={x:i.x+i.width,y:g};break;case"left":y={x:i.x-a.width,y:g};break;default:y={x:i.x,y:i.y}}switch(Vv(t)){case"start":y[s]-=v*(n&&d?-1:1);break;case"end":y[s]+=v*(n&&d?-1:1);break}return y}const IZ=async(e,t,n)=>{const{placement:i="bottom",strategy:a="absolute",middleware:r=[],platform:s}=n,o=r.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let d=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:g}=J6(d,i,c),v=i,y={},b=0;for(let w=0;w<o.length;w++){const{name:E,fn:C}=o[w],{x:A,y:_,data:M,reset:D}=await C({x:f,y:g,initialPlacement:i,placement:v,strategy:a,middlewareData:y,rects:d,platform:s,elements:{reference:e,floating:t}});f=A??f,g=_??g,y={...y,[E]:{...y[E],...M}},D&&b<=50&&(b++,typeof D=="object"&&(D.placement&&(v=D.placement),D.rects&&(d=D.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):D.rects),{x:f,y:g}=J6(d,v,c)),w=-1)}return{x:f,y:g,placement:v,strategy:a,middlewareData:y}};async function tj(e,t){var n;t===void 0&&(t={});const{x:i,y:a,platform:r,rects:s,elements:o,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:g="floating",altBoundary:v=!1,padding:y=0}=qv(t,e),b=JL(y),E=o[v?g==="floating"?"reference":"floating":g],C=V1(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(E)))==null||n?E:E.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(o.floating)),boundary:d,rootBoundary:f,strategy:c})),A=g==="floating"?{x:i,y:a,width:s.floating.width,height:s.floating.height}:s.reference,_=await(r.getOffsetParent==null?void 0:r.getOffsetParent(o.floating)),M=await(r.isElement==null?void 0:r.isElement(_))?await(r.getScale==null?void 0:r.getScale(_))||{x:1,y:1}:{x:1,y:1},D=V1(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:A,offsetParent:_,strategy:c}):A);return{top:(C.top-D.top+b.top)/M.y,bottom:(D.bottom-C.bottom+b.bottom)/M.y,left:(C.left-D.left+b.left)/M.x,right:(D.right-C.right+b.right)/M.x}}const zZ=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:a,rects:r,platform:s,elements:o,middlewareData:c}=t,{element:d,padding:f=0}=qv(e,t)||{};if(d==null)return{};const g=JL(f),v={x:n,y:i},y=aT(a),b=iT(y),w=await s.getDimensions(d),E=y==="y",C=E?"top":"left",A=E?"bottom":"right",_=E?"clientHeight":"clientWidth",M=r.reference[b]+r.reference[y]-v[y]-r.floating[b],D=v[y]-r.reference[y],P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(d));let B=P?P[_]:0;(!B||!await(s.isElement==null?void 0:s.isElement(P)))&&(B=o.floating[_]||r.floating[b]);const k=M/2-D/2,z=B/2-w[b]/2-1,H=Bp(g[C],z),G=Bp(g[A],z),Q=H,at=B-w[b]-G,Z=B/2-w[b]/2+k,nt=gC(Q,Z,at),tt=!c.arrow&&Vv(a)!=null&&Z!==nt&&r.reference[b]/2-(Z<Q?H:G)-w[b]/2<0,I=tt?Z<Q?Z-Q:Z-at:0;return{[y]:v[y]+I,data:{[y]:nt,centerOffset:Z-nt-I,...tt&&{alignmentOffset:I}},reset:tt}}}),UZ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:a,middlewareData:r,rects:s,initialPlacement:o,platform:c,elements:d}=t,{mainAxis:f=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,...E}=qv(e,t);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const C=gh(a),A=Mu(o),_=gh(o)===o,M=await(c.isRTL==null?void 0:c.isRTL(d.floating)),D=v||(_||!w?[q1(o)]:PZ(o)),P=b!=="none";!v&&P&&D.push(...FZ(o,w,b,M));const B=[o,...D],k=await tj(t,E),z=[];let H=((i=r.flip)==null?void 0:i.overflows)||[];if(f&&z.push(k[C]),g){const Z=NZ(a,s,M);z.push(k[Z[0]],k[Z[1]])}if(H=[...H,{placement:a,overflows:z}],!z.every(Z=>Z<=0)){var G,Q;const Z=(((G=r.flip)==null?void 0:G.index)||0)+1,nt=B[Z];if(nt&&(!(g==="alignment"?A!==Mu(nt):!1)||H.every(V=>V.overflows[0]>0&&Mu(V.placement)===A)))return{data:{index:Z,overflows:H},reset:{placement:nt}};let tt=(Q=H.filter(I=>I.overflows[0]<=0).sort((I,V)=>I.overflows[1]-V.overflows[1])[0])==null?void 0:Q.placement;if(!tt)switch(y){case"bestFit":{var at;const I=(at=H.filter(V=>{if(P){const X=Mu(V.placement);return X===A||X==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(X=>X>0).reduce((X,U)=>X+U,0)]).sort((V,X)=>V[1]-X[1])[0])==null?void 0:at[0];I&&(tt=I);break}case"initialPlacement":tt=o;break}if(a!==tt)return{reset:{placement:tt}}}return{}}}},HZ=new Set(["left","top"]);async function GZ(e,t){const{placement:n,platform:i,elements:a}=e,r=await(i.isRTL==null?void 0:i.isRTL(a.floating)),s=gh(n),o=Vv(n),c=Mu(n)==="y",d=HZ.has(s)?-1:1,f=r&&c?-1:1,g=qv(t,e);let{mainAxis:v,crossAxis:y,alignmentAxis:b}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return o&&typeof b=="number"&&(y=o==="end"?b*-1:b),c?{x:y*f,y:v*d}:{x:v*d,y:y*f}}const qZ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:a,y:r,placement:s,middlewareData:o}=t,c=await GZ(t,e);return s===((n=o.offset)==null?void 0:n.placement)&&(i=o.arrow)!=null&&i.alignmentOffset?{}:{x:a+c.x,y:r+c.y,data:{...c,placement:s}}}}},VZ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:a}=t,{mainAxis:r=!0,crossAxis:s=!1,limiter:o={fn:E=>{let{x:C,y:A}=E;return{x:C,y:A}}},...c}=qv(e,t),d={x:n,y:i},f=await tj(t,c),g=Mu(gh(a)),v=ZL(g);let y=d[v],b=d[g];if(r){const E=v==="y"?"top":"left",C=v==="y"?"bottom":"right",A=y+f[E],_=y-f[C];y=gC(A,y,_)}if(s){const E=g==="y"?"top":"left",C=g==="y"?"bottom":"right",A=b+f[E],_=b-f[C];b=gC(A,b,_)}const w=o.fn({...t,[v]:y,[g]:b});return{...w,data:{x:w.x-n,y:w.y-i,enabled:{[v]:r,[g]:s}}}}}};function ej(e){const t=vo(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const a=wl(e),r=a?e.offsetWidth:n,s=a?e.offsetHeight:i,o=G1(n)!==r||G1(i)!==s;return o&&(n=r,i=s),{width:n,height:i,$:o}}function rT(e){return go(e)?e:e.contextElement}function Mp(e){const t=rT(e);if(!wl(t))return bl(1);const n=t.getBoundingClientRect(),{width:i,height:a,$:r}=ej(t);let s=(r?G1(n.width):n.width)/i,o=(r?G1(n.height):n.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const $Z=bl(0);function nj(e){const t=Yr(e);return!nT()||!t.visualViewport?$Z:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function YZ(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Yr(e)?!1:t}function vh(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),r=rT(e);let s=bl(1);t&&(i?go(i)&&(s=Mp(i)):s=Mp(e));const o=YZ(r,n,i)?nj(r):bl(0);let c=(a.left+o.x)/s.x,d=(a.top+o.y)/s.y,f=a.width/s.x,g=a.height/s.y;if(r){const v=Yr(r),y=i&&go(i)?Yr(i):i;let b=v,w=mC(b);for(;w&&i&&y!==b;){const E=Mp(w),C=w.getBoundingClientRect(),A=vo(w),_=C.left+(w.clientLeft+parseFloat(A.paddingLeft))*E.x,M=C.top+(w.clientTop+parseFloat(A.paddingTop))*E.y;c*=E.x,d*=E.y,f*=E.x,g*=E.y,c+=_,d+=M,b=Yr(w),w=mC(b)}}return V1({width:f,height:g,x:c,y:d})}function sT(e,t){const n=Ix(e).scrollLeft;return t?t.left+n:vh(Tl(e)).left+n}function ij(e,t,n){n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=i.left+t.scrollLeft-(n?0:sT(e,i)),r=i.top+t.scrollTop;return{x:a,y:r}}function KZ(e){let{elements:t,rect:n,offsetParent:i,strategy:a}=e;const r=a==="fixed",s=Tl(i),o=t?Bx(t.floating):!1;if(i===s||o&&r)return n;let c={scrollLeft:0,scrollTop:0},d=bl(1);const f=bl(0),g=wl(i);if((g||!g&&!r)&&((em(i)!=="body"||Gv(s))&&(c=Ix(i)),wl(i))){const y=vh(i);d=Mp(i),f.x=y.x+i.clientLeft,f.y=y.y+i.clientTop}const v=s&&!g&&!r?ij(s,c,!0):bl(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x+v.x,y:n.y*d.y-c.scrollTop*d.y+f.y+v.y}}function XZ(e){return Array.from(e.getClientRects())}function WZ(e){const t=Tl(e),n=Ix(e),i=e.ownerDocument.body,a=ch(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),r=ch(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let s=-n.scrollLeft+sT(e);const o=-n.scrollTop;return vo(i).direction==="rtl"&&(s+=ch(t.clientWidth,i.clientWidth)-a),{width:a,height:r,x:s,y:o}}function QZ(e,t){const n=Yr(e),i=Tl(e),a=n.visualViewport;let r=i.clientWidth,s=i.clientHeight,o=0,c=0;if(a){r=a.width,s=a.height;const d=nT();(!d||d&&t==="fixed")&&(o=a.offsetLeft,c=a.offsetTop)}return{width:r,height:s,x:o,y:c}}const ZZ=new Set(["absolute","fixed"]);function JZ(e,t){const n=vh(e,!0,t==="fixed"),i=n.top+e.clientTop,a=n.left+e.clientLeft,r=wl(e)?Mp(e):bl(1),s=e.clientWidth*r.x,o=e.clientHeight*r.y,c=a*r.x,d=i*r.y;return{width:s,height:o,x:c,y:d}}function t8(e,t,n){let i;if(t==="viewport")i=QZ(e,n);else if(t==="document")i=WZ(Tl(e));else if(go(t))i=JZ(t,n);else{const a=nj(e);i={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return V1(i)}function aj(e,t){const n=ju(e);return n===t||!go(n)||Fp(n)?!1:vo(n).position==="fixed"||aj(n,t)}function tJ(e,t){const n=t.get(e);if(n)return n;let i=bv(e,[],!1).filter(o=>go(o)&&em(o)!=="body"),a=null;const r=vo(e).position==="fixed";let s=r?ju(e):e;for(;go(s)&&!Fp(s);){const o=vo(s),c=eT(s);!c&&o.position==="fixed"&&(a=null),(r?!c&&!a:!c&&o.position==="static"&&!!a&&ZZ.has(a.position)||Gv(s)&&!c&&aj(e,s))?i=i.filter(f=>f!==s):a=o,s=ju(s)}return t.set(e,i),i}function eJ(e){let{element:t,boundary:n,rootBoundary:i,strategy:a}=e;const s=[...n==="clippingAncestors"?Bx(t)?[]:tJ(t,this._c):[].concat(n),i],o=s[0],c=s.reduce((d,f)=>{const g=t8(t,f,a);return d.top=ch(g.top,d.top),d.right=Bp(g.right,d.right),d.bottom=Bp(g.bottom,d.bottom),d.left=ch(g.left,d.left),d},t8(t,o,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function nJ(e){const{width:t,height:n}=ej(e);return{width:t,height:n}}function iJ(e,t,n){const i=wl(t),a=Tl(t),r=n==="fixed",s=vh(e,!0,r,t);let o={scrollLeft:0,scrollTop:0};const c=bl(0);function d(){c.x=sT(a)}if(i||!i&&!r)if((em(t)!=="body"||Gv(a))&&(o=Ix(t)),i){const y=vh(t,!0,r,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else a&&d();r&&!i&&a&&d();const f=a&&!i&&!r?ij(a,o):bl(0),g=s.left+o.scrollLeft-c.x-f.x,v=s.top+o.scrollTop-c.y-f.y;return{x:g,y:v,width:s.width,height:s.height}}function HS(e){return vo(e).position==="static"}function e8(e,t){if(!wl(e)||vo(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Tl(e)===n&&(n=n.ownerDocument.body),n}function rj(e,t){const n=Yr(e);if(Bx(e))return n;if(!wl(e)){let a=ju(e);for(;a&&!Fp(a);){if(go(a)&&!HS(a))return a;a=ju(a)}return n}let i=e8(e,t);for(;i&&wZ(i)&&HS(i);)i=e8(i,t);return i&&Fp(i)&&HS(i)&&!eT(i)?n:i||TZ(e)||n}const aJ=async function(e){const t=this.getOffsetParent||rj,n=this.getDimensions,i=await n(e.floating);return{reference:iJ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function rJ(e){return vo(e).direction==="rtl"}const sJ={convertOffsetParentRelativeRectToViewportRelativeRect:KZ,getDocumentElement:Tl,getClippingRect:eJ,getOffsetParent:rj,getElementRects:aJ,getClientRects:XZ,getDimensions:nJ,getScale:Mp,isElement:go,isRTL:rJ};function sj(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function oJ(e,t){let n=null,i;const a=Tl(e);function r(){var o;clearTimeout(i),(o=n)==null||o.disconnect(),n=null}function s(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),r();const d=e.getBoundingClientRect(),{left:f,top:g,width:v,height:y}=d;if(o||t(),!v||!y)return;const b=Vb(g),w=Vb(a.clientWidth-(f+v)),E=Vb(a.clientHeight-(g+y)),C=Vb(f),_={rootMargin:-b+"px "+-w+"px "+-E+"px "+-C+"px",threshold:ch(0,Bp(1,c))||1};let M=!0;function D(P){const B=P[0].intersectionRatio;if(B!==c){if(!M)return s();B?s(!1,B):i=setTimeout(()=>{s(!1,1e-7)},1e3)}B===1&&!sj(d,e.getBoundingClientRect())&&s(),M=!1}try{n=new IntersectionObserver(D,{..._,root:a.ownerDocument})}catch{n=new IntersectionObserver(D,_)}n.observe(e)}return s(!0),r}function lJ(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:r=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=i,d=rT(e),f=a||r?[...d?bv(d):[],...bv(t)]:[];f.forEach(C=>{a&&C.addEventListener("scroll",n,{passive:!0}),r&&C.addEventListener("resize",n)});const g=d&&o?oJ(d,n):null;let v=-1,y=null;s&&(y=new ResizeObserver(C=>{let[A]=C;A&&A.target===d&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var _;(_=y)==null||_.observe(t)})),n()}),d&&!c&&y.observe(d),y.observe(t));let b,w=c?vh(e):null;c&&E();function E(){const C=vh(e);w&&!sj(w,C)&&n(),w=C,b=requestAnimationFrame(E)}return n(),()=>{var C;f.forEach(A=>{a&&A.removeEventListener("scroll",n),r&&A.removeEventListener("resize",n)}),g?.(),(C=y)==null||C.disconnect(),y=null,c&&cancelAnimationFrame(b)}}const cJ=qZ,uJ=VZ,dJ=UZ,hJ=zZ,n8=(e,t,n)=>{const i=new Map,a={platform:sJ,...n},r={...a.platform,_c:i};return IZ(e,t,{...a,platform:r})};let zx=j.createContext(null);zx.displayName="OpenClosedContext";var ho=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(ho||{});function Ux(){return j.useContext(zx)}function fJ({value:e,children:t}){return Y.createElement(zx.Provider,{value:e},t)}function pJ({children:e}){return Y.createElement(zx.Provider,{value:null},e)}function mJ(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let _u=[];mJ(()=>{function e(t){if(!Ru(t.target)||t.target===document.body||_u[0]===t.target)return;let n=t.target;n=n.closest(H1),_u.unshift(n??t.target),_u=_u.filter(i=>i!=null&&i.isConnected),_u.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function oj(e){let t=Vn(e),n=j.useRef(!1);j.useEffect(()=>(n.current=!1,()=>{n.current=!0,Lx(()=>{n.current&&t()})}),[t])}function gJ(){let e=typeof document>"u";return"useSyncExternalStore"in N4?(t=>t.useSyncExternalStore)(N4)(()=>()=>{},()=>!1,()=>!e):!1}function $v(){let e=gJ(),[t,n]=j.useState(lh.isHandoffComplete);return t&&lh.isHandoffComplete===!1&&n(!1),j.useEffect(()=>{t!==!0&&n(!0)},[t]),j.useEffect(()=>lh.handoff(),[]),e?!1:t}let lj=j.createContext(!1);function vJ(){return j.useContext(lj)}function i8(e){return Y.createElement(lj.Provider,{value:e.force},e.children)}function yJ(e){let t=vJ(),n=j.useContext(uj),[i,a]=j.useState(()=>{var r;if(!t&&n!==null)return(r=n.current)!=null?r:null;if(lh.isServer)return null;let s=e?.getElementById("headlessui-portal-root");if(s)return s;if(e===null)return null;let o=e.createElement("div");return o.setAttribute("id","headlessui-portal-root"),e.body.appendChild(o)});return j.useEffect(()=>{i!==null&&(e!=null&&e.body.contains(i)||e==null||e.body.appendChild(i))},[i,e]),j.useEffect(()=>{t||n!==null&&a(n.current)},[n,a,t]),i}let cj=j.Fragment,bJ=Rr(function(e,t){let{ownerDocument:n=null,...i}=e,a=j.useRef(null),r=Cl(EQ(y=>{a.current=y}),t),s=jx(a),o=n??s,c=yJ(o),[d]=j.useState(()=>{var y;return lh.isServer?null:(y=o?.createElement("div"))!=null?y:null}),f=j.useContext(yC),g=$v();Ia(()=>{!c||!d||c.contains(d)||(d.setAttribute("data-headlessui-portal",""),c.appendChild(d))},[c,d]),Ia(()=>{if(d&&f)return f.register(d)},[f,d]),oj(()=>{var y;!c||!d||(jL(d)&&c.contains(d)&&c.removeChild(d),c.childNodes.length<=0&&((y=c.parentElement)==null||y.removeChild(c)))});let v=Ls();return g?!c||!d?null:kv.createPortal(v({ourProps:{ref:r},theirProps:i,slot:{},defaultTag:cj,name:"Portal"}),d):null});function xJ(e,t){let n=Cl(t),{enabled:i=!0,ownerDocument:a,...r}=e,s=Ls();return i?Y.createElement(bJ,{...r,ownerDocument:a,ref:n}):s({ourProps:{ref:n},theirProps:r,slot:{},defaultTag:cj,name:"Portal"})}let SJ=j.Fragment,uj=j.createContext(null);function wJ(e,t){let{target:n,...i}=e,a={ref:Cl(t)},r=Ls();return Y.createElement(uj.Provider,{value:n},r({ourProps:a,theirProps:i,defaultTag:SJ,name:"Popover.Group"}))}let yC=j.createContext(null);function _J(){let e=j.useContext(yC),t=j.useRef([]),n=Vn(r=>(t.current.push(r),e&&e.register(r),()=>i(r))),i=Vn(r=>{let s=t.current.indexOf(r);s!==-1&&t.current.splice(s,1),e&&e.unregister(r)}),a=j.useMemo(()=>({register:n,unregister:i,portals:t}),[n,i,t]);return[t,j.useMemo(()=>function({children:r}){return Y.createElement(yC.Provider,{value:a},r)},[a])]}let EJ=Rr(xJ),dj=Rr(wJ),AJ=Object.assign(EJ,{Group:dj});function CJ(e,t=typeof document<"u"?document.defaultView:null,n){let i=Hv(e,"escape");XL(t,"keydown",a=>{i&&(a.defaultPrevented||a.key===IL.Escape&&n(a))})}function TJ(){var e;let[t]=j.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,i]=j.useState((e=t?.matches)!=null?e:!1);return Ia(()=>{if(!t)return;function a(r){i(r.matches)}return t.addEventListener("change",a),()=>t.removeEventListener("change",a)},[t]),n}function RJ({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let i=jx(n),a=Vn(()=>{var r,s;let o=[];for(let c of e)c!==null&&(Ou(c)?o.push(c):"current"in c&&Ou(c.current)&&o.push(c.current));if(t!=null&&t.current)for(let c of t.current)o.push(c);for(let c of(r=i?.querySelectorAll("html > *, body > *"))!=null?r:[])c!==document.body&&c!==document.head&&Ou(c)&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((s=n?.getRootNode())==null?void 0:s.host))||o.some(d=>c.contains(d))||o.push(c));return o});return{resolveContainers:a,contains:Vn(r=>a().some(s=>s.contains(r)))}}let hj=j.createContext(null);function a8({children:e,node:t}){let[n,i]=j.useState(null),a=fj(t??n);return Y.createElement(hj.Provider,{value:a},e,a===null&&Y.createElement(hC,{features:U1.Hidden,ref:r=>{var s,o;if(r){for(let c of(o=(s=kx(r))==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?o:[])if(c!==document.body&&c!==document.head&&Ou(c)&&c!=null&&c.contains(r)){i(c);break}}}}))}function fj(e=null){var t;return(t=j.useContext(hj))!=null?t:e}function oT(){let e=j.useRef(!1);return Ia(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var F0=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(F0||{});function MJ(){let e=j.useRef(0);return KL(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function pj(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)Ou(n.current)&&t.add(n.current);return t}let DJ="div";var Yd=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Yd||{});function OJ(e,t){let n=j.useRef(null),i=Cl(n,t),{initialFocus:a,initialFocusFallback:r,containers:s,features:o=15,...c}=e;$v()||(o=0);let d=jx(n);LJ(o,{ownerDocument:d});let f=jJ(o,{ownerDocument:d,container:n,initialFocus:a,initialFocusFallback:r});FJ(o,{ownerDocument:d,container:n,containers:s,previousActiveElement:f});let g=MJ(),v=Vn(A=>{if(!mh(n.current))return;let _=n.current;(M=>M())(()=>{Ec(g.current,{[F0.Forwards]:()=>{J0(_,yc.First,{skipElements:[A.relatedTarget,r]})},[F0.Backwards]:()=>{J0(_,yc.Last,{skipElements:[A.relatedTarget,r]})}})})}),y=Hv(!!(o&2),"focus-trap#tab-lock"),b=Z3(),w=j.useRef(!1),E={ref:i,onKeyDown(A){A.key=="Tab"&&(w.current=!0,b.requestAnimationFrame(()=>{w.current=!1}))},onBlur(A){if(!(o&4))return;let _=pj(s);mh(n.current)&&_.add(n.current);let M=A.relatedTarget;Ru(M)&&M.dataset.headlessuiFocusGuard!=="true"&&(mj(_,M)||(w.current?J0(n.current,Ec(g.current,{[F0.Forwards]:()=>yc.Next,[F0.Backwards]:()=>yc.Previous})|yc.WrapAround,{relativeTo:A.target}):Ru(A.target)&&xc(A.target)))}},C=Ls();return Y.createElement(Y.Fragment,null,y&&Y.createElement(hC,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:U1.Focusable}),C({ourProps:E,theirProps:c,defaultTag:DJ,name:"FocusTrap"}),y&&Y.createElement(hC,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:U1.Focusable}))}let NJ=Rr(OJ),PJ=Object.assign(NJ,{features:Yd});function kJ(e=!0){let t=j.useRef(_u.slice());return tT(([n],[i])=>{i===!0&&n===!1&&Lx(()=>{t.current.splice(0)}),i===!1&&n===!0&&(t.current=_u.slice())},[e,_u,t]),Vn(()=>{var n;return(n=t.current.find(i=>i!=null&&i.isConnected))!=null?n:null})}function LJ(e,{ownerDocument:t}){let n=!!(e&8),i=kJ(n);tT(()=>{n||t?.activeElement===t?.body&&xc(i())},[n]),oj(()=>{n&&xc(i())})}function jJ(e,{ownerDocument:t,container:n,initialFocus:i,initialFocusFallback:a}){let r=j.useRef(null),s=Hv(!!(e&1),"focus-trap#initial-focus"),o=oT();return tT(()=>{if(e===0)return;if(!s){a!=null&&a.current&&xc(a.current);return}let c=n.current;c&&Lx(()=>{if(!o.current)return;let d=t?.activeElement;if(i!=null&&i.current){if(i?.current===d){r.current=d;return}}else if(c.contains(d)){r.current=d;return}if(i!=null&&i.current)xc(i.current);else{if(e&16){if(J0(c,yc.First|yc.AutoFocus)!==pC.Error)return}else if(J0(c,yc.First)!==pC.Error)return;if(a!=null&&a.current&&(xc(a.current),t?.activeElement===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}r.current=t?.activeElement})},[a,s,e]),r}function FJ(e,{ownerDocument:t,container:n,containers:i,previousActiveElement:a}){let r=oT(),s=!!(e&4);XL(t?.defaultView,"focus",o=>{if(!s||!r.current)return;let c=pj(i);mh(n.current)&&c.add(n.current);let d=a.current;if(!d)return;let f=o.target;mh(f)?mj(c,f)?(a.current=f,xc(f)):(o.preventDefault(),o.stopPropagation(),xc(d)):xc(a.current)},!0)}function mj(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function gj(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:yj)!==j.Fragment||Y.Children.count(e.children)===1}let Hx=j.createContext(null);Hx.displayName="TransitionContext";var BJ=(e=>(e.Visible="visible",e.Hidden="hidden",e))(BJ||{});function IJ(){let e=j.useContext(Hx);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function zJ(){let e=j.useContext(Gx);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Gx=j.createContext(null);Gx.displayName="NestingContext";function qx(e){return"children"in e?qx(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function vj(e,t){let n=Eh(e),i=j.useRef([]),a=oT(),r=Z3(),s=Vn((y,b=Tu.Hidden)=>{let w=i.current.findIndex(({el:E})=>E===y);w!==-1&&(Ec(b,{[Tu.Unmount](){i.current.splice(w,1)},[Tu.Hidden](){i.current[w].state="hidden"}}),r.microTask(()=>{var E;!qx(i)&&a.current&&((E=n.current)==null||E.call(n))}))}),o=Vn(y=>{let b=i.current.find(({el:w})=>w===y);return b?b.state!=="visible"&&(b.state="visible"):i.current.push({el:y,state:"visible"}),()=>s(y,Tu.Unmount)}),c=j.useRef([]),d=j.useRef(Promise.resolve()),f=j.useRef({enter:[],leave:[]}),g=Vn((y,b,w)=>{c.current.splice(0),t&&(t.chains.current[b]=t.chains.current[b].filter(([E])=>E!==y)),t?.chains.current[b].push([y,new Promise(E=>{c.current.push(E)})]),t?.chains.current[b].push([y,new Promise(E=>{Promise.all(f.current[b].map(([C,A])=>A)).then(()=>E())})]),b==="enter"?d.current=d.current.then(()=>t?.wait.current).then(()=>w(b)):w(b)}),v=Vn((y,b,w)=>{Promise.all(f.current[b].splice(0).map(([E,C])=>C)).then(()=>{var E;(E=c.current.shift())==null||E()}).then(()=>w(b))});return j.useMemo(()=>({children:i,register:o,unregister:s,onStart:g,onStop:v,wait:d,chains:f}),[o,s,i,g,v,f,d])}let yj=j.Fragment,bj=z1.RenderStrategy;function UJ(e,t){var n,i;let{transition:a=!0,beforeEnter:r,afterEnter:s,beforeLeave:o,afterLeave:c,enter:d,enterFrom:f,enterTo:g,entered:v,leave:y,leaveFrom:b,leaveTo:w,...E}=e,[C,A]=j.useState(null),_=j.useRef(null),M=gj(e),D=Cl(...M?[_,t,A]:t===null?[]:[t]),P=(n=E.unmount)==null||n?Tu.Unmount:Tu.Hidden,{show:B,appear:k,initial:z}=IJ(),[H,G]=j.useState(B?"visible":"hidden"),Q=zJ(),{register:at,unregister:Z}=Q;Ia(()=>at(_),[at,_]),Ia(()=>{if(P===Tu.Hidden&&_.current){if(B&&H!=="visible"){G("visible");return}return Ec(H,{hidden:()=>Z(_),visible:()=>at(_)})}},[H,_,at,Z,B,P]);let nt=$v();Ia(()=>{if(M&&nt&&H==="visible"&&_.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[_,H,nt,M]);let tt=z&&!k,I=k&&B&&z,V=j.useRef(!1),X=vj(()=>{V.current||(G("hidden"),Z(_))},Q),U=Vn(J=>{V.current=!0;let lt=J?"enter":"leave";X.onStart(_,lt,St=>{St==="enter"?r?.():St==="leave"&&o?.()})}),$=Vn(J=>{let lt=J?"enter":"leave";V.current=!1,X.onStop(_,lt,St=>{St==="enter"?s?.():St==="leave"&&c?.()}),lt==="leave"&&!qx(X)&&(G("hidden"),Z(_))});j.useEffect(()=>{M&&a||(U(B),$(B))},[B,M,a]);let it=!(!a||!M||!nt||tt),[,K]=gZ(it,C,B,{start:U,end:$}),ct=Vd({ref:D,className:((i=dC(E.className,I&&d,I&&f,K.enter&&d,K.enter&&K.closed&&f,K.enter&&!K.closed&&g,K.leave&&y,K.leave&&!K.closed&&b,K.leave&&K.closed&&w,!K.transition&&B&&v))==null?void 0:i.trim())||void 0,...mZ(K)}),pt=0;H==="visible"&&(pt|=ho.Open),H==="hidden"&&(pt|=ho.Closed),B&&H==="hidden"&&(pt|=ho.Opening),!B&&H==="visible"&&(pt|=ho.Closing);let rt=Ls();return Y.createElement(Gx.Provider,{value:X},Y.createElement(fJ,{value:pt},rt({ourProps:ct,theirProps:E,defaultTag:yj,features:bj,visible:H==="visible",name:"Transition.Child"})))}function HJ(e,t){let{show:n,appear:i=!1,unmount:a=!0,...r}=e,s=j.useRef(null),o=gj(e),c=Cl(...o?[s,t]:t===null?[]:[t]);$v();let d=Ux();if(n===void 0&&d!==null&&(n=(d&ho.Open)===ho.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[f,g]=j.useState(n?"visible":"hidden"),v=vj(()=>{n||g("hidden")}),[y,b]=j.useState(!0),w=j.useRef([n]);Ia(()=>{y!==!1&&w.current[w.current.length-1]!==n&&(w.current.push(n),b(!1))},[w,n]);let E=j.useMemo(()=>({show:n,appear:i,initial:y}),[n,i,y]);Ia(()=>{n?g("visible"):!qx(v)&&s.current!==null&&g("hidden")},[n,v]);let C={unmount:a},A=Vn(()=>{var D;y&&b(!1),(D=e.beforeEnter)==null||D.call(e)}),_=Vn(()=>{var D;y&&b(!1),(D=e.beforeLeave)==null||D.call(e)}),M=Ls();return Y.createElement(Gx.Provider,{value:v},Y.createElement(Hx.Provider,{value:E},M({ourProps:{...C,as:j.Fragment,children:Y.createElement(xj,{ref:c,...C,...r,beforeEnter:A,beforeLeave:_})},theirProps:{},defaultTag:j.Fragment,features:bj,visible:f==="visible",name:"Transition"})))}function GJ(e,t){let n=j.useContext(Hx)!==null,i=Ux()!==null;return Y.createElement(Y.Fragment,null,!n&&i?Y.createElement(bC,{ref:t,...e}):Y.createElement(xj,{ref:t,...e}))}let bC=Rr(HJ),xj=Rr(UJ),lT=Rr(GJ),qJ=Object.assign(bC,{Child:lT,Root:bC});var VJ=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(VJ||{}),$J=(e=>(e[e.SetTitleId=0]="SetTitleId",e))($J||{});let YJ={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},cT=j.createContext(null);cT.displayName="DialogContext";function Vx(e){let t=j.useContext(cT);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Vx),n}return t}function KJ(e,t){return Ec(t.type,YJ,e,t)}let r8=Rr(function(e,t){let n=j.useId(),{id:i=`headlessui-dialog-${n}`,open:a,onClose:r,initialFocus:s,role:o="dialog",autoFocus:c=!0,__demoMode:d=!1,unmount:f=!1,...g}=e,v=j.useRef(!1);o=function(){return o==="dialog"||o==="alertdialog"?o:(v.current||(v.current=!0,console.warn(`Invalid role [${o}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let y=Ux();a===void 0&&y!==null&&(a=(y&ho.Open)===ho.Open);let b=j.useRef(null),w=Cl(b,t),E=jx(b),C=a?0:1,[A,_]=j.useReducer(KJ,{titleId:null,descriptionId:null,panelRef:j.createRef()}),M=Vn(()=>r(!1)),D=Vn(K=>_({type:0,id:K})),P=$v()?C===0:!1,[B,k]=_J(),z={get current(){var K;return(K=A.panelRef.current)!=null?K:b.current}},H=fj(),{resolveContainers:G}=RJ({mainTreeNode:H,portals:B,defaultContainers:[z]}),Q=y!==null?(y&ho.Closing)===ho.Closing:!1;VQ(d||Q?!1:P,{allowed:Vn(()=>{var K,ct;return[(ct=(K=b.current)==null?void 0:K.closest("[data-headlessui-portal]"))!=null?ct:null]}),disallowed:Vn(()=>{var K;return[(K=H?.closest("body > *:not(#headlessui-portal-root)"))!=null?K:null]})});let at=qL.get(null);Ia(()=>{if(P)return at.actions.push(i),()=>at.actions.pop(i)},[at,i,P]);let Z=VL(at,j.useCallback(K=>at.selectors.isTop(K,i),[at,i]));iZ(Z,G,K=>{K.preventDefault(),M()}),CJ(Z,E?.defaultView,K=>{K.preventDefault(),K.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),M()}),dZ(d||Q?!1:P,E,G),$Q(P,b,M);let[nt,tt]=AQ(),I=j.useMemo(()=>[{dialogState:C,close:M,setTitleId:D,unmount:f},A],[C,A,M,D,f]),V=j.useMemo(()=>({open:C===0}),[C]),X={ref:w,id:i,role:o,tabIndex:-1,"aria-modal":d?void 0:C===0?!0:void 0,"aria-labelledby":A.titleId,"aria-describedby":nt,unmount:f},U=!TJ(),$=Yd.None;P&&!d&&($|=Yd.RestoreFocus,$|=Yd.TabLock,c&&($|=Yd.AutoFocus),U&&($|=Yd.InitialFocus));let it=Ls();return Y.createElement(pJ,null,Y.createElement(i8,{force:!0},Y.createElement(AJ,null,Y.createElement(cT.Provider,{value:I},Y.createElement(dj,{target:b},Y.createElement(i8,{force:!1},Y.createElement(tt,{slot:V},Y.createElement(k,null,Y.createElement(PJ,{initialFocus:s,initialFocusFallback:b,containers:G,features:$},Y.createElement(OQ,{value:M},it({ourProps:X,theirProps:g,slot:V,defaultTag:XJ,features:WJ,visible:C===0,name:"Dialog"})))))))))))}),XJ="div",WJ=z1.RenderStrategy|z1.Static;function QJ(e,t){let{transition:n=!1,open:i,...a}=e,r=Ux(),s=e.hasOwnProperty("open")||r!==null,o=e.hasOwnProperty("onClose");if(!s&&!o)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!s)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!o)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!r&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(i!==void 0||n)&&!a.static?Y.createElement(a8,null,Y.createElement(qJ,{show:i,transition:n,unmount:a.unmount},Y.createElement(r8,{ref:t,...a}))):Y.createElement(a8,null,Y.createElement(r8,{ref:t,open:i,...a}))}let ZJ="div";function JJ(e,t){let n=j.useId(),{id:i=`headlessui-dialog-panel-${n}`,transition:a=!1,...r}=e,[{dialogState:s,unmount:o},c]=Vx("Dialog.Panel"),d=Cl(t,c.panelRef),f=j.useMemo(()=>({open:s===0}),[s]),g=Vn(E=>{E.stopPropagation()}),v={ref:d,id:i,onClick:g},y=a?lT:j.Fragment,b=a?{unmount:o}:{},w=Ls();return Y.createElement(y,{...b},w({ourProps:v,theirProps:r,slot:f,defaultTag:ZJ,name:"Dialog.Panel"}))}let ttt="div";function ett(e,t){let{transition:n=!1,...i}=e,[{dialogState:a,unmount:r}]=Vx("Dialog.Backdrop"),s=j.useMemo(()=>({open:a===0}),[a]),o={ref:t,"aria-hidden":!0},c=n?lT:j.Fragment,d=n?{unmount:r}:{},f=Ls();return Y.createElement(c,{...d},f({ourProps:o,theirProps:i,slot:s,defaultTag:ttt,name:"Dialog.Backdrop"}))}let ntt="h2";function itt(e,t){let n=j.useId(),{id:i=`headlessui-dialog-title-${n}`,...a}=e,[{dialogState:r,setTitleId:s}]=Vx("Dialog.Title"),o=Cl(t);j.useEffect(()=>(s(i),()=>s(null)),[i,s]);let c=j.useMemo(()=>({open:r===0}),[r]),d={ref:o,id:i};return Ls()({ourProps:d,theirProps:a,slot:c,defaultTag:ntt,name:"Dialog.Title"})}let att=Rr(QJ),Sj=Rr(JJ),rtt=Rr(ett),wj=Rr(itt),stt=Object.assign(att,{Panel:Sj,Title:wj,Description:MQ});function nm({isOpen:e,onClose:t,title:n,children:i,panelClassName:a=""}){return L.jsxs(stt,{open:e,onClose:t,className:"fixed inset-0 z-50 flex items-center justify-center",children:[L.jsx(rtt,{className:"fixed inset-0 bg-black opacity-30"}),L.jsxs(Sj,{className:`bg-white rounded-lg shadow-lg p-6 z-10 w-full max-w-[95%] md:max-w-2xl ${a}`,children:[n&&L.jsxs(wj,{as:"h2",className:"text-xl font-semibold mb-4 flex justify-between items-center",children:[L.jsx("span",{children:n}),L.jsx("span",{children:L.jsx(Yp,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 cursor-pointer",onClick:t})})]}),i]})]})}const ott=()=>hi.get("/items/workspaces?sort=-date_created"),ltt=e=>hi.get(`/items/workspaces/${e}`),ctt=e=>hi.post("/items/workspaces",e),utt=(e,t)=>hi.patch(`/items/workspaces/${e}`,t),dtt=e=>hi.delete(`/items/workspaces/${e}`);function htt(){return Xp({queryKey:["workspaces"],queryFn:ott,select:e=>e.data.data||[]})}function ftt(e){return Xp({queryKey:["workspace",e],queryFn:()=>ltt(e),enabled:!!e,select:t=>t.data.data||null})}function ptt(){const e=za();return lr({mutationFn:ctt,onSuccess:()=>{e.invalidateQueries({queryKey:["workspaces"]})}})}function uT(){const e=za();return lr({mutationFn:({id:t,data:n})=>utt(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["workspaces"]})}})}function mtt(){const e=za();return lr({mutationFn:dtt,onSuccess:()=>{e.invalidateQueries({queryKey:["workspaces"]})}})}function gtt({isOpen:e,onClose:t,initialData:n=null,onSuccess:i}){const a=Sl(A=>A.user),r=!!n,[s,o]=j.useState(""),[c,d]=j.useState(""),[f,g]=j.useState(!1),[v,y]=j.useState(""),b=ptt(),w=uT(),E=b.isPending||w.isPending;j.useEffect(()=>{r?(o(n.name||""),d(n.description||""),g(!!n.is_public)):(o(""),d(""),g(!1)),y("")},[r,n,e]);function C(A){A.preventDefault(),y("");const _={name:s,description:c,is_public:f,owner:a.id};r?w.mutate({id:n.id,data:_},{onSuccess:M=>{i&&i(M.data.data),t()},onError:()=>{y("No se pudo guardar la mesa de trabajo.")}}):b.mutate(_,{onSuccess:M=>{i&&i(M.data.data),t()},onError:()=>{y("No se pudo guardar la mesa de trabajo.")}})}return L.jsx(nm,{isOpen:e,onClose:t,title:L.jsx("span",{className:"flex items-center gap-2",children:r?L.jsxs(L.Fragment,{children:[L.jsx(D1,{className:"w-6 h-6 text-purple-600"}),"Editar Mesa de Trabajo"]}):L.jsxs(L.Fragment,{children:[L.jsx(ov,{className:"w-6 h-6 text-sky-600"}),"Nueva Mesa de Trabajo"]})}),panelClassName:"p-0",children:L.jsxs("form",{className:"space-y-5 p-6",onSubmit:C,children:[L.jsxs("div",{children:[L.jsxs("label",{className:"block mb-1 font-bold text-gray-700",children:["Nombre ",L.jsx("span",{className:"text-sky-600",children:"*"})]}),L.jsx("input",{className:"w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-sky-500 outline-none text-lg",type:"text",placeholder:"Ej. Planos de mi proyecto",value:s,onChange:A=>o(A.target.value),required:!0,maxLength:50})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block mb-1 font-bold text-gray-700",children:"Descripcin"}),L.jsx("textarea",{className:"w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-sky-500 outline-none resize-none",placeholder:"Describe brevemente esta mesa de trabajo...",value:c,onChange:A=>d(A.target.value),maxLength:160,rows:3})]}),L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsxs("label",{className:"inline-flex items-center cursor-pointer select-none",children:[L.jsx("input",{type:"checkbox",className:"form-checkbox accent-sky-600 w-5 h-5",checked:f,onChange:()=>g(A=>!A)}),L.jsx("span",{className:"ml-2 text-sm font-semibold text-sky-700 flex items-center gap-1",children:f?L.jsxs(L.Fragment,{children:[L.jsx(dh,{className:"w-4 h-4"})," Pblica"]}):L.jsxs(L.Fragment,{children:[L.jsx(Pp,{className:"w-4 h-4"})," Privada"]})})]}),L.jsx("span",{className:"text-xs text-gray-400",children:f?"Cualquiera con el enlace podr acceder":"Solo usuarios invitados podrn acceder"})]}),v&&L.jsx("div",{className:"text-red-600 text-center font-bold",children:v}),L.jsx("button",{type:"submit",disabled:E,className:`w-full py-2 rounded-xl font-bold flex items-center justify-center gap-2 text-lg transition
            ${r?"bg-purple-600 hover:bg-purple-700":"bg-sky-600 hover:bg-sky-700"}
            text-white`,children:E?L.jsxs(L.Fragment,{children:[L.jsx(c3,{className:"w-5 h-5 animate-spin"}),r?"Guardando...":"Creando..."]}):L.jsx(L.Fragment,{children:r?L.jsxs(L.Fragment,{children:[L.jsx(D1,{className:"w-5 h-5"}),"Guardar cambios"]}):L.jsxs(L.Fragment,{children:[L.jsx(ov,{className:"w-5 h-5"}),"Crear mesa"]})})})]})})}const vtt=e=>hi.get(`/items/workspace_members?filter[workspace_id][_eq]=${e}`),ytt=e=>hi.delete(`/items/workspace_members/${e}`);function _j(e){return Xp({queryKey:["workspace_members",e],queryFn:()=>vtt(e),select:t=>t.data.data||[],enabled:!!e})}function btt(){const e=za();return lr({mutationFn:ytt,onSuccess:(t,n,i)=>{e.invalidateQueries({queryKey:["workspace_members"]})}})}var GS={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var s8;function xtt(){return s8||(s8=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r="",s=0;s<arguments.length;s++){var o=arguments[s];o&&(r=a(r,i(o)))}return r}function i(r){if(typeof r=="string"||typeof r=="number")return r;if(typeof r!="object")return"";if(Array.isArray(r))return n.apply(null,r);if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]"))return r.toString();var s="";for(var o in r)t.call(r,o)&&r[o]&&(s=a(s,o));return s}function a(r,s){return s?r?r+" "+s:r+s:r}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(GS)),GS.exports}var Stt=xtt();const qn=Qr(Stt);var o8={};const wtt="react-tooltip-core-styles",_tt="react-tooltip-base-styles",l8={core:!1,base:!1};function c8({css:e,id:t=_tt,type:n="base",ref:i}){var a,r;if(!e||typeof document>"u"||l8[n]||n==="core"&&typeof process<"u"&&(!((a=process==null?void 0:o8)===null||a===void 0)&&a.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((r=process==null?void 0:o8)===null||r===void 0)&&r.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=wtt),i||(i={});const{insertAt:s}=i;if(document.getElementById(t))return;const o=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.id=t,c.type="text/css",s==="top"&&o.firstChild?o.insertBefore(c,o.firstChild):o.appendChild(c),c.styleSheet?c.styleSheet.cssText=e:c.appendChild(document.createTextNode(e)),l8[n]=!0}const u8=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:i="top",offset:a=10,strategy:r="absolute",middlewares:s=[cJ(Number(a)),dJ({fallbackAxisSideDirection:"start"}),uJ({padding:5})],border:o,arrowSize:c=8})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:i};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:i};const d=s;return n?(d.push(hJ({element:n,padding:5})),n8(e,t,{placement:i,strategy:r,middleware:d}).then(({x:f,y:g,placement:v,middlewareData:y})=>{var b,w;const E={left:`${f}px`,top:`${g}px`,border:o},{x:C,y:A}=(b=y.arrow)!==null&&b!==void 0?b:{x:0,y:0},_=(w={top:"bottom",right:"left",bottom:"top",left:"right"}[v.split("-")[0]])!==null&&w!==void 0?w:"bottom",M=o&&{borderBottom:o,borderRight:o};let D=0;if(o){const P=`${o}`.match(/(\d+)px/);D=P?.[1]?Number(P[1]):1}return{tooltipStyles:E,tooltipArrowStyles:{left:C!=null?`${C}px`:"",top:A!=null?`${A}px`:"",right:"",bottom:"",...M,[_]:`-${c/2+D}px`},place:v}})):n8(e,t,{placement:"bottom",strategy:r,middleware:d}).then(({x:f,y:g,placement:v})=>({tooltipStyles:{left:`${f}px`,top:`${g}px`},tooltipArrowStyles:{},place:v}))},d8=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),h8=(e,t,n)=>{let i=null;const a=function(...r){const s=()=>{i=null};!i&&(e.apply(this,r),i=setTimeout(s,t))};return a.cancel=()=>{i&&(clearTimeout(i),i=null)},a},f8=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",xC=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((a,r)=>xC(a,t[r]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!f8(e)||!f8(t))return e===t;const n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every(a=>xC(e[a],t[a]))},Ett=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const i=t.getPropertyValue(n);return i==="auto"||i==="scroll"})},p8=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(Ett(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},Att=typeof window<"u"?j.useLayoutEffect:j.useEffect,Es=e=>{e.current&&(clearTimeout(e.current),e.current=null)},Ctt="DEFAULT_TOOLTIP_ID",Ttt={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},Rtt=j.createContext({getTooltipData:()=>Ttt});function Ej(e=Ctt){return j.useContext(Rtt).getTooltipData(e)}var Vf={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},qS={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const Mtt=({forwardRef:e,id:t,className:n,classNameArrow:i,variant:a="dark",anchorId:r,anchorSelect:s,place:o="top",offset:c=10,events:d=["hover"],openOnClick:f=!1,positionStrategy:g="absolute",middlewares:v,wrapper:y,delayShow:b=0,delayHide:w=0,float:E=!1,hidden:C=!1,noArrow:A=!1,clickable:_=!1,closeOnEsc:M=!1,closeOnScroll:D=!1,closeOnResize:P=!1,openEvents:B,closeEvents:k,globalCloseEvents:z,imperativeModeOnly:H,style:G,position:Q,afterShow:at,afterHide:Z,disableTooltip:nt,content:tt,contentWrapperRef:I,isOpen:V,defaultIsOpen:X=!1,setIsOpen:U,activeAnchor:$,setActiveAnchor:it,border:K,opacity:ct,arrowColor:pt,arrowSize:rt=8,role:J="tooltip"})=>{var lt;const St=j.useRef(null),Tt=j.useRef(null),Dt=j.useRef(null),kt=j.useRef(null),zt=j.useRef(null),[Jt,Pt]=j.useState({tooltipStyles:{},tooltipArrowStyles:{},place:o}),[re,Bt]=j.useState(!1),[me,Ye]=j.useState(!1),[le,pn]=j.useState(null),Qt=j.useRef(!1),Ee=j.useRef(null),{anchorRefs:Nt,setActiveAnchor:Ht}=Ej(t),te=j.useRef(!1),[Vt,ee]=j.useState([]),Se=j.useRef(!1),Ge=f||d.includes("click"),_n=Ge||B?.click||B?.dblclick||B?.mousedown,$n=B?{...B}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!B&&Ge&&Object.assign($n,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const mn=k?{...k}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!k&&Ge&&Object.assign(mn,{mouseleave:!1,blur:!1,mouseout:!1});const qe=z?{...z}:{escape:M||!1,scroll:D||!1,resize:P||!1,clickOutsideAnchor:_n||!1};H&&(Object.assign($n,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(mn,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(qe,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),Att(()=>(Se.current=!0,()=>{Se.current=!1}),[]);const Be=Mt=>{Se.current&&(Mt&&Ye(!0),setTimeout(()=>{Se.current&&(U?.(Mt),V===void 0&&Bt(Mt))},10))};j.useEffect(()=>{if(V===void 0)return()=>null;V&&Ye(!0);const Mt=setTimeout(()=>{Bt(V)},10);return()=>{clearTimeout(Mt)}},[V]),j.useEffect(()=>{if(re!==Qt.current)if(Es(zt),Qt.current=re,re)at?.();else{const Mt=(qt=>{const ae=qt.match(/^([\d.]+)(ms|s)$/);if(!ae)return 0;const[,en,kn]=ae;return Number(en)*(kn==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));zt.current=setTimeout(()=>{Ye(!1),pn(null),Z?.()},Mt+25)}},[re]);const Ui=Mt=>{Pt(qt=>xC(qt,Mt)?qt:Mt)},Oi=(Mt=b)=>{Es(Dt),me?Be(!0):Dt.current=setTimeout(()=>{Be(!0)},Mt)},jt=(Mt=w)=>{Es(kt),kt.current=setTimeout(()=>{te.current||Be(!1)},Mt)},we=Mt=>{var qt;if(!Mt)return;const ae=(qt=Mt.currentTarget)!==null&&qt!==void 0?qt:Mt.target;if(!ae?.isConnected)return it(null),void Ht({current:null});b?Oi():Be(!0),it(ae),Ht({current:ae}),Es(kt)},un=()=>{_?jt(w||100):w?jt():Be(!1),Es(Dt)},Hn=({x:Mt,y:qt})=>{var ae;const en={getBoundingClientRect:()=>({x:Mt,y:qt,width:0,height:0,top:qt,left:Mt,right:Mt,bottom:qt})};u8({place:(ae=le?.place)!==null&&ae!==void 0?ae:o,offset:c,elementReference:en,tooltipReference:St.current,tooltipArrowReference:Tt.current,strategy:g,middlewares:v,border:K,arrowSize:rt}).then(kn=>{Ui(kn)})},fi=Mt=>{if(!Mt)return;const qt=Mt,ae={x:qt.clientX,y:qt.clientY};Hn(ae),Ee.current=ae},Or=Mt=>{var qt;if(!re)return;const ae=Mt.target;ae.isConnected&&(!((qt=St.current)===null||qt===void 0)&&qt.contains(ae)||[document.querySelector(`[id='${r}']`),...Vt].some(en=>en?.contains(ae))||(Be(!1),Es(Dt)))},pi=h8(we,50),An=h8(un,50),Yn=Mt=>{An.cancel(),pi(Mt)},Wt=()=>{pi.cancel(),An()},ge=j.useCallback(()=>{var Mt,qt;const ae=(Mt=le?.position)!==null&&Mt!==void 0?Mt:Q;ae?Hn(ae):E?Ee.current&&Hn(Ee.current):$?.isConnected&&u8({place:(qt=le?.place)!==null&&qt!==void 0?qt:o,offset:c,elementReference:$,tooltipReference:St.current,tooltipArrowReference:Tt.current,strategy:g,middlewares:v,border:K,arrowSize:rt}).then(en=>{Se.current&&Ui(en)})},[re,$,tt,G,o,le?.place,c,g,Q,le?.position,E,rt]);j.useEffect(()=>{var Mt,qt;const ae=new Set(Nt);Vt.forEach(nn=>{nt?.(nn)||ae.add({current:nn})});const en=document.querySelector(`[id='${r}']`);en&&!nt?.(en)&&ae.add({current:en});const kn=()=>{Be(!1)},Ln=p8($),On=p8(St.current);qe.scroll&&(window.addEventListener("scroll",kn),Ln?.addEventListener("scroll",kn),On?.addEventListener("scroll",kn));let dn=null;qe.resize?window.addEventListener("resize",kn):$&&St.current&&(dn=lJ($,St.current,ge,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const gn=nn=>{nn.key==="Escape"&&Be(!1)};qe.escape&&window.addEventListener("keydown",gn),qe.clickOutsideAnchor&&window.addEventListener("click",Or);const Re=[],Hi=nn=>!!(nn?.target&&$?.contains(nn.target)),_o=nn=>{re&&Hi(nn)||we(nn)},js=nn=>{re&&Hi(nn)&&un()},ti=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Ml=["click","dblclick","mousedown","mouseup"];Object.entries($n).forEach(([nn,Ua])=>{Ua&&(ti.includes(nn)?Re.push({event:nn,listener:Yn}):Ml.includes(nn)&&Re.push({event:nn,listener:_o}))}),Object.entries(mn).forEach(([nn,Ua])=>{Ua&&(ti.includes(nn)?Re.push({event:nn,listener:Wt}):Ml.includes(nn)&&Re.push({event:nn,listener:js}))}),E&&Re.push({event:"pointermove",listener:fi});const Dl=()=>{te.current=!0},Sn=()=>{te.current=!1,un()},Nr=_&&(mn.mouseout||mn.mouseleave);return Nr&&((Mt=St.current)===null||Mt===void 0||Mt.addEventListener("mouseover",Dl),(qt=St.current)===null||qt===void 0||qt.addEventListener("mouseout",Sn)),Re.forEach(({event:nn,listener:Ua})=>{ae.forEach(Ol=>{var Nl;(Nl=Ol.current)===null||Nl===void 0||Nl.addEventListener(nn,Ua)})}),()=>{var nn,Ua;qe.scroll&&(window.removeEventListener("scroll",kn),Ln?.removeEventListener("scroll",kn),On?.removeEventListener("scroll",kn)),qe.resize?window.removeEventListener("resize",kn):dn?.(),qe.clickOutsideAnchor&&window.removeEventListener("click",Or),qe.escape&&window.removeEventListener("keydown",gn),Nr&&((nn=St.current)===null||nn===void 0||nn.removeEventListener("mouseover",Dl),(Ua=St.current)===null||Ua===void 0||Ua.removeEventListener("mouseout",Sn)),Re.forEach(({event:Ol,listener:Nl})=>{ae.forEach(Eo=>{var Zr;(Zr=Eo.current)===null||Zr===void 0||Zr.removeEventListener(Ol,Nl)})})}},[$,ge,me,Nt,Vt,B,k,z,Ge,b,w]),j.useEffect(()=>{var Mt,qt;let ae=(qt=(Mt=le?.anchorSelect)!==null&&Mt!==void 0?Mt:s)!==null&&qt!==void 0?qt:"";!ae&&t&&(ae=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const en=new MutationObserver(kn=>{const Ln=[],On=[];kn.forEach(dn=>{if(dn.type==="attributes"&&dn.attributeName==="data-tooltip-id"&&(dn.target.getAttribute("data-tooltip-id")===t?Ln.push(dn.target):dn.oldValue===t&&On.push(dn.target)),dn.type==="childList"){if($){const gn=[...dn.removedNodes].filter(Re=>Re.nodeType===1);if(ae)try{On.push(...gn.filter(Re=>Re.matches(ae))),On.push(...gn.flatMap(Re=>[...Re.querySelectorAll(ae)]))}catch{}gn.some(Re=>{var Hi;return!!(!((Hi=Re?.contains)===null||Hi===void 0)&&Hi.call(Re,$))&&(Ye(!1),Be(!1),it(null),Es(Dt),Es(kt),!0)})}if(ae)try{const gn=[...dn.addedNodes].filter(Re=>Re.nodeType===1);Ln.push(...gn.filter(Re=>Re.matches(ae))),Ln.push(...gn.flatMap(Re=>[...Re.querySelectorAll(ae)]))}catch{}}}),(Ln.length||On.length)&&ee(dn=>[...dn.filter(gn=>!On.includes(gn)),...Ln])});return en.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{en.disconnect()}},[t,s,le?.anchorSelect,$]),j.useEffect(()=>{ge()},[ge]),j.useEffect(()=>{if(!I?.current)return()=>null;const Mt=new ResizeObserver(()=>{setTimeout(()=>ge())});return Mt.observe(I.current),()=>{Mt.disconnect()}},[tt,I?.current]),j.useEffect(()=>{var Mt;const qt=document.querySelector(`[id='${r}']`),ae=[...Vt,qt];$&&ae.includes($)||it((Mt=Vt[0])!==null&&Mt!==void 0?Mt:qt)},[r,Vt,$]),j.useEffect(()=>(X&&Be(!0),()=>{Es(Dt),Es(kt)}),[]),j.useEffect(()=>{var Mt;let qt=(Mt=le?.anchorSelect)!==null&&Mt!==void 0?Mt:s;if(!qt&&t&&(qt=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),qt)try{const ae=Array.from(document.querySelectorAll(qt));ee(ae)}catch{ee([])}},[t,s,le?.anchorSelect]),j.useEffect(()=>{Dt.current&&(Es(Dt),Oi(b))},[b]);const De=(lt=le?.content)!==null&&lt!==void 0?lt:tt,Ie=re&&Object.keys(Jt.tooltipStyles).length>0;return j.useImperativeHandle(e,()=>({open:Mt=>{if(Mt?.anchorSelect)try{document.querySelector(Mt.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${Mt.anchorSelect}" is not a valid CSS selector`)}pn(Mt??null),Mt?.delay?Oi(Mt.delay):Be(!0)},close:Mt=>{Mt?.delay?jt(Mt.delay):Be(!1)},activeAnchor:$,place:Jt.place,isOpen:!!(me&&!C&&De&&Ie)})),me&&!C&&De?Y.createElement(y,{id:t,role:J,className:qn("react-tooltip",Vf.tooltip,qS.tooltip,qS[a],n,`react-tooltip__place-${Jt.place}`,Vf[Ie?"show":"closing"],Ie?"react-tooltip__show":"react-tooltip__closing",g==="fixed"&&Vf.fixed,_&&Vf.clickable),onTransitionEnd:Mt=>{Es(zt),re||Mt.propertyName!=="opacity"||(Ye(!1),pn(null),Z?.())},style:{...G,...Jt.tooltipStyles,opacity:ct!==void 0&&Ie?ct:void 0},ref:St},De,Y.createElement(y,{className:qn("react-tooltip-arrow",Vf.arrow,qS.arrow,i,A&&Vf.noArrow),style:{...Jt.tooltipArrowStyles,background:pt?`linear-gradient(to right bottom, transparent 50%, ${pt} 50%)`:void 0,"--rt-arrow-size":`${rt}px`},ref:Tt})):null},Dtt=({content:e})=>Y.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),Aj=Y.forwardRef(({id:e,anchorId:t,anchorSelect:n,content:i,html:a,render:r,className:s,classNameArrow:o,variant:c="dark",place:d="top",offset:f=10,wrapper:g="div",children:v=null,events:y=["hover"],openOnClick:b=!1,positionStrategy:w="absolute",middlewares:E,delayShow:C=0,delayHide:A=0,float:_=!1,hidden:M=!1,noArrow:D=!1,clickable:P=!1,closeOnEsc:B=!1,closeOnScroll:k=!1,closeOnResize:z=!1,openEvents:H,closeEvents:G,globalCloseEvents:Q,imperativeModeOnly:at=!1,style:Z,position:nt,isOpen:tt,defaultIsOpen:I=!1,disableStyleInjection:V=!1,border:X,opacity:U,arrowColor:$,arrowSize:it,setIsOpen:K,afterShow:ct,afterHide:pt,disableTooltip:rt,role:J="tooltip"},lt)=>{const[St,Tt]=j.useState(i),[Dt,kt]=j.useState(a),[zt,Jt]=j.useState(d),[Pt,re]=j.useState(c),[Bt,me]=j.useState(f),[Ye,le]=j.useState(C),[pn,Qt]=j.useState(A),[Ee,Nt]=j.useState(_),[Ht,te]=j.useState(M),[Vt,ee]=j.useState(g),[Se,Ge]=j.useState(y),[_n,$n]=j.useState(w),[mn,qe]=j.useState(null),[Be,Ui]=j.useState(null),Oi=j.useRef(V),{anchorRefs:jt,activeAnchor:we}=Ej(e),un=An=>An?.getAttributeNames().reduce((Yn,Wt)=>{var ge;return Wt.startsWith("data-tooltip-")&&(Yn[Wt.replace(/^data-tooltip-/,"")]=(ge=An?.getAttribute(Wt))!==null&&ge!==void 0?ge:null),Yn},{}),Hn=An=>{const Yn={place:Wt=>{var ge;Jt((ge=Wt)!==null&&ge!==void 0?ge:d)},content:Wt=>{Tt(Wt??i)},html:Wt=>{kt(Wt??a)},variant:Wt=>{var ge;re((ge=Wt)!==null&&ge!==void 0?ge:c)},offset:Wt=>{me(Wt===null?f:Number(Wt))},wrapper:Wt=>{var ge;ee((ge=Wt)!==null&&ge!==void 0?ge:g)},events:Wt=>{const ge=Wt?.split(" ");Ge(ge??y)},"position-strategy":Wt=>{var ge;$n((ge=Wt)!==null&&ge!==void 0?ge:w)},"delay-show":Wt=>{le(Wt===null?C:Number(Wt))},"delay-hide":Wt=>{Qt(Wt===null?A:Number(Wt))},float:Wt=>{Nt(Wt===null?_:Wt==="true")},hidden:Wt=>{te(Wt===null?M:Wt==="true")},"class-name":Wt=>{qe(Wt)}};Object.values(Yn).forEach(Wt=>Wt(null)),Object.entries(An).forEach(([Wt,ge])=>{var De;(De=Yn[Wt])===null||De===void 0||De.call(Yn,ge)})};j.useEffect(()=>{Tt(i)},[i]),j.useEffect(()=>{kt(a)},[a]),j.useEffect(()=>{Jt(d)},[d]),j.useEffect(()=>{re(c)},[c]),j.useEffect(()=>{me(f)},[f]),j.useEffect(()=>{le(C)},[C]),j.useEffect(()=>{Qt(A)},[A]),j.useEffect(()=>{Nt(_)},[_]),j.useEffect(()=>{te(M)},[M]),j.useEffect(()=>{$n(w)},[w]),j.useEffect(()=>{Oi.current!==V&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[V]),j.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:V==="core",disableBase:V}}))},[]),j.useEffect(()=>{var An;const Yn=new Set(jt);let Wt=n;if(!Wt&&e&&(Wt=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),Wt)try{document.querySelectorAll(Wt).forEach(qt=>{Yn.add({current:qt})})}catch{console.warn(`[react-tooltip] "${Wt}" is not a valid CSS selector`)}const ge=document.querySelector(`[id='${t}']`);if(ge&&Yn.add({current:ge}),!Yn.size)return()=>null;const De=(An=Be??ge)!==null&&An!==void 0?An:we.current,Ie=new MutationObserver(qt=>{qt.forEach(ae=>{var en;if(!De||ae.type!=="attributes"||!(!((en=ae.attributeName)===null||en===void 0)&&en.startsWith("data-tooltip-")))return;const kn=un(De);Hn(kn)})}),Mt={attributes:!0,childList:!1,subtree:!1};if(De){const qt=un(De);Hn(qt),Ie.observe(De,Mt)}return()=>{Ie.disconnect()}},[jt,we,Be,t,n]),j.useEffect(()=>{Z?.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),X&&!d8("border",`${X}`)&&console.warn(`[react-tooltip] "${X}" is not a valid \`border\`.`),Z?.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),U&&!d8("opacity",`${U}`)&&console.warn(`[react-tooltip] "${U}" is not a valid \`opacity\`.`)},[]);let fi=v;const Or=j.useRef(null);if(r){const An=r({content:Be?.getAttribute("data-tooltip-content")||St||null,activeAnchor:Be});fi=An?Y.createElement("div",{ref:Or,className:"react-tooltip-content-wrapper"},An):null}else St&&(fi=St);Dt&&(fi=Y.createElement(Dtt,{content:Dt}));const pi={forwardRef:lt,id:e,anchorId:t,anchorSelect:n,className:qn(s,mn),classNameArrow:o,content:fi,contentWrapperRef:Or,place:zt,variant:Pt,offset:Bt,wrapper:Vt,events:Se,openOnClick:b,positionStrategy:_n,middlewares:E,delayShow:Ye,delayHide:pn,float:Ee,hidden:Ht,noArrow:D,clickable:P,closeOnEsc:B,closeOnScroll:k,closeOnResize:z,openEvents:H,closeEvents:G,globalCloseEvents:Q,imperativeModeOnly:at,style:Z,position:nt,isOpen:tt,defaultIsOpen:I,border:X,opacity:U,arrowColor:$,arrowSize:it,setIsOpen:K,afterShow:ct,afterHide:pt,disableTooltip:rt,activeAnchor:Be,setActiveAnchor:An=>Ui(An),role:J};return Y.createElement(Mtt,{...pi})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||c8({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s;--rt-arrow-size:8px}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit;z-index:-1}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||c8({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:var(--rt-arrow-size);height:var(--rt-arrow-size)}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});function Ott({workspaceId:e,size:t=6}){const{data:n,isLoading:i}=_j(e);return i?L.jsx("div",{className:"flex gap-1 animate-pulse text-xs text-gray-400",children:"..."}):!n||n.length===0?L.jsx("span",{className:"text-gray-300 text-xs",children:"Sin miembros"}):L.jsxs("div",{className:"flex items-center -space-x-2",children:[n.slice(0,t).map(a=>{const r=a.user,s=r?.first_name||(r?.email?r.email.split("@")[0]:"S/N");return L.jsx("div",{"data-tooltip-id":`member-tooltip-${e}`,"data-tooltip-content":r.email,"data-tooltip-place":"top",className:"cursor-pointer",children:r.avatar?L.jsx("img",{src:r.avatar,alt:s,className:"w-7 h-7 rounded-full border-2 border-white shadow object-cover bg-gray-100",onError:o=>o.target.src="",style:{minWidth:28}}):L.jsx("div",{className:"w-7 h-7 flex items-center justify-center rounded-full border-2 border-white bg-gray-200 text-gray-500 font-bold text-xs",children:s.charAt(0).toUpperCase()})},r.id)}),n.length>t&&L.jsxs("span",{className:"w-7 h-7 rounded-full bg-gray-300 border-2 border-white flex items-center justify-center text-xs text-gray-700",children:["+",n.length-t]}),L.jsx(Aj,{id:`member-tooltip-${e}`})]})}const Ntt=(e,t="image.png")=>{const n=new FormData;return n.append("file",e,t),hi.post("/files",n)},Ptt=(e=[])=>hi.delete("/files",{data:e});function ktt(){const e=za();return lr({mutationFn:({file:t,fileName:n})=>Ntt(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["files"]})}})}function Ltt(){const e=za();return lr({mutationFn:t=>Ptt(t),onSuccess:()=>{e.invalidateQueries({queryKey:["files"]})}})}let jtt={data:""},Ftt=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||jtt,Btt=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Itt=/\/\*[^]*?\*\/|  +/g,m8=/\n+/g,Eu=(e,t)=>{let n="",i="",a="";for(let r in e){let s=e[r];r[0]=="@"?r[1]=="i"?n=r+" "+s+";":i+=r[1]=="f"?Eu(s,r):r+"{"+Eu(s,r[1]=="k"?"":t)+"}":typeof s=="object"?i+=Eu(s,t?t.replace(/([^,])+/g,o=>r.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):r):s!=null&&(r=/^--/.test(r)?r:r.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Eu.p?Eu.p(r,s):r+":"+s+";")}return n+(t&&a?t+"{"+a+"}":a)+i},uc={},Cj=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Cj(e[n]);return t}return e},ztt=(e,t,n,i,a)=>{let r=Cj(e),s=uc[r]||(uc[r]=(c=>{let d=0,f=11;for(;d<c.length;)f=101*f+c.charCodeAt(d++)>>>0;return"go"+f})(r));if(!uc[s]){let c=r!==e?e:(d=>{let f,g,v=[{}];for(;f=Btt.exec(d.replace(Itt,""));)f[4]?v.shift():f[3]?(g=f[3].replace(m8," ").trim(),v.unshift(v[0][g]=v[0][g]||{})):v[0][f[1]]=f[2].replace(m8," ").trim();return v[0]})(e);uc[s]=Eu(a?{["@keyframes "+s]:c}:c,n?"":"."+s)}let o=n&&uc.g?uc.g:null;return n&&(uc.g=uc[s]),((c,d,f,g)=>{g?d.data=d.data.replace(g,c):d.data.indexOf(c)===-1&&(d.data=f?c+d.data:d.data+c)})(uc[s],t,i,o),s},Utt=(e,t,n)=>e.reduce((i,a,r)=>{let s=t[r];if(s&&s.call){let o=s(n),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;s=c?"."+c:o&&typeof o=="object"?o.props?"":Eu(o,""):o===!1?"":o}return i+a+(s??"")},"");function $x(e){let t=this||{},n=e.call?e(t.p):e;return ztt(n.unshift?n.raw?Utt(n,[].slice.call(arguments,1),t.p):n.reduce((i,a)=>Object.assign(i,a&&a.call?a(t.p):a),{}):n,Ftt(t.target),t.g,t.o,t.k)}let Tj,SC,wC;$x.bind({g:1});let Ac=$x.bind({k:1});function Htt(e,t,n,i){Eu.p=t,Tj=e,SC=n,wC=i}function Gu(e,t){let n=this||{};return function(){let i=arguments;function a(r,s){let o=Object.assign({},r),c=o.className||a.className;n.p=Object.assign({theme:SC&&SC()},o),n.o=/ *go\d+/.test(c),o.className=$x.apply(n,i)+(c?" "+c:"");let d=e;return e[0]&&(d=o.as||e,delete o.as),wC&&d[0]&&wC(o),Tj(d,o)}return a}}var Gtt=e=>typeof e=="function",$1=(e,t)=>Gtt(e)?e(t):e,qtt=(()=>{let e=0;return()=>(++e).toString()})(),Rj=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Vtt=20,Mj=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Vtt)};case 1:return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case 2:let{toast:n}=t;return Mj(e,{type:e.toasts.find(r=>r.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(r=>r.id===i||i===void 0?{...r,dismissed:!0,visible:!1}:r)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(r=>({...r,pauseDuration:r.pauseDuration+a}))}}},S1=[],Jd={toasts:[],pausedAt:void 0},Ah=e=>{Jd=Mj(Jd,e),S1.forEach(t=>{t(Jd)})},$tt={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ytt=(e={})=>{let[t,n]=j.useState(Jd),i=j.useRef(Jd);j.useEffect(()=>(i.current!==Jd&&n(Jd),S1.push(n),()=>{let r=S1.indexOf(n);r>-1&&S1.splice(r,1)}),[]);let a=t.toasts.map(r=>{var s,o,c;return{...e,...e[r.type],...r,removeDelay:r.removeDelay||((s=e[r.type])==null?void 0:s.removeDelay)||e?.removeDelay,duration:r.duration||((o=e[r.type])==null?void 0:o.duration)||e?.duration||$tt[r.type],style:{...e.style,...(c=e[r.type])==null?void 0:c.style,...r.style}}});return{...t,toasts:a}},Ktt=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||qtt()}),Yv=e=>(t,n)=>{let i=Ktt(t,e,n);return Ah({type:2,toast:i}),i.id},Mn=(e,t)=>Yv("blank")(e,t);Mn.error=Yv("error");Mn.success=Yv("success");Mn.loading=Yv("loading");Mn.custom=Yv("custom");Mn.dismiss=e=>{Ah({type:3,toastId:e})};Mn.remove=e=>Ah({type:4,toastId:e});Mn.promise=(e,t,n)=>{let i=Mn.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let r=t.success?$1(t.success,a):void 0;return r?Mn.success(r,{id:i,...n,...n?.success}):Mn.dismiss(i),a}).catch(a=>{let r=t.error?$1(t.error,a):void 0;r?Mn.error(r,{id:i,...n,...n?.error}):Mn.dismiss(i)}),e};var Xtt=(e,t)=>{Ah({type:1,toast:{id:e,height:t}})},Wtt=()=>{Ah({type:5,time:Date.now()})},tv=new Map,Qtt=1e3,Ztt=(e,t=Qtt)=>{if(tv.has(e))return;let n=setTimeout(()=>{tv.delete(e),Ah({type:4,toastId:e})},t);tv.set(e,n)},Jtt=e=>{let{toasts:t,pausedAt:n}=Ytt(e);j.useEffect(()=>{if(n)return;let r=Date.now(),s=t.map(o=>{if(o.duration===1/0)return;let c=(o.duration||0)+o.pauseDuration-(r-o.createdAt);if(c<0){o.visible&&Mn.dismiss(o.id);return}return setTimeout(()=>Mn.dismiss(o.id),c)});return()=>{s.forEach(o=>o&&clearTimeout(o))}},[t,n]);let i=j.useCallback(()=>{n&&Ah({type:6,time:Date.now()})},[n]),a=j.useCallback((r,s)=>{let{reverseOrder:o=!1,gutter:c=8,defaultPosition:d}=s||{},f=t.filter(y=>(y.position||d)===(r.position||d)&&y.height),g=f.findIndex(y=>y.id===r.id),v=f.filter((y,b)=>b<g&&y.visible).length;return f.filter(y=>y.visible).slice(...o?[v+1]:[0,v]).reduce((y,b)=>y+(b.height||0)+c,0)},[t]);return j.useEffect(()=>{t.forEach(r=>{if(r.dismissed)Ztt(r.id,r.removeDelay);else{let s=tv.get(r.id);s&&(clearTimeout(s),tv.delete(r.id))}})},[t]),{toasts:t,handlers:{updateHeight:Xtt,startPause:Wtt,endPause:i,calculateOffset:a}}},tet=Ac`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,eet=Ac`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,net=Ac`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,iet=Gu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tet} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${eet} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${net} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,aet=Ac`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ret=Gu("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${aet} 1s linear infinite;
`,set=Ac`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,oet=Ac`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,cet=Gu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${set} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${oet} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,uet=Gu("div")`
  position: absolute;
`,det=Gu("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,het=Ac`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fet=Gu("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${het} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,pet=({toast:e})=>{let{icon:t,type:n,iconTheme:i}=e;return t!==void 0?typeof t=="string"?j.createElement(fet,null,t):t:n==="blank"?null:j.createElement(det,null,j.createElement(ret,{...i}),n!=="loading"&&j.createElement(uet,null,n==="error"?j.createElement(iet,{...i}):j.createElement(cet,{...i})))},met=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,get=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,vet="0%{opacity:0;} 100%{opacity:1;}",yet="0%{opacity:1;} 100%{opacity:0;}",bet=Gu("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,xet=Gu("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,wet=(e,t)=>{let n=e.includes("top")?1:-1,[i,a]=Rj()?[vet,yet]:[met(n),get(n)];return{animation:t?`${Ac(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ac(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},_et=j.memo(({toast:e,position:t,style:n,children:i})=>{let a=e.height?wet(e.position||t||"top-center",e.visible):{opacity:0},r=j.createElement(pet,{toast:e}),s=j.createElement(xet,{...e.ariaProps},$1(e.message,e));return j.createElement(bet,{className:e.className,style:{...a,...n,...e.style}},typeof i=="function"?i({icon:r,message:s}):j.createElement(j.Fragment,null,r,s))});Htt(j.createElement);var Eet=({id:e,className:t,style:n,onHeightUpdate:i,children:a})=>{let r=j.useCallback(s=>{if(s){let o=()=>{let c=s.getBoundingClientRect().height;i(e,c)};o(),new MutationObserver(o).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[e,i]);return j.createElement("div",{ref:r,className:t,style:n},a)},Aet=(e,t)=>{let n=e.includes("top"),i=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Rj()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...i,...a}},Cet=$x`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,$b=16,Dj=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:i,children:a,containerStyle:r,containerClassName:s})=>{let{toasts:o,handlers:c}=Jtt(n);return j.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:$b,left:$b,right:$b,bottom:$b,pointerEvents:"none",...r},className:s,onMouseEnter:c.startPause,onMouseLeave:c.endPause},o.map(d=>{let f=d.position||t,g=c.calculateOffset(d,{reverseOrder:e,gutter:i,defaultPosition:t}),v=Aet(f,g);return j.createElement(Eet,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?Cet:"",style:v},d.type==="custom"?$1(d.message,d):a?a(d):j.createElement(_et,{toast:d,position:f}))}))},g8=Mn;const Tet=e=>hi.post("/items/invitations",e);function Ret(){const e=za();return lr({mutationFn:Tet,onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["invitations",n.workspace_id]})}})}function Met({isOpen:e,workspace:t,onClose:n,onSuccess:i}){const a=Sl(G=>G.user),{data:r,isLoading:s}=_j(t?.id),o=btt(),c=Ret(),[d,f]=j.useState(t?.name||""),[g,v]=j.useState(t?.description||""),[y,b]=j.useState(!!t?.is_public),[w,E]=j.useState(t?.backgroundColor||"#ffffff"),[C,A]=j.useState(!1),[_,M]=j.useState(""),[D,P]=j.useState(!1),B=uT();Y.useEffect(()=>{f(t?.name||""),v(t?.description||""),b(!!t?.is_public),E(t?.backgroundColor||"#ffffff"),M("")},[t]);const k=async()=>{A(!0);try{await B.mutateAsync({id:t.id,data:{name:d,description:g,is_public:y,backgroundColor:w}}),Mn.success("Configuracin actualizada"),n?.(),i?.()}catch{Mn.error("Error al guardar los cambios")}A(!1)},z=async G=>{if(G.preventDefault(),!_.trim()||!_.includes("@")){Mn.error("Ingresa un correo vlido.");return}P(!0);try{await c.mutateAsync({email:_,workspace_id:t.id,invited_by:a.id}),Mn.success("Invitacin enviada"),M(""),i?.()}catch{Mn.error("Ocurri un error al enviar la invitacin")}P(!1)},H=async G=>{if(window.confirm(`Eliminar a ${G.user?.email}?`))try{await o.mutateAsync(G.id),Mn.success("Miembro eliminado"),i?.()}catch{Mn.error("Error al eliminar miembro")}};return t?L.jsx(nm,{isOpen:e,onClose:n,title:"Configuracin de mesa",className:"max-w-lg",children:L.jsxs("div",{className:"flex flex-col gap-6",children:[L.jsxs("div",{children:[L.jsx("label",{className:"font-semibold text-sm text-gray-700 mb-1 block",children:"Nombre de la mesa"}),L.jsx("input",{className:"w-full border px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-200 text-base",type:"text",value:d,maxLength:50,onChange:G=>f(G.target.value),disabled:C})]}),L.jsxs("div",{children:[L.jsx("label",{className:"font-semibold text-sm text-gray-700 mb-1 block",children:"Descripcin"}),L.jsx("textarea",{className:"w-full border px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-200 text-base resize-none",rows:2,value:g,maxLength:160,onChange:G=>v(G.target.value),disabled:C})]}),L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("span",{className:"font-semibold text-sm text-gray-700",children:"Visibilidad:"}),L.jsx("button",{type:"button",onClick:()=>b(!y),disabled:C,className:`flex items-center gap-1 px-3 py-1 rounded-full font-bold
              ${y?"bg-green-100 text-green-700":"bg-indigo-100 text-indigo-700"}
              hover:shadow transition`,title:y?"Haz privado":"Haz pblico",children:y?L.jsxs(L.Fragment,{children:[L.jsx(rG,{className:"w-4 h-4"}),"Pblico"]}):L.jsxs(L.Fragment,{children:[L.jsx(kp,{className:"w-4 h-4"}),"Privado"]})})]}),L.jsxs("div",{children:[L.jsx("label",{className:"font-semibold text-sm text-gray-700 mb-1 block",children:"Invitar miembro"}),L.jsxs("form",{className:"flex items-center gap-2",onSubmit:z,children:[L.jsx("input",{className:"flex-1 border px-3 py-2 rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-blue-200",type:"email",placeholder:"Correo electrnico",value:_,onChange:G=>M(G.target.value),disabled:D||C,autoComplete:"off",spellCheck:!1}),L.jsxs("button",{type:"submit",className:"flex items-center gap-1 px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-bold shadow disabled:opacity-60",disabled:D||C||!_,children:[L.jsx(TG,{className:"w-4 h-4"}),"Invitar"]})]}),L.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Se enviar una invitacin (si el usuario existe recibir una notificacin)."}),L.jsxs("div",{className:"mt-4",children:[L.jsx("label",{className:"font-semibold text-sm text-gray-700 mb-1 block",children:"Miembros actuales"}),L.jsx("div",{className:"flex flex-wrap gap-3 items-center",children:s?L.jsx("span",{className:"text-xs text-gray-400 animate-pulse",children:"Cargando..."}):r&&r.length>0?r.map(G=>{const Q=G.user,at=Q?.first_name||(Q?.email?Q.email.split("@")[0]:"S/N"),Z=t.owner===a.id&&a.id!==Q.id;return L.jsxs("div",{className:"flex flex-col items-center relative",children:[L.jsxs("div",{"data-tooltip-id":`member-tooltip-${Q.id}`,"data-tooltip-content":Q.email,"data-tooltip-place":"top",className:"cursor-pointer",children:[Q.avatar?L.jsx("img",{src:Q.avatar,alt:at,className:"w-10 h-10 rounded-full border-2 border-white shadow object-cover bg-gray-100"}):L.jsx("div",{className:"w-10 h-10 flex items-center justify-center rounded-full border-2 border-white bg-gray-200 text-gray-500 font-bold text-base",children:at.charAt(0).toUpperCase()}),L.jsx(Aj,{id:`member-tooltip-${Q.id}`})]}),L.jsx("span",{className:"text-xs text-gray-600 truncate max-w-[80px] mt-1",children:at}),Z&&L.jsx("button",{className:"absolute -top-2 -right-2 bg-white/90 rounded-full p-1 shadow-md border hover:bg-red-100 transition",title:"Eliminar miembro",onClick:()=>H(G),disabled:o.isLoading,children:L.jsx(Lv,{className:"w-4 h-4 text-red-500"})})]},Q.id)}):L.jsx("span",{className:"text-xs text-gray-400",children:"Sin miembros"})})]})]}),L.jsxs("div",{className:"flex justify-end gap-2 pt-3 border-t",children:[L.jsx("button",{className:"px-4 py-2 rounded-lg bg-gray-200 text-gray-700 font-semibold",onClick:n,disabled:C,children:"Cancelar"}),L.jsx("button",{className:"px-4 py-2 rounded-lg bg-blue-600 text-white font-bold shadow",onClick:k,disabled:C,children:"Guardar cambios"})]})]})}):null}function Det(){const e=Sl(P=>P.user),{data:t,isLoading:n,refetch:i}=htt(),a=t||[],r=_h(),[s,o]=j.useState(!1),[c,d]=j.useState(null),[f,g]=j.useState(!1),[v,y]=j.useState(null),[b,w]=j.useState(!1),[E,C]=j.useState(null),A=mtt(),_=Ltt(),M=async()=>{try{let P=[];v.background&&P.push(v.background),v.preview&&P.push(v.preview),P.length&&await _.mutateAsync(P),await A.mutateAsync(v.id),Mn.success("Workspace y archivos eliminados"),g(!1),y(null),await i()}catch{Mn.error("Error al eliminar workspace y sus archivos")}},D=P=>{C(P),w(!0)};return L.jsxs("div",{className:"w-full min-h-[calc(100vh-120px)] flex flex-col items-center px-2 py-8",children:[L.jsxs(xn.div,{className:`w-full max-w-3xl mx-auto mb-8 rounded-3xl shadow-2xl p-6 flex items-center gap-5 backdrop-blur-xl transition-all
          ${a.length===0?"flex-col bg-white/10 text-center py-12":"flex-row bg-white/20"}`,initial:{opacity:0,y:48},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:70},style:{border:"1.5px solid rgba(40,76,185,0.10)",background:a.length===0?"linear-gradient(120deg,rgba(37,99,235,0.10),rgba(255,255,255,0.05))":"linear-gradient(120deg,rgba(37,99,235,0.09),rgba(255,255,255,0.02))"},children:[L.jsxs("div",{className:"relative flex-shrink-0",children:[L.jsx("div",{className:`rounded-full border-4 border-[#2563eb] bg-white/70 shadow flex items-center justify-center overflow-hidden
            ${a.length===0?"h-24 w-24":"h-14 w-14"}
          `,children:e?.avatar?L.jsx("img",{src:e.avatar,alt:"avatar",className:"h-full w-full object-cover"}):L.jsx(NA,{className:`${a.length===0?"w-12 h-12":"w-8 h-8"} text-[#2563eb]`})}),a.length===0&&L.jsx("button",{className:"absolute bottom-2 right-0 bg-white rounded-full shadow p-1.5 border-2 border-[#2563eb] hover:bg-[#e8f1fa] transition",onClick:()=>r("/profile"),title:"Editar perfil",children:L.jsx(D1,{className:"w-5 h-5 text-[#2563eb]"})})]}),L.jsxs("div",{className:"flex-1",children:[L.jsx("h1",{className:`font-extrabold text-white mb-1 ${a.length===0?"text-2xl md:text-3xl":"text-xl md:text-2xl"}`,children:e?.first_name||e?.last_name?`Bienvenido, ${e?.first_name??""} ${e?.last_name??""}!`:"Bienvenido!"}),a.length===0?L.jsxs(L.Fragment,{children:[L.jsx("span",{className:"font-bold text-white/90 text-base",children:"Tus Mesas de Trabajo"}),L.jsxs("button",{className:"flex items-center justify-center w-full gap-2 px-5 py-2 mt-4 rounded-xl bg-[#2563eb] hover:bg-[#274B8A] text-white font-bold shadow transition",onClick:()=>{d(null),o(!0)},children:[L.jsx(ov,{className:"w-5 h-5"}),"Nueva mesa de trabajo"]}),L.jsx("div",{className:"text-xs text-gray-300 mt-2",children:"Organiza, colabora y comparte tus ideas con tu equipo."})]}):L.jsxs("div",{className:"flex items-center gap-4",children:[L.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[#2563eb] hover:bg-[#274B8A] text-white font-bold shadow transition text-sm",onClick:()=>{d(null),o(!0)},children:[L.jsx(ov,{className:"w-4 h-4"}),"Nueva mesa"]}),L.jsxs("span",{className:"text-sm text-white/80 font-semibold",children:[a.length," mesa",a.length>1?"s":""]})]})]})]}),L.jsx("div",{className:"w-full max-w-6xl mx-auto",children:n?L.jsxs("div",{className:"flex items-center gap-2 text-white/80 justify-center py-10",children:[L.jsx(c3,{className:"animate-spin"})," Cargando mesas..."]}):a.length===0?L.jsxs("div",{className:"text-white/60 text-center py-12 text-lg",children:[L.jsx("span",{className:"text-5xl block mb-3",children:""}),"No tienes mesas de trabajo todava.",L.jsx("br",{}),L.jsx("span",{className:"text-white/40",children:"Crea una nueva y comienza a organizar tus ideas!"})]}):L.jsx("div",{className:"grid gap-8 sm:grid-cols-2 lg:grid-cols-3",children:a.map(P=>L.jsxs(xn.div,{className:"relative rounded-3xl bg-white shadow-2xl hover:shadow-2xl hover:bg-gray-100 transition cursor-pointer overflow-hidden flex flex-col min-h-[180px] group backdrop-blur-2xl",onClick:()=>r(`/workspace/${P.id}`),style:{borderLeft:"8px solid #2563eb22",borderRight:"3px solid #2563eb09"},children:[L.jsx("div",{className:"absolute top-3 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition pointer-events-auto z-30",children:P.owner===e.id&&L.jsxs(L.Fragment,{children:[L.jsx("button",{onClick:B=>{B.stopPropagation(),y(P),g(!0)},className:"p-1.5 rounded-full hover:bg-red-100 transition",title:"Eliminar mesa",children:L.jsx(Lv,{className:"w-5 h-5 text-red-500"})}),L.jsx("button",{onClick:B=>{B.stopPropagation(),D(P)},className:"p-1.5 rounded-full hover:bg-blue-100 transition",title:"Configuraciones",children:L.jsx(qG,{className:"w-5 h-5 text-blue-500"})})]})}),L.jsxs("div",{className:"flex-1 flex flex-col p-6",children:[L.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[L.jsx("span",{className:"font-bold text-lg text-[#274B8A]",children:P.name}),P.is_public?L.jsxs("span",{className:"flex items-center gap-1 text-xs px-2 py-0.5 rounded-lg bg-green-100 text-green-700 font-semibold",children:[L.jsx(oq,{className:"inline-block w-3 h-3"}),"Pblico"]}):L.jsxs("span",{className:"flex items-center gap-1 text-xs px-2 py-0.5 rounded-lg bg-gray-200 text-indigo-700 font-semibold",children:[L.jsx(kp,{className:"inline-block w-3 h-3"}),"Privado"]})]}),L.jsx("div",{className:"text-sm text-gray-700 mb-3 line-clamp-2 min-h-[2em]",children:P.description||L.jsx("span",{className:"text-gray-300 italic",children:"Sin descripcin"})}),L.jsxs("div",{className:"flex items-center gap-2 mt-auto",children:[L.jsx(Ott,{workspaceId:P.id}),L.jsx("span",{className:"ml-auto text-xs text-gray-400",children:P.date_created&&new Date(P.date_created).toLocaleDateString()})]})]})]},P.id))})}),L.jsx(gtt,{isOpen:s,onClose:()=>{d(null),o(!1)},initialData:c,onSuccess:async()=>{o(!1),d(null),await i()}}),L.jsx(nm,{isOpen:f,onClose:()=>{g(!1),y(null)},title:"Eliminar mesa?",children:L.jsxs("div",{className:"space-y-4",children:[L.jsxs("p",{children:["Ests seguro de que quieres eliminar la mesa"," ",L.jsx("b",{children:v?.name}),"? Esta accin no se puede deshacer."]}),L.jsxs("div",{className:"flex justify-end gap-2",children:[L.jsx("button",{onClick:()=>{g(!1),y(null)},className:"px-3 py-1 rounded bg-gray-200",children:"Cancelar"}),L.jsx("button",{onClick:M,className:"px-3 py-1 rounded bg-red-500 text-white font-semibold",children:"Eliminar"})]})]})}),L.jsx(Met,{isOpen:b,workspace:E,onClose:()=>w(!1),onSuccess:i})]})}const ba=[];for(let e=0;e<256;++e)ba.push((e+256).toString(16).slice(1));function Oet(e,t=0){return(ba[e[t+0]]+ba[e[t+1]]+ba[e[t+2]]+ba[e[t+3]]+"-"+ba[e[t+4]]+ba[e[t+5]]+"-"+ba[e[t+6]]+ba[e[t+7]]+"-"+ba[e[t+8]]+ba[e[t+9]]+"-"+ba[e[t+10]]+ba[e[t+11]]+ba[e[t+12]]+ba[e[t+13]]+ba[e[t+14]]+ba[e[t+15]]).toLowerCase()}let VS;const Net=new Uint8Array(16);function Pet(){if(!VS){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");VS=crypto.getRandomValues.bind(crypto)}return VS(Net)}const ket=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),v8={randomUUID:ket};function Let(e,t,n){if(v8.randomUUID&&!e)return v8.randomUUID();e=e||{};const i=e.random??e.rng?.()??Pet();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Oet(i)}function uh(){return Let()}const jet=20,Fet="black",Bet="transparent",y8="#ffffff",b8=uh();function Iet(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Lt=nk((e,t)=>({mode:"view",tool:"select",selectedShapeId:null,selectedShapeIds:[],zoom:1,pan:{x:0,y:0},gridEnabled:!0,strokeColor:Fet,fillColor:Bet,backgroundColor:y8,backgroundImage:null,layers:[{id:b8,name:"Capa 1",visible:!0,locked:!1,opacity:1,_isNew:!1,_dirty:!1,_toDelete:!1}],activeLayerId:b8,shapes:[],clipboardShape:null,history:[],future:[],canvasWidth:1200,canvasHeight:900,setAllLayers:n=>e({layers:n.map((i,a)=>({...i,_isNew:!1,_dirty:!1,_toDelete:!1,name:i.name||`Capa ${a+1}`}))}),setAllShapes:n=>e({shapes:n.map(i=>({...i,_isNew:!1,_dirty:!1,_toDelete:!1}))}),markAsNew:(n,i)=>e(a=>({[n]:a[n].map(r=>r.id===i?{...r,_isNew:!0,_dirty:!1,_toDelete:!1}:r)})),markAsDirty:(n,i)=>e(a=>({[n]:a[n].map(r=>r.id===i&&!r._isNew?{...r,_dirty:!0}:r)})),markAsToDelete:(n,i)=>e(a=>({[n]:a[n].map(r=>r.id===i?{...r,_toDelete:!0}:r)})),clearAllFlags:()=>e(n=>({layers:n.layers.map(i=>({...i,_isNew:!1,_dirty:!1,_toDelete:!1})),shapes:n.shapes.map(i=>({...i,_isNew:!1,_dirty:!1,_toDelete:!1}))})),saveToHistory:()=>{const{shapes:n,layers:i,backgroundColor:a,history:r}=t();e({history:[...r,{shapes:JSON.parse(JSON.stringify(n)),layers:JSON.parse(JSON.stringify(i)),backgroundColor:a}],future:[]})},undo:()=>{const{history:n,future:i,shapes:a,layers:r,backgroundColor:s}=t();if(n.length===0)return;const o=n[n.length-1];e({shapes:o.shapes,layers:o.layers,backgroundColor:o.backgroundColor,history:n.slice(0,n.length-1),future:[...i,{shapes:JSON.parse(JSON.stringify(a)),layers:JSON.parse(JSON.stringify(r)),backgroundColor:s}]})},redo:()=>{const{history:n,future:i,shapes:a,layers:r,backgroundColor:s}=t();if(i.length===0)return;const o=i[i.length-1];e({shapes:o.shapes,layers:o.layers,backgroundColor:o.backgroundColor,history:[...n,{shapes:JSON.parse(JSON.stringify(a)),layers:JSON.parse(JSON.stringify(r)),backgroundColor:s}],future:i.slice(0,i.length-1)})},setMode:n=>{e(n==="view"?{mode:n,selectedShapeId:null,selectedShapeIds:[],tool:"select"}:{mode:n})},toggleMode:()=>e(n=>{const i=n.mode==="edit"?"view":"edit";return i==="view"?{mode:i,selectedShapeId:null,selectedShapeIds:[],tool:"select"}:{mode:i}}),setTool:n=>e({tool:n}),setSelectedShape:n=>{t().selectedShapeId!==n&&e({selectedShapeId:n,selectedShapeIds:n?[n]:[]})},addToSelection:n=>{const i=t().selectedShapeIds;if(!i.includes(n)){const a=[...i,n];e({selectedShapeIds:a,selectedShapeId:a.length===1?a[0]:null})}},removeFromSelection:n=>{const a=t().selectedShapeIds.filter(r=>r!==n);e({selectedShapeIds:a,selectedShapeId:a.length===1?a[0]:null})},toggleSelection:n=>{t().selectedShapeIds.includes(n)?t().removeFromSelection(n):t().addToSelection(n)},clearSelection:()=>{e({selectedShapeId:null,selectedShapeIds:[]})},setMultipleSelection:n=>{e({selectedShapeIds:n,selectedShapeId:n.length===1?n[0]:null})},setZoom:n=>e({zoom:n}),setPan:n=>e({pan:n}),zoomIn:()=>e(n=>({zoom:n.zoom*1.2})),zoomOut:()=>e(n=>({zoom:n.zoom/1.2})),resetView:()=>e({zoom:1,pan:{x:0,y:0}}),toggleGrid:()=>e(n=>({gridEnabled:!n.gridEnabled})),setStrokeColor:n=>e({strokeColor:n}),setFillColor:n=>e({fillColor:n}),setBackgroundColor:n=>{t().saveToHistory(),e({backgroundColor:n})},setBackgroundImage:n=>e({backgroundImage:n}),clearBackgroundImage:()=>e({backgroundImage:null}),setCanvasSize:({width:n,height:i})=>e({canvasWidth:n,canvasHeight:i}),addLayer:()=>{t().saveToHistory();const n=uh(),i=t().layers||[];let a=0;const r=/^Capa (\d+)$/i;i.forEach(o=>{const c=o.name&&o.name.match(r);if(c){const d=parseInt(c[1],10);!isNaN(d)&&d>a&&(a=d)}});const s=`Capa ${a+1}`;return e(o=>({layers:[...o.layers,{id:n,name:s,visible:!0,locked:!1,opacity:1,order:o.layers.length,_isNew:!0,_dirty:!1,_toDelete:!1}],activeLayerId:n})),n},toggleLayerVisibility:n=>{t().saveToHistory(),e(i=>({layers:i.layers.map(a=>a.id===n?{...a,visible:!a.visible,_dirty:a._isNew?a._dirty:!0}:a)}))},toggleLayerLock:n=>{t().saveToHistory(),e(i=>({layers:i.layers.map(a=>a.id===n?{...a,locked:!a.locked,_dirty:a._isNew?a._dirty:!0}:a)}))},setActiveLayer:n=>e({activeLayerId:n}),removeLayer:n=>{t().saveToHistory(),e(i=>({layers:i.layers.map(a=>a.id===n?{...a,_toDelete:!0}:a),shapes:i.shapes.map(a=>a.layerId===n?{...a,_toDelete:!0}:a),activeLayerId:i.activeLayerId===n?i.layers[0]?.id||null:i.activeLayerId}))},moveLayerUp:n=>{t().saveToHistory(),e(i=>{const a=i.layers.findIndex(s=>s.id===n);if(a<=0)return{};const r=[...i.layers];return[r[a-1],r[a]]=[r[a],r[a-1]],r.forEach((s,o)=>{s.order=o,s._isNew||(s._dirty=!0)}),{layers:r}})},moveLayerDown:n=>{t().saveToHistory(),e(i=>{const a=i.layers.findIndex(s=>s.id===n);if(a===-1||a===i.layers.length-1)return{};const r=[...i.layers];return[r[a],r[a+1]]=[r[a+1],r[a]],r.forEach((s,o)=>{s.order=o,s._isNew||(s._dirty=!0)}),{layers:r}})},setLayerOpacity:(n,i)=>{t().saveToHistory(),e(a=>({layers:a.layers.map(r=>r.id===n?{...r,opacity:i,_dirty:r._isNew?r._dirty:!0}:r)}))},renameLayer:(n,i)=>e(a=>({layers:a.layers.map(r=>r.id===n?{...r,name:i,_dirty:r._isNew?r._dirty:!0}:r)})),addShape:n=>{t().saveToHistory();const i=uh(),a=t(),r=n.type||"Shape",s=a.shapes.filter(f=>f.layerId===n.layerId),o=typeof n.order=="number"?n.order:s.length,c=a.shapes.filter(f=>f.type===r),d=`${Iet(r)} ${c.length+1}`;return e(f=>({shapes:[...f.shapes,{id:i,...n,order:o,name:n.name||d,_isNew:!0,_dirty:!1,_toDelete:!1}]})),i},updateShape:(n,i)=>{e(a=>({shapes:a.shapes.map(r=>r.id===n?{...r,props:{...r.props,...i},_dirty:r._isNew?r._dirty:!0}:r)}))},removeShape:n=>{t().saveToHistory(),e(i=>({shapes:i.shapes.map(a=>a.id===n?{...a,_toDelete:!0}:a),selectedShapeIds:i.selectedShapeIds.filter(a=>a!==n),selectedShapeId:i.selectedShapeId===n?null:i.selectedShapeId}))},removeSelectedShapes:()=>{const{selectedShapeIds:n}=t();n.length>0&&(t().saveToHistory(),e(i=>({shapes:i.shapes.map(a=>n.includes(a.id)?{...a,_toDelete:!0}:a),selectedShapeIds:[],selectedShapeId:null})))},bringShapeToFront:n=>{t().saveToHistory(),e(i=>{const a=[...i.shapes],r=a.findIndex(o=>o.id===n);if(r===-1)return{};const[s]=a.splice(r,1);return a.push(s),{shapes:a.map(o=>({...o,_dirty:o._isNew?o._dirty:!0}))}})},sendShapeToBack:n=>{t().saveToHistory(),e(i=>{const a=[...i.shapes],r=a.findIndex(o=>o.id===n);if(r===-1)return{};const[s]=a.splice(r,1);return a.unshift(s),{shapes:a.map(o=>({...o,_dirty:o._isNew?o._dirty:!0}))}})},bringShapeForward:n=>{t().saveToHistory(),e(i=>{const a=[...i.shapes],r=a.findIndex(s=>s.id===n);return r<0||r===a.length-1?{}:([a[r],a[r+1]]=[a[r+1],a[r]],{shapes:a.map(s=>({...s,_dirty:s._isNew?s._dirty:!0}))})})},sendShapeBackward:n=>{t().saveToHistory(),e(i=>{const a=[...i.shapes],r=a.findIndex(s=>s.id===n);return r<=0?{}:([a[r],a[r-1]]=[a[r-1],a[r]],{shapes:a.map(s=>({...s,_dirty:s._isNew?s._dirty:!0}))})})},copyShape:n=>{const i=t().shapes.find(a=>a.id===n);i&&e({clipboardShape:JSON.parse(JSON.stringify({...i,id:void 0}))})},pasteShape:()=>{const n=t().clipboardShape;if(n){let i={...n.props};if(typeof i.x=="number"&&(i.x+=30),typeof i.y=="number"&&(i.y+=30),Array.isArray(i.points))for(let a=0;a<i.points.length;a+=2)i.points[a]+=30,i.points[a+1]+=30;t().addShape({...n,props:i})}},replaceShape:n=>{const{clipboardShape:i,shapes:a,addShape:r,removeShape:s}=t();if(!i)return;const o=a.find(f=>f.id===n);if(!o)return;let c={...i.props};delete c.id,c.x=o.props.x,c.y=o.props.y,"width"in o.props&&(c.width=o.props.width),"height"in o.props&&(c.height=o.props.height),"radius"in o.props&&(c.radius=o.props.radius),"points"in o.props&&(c.points=[...o.props.points]),"rotation"in o.props&&(c.rotation=o.props.rotation),"scaleX"in o.props&&(c.scaleX=o.props.scaleX),"scaleY"in o.props&&(c.scaleY=o.props.scaleY);const d=o.name||i.name;"text"in o.props&&(c.text=o.props.text),s(n),r({id:uh(),...i,layerId:o.layerId,name:d,props:c})},toggleShapeVisibility:n=>{t().saveToHistory(),e(i=>({shapes:i.shapes.map(a=>a.id===n?{...a,visible:!a.visible,_dirty:a._isNew?a._dirty:!0}:a)}))},renameShape:(n,i)=>e(a=>({shapes:a.shapes.map(r=>r.id===n?{...r,name:i,_dirty:r._isNew?r._dirty:!0}:r)})),layersPanelVisible:!1,showLayersPanel:()=>e({layersPanelVisible:!0}),hideLayersPanel:()=>e({layersPanelVisible:!1}),toggleLayersPanel:()=>e(n=>({layersPanelVisible:!n.layersPanelVisible})),resetAll:()=>e({layers:[],shapes:[],selectedShapeId:null,selectedShapeIds:[],history:[],future:[],backgroundImage:null,backgroundColor:y8,canvasWidth:1200,canvasHeight:900,layersPanelVisible:!1,mode:"view",tool:"select",pan:{x:0,y:0},zoom:1})}));var xr={},$f={},$S,x8;function Oj(){if(x8)return $S;x8=1;var e=typeof xp=="object"&&xp&&xp.Object===Object&&xp;return $S=e,$S}var YS,S8;function Rl(){if(S8)return YS;S8=1;var e=Oj(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return YS=n,YS}var KS,w8;function Kv(){if(w8)return KS;w8=1;var e=Rl(),t=e.Symbol;return KS=t,KS}var XS,_8;function zet(){if(_8)return XS;_8=1;var e=Kv(),t=Object.prototype,n=t.hasOwnProperty,i=t.toString,a=e?e.toStringTag:void 0;function r(s){var o=n.call(s,a),c=s[a];try{s[a]=void 0;var d=!0}catch{}var f=i.call(s);return d&&(o?s[a]=c:delete s[a]),f}return XS=r,XS}var WS,E8;function Uet(){if(E8)return WS;E8=1;var e=Object.prototype,t=e.toString;function n(i){return t.call(i)}return WS=n,WS}var QS,A8;function Ch(){if(A8)return QS;A8=1;var e=Kv(),t=zet(),n=Uet(),i="[object Null]",a="[object Undefined]",r=e?e.toStringTag:void 0;function s(o){return o==null?o===void 0?a:i:r&&r in Object(o)?t(o):n(o)}return QS=s,QS}var ZS,C8;function So(){if(C8)return ZS;C8=1;var e=Array.isArray;return ZS=e,ZS}var JS,T8;function Tc(){if(T8)return JS;T8=1;function e(t){return t!=null&&typeof t=="object"}return JS=e,JS}var tw,R8;function Het(){if(R8)return tw;R8=1;var e=Ch(),t=So(),n=Tc(),i="[object String]";function a(r){return typeof r=="string"||!t(r)&&n(r)&&e(r)==i}return tw=a,tw}var ew,M8;function Get(){if(M8)return ew;M8=1;function e(t){return function(n,i,a){for(var r=-1,s=Object(n),o=a(n),c=o.length;c--;){var d=o[t?c:++r];if(i(s[d],d,s)===!1)break}return n}}return ew=e,ew}var nw,D8;function qet(){if(D8)return nw;D8=1;var e=Get(),t=e();return nw=t,nw}var iw,O8;function Vet(){if(O8)return iw;O8=1;function e(t,n){for(var i=-1,a=Array(t);++i<t;)a[i]=n(i);return a}return iw=e,iw}var aw,N8;function $et(){if(N8)return aw;N8=1;var e=Ch(),t=Tc(),n="[object Arguments]";function i(a){return t(a)&&e(a)==n}return aw=i,aw}var rw,P8;function Nj(){if(P8)return rw;P8=1;var e=$et(),t=Tc(),n=Object.prototype,i=n.hasOwnProperty,a=n.propertyIsEnumerable,r=e(function(){return arguments}())?e:function(s){return t(s)&&i.call(s,"callee")&&!a.call(s,"callee")};return rw=r,rw}var B0={exports:{}},sw,k8;function Yet(){if(k8)return sw;k8=1;function e(){return!1}return sw=e,sw}B0.exports;var L8;function dT(){return L8||(L8=1,function(e,t){var n=Rl(),i=Yet(),a=t&&!t.nodeType&&t,r=a&&!0&&e&&!e.nodeType&&e,s=r&&r.exports===a,o=s?n.Buffer:void 0,c=o?o.isBuffer:void 0,d=c||i;e.exports=d}(B0,B0.exports)),B0.exports}var ow,j8;function Pj(){if(j8)return ow;j8=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(i,a){var r=typeof i;return a=a??e,!!a&&(r=="number"||r!="symbol"&&t.test(i))&&i>-1&&i%1==0&&i<a}return ow=n,ow}var lw,F8;function hT(){if(F8)return lw;F8=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return lw=t,lw}var cw,B8;function Ket(){if(B8)return cw;B8=1;var e=Ch(),t=hT(),n=Tc(),i="[object Arguments]",a="[object Array]",r="[object Boolean]",s="[object Date]",o="[object Error]",c="[object Function]",d="[object Map]",f="[object Number]",g="[object Object]",v="[object RegExp]",y="[object Set]",b="[object String]",w="[object WeakMap]",E="[object ArrayBuffer]",C="[object DataView]",A="[object Float32Array]",_="[object Float64Array]",M="[object Int8Array]",D="[object Int16Array]",P="[object Int32Array]",B="[object Uint8Array]",k="[object Uint8ClampedArray]",z="[object Uint16Array]",H="[object Uint32Array]",G={};G[A]=G[_]=G[M]=G[D]=G[P]=G[B]=G[k]=G[z]=G[H]=!0,G[i]=G[a]=G[E]=G[r]=G[C]=G[s]=G[o]=G[c]=G[d]=G[f]=G[g]=G[v]=G[y]=G[b]=G[w]=!1;function Q(at){return n(at)&&t(at.length)&&!!G[e(at)]}return cw=Q,cw}var uw,I8;function fT(){if(I8)return uw;I8=1;function e(t){return function(n){return t(n)}}return uw=e,uw}var I0={exports:{}};I0.exports;var z8;function pT(){return z8||(z8=1,function(e,t){var n=Oj(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,r=a&&a.exports===i,s=r&&n.process,o=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o}(I0,I0.exports)),I0.exports}var dw,U8;function kj(){if(U8)return dw;U8=1;var e=Ket(),t=fT(),n=pT(),i=n&&n.isTypedArray,a=i?t(i):e;return dw=a,dw}var hw,H8;function Lj(){if(H8)return hw;H8=1;var e=Vet(),t=Nj(),n=So(),i=dT(),a=Pj(),r=kj(),s=Object.prototype,o=s.hasOwnProperty;function c(d,f){var g=n(d),v=!g&&t(d),y=!g&&!v&&i(d),b=!g&&!v&&!y&&r(d),w=g||v||y||b,E=w?e(d.length,String):[],C=E.length;for(var A in d)(f||o.call(d,A))&&!(w&&(A=="length"||y&&(A=="offset"||A=="parent")||b&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||a(A,C)))&&E.push(A);return E}return hw=c,hw}var fw,G8;function mT(){if(G8)return fw;G8=1;var e=Object.prototype;function t(n){var i=n&&n.constructor,a=typeof i=="function"&&i.prototype||e;return n===a}return fw=t,fw}var pw,q8;function jj(){if(q8)return pw;q8=1;function e(t,n){return function(i){return t(n(i))}}return pw=e,pw}var mw,V8;function Xet(){if(V8)return mw;V8=1;var e=jj(),t=e(Object.keys,Object);return mw=t,mw}var gw,$8;function Wet(){if($8)return gw;$8=1;var e=mT(),t=Xet(),n=Object.prototype,i=n.hasOwnProperty;function a(r){if(!e(r))return t(r);var s=[];for(var o in Object(r))i.call(r,o)&&o!="constructor"&&s.push(o);return s}return gw=a,gw}var vw,Y8;function im(){if(Y8)return vw;Y8=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return vw=e,vw}var yw,K8;function Fj(){if(K8)return yw;K8=1;var e=Ch(),t=im(),n="[object AsyncFunction]",i="[object Function]",a="[object GeneratorFunction]",r="[object Proxy]";function s(o){if(!t(o))return!1;var c=e(o);return c==i||c==a||c==n||c==r}return yw=s,yw}var bw,X8;function Yx(){if(X8)return bw;X8=1;var e=Fj(),t=hT();function n(i){return i!=null&&t(i.length)&&!e(i)}return bw=n,bw}var xw,W8;function Xv(){if(W8)return xw;W8=1;var e=Lj(),t=Wet(),n=Yx();function i(a){return n(a)?e(a):t(a)}return xw=i,xw}var Sw,Q8;function Bj(){if(Q8)return Sw;Q8=1;var e=qet(),t=Xv();function n(i,a){return i&&e(i,a,t)}return Sw=n,Sw}var ww,Z8;function Ij(){if(Z8)return ww;Z8=1;function e(t){return t}return ww=e,ww}var _w,J8;function Qet(){if(J8)return _w;J8=1;var e=Ij();function t(n){return typeof n=="function"?n:e}return _w=t,_w}var Ew,tM;function gT(){if(tM)return Ew;tM=1;var e=Bj(),t=Qet();function n(i,a){return i&&e(i,t(a))}return Ew=n,Ew}var Aw,eM;function vT(){if(eM)return Aw;eM=1;var e=jj(),t=e(Object.getPrototypeOf,Object);return Aw=t,Aw}var Cw,nM;function Zet(){if(nM)return Cw;nM=1;var e=Ch(),t=vT(),n=Tc(),i="[object Object]",a=Function.prototype,r=Object.prototype,s=a.toString,o=r.hasOwnProperty,c=s.call(Object);function d(f){if(!n(f)||e(f)!=i)return!1;var g=t(f);if(g===null)return!0;var v=o.call(g,"constructor")&&g.constructor;return typeof v=="function"&&v instanceof v&&s.call(v)==c}return Cw=d,Cw}var Tw,iM;function zj(){if(iM)return Tw;iM=1;function e(t,n){for(var i=-1,a=t==null?0:t.length,r=Array(a);++i<a;)r[i]=n(t[i],i,t);return r}return Tw=e,Tw}var Rw,aM;function Jet(){if(aM)return Rw;aM=1;function e(){this.__data__=[],this.size=0}return Rw=e,Rw}var Mw,rM;function yT(){if(rM)return Mw;rM=1;function e(t,n){return t===n||t!==t&&n!==n}return Mw=e,Mw}var Dw,sM;function Kx(){if(sM)return Dw;sM=1;var e=yT();function t(n,i){for(var a=n.length;a--;)if(e(n[a][0],i))return a;return-1}return Dw=t,Dw}var Ow,oM;function tnt(){if(oM)return Ow;oM=1;var e=Kx(),t=Array.prototype,n=t.splice;function i(a){var r=this.__data__,s=e(r,a);if(s<0)return!1;var o=r.length-1;return s==o?r.pop():n.call(r,s,1),--this.size,!0}return Ow=i,Ow}var Nw,lM;function ent(){if(lM)return Nw;lM=1;var e=Kx();function t(n){var i=this.__data__,a=e(i,n);return a<0?void 0:i[a][1]}return Nw=t,Nw}var Pw,cM;function nnt(){if(cM)return Pw;cM=1;var e=Kx();function t(n){return e(this.__data__,n)>-1}return Pw=t,Pw}var kw,uM;function int(){if(uM)return kw;uM=1;var e=Kx();function t(n,i){var a=this.__data__,r=e(a,n);return r<0?(++this.size,a.push([n,i])):a[r][1]=i,this}return kw=t,kw}var Lw,dM;function Xx(){if(dM)return Lw;dM=1;var e=Jet(),t=tnt(),n=ent(),i=nnt(),a=int();function r(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var d=s[o];this.set(d[0],d[1])}}return r.prototype.clear=e,r.prototype.delete=t,r.prototype.get=n,r.prototype.has=i,r.prototype.set=a,Lw=r,Lw}var jw,hM;function ant(){if(hM)return jw;hM=1;var e=Xx();function t(){this.__data__=new e,this.size=0}return jw=t,jw}var Fw,fM;function rnt(){if(fM)return Fw;fM=1;function e(t){var n=this.__data__,i=n.delete(t);return this.size=n.size,i}return Fw=e,Fw}var Bw,pM;function snt(){if(pM)return Bw;pM=1;function e(t){return this.__data__.get(t)}return Bw=e,Bw}var Iw,mM;function ont(){if(mM)return Iw;mM=1;function e(t){return this.__data__.has(t)}return Iw=e,Iw}var zw,gM;function lnt(){if(gM)return zw;gM=1;var e=Rl(),t=e["__core-js_shared__"];return zw=t,zw}var Uw,vM;function cnt(){if(vM)return Uw;vM=1;var e=lnt(),t=function(){var i=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function n(i){return!!t&&t in i}return Uw=n,Uw}var Hw,yM;function Uj(){if(yM)return Hw;yM=1;var e=Function.prototype,t=e.toString;function n(i){if(i!=null){try{return t.call(i)}catch{}try{return i+""}catch{}}return""}return Hw=n,Hw}var Gw,bM;function unt(){if(bM)return Gw;bM=1;var e=Fj(),t=cnt(),n=im(),i=Uj(),a=/[\\^$.*+?()[\]{}|]/g,r=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,c=s.toString,d=o.hasOwnProperty,f=RegExp("^"+c.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(v){if(!n(v)||t(v))return!1;var y=e(v)?f:r;return y.test(i(v))}return Gw=g,Gw}var qw,xM;function dnt(){if(xM)return qw;xM=1;function e(t,n){return t?.[n]}return qw=e,qw}var Vw,SM;function Th(){if(SM)return Vw;SM=1;var e=unt(),t=dnt();function n(i,a){var r=t(i,a);return e(r)?r:void 0}return Vw=n,Vw}var $w,wM;function bT(){if(wM)return $w;wM=1;var e=Th(),t=Rl(),n=e(t,"Map");return $w=n,$w}var Yw,_M;function Wx(){if(_M)return Yw;_M=1;var e=Th(),t=e(Object,"create");return Yw=t,Yw}var Kw,EM;function hnt(){if(EM)return Kw;EM=1;var e=Wx();function t(){this.__data__=e?e(null):{},this.size=0}return Kw=t,Kw}var Xw,AM;function fnt(){if(AM)return Xw;AM=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Xw=e,Xw}var Ww,CM;function pnt(){if(CM)return Ww;CM=1;var e=Wx(),t="__lodash_hash_undefined__",n=Object.prototype,i=n.hasOwnProperty;function a(r){var s=this.__data__;if(e){var o=s[r];return o===t?void 0:o}return i.call(s,r)?s[r]:void 0}return Ww=a,Ww}var Qw,TM;function mnt(){if(TM)return Qw;TM=1;var e=Wx(),t=Object.prototype,n=t.hasOwnProperty;function i(a){var r=this.__data__;return e?r[a]!==void 0:n.call(r,a)}return Qw=i,Qw}var Zw,RM;function gnt(){if(RM)return Zw;RM=1;var e=Wx(),t="__lodash_hash_undefined__";function n(i,a){var r=this.__data__;return this.size+=this.has(i)?0:1,r[i]=e&&a===void 0?t:a,this}return Zw=n,Zw}var Jw,MM;function vnt(){if(MM)return Jw;MM=1;var e=hnt(),t=fnt(),n=pnt(),i=mnt(),a=gnt();function r(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var d=s[o];this.set(d[0],d[1])}}return r.prototype.clear=e,r.prototype.delete=t,r.prototype.get=n,r.prototype.has=i,r.prototype.set=a,Jw=r,Jw}var t_,DM;function ynt(){if(DM)return t_;DM=1;var e=vnt(),t=Xx(),n=bT();function i(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return t_=i,t_}var e_,OM;function bnt(){if(OM)return e_;OM=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return e_=e,e_}var n_,NM;function Qx(){if(NM)return n_;NM=1;var e=bnt();function t(n,i){var a=n.__data__;return e(i)?a[typeof i=="string"?"string":"hash"]:a.map}return n_=t,n_}var i_,PM;function xnt(){if(PM)return i_;PM=1;var e=Qx();function t(n){var i=e(this,n).delete(n);return this.size-=i?1:0,i}return i_=t,i_}var a_,kM;function Snt(){if(kM)return a_;kM=1;var e=Qx();function t(n){return e(this,n).get(n)}return a_=t,a_}var r_,LM;function wnt(){if(LM)return r_;LM=1;var e=Qx();function t(n){return e(this,n).has(n)}return r_=t,r_}var s_,jM;function _nt(){if(jM)return s_;jM=1;var e=Qx();function t(n,i){var a=e(this,n),r=a.size;return a.set(n,i),this.size+=a.size==r?0:1,this}return s_=t,s_}var o_,FM;function xT(){if(FM)return o_;FM=1;var e=ynt(),t=xnt(),n=Snt(),i=wnt(),a=_nt();function r(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var d=s[o];this.set(d[0],d[1])}}return r.prototype.clear=e,r.prototype.delete=t,r.prototype.get=n,r.prototype.has=i,r.prototype.set=a,o_=r,o_}var l_,BM;function Ent(){if(BM)return l_;BM=1;var e=Xx(),t=bT(),n=xT(),i=200;function a(r,s){var o=this.__data__;if(o instanceof e){var c=o.__data__;if(!t||c.length<i-1)return c.push([r,s]),this.size=++o.size,this;o=this.__data__=new n(c)}return o.set(r,s),this.size=o.size,this}return l_=a,l_}var c_,IM;function ST(){if(IM)return c_;IM=1;var e=Xx(),t=ant(),n=rnt(),i=snt(),a=ont(),r=Ent();function s(o){var c=this.__data__=new e(o);this.size=c.size}return s.prototype.clear=t,s.prototype.delete=n,s.prototype.get=i,s.prototype.has=a,s.prototype.set=r,c_=s,c_}var u_,zM;function Ant(){if(zM)return u_;zM=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return u_=t,u_}var d_,UM;function Cnt(){if(UM)return d_;UM=1;function e(t){return this.__data__.has(t)}return d_=e,d_}var h_,HM;function Tnt(){if(HM)return h_;HM=1;var e=xT(),t=Ant(),n=Cnt();function i(a){var r=-1,s=a==null?0:a.length;for(this.__data__=new e;++r<s;)this.add(a[r])}return i.prototype.add=i.prototype.push=t,i.prototype.has=n,h_=i,h_}var f_,GM;function Rnt(){if(GM)return f_;GM=1;function e(t,n){for(var i=-1,a=t==null?0:t.length;++i<a;)if(n(t[i],i,t))return!0;return!1}return f_=e,f_}var p_,qM;function Mnt(){if(qM)return p_;qM=1;function e(t,n){return t.has(n)}return p_=e,p_}var m_,VM;function Hj(){if(VM)return m_;VM=1;var e=Tnt(),t=Rnt(),n=Mnt(),i=1,a=2;function r(s,o,c,d,f,g){var v=c&i,y=s.length,b=o.length;if(y!=b&&!(v&&b>y))return!1;var w=g.get(s),E=g.get(o);if(w&&E)return w==o&&E==s;var C=-1,A=!0,_=c&a?new e:void 0;for(g.set(s,o),g.set(o,s);++C<y;){var M=s[C],D=o[C];if(d)var P=v?d(D,M,C,o,s,g):d(M,D,C,s,o,g);if(P!==void 0){if(P)continue;A=!1;break}if(_){if(!t(o,function(B,k){if(!n(_,k)&&(M===B||f(M,B,c,d,g)))return _.push(k)})){A=!1;break}}else if(!(M===D||f(M,D,c,d,g))){A=!1;break}}return g.delete(s),g.delete(o),A}return m_=r,m_}var g_,$M;function Gj(){if($M)return g_;$M=1;var e=Rl(),t=e.Uint8Array;return g_=t,g_}var v_,YM;function Dnt(){if(YM)return v_;YM=1;function e(t){var n=-1,i=Array(t.size);return t.forEach(function(a,r){i[++n]=[r,a]}),i}return v_=e,v_}var y_,KM;function Ont(){if(KM)return y_;KM=1;function e(t){var n=-1,i=Array(t.size);return t.forEach(function(a){i[++n]=a}),i}return y_=e,y_}var b_,XM;function Nnt(){if(XM)return b_;XM=1;var e=Kv(),t=Gj(),n=yT(),i=Hj(),a=Dnt(),r=Ont(),s=1,o=2,c="[object Boolean]",d="[object Date]",f="[object Error]",g="[object Map]",v="[object Number]",y="[object RegExp]",b="[object Set]",w="[object String]",E="[object Symbol]",C="[object ArrayBuffer]",A="[object DataView]",_=e?e.prototype:void 0,M=_?_.valueOf:void 0;function D(P,B,k,z,H,G,Q){switch(k){case A:if(P.byteLength!=B.byteLength||P.byteOffset!=B.byteOffset)return!1;P=P.buffer,B=B.buffer;case C:return!(P.byteLength!=B.byteLength||!G(new t(P),new t(B)));case c:case d:case v:return n(+P,+B);case f:return P.name==B.name&&P.message==B.message;case y:case w:return P==B+"";case g:var at=a;case b:var Z=z&s;if(at||(at=r),P.size!=B.size&&!Z)return!1;var nt=Q.get(P);if(nt)return nt==B;z|=o,Q.set(P,B);var tt=i(at(P),at(B),z,H,G,Q);return Q.delete(P),tt;case E:if(M)return M.call(P)==M.call(B)}return!1}return b_=D,b_}var x_,WM;function qj(){if(WM)return x_;WM=1;function e(t,n){for(var i=-1,a=n.length,r=t.length;++i<a;)t[r+i]=n[i];return t}return x_=e,x_}var S_,QM;function Vj(){if(QM)return S_;QM=1;var e=qj(),t=So();function n(i,a,r){var s=a(i);return t(i)?s:e(s,r(i))}return S_=n,S_}var w_,ZM;function Pnt(){if(ZM)return w_;ZM=1;function e(t,n){for(var i=-1,a=t==null?0:t.length,r=0,s=[];++i<a;){var o=t[i];n(o,i,t)&&(s[r++]=o)}return s}return w_=e,w_}var __,JM;function $j(){if(JM)return __;JM=1;function e(){return[]}return __=e,__}var E_,tD;function wT(){if(tD)return E_;tD=1;var e=Pnt(),t=$j(),n=Object.prototype,i=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,r=a?function(s){return s==null?[]:(s=Object(s),e(a(s),function(o){return i.call(s,o)}))}:t;return E_=r,E_}var A_,eD;function Yj(){if(eD)return A_;eD=1;var e=Vj(),t=wT(),n=Xv();function i(a){return e(a,n,t)}return A_=i,A_}var C_,nD;function knt(){if(nD)return C_;nD=1;var e=Yj(),t=1,n=Object.prototype,i=n.hasOwnProperty;function a(r,s,o,c,d,f){var g=o&t,v=e(r),y=v.length,b=e(s),w=b.length;if(y!=w&&!g)return!1;for(var E=y;E--;){var C=v[E];if(!(g?C in s:i.call(s,C)))return!1}var A=f.get(r),_=f.get(s);if(A&&_)return A==s&&_==r;var M=!0;f.set(r,s),f.set(s,r);for(var D=g;++E<y;){C=v[E];var P=r[C],B=s[C];if(c)var k=g?c(B,P,C,s,r,f):c(P,B,C,r,s,f);if(!(k===void 0?P===B||d(P,B,o,c,f):k)){M=!1;break}D||(D=C=="constructor")}if(M&&!D){var z=r.constructor,H=s.constructor;z!=H&&"constructor"in r&&"constructor"in s&&!(typeof z=="function"&&z instanceof z&&typeof H=="function"&&H instanceof H)&&(M=!1)}return f.delete(r),f.delete(s),M}return C_=a,C_}var T_,iD;function Lnt(){if(iD)return T_;iD=1;var e=Th(),t=Rl(),n=e(t,"DataView");return T_=n,T_}var R_,aD;function jnt(){if(aD)return R_;aD=1;var e=Th(),t=Rl(),n=e(t,"Promise");return R_=n,R_}var M_,rD;function Fnt(){if(rD)return M_;rD=1;var e=Th(),t=Rl(),n=e(t,"Set");return M_=n,M_}var D_,sD;function Bnt(){if(sD)return D_;sD=1;var e=Th(),t=Rl(),n=e(t,"WeakMap");return D_=n,D_}var O_,oD;function Zx(){if(oD)return O_;oD=1;var e=Lnt(),t=bT(),n=jnt(),i=Fnt(),a=Bnt(),r=Ch(),s=Uj(),o="[object Map]",c="[object Object]",d="[object Promise]",f="[object Set]",g="[object WeakMap]",v="[object DataView]",y=s(e),b=s(t),w=s(n),E=s(i),C=s(a),A=r;return(e&&A(new e(new ArrayBuffer(1)))!=v||t&&A(new t)!=o||n&&A(n.resolve())!=d||i&&A(new i)!=f||a&&A(new a)!=g)&&(A=function(_){var M=r(_),D=M==c?_.constructor:void 0,P=D?s(D):"";if(P)switch(P){case y:return v;case b:return o;case w:return d;case E:return f;case C:return g}return M}),O_=A,O_}var N_,lD;function Int(){if(lD)return N_;lD=1;var e=ST(),t=Hj(),n=Nnt(),i=knt(),a=Zx(),r=So(),s=dT(),o=kj(),c=1,d="[object Arguments]",f="[object Array]",g="[object Object]",v=Object.prototype,y=v.hasOwnProperty;function b(w,E,C,A,_,M){var D=r(w),P=r(E),B=D?f:a(w),k=P?f:a(E);B=B==d?g:B,k=k==d?g:k;var z=B==g,H=k==g,G=B==k;if(G&&s(w)){if(!s(E))return!1;D=!0,z=!1}if(G&&!z)return M||(M=new e),D||o(w)?t(w,E,C,A,_,M):n(w,E,B,C,A,_,M);if(!(C&c)){var Q=z&&y.call(w,"__wrapped__"),at=H&&y.call(E,"__wrapped__");if(Q||at){var Z=Q?w.value():w,nt=at?E.value():E;return M||(M=new e),_(Z,nt,C,A,M)}}return G?(M||(M=new e),i(w,E,C,A,_,M)):!1}return N_=b,N_}var P_,cD;function Kj(){if(cD)return P_;cD=1;var e=Int(),t=Tc();function n(i,a,r,s,o){return i===a?!0:i==null||a==null||!t(i)&&!t(a)?i!==i&&a!==a:e(i,a,r,s,n,o)}return P_=n,P_}var k_,uD;function znt(){if(uD)return k_;uD=1;var e=ST(),t=Kj(),n=1,i=2;function a(r,s,o,c){var d=o.length,f=d,g=!c;if(r==null)return!f;for(r=Object(r);d--;){var v=o[d];if(g&&v[2]?v[1]!==r[v[0]]:!(v[0]in r))return!1}for(;++d<f;){v=o[d];var y=v[0],b=r[y],w=v[1];if(g&&v[2]){if(b===void 0&&!(y in r))return!1}else{var E=new e;if(c)var C=c(b,w,y,r,s,E);if(!(C===void 0?t(w,b,n|i,c,E):C))return!1}}return!0}return k_=a,k_}var L_,dD;function Xj(){if(dD)return L_;dD=1;var e=im();function t(n){return n===n&&!e(n)}return L_=t,L_}var j_,hD;function Unt(){if(hD)return j_;hD=1;var e=Xj(),t=Xv();function n(i){for(var a=t(i),r=a.length;r--;){var s=a[r],o=i[s];a[r]=[s,o,e(o)]}return a}return j_=n,j_}var F_,fD;function Wj(){if(fD)return F_;fD=1;function e(t,n){return function(i){return i==null?!1:i[t]===n&&(n!==void 0||t in Object(i))}}return F_=e,F_}var B_,pD;function Hnt(){if(pD)return B_;pD=1;var e=znt(),t=Unt(),n=Wj();function i(a){var r=t(a);return r.length==1&&r[0][2]?n(r[0][0],r[0][1]):function(s){return s===a||e(s,a,r)}}return B_=i,B_}var I_,mD;function _T(){if(mD)return I_;mD=1;var e=Ch(),t=Tc(),n="[object Symbol]";function i(a){return typeof a=="symbol"||t(a)&&e(a)==n}return I_=i,I_}var z_,gD;function ET(){if(gD)return z_;gD=1;var e=So(),t=_T(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function a(r,s){if(e(r))return!1;var o=typeof r;return o=="number"||o=="symbol"||o=="boolean"||r==null||t(r)?!0:i.test(r)||!n.test(r)||s!=null&&r in Object(s)}return z_=a,z_}var U_,vD;function Gnt(){if(vD)return U_;vD=1;var e=xT(),t="Expected a function";function n(i,a){if(typeof i!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var r=function(){var s=arguments,o=a?a.apply(this,s):s[0],c=r.cache;if(c.has(o))return c.get(o);var d=i.apply(this,s);return r.cache=c.set(o,d)||c,d};return r.cache=new(n.Cache||e),r}return n.Cache=e,U_=n,U_}var H_,yD;function qnt(){if(yD)return H_;yD=1;var e=Gnt(),t=500;function n(i){var a=e(i,function(s){return r.size===t&&r.clear(),s}),r=a.cache;return a}return H_=n,H_}var G_,bD;function Vnt(){if(bD)return G_;bD=1;var e=qnt(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,i=e(function(a){var r=[];return a.charCodeAt(0)===46&&r.push(""),a.replace(t,function(s,o,c,d){r.push(c?d.replace(n,"$1"):o||s)}),r});return G_=i,G_}var q_,xD;function $nt(){if(xD)return q_;xD=1;var e=Kv(),t=zj(),n=So(),i=_T(),a=e?e.prototype:void 0,r=a?a.toString:void 0;function s(o){if(typeof o=="string")return o;if(n(o))return t(o,s)+"";if(i(o))return r?r.call(o):"";var c=o+"";return c=="0"&&1/o==-1/0?"-0":c}return q_=s,q_}var V_,SD;function Ynt(){if(SD)return V_;SD=1;var e=$nt();function t(n){return n==null?"":e(n)}return V_=t,V_}var $_,wD;function Qj(){if(wD)return $_;wD=1;var e=So(),t=ET(),n=Vnt(),i=Ynt();function a(r,s){return e(r)?r:t(r,s)?[r]:n(i(r))}return $_=a,$_}var Y_,_D;function Jx(){if(_D)return Y_;_D=1;var e=_T();function t(n){if(typeof n=="string"||e(n))return n;var i=n+"";return i=="0"&&1/n==-1/0?"-0":i}return Y_=t,Y_}var K_,ED;function Zj(){if(ED)return K_;ED=1;var e=Qj(),t=Jx();function n(i,a){a=e(a,i);for(var r=0,s=a.length;i!=null&&r<s;)i=i[t(a[r++])];return r&&r==s?i:void 0}return K_=n,K_}var X_,AD;function Knt(){if(AD)return X_;AD=1;var e=Zj();function t(n,i,a){var r=n==null?void 0:e(n,i);return r===void 0?a:r}return X_=t,X_}var W_,CD;function Xnt(){if(CD)return W_;CD=1;function e(t,n){return t!=null&&n in Object(t)}return W_=e,W_}var Q_,TD;function Wnt(){if(TD)return Q_;TD=1;var e=Qj(),t=Nj(),n=So(),i=Pj(),a=hT(),r=Jx();function s(o,c,d){c=e(c,o);for(var f=-1,g=c.length,v=!1;++f<g;){var y=r(c[f]);if(!(v=o!=null&&d(o,y)))break;o=o[y]}return v||++f!=g?v:(g=o==null?0:o.length,!!g&&a(g)&&i(y,g)&&(n(o)||t(o)))}return Q_=s,Q_}var Z_,RD;function Qnt(){if(RD)return Z_;RD=1;var e=Xnt(),t=Wnt();function n(i,a){return i!=null&&t(i,a,e)}return Z_=n,Z_}var J_,MD;function Znt(){if(MD)return J_;MD=1;var e=Kj(),t=Knt(),n=Qnt(),i=ET(),a=Xj(),r=Wj(),s=Jx(),o=1,c=2;function d(f,g){return i(f)&&a(g)?r(s(f),g):function(v){var y=t(v,f);return y===void 0&&y===g?n(v,f):e(g,y,o|c)}}return J_=d,J_}var tE,DD;function Jnt(){if(DD)return tE;DD=1;function e(t){return function(n){return n?.[t]}}return tE=e,tE}var eE,OD;function tit(){if(OD)return eE;OD=1;var e=Zj();function t(n){return function(i){return e(i,n)}}return eE=t,eE}var nE,ND;function eit(){if(ND)return nE;ND=1;var e=Jnt(),t=tit(),n=ET(),i=Jx();function a(r){return n(r)?e(i(r)):t(r)}return nE=a,nE}var iE,PD;function nit(){if(PD)return iE;PD=1;var e=Hnt(),t=Znt(),n=Ij(),i=So(),a=eit();function r(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?i(s)?t(s[0],s[1]):e(s):a(s)}return iE=r,iE}var aE,kD;function iit(){if(kD)return aE;kD=1;var e=Yx();function t(n,i){return function(a,r){if(a==null)return a;if(!e(a))return n(a,r);for(var s=a.length,o=i?s:-1,c=Object(a);(i?o--:++o<s)&&r(c[o],o,c)!==!1;);return a}}return aE=t,aE}var rE,LD;function ait(){if(LD)return rE;LD=1;var e=Bj(),t=iit(),n=t(e);return rE=n,rE}var sE,jD;function rit(){if(jD)return sE;jD=1;var e=ait(),t=Yx();function n(i,a){var r=-1,s=t(i)?Array(i.length):[];return e(i,function(o,c,d){s[++r]=a(o,c,d)}),s}return sE=n,sE}var oE,FD;function sit(){if(FD)return oE;FD=1;var e=zj(),t=nit(),n=rit(),i=So();function a(r,s){var o=i(r)?e:n;return o(r,t(s,3))}return oE=a,oE}var BD;function oit(){if(BD)return $f;BD=1,Object.defineProperty($f,"__esModule",{value:!0}),$f.flattenNames=void 0;var e=Het(),t=c(e),n=gT(),i=c(n),a=Zet(),r=c(a),s=sit(),o=c(s);function c(f){return f&&f.__esModule?f:{default:f}}var d=$f.flattenNames=function f(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],v=[];return(0,o.default)(g,function(y){Array.isArray(y)?f(y).map(function(b){return v.push(b)}):(0,r.default)(y)?(0,i.default)(y,function(b,w){b===!0&&v.push(w),v.push(w+"-"+b)}):(0,t.default)(y)&&v.push(y)}),v};return $f.default=d,$f}var Yf={},lE,ID;function lit(){if(ID)return lE;ID=1;function e(t,n){for(var i=-1,a=t==null?0:t.length;++i<a&&n(t[i],i,t)!==!1;);return t}return lE=e,lE}var cE,zD;function cit(){if(zD)return cE;zD=1;var e=Th(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return cE=t,cE}var uE,UD;function Jj(){if(UD)return uE;UD=1;var e=cit();function t(n,i,a){i=="__proto__"&&e?e(n,i,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[i]=a}return uE=t,uE}var dE,HD;function tF(){if(HD)return dE;HD=1;var e=Jj(),t=yT(),n=Object.prototype,i=n.hasOwnProperty;function a(r,s,o){var c=r[s];(!(i.call(r,s)&&t(c,o))||o===void 0&&!(s in r))&&e(r,s,o)}return dE=a,dE}var hE,GD;function t2(){if(GD)return hE;GD=1;var e=tF(),t=Jj();function n(i,a,r,s){var o=!r;r||(r={});for(var c=-1,d=a.length;++c<d;){var f=a[c],g=s?s(r[f],i[f],f,r,i):void 0;g===void 0&&(g=i[f]),o?t(r,f,g):e(r,f,g)}return r}return hE=n,hE}var fE,qD;function uit(){if(qD)return fE;qD=1;var e=t2(),t=Xv();function n(i,a){return i&&e(a,t(a),i)}return fE=n,fE}var pE,VD;function dit(){if(VD)return pE;VD=1;function e(t){var n=[];if(t!=null)for(var i in Object(t))n.push(i);return n}return pE=e,pE}var mE,$D;function hit(){if($D)return mE;$D=1;var e=im(),t=mT(),n=dit(),i=Object.prototype,a=i.hasOwnProperty;function r(s){if(!e(s))return n(s);var o=t(s),c=[];for(var d in s)d=="constructor"&&(o||!a.call(s,d))||c.push(d);return c}return mE=r,mE}var gE,YD;function AT(){if(YD)return gE;YD=1;var e=Lj(),t=hit(),n=Yx();function i(a){return n(a)?e(a,!0):t(a)}return gE=i,gE}var vE,KD;function fit(){if(KD)return vE;KD=1;var e=t2(),t=AT();function n(i,a){return i&&e(a,t(a),i)}return vE=n,vE}var z0={exports:{}};z0.exports;var XD;function pit(){return XD||(XD=1,function(e,t){var n=Rl(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,r=a&&a.exports===i,s=r?n.Buffer:void 0,o=s?s.allocUnsafe:void 0;function c(d,f){if(f)return d.slice();var g=d.length,v=o?o(g):new d.constructor(g);return d.copy(v),v}e.exports=c}(z0,z0.exports)),z0.exports}var yE,WD;function mit(){if(WD)return yE;WD=1;function e(t,n){var i=-1,a=t.length;for(n||(n=Array(a));++i<a;)n[i]=t[i];return n}return yE=e,yE}var bE,QD;function git(){if(QD)return bE;QD=1;var e=t2(),t=wT();function n(i,a){return e(i,t(i),a)}return bE=n,bE}var xE,ZD;function eF(){if(ZD)return xE;ZD=1;var e=qj(),t=vT(),n=wT(),i=$j(),a=Object.getOwnPropertySymbols,r=a?function(s){for(var o=[];s;)e(o,n(s)),s=t(s);return o}:i;return xE=r,xE}var SE,JD;function vit(){if(JD)return SE;JD=1;var e=t2(),t=eF();function n(i,a){return e(i,t(i),a)}return SE=n,SE}var wE,tO;function yit(){if(tO)return wE;tO=1;var e=Vj(),t=eF(),n=AT();function i(a){return e(a,n,t)}return wE=i,wE}var _E,eO;function bit(){if(eO)return _E;eO=1;var e=Object.prototype,t=e.hasOwnProperty;function n(i){var a=i.length,r=new i.constructor(a);return a&&typeof i[0]=="string"&&t.call(i,"index")&&(r.index=i.index,r.input=i.input),r}return _E=n,_E}var EE,nO;function CT(){if(nO)return EE;nO=1;var e=Gj();function t(n){var i=new n.constructor(n.byteLength);return new e(i).set(new e(n)),i}return EE=t,EE}var AE,iO;function xit(){if(iO)return AE;iO=1;var e=CT();function t(n,i){var a=i?e(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.byteLength)}return AE=t,AE}var CE,aO;function Sit(){if(aO)return CE;aO=1;var e=/\w*$/;function t(n){var i=new n.constructor(n.source,e.exec(n));return i.lastIndex=n.lastIndex,i}return CE=t,CE}var TE,rO;function wit(){if(rO)return TE;rO=1;var e=Kv(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function i(a){return n?Object(n.call(a)):{}}return TE=i,TE}var RE,sO;function _it(){if(sO)return RE;sO=1;var e=CT();function t(n,i){var a=i?e(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.length)}return RE=t,RE}var ME,oO;function Eit(){if(oO)return ME;oO=1;var e=CT(),t=xit(),n=Sit(),i=wit(),a=_it(),r="[object Boolean]",s="[object Date]",o="[object Map]",c="[object Number]",d="[object RegExp]",f="[object Set]",g="[object String]",v="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",E="[object Float64Array]",C="[object Int8Array]",A="[object Int16Array]",_="[object Int32Array]",M="[object Uint8Array]",D="[object Uint8ClampedArray]",P="[object Uint16Array]",B="[object Uint32Array]";function k(z,H,G){var Q=z.constructor;switch(H){case y:return e(z);case r:case s:return new Q(+z);case b:return t(z,G);case w:case E:case C:case A:case _:case M:case D:case P:case B:return a(z,G);case o:return new Q;case c:case g:return new Q(z);case d:return n(z);case f:return new Q;case v:return i(z)}}return ME=k,ME}var DE,lO;function Ait(){if(lO)return DE;lO=1;var e=im(),t=Object.create,n=function(){function i(){}return function(a){if(!e(a))return{};if(t)return t(a);i.prototype=a;var r=new i;return i.prototype=void 0,r}}();return DE=n,DE}var OE,cO;function Cit(){if(cO)return OE;cO=1;var e=Ait(),t=vT(),n=mT();function i(a){return typeof a.constructor=="function"&&!n(a)?e(t(a)):{}}return OE=i,OE}var NE,uO;function Tit(){if(uO)return NE;uO=1;var e=Zx(),t=Tc(),n="[object Map]";function i(a){return t(a)&&e(a)==n}return NE=i,NE}var PE,dO;function Rit(){if(dO)return PE;dO=1;var e=Tit(),t=fT(),n=pT(),i=n&&n.isMap,a=i?t(i):e;return PE=a,PE}var kE,hO;function Mit(){if(hO)return kE;hO=1;var e=Zx(),t=Tc(),n="[object Set]";function i(a){return t(a)&&e(a)==n}return kE=i,kE}var LE,fO;function Dit(){if(fO)return LE;fO=1;var e=Mit(),t=fT(),n=pT(),i=n&&n.isSet,a=i?t(i):e;return LE=a,LE}var jE,pO;function Oit(){if(pO)return jE;pO=1;var e=ST(),t=lit(),n=tF(),i=uit(),a=fit(),r=pit(),s=mit(),o=git(),c=vit(),d=Yj(),f=yit(),g=Zx(),v=bit(),y=Eit(),b=Cit(),w=So(),E=dT(),C=Rit(),A=im(),_=Dit(),M=Xv(),D=AT(),P=1,B=2,k=4,z="[object Arguments]",H="[object Array]",G="[object Boolean]",Q="[object Date]",at="[object Error]",Z="[object Function]",nt="[object GeneratorFunction]",tt="[object Map]",I="[object Number]",V="[object Object]",X="[object RegExp]",U="[object Set]",$="[object String]",it="[object Symbol]",K="[object WeakMap]",ct="[object ArrayBuffer]",pt="[object DataView]",rt="[object Float32Array]",J="[object Float64Array]",lt="[object Int8Array]",St="[object Int16Array]",Tt="[object Int32Array]",Dt="[object Uint8Array]",kt="[object Uint8ClampedArray]",zt="[object Uint16Array]",Jt="[object Uint32Array]",Pt={};Pt[z]=Pt[H]=Pt[ct]=Pt[pt]=Pt[G]=Pt[Q]=Pt[rt]=Pt[J]=Pt[lt]=Pt[St]=Pt[Tt]=Pt[tt]=Pt[I]=Pt[V]=Pt[X]=Pt[U]=Pt[$]=Pt[it]=Pt[Dt]=Pt[kt]=Pt[zt]=Pt[Jt]=!0,Pt[at]=Pt[Z]=Pt[K]=!1;function re(Bt,me,Ye,le,pn,Qt){var Ee,Nt=me&P,Ht=me&B,te=me&k;if(Ye&&(Ee=pn?Ye(Bt,le,pn,Qt):Ye(Bt)),Ee!==void 0)return Ee;if(!A(Bt))return Bt;var Vt=w(Bt);if(Vt){if(Ee=v(Bt),!Nt)return s(Bt,Ee)}else{var ee=g(Bt),Se=ee==Z||ee==nt;if(E(Bt))return r(Bt,Nt);if(ee==V||ee==z||Se&&!pn){if(Ee=Ht||Se?{}:b(Bt),!Nt)return Ht?c(Bt,a(Ee,Bt)):o(Bt,i(Ee,Bt))}else{if(!Pt[ee])return pn?Bt:{};Ee=y(Bt,ee,Nt)}}Qt||(Qt=new e);var Ge=Qt.get(Bt);if(Ge)return Ge;Qt.set(Bt,Ee),_(Bt)?Bt.forEach(function(mn){Ee.add(re(mn,me,Ye,mn,Bt,Qt))}):C(Bt)&&Bt.forEach(function(mn,qe){Ee.set(qe,re(mn,me,Ye,qe,Bt,Qt))});var _n=te?Ht?f:d:Ht?D:M,$n=Vt?void 0:_n(Bt);return t($n||Bt,function(mn,qe){$n&&(qe=mn,mn=Bt[qe]),n(Ee,qe,re(mn,me,Ye,qe,Bt,Qt))}),Ee}return jE=re,jE}var FE,mO;function Nit(){if(mO)return FE;mO=1;var e=Oit(),t=1,n=4;function i(a){return e(a,t|n)}return FE=i,FE}var gO;function Pit(){if(gO)return Yf;gO=1,Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.mergeClasses=void 0;var e=gT(),t=r(e),n=Nit(),i=r(n),a=Object.assign||function(o){for(var c=1;c<arguments.length;c++){var d=arguments[c];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(o[f]=d[f])}return o};function r(o){return o&&o.__esModule?o:{default:o}}var s=Yf.mergeClasses=function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],f=c.default&&(0,i.default)(c.default)||{};return d.map(function(g){var v=c[g];return v&&(0,t.default)(v,function(y,b){f[b]||(f[b]={}),f[b]=a({},f[b],v[b])}),g}),f};return Yf.default=s,Yf}var Kf={},vO;function kit(){if(vO)return Kf;vO=1,Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.autoprefix=void 0;var e=gT(),t=i(e),n=Object.assign||function(s){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(s[d]=c[d])}return s};function i(s){return s&&s.__esModule?s:{default:s}}var a={borderRadius:function(o){return{msBorderRadius:o,MozBorderRadius:o,OBorderRadius:o,WebkitBorderRadius:o,borderRadius:o}},boxShadow:function(o){return{msBoxShadow:o,MozBoxShadow:o,OBoxShadow:o,WebkitBoxShadow:o,boxShadow:o}},userSelect:function(o){return{WebkitTouchCallout:o,KhtmlUserSelect:o,MozUserSelect:o,msUserSelect:o,WebkitUserSelect:o,userSelect:o}},flex:function(o){return{WebkitBoxFlex:o,MozBoxFlex:o,WebkitFlex:o,msFlex:o,flex:o}},flexBasis:function(o){return{WebkitFlexBasis:o,flexBasis:o}},justifyContent:function(o){return{WebkitJustifyContent:o,justifyContent:o}},transition:function(o){return{msTransition:o,MozTransition:o,OTransition:o,WebkitTransition:o,transition:o}},transform:function(o){return{msTransform:o,MozTransform:o,OTransform:o,WebkitTransform:o,transform:o}},absolute:function(o){var c=o&&o.split(" ");return{position:"absolute",top:c&&c[0],right:c&&c[1],bottom:c&&c[2],left:c&&c[3]}},extend:function(o,c){var d=c[o];return d||{extend:o}}},r=Kf.autoprefix=function(o){var c={};return(0,t.default)(o,function(d,f){var g={};(0,t.default)(d,function(v,y){var b=a[y];b?g=n({},g,b(v)):g[y]=v}),c[f]=g}),c};return Kf.default=r,Kf}var Xf={},yO;function Lit(){if(yO)return Xf;yO=1,Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.hover=void 0;var e=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var f=arguments[d];for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(c[g]=f[g])}return c},t=El(),n=i(t);function i(c){return c&&c.__esModule?c:{default:c}}function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function r(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function s(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var o=Xf.hover=function(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(g){s(v,g);function v(){var y,b,w,E;a(this,v);for(var C=arguments.length,A=Array(C),_=0;_<C;_++)A[_]=arguments[_];return E=(b=(w=r(this,(y=v.__proto__||Object.getPrototypeOf(v)).call.apply(y,[this].concat(A))),w),w.state={hover:!1},w.handleMouseOver=function(){return w.setState({hover:!0})},w.handleMouseOut=function(){return w.setState({hover:!1})},w.render=function(){return n.default.createElement(f,{onMouseOver:w.handleMouseOver,onMouseOut:w.handleMouseOut},n.default.createElement(d,e({},w.props,w.state)))},b),r(w,E)}return v}(n.default.Component)};return Xf.default=o,Xf}var Wf={},bO;function jit(){if(bO)return Wf;bO=1,Object.defineProperty(Wf,"__esModule",{value:!0}),Wf.active=void 0;var e=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var f=arguments[d];for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(c[g]=f[g])}return c},t=El(),n=i(t);function i(c){return c&&c.__esModule?c:{default:c}}function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function r(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function s(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var o=Wf.active=function(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(g){s(v,g);function v(){var y,b,w,E;a(this,v);for(var C=arguments.length,A=Array(C),_=0;_<C;_++)A[_]=arguments[_];return E=(b=(w=r(this,(y=v.__proto__||Object.getPrototypeOf(v)).call.apply(y,[this].concat(A))),w),w.state={active:!1},w.handleMouseDown=function(){return w.setState({active:!0})},w.handleMouseUp=function(){return w.setState({active:!1})},w.render=function(){return n.default.createElement(f,{onMouseDown:w.handleMouseDown,onMouseUp:w.handleMouseUp},n.default.createElement(d,e({},w.props,w.state)))},b),r(w,E)}return v}(n.default.Component)};return Wf.default=o,Wf}var Yb={},xO;function Fit(){if(xO)return Yb;xO=1,Object.defineProperty(Yb,"__esModule",{value:!0});var e=function(n,i){var a={},r=function(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;a[o]=c};return n===0&&r("first-child"),n===i-1&&r("last-child"),(n===0||n%2===0)&&r("even"),Math.abs(n%2)===1&&r("odd"),r("nth-child",n),a};return Yb.default=e,Yb}var SO;function Bit(){if(SO)return xr;SO=1,Object.defineProperty(xr,"__esModule",{value:!0}),xr.ReactCSS=xr.loop=xr.handleActive=xr.handleHover=xr.hover=void 0;var e=oit(),t=v(e),n=Pit(),i=v(n),a=kit(),r=v(a),s=Lit(),o=v(s),c=jit(),d=v(c),f=Fit(),g=v(f);function v(b){return b&&b.__esModule?b:{default:b}}xr.hover=o.default,xr.handleHover=o.default,xr.handleActive=d.default,xr.loop=g.default;var y=xr.ReactCSS=function(w){for(var E=arguments.length,C=Array(E>1?E-1:0),A=1;A<E;A++)C[A-1]=arguments[A];var _=(0,t.default)(C),M=(0,i.default)(w,_);return(0,r.default)(M)};return xr.default=y,xr}var TT=Bit();const _e=Qr(TT);var Iit=function(t,n,i,a,r){var s=r.clientWidth,o=r.clientHeight,c=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,d=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,f=c-(r.getBoundingClientRect().left+window.pageXOffset),g=d-(r.getBoundingClientRect().top+window.pageYOffset);if(i==="vertical"){var v=void 0;if(g<0?v=0:g>o?v=1:v=Math.round(g*100/o)/100,n.a!==v)return{h:n.h,s:n.s,l:n.l,a:v,source:"rgb"}}else{var y=void 0;if(f<0?y=0:f>s?y=1:y=Math.round(f*100/s)/100,a!==y)return{h:n.h,s:n.s,l:n.l,a:y,source:"rgb"}}return null},BE={},zit=function(t,n,i,a){if(typeof document>"u"&&!a)return null;var r=a?new a:document.createElement("canvas");r.width=i*2,r.height=i*2;var s=r.getContext("2d");return s?(s.fillStyle=t,s.fillRect(0,0,r.width,r.height),s.fillStyle=n,s.fillRect(0,0,i,i),s.translate(i,i),s.fillRect(0,0,i,i),r.toDataURL()):null},Uit=function(t,n,i,a){var r=t+"-"+n+"-"+i+(a?"-server":"");if(BE[r])return BE[r];var s=zit(t,n,i,a);return BE[r]=s,s},wO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},am=function(t){var n=t.white,i=t.grey,a=t.size,r=t.renderers,s=t.borderRadius,o=t.boxShadow,c=t.children,d=_e({default:{grid:{borderRadius:s,boxShadow:o,absolute:"0px 0px 0px 0px",background:"url("+Uit(n,i,a,r.canvas)+") center left"}}});return j.isValidElement(c)?Y.cloneElement(c,wO({},c.props,{style:wO({},c.props.style,d.grid)})):Y.createElement("div",{style:d.grid})};am.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var Hit=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Git=function(){function e(t,n){for(var i=0;i<n.length;i++){var a=n[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function qit(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Vit(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var RT=function(e){Vit(t,e);function t(){var n,i,a,r;qit(this,t);for(var s=arguments.length,o=Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=(i=(a=_O(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(o))),a),a.handleChange=function(d){var f=Iit(d,a.props.hsl,a.props.direction,a.props.a,a.container);f&&typeof a.props.onChange=="function"&&a.props.onChange(f,d)},a.handleMouseDown=function(d){a.handleChange(d),window.addEventListener("mousemove",a.handleChange),window.addEventListener("mouseup",a.handleMouseUp)},a.handleMouseUp=function(){a.unbindEventListeners()},a.unbindEventListeners=function(){window.removeEventListener("mousemove",a.handleChange),window.removeEventListener("mouseup",a.handleMouseUp)},i),_O(a,r)}return Git(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var i=this,a=this.props.rgb,r=_e({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+a.r+","+a.g+","+a.b+`, 0) 0%,
           rgba(`+a.r+","+a.g+","+a.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:a.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+a.r+","+a.g+","+a.b+`, 0) 0%,
           rgba(`+a.r+","+a.g+","+a.b+", 1) 100%)"},pointer:{left:0,top:a.a*100+"%"}},overwrite:Hit({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return Y.createElement("div",{style:r.alpha},Y.createElement("div",{style:r.checkboard},Y.createElement(am,{renderers:this.props.renderers})),Y.createElement("div",{style:r.gradient}),Y.createElement("div",{style:r.container,ref:function(o){return i.container=o},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Y.createElement("div",{style:r.pointer},this.props.pointer?Y.createElement(this.props.pointer,this.props):Y.createElement("div",{style:r.slider}))))}}]),t}(j.PureComponent||j.Component),$it=function(){function e(t,n){for(var i=0;i<n.length;i++){var a=n[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function Yit(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kit(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xit(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Wit(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Qit=1,nF=38,Zit=40,Jit=[nF,Zit],tat=function(t){return Jit.indexOf(t)>-1},eat=function(t){return Number(String(t).replace(/%/g,""))},nat=1,cn=function(e){Wit(t,e);function t(n){Kit(this,t);var i=Xit(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.handleBlur=function(){i.state.blurValue&&i.setState({value:i.state.blurValue,blurValue:null})},i.handleChange=function(a){i.setUpdatedValue(a.target.value,a)},i.handleKeyDown=function(a){var r=eat(a.target.value);if(!isNaN(r)&&tat(a.keyCode)){var s=i.getArrowOffset(),o=a.keyCode===nF?r+s:r-s;i.setUpdatedValue(o,a)}},i.handleDrag=function(a){if(i.props.dragLabel){var r=Math.round(i.props.value+a.movementX);r>=0&&r<=i.props.dragMax&&i.props.onChange&&i.props.onChange(i.getValueObjectWithLabel(r),a)}},i.handleMouseDown=function(a){i.props.dragLabel&&(a.preventDefault(),i.handleDrag(a),window.addEventListener("mousemove",i.handleDrag),window.addEventListener("mouseup",i.handleMouseUp))},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleDrag),window.removeEventListener("mouseup",i.handleMouseUp)},i.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},i.inputId="rc-editable-input-"+nat++,i}return $it(t,[{key:"componentDidUpdate",value:function(i,a){this.props.value!==this.state.value&&(i.value!==this.props.value||a.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(i){return Yit({},this.props.label,i)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Qit}},{key:"setUpdatedValue",value:function(i,a){var r=this.props.label?this.getValueObjectWithLabel(i):i;this.props.onChange&&this.props.onChange(r,a),this.setState({value:i})}},{key:"render",value:function(){var i=this,a=_e({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return Y.createElement("div",{style:a.wrap},Y.createElement("input",{id:this.inputId,style:a.input,ref:function(s){return i.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?Y.createElement("label",{htmlFor:this.inputId,style:a.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(j.PureComponent||j.Component),iat=function(t,n,i,a){var r=a.clientWidth,s=a.clientHeight,o=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,c=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,d=o-(a.getBoundingClientRect().left+window.pageXOffset),f=c-(a.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var g=void 0;if(f<0)g=359;else if(f>s)g=0;else{var v=-(f*100/s)+100;g=360*v/100}if(i.h!==g)return{h:g,s:i.s,l:i.l,a:i.a,source:"hsl"}}else{var y=void 0;if(d<0)y=0;else if(d>r)y=359;else{var b=d*100/r;y=360*b/100}if(i.h!==y)return{h:y,s:i.s,l:i.l,a:i.a,source:"hsl"}}return null},aat=function(){function e(t,n){for(var i=0;i<n.length;i++){var a=n[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function rat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EO(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function sat(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var rm=function(e){sat(t,e);function t(){var n,i,a,r;rat(this,t);for(var s=arguments.length,o=Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=(i=(a=EO(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(o))),a),a.handleChange=function(d){var f=iat(d,a.props.direction,a.props.hsl,a.container);f&&typeof a.props.onChange=="function"&&a.props.onChange(f,d)},a.handleMouseDown=function(d){a.handleChange(d),window.addEventListener("mousemove",a.handleChange),window.addEventListener("mouseup",a.handleMouseUp)},a.handleMouseUp=function(){a.unbindEventListeners()},i),EO(a,r)}return aat(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var i=this,a=this.props.direction,r=a===void 0?"horizontal":a,s=_e({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:r==="vertical"});return Y.createElement("div",{style:s.hue},Y.createElement("div",{className:"hue-"+r,style:s.container,ref:function(c){return i.container=c},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Y.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),Y.createElement("div",{style:s.pointer},this.props.pointer?Y.createElement(this.props.pointer,this.props):Y.createElement("div",{style:s.slider}))))}}]),t}(j.PureComponent||j.Component),IE={exports:{}},zE,AO;function oat(){if(AO)return zE;AO=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return zE=e,zE}var UE,CO;function lat(){if(CO)return UE;CO=1;var e=oat();function t(){}function n(){}return n.resetWarningCache=t,UE=function(){function i(s,o,c,d,f,g){if(g!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}i.isRequired=i;function a(){return i}var r={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return r.PropTypes=r,r},UE}var TO;function cat(){return TO||(TO=1,IE.exports=lat()()),IE.exports}var uat=cat();const wt=Qr(uat);function dat(){this.__data__=[],this.size=0}function Wv(e,t){return e===t||e!==e&&t!==t}function e2(e,t){for(var n=e.length;n--;)if(Wv(e[n][0],t))return n;return-1}var hat=Array.prototype,fat=hat.splice;function pat(e){var t=this.__data__,n=e2(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():fat.call(t,n,1),--this.size,!0}function mat(e){var t=this.__data__,n=e2(t,e);return n<0?void 0:t[n][1]}function gat(e){return e2(this.__data__,e)>-1}function vat(e,t){var n=this.__data__,i=e2(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}function Rc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Rc.prototype.clear=dat;Rc.prototype.delete=pat;Rc.prototype.get=mat;Rc.prototype.has=gat;Rc.prototype.set=vat;function yat(){this.__data__=new Rc,this.size=0}function bat(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function xat(e){return this.__data__.get(e)}function Sat(e){return this.__data__.has(e)}var iF=typeof global=="object"&&global&&global.Object===Object&&global,wat=typeof self=="object"&&self&&self.Object===Object&&self,wo=iF||wat||Function("return this")(),Fu=wo.Symbol,aF=Object.prototype,_at=aF.hasOwnProperty,Eat=aF.toString,Fg=Fu?Fu.toStringTag:void 0;function Aat(e){var t=_at.call(e,Fg),n=e[Fg];try{e[Fg]=void 0;var i=!0}catch{}var a=Eat.call(e);return i&&(t?e[Fg]=n:delete e[Fg]),a}var Cat=Object.prototype,Tat=Cat.toString;function Rat(e){return Tat.call(e)}var Mat="[object Null]",Dat="[object Undefined]",RO=Fu?Fu.toStringTag:void 0;function Rh(e){return e==null?e===void 0?Dat:Mat:RO&&RO in Object(e)?Aat(e):Rat(e)}function Ps(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Oat="[object AsyncFunction]",Nat="[object Function]",Pat="[object GeneratorFunction]",kat="[object Proxy]";function MT(e){if(!Ps(e))return!1;var t=Rh(e);return t==Nat||t==Pat||t==Oat||t==kat}var HE=wo["__core-js_shared__"],MO=function(){var e=/[^.]+$/.exec(HE&&HE.keys&&HE.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Lat(e){return!!MO&&MO in e}var jat=Function.prototype,Fat=jat.toString;function Mh(e){if(e!=null){try{return Fat.call(e)}catch{}try{return e+""}catch{}}return""}var Bat=/[\\^$.*+?()[\]{}|]/g,Iat=/^\[object .+?Constructor\]$/,zat=Function.prototype,Uat=Object.prototype,Hat=zat.toString,Gat=Uat.hasOwnProperty,qat=RegExp("^"+Hat.call(Gat).replace(Bat,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Vat(e){if(!Ps(e)||Lat(e))return!1;var t=MT(e)?qat:Iat;return t.test(Mh(e))}function $at(e,t){return e?.[t]}function Dh(e,t){var n=$at(e,t);return Vat(n)?n:void 0}var xv=Dh(wo,"Map"),Sv=Dh(Object,"create");function Yat(){this.__data__=Sv?Sv(null):{},this.size=0}function Kat(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Xat="__lodash_hash_undefined__",Wat=Object.prototype,Qat=Wat.hasOwnProperty;function Zat(e){var t=this.__data__;if(Sv){var n=t[e];return n===Xat?void 0:n}return Qat.call(t,e)?t[e]:void 0}var Jat=Object.prototype,trt=Jat.hasOwnProperty;function ert(e){var t=this.__data__;return Sv?t[e]!==void 0:trt.call(t,e)}var nrt="__lodash_hash_undefined__";function irt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Sv&&t===void 0?nrt:t,this}function yh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}yh.prototype.clear=Yat;yh.prototype.delete=Kat;yh.prototype.get=Zat;yh.prototype.has=ert;yh.prototype.set=irt;function art(){this.size=0,this.__data__={hash:new yh,map:new(xv||Rc),string:new yh}}function rrt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function n2(e,t){var n=e.__data__;return rrt(t)?n[typeof t=="string"?"string":"hash"]:n.map}function srt(e){var t=n2(this,e).delete(e);return this.size-=t?1:0,t}function ort(e){return n2(this,e).get(e)}function lrt(e){return n2(this,e).has(e)}function crt(e,t){var n=n2(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}function Mc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Mc.prototype.clear=art;Mc.prototype.delete=srt;Mc.prototype.get=ort;Mc.prototype.has=lrt;Mc.prototype.set=crt;var urt=200;function drt(e,t){var n=this.__data__;if(n instanceof Rc){var i=n.__data__;if(!xv||i.length<urt-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Mc(i)}return n.set(e,t),this.size=n.size,this}function xl(e){var t=this.__data__=new Rc(e);this.size=t.size}xl.prototype.clear=yat;xl.prototype.delete=bat;xl.prototype.get=xat;xl.prototype.has=Sat;xl.prototype.set=drt;var Y1=function(){try{var e=Dh(Object,"defineProperty");return e({},"",{}),e}catch{}}();function DT(e,t,n){t=="__proto__"&&Y1?Y1(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function _C(e,t,n){(n!==void 0&&!Wv(e[t],n)||n===void 0&&!(t in e))&&DT(e,t,n)}function hrt(e){return function(t,n,i){for(var a=-1,r=Object(t),s=i(t),o=s.length;o--;){var c=s[++a];if(n(r[c],c,r)===!1)break}return t}}var rF=hrt(),sF=typeof exports=="object"&&exports&&!exports.nodeType&&exports,DO=sF&&typeof module=="object"&&module&&!module.nodeType&&module,frt=DO&&DO.exports===sF,OO=frt?wo.Buffer:void 0;OO&&OO.allocUnsafe;function prt(e,t){return e.slice()}var K1=wo.Uint8Array;function mrt(e){var t=new e.constructor(e.byteLength);return new K1(t).set(new K1(e)),t}function grt(e,t){var n=mrt(e.buffer);return new e.constructor(n,e.byteOffset,e.length)}function vrt(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}var NO=Object.create,yrt=function(){function e(){}return function(t){if(!Ps(t))return{};if(NO)return NO(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function oF(e,t){return function(n){return e(t(n))}}var lF=oF(Object.getPrototypeOf,Object),brt=Object.prototype;function OT(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||brt;return e===n}function xrt(e){return typeof e.constructor=="function"&&!OT(e)?yrt(lF(e)):{}}function Bu(e){return e!=null&&typeof e=="object"}var Srt="[object Arguments]";function PO(e){return Bu(e)&&Rh(e)==Srt}var cF=Object.prototype,wrt=cF.hasOwnProperty,_rt=cF.propertyIsEnumerable,X1=PO(function(){return arguments}())?PO:function(e){return Bu(e)&&wrt.call(e,"callee")&&!_rt.call(e,"callee")},Wr=Array.isArray,Ert=9007199254740991;function NT(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ert}function sm(e){return e!=null&&NT(e.length)&&!MT(e)}function Art(e){return Bu(e)&&sm(e)}function Crt(){return!1}var uF=typeof exports=="object"&&exports&&!exports.nodeType&&exports,kO=uF&&typeof module=="object"&&module&&!module.nodeType&&module,Trt=kO&&kO.exports===uF,LO=Trt?wo.Buffer:void 0,Rrt=LO?LO.isBuffer:void 0,W1=Rrt||Crt,Mrt="[object Object]",Drt=Function.prototype,Ort=Object.prototype,dF=Drt.toString,Nrt=Ort.hasOwnProperty,Prt=dF.call(Object);function krt(e){if(!Bu(e)||Rh(e)!=Mrt)return!1;var t=lF(e);if(t===null)return!0;var n=Nrt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&dF.call(n)==Prt}var Lrt="[object Arguments]",jrt="[object Array]",Frt="[object Boolean]",Brt="[object Date]",Irt="[object Error]",zrt="[object Function]",Urt="[object Map]",Hrt="[object Number]",Grt="[object Object]",qrt="[object RegExp]",Vrt="[object Set]",$rt="[object String]",Yrt="[object WeakMap]",Krt="[object ArrayBuffer]",Xrt="[object DataView]",Wrt="[object Float32Array]",Qrt="[object Float64Array]",Zrt="[object Int8Array]",Jrt="[object Int16Array]",tst="[object Int32Array]",est="[object Uint8Array]",nst="[object Uint8ClampedArray]",ist="[object Uint16Array]",ast="[object Uint32Array]",Jn={};Jn[Wrt]=Jn[Qrt]=Jn[Zrt]=Jn[Jrt]=Jn[tst]=Jn[est]=Jn[nst]=Jn[ist]=Jn[ast]=!0;Jn[Lrt]=Jn[jrt]=Jn[Krt]=Jn[Frt]=Jn[Xrt]=Jn[Brt]=Jn[Irt]=Jn[zrt]=Jn[Urt]=Jn[Hrt]=Jn[Grt]=Jn[qrt]=Jn[Vrt]=Jn[$rt]=Jn[Yrt]=!1;function rst(e){return Bu(e)&&NT(e.length)&&!!Jn[Rh(e)]}function sst(e){return function(t){return e(t)}}var hF=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ev=hF&&typeof module=="object"&&module&&!module.nodeType&&module,ost=ev&&ev.exports===hF,GE=ost&&iF.process,jO=function(){try{var e=ev&&ev.require&&ev.require("util").types;return e||GE&&GE.binding&&GE.binding("util")}catch{}}(),FO=jO&&jO.isTypedArray,PT=FO?sst(FO):rst;function EC(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var lst=Object.prototype,cst=lst.hasOwnProperty;function ust(e,t,n){var i=e[t];(!(cst.call(e,t)&&Wv(i,n))||n===void 0&&!(t in e))&&DT(e,t,n)}function dst(e,t,n,i){var a=!n;n||(n={});for(var r=-1,s=t.length;++r<s;){var o=t[r],c=void 0;c===void 0&&(c=e[o]),a?DT(n,o,c):ust(n,o,c)}return n}function hst(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var fst=9007199254740991,pst=/^(?:0|[1-9]\d*)$/;function kT(e,t){var n=typeof e;return t=t??fst,!!t&&(n=="number"||n!="symbol"&&pst.test(e))&&e>-1&&e%1==0&&e<t}var mst=Object.prototype,gst=mst.hasOwnProperty;function fF(e,t){var n=Wr(e),i=!n&&X1(e),a=!n&&!i&&W1(e),r=!n&&!i&&!a&&PT(e),s=n||i||a||r,o=s?hst(e.length,String):[],c=o.length;for(var d in e)(t||gst.call(e,d))&&!(s&&(d=="length"||a&&(d=="offset"||d=="parent")||r&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||kT(d,c)))&&o.push(d);return o}function vst(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var yst=Object.prototype,bst=yst.hasOwnProperty;function xst(e){if(!Ps(e))return vst(e);var t=OT(e),n=[];for(var i in e)i=="constructor"&&(t||!bst.call(e,i))||n.push(i);return n}function pF(e){return sm(e)?fF(e,!0):xst(e)}function Sst(e){return dst(e,pF(e))}function wst(e,t,n,i,a,r,s){var o=EC(e,n),c=EC(t,n),d=s.get(c);if(d){_C(e,n,d);return}var f=r?r(o,c,n+"",e,t,s):void 0,g=f===void 0;if(g){var v=Wr(c),y=!v&&W1(c),b=!v&&!y&&PT(c);f=c,v||y||b?Wr(o)?f=o:Art(o)?f=vrt(o):y?(g=!1,f=prt(c)):b?(g=!1,f=grt(c)):f=[]:krt(c)||X1(c)?(f=o,X1(o)?f=Sst(o):(!Ps(o)||MT(o))&&(f=xrt(c))):g=!1}g&&(s.set(c,f),a(f,c,i,r,s),s.delete(c)),_C(e,n,f)}function mF(e,t,n,i,a){e!==t&&rF(t,function(r,s){if(a||(a=new xl),Ps(r))wst(e,t,s,n,mF,i,a);else{var o=i?i(EC(e,s),r,s+"",e,t,a):void 0;o===void 0&&(o=r),_C(e,s,o)}},pF)}function i2(e){return e}function _st(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var BO=Math.max;function Est(e,t,n){return t=BO(t===void 0?e.length-1:t,0),function(){for(var i=arguments,a=-1,r=BO(i.length-t,0),s=Array(r);++a<r;)s[a]=i[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=i[a];return o[t]=n(s),_st(e,this,o)}}function Ast(e){return function(){return e}}var Cst=Y1?function(e,t){return Y1(e,"toString",{configurable:!0,enumerable:!1,value:Ast(t),writable:!0})}:i2,Tst=800,Rst=16,Mst=Date.now;function Dst(e){var t=0,n=0;return function(){var i=Mst(),a=Rst-(i-n);if(n=i,a>0){if(++t>=Tst)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Ost=Dst(Cst);function Nst(e,t){return Ost(Est(e,t,i2),e+"")}function Pst(e,t,n){if(!Ps(n))return!1;var i=typeof t;return(i=="number"?sm(n)&&kT(t,n.length):i=="string"&&t in n)?Wv(n[t],e):!1}function kst(e){return Nst(function(t,n){var i=-1,a=n.length,r=a>1?n[a-1]:void 0,s=a>2?n[2]:void 0;for(r=e.length>3&&typeof r=="function"?(a--,r):void 0,s&&Pst(n[0],n[1],s)&&(r=a<3?void 0:r,a=1),t=Object(t);++i<a;){var o=n[i];o&&e(t,o,i,r)}return t})}var Mr=kst(function(e,t,n){mF(e,t,n)}),Qv=function(t){var n=t.zDepth,i=t.radius,a=t.background,r=t.children,s=t.styles,o=s===void 0?{}:s,c=_e(Mr({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:i,background:a}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},o),{"zDepth-1":n===1});return Y.createElement("div",{style:c.wrap},Y.createElement("div",{style:c.bg}),Y.createElement("div",{style:c.content},r))};Qv.propTypes={background:wt.string,zDepth:wt.oneOf([0,1,2,3,4,5]),radius:wt.number,styles:wt.object};Qv.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var qE=function(){return wo.Date.now()},Lst=/\s/;function jst(e){for(var t=e.length;t--&&Lst.test(e.charAt(t)););return t}var Fst=/^\s+/;function Bst(e){return e&&e.slice(0,jst(e)+1).replace(Fst,"")}var Ist="[object Symbol]";function a2(e){return typeof e=="symbol"||Bu(e)&&Rh(e)==Ist}var IO=NaN,zst=/^[-+]0x[0-9a-f]+$/i,Ust=/^0b[01]+$/i,Hst=/^0o[0-7]+$/i,Gst=parseInt;function zO(e){if(typeof e=="number")return e;if(a2(e))return IO;if(Ps(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ps(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Bst(e);var n=Ust.test(e);return n||Hst.test(e)?Gst(e.slice(2),n?2:8):zst.test(e)?IO:+e}var qst="Expected a function",Vst=Math.max,$st=Math.min;function gF(e,t,n){var i,a,r,s,o,c,d=0,f=!1,g=!1,v=!0;if(typeof e!="function")throw new TypeError(qst);t=zO(t)||0,Ps(n)&&(f=!!n.leading,g="maxWait"in n,r=g?Vst(zO(n.maxWait)||0,t):r,v="trailing"in n?!!n.trailing:v);function y(P){var B=i,k=a;return i=a=void 0,d=P,s=e.apply(k,B),s}function b(P){return d=P,o=setTimeout(C,t),f?y(P):s}function w(P){var B=P-c,k=P-d,z=t-B;return g?$st(z,r-k):z}function E(P){var B=P-c,k=P-d;return c===void 0||B>=t||B<0||g&&k>=r}function C(){var P=qE();if(E(P))return A(P);o=setTimeout(C,w(P))}function A(P){return o=void 0,v&&i?y(P):(i=a=void 0,s)}function _(){o!==void 0&&clearTimeout(o),d=0,i=c=a=o=void 0}function M(){return o===void 0?s:A(qE())}function D(){var P=qE(),B=E(P);if(i=arguments,a=this,c=P,B){if(o===void 0)return b(c);if(g)return clearTimeout(o),o=setTimeout(C,t),y(c)}return o===void 0&&(o=setTimeout(C,t)),s}return D.cancel=_,D.flush=M,D}var Yst="Expected a function";function Kst(e,t,n){var i=!0,a=!0;if(typeof e!="function")throw new TypeError(Yst);return Ps(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),gF(e,t,{leading:i,maxWait:t,trailing:a})}var Xst=function(t,n,i){var a=i.getBoundingClientRect(),r=a.width,s=a.height,o=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,c=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,d=o-(i.getBoundingClientRect().left+window.pageXOffset),f=c-(i.getBoundingClientRect().top+window.pageYOffset);d<0?d=0:d>r&&(d=r),f<0?f=0:f>s&&(f=s);var g=d/r,v=1-f/s;return{h:n.h,s:g,v,a:n.a,source:"hsv"}},Wst=function(){function e(t,n){for(var i=0;i<n.length;i++){var a=n[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function Qst(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zst(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Jst(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r2=function(e){Jst(t,e);function t(n){Qst(this,t);var i=Zst(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return i.handleChange=function(a){typeof i.props.onChange=="function"&&i.throttle(i.props.onChange,Xst(a,i.props.hsl,i.container),a)},i.handleMouseDown=function(a){i.handleChange(a);var r=i.getContainerRenderWindow();r.addEventListener("mousemove",i.handleChange),r.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.throttle=Kst(function(a,r,s){a(r,s)},50),i}return Wst(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var i=this.container,a=window;!a.document.contains(i)&&a.parent!==a;)a=a.parent;return a}},{key:"unbindEventListeners",value:function(){var i=this.getContainerRenderWindow();i.removeEventListener("mousemove",this.handleChange),i.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var i=this,a=this.props.style||{},r=a.color,s=a.white,o=a.black,c=a.pointer,d=a.circle,f=_e({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:r,white:s,black:o,pointer:c,circle:d}},{custom:!!this.props.style});return Y.createElement("div",{style:f.color,ref:function(v){return i.container=v},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Y.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),Y.createElement("div",{style:f.white,className:"saturation-white"},Y.createElement("div",{style:f.black,className:"saturation-black"}),Y.createElement("div",{style:f.pointer},this.props.pointer?Y.createElement(this.props.pointer,this.props):Y.createElement("div",{style:f.circle}))))}}]),t}(j.PureComponent||j.Component);function tot(e,t){for(var n=-1,i=e==null?0:e.length;++n<i&&t(e[n],n,e)!==!1;);return e}var eot=oF(Object.keys,Object),not=Object.prototype,iot=not.hasOwnProperty;function aot(e){if(!OT(e))return eot(e);var t=[];for(var n in Object(e))iot.call(e,n)&&n!="constructor"&&t.push(n);return t}function LT(e){return sm(e)?fF(e):aot(e)}function rot(e,t){return e&&rF(e,t,LT)}function sot(e,t){return function(n,i){if(n==null)return n;if(!sm(n))return e(n,i);for(var a=n.length,r=-1,s=Object(n);++r<a&&i(s[r],r,s)!==!1;);return n}}var vF=sot(rot);function oot(e){return typeof e=="function"?e:i2}function lot(e,t){var n=Wr(e)?tot:vF;return n(e,oot(t))}function Q1(e){"@babel/helpers - typeof";return Q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q1(e)}var cot=/^\s+/,uot=/\s+$/;function Zt(e,t){if(e=e||"",t=t||{},e instanceof Zt)return e;if(!(this instanceof Zt))return new Zt(e,t);var n=dot(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Zt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,i,a,r,s,o;return n=t.r/255,i=t.g/255,a=t.b/255,n<=.03928?r=n/12.92:r=Math.pow((n+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),a<=.03928?o=a/12.92:o=Math.pow((a+.055)/1.055,2.4),.2126*r+.7152*s+.0722*o},setAlpha:function(t){return this._a=yF(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=HO(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=HO(this._r,this._g,this._b),n=Math.round(t.h*360),i=Math.round(t.s*100),a=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+i+"%, "+a+"%)":"hsva("+n+", "+i+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var t=UO(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=UO(this._r,this._g,this._b),n=Math.round(t.h*360),i=Math.round(t.s*100),a=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+i+"%, "+a+"%)":"hsla("+n+", "+i+"%, "+a+"%, "+this._roundA+")"},toHex:function(t){return GO(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return mot(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(ai(this._r,255)*100)+"%",g:Math.round(ai(this._g,255)*100)+"%",b:Math.round(ai(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(ai(this._r,255)*100)+"%, "+Math.round(ai(this._g,255)*100)+"%, "+Math.round(ai(this._b,255)*100)+"%)":"rgba("+Math.round(ai(this._r,255)*100)+"%, "+Math.round(ai(this._g,255)*100)+"%, "+Math.round(ai(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Tot[GO(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+qO(this._r,this._g,this._b,this._a),i=n,a=this._gradientType?"GradientType = 1, ":"";if(t){var r=Zt(t);i="#"+qO(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+n+",endColorstr="+i+")"},toString:function(t){var n=!!t;t=t||this._format;var i=!1,a=this._a<1&&this._a>=0,r=!n&&a&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return r?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(i=this.toRgbString()),t==="prgb"&&(i=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(i=this.toHexString()),t==="hex3"&&(i=this.toHexString(!0)),t==="hex4"&&(i=this.toHex8String(!0)),t==="hex8"&&(i=this.toHex8String()),t==="name"&&(i=this.toName()),t==="hsl"&&(i=this.toHslString()),t==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return Zt(this.toString())},_applyModification:function(t,n){var i=t.apply(null,[this].concat([].slice.call(n)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(bot,arguments)},brighten:function(){return this._applyModification(xot,arguments)},darken:function(){return this._applyModification(Sot,arguments)},desaturate:function(){return this._applyModification(got,arguments)},saturate:function(){return this._applyModification(vot,arguments)},greyscale:function(){return this._applyModification(yot,arguments)},spin:function(){return this._applyModification(wot,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(Aot,arguments)},complement:function(){return this._applyCombination(_ot,arguments)},monochromatic:function(){return this._applyCombination(Cot,arguments)},splitcomplement:function(){return this._applyCombination(Eot,arguments)},triad:function(){return this._applyCombination(VO,[3])},tetrad:function(){return this._applyCombination(VO,[4])}};Zt.fromRatio=function(e,t){if(Q1(e)=="object"){var n={};for(var i in e)e.hasOwnProperty(i)&&(i==="a"?n[i]=e[i]:n[i]=U0(e[i]));e=n}return Zt(e,t)};function dot(e){var t={r:0,g:0,b:0},n=1,i=null,a=null,r=null,s=!1,o=!1;return typeof e=="string"&&(e=Oot(e)),Q1(e)=="object"&&(dc(e.r)&&dc(e.g)&&dc(e.b)?(t=hot(e.r,e.g,e.b),s=!0,o=String(e.r).substr(-1)==="%"?"prgb":"rgb"):dc(e.h)&&dc(e.s)&&dc(e.v)?(i=U0(e.s),a=U0(e.v),t=pot(e.h,i,a),s=!0,o="hsv"):dc(e.h)&&dc(e.s)&&dc(e.l)&&(i=U0(e.s),r=U0(e.l),t=fot(e.h,i,r),s=!0,o="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=yF(n),{ok:s,format:e.format||o,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function hot(e,t,n){return{r:ai(e,255)*255,g:ai(t,255)*255,b:ai(n,255)*255}}function UO(e,t,n){e=ai(e,255),t=ai(t,255),n=ai(n,255);var i=Math.max(e,t,n),a=Math.min(e,t,n),r,s,o=(i+a)/2;if(i==a)r=s=0;else{var c=i-a;switch(s=o>.5?c/(2-i-a):c/(i+a),i){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4;break}r/=6}return{h:r,s,l:o}}function fot(e,t,n){var i,a,r;e=ai(e,360),t=ai(t,100),n=ai(n,100);function s(d,f,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?d+(f-d)*6*g:g<1/2?f:g<2/3?d+(f-d)*(2/3-g)*6:d}if(t===0)i=a=r=n;else{var o=n<.5?n*(1+t):n+t-n*t,c=2*n-o;i=s(c,o,e+1/3),a=s(c,o,e),r=s(c,o,e-1/3)}return{r:i*255,g:a*255,b:r*255}}function HO(e,t,n){e=ai(e,255),t=ai(t,255),n=ai(n,255);var i=Math.max(e,t,n),a=Math.min(e,t,n),r,s,o=i,c=i-a;if(s=i===0?0:c/i,i==a)r=0;else{switch(i){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4;break}r/=6}return{h:r,s,v:o}}function pot(e,t,n){e=ai(e,360)*6,t=ai(t,100),n=ai(n,100);var i=Math.floor(e),a=e-i,r=n*(1-t),s=n*(1-a*t),o=n*(1-(1-a)*t),c=i%6,d=[n,s,r,r,o,n][c],f=[o,n,n,s,r,r][c],g=[r,r,o,n,n,s][c];return{r:d*255,g:f*255,b:g*255}}function GO(e,t,n,i){var a=[fo(Math.round(e).toString(16)),fo(Math.round(t).toString(16)),fo(Math.round(n).toString(16))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function mot(e,t,n,i,a){var r=[fo(Math.round(e).toString(16)),fo(Math.round(t).toString(16)),fo(Math.round(n).toString(16)),fo(bF(i))];return a&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}function qO(e,t,n,i){var a=[fo(bF(i)),fo(Math.round(e).toString(16)),fo(Math.round(t).toString(16)),fo(Math.round(n).toString(16))];return a.join("")}Zt.equals=function(e,t){return!e||!t?!1:Zt(e).toRgbString()==Zt(t).toRgbString()};Zt.random=function(){return Zt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function got(e,t){t=t===0?0:t||10;var n=Zt(e).toHsl();return n.s-=t/100,n.s=s2(n.s),Zt(n)}function vot(e,t){t=t===0?0:t||10;var n=Zt(e).toHsl();return n.s+=t/100,n.s=s2(n.s),Zt(n)}function yot(e){return Zt(e).desaturate(100)}function bot(e,t){t=t===0?0:t||10;var n=Zt(e).toHsl();return n.l+=t/100,n.l=s2(n.l),Zt(n)}function xot(e,t){t=t===0?0:t||10;var n=Zt(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),Zt(n)}function Sot(e,t){t=t===0?0:t||10;var n=Zt(e).toHsl();return n.l-=t/100,n.l=s2(n.l),Zt(n)}function wot(e,t){var n=Zt(e).toHsl(),i=(n.h+t)%360;return n.h=i<0?360+i:i,Zt(n)}function _ot(e){var t=Zt(e).toHsl();return t.h=(t.h+180)%360,Zt(t)}function VO(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Zt(e).toHsl(),i=[Zt(e)],a=360/t,r=1;r<t;r++)i.push(Zt({h:(n.h+r*a)%360,s:n.s,l:n.l}));return i}function Eot(e){var t=Zt(e).toHsl(),n=t.h;return[Zt(e),Zt({h:(n+72)%360,s:t.s,l:t.l}),Zt({h:(n+216)%360,s:t.s,l:t.l})]}function Aot(e,t,n){t=t||6,n=n||30;var i=Zt(e).toHsl(),a=360/n,r=[Zt(e)];for(i.h=(i.h-(a*t>>1)+720)%360;--t;)i.h=(i.h+a)%360,r.push(Zt(i));return r}function Cot(e,t){t=t||6;for(var n=Zt(e).toHsv(),i=n.h,a=n.s,r=n.v,s=[],o=1/t;t--;)s.push(Zt({h:i,s:a,v:r})),r=(r+o)%1;return s}Zt.mix=function(e,t,n){n=n===0?0:n||50;var i=Zt(e).toRgb(),a=Zt(t).toRgb(),r=n/100,s={r:(a.r-i.r)*r+i.r,g:(a.g-i.g)*r+i.g,b:(a.b-i.b)*r+i.b,a:(a.a-i.a)*r+i.a};return Zt(s)};Zt.readability=function(e,t){var n=Zt(e),i=Zt(t);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)};Zt.isReadable=function(e,t,n){var i=Zt.readability(e,t),a,r;switch(r=!1,a=Not(n),a.level+a.size){case"AAsmall":case"AAAlarge":r=i>=4.5;break;case"AAlarge":r=i>=3;break;case"AAAsmall":r=i>=7;break}return r};Zt.mostReadable=function(e,t,n){var i=null,a=0,r,s,o,c;n=n||{},s=n.includeFallbackColors,o=n.level,c=n.size;for(var d=0;d<t.length;d++)r=Zt.readability(e,t[d]),r>a&&(a=r,i=Zt(t[d]));return Zt.isReadable(e,i,{level:o,size:c})||!s?i:(n.includeFallbackColors=!1,Zt.mostReadable(e,["#fff","#000"],n))};var AC=Zt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Tot=Zt.hexNames=Rot(AC);function Rot(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function yF(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function ai(e,t){Mot(e)&&(e="100%");var n=Dot(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function s2(e){return Math.min(1,Math.max(0,e))}function Gr(e){return parseInt(e,16)}function Mot(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function Dot(e){return typeof e=="string"&&e.indexOf("%")!=-1}function fo(e){return e.length==1?"0"+e:""+e}function U0(e){return e<=1&&(e=e*100+"%"),e}function bF(e){return Math.round(parseFloat(e)*255).toString(16)}function $O(e){return Gr(e)/255}var lo=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",a="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+a),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function dc(e){return!!lo.CSS_UNIT.exec(e)}function Oot(e){e=e.replace(cot,"").replace(uot,"").toLowerCase();var t=!1;if(AC[e])e=AC[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=lo.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=lo.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=lo.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=lo.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=lo.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=lo.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=lo.hex8.exec(e))?{r:Gr(n[1]),g:Gr(n[2]),b:Gr(n[3]),a:$O(n[4]),format:t?"name":"hex8"}:(n=lo.hex6.exec(e))?{r:Gr(n[1]),g:Gr(n[2]),b:Gr(n[3]),format:t?"name":"hex"}:(n=lo.hex4.exec(e))?{r:Gr(n[1]+""+n[1]),g:Gr(n[2]+""+n[2]),b:Gr(n[3]+""+n[3]),a:$O(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=lo.hex3.exec(e))?{r:Gr(n[1]+""+n[1]),g:Gr(n[2]+""+n[2]),b:Gr(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function Not(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}var YO=function(t){var n=["r","g","b","a","h","s","l","v"],i=0,a=0;return lot(n,function(r){if(t[r]&&(i+=1,isNaN(t[r])||(a+=1),r==="s"||r==="l")){var s=/^\d+%$/;s.test(t[r])&&(a+=1)}}),i===a?t:!1},H0=function(t,n){var i=t.hex?Zt(t.hex):Zt(t),a=i.toHsl(),r=i.toHsv(),s=i.toRgb(),o=i.toHex();a.s===0&&(a.h=n||0,r.h=n||0);var c=o==="000000"&&s.a===0;return{hsl:a,hex:c?"transparent":"#"+o,rgb:s,hsv:r,oldHue:t.h||n||a.h,source:t.source}},qu=function(t){if(t==="transparent")return!0;var n=String(t).charAt(0)==="#"?1:0;return t.length!==4+n&&t.length<7+n&&Zt(t).isValid()},jT=function(t){if(!t)return"#fff";var n=H0(t);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var i=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return i>=128?"#000":"#fff"},VE=function(t,n){var i=t.replace("","");return Zt(n+" ("+i+")")._ok},Bg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pot=function(){function e(t,n){for(var i=0;i<n.length;i++){var a=n[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function kot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lot(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function jot(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Dr=function(t){var n=function(i){jot(a,i);function a(r){kot(this,a);var s=Lot(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return s.handleChange=function(o,c){var d=YO(o);if(d){var f=H0(o,o.h||s.state.oldHue);s.setState(f),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,f,c),s.props.onChange&&s.props.onChange(f,c)}},s.handleSwatchHover=function(o,c){var d=YO(o);if(d){var f=H0(o,o.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(f,c)}},s.state=Bg({},H0(r.color,0)),s.debounce=gF(function(o,c,d){o(c,d)},100),s}return Pot(a,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),Y.createElement(t,Bg({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,o){return Bg({},H0(s.color,o.oldHue))}}]),a}(j.PureComponent||j.Component);return n.propTypes=Bg({},t.propTypes),n.defaultProps=Bg({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},Fot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Bot=function(){function e(t,n){for(var i=0;i<n.length;i++){var a=n[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function Iot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KO(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function zot(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Uot=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(i){zot(a,i);function a(){var r,s,o,c;Iot(this,a);for(var d=arguments.length,f=Array(d),g=0;g<d;g++)f[g]=arguments[g];return c=(s=(o=KO(this,(r=a.__proto__||Object.getPrototypeOf(a)).call.apply(r,[this].concat(f))),o),o.state={focus:!1},o.handleFocus=function(){return o.setState({focus:!0})},o.handleBlur=function(){return o.setState({focus:!1})},s),KO(o,c)}return Bot(a,[{key:"render",value:function(){return Y.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},Y.createElement(t,Fot({},this.props,this.state)))}}]),a}(Y.Component)},XO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Hot=13,Got=function(t){var n=t.color,i=t.style,a=t.onClick,r=a===void 0?function(){}:a,s=t.onHover,o=t.title,c=o===void 0?n:o,d=t.children,f=t.focus,g=t.focusStyle,v=g===void 0?{}:g,y=n==="transparent",b=_e({default:{swatch:XO({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},i,f?v:{})}}),w=function(M){return r(n,M)},E=function(M){return M.keyCode===Hot&&r(n,M)},C=function(M){return s(n,M)},A={};return s&&(A.onMouseOver=C),Y.createElement("div",XO({style:b.swatch,onClick:w,title:c,tabIndex:0,onKeyDown:E},A),d,y&&Y.createElement(am,{borderRadius:b.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Oh=Uot(Got);var qot=function(t){var n=t.direction,i=_e({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return Y.createElement("div",{style:i.picker})},Vot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xF=function(t){var n=t.rgb,i=t.hsl,a=t.width,r=t.height,s=t.onChange,o=t.direction,c=t.style,d=t.renderers,f=t.pointer,g=t.className,v=g===void 0?"":g,y=_e({default:{picker:{position:"relative",width:a,height:r},alpha:{radius:"2px",style:c}}});return Y.createElement("div",{style:y.picker,className:"alpha-picker "+v},Y.createElement(RT,Vot({},y.alpha,{rgb:n,hsl:i,pointer:f,renderers:d,onChange:s,direction:o})))};xF.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:qot};Dr(xF);function SF(e,t){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=t(e[n],n,e);return a}var $ot="__lodash_hash_undefined__";function Yot(e){return this.__data__.set(e,$ot),this}function Kot(e){return this.__data__.has(e)}function Z1(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Mc;++t<n;)this.add(e[t])}Z1.prototype.add=Z1.prototype.push=Yot;Z1.prototype.has=Kot;function Xot(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function Wot(e,t){return e.has(t)}var Qot=1,Zot=2;function wF(e,t,n,i,a,r){var s=n&Qot,o=e.length,c=t.length;if(o!=c&&!(s&&c>o))return!1;var d=r.get(e),f=r.get(t);if(d&&f)return d==t&&f==e;var g=-1,v=!0,y=n&Zot?new Z1:void 0;for(r.set(e,t),r.set(t,e);++g<o;){var b=e[g],w=t[g];if(i)var E=s?i(w,b,g,t,e,r):i(b,w,g,e,t,r);if(E!==void 0){if(E)continue;v=!1;break}if(y){if(!Xot(t,function(C,A){if(!Wot(y,A)&&(b===C||a(b,C,n,i,r)))return y.push(A)})){v=!1;break}}else if(!(b===w||a(b,w,n,i,r))){v=!1;break}}return r.delete(e),r.delete(t),v}function Jot(e){var t=-1,n=Array(e.size);return e.forEach(function(i,a){n[++t]=[a,i]}),n}function tlt(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}var elt=1,nlt=2,ilt="[object Boolean]",alt="[object Date]",rlt="[object Error]",slt="[object Map]",olt="[object Number]",llt="[object RegExp]",clt="[object Set]",ult="[object String]",dlt="[object Symbol]",hlt="[object ArrayBuffer]",flt="[object DataView]",WO=Fu?Fu.prototype:void 0,$E=WO?WO.valueOf:void 0;function plt(e,t,n,i,a,r,s){switch(n){case flt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case hlt:return!(e.byteLength!=t.byteLength||!r(new K1(e),new K1(t)));case ilt:case alt:case olt:return Wv(+e,+t);case rlt:return e.name==t.name&&e.message==t.message;case llt:case ult:return e==t+"";case slt:var o=Jot;case clt:var c=i&elt;if(o||(o=tlt),e.size!=t.size&&!c)return!1;var d=s.get(e);if(d)return d==t;i|=nlt,s.set(e,t);var f=wF(o(e),o(t),i,a,r,s);return s.delete(e),f;case dlt:if($E)return $E.call(e)==$E.call(t)}return!1}function mlt(e,t){for(var n=-1,i=t.length,a=e.length;++n<i;)e[a+n]=t[n];return e}function glt(e,t,n){var i=t(e);return Wr(e)?i:mlt(i,n(e))}function vlt(e,t){for(var n=-1,i=e==null?0:e.length,a=0,r=[];++n<i;){var s=e[n];t(s,n,e)&&(r[a++]=s)}return r}function ylt(){return[]}var blt=Object.prototype,xlt=blt.propertyIsEnumerable,QO=Object.getOwnPropertySymbols,Slt=QO?function(e){return e==null?[]:(e=Object(e),vlt(QO(e),function(t){return xlt.call(e,t)}))}:ylt;function ZO(e){return glt(e,LT,Slt)}var wlt=1,_lt=Object.prototype,Elt=_lt.hasOwnProperty;function Alt(e,t,n,i,a,r){var s=n&wlt,o=ZO(e),c=o.length,d=ZO(t),f=d.length;if(c!=f&&!s)return!1;for(var g=c;g--;){var v=o[g];if(!(s?v in t:Elt.call(t,v)))return!1}var y=r.get(e),b=r.get(t);if(y&&b)return y==t&&b==e;var w=!0;r.set(e,t),r.set(t,e);for(var E=s;++g<c;){v=o[g];var C=e[v],A=t[v];if(i)var _=s?i(A,C,v,t,e,r):i(C,A,v,e,t,r);if(!(_===void 0?C===A||a(C,A,n,i,r):_)){w=!1;break}E||(E=v=="constructor")}if(w&&!E){var M=e.constructor,D=t.constructor;M!=D&&"constructor"in e&&"constructor"in t&&!(typeof M=="function"&&M instanceof M&&typeof D=="function"&&D instanceof D)&&(w=!1)}return r.delete(e),r.delete(t),w}var CC=Dh(wo,"DataView"),TC=Dh(wo,"Promise"),RC=Dh(wo,"Set"),MC=Dh(wo,"WeakMap"),JO="[object Map]",Clt="[object Object]",tN="[object Promise]",eN="[object Set]",nN="[object WeakMap]",iN="[object DataView]",Tlt=Mh(CC),Rlt=Mh(xv),Mlt=Mh(TC),Dlt=Mh(RC),Olt=Mh(MC),wu=Rh;(CC&&wu(new CC(new ArrayBuffer(1)))!=iN||xv&&wu(new xv)!=JO||TC&&wu(TC.resolve())!=tN||RC&&wu(new RC)!=eN||MC&&wu(new MC)!=nN)&&(wu=function(e){var t=Rh(e),n=t==Clt?e.constructor:void 0,i=n?Mh(n):"";if(i)switch(i){case Tlt:return iN;case Rlt:return JO;case Mlt:return tN;case Dlt:return eN;case Olt:return nN}return t});var Nlt=1,aN="[object Arguments]",rN="[object Array]",Kb="[object Object]",Plt=Object.prototype,sN=Plt.hasOwnProperty;function klt(e,t,n,i,a,r){var s=Wr(e),o=Wr(t),c=s?rN:wu(e),d=o?rN:wu(t);c=c==aN?Kb:c,d=d==aN?Kb:d;var f=c==Kb,g=d==Kb,v=c==d;if(v&&W1(e)){if(!W1(t))return!1;s=!0,f=!1}if(v&&!f)return r||(r=new xl),s||PT(e)?wF(e,t,n,i,a,r):plt(e,t,c,n,i,a,r);if(!(n&Nlt)){var y=f&&sN.call(e,"__wrapped__"),b=g&&sN.call(t,"__wrapped__");if(y||b){var w=y?e.value():e,E=b?t.value():t;return r||(r=new xl),a(w,E,n,i,r)}}return v?(r||(r=new xl),Alt(e,t,n,i,a,r)):!1}function FT(e,t,n,i,a){return e===t?!0:e==null||t==null||!Bu(e)&&!Bu(t)?e!==e&&t!==t:klt(e,t,n,i,FT,a)}var Llt=1,jlt=2;function Flt(e,t,n,i){var a=n.length,r=a;if(e==null)return!r;for(e=Object(e);a--;){var s=n[a];if(s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<r;){s=n[a];var o=s[0],c=e[o],d=s[1];if(s[2]){if(c===void 0&&!(o in e))return!1}else{var f=new xl,g;if(!(g===void 0?FT(d,c,Llt|jlt,i,f):g))return!1}}return!0}function _F(e){return e===e&&!Ps(e)}function Blt(e){for(var t=LT(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,_F(a)]}return t}function EF(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Ilt(e){var t=Blt(e);return t.length==1&&t[0][2]?EF(t[0][0],t[0][1]):function(n){return n===e||Flt(n,e,t)}}var zlt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ult=/^\w*$/;function BT(e,t){if(Wr(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||a2(e)?!0:Ult.test(e)||!zlt.test(e)||t!=null&&e in Object(t)}var Hlt="Expected a function";function IT(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Hlt);var n=function(){var i=arguments,a=t?t.apply(this,i):i[0],r=n.cache;if(r.has(a))return r.get(a);var s=e.apply(this,i);return n.cache=r.set(a,s)||r,s};return n.cache=new(IT.Cache||Mc),n}IT.Cache=Mc;var Glt=500;function qlt(e){var t=IT(e,function(i){return n.size===Glt&&n.clear(),i}),n=t.cache;return t}var Vlt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$lt=/\\(\\)?/g,Ylt=qlt(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Vlt,function(n,i,a,r){t.push(a?r.replace($lt,"$1"):i||n)}),t}),oN=Fu?Fu.prototype:void 0,lN=oN?oN.toString:void 0;function AF(e){if(typeof e=="string")return e;if(Wr(e))return SF(e,AF)+"";if(a2(e))return lN?lN.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Klt(e){return e==null?"":AF(e)}function CF(e,t){return Wr(e)?e:BT(e,t)?[e]:Ylt(Klt(e))}function o2(e){if(typeof e=="string"||a2(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function TF(e,t){t=CF(t,e);for(var n=0,i=t.length;e!=null&&n<i;)e=e[o2(t[n++])];return n&&n==i?e:void 0}function Xlt(e,t,n){var i=e==null?void 0:TF(e,t);return i===void 0?n:i}function Wlt(e,t){return e!=null&&t in Object(e)}function Qlt(e,t,n){t=CF(t,e);for(var i=-1,a=t.length,r=!1;++i<a;){var s=o2(t[i]);if(!(r=e!=null&&n(e,s)))break;e=e[s]}return r||++i!=a?r:(a=e==null?0:e.length,!!a&&NT(a)&&kT(s,a)&&(Wr(e)||X1(e)))}function Zlt(e,t){return e!=null&&Qlt(e,t,Wlt)}var Jlt=1,tct=2;function ect(e,t){return BT(e)&&_F(t)?EF(o2(e),t):function(n){var i=Xlt(n,e);return i===void 0&&i===t?Zlt(n,e):FT(t,i,Jlt|tct)}}function nct(e){return function(t){return t?.[e]}}function ict(e){return function(t){return TF(t,e)}}function act(e){return BT(e)?nct(o2(e)):ict(e)}function rct(e){return typeof e=="function"?e:e==null?i2:typeof e=="object"?Wr(e)?ect(e[0],e[1]):Ilt(e):act(e)}function sct(e,t){var n=-1,i=sm(e)?Array(e.length):[];return vF(e,function(a,r,s){i[++n]=t(a,r,s)}),i}function Nh(e,t){var n=Wr(e)?SF:sct;return n(e,rct(t))}var oct=function(t){var n=t.colors,i=t.onClick,a=t.onSwatchHover,r=_e({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return Y.createElement("div",{style:r.swatches},Nh(n,function(s){return Y.createElement(Oh,{key:s,color:s,style:r.swatch,onClick:i,onHover:a,focusStyle:{boxShadow:"0 0 4px "+s}})}),Y.createElement("div",{style:r.clear}))},zT=function(t){var n=t.onChange,i=t.onSwatchHover,a=t.hex,r=t.colors,s=t.width,o=t.triangle,c=t.styles,d=c===void 0?{}:c,f=t.className,g=f===void 0?"":f,v=a==="transparent",y=function(E,C){qu(E)&&n({hex:E,source:"hex"},C)},b=_e(Mr({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:a,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:jT(a),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+a+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},d),{"hide-triangle":o==="hide"});return Y.createElement("div",{style:b.card,className:"block-picker "+g},Y.createElement("div",{style:b.triangle}),Y.createElement("div",{style:b.head},v&&Y.createElement(am,{borderRadius:"6px 6px 0 0"}),Y.createElement("div",{style:b.label},a)),Y.createElement("div",{style:b.body},Y.createElement(oct,{colors:r,onClick:y,onSwatchHover:i}),Y.createElement(cn,{style:{input:b.input},value:a,onChange:y})))};zT.propTypes={width:wt.oneOfType([wt.string,wt.number]),colors:wt.arrayOf(wt.string),triangle:wt.oneOf(["top","hide"]),styles:wt.object};zT.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Dr(zT);var Zf={100:"#ffcdd2",300:"#e57373",500:"#f44336",700:"#d32f2f",900:"#b71c1c"},Jf={100:"#f8bbd0",300:"#f06292",500:"#e91e63",700:"#c2185b",900:"#880e4f"},tp={100:"#e1bee7",300:"#ba68c8",500:"#9c27b0",700:"#7b1fa2",900:"#4a148c"},ep={100:"#d1c4e9",300:"#9575cd",500:"#673ab7",700:"#512da8",900:"#311b92"},np={100:"#c5cae9",300:"#7986cb",500:"#3f51b5",700:"#303f9f",900:"#1a237e"},ip={100:"#bbdefb",300:"#64b5f6",500:"#2196f3",700:"#1976d2",900:"#0d47a1"},ap={100:"#b3e5fc",300:"#4fc3f7",500:"#03a9f4",700:"#0288d1",900:"#01579b"},rp={100:"#b2ebf2",300:"#4dd0e1",500:"#00bcd4",700:"#0097a7",900:"#006064"},sp={100:"#b2dfdb",300:"#4db6ac",500:"#009688",700:"#00796b",900:"#004d40"},G0={100:"#c8e6c9",300:"#81c784",500:"#4caf50",700:"#388e3c"},op={100:"#dcedc8",300:"#aed581",500:"#8bc34a",700:"#689f38",900:"#33691e"},lp={100:"#f0f4c3",300:"#dce775",500:"#cddc39",700:"#afb42b",900:"#827717"},cp={100:"#fff9c4",300:"#fff176",500:"#ffeb3b",700:"#fbc02d",900:"#f57f17"},up={100:"#ffecb3",300:"#ffd54f",500:"#ffc107",700:"#ffa000",900:"#ff6f00"},dp={100:"#ffe0b2",300:"#ffb74d",500:"#ff9800",700:"#f57c00",900:"#e65100"},hp={100:"#ffccbc",300:"#ff8a65",500:"#ff5722",700:"#e64a19",900:"#bf360c"},fp={100:"#d7ccc8",300:"#a1887f",500:"#795548",700:"#5d4037",900:"#3e2723"},pp={100:"#cfd8dc",300:"#90a4ae",500:"#607d8b",700:"#455a64",900:"#263238"},RF=function(t){var n=t.color,i=t.onClick,a=t.onSwatchHover,r=t.hover,s=t.active,o=t.circleSize,c=t.circleSpacing,d=_e({default:{swatch:{width:o,height:o,marginRight:c,marginBottom:c,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(o/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:r,active:s});return Y.createElement("div",{style:d.swatch},Y.createElement(Oh,{style:d.Swatch,color:n,onClick:i,onHover:a,focusStyle:{boxShadow:d.Swatch.boxShadow+", 0 0 5px "+n}}))};RF.defaultProps={circleSize:28,circleSpacing:14};const lct=TT.handleHover(RF);var UT=function(t){var n=t.width,i=t.onChange,a=t.onSwatchHover,r=t.colors,s=t.hex,o=t.circleSize,c=t.styles,d=c===void 0?{}:c,f=t.circleSpacing,g=t.className,v=g===void 0?"":g,y=_e(Mr({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-f,marginBottom:-f}}},d)),b=function(E,C){return i({hex:E,source:"hex"},C)};return Y.createElement("div",{style:y.card,className:"circle-picker "+v},Nh(r,function(w){return Y.createElement(lct,{key:w,color:w,onClick:b,onSwatchHover:a,active:s===w.toLowerCase(),circleSize:o,circleSpacing:f})}))};UT.propTypes={width:wt.oneOfType([wt.string,wt.number]),circleSize:wt.number,circleSpacing:wt.number,styles:wt.object};UT.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Zf[500],Jf[500],tp[500],ep[500],np[500],ip[500],ap[500],rp[500],sp[500],G0[500],op[500],lp[500],cp[500],up[500],dp[500],hp[500],fp[500],pp[500]],styles:{}};Dr(UT);function cN(e){return e===void 0}var Xb={},uN;function cct(){if(uN)return Xb;uN=1,Object.defineProperty(Xb,"__esModule",{value:!0});var e=Object.assign||function(s){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(s[d]=c[d])}return s},t=El(),n=i(t);function i(s){return s&&s.__esModule?s:{default:s}}function a(s,o){var c={};for(var d in s)o.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(s,d)&&(c[d]=s[d]);return c}var r=24;return Xb.default=function(s){var o=s.fill,c=o===void 0?"currentColor":o,d=s.width,f=d===void 0?r:d,g=s.height,v=g===void 0?r:g,y=s.style,b=y===void 0?{}:y,w=a(s,["fill","width","height","style"]);return n.default.createElement("svg",e({viewBox:"0 0 "+r+" "+r,style:e({fill:c,width:f,height:v},b)},w),n.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},Xb}var uct=cct();const dct=Qr(uct);var hct=function(){function e(t,n){for(var i=0;i<n.length;i++){var a=n[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function fct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pct(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function mct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var MF=function(e){mct(t,e);function t(n){fct(this,t);var i=pct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.toggleViews=function(){i.state.view==="hex"?i.setState({view:"rgb"}):i.state.view==="rgb"?i.setState({view:"hsl"}):i.state.view==="hsl"&&(i.props.hsl.a===1?i.setState({view:"hex"}):i.setState({view:"rgb"}))},i.handleChange=function(a,r){a.hex?qu(a.hex)&&i.props.onChange({hex:a.hex,source:"hex"},r):a.r||a.g||a.b?i.props.onChange({r:a.r||i.props.rgb.r,g:a.g||i.props.rgb.g,b:a.b||i.props.rgb.b,source:"rgb"},r):a.a?(a.a<0?a.a=0:a.a>1&&(a.a=1),i.props.onChange({h:i.props.hsl.h,s:i.props.hsl.s,l:i.props.hsl.l,a:Math.round(a.a*100)/100,source:"rgb"},r)):(a.h||a.s||a.l)&&(typeof a.s=="string"&&a.s.includes("%")&&(a.s=a.s.replace("%","")),typeof a.l=="string"&&a.l.includes("%")&&(a.l=a.l.replace("%","")),a.s==1?a.s=.01:a.l==1&&(a.l=.01),i.props.onChange({h:a.h||i.props.hsl.h,s:Number(cN(a.s)?i.props.hsl.s:a.s),l:Number(cN(a.l)?i.props.hsl.l:a.l),source:"hsl"},r))},i.showHighlight=function(a){a.currentTarget.style.background="#eee"},i.hideHighlight=function(a){a.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?i.state={view:"rgb"}:i.state={view:n.view},i}return hct(t,[{key:"render",value:function(){var i=this,a=_e({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),r=void 0;return this.state.view==="hex"?r=Y.createElement("div",{style:a.fields,className:"flexbox-fix"},Y.createElement("div",{style:a.field},Y.createElement(cn,{style:{input:a.input,label:a.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?r=Y.createElement("div",{style:a.fields,className:"flexbox-fix"},Y.createElement("div",{style:a.field},Y.createElement(cn,{style:{input:a.input,label:a.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),Y.createElement("div",{style:a.field},Y.createElement(cn,{style:{input:a.input,label:a.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),Y.createElement("div",{style:a.field},Y.createElement(cn,{style:{input:a.input,label:a.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),Y.createElement("div",{style:a.alpha},Y.createElement(cn,{style:{input:a.input,label:a.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(r=Y.createElement("div",{style:a.fields,className:"flexbox-fix"},Y.createElement("div",{style:a.field},Y.createElement(cn,{style:{input:a.input,label:a.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),Y.createElement("div",{style:a.field},Y.createElement(cn,{style:{input:a.input,label:a.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),Y.createElement("div",{style:a.field},Y.createElement(cn,{style:{input:a.input,label:a.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),Y.createElement("div",{style:a.alpha},Y.createElement(cn,{style:{input:a.input,label:a.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),Y.createElement("div",{style:a.wrap,className:"flexbox-fix"},r,Y.createElement("div",{style:a.toggle},Y.createElement("div",{style:a.icon,onClick:this.toggleViews,ref:function(o){return i.icon=o}},Y.createElement(dct,{style:a.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(i,a){return i.hsl.a!==1&&a.view==="hex"?{view:"rgb"}:null}}]),t}(Y.Component);MF.defaultProps={view:"hex"};var dN=function(){var t=_e({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return Y.createElement("div",{style:t.picker})},gct=function(){var t=_e({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return Y.createElement("div",{style:t.picker})},HT=function(t){var n=t.width,i=t.onChange,a=t.disableAlpha,r=t.rgb,s=t.hsl,o=t.hsv,c=t.hex,d=t.renderers,f=t.styles,g=f===void 0?{}:f,v=t.className,y=v===void 0?"":v,b=t.defaultView,w=_e(Mr({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+r.r+", "+r.g+", "+r.b+", "+r.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},g),{disableAlpha:a});return Y.createElement("div",{style:w.picker,className:"chrome-picker "+y},Y.createElement("div",{style:w.saturation},Y.createElement(r2,{style:w.Saturation,hsl:s,hsv:o,pointer:gct,onChange:i})),Y.createElement("div",{style:w.body},Y.createElement("div",{style:w.controls,className:"flexbox-fix"},Y.createElement("div",{style:w.color},Y.createElement("div",{style:w.swatch},Y.createElement("div",{style:w.active}),Y.createElement(am,{renderers:d}))),Y.createElement("div",{style:w.toggles},Y.createElement("div",{style:w.hue},Y.createElement(rm,{style:w.Hue,hsl:s,pointer:dN,onChange:i})),Y.createElement("div",{style:w.alpha},Y.createElement(RT,{style:w.Alpha,rgb:r,hsl:s,pointer:dN,renderers:d,onChange:i})))),Y.createElement(MF,{rgb:r,hsl:s,hex:c,view:b,onChange:i,disableAlpha:a})))};HT.propTypes={width:wt.oneOfType([wt.string,wt.number]),disableAlpha:wt.bool,styles:wt.object,defaultView:wt.oneOf(["hex","rgb","hsl"])};HT.defaultProps={width:225,disableAlpha:!1,styles:{}};Dr(HT);var vct=function(t){var n=t.color,i=t.onClick,a=i===void 0?function(){}:i,r=t.onSwatchHover,s=t.active,o=_e({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:jT(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:s,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return Y.createElement(Oh,{style:o.color,color:n,onClick:a,onHover:r,focusStyle:{boxShadow:"0 0 4px "+n}},Y.createElement("div",{style:o.dot}))},yct=function(t){var n=t.hex,i=t.rgb,a=t.onChange,r=_e({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(c,d){c.r||c.g||c.b?a({r:c.r||i.r,g:c.g||i.g,b:c.b||i.b,source:"rgb"},d):a({hex:c.hex,source:"hex"},d)};return Y.createElement("div",{style:r.fields,className:"flexbox-fix"},Y.createElement("div",{style:r.active}),Y.createElement(cn,{style:{wrap:r.HEXwrap,input:r.HEXinput,label:r.HEXlabel},label:"hex",value:n,onChange:s}),Y.createElement(cn,{style:{wrap:r.RGBwrap,input:r.RGBinput,label:r.RGBlabel},label:"r",value:i.r,onChange:s}),Y.createElement(cn,{style:{wrap:r.RGBwrap,input:r.RGBinput,label:r.RGBlabel},label:"g",value:i.g,onChange:s}),Y.createElement(cn,{style:{wrap:r.RGBwrap,input:r.RGBinput,label:r.RGBlabel},label:"b",value:i.b,onChange:s}))},GT=function(t){var n=t.onChange,i=t.onSwatchHover,a=t.colors,r=t.hex,s=t.rgb,o=t.styles,c=o===void 0?{}:o,d=t.className,f=d===void 0?"":d,g=_e(Mr({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},c)),v=function(b,w){b.hex?qu(b.hex)&&n({hex:b.hex,source:"hex"},w):n(b,w)};return Y.createElement(Qv,{style:g.Compact,styles:c},Y.createElement("div",{style:g.compact,className:"compact-picker "+f},Y.createElement("div",null,Nh(a,function(y){return Y.createElement(vct,{key:y,color:y,active:y.toLowerCase()===r,onClick:v,onSwatchHover:i})}),Y.createElement("div",{style:g.clear})),Y.createElement(yct,{hex:r,rgb:s,onChange:v})))};GT.propTypes={colors:wt.arrayOf(wt.string),styles:wt.object};GT.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Dr(GT);var bct=function(t){var n=t.hover,i=t.color,a=t.onClick,r=t.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},o=_e({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:n});return Y.createElement("div",{style:o.swatch},Y.createElement(Oh,{color:i,onClick:a,onHover:r,focusStyle:s}))};const xct=TT.handleHover(bct);var qT=function(t){var n=t.width,i=t.colors,a=t.onChange,r=t.onSwatchHover,s=t.triangle,o=t.styles,c=o===void 0?{}:o,d=t.className,f=d===void 0?"":d,g=_e(Mr({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},c),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right","bottom-left-triangle":s==="bottom-left","bottom-right-triangle":s==="bottom-right"}),v=function(b,w){return a({hex:b,source:"hex"},w)};return Y.createElement("div",{style:g.card,className:"github-picker "+f},Y.createElement("div",{style:g.triangleShadow}),Y.createElement("div",{style:g.triangle}),Nh(i,function(y){return Y.createElement(xct,{color:y,key:y,onClick:v,onSwatchHover:r})}))};qT.propTypes={width:wt.oneOfType([wt.string,wt.number]),colors:wt.arrayOf(wt.string),triangle:wt.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:wt.object};qT.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Dr(qT);var Sct=function(t){var n=t.direction,i=_e({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return Y.createElement("div",{style:i.picker})},wct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},VT=function(t){var n=t.width,i=t.height,a=t.onChange,r=t.hsl,s=t.direction,o=t.pointer,c=t.styles,d=c===void 0?{}:c,f=t.className,g=f===void 0?"":f,v=_e(Mr({default:{picker:{position:"relative",width:n,height:i},hue:{radius:"2px"}}},d)),y=function(w){return a({a:1,h:w.h,l:.5,s:1})};return Y.createElement("div",{style:v.picker,className:"hue-picker "+g},Y.createElement(rm,wct({},v.hue,{hsl:r,pointer:o,onChange:y,direction:s})))};VT.propTypes={styles:wt.object};VT.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Sct,styles:{}};Dr(VT);var _ct=function(t){var n=t.onChange,i=t.hex,a=t.rgb,r=t.styles,s=r===void 0?{}:r,o=t.className,c=o===void 0?"":o,d=_e(Mr({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+i,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},s)),f=function(v,y){v.hex?qu(v.hex)&&n({hex:v.hex,source:"hex"},y):(v.r||v.g||v.b)&&n({r:v.r||a.r,g:v.g||a.g,b:v.b||a.b,source:"rgb"},y)};return Y.createElement(Qv,{styles:s},Y.createElement("div",{style:d.material,className:"material-picker "+c},Y.createElement(cn,{style:{wrap:d.HEXwrap,input:d.HEXinput,label:d.HEXlabel},label:"hex",value:i,onChange:f}),Y.createElement("div",{style:d.split,className:"flexbox-fix"},Y.createElement("div",{style:d.third},Y.createElement(cn,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"r",value:a.r,onChange:f})),Y.createElement("div",{style:d.third},Y.createElement(cn,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"g",value:a.g,onChange:f})),Y.createElement("div",{style:d.third},Y.createElement(cn,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"b",value:a.b,onChange:f})))))};Dr(_ct);var Ect=function(t){var n=t.onChange,i=t.rgb,a=t.hsv,r=t.hex,s=_e({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),o=function(d,f){d["#"]?qu(d["#"])&&n({hex:d["#"],source:"hex"},f):d.r||d.g||d.b?n({r:d.r||i.r,g:d.g||i.g,b:d.b||i.b,source:"rgb"},f):(d.h||d.s||d.v)&&n({h:d.h||a.h,s:d.s||a.s,v:d.v||a.v,source:"hsv"},f)};return Y.createElement("div",{style:s.fields},Y.createElement(cn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"h",value:Math.round(a.h),onChange:o}),Y.createElement(cn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"s",value:Math.round(a.s*100),onChange:o}),Y.createElement(cn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"v",value:Math.round(a.v*100),onChange:o}),Y.createElement("div",{style:s.divider}),Y.createElement(cn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:i.r,onChange:o}),Y.createElement(cn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:i.g,onChange:o}),Y.createElement(cn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:i.b,onChange:o}),Y.createElement("div",{style:s.divider}),Y.createElement(cn,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"#",value:r.replace("#",""),onChange:o}),Y.createElement("div",{style:s.fieldSymbols},Y.createElement("div",{style:s.symbol},""),Y.createElement("div",{style:s.symbol},"%"),Y.createElement("div",{style:s.symbol},"%")))},Act=function(t){var n=t.hsl,i=_e({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return Y.createElement("div",{style:i.picker})},Cct=function(){var t=_e({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return Y.createElement("div",{style:t.pointer},Y.createElement("div",{style:t.left},Y.createElement("div",{style:t.leftInside})),Y.createElement("div",{style:t.right},Y.createElement("div",{style:t.rightInside})))},hN=function(t){var n=t.onClick,i=t.label,a=t.children,r=t.active,s=_e({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:r});return Y.createElement("div",{style:s.button,onClick:n},i||a)},Tct=function(t){var n=t.rgb,i=t.currentColor,a=_e({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:i,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return Y.createElement("div",null,Y.createElement("div",{style:a.label},"new"),Y.createElement("div",{style:a.swatches},Y.createElement("div",{style:a.new}),Y.createElement("div",{style:a.current})),Y.createElement("div",{style:a.label},"current"))},Rct=function(){function e(t,n){for(var i=0;i<n.length;i++){var a=n[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function Mct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dct(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Oct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var $T=function(e){Oct(t,e);function t(n){Mct(this,t);var i=Dct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.state={currentColor:n.hex},i}return Rct(t,[{key:"render",value:function(){var i=this.props,a=i.styles,r=a===void 0?{}:a,s=i.className,o=s===void 0?"":s,c=_e(Mr({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},r));return Y.createElement("div",{style:c.picker,className:"photoshop-picker "+o},Y.createElement("div",{style:c.head},this.props.header),Y.createElement("div",{style:c.body,className:"flexbox-fix"},Y.createElement("div",{style:c.saturation},Y.createElement(r2,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Act,onChange:this.props.onChange})),Y.createElement("div",{style:c.hue},Y.createElement(rm,{direction:"vertical",hsl:this.props.hsl,pointer:Cct,onChange:this.props.onChange})),Y.createElement("div",{style:c.controls},Y.createElement("div",{style:c.top,className:"flexbox-fix"},Y.createElement("div",{style:c.previews},Y.createElement(Tct,{rgb:this.props.rgb,currentColor:this.state.currentColor})),Y.createElement("div",{style:c.actions},Y.createElement(hN,{label:"OK",onClick:this.props.onAccept,active:!0}),Y.createElement(hN,{label:"Cancel",onClick:this.props.onCancel}),Y.createElement(Ect,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(Y.Component);$T.propTypes={header:wt.string,styles:wt.object};$T.defaultProps={header:"Color Picker",styles:{}};Dr($T);var Nct=function(t){var n=t.onChange,i=t.rgb,a=t.hsl,r=t.hex,s=t.disableAlpha,o=_e({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:s}),c=function(f,g){f.hex?qu(f.hex)&&n({hex:f.hex,source:"hex"},g):f.r||f.g||f.b?n({r:f.r||i.r,g:f.g||i.g,b:f.b||i.b,a:i.a,source:"rgb"},g):f.a&&(f.a<0?f.a=0:f.a>100&&(f.a=100),f.a/=100,n({h:a.h,s:a.s,l:a.l,a:f.a,source:"rgb"},g))};return Y.createElement("div",{style:o.fields,className:"flexbox-fix"},Y.createElement("div",{style:o.double},Y.createElement(cn,{style:{input:o.input,label:o.label},label:"hex",value:r.replace("#",""),onChange:c})),Y.createElement("div",{style:o.single},Y.createElement(cn,{style:{input:o.input,label:o.label},label:"r",value:i.r,onChange:c,dragLabel:"true",dragMax:"255"})),Y.createElement("div",{style:o.single},Y.createElement(cn,{style:{input:o.input,label:o.label},label:"g",value:i.g,onChange:c,dragLabel:"true",dragMax:"255"})),Y.createElement("div",{style:o.single},Y.createElement(cn,{style:{input:o.input,label:o.label},label:"b",value:i.b,onChange:c,dragLabel:"true",dragMax:"255"})),Y.createElement("div",{style:o.alpha},Y.createElement(cn,{style:{input:o.input,label:o.label},label:"a",value:Math.round(i.a*100),onChange:c,dragLabel:"true",dragMax:"100"})))},Pct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},DF=function(t){var n=t.colors,i=t.onClick,a=i===void 0?function(){}:i,r=t.onSwatchHover,s=_e({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),o=function(d,f){a({hex:d,source:"hex"},f)};return Y.createElement("div",{style:s.colors,className:"flexbox-fix"},n.map(function(c){var d=typeof c=="string"?{color:c}:c,f=""+d.color+(d.title||"");return Y.createElement("div",{key:f,style:s.swatchWrap},Y.createElement(Oh,Pct({},d,{style:s.swatch,onClick:o,onHover:r,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+d.color}})))}))};DF.propTypes={colors:wt.arrayOf(wt.oneOfType([wt.string,wt.shape({color:wt.string,title:wt.string})])).isRequired};var kct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},YT=function(t){var n=t.width,i=t.rgb,a=t.hex,r=t.hsv,s=t.hsl,o=t.onChange,c=t.onSwatchHover,d=t.disableAlpha,f=t.presetColors,g=t.renderers,v=t.styles,y=v===void 0?{}:v,b=t.className,w=b===void 0?"":b,E=_e(Mr({default:kct({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+i.r+","+i.g+","+i.b+","+i.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},y),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},y),{disableAlpha:d});return Y.createElement("div",{style:E.picker,className:"sketch-picker "+w},Y.createElement("div",{style:E.saturation},Y.createElement(r2,{style:E.Saturation,hsl:s,hsv:r,onChange:o})),Y.createElement("div",{style:E.controls,className:"flexbox-fix"},Y.createElement("div",{style:E.sliders},Y.createElement("div",{style:E.hue},Y.createElement(rm,{style:E.Hue,hsl:s,onChange:o})),Y.createElement("div",{style:E.alpha},Y.createElement(RT,{style:E.Alpha,rgb:i,hsl:s,renderers:g,onChange:o}))),Y.createElement("div",{style:E.color},Y.createElement(am,null),Y.createElement("div",{style:E.activeColor}))),Y.createElement(Nct,{rgb:i,hsl:s,hex:a,onChange:o,disableAlpha:d}),Y.createElement(DF,{colors:f,onClick:o,onSwatchHover:c}))};YT.propTypes={disableAlpha:wt.bool,width:wt.oneOfType([wt.string,wt.number]),styles:wt.object};YT.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const Lct=Dr(YT);var Ig=function(t){var n=t.hsl,i=t.offset,a=t.onClick,r=a===void 0?function(){}:a,s=t.active,o=t.first,c=t.last,d=_e({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+i*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:o,last:c}),f=function(v){return r({h:n.h,s:.5,l:i,source:"hsl"},v)};return Y.createElement("div",{style:d.swatch,onClick:f})},jct=function(t){var n=t.onClick,i=t.hsl,a=_e({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),r=.1;return Y.createElement("div",{style:a.swatches},Y.createElement("div",{style:a.swatch},Y.createElement(Ig,{hsl:i,offset:".80",active:Math.abs(i.l-.8)<r&&Math.abs(i.s-.5)<r,onClick:n,first:!0})),Y.createElement("div",{style:a.swatch},Y.createElement(Ig,{hsl:i,offset:".65",active:Math.abs(i.l-.65)<r&&Math.abs(i.s-.5)<r,onClick:n})),Y.createElement("div",{style:a.swatch},Y.createElement(Ig,{hsl:i,offset:".50",active:Math.abs(i.l-.5)<r&&Math.abs(i.s-.5)<r,onClick:n})),Y.createElement("div",{style:a.swatch},Y.createElement(Ig,{hsl:i,offset:".35",active:Math.abs(i.l-.35)<r&&Math.abs(i.s-.5)<r,onClick:n})),Y.createElement("div",{style:a.swatch},Y.createElement(Ig,{hsl:i,offset:".20",active:Math.abs(i.l-.2)<r&&Math.abs(i.s-.5)<r,onClick:n,last:!0})),Y.createElement("div",{style:a.clear}))},Fct=function(){var t=_e({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return Y.createElement("div",{style:t.picker})},KT=function(t){var n=t.hsl,i=t.onChange,a=t.pointer,r=t.styles,s=r===void 0?{}:r,o=t.className,c=o===void 0?"":o,d=_e(Mr({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},s));return Y.createElement("div",{style:d.wrap||{},className:"slider-picker "+c},Y.createElement("div",{style:d.hue},Y.createElement(rm,{style:d.Hue,hsl:n,pointer:a,onChange:i})),Y.createElement("div",{style:d.swatches},Y.createElement(jct,{hsl:n,onClick:i})))};KT.propTypes={styles:wt.object};KT.defaultProps={pointer:Fct,styles:{}};Dr(KT);var Wb={},fN;function Bct(){if(fN)return Wb;fN=1,Object.defineProperty(Wb,"__esModule",{value:!0});var e=Object.assign||function(s){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(s[d]=c[d])}return s},t=El(),n=i(t);function i(s){return s&&s.__esModule?s:{default:s}}function a(s,o){var c={};for(var d in s)o.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(s,d)&&(c[d]=s[d]);return c}var r=24;return Wb.default=function(s){var o=s.fill,c=o===void 0?"currentColor":o,d=s.width,f=d===void 0?r:d,g=s.height,v=g===void 0?r:g,y=s.style,b=y===void 0?{}:y,w=a(s,["fill","width","height","style"]);return n.default.createElement("svg",e({viewBox:"0 0 "+r+" "+r,style:e({fill:c,width:f,height:v},b)},w),n.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},Wb}var Ict=Bct();const zct=Qr(Ict);var Uct=function(t){var n=t.color,i=t.onClick,a=i===void 0?function(){}:i,r=t.onSwatchHover,s=t.first,o=t.last,c=t.active,d=_e({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:jT(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:s,last:o,active:c,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return Y.createElement(Oh,{color:n,style:d.color,onClick:a,onHover:r,focusStyle:{boxShadow:"0 0 4px "+n}},Y.createElement("div",{style:d.check},Y.createElement(zct,null)))},Hct=function(t){var n=t.onClick,i=t.onSwatchHover,a=t.group,r=t.active,s=_e({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return Y.createElement("div",{style:s.group},Nh(a,function(o,c){return Y.createElement(Uct,{key:o,color:o,active:o.toLowerCase()===r,first:c===0,last:c===a.length-1,onClick:n,onSwatchHover:i})}))},XT=function(t){var n=t.width,i=t.height,a=t.onChange,r=t.onSwatchHover,s=t.colors,o=t.hex,c=t.styles,d=c===void 0?{}:c,f=t.className,g=f===void 0?"":f,v=_e(Mr({default:{picker:{width:n,height:i},overflow:{height:i,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},d)),y=function(w,E){return a({hex:w,source:"hex"},E)};return Y.createElement("div",{style:v.picker,className:"swatches-picker "+g},Y.createElement(Qv,null,Y.createElement("div",{style:v.overflow},Y.createElement("div",{style:v.body},Nh(s,function(b){return Y.createElement(Hct,{key:b.toString(),group:b,active:o,onClick:y,onSwatchHover:r})}),Y.createElement("div",{style:v.clear})))))};XT.propTypes={width:wt.oneOfType([wt.string,wt.number]),height:wt.oneOfType([wt.string,wt.number]),colors:wt.arrayOf(wt.arrayOf(wt.string)),styles:wt.object};XT.defaultProps={width:320,height:240,colors:[[Zf[900],Zf[700],Zf[500],Zf[300],Zf[100]],[Jf[900],Jf[700],Jf[500],Jf[300],Jf[100]],[tp[900],tp[700],tp[500],tp[300],tp[100]],[ep[900],ep[700],ep[500],ep[300],ep[100]],[np[900],np[700],np[500],np[300],np[100]],[ip[900],ip[700],ip[500],ip[300],ip[100]],[ap[900],ap[700],ap[500],ap[300],ap[100]],[rp[900],rp[700],rp[500],rp[300],rp[100]],[sp[900],sp[700],sp[500],sp[300],sp[100]],["#194D33",G0[700],G0[500],G0[300],G0[100]],[op[900],op[700],op[500],op[300],op[100]],[lp[900],lp[700],lp[500],lp[300],lp[100]],[cp[900],cp[700],cp[500],cp[300],cp[100]],[up[900],up[700],up[500],up[300],up[100]],[dp[900],dp[700],dp[500],dp[300],dp[100]],[hp[900],hp[700],hp[500],hp[300],hp[100]],[fp[900],fp[700],fp[500],fp[300],fp[100]],[pp[900],pp[700],pp[500],pp[300],pp[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Dr(XT);var WT=function(t){var n=t.onChange,i=t.onSwatchHover,a=t.hex,r=t.colors,s=t.width,o=t.triangle,c=t.styles,d=c===void 0?{}:c,f=t.className,g=f===void 0?"":f,v=_e(Mr({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},d),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right"}),y=function(w,E){qu(w)&&n({hex:w,source:"hex"},E)};return Y.createElement("div",{style:v.card,className:"twitter-picker "+g},Y.createElement("div",{style:v.triangleShadow}),Y.createElement("div",{style:v.triangle}),Y.createElement("div",{style:v.body},Nh(r,function(b,w){return Y.createElement(Oh,{key:w,color:b,hex:b,style:v.swatch,onClick:y,onHover:i,focusStyle:{boxShadow:"0 0 4px "+b}})}),Y.createElement("div",{style:v.hash},"#"),Y.createElement(cn,{label:null,style:{input:v.input},value:a.replace("#",""),onChange:y}),Y.createElement("div",{style:v.clear})))};WT.propTypes={width:wt.oneOfType([wt.string,wt.number]),triangle:wt.oneOf(["hide","top-left","top-right"]),colors:wt.arrayOf(wt.string),styles:wt.object};WT.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Dr(WT);var QT=function(t){var n=_e({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(t.hsl.h)+", "+Math.round(t.hsl.s*100)+"%, "+Math.round(t.hsl.l*100)+"%)"}}});return Y.createElement("div",{style:n.picker})};QT.propTypes={hsl:wt.shape({h:wt.number,s:wt.number,l:wt.number,a:wt.number})};QT.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var ZT=function(t){var n=_e({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(t.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return Y.createElement("div",{style:n.picker})};ZT.propTypes={hsl:wt.shape({h:wt.number,s:wt.number,l:wt.number,a:wt.number})};ZT.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Gct=function(t){var n=t.onChange,i=t.rgb,a=t.hsl,r=t.hex,s=t.hsv,o=function(y,b){if(y.hex)qu(y.hex)&&n({hex:y.hex,source:"hex"},b);else if(y.rgb){var w=y.rgb.split(",");VE(y.rgb,"rgb")&&n({r:w[0],g:w[1],b:w[2],a:1,source:"rgb"},b)}else if(y.hsv){var E=y.hsv.split(",");VE(y.hsv,"hsv")&&(E[2]=E[2].replace("%",""),E[1]=E[1].replace("%",""),E[0]=E[0].replace("",""),E[1]==1?E[1]=.01:E[2]==1&&(E[2]=.01),n({h:Number(E[0]),s:Number(E[1]),v:Number(E[2]),source:"hsv"},b))}else if(y.hsl){var C=y.hsl.split(",");VE(y.hsl,"hsl")&&(C[2]=C[2].replace("%",""),C[1]=C[1].replace("%",""),C[0]=C[0].replace("",""),g[1]==1?g[1]=.01:g[2]==1&&(g[2]=.01),n({h:Number(C[0]),s:Number(C[1]),v:Number(C[2]),source:"hsl"},b))}},c=_e({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),d=i.r+", "+i.g+", "+i.b,f=Math.round(a.h)+", "+Math.round(a.s*100)+"%, "+Math.round(a.l*100)+"%",g=Math.round(s.h)+", "+Math.round(s.s*100)+"%, "+Math.round(s.v*100)+"%";return Y.createElement("div",{style:c.wrap,className:"flexbox-fix"},Y.createElement("div",{style:c.fields},Y.createElement("div",{style:c.double},Y.createElement(cn,{style:{input:c.input,label:c.label},label:"hex",value:r,onChange:o})),Y.createElement("div",{style:c.column},Y.createElement("div",{style:c.single},Y.createElement(cn,{style:{input:c.input2,label:c.label2},label:"rgb",value:d,onChange:o})),Y.createElement("div",{style:c.single},Y.createElement(cn,{style:{input:c.input2,label:c.label2},label:"hsv",value:g,onChange:o})),Y.createElement("div",{style:c.single},Y.createElement(cn,{style:{input:c.input2,label:c.label2},label:"hsl",value:f,onChange:o})))))},JT=function(t){var n=t.width,i=t.onChange,a=t.rgb,r=t.hsl,s=t.hsv,o=t.hex,c=t.header,d=t.styles,f=d===void 0?{}:d,g=t.className,v=g===void 0?"":g,y=_e(Mr({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+a.r+", "+a.g+", "+a.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},f));return Y.createElement("div",{style:y.picker,className:"google-picker "+v},Y.createElement("div",{style:y.head},c),Y.createElement("div",{style:y.swatch}),Y.createElement("div",{style:y.saturation},Y.createElement(r2,{hsl:r,hsv:s,pointer:QT,onChange:i})),Y.createElement("div",{style:y.body},Y.createElement("div",{style:y.controls,className:"flexbox-fix"},Y.createElement("div",{style:y.hue},Y.createElement(rm,{style:y.Hue,hsl:r,radius:"4px",pointer:ZT,onChange:i}))),Y.createElement(Gct,{rgb:a,hsl:r,hex:o,hsv:s,onChange:i})))};JT.propTypes={width:wt.oneOfType([wt.string,wt.number]),styles:wt.object,header:wt.string};JT.defaultProps={width:652,styles:{},header:"Color picker"};Dr(JT);function qct(e){let t=e.replace("#","");t.length===3&&(t=t.split("").map(r=>r+r).join(""));const n=parseInt(t.substr(0,2),16),i=parseInt(t.substr(2,2),16),a=parseInt(t.substr(4,2),16);return(n*299+i*587+a*114)/1e3>=128?"black":"white"}function J1({color:e="#000",onChange:t,icon:n,disabled:i=!1,size:a=28,label:r="",pickerPlacement:s="bottom",className:o}){const[c,d]=j.useState(!1),f=j.useRef(null),[g,v]=j.useState({top:0,left:0});j.useEffect(()=>{if(c&&f.current){const b=f.current.getBoundingClientRect(),w=225;let E=b.left+window.scrollX;E+w>window.innerWidth-8&&(E=Math.max(8,window.innerWidth-w-30)),v({top:s==="top"?b.top+window.scrollY-320:b.top+b.height+window.scrollY+8,left:E})}},[c,s]);const y=qct(e);return L.jsxs(L.Fragment,{children:[L.jsxs("button",{type:"button",ref:f,className:qn("relative flex items-center justify-center rounded-full shadow transition-all border",{"opacity-60 cursor-not-allowed":i},o),style:{width:a,height:a,background:e,borderColor:y==="white"?"#ddd":"#222"},onClick:()=>!i&&d(b=>!b),disabled:i,title:r,children:[L.jsx(n,{size:a*.6,color:y}),L.jsx("span",{className:"absolute inset-0 rounded-full pointer-events-none border-2",style:{borderColor:y==="white"?"#bbb":"#fff",opacity:.4}})]}),c&&kv.createPortal(L.jsx("div",{className:"z-[9999] absolute",style:{top:g.top,left:g.left},onMouseDown:b=>b.stopPropagation(),onClick:b=>b.stopPropagation(),children:L.jsxs("div",{className:"bg-white p-2 rounded-xl shadow-2xl border",style:{minWidth:210,position:"relative"},children:[L.jsx(Lct,{color:e,onChange:b=>t?.(b.hex),disableAlpha:!0}),L.jsx("button",{className:"absolute top-0 right-1 text-gray-500 hover:text-black text-xs",onClick:()=>d(!1),children:L.jsx(Yp,{size:20})})]})}),document.body)]})}var Qb={},pN;function Vct(){if(pN)return Qb;pN=1,Qb.match=r,Qb.parse=s;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,i=/(em|rem|px|cm|mm|in|pt|pc)?$/,a=/(dpi|dpcm|dppx)?$/;function r(f,g){return s(f).some(function(v){var y=v.inverse,b=v.type==="all"||g.type===v.type;if(b&&y||!(b||y))return!1;var w=v.expressions.every(function(E){var C=E.feature,A=E.modifier,_=E.value,M=g[C];if(!M)return!1;switch(C){case"orientation":case"scan":return M.toLowerCase()===_.toLowerCase();case"width":case"height":case"device-width":case"device-height":_=d(_),M=d(M);break;case"resolution":_=c(_),M=c(M);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":_=o(_),M=o(M);break;case"grid":case"color":case"color-index":case"monochrome":_=parseInt(_,10)||1,M=parseInt(M,10)||0;break}switch(A){case"min":return M>=_;case"max":return M<=_;default:return M===_}});return w&&!y||!w&&y})}function s(f){return f.split(",").map(function(g){g=g.trim();var v=g.match(e),y=v[1],b=v[2],w=v[3]||"",E={};return E.inverse=!!y&&y.toLowerCase()==="not",E.type=b?b.toLowerCase():"all",w=w.match(/\([^\)]+\)/g)||[],E.expressions=w.map(function(C){var A=C.match(t),_=A[1].toLowerCase().match(n);return{modifier:_[1],feature:_[2],value:A[2]}}),E})}function o(f){var g=Number(f),v;return g||(v=f.match(/^(\d+)\s*\/\s*(\d+)$/),g=v[1]/v[2]),g}function c(f){var g=parseFloat(f),v=String(f).match(a)[1];switch(v){case"dpcm":return g/2.54;case"dppx":return g*96;default:return g}}function d(f){var g=parseFloat(f),v=String(f).match(i)[1];switch(v){case"em":return g*16;case"rem":return g*16;case"cm":return g*96/2.54;case"mm":return g*96/2.54/10;case"in":return g*96;case"pt":return g*72;case"pc":return g*72/12;default:return g}}return Qb}var YE,mN;function $ct(){if(mN)return YE;mN=1;var e=Vct().match,t=typeof window<"u"?window.matchMedia:null;function n(a,r,s){var o=this,c;t&&!s&&(c=t.call(window,a)),c?(this.matches=c.matches,this.media=c.media,c.addListener(g)):(this.matches=e(a,r),this.media=a),this.addListener=d,this.removeListener=f,this.dispose=v;function d(y){c&&c.addListener(y)}function f(y){c&&c.removeListener(y)}function g(y){o.matches=y.matches,o.media=y.media}function v(){c&&c.removeListener(g)}}function i(a,r,s){return new n(a,r,s)}return YE=i,YE}var Yct=$ct();const Kct=Qr(Yct);var Xct=/[A-Z]/g,Wct=/^ms-/,KE={};function Qct(e){return"-"+e.toLowerCase()}function OF(e){if(KE.hasOwnProperty(e))return KE[e];var t=e.replace(Xct,Qct);return KE[e]=Wct.test(t)?"-"+t:t}function Zct(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),i=Object.keys(t),a=n.length;if(i.length!==a)return!1;for(let r=0;r<a;r++){const s=n[r];if(e[s]!==t[s]||!Object.prototype.hasOwnProperty.call(t,s))return!1}return!0}const nr=wt.oneOfType([wt.string,wt.number]),NF={all:wt.bool,grid:wt.bool,aural:wt.bool,braille:wt.bool,handheld:wt.bool,print:wt.bool,projection:wt.bool,screen:wt.bool,tty:wt.bool,tv:wt.bool,embossed:wt.bool},Jct={orientation:wt.oneOf(["portrait","landscape"]),scan:wt.oneOf(["progressive","interlace"]),aspectRatio:wt.string,deviceAspectRatio:wt.string,height:nr,deviceHeight:nr,width:nr,deviceWidth:nr,color:wt.bool,colorIndex:wt.bool,monochrome:wt.bool,resolution:nr,type:Object.keys(NF)},{type:lxt,...tut}=Jct,eut={minAspectRatio:wt.string,maxAspectRatio:wt.string,minDeviceAspectRatio:wt.string,maxDeviceAspectRatio:wt.string,minHeight:nr,maxHeight:nr,minDeviceHeight:nr,maxDeviceHeight:nr,minWidth:nr,maxWidth:nr,minDeviceWidth:nr,maxDeviceWidth:nr,minColor:wt.number,maxColor:wt.number,minColorIndex:wt.number,maxColorIndex:wt.number,minMonochrome:wt.number,maxMonochrome:wt.number,minResolution:nr,maxResolution:nr,...tut},nut={...NF,...eut};var iut={all:nut};const aut=e=>`not ${e}`,rut=(e,t)=>{const n=OF(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?aut(n):`(${n}: ${t})`},sut=e=>e.join(" and "),out=e=>{const t=[];return Object.keys(iut.all).forEach(n=>{const i=e[n];i!=null&&t.push(rut(n,i))}),sut(t)},lut=j.createContext(void 0),cut=e=>e.query||out(e),gN=e=>e?Object.keys(e).reduce((n,i)=>(n[OF(i)]=e[i],n),{}):void 0,PF=()=>{const e=j.useRef(!1);return j.useEffect(()=>{e.current=!0},[]),e.current},uut=e=>{const t=j.useContext(lut),n=()=>gN(e)||gN(t),[i,a]=j.useState(n);return j.useEffect(()=>{const r=n();Zct(i,r)||a(r)},[e,t]),i},dut=e=>{const t=()=>cut(e),[n,i]=j.useState(t);return j.useEffect(()=>{const a=t();n!==a&&i(a)},[e]),n},hut=(e,t)=>{const n=()=>Kct(e,t||{},!!t),[i,a]=j.useState(n),r=PF();return j.useEffect(()=>{if(r){const s=n();return a(s),()=>{s&&s.dispose()}}},[e,t]),i},fut=e=>{const[t,n]=j.useState(e.matches);return j.useEffect(()=>{const i=a=>{n(a.matches)};return e.addListener(i),n(e.matches),()=>{e.removeListener(i)}},[e]),t},t5=(e,t,n)=>{const i=uut(t),a=dut(e);if(!a)throw new Error("Invalid or missing MediaQuery!");const r=hut(a,i),s=fut(r);return PF(),j.useEffect(()=>{},[s]),j.useEffect(()=>()=>{r&&r.dispose()},[]),s},ir=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),DC=[.001,0,0,.001,0,0],XE=1.35,qr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Au={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},kF="pdfjs_internal_editor_",Ce={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},ln={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},put={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ja={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},w1={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Fi={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},mp={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},l2={ERRORS:0,WARNINGS:1,INFOS:5},tx={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Zb={moveTo:0,lineTo:1,curveTo:2,closePath:3},mut={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let c2=l2.WARNINGS;function gut(e){Number.isInteger(e)&&(c2=e)}function vut(){return c2}function u2(e){c2>=l2.INFOS&&console.log(`Info: ${e}`)}function Te(e){c2>=l2.WARNINGS&&console.log(`Warning: ${e}`)}function Un(e){throw new Error(e)}function zi(e,t){e||Un(t)}function yut(e){switch(e?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function LF(e,t=null,n=null){if(!e)return null;if(n&&typeof e=="string"&&(n.addDefaultProtocol&&e.startsWith("www.")&&e.match(/\./g)?.length>=2&&(e=`http://${e}`),n.tryConvertEncoding))try{e=_ut(e)}catch{}const i=t?URL.parse(e,t):URL.parse(e);return yut(i)?i:null}function jF(e,t,n=!1){const i=URL.parse(e);return i?(i.hash=t,i.href):n&&LF(e,"http://example.com")?e.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Je(e,t,n,i=!1){return Object.defineProperty(e,t,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const Ph=function(){function t(n,i){this.message=n,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class vN extends Ph{constructor(t,n){super(t,"PasswordException"),this.code=n}}class WE extends Ph{constructor(t,n){super(t,"UnknownErrorException"),this.details=n}}class OC extends Ph{constructor(t){super(t,"InvalidPDFException")}}class ex extends Ph{constructor(t,n,i){super(t,"ResponseException"),this.status=n,this.missing=i}}class but extends Ph{constructor(t){super(t,"FormatError")}}class Iu extends Ph{constructor(t){super(t,"AbortException")}}function FF(e){(typeof e!="object"||e?.length===void 0)&&Un("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const i=[];for(let a=0;a<t;a+=n){const r=Math.min(a+n,t),s=e.subarray(a,r);i.push(String.fromCharCode.apply(null,s))}return i.join("")}function Zv(e){typeof e!="string"&&Un("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let i=0;i<t;++i)n[i]=e.charCodeAt(i)&255;return n}function xut(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function Sut(){const e=new Uint8Array(4);return e[0]=1,new Uint32Array(e.buffer,0,1)[0]===1}function wut(){try{return new Function(""),!0}catch{return!1}}class Ea{static get isLittleEndian(){return Je(this,"isLittleEndian",Sut())}static get isEvalSupported(){return Je(this,"isEvalSupported",wut())}static get isOffscreenCanvasSupported(){return Je(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Je(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:n}=navigator;return Je(this,"platform",{isAndroid:n.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){return Je(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const QE=Array.from(Array(256).keys(),e=>e.toString(16).padStart(2,"0"));let se=class{static makeHexColor(t,n,i){return`#${QE[t]}${QE[n]}${QE[i]}`}static scaleMinMax(t,n){let i;t[0]?(t[0]<0&&(i=n[0],n[0]=n[2],n[2]=i),n[0]*=t[0],n[2]*=t[0],t[3]<0&&(i=n[1],n[1]=n[3],n[3]=i),n[1]*=t[3],n[3]*=t[3]):(i=n[0],n[0]=n[1],n[1]=i,i=n[2],n[2]=n[3],n[3]=i,t[1]<0&&(i=n[1],n[1]=n[3],n[3]=i),n[1]*=t[1],n[3]*=t[1],t[2]<0&&(i=n[0],n[0]=n[2],n[2]=i),n[0]*=t[2],n[2]*=t[2]),n[0]+=t[4],n[1]+=t[5],n[2]+=t[4],n[3]+=t[5]}static transform(t,n){return[t[0]*n[0]+t[2]*n[1],t[1]*n[0]+t[3]*n[1],t[0]*n[2]+t[2]*n[3],t[1]*n[2]+t[3]*n[3],t[0]*n[4]+t[2]*n[5]+t[4],t[1]*n[4]+t[3]*n[5]+t[5]]}static applyTransform(t,n,i=0){const a=t[i],r=t[i+1];t[i]=a*n[0]+r*n[2]+n[4],t[i+1]=a*n[1]+r*n[3]+n[5]}static applyTransformToBezier(t,n,i=0){const a=n[0],r=n[1],s=n[2],o=n[3],c=n[4],d=n[5];for(let f=0;f<6;f+=2){const g=t[i+f],v=t[i+f+1];t[i+f]=g*a+v*s+c,t[i+f+1]=g*r+v*o+d}}static applyInverseTransform(t,n){const i=t[0],a=t[1],r=n[0]*n[3]-n[1]*n[2];t[0]=(i*n[3]-a*n[2]+n[2]*n[5]-n[4]*n[3])/r,t[1]=(-i*n[1]+a*n[0]+n[4]*n[1]-n[5]*n[0])/r}static axialAlignedBoundingBox(t,n,i){const a=n[0],r=n[1],s=n[2],o=n[3],c=n[4],d=n[5],f=t[0],g=t[1],v=t[2],y=t[3];let b=a*f+c,w=b,E=a*v+c,C=E,A=o*g+d,_=A,M=o*y+d,D=M;if(r!==0||s!==0){const P=r*f,B=r*v,k=s*g,z=s*y;b+=k,C+=k,E+=z,w+=z,A+=P,D+=P,M+=B,_+=B}i[0]=Math.min(i[0],b,E,w,C),i[1]=Math.min(i[1],A,M,_,D),i[2]=Math.max(i[2],b,E,w,C),i[3]=Math.max(i[3],A,M,_,D)}static inverseTransform(t){const n=t[0]*t[3]-t[1]*t[2];return[t[3]/n,-t[1]/n,-t[2]/n,t[0]/n,(t[2]*t[5]-t[4]*t[3])/n,(t[4]*t[1]-t[5]*t[0])/n]}static singularValueDecompose2dScale(t,n){const i=t[0],a=t[1],r=t[2],s=t[3],o=i**2+a**2,c=i*r+a*s,d=r**2+s**2,f=(o+d)/2,g=Math.sqrt(f**2-(o*d-c**2));n[0]=Math.sqrt(f+g||1),n[1]=Math.sqrt(f-g||1)}static normalizeRect(t){const n=t.slice(0);return t[0]>t[2]&&(n[0]=t[2],n[2]=t[0]),t[1]>t[3]&&(n[1]=t[3],n[3]=t[1]),n}static intersect(t,n){const i=Math.max(Math.min(t[0],t[2]),Math.min(n[0],n[2])),a=Math.min(Math.max(t[0],t[2]),Math.max(n[0],n[2]));if(i>a)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(n[1],n[3])),s=Math.min(Math.max(t[1],t[3]),Math.max(n[1],n[3]));return r>s?null:[i,r,a,s]}static pointBoundingBox(t,n,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],n),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],n)}static rectBoundingBox(t,n,i,a,r){r[0]=Math.min(r[0],t,i),r[1]=Math.min(r[1],n,a),r[2]=Math.max(r[2],t,i),r[3]=Math.max(r[3],n,a)}static#t(t,n,i,a,r,s,o,c,d,f){if(d<=0||d>=1)return;const g=1-d,v=d*d,y=v*d,b=g*(g*(g*t+3*d*n)+3*v*i)+y*a,w=g*(g*(g*r+3*d*s)+3*v*o)+y*c;f[0]=Math.min(f[0],b),f[1]=Math.min(f[1],w),f[2]=Math.max(f[2],b),f[3]=Math.max(f[3],w)}static#e(t,n,i,a,r,s,o,c,d,f,g,v){if(Math.abs(d)<1e-12){Math.abs(f)>=1e-12&&this.#t(t,n,i,a,r,s,o,c,-g/f,v);return}const y=f**2-4*g*d;if(y<0)return;const b=Math.sqrt(y),w=2*d;this.#t(t,n,i,a,r,s,o,c,(-f+b)/w,v),this.#t(t,n,i,a,r,s,o,c,(-f-b)/w,v)}static bezierBoundingBox(t,n,i,a,r,s,o,c,d){d[0]=Math.min(d[0],t,o),d[1]=Math.min(d[1],n,c),d[2]=Math.max(d[2],t,o),d[3]=Math.max(d[3],n,c),this.#e(t,i,r,o,n,a,s,c,3*(-t+3*(i-r)+o),6*(t-2*i+r),3*(i-t),d),this.#e(t,i,r,o,n,a,s,c,3*(-n+3*(a-s)+c),6*(n-2*a+s),3*(a-n),d)}};function _ut(e){return decodeURIComponent(escape(e))}let ZE=null,yN=null;function Eut(e){return ZE||(ZE=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,yN=new Map([["","t"]])),e.replaceAll(ZE,(t,n,i)=>n?n.normalize("NFKC"):yN.get(i))}function BF(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const e=new Uint8Array(32);return crypto.getRandomValues(e),FF(e)}const e5="pdfjs_internal_id_";function Aut(e,t,n){if(!Array.isArray(n)||n.length<2)return!1;const[i,a,...r]=n;if(!e(i)&&!Number.isInteger(i)||!t(a))return!1;const s=r.length;let o=!0;switch(a.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return s===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(s!==4)return!1;o=!1;break;default:return!1}for(const c of r)if(!(typeof c=="number"||o&&c===null))return!1;return!0}function ar(e,t,n){return Math.min(Math.max(e,t),n)}function IF(e){return Uint8Array.prototype.toBase64?e.toBase64():btoa(FF(e))}function Cut(e){return Uint8Array.fromBase64?Uint8Array.fromBase64(e):Zv(atob(e))}typeof Promise.try!="function"&&(Promise.try=function(e,...t){return new Promise(n=>{n(e(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(e){return e.reduce((t,n)=>t+n,0)});const mc="http://www.w3.org/2000/svg";class Ip{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Jv(e,t="text"){if(q0(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,i)=>{const a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType=t,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(t){case"arraybuffer":case"blob":case"json":n(a.response);return}n(a.responseText);return}i(new Error(a.statusText))}},a.send(null)})}class ty{constructor({viewBox:t,userUnit:n,scale:i,rotation:a,offsetX:r=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=t,this.userUnit=n,this.scale=i,this.rotation=a,this.offsetX=r,this.offsetY=s,i*=n;const c=(t[2]+t[0])/2,d=(t[3]+t[1])/2;let f,g,v,y;switch(a%=360,a<0&&(a+=360),a){case 180:f=-1,g=0,v=0,y=1;break;case 90:f=0,g=1,v=1,y=0;break;case 270:f=0,g=-1,v=-1,y=0;break;case 0:f=1,g=0,v=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(v=-v,y=-y);let b,w,E,C;f===0?(b=Math.abs(d-t[1])*i+r,w=Math.abs(c-t[0])*i+s,E=(t[3]-t[1])*i,C=(t[2]-t[0])*i):(b=Math.abs(c-t[0])*i+r,w=Math.abs(d-t[1])*i+s,E=(t[2]-t[0])*i,C=(t[3]-t[1])*i),this.transform=[f*i,g*i,v*i,y*i,b-f*i*c-v*i*d,w-g*i*c-y*i*d],this.width=E,this.height=C}get rawDims(){const t=this.viewBox;return Je(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:n=this.rotation,offsetX:i=this.offsetX,offsetY:a=this.offsetY,dontFlip:r=!1}={}){return new ty({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:n,offsetX:i,offsetY:a,dontFlip:r})}convertToViewportPoint(t,n){const i=[t,n];return se.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const n=[t[0],t[1]];se.applyTransform(n,this.transform);const i=[t[2],t[3]];return se.applyTransform(i,this.transform),[n[0],n[1],i[0],i[1]]}convertToPdfPoint(t,n){const i=[t,n];return se.applyInverseTransform(i,this.transform),i}}class n5 extends Ph{constructor(t,n=0){super(t,"RenderingCancelledException"),this.extraDelay=n}}function d2(e){const t=e.length;let n=0;for(;n<t&&e[n].trim()==="";)n++;return e.substring(n,n+5).toLowerCase()==="data:"}function i5(e){return typeof e=="string"&&/\.pdf$/i.test(e)}function Tut(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)}function Rut(e,t="document.pdf"){if(typeof e!="string")return t;if(d2(e))return Te('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(e);if(!i)return t;const a=o=>{try{let c=decodeURIComponent(o);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:o):c}catch{return o}},r=/\.pdf$/i,s=i.pathname.split("/").at(-1);if(r.test(s))return a(s);if(i.searchParams.size>0){const o=Array.from(i.searchParams.values()).reverse();for(const d of o)if(r.test(d))return a(d);const c=Array.from(i.searchParams.keys()).reverse();for(const d of c)if(r.test(d))return a(d)}if(i.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(c)return a(c[0])}return t}class bN{started=Object.create(null);times=[];time(t){t in this.started&&Te(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Te(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let n=0;for(const{name:i}of this.times)n=Math.max(i.length,n);for(const{name:i,start:a,end:r}of this.times)t.push(`${i.padEnd(n)} ${r-a}ms
`);return t.join("")}}function q0(e,t){const n=t?URL.parse(e,t):URL.parse(e);return n?.protocol==="http:"||n?.protocol==="https:"}function yo(e){e.preventDefault()}function Ii(e){e.preventDefault(),e.stopPropagation()}function Mut(e){console.log("Deprecated API usage: "+e)}class zF{static#t;static toDateObject(t){if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const n=this.#t.exec(t);if(!n)return null;const i=parseInt(n[1],10);let a=parseInt(n[2],10);a=a>=1&&a<=12?a-1:0;let r=parseInt(n[3],10);r=r>=1&&r<=31?r:1;let s=parseInt(n[4],10);s=s>=0&&s<=23?s:0;let o=parseInt(n[5],10);o=o>=0&&o<=59?o:0;let c=parseInt(n[6],10);c=c>=0&&c<=59?c:0;const d=n[7]||"Z";let f=parseInt(n[8],10);f=f>=0&&f<=23?f:0;let g=parseInt(n[9],10)||0;return g=g>=0&&g<=59?g:0,d==="-"?(s+=f,o+=g):d==="+"&&(s-=f,o-=g),new Date(Date.UTC(i,a,r,s,o,c))}}function Dut(e,{scale:t=1,rotation:n=0}){const{width:i,height:a}=e.attributes.style,r=[0,0,parseInt(i),parseInt(a)];return new ty({viewBox:r,userUnit:1,scale:t,rotation:n})}function a5(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map(t=>parseInt(t)):e.startsWith("rgba(")?e.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Te(`Not a valid color format: "${e}"`),[0,0,0])}function Out(e){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const n of e.keys()){t.style.color=n;const i=window.getComputedStyle(t).color;e.set(n,a5(i))}t.remove()}function ci(e){const{a:t,b:n,c:i,d:a,e:r,f:s}=e.getTransform();return[t,n,i,a,r,s]}function cl(e){const{a:t,b:n,c:i,d:a,e:r,f:s}=e.getTransform().invertSelf();return[t,n,i,a,r,s]}function bh(e,t,n=!1,i=!0){if(t instanceof ty){const{pageWidth:a,pageHeight:r}=t.rawDims,{style:s}=e,o=Ea.isCSSRoundSupported,c=`var(--total-scale-factor) * ${a}px`,d=`var(--total-scale-factor) * ${r}px`,f=o?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,g=o?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!n||t.rotation%180===0?(s.width=f,s.height=g):(s.width=g,s.height=f)}i&&e.setAttribute("data-main-rotation",t.rotation)}class _l{constructor(){const{pixelRatio:t}=_l;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,n,i,a,r=-1){let s=1/0,o=1/0,c=1/0;i=_l.capPixels(i,r),i>0&&(s=Math.sqrt(i/(t*n))),a!==-1&&(o=a/t,c=a/n);const d=Math.min(s,o,c);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,n){if(n>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return t>0?Math.min(t,i):i}return t}}const NC=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class nv{#t=null;#e=null;#n;#i=null;#r=null;#a=null;static#o=null;constructor(t){this.#n=t,nv.#o||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const n=this.#n._uiManager._signal;t.addEventListener("contextmenu",yo,{signal:n}),t.addEventListener("pointerdown",nv.#s,{signal:n});const i=this.#i=document.createElement("div");i.className="buttons",t.append(i);const a=this.#n.toolbarPosition;if(a){const{style:r}=t,s=this.#n._uiManager.direction==="ltr"?1-a[0]:a[0];r.insetInlineEnd=`${100*s}%`,r.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#s(t){t.stopPropagation()}#d(t){this.#n._focusEventsAllowed=!1,Ii(t)}#l(t){this.#n._focusEventsAllowed=!0,Ii(t)}#h(t){const n=this.#n._uiManager._signal;t.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:n}),t.addEventListener("focusout",this.#l.bind(this),{capture:!0,signal:n}),t.addEventListener("contextmenu",yo,{signal:n})}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#r?.shown()}addDeleteButton(){const{editorType:t,_uiManager:n}=this.#n,i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",nv.#o[t]),this.#h(i),i.addEventListener("click",a=>{n.delete()},{signal:n._signal}),this.#i.append(i)}get#u(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const n=await t.render();this.#h(n),this.#i.append(n,this.#u),this.#r=t}addColorPicker(t){this.#e=t;const n=t.renderButton();this.#h(n),this.#i.append(n,this.#u)}async addEditSignatureButton(t){const n=this.#a=await t.renderEditButton(this.#n);this.#h(n),this.#i.append(n,this.#u)}async addButton(t,n){switch(t){case"colorPicker":this.addColorPicker(n);break;case"altText":await this.addAltText(n);break;case"editSignature":await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(t){this.#a&&(this.#a.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class Nut{#t=null;#e=null;#n;constructor(t){this.#n=t}#i(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",yo,{signal:this.#n._signal});const n=this.#t=document.createElement("div");return n.className="buttons",t.append(n),this.#a(),t}#r(t,n){let i=0,a=0;for(const r of t){const s=r.y+r.height;if(s<i)continue;const o=r.x+(n?r.width:0);if(s>i){a=o,i=s;continue}n?o>a&&(a=o):o<a&&(a=o)}return[n?1-a:a,i]}show(t,n,i){const[a,r]=this.#r(n,i),{style:s}=this.#e||=this.#i();t.append(this.#e),s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#a(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");t.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=this.#n._signal;t.addEventListener("contextmenu",yo,{signal:i}),t.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:i}),this.#t.append(t)}}function UF(e,t,n){for(const i of n)t.addEventListener(i,e[i].bind(e))}class Put{#t=0;get id(){return`${kF}${this.#t++}`}}class r5{#t=BF();#e=0;#n=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=t;const r=a.decode().then(()=>(i.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Je(this,"_isSVGFittingCanvas",r)}async#i(t,n){this.#n||=new Map;let i=this.#n.get(t);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let a;if(typeof n=="string"?(i.url=n,a=await Jv(n,"blob")):n instanceof File?a=i.file=n:n instanceof Blob&&(a=n),a.type==="image/svg+xml"){const r=r5._isSVGFittingCanvas,s=new FileReader,o=new Image,c=new Promise((d,f)=>{o.onload=()=>{i.bitmap=o,i.isSvg=!0,d()},s.onload=async()=>{const g=i.svgUrl=s.result;o.src=await r?`${g}#svgView(preserveAspectRatio(none))`:g},o.onerror=s.onerror=f});s.readAsDataURL(a),await c}else i.bitmap=await createImageBitmap(a);i.refCounter=1}catch(a){Te(a),i=null}return this.#n.set(t,i),i&&this.#n.set(i.id,i),i}async getFromFile(t){const{lastModified:n,name:i,size:a,type:r}=t;return this.#i(`${n}_${i}_${a}_${r}`,t)}async getFromUrl(t){return this.#i(t,t)}async getFromBlob(t,n){const i=await n;return this.#i(t,i)}async getFromId(t){this.#n||=new Map;const n=this.#n.get(t);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:i}=n;return delete n.blobPromise,this.getFromBlob(n.id,i)}return this.getFromUrl(n.url)}getFromCanvas(t,n){this.#n||=new Map;let i=this.#n.get(t);if(i?.bitmap)return i.refCounter+=1,i;const a=new OffscreenCanvas(n.width,n.height);return a.getContext("2d").drawImage(n,0,0),i={bitmap:a.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#n.set(t,i),this.#n.set(i.id,i),i}getSvgUrl(t){const n=this.#n.get(t);return n?.isSvg?n.svgUrl:null}deleteId(t){this.#n||=new Map;const n=this.#n.get(t);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:i}=n;if(!n.url&&!n.file){const a=new OffscreenCanvas(i.width,i.height);a.getContext("bitmaprenderer").transferFromImageBitmap(i),n.blobPromise=a.convertToBlob()}i.close?.(),n.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class kut{#t=[];#e=!1;#n;#i=-1;constructor(t=128){this.#n=t}add({cmd:t,undo:n,post:i,mustExec:a,type:r=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}){if(a&&t(),this.#e)return;const c={cmd:t,undo:n,post:i,type:r};if(this.#i===-1){this.#t.length>0&&(this.#t.length=0),this.#i=0,this.#t.push(c);return}if(s&&this.#t[this.#i].type===r){o&&(c.undo=this.#t[this.#i].undo),this.#t[this.#i]=c;return}const d=this.#i+1;d===this.#n?this.#t.splice(0,1):(this.#i=d,d<this.#t.length&&this.#t.splice(d)),this.#t.push(c)}undo(){if(this.#i===-1)return;this.#e=!0;const{undo:t,post:n}=this.#t[this.#i];t(),n?.(),this.#e=!1,this.#i-=1}redo(){if(this.#i<this.#t.length-1){this.#i+=1,this.#e=!0;const{cmd:t,post:n}=this.#t[this.#i];t(),n?.(),this.#e=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#t.length-1}cleanType(t){if(this.#i!==-1){for(let n=this.#i;n>=0;n--)if(this.#t[n].type!==t){this.#t.splice(n+1,this.#i-n),this.#i=n;return}this.#t.length=0,this.#i=-1}}destroy(){this.#t=null}}class ey{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=Ea.platform;for(const[i,a,r={}]of t)for(const s of i){const o=s.startsWith("mac+");n&&o?(this.callbacks.set(s.slice(4),{callback:a,options:r}),this.allKeys.add(s.split("+").at(-1))):!n&&!o&&(this.callbacks.set(s,{callback:a,options:r}),this.allKeys.add(s.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const n=this.buffer.join("+");return this.buffer.length=0,n}exec(t,n){if(!this.allKeys.has(n.key))return;const i=this.callbacks.get(this.#t(n));if(!i)return;const{callback:a,options:{bubbles:r=!1,args:s=[],checker:o=null}}=i;o&&!o(t,n)||(a.bind(t,...s,n)(),r||Ii(n))}}class s5{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return Out(t),Je(this,"_colors",t)}convert(t){const n=a5(t);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[i,a]of this._colors)if(a.every((r,s)=>r===n[s]))return s5._colorsMapping.get(i);return n}getHexCode(t){const n=this._colors.get(t);return n?se.makeHexColor(...n):t}}class zu{#t=new AbortController;#e=null;#n=new Map;#i=new Map;#r=null;#a=null;#o=null;#s=new kut;#d=null;#l=null;#h=0;#u=new Set;#f=null;#p=null;#m=new Set;_editorUndoBar=null;#c=!1;#g=!1;#v=!1;#y=null;#b=null;#x=null;#w=null;#_=!1;#C=null;#M=new Put;#E=!1;#R=!1;#T=null;#O=null;#N=null;#P=null;#z=null;#A=Ce.NONE;#S=new Set;#F=null;#B=null;#G=null;#q=null;#V={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#U=[0,0];#k=null;#L=null;#H=null;#X=null;#j=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=zu.prototype,n=s=>s.#L.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),i=(s,{target:o})=>{if(o instanceof HTMLInputElement){const{type:c}=o;return c!=="text"&&c!=="number"}return!0},a=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return Je(this,"_keyboardManager",new ey([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&s.#L.contains(o)&&!s.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&s.#L.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:n}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:n}]]))}constructor(t,n,i,a,r,s,o,c,d,f,g,v,y,b,w){const E=this._signal=this.#t.signal;this.#L=t,this.#H=n,this.#X=i,this.#r=a,this.#B=r,this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:E}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:E}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:E}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:E}),s._on("setpreference",this.onSetPreference.bind(this),{signal:E}),s._on("switchannotationeditorparams",C=>this.updateParams(C.type,C.value),{signal:E}),this.#at(),this.#lt(),this.#Q(),this.#a=o.annotationStorage,this.#y=o.filterFactory,this.#G=c,this.#w=d||null,this.#c=f,this.#g=g,this.#v=v,this.#z=y||null,this.viewParameters={realScale:Ip.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=b||null,this._supportsPinchToZoom=w!==!1}destroy(){this.#j?.resolve(),this.#j=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#i.values())t.destroy();this.#i.clear(),this.#n.clear(),this.#m.clear(),this.#P?.clear(),this.#e=null,this.#S.clear(),this.#s.destroy(),this.#r?.destroy(),this.#B?.destroy(),this.#C?.hide(),this.#C=null,this.#N?.destroy(),this.#N=null,this.#b&&(clearTimeout(this.#b),this.#b=null),this.#k&&(clearTimeout(this.#k),this.#k=null),this._editorUndoBar?.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#z}get useNewAltTextFlow(){return this.#g}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return Je(this,"hcmFilter",this.#G?this.#y.addHCMFilter(this.#G.foreground,this.#G.background):"none")}get direction(){return Je(this,"direction",getComputedStyle(this.#L).direction)}get highlightColors(){return Je(this,"highlightColors",this.#w?new Map(this.#w.split(",").map(t=>(t=t.split("=").map(n=>n.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColorNames(){return Je(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#l=t}setMainHighlightColorPicker(t){this.#N=t}editAltText(t,n=!1){this.#r?.editAltText(this,t,n)}getSignature(t){this.#B?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#B}switchToMode(t,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,n){this._eventBus.dispatch("setpreference",{source:this,name:t,value:n})}onSetPreference({name:t,value:n}){switch(t){case"enableNewAltTextWhenAddingImage":this.#v=n;break}}onPageChanging({pageNumber:t}){this.#h=t-1}focusMainContainer(){this.#L.focus()}findParent(t,n){for(const i of this.#i.values()){const{x:a,y:r,width:s,height:o}=i.div.getBoundingClientRect();if(t>=a&&t<=a+s&&n>=r&&n<=r+o)return i}return null}disableUserSelect(t=!1){this.#H.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#m.add(t)}removeShouldRescale(t){this.#m.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Ip.PDF_TO_CSS_UNITS;for(const n of this.#m)n.onScaleChanging();this.#l?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Y({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#W(t){const{currentLayer:n}=this;if(n.hasTextLayer(t))return n;for(const i of this.#i.values())if(i.hasTextLayer(t))return i;return null}highlightSelection(t=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:r,focusOffset:s}=n,o=n.toString(),d=this.#Y(n).closest(".textLayer"),f=this.getSelectionBoxes(d);if(!f)return;n.empty();const g=this.#W(d),v=this.#A===Ce.NONE,y=()=>{g?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:f,anchorNode:i,anchorOffset:a,focusNode:r,focusOffset:s,text:o}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(Ce.HIGHLIGHT,y);return}y()}#nt(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=this.#Y(t).closest(".textLayer"),a=this.getSelectionBoxes(i);a&&(this.#C||=new Nut(this),this.#C.show(i,a,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#a&&!this.#a.has(t.id)&&this.#a.setValue(t.id,t)}a11yAlert(t,n=null){const i=this.#X;i&&(i.setAttribute("data-l10n-id",t),n?i.setAttribute("data-l10n-args",JSON.stringify(n)):i.removeAttribute("data-l10n-args"))}#it(){const t=document.getSelection();if(!t||t.isCollapsed){this.#F&&(this.#C?.hide(),this.#F=null,this.#D({hasSelectedText:!1}));return}const{anchorNode:n}=t;if(n===this.#F)return;const a=this.#Y(t).closest(".textLayer");if(!a){this.#F&&(this.#C?.hide(),this.#F=null,this.#D({hasSelectedText:!1}));return}if(this.#C?.hide(),this.#F=n,this.#D({hasSelectedText:!0}),!(this.#A!==Ce.HIGHLIGHT&&this.#A!==Ce.NONE)&&(this.#A===Ce.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#_=this.isShiftKeyDown,!this.isShiftKeyDown)){const r=this.#A===Ce.HIGHLIGHT?this.#W(a):null;r?.toggleDrawing();const s=new AbortController,o=this.combinedSignal(s),c=d=>{d.type==="pointerup"&&d.button!==0||(s.abort(),r?.toggleDrawing(!0),d.type==="pointerup"&&this.#K("main_toolbar"))};window.addEventListener("pointerup",c,{signal:o}),window.addEventListener("blur",c,{signal:o})}}#K(t=""){this.#A===Ce.HIGHLIGHT?this.highlightSelection(t):this.#c&&this.#nt()}#at(){document.addEventListener("selectionchange",this.#it.bind(this),{signal:this._signal})}#rt(){if(this.#x)return;this.#x=new AbortController;const t=this.combinedSignal(this.#x);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#st(){this.#x?.abort(),this.#x=null}blur(){if(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#K("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const n of this.#S)if(n.div.contains(t)){this.#O=[n,t],n._focusEventsAllowed=!1;break}}focus(){if(!this.#O)return;const[t,n]=this.#O;this.#O=null,n.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}#Q(){if(this.#T)return;this.#T=new AbortController;const t=this.combinedSignal(this.#T);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ot(){this.#T?.abort(),this.#T=null}#Z(){if(this.#d)return;this.#d=new AbortController;const t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#J(){this.#d?.abort(),this.#d=null}#lt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#Q(),this.#Z()}removeEditListeners(){this.#ot(),this.#J()}dragOver(t){for(const{type:n}of t.dataTransfer.items)for(const i of this.#p)if(i.isHandlingMimeForPasting(n)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const n of t.dataTransfer.items)for(const i of this.#p)if(i.isHandlingMimeForPasting(n.type)){i.paste(n,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of this.#S){const a=i.serialize(!0);a&&n.push(a)}n.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:n}=t;for(const r of n.items)for(const s of this.#p)if(s.isHandlingMimeForPasting(r.type)){s.paste(r,this.currentLayer);return}let i=n.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(r){Te(`paste: "${r.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const a=this.currentLayer;try{const r=[];for(const c of i){const d=await a.deserialize(c);if(!d)return;r.push(d)}const s=()=>{for(const c of r)this.#tt(c);this.#et(r)},o=()=>{for(const c of r)c.remove()};this.addCommands({cmd:s,undo:o,mustExec:!0})}catch(r){Te(`paste: "${r.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#A!==Ce.NONE&&!this.isEditorHandlingKeyboard&&zu._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#K("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#D(t){Object.entries(t).some(([i,a])=>this.#V[i]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#V,t)}),this.#A===Ce.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#I([[ln.HIGHLIGHT_FREE,!0]]))}#I(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#rt(),this.#Z(),this.#D({isEditing:this.#A!==Ce.NONE,isEmpty:this.#$(),hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:this.#s.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#st(),this.#J(),this.#D({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#p){this.#p=t;for(const n of this.#p)this.#I(n.defaultPropertiesToUpdate)}}getId(){return this.#M.id}get currentLayer(){return this.#i.get(this.#h)}getLayer(t){return this.#i.get(t)}get currentPageIndex(){return this.#h}addLayer(t){this.#i.set(t.pageIndex,t),this.#E?t.enable():t.disable()}removeLayer(t){this.#i.delete(t.pageIndex)}async updateMode(t,n=null,i=!1,a=!1){if(this.#A!==t&&!(this.#j&&(await this.#j.promise,!this.#j))){if(this.#j=Promise.withResolvers(),this.#l?.commitOrRemove(),this.#A=t,t===Ce.NONE){this.setEditingState(!1),this.#ut(),this._editorUndoBar?.hide(),this.#j.resolve();return}t===Ce.SIGNATURE&&await this.#B?.loadSignatures(),this.setEditingState(!0),await this.#ct(),this.unselectAll();for(const r of this.#i.values())r.updateMode(t);if(!n){i&&this.addNewEditorFromKeyboard(),this.#j.resolve();return}for(const r of this.#n.values())r.annotationElementId===n||r.id===n?(this.setSelected(r),a&&r.enterInEditMode()):r.unselect();this.#j.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#A&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,n){if(this.#p){switch(t){case ln.CREATE:this.currentLayer.addNewEditor(n);return;case ln.HIGHLIGHT_DEFAULT_COLOR:this.#N?.updateColor(n);break;case ln.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#q||=new Map).set(t,n),this.showAllEditors("highlight",n);break}for(const i of this.#S)i.updateParams(t,n);for(const i of this.#p)i.updateDefaultParams(t,n)}}showAllEditors(t,n,i=!1){for(const r of this.#n.values())r.editorType===t&&r.show(n);(this.#q?.get(ln.HIGHLIGHT_SHOW_ALL)??!0)!==n&&this.#I([[ln.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(t=!1){if(this.#R!==t){this.#R=t;for(const n of this.#i.values())t?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",t)}}async#ct(){if(!this.#E){this.#E=!0;const t=[];for(const n of this.#i.values())t.push(n.enable());await Promise.all(t);for(const n of this.#n.values())n.enable()}}#ut(){if(this.unselectAll(),this.#E){this.#E=!1;for(const t of this.#i.values())t.disable();for(const t of this.#n.values())t.disable()}}getEditors(t){const n=[];for(const i of this.#n.values())i.pageIndex===t&&n.push(i);return n}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.focusMainContainer(),this.#b=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#P?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#u.has(t.annotationElementId))&&this.#a?.remove(t.id)}addDeletedAnnotationElement(t){this.#u.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#u.has(t)}removeDeletedAnnotationElement(t){this.#u.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#tt(t){const n=this.#i.get(t.pageIndex);n?n.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#I(t.propertiesToUpdate))}get#dt(){let t=null;for(t of this.#S);return t}updateUI(t){this.#dt===t&&this.#I(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#I(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#S.has(t)){this.#S.delete(t),t.unselect(),this.#D({hasSelectedEditor:this.hasSelection});return}this.#S.add(t),t.select(),this.#I(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#l?.commitOrRemove();for(const n of this.#S)n!==t&&n.unselect();this.#S.clear(),this.#S.add(t),t.select(),this.#I(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}isSelected(t){return this.#S.has(t)}get firstSelectedEditor(){return this.#S.values().next().value}unselect(t){t.unselect(),this.#S.delete(t),this.#D({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#S.size!==0}get isEnterHandled(){return this.#S.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#s.undo(),this.#D({hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#$()}),this._editorUndoBar?.hide()}redo(){this.#s.redo(),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:this.#s.hasSomethingToRedo(),isEmpty:this.#$()})}addCommands(t){this.#s.add(t),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#$()})}cleanUndoStack(t){this.#s.cleanType(t)}#$(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const n=t?[t]:[...this.#S],i=()=>{this._editorUndoBar?.show(a,n.length===1?n[0].editorType:n.length);for(const r of n)r.remove()},a=()=>{for(const r of n)this.#tt(r)};this.addCommands({cmd:i,undo:a,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#et(t){for(const n of this.#S)n.unselect();this.#S.clear();for(const n of t)n.isEmpty()||(this.#S.add(n),n.select());this.#D({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#S)t.commit();this.#et(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#A!==Ce.NONE))&&!this.#l?.commitOrRemove()&&this.hasSelection){for(const t of this.#S)t.unselect();this.#S.clear(),this.#D({hasSelectedEditor:!1})}}translateSelectedEditors(t,n,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;this.#U[0]+=t,this.#U[1]+=n;const[a,r]=this.#U,s=[...this.#S],o=1e3;this.#k&&clearTimeout(this.#k),this.#k=setTimeout(()=>{this.#k=null,this.#U[0]=this.#U[1]=0,this.addCommands({cmd:()=>{for(const c of s)this.#n.has(c.id)&&(c.translateInPage(a,r),c.translationDone())},undo:()=>{for(const c of s)this.#n.has(c.id)&&(c.translateInPage(-a,-r),c.translationDone())},mustExec:!1})},o);for(const c of s)c.translateInPage(t,n),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const t of this.#S)this.#f.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const t=this.#f;this.#f=null;let n=!1;for(const[{x:a,y:r,pageIndex:s},o]of t)o.newX=a,o.newY=r,o.newPageIndex=s,n||=a!==o.savedX||r!==o.savedY||s!==o.savedPageIndex;if(!n)return!1;const i=(a,r,s,o)=>{if(this.#n.has(a.id)){const c=this.#i.get(o);c?a._setParentAndPosition(c,r,s):(a.pageIndex=o,a.x=r,a.y=s)}};return this.addCommands({cmd:()=>{for(const[a,{newX:r,newY:s,newPageIndex:o}]of t)i(a,r,s,o)},undo:()=>{for(const[a,{savedX:r,savedY:s,savedPageIndex:o}]of t)i(a,r,s,o)},mustExec:!0}),!0}dragSelectedEditors(t,n){if(this.#f)for(const i of this.#f.keys())i.drag(t,n)}rebuild(t){if(t.parent===null){const n=this.getLayer(t.pageIndex);n?(n.changeParent(t),n.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#S.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#A}get imageManager(){return Je(this,"imageManager",new r5)}getSelectionBoxes(t){if(!t)return null;const n=document.getSelection();for(let d=0,f=n.rangeCount;d<f;d++)if(!t.contains(n.getRangeAt(d).commonAncestorContainer))return null;const{x:i,y:a,width:r,height:s}=t.getBoundingClientRect();let o;switch(t.getAttribute("data-main-rotation")){case"90":o=(d,f,g,v)=>({x:(f-a)/s,y:1-(d+g-i)/r,width:v/s,height:g/r});break;case"180":o=(d,f,g,v)=>({x:1-(d+g-i)/r,y:1-(f+v-a)/s,width:g/r,height:v/s});break;case"270":o=(d,f,g,v)=>({x:1-(f+v-a)/s,y:(d-i)/r,width:v/s,height:g/r});break;default:o=(d,f,g,v)=>({x:(d-i)/r,y:(f-a)/s,width:g/r,height:v/s});break}const c=[];for(let d=0,f=n.rangeCount;d<f;d++){const g=n.getRangeAt(d);if(!g.collapsed)for(const{x:v,y,width:b,height:w}of g.getClientRects())b===0||w===0||c.push(o(v,y,b,w))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:t,id:n}){(this.#o||=new Map).set(t,n)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const n=this.#o?.get(t.data.id);if(!n)return;const i=this.#a.getRawValue(n);i&&(this.#A===Ce.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,n,i){const a=this.#P?.get(t);a&&(a.setCanvas(n,i),this.#P.delete(t))}addMissingCanvas(t,n){(this.#P||=new Map).set(t,n)}}class ml{#t=null;#e=!1;#n=null;#i=null;#r=null;#a=null;#o=!1;#s=null;#d=null;#l=null;#h=null;#u=!1;static#f=null;static _l10n=null;constructor(t){this.#d=t,this.#u=t._uiManager.useNewAltTextFlow,ml.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){ml._l10n??=t}async render(){const t=this.#n=document.createElement("button");t.className="altText",t.tabIndex="0";const n=this.#i=document.createElement("span");t.append(n),this.#u?(t.classList.add("new"),t.setAttribute("data-l10n-id",ml.#f.missing),n.setAttribute("data-l10n-id",ml.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=this.#d._uiManager._signal;t.addEventListener("contextmenu",yo,{signal:i}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:i});const a=r=>{r.preventDefault(),this.#d._uiManager.editAltText(this.#d),this.#u&&this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#p}})};return t.addEventListener("click",a,{capture:!0,signal:i}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(this.#o=!0,a(r))},{signal:i}),await this.#m(),t}get#p(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#o}),this.#o=!1)}isEmpty(){return this.#u?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#u?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#h=await ml._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#m())}toggleAltTextBadge(t=!1){if(!this.#u||this.#t){this.#s?.remove(),this.#s=null;return}if(!this.#s){const n=this.#s=document.createElement("div");n.className="noAltTextBadge",this.#d.div.append(n)}this.#s.classList.toggle("hidden",!t)}serialize(t){let n=this.#t;return!t&&this.#l===n&&(n=this.#h),{altText:n,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:n,guessedText:i,textWithDisclaimer:a,cancel:r=!1}){i&&(this.#l=i,this.#h=a),!(this.#t===t&&this.#e===n)&&(r||(this.#t=t,this.#e=n),this.#m())}toggle(t=!1){this.#n&&(!t&&this.#a&&(clearTimeout(this.#a),this.#a=null),this.#n.disabled=!t)}shown(){this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#p}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#r=null,this.#s?.remove(),this.#s=null}async#m(){const t=this.#n;if(!t)return;if(this.#u){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",ml.#f[this.#p]),this.#i?.setAttribute("data-l10n-id",ml.#f[`${this.#p}-label`]),!this.#t){this.#r?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#r?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=this.#r;if(!n){this.#r=n=document.createElement("span"),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${this.#d.id}`;const a=100,r=this.#d._uiManager._signal;r.addEventListener("abort",()=>{clearTimeout(this.#a),this.#a=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#r.classList.add("show"),this.#d._reportTelemetry({action:"alt_text_tooltip"})},a)},{signal:r}),t.addEventListener("mouseleave",()=>{this.#a&&(clearTimeout(this.#a),this.#a=null),this.#r?.classList.remove("show")},{signal:r})}this.#e?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=this.#t),n.parentNode||t.append(n),this.#d.getElementForAltText()?.setAttribute("aria-describedby",n.id)}}class h2{#t;#e=!1;#n=null;#i;#r;#a;#o;#s=null;#d;#l=null;#h;#u=null;constructor({container:t,isPinchingDisabled:n=null,isPinchingStopped:i=null,onPinchStart:a=null,onPinching:r=null,onPinchEnd:s=null,signal:o}){this.#t=t,this.#n=i,this.#i=n,this.#r=a,this.#a=r,this.#o=s,this.#h=new AbortController,this.#d=AbortSignal.any([o,this.#h.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#d})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/_l.pixelRatio}#f(t){if(this.#i?.())return;if(t.touches.length===1){if(this.#s)return;const a=this.#s=new AbortController,r=AbortSignal.any([this.#d,a.signal]),s=this.#t,o={capture:!0,signal:r,passive:!1},c=d=>{d.pointerType==="touch"&&(this.#s?.abort(),this.#s=null)};s.addEventListener("pointerdown",d=>{d.pointerType==="touch"&&(Ii(d),c(d))},o),s.addEventListener("pointerup",c,o),s.addEventListener("pointercancel",c,o);return}if(!this.#u){this.#u=new AbortController;const a=AbortSignal.any([this.#d,this.#u.signal]),r=this.#t,s={signal:a,capture:!1,passive:!1};r.addEventListener("touchmove",this.#p.bind(this),s);const o=this.#m.bind(this);r.addEventListener("touchend",o,s),r.addEventListener("touchcancel",o,s),s.capture=!0,r.addEventListener("pointerdown",Ii,s),r.addEventListener("pointermove",Ii,s),r.addEventListener("pointercancel",Ii,s),r.addEventListener("pointerup",Ii,s),this.#r?.()}if(Ii(t),t.touches.length!==2||this.#n?.()){this.#l=null;return}let[n,i]=t.touches;n.identifier>i.identifier&&([n,i]=[i,n]),this.#l={touch0X:n.screenX,touch0Y:n.screenY,touch1X:i.screenX,touch1Y:i.screenY}}#p(t){if(!this.#l||t.touches.length!==2)return;Ii(t);let[n,i]=t.touches;n.identifier>i.identifier&&([n,i]=[i,n]);const{screenX:a,screenY:r}=n,{screenX:s,screenY:o}=i,c=this.#l,{touch0X:d,touch0Y:f,touch1X:g,touch1Y:v}=c,y=g-d,b=v-f,w=s-a,E=o-r,C=Math.hypot(w,E)||1,A=Math.hypot(y,b)||1;if(!this.#e&&Math.abs(A-C)<=h2.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=a,c.touch0Y=r,c.touch1X=s,c.touch1Y=o,!this.#e){this.#e=!0;return}const _=[(a+s)/2,(r+o)/2];this.#a?.(_,A,C)}#m(t){t.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#o?.()),this.#l&&(Ii(t),this.#l=null,this.#e=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#s?.abort(),this.#s=null}}class ue{#t=null;#e=null;#n=null;#i=!1;#r=null;#a="";#o=!1;#s=null;#d=null;#l=null;#h=null;#u="";#f=!1;#p=null;#m=!1;#c=!1;#g=!1;#v=null;#y=0;#b=0;#x=null;#w=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#_=!1;#C=ue._zIndex++;static _borderLineWidth=-1;static _colorManager=new s5;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=ue.prototype._resizeWithKeyboard,n=zu.TRANSLATE_SMALL,i=zu.TRANSLATE_BIG;return Je(this,"_resizerKeyboardManager",new ey([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],ue.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null;const{rotation:n,rawDims:{pageWidth:i,pageHeight:a,pageX:r,pageY:s}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,a],this.pageTranslation=[r,s];const[o,c]=this.parentDimensions;this.x=t.x/o,this.y=t.y/c,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Je(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const n=new Lut({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});n.annotationElementId=t.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(t,n){if(ue._l10n??=t,ue._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),ue._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);ue._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,n){Un("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#_}set _isDraggable(t){this.#_=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(t*2),this.y+=this.width*t/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(t*2),this.y-=this.width*t/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#C}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#H(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,n,i,a){const[r,s]=this.parentDimensions;[i,a]=this.screenToPageTranslation(i,a),this.x=(t+i)/r,this.y=(n+a)/s,this.fixAndSetPosition()}_moveAfterPaste(t,n){const[i,a]=this.parentDimensions;this.setAt(t*i,n*a,this.width*i,this.height*a),this._onTranslated()}#M([t,n],i,a){[i,a]=this.screenToPageTranslation(i,a),this.x+=i/t,this.y+=a/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,n){this.#M(this.parentDimensions,t,n)}translateInPage(t,n){this.#p||=[this.x,this.y,this.width,this.height],this.#M(this.pageDimensions,t,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,n){this.#p||=[this.x,this.y,this.width,this.height];const{div:i,parentDimensions:[a,r]}=this;if(this.x+=t/a,this.y+=n/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[c,d]=this.getBaseTranslation();s+=c,o+=d;const{style:f}=i;f.left=`${(100*s).toFixed(2)}%`,f.top=`${(100*o).toFixed(2)}%`,this._onTranslating(s,o),i.scrollIntoView({block:"nearest"})}_onTranslating(t,n){}_onTranslated(t,n){}get _hasBeenMoved(){return!!this.#p&&(this.#p[0]!==this.x||this.#p[1]!==this.y)}get _hasBeenResized(){return!!this.#p&&(this.#p[2]!==this.width||this.#p[3]!==this.height)}getBaseTranslation(){const[t,n]=this.parentDimensions,{_borderLineWidth:i}=ue,a=i/t,r=i/n;switch(this.rotation){case 90:return[-a,r];case 180:return[a,r];case 270:return[a,-r];default:return[-a,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:n},pageDimensions:[i,a]}=this;let{x:r,y:s,width:o,height:c}=this;if(o*=i,c*=a,r*=i,s*=a,this._mustFixPosition)switch(t){case 0:r=ar(r,0,i-o),s=ar(s,0,a-c);break;case 90:r=ar(r,0,i-c),s=ar(s,o,a);break;case 180:r=ar(r,o,i),s=ar(s,c,a);break;case 270:r=ar(r,c,i),s=ar(s,0,a-o);break}this.x=r/=i,this.y=s/=a;const[d,f]=this.getBaseTranslation();r+=d,s+=f,n.left=`${(100*r).toFixed(2)}%`,n.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}static#E(t,n,i){switch(i){case 90:return[n,-t];case 180:return[-t,-n];case 270:return[-n,t];default:return[t,n]}}screenToPageTranslation(t,n){return ue.#E(t,n,this.parentRotation)}pageTranslationToScreen(t,n){return ue.#E(t,n,360-this.parentRotation)}#R(t){switch(t){case 90:{const[n,i]=this.pageDimensions;return[0,-n/i,i/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,i]=this.pageDimensions;return[0,n/i,-i/n,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[n,i]}=this;return[n*t,i*t]}setDims(t,n){const[i,a]=this.parentDimensions,{style:r}=this.div;r.width=`${(100*t/i).toFixed(2)}%`,this.#o||(r.height=`${(100*n/a).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:n,width:i}=t,a=i.endsWith("%"),r=!this.#o&&n.endsWith("%");if(a&&r)return;const[s,o]=this.parentDimensions;a||(t.width=`${(100*parseFloat(i)/s).toFixed(2)}%`),!this.#o&&!r&&(t.height=`${(100*parseFloat(n)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#T(){if(this.#s)return;this.#s=document.createElement("div"),this.#s.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const i of t){const a=document.createElement("div");this.#s.append(a),a.classList.add("resizer",i),a.setAttribute("data-resizer-name",i),a.addEventListener("pointerdown",this.#O.bind(this,i),{signal:n}),a.addEventListener("contextmenu",yo,{signal:n}),a.tabIndex=-1}this.div.prepend(this.#s)}#O(t,n){n.preventDefault();const{isMac:i}=Ea.platform;if(n.button!==0||n.ctrlKey&&i)return;this.#n?.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,this.#d=[n.screenX,n.screenY];const r=new AbortController,s=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#z.bind(this,t),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",Ii,{passive:!1,signal:s}),window.addEventListener("contextmenu",yo,{signal:s}),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const o=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const d=()=>{r.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=o,this.div.style.cursor=c,this.#P()};window.addEventListener("pointerup",d,{signal:s}),window.addEventListener("blur",d,{signal:s})}#N(t,n,i,a){this.width=i,this.height=a,this.x=t,this.y=n;const[r,s]=this.parentDimensions;this.setDims(r*i,s*a),this.fixAndSetPosition(),this._onResized()}_onResized(){}#P(){if(!this.#l)return;const{savedX:t,savedY:n,savedWidth:i,savedHeight:a}=this.#l;this.#l=null;const r=this.x,s=this.y,o=this.width,c=this.height;r===t&&s===n&&o===i&&c===a||this.addCommands({cmd:this.#N.bind(this,r,s,o,c),undo:this.#N.bind(this,t,n,i,a),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#z(t,n){const[i,a]=this.parentDimensions,r=this.x,s=this.y,o=this.width,c=this.height,d=ue.MIN_SIZE/i,f=ue.MIN_SIZE/a,g=this.#R(this.rotation),v=(tt,I)=>[g[0]*tt+g[2]*I,g[1]*tt+g[3]*I],y=this.#R(360-this.rotation),b=(tt,I)=>[y[0]*tt+y[2]*I,y[1]*tt+y[3]*I];let w,E,C=!1,A=!1;switch(t){case"topLeft":C=!0,w=(tt,I)=>[0,0],E=(tt,I)=>[tt,I];break;case"topMiddle":w=(tt,I)=>[tt/2,0],E=(tt,I)=>[tt/2,I];break;case"topRight":C=!0,w=(tt,I)=>[tt,0],E=(tt,I)=>[0,I];break;case"middleRight":A=!0,w=(tt,I)=>[tt,I/2],E=(tt,I)=>[0,I/2];break;case"bottomRight":C=!0,w=(tt,I)=>[tt,I],E=(tt,I)=>[0,0];break;case"bottomMiddle":w=(tt,I)=>[tt/2,I],E=(tt,I)=>[tt/2,0];break;case"bottomLeft":C=!0,w=(tt,I)=>[0,I],E=(tt,I)=>[tt,0];break;case"middleLeft":A=!0,w=(tt,I)=>[0,I/2],E=(tt,I)=>[tt,I/2];break}const _=w(o,c),M=E(o,c);let D=v(...M);const P=ue._round(r+D[0]),B=ue._round(s+D[1]);let k=1,z=1,H,G;if(n.fromKeyboard)({deltaX:H,deltaY:G}=n);else{const{screenX:tt,screenY:I}=n,[V,X]=this.#d;[H,G]=this.screenToPageTranslation(tt-V,I-X),this.#d[0]=tt,this.#d[1]=I}if([H,G]=b(H/i,G/a),C){const tt=Math.hypot(o,c);k=z=Math.max(Math.min(Math.hypot(M[0]-_[0]-H,M[1]-_[1]-G)/tt,1/o,1/c),d/o,f/c)}else A?k=ar(Math.abs(M[0]-_[0]-H),d,1)/o:z=ar(Math.abs(M[1]-_[1]-G),f,1)/c;const Q=ue._round(o*k),at=ue._round(c*z);D=v(...E(Q,at));const Z=P-D[0],nt=B-D[1];this.#p||=[this.x,this.y,this.width,this.height],this.width=Q,this.height=at,this.x=Z,this.y=nt,this.setDims(i*Q,a*at),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#c)return this._editToolbar;this._editToolbar=new nv(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[n,i]of t)await this._editToolbar.addButton(n,i);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(t){const n=this._editToolbar?.div;n?n.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#n||(ml.initialize(ue._l10n),this.#n=new ml(this),this.#t&&(this.#n.data=this.#t,this.#t=null)),this.#n}get altTextData(){return this.#n?.data}set altTextData(t){this.#n&&(this.#n.data=t)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(t){await this.#n?.setGuessedText(t)}serializeAltText(t){return this.#n?.serialize(t)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#i?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#q();const[n,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/n).toFixed(2)}%`,t.style.maxHeight=`${(100*n/i).toFixed(2)}%`);const[a,r]=this.getInitialTranslation();return this.translate(a,r),UF(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#w||=new h2({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#A.bind(this),onPinching:this.#S.bind(this),onPinchEnd:this.#F.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),t}#A(){this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#S(t,n,i){let r=.7*(i/n)+1-.7;if(r===1)return;const s=this.#R(this.rotation),o=(P,B)=>[s[0]*P+s[2]*B,s[1]*P+s[3]*B],[c,d]=this.parentDimensions,f=this.x,g=this.y,v=this.width,y=this.height,b=ue.MIN_SIZE/c,w=ue.MIN_SIZE/d;r=Math.max(Math.min(r,1/v,1/y),b/v,w/y);const E=ue._round(v*r),C=ue._round(y*r);if(E===v&&C===y)return;this.#p||=[f,g,v,y];const A=o(v/2,y/2),_=ue._round(f+A[0]),M=ue._round(g+A[1]),D=o(E/2,C/2);this.x=_-D[0],this.y=M-D[1],this.width=E,this.height=C,this.setDims(c*E,d*C),this.fixAndSetPosition(),this._onResizing()}#F(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#P()}pointerdown(t){const{isMac:n}=Ea.platform;if(t.button!==0||t.ctrlKey&&n){t.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#G(t);return}this.#B(t)}#B(t){const{isMac:n}=Ea.platform;t.ctrlKey&&!n||t.shiftKey||t.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)}#G(t){const{isSelected:n}=this;this._uiManager.setUpDragSession();let i=!1;const a=new AbortController,r=this._uiManager.combinedSignal(a),s={capture:!0,passive:!1,signal:r},o=d=>{a.abort(),this.#r=null,this.#f=!1,this._uiManager.endDragSession()||this.#B(d),i&&this._onStopDragging()};n&&(this.#y=t.clientX,this.#b=t.clientY,this.#r=t.pointerId,this.#a=t.pointerType,window.addEventListener("pointermove",d=>{i||(i=!0,this._onStartDragging());const{clientX:f,clientY:g,pointerId:v}=d;if(v!==this.#r){Ii(d);return}const[y,b]=this.screenToPageTranslation(f-this.#y,g-this.#b);this.#y=f,this.#b=g,this._uiManager.dragSelectedEditors(y,b)},s),window.addEventListener("touchmove",Ii,s),window.addEventListener("pointerdown",d=>{d.pointerType===this.#a&&(this.#w||d.isPrimary)&&o(d),Ii(d)},s));const c=d=>{if(!this.#r||this.#r===d.pointerId){o(d);return}Ii(d)};window.addEventListener("pointerup",c,{signal:r}),window.addEventListener("blur",c,{signal:r})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,n,i){t.changeParent(this),this.x=n,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,n,i=this.rotation){const a=this.parentScale,[r,s]=this.pageDimensions,[o,c]=this.pageTranslation,d=t/a,f=n/a,g=this.x*r,v=this.y*s,y=this.width*r,b=this.height*s;switch(i){case 0:return[g+d+o,s-v-f-b+c,g+d+y+o,s-v-f+c];case 90:return[g+f+o,s-v+d+c,g+f+b+o,s-v+d+y+c];case 180:return[g-d-y+o,s-v+f+c,g-d+o,s-v+f+b+c];case 270:return[g-f-b+o,s-v-d-y+c,g-f+o,s-v-d+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,n){const[i,a,r,s]=t,o=r-i,c=s-a;switch(this.rotation){case 0:return[i,n-s,o,c];case 90:return[i,n-a,c,o];case 180:return[r,n-a,o,c];case 270:return[r,n-s,c,o];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#c=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#c=!1,!0):!1}isInEditMode(){return this.#c}shouldGetKeyboardEvents(){return this.#g}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:n,bottom:i,right:a}=this.getClientDimensions(),{innerHeight:r,innerWidth:s}=window;return n<s&&a>0&&t<r&&i>0}#q(){if(this.#h||!this.div)return;this.#h=new AbortController;const t=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#q()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,n=null){Un("An editor must be serializable")}static async deserialize(t,n,i){const a=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:i,annotationElementId:t.annotationElementId});a.rotation=t.rotation,a.#t=t.accessibilityData,a._isCopy=t.isCopy||!1;const[r,s]=a.pageDimensions,[o,c,d,f]=a.getRectInCurrentCoords(t.rect,s);return a.x=o/r,a.y=c/s,a.width=d/r,a.height=f/s,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#H(),this.removeEditToolbar(),this.#x){for(const t of this.#x.values())clearTimeout(t);this.#x=null}this.parent=null,this.#w?.destroy(),this.#w=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#T(),this.#s.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const n=this.#s.children;if(!this.#e){this.#e=Array.from(n);const s=this.#V.bind(this),o=this.#U.bind(this),c=this._uiManager._signal;for(const d of this.#e){const f=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",s,{signal:c}),d.addEventListener("blur",o,{signal:c}),d.addEventListener("focus",this.#k.bind(this,f),{signal:c}),d.setAttribute("data-l10n-id",ue._l10nResizer[f])}}const i=this.#e[0];let a=0;for(const s of n){if(s===i)break;a++}const r=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(r!==a){if(r<a)for(let o=0;o<a-r;o++)this.#s.append(this.#s.firstChild);else if(r>a)for(let o=0;o<r-a;o++)this.#s.firstChild.before(this.#s.lastChild);let s=0;for(const o of n){const d=this.#e[s++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",ue._l10nResizer[d])}}this.#L(0),this.#g=!0,this.#s.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#V(t){ue._resizerKeyboardManager.exec(this,t)}#U(t){this.#g&&t.relatedTarget?.parentNode!==this.#s&&this.#H()}#k(t){this.#u=this.#g?t:""}#L(t){if(this.#e)for(const n of this.#e)n.tabIndex=t}_resizeWithKeyboard(t,n){this.#g&&this.#z(this.#u,{deltaX:t,deltaY:n,fromKeyboard:!0})}#H(){this.#g=!1,this.#L(-1),this.#P()}_stopResizingWithKeyboard(){this.#H(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#s?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0))}updateParams(t,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#m}set isEditing(t){this.#m=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,n){this.#o=!0;const i=t/n,{style:a}=this.div;a.aspectRatio=i,a.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,n=!1){if(n){this.#x||=new Map;const{action:i}=t;let a=this.#x.get(i);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(t),this.#x.delete(i),this.#x.size===0&&(this.#x=null)},ue._telemetryTimeout),this.#x.set(i,a);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(t){let n=t.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),t.container.prepend(n);else if(n.nodeName==="CANVAS"){const i=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),i.before(n)}return n}resetAnnotationElement(t){const{firstChild:n}=t.container;n?.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}}class Lut extends ue{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const xN=3285377520,As=4294901760,ul=65535;class HF{constructor(t){this.h1=t?t&4294967295:xN,this.h2=t?t&4294967295:xN}update(t){let n,i;if(typeof t=="string"){n=new Uint8Array(t.length*2),i=0;for(let w=0,E=t.length;w<E;w++){const C=t.charCodeAt(w);C<=255?n[i++]=C:(n[i++]=C>>>8,n[i++]=C&255)}}else if(ArrayBuffer.isView(t))n=t.slice(),i=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=i>>2,r=i-a*4,s=new Uint32Array(n.buffer,0,a);let o=0,c=0,d=this.h1,f=this.h2;const g=3432918353,v=461845907,y=g&ul,b=v&ul;for(let w=0;w<a;w++)w&1?(o=s[w],o=o*g&As|o*y&ul,o=o<<15|o>>>17,o=o*v&As|o*b&ul,d^=o,d=d<<13|d>>>19,d=d*5+3864292196):(c=s[w],c=c*g&As|c*y&ul,c=c<<15|c>>>17,c=c*v&As|c*b&ul,f^=c,f=f<<13|f>>>19,f=f*5+3864292196);switch(o=0,r){case 3:o^=n[a*4+2]<<16;case 2:o^=n[a*4+1]<<8;case 1:o^=n[a*4],o=o*g&As|o*y&ul,o=o<<15|o>>>17,o=o*v&As|o*b&ul,a&1?d^=o:f^=o}this.h1=d,this.h2=f}hexdigest(){let t=this.h1,n=this.h2;return t^=n>>>1,t=t*3981806797&As|t*36045&ul,n=n*4283543511&As|((n<<16|t>>>16)*2950163797&As)>>>16,t^=n>>>1,t=t*444984403&As|t*60499&ul,n=n*3301882366&As|((n<<16|t>>>16)*3120437893&As)>>>16,t^=n>>>1,(t>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const PC=Object.freeze({map:null,hash:"",transfer:void 0});class o5{#t=!1;#e=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,n){const i=this.#n.get(t);return i===void 0?n:Object.assign(n,i)}getRawValue(t){return this.#n.get(t)}remove(t){if(this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of this.#n.values())if(n instanceof ue)return;this.onAnnotationEditor(null)}}setValue(t,n){const i=this.#n.get(t);let a=!1;if(i!==void 0)for(const[r,s]of Object.entries(n))i[r]!==s&&(a=!0,i[r]=s);else a=!0,this.#n.set(t,n);a&&this.#i(),n instanceof ue&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(t){return this.#n.has(t)}get size(){return this.#n.size}#i(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new GF(this)}get serializable(){if(this.#n.size===0)return PC;const t=new Map,n=new HF,i=[],a=Object.create(null);let r=!1;for(const[s,o]of this.#n){const c=o instanceof ue?o.serialize(!1,a):o;c&&(t.set(s,c),n.update(`${s}:${JSON.stringify(c)}`),r||=!!c.bitmap)}if(r)for(const s of t.values())s.bitmap&&i.push(s.bitmap);return t.size>0?{map:t,hash:n.hexdigest(),transfer:i}:PC}get editorStats(){let t=null;const n=new Map;for(const i of this.#n.values()){if(!(i instanceof ue))continue;const a=i.telemetryFinalData;if(!a)continue;const{type:r}=a;n.has(r)||n.set(r,Object.getPrototypeOf(i).constructor),t||=Object.create(null);const s=t[r]||=new Map;for(const[o,c]of Object.entries(a)){if(o==="type")continue;let d=s.get(o);d||(d=new Map,s.set(o,d));const f=d.get(c)??0;d.set(c,f+1)}}for(const[i,a]of n)t[i]=a.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){this.#e=null}get modifiedIds(){if(this.#e)return this.#e;const t=[];for(const n of this.#n.values())!(n instanceof ue)||!n.annotationElementId||!n.serialize()||t.push(n.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class GF extends o5{#t;constructor(t){super();const{map:n,hash:i,transfer:a}=t.serializable,r=structuredClone(n,a?{transfer:a}:null);this.#t={map:r,hash:i,transfer:a}}get print(){Un("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Je(this,"modifiedIds",{ids:new Set,hash:""})}}class jut{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:n=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(t,n.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:n,_inspectFont:i}){if(!(!t||this.#t.has(t.loadedName))){if(zi(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:r,style:s}=t,o=new FontFace(a,r,s);this.addNativeFontFace(o);try{await o.load(),this.#t.add(a),i?.(t)}catch{Te(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Un("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(a){throw Te(`Failed to load font '${i.family}': '${a}'.`),t.disableFontFace=!0,a}}return}const n=t.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const a=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,a)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Je(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Je(this,"isSyncFontLoadingSupported",ir||Ea.platform.isFirefox)}_queueLoadingCallback(t){function n(){for(zi(!a.done,"completeRequest() cannot be called twice."),a.done=!0;i.length>0&&i[0].done;){const r=i.shift();setTimeout(r.callback,0)}}const{loadingRequests:i}=this,a={done:!1,complete:n,callback:t};return i.push(a),a}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Je(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,n){function i(M,D){return M.charCodeAt(D)<<24|M.charCodeAt(D+1)<<16|M.charCodeAt(D+2)<<8|M.charCodeAt(D+3)&255}function a(M,D,P,B){const k=M.substring(0,D),z=M.substring(D+P);return k+B+z}let r,s;const o=this._document.createElement("canvas");o.width=1,o.height=1;const c=o.getContext("2d");let d=0;function f(M,D){if(++d>30){Te("Load test font never loaded."),D();return}if(c.font="30px "+M,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){D();return}setTimeout(f.bind(null,M,D))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=a(v,976,g.length,g);const b=16,w=1482184792;let E=i(v,b);for(r=0,s=g.length-3;r<s;r+=4)E=E-w+i(g,r)|0;r<g.length&&(E=E-w+i(g+"XXX",r)|0),v=a(v,b,4,xut(E));const C=`url(data:font/opentype;base64,${btoa(v)});`,A=`@font-face {font-family:"${g}";src:${C}}`;this.insertRule(A);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const M of[t.loadedName,g]){const D=this._document.createElement("span");D.textContent="Hi",D.style.fontFamily=M,_.append(D)}this._document.body.append(_),f(g,()=>{_.remove(),n.complete()})}}class Fut{constructor(t,n=null){this.compiledGlyphs=Object.create(null);for(const i in t)this[i]=t[i];this._inspectFont=n}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${IF(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return this._inspectFont?.(this,t),n}getPathGenerator(t,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const i=this.loadedName+"_path_"+n;let a;try{a=t.get(i)}catch(s){Te(`getPathGenerator - ignoring character: "${s}".`)}const r=new Path2D(a||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[n]=r}}function But(e){if(e instanceof URL)return e.href;if(typeof e=="string"){if(ir)return e;const t=URL.parse(e,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Iut(e){if(ir&&typeof Buffer<"u"&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if(typeof e=="string")return Zv(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||typeof e=="object"&&!isNaN(e?.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Jb(e){if(typeof e!="string")return null;if(e.endsWith("/"))return e;throw new Error(`Invalid factory url: "${e}" must include trailing slash.`)}const kC=e=>typeof e=="object"&&Number.isInteger(e?.num)&&e.num>=0&&Number.isInteger(e?.gen)&&e.gen>=0,zut=e=>typeof e=="object"&&typeof e?.name=="string",Uut=Aut.bind(null,kC,zut);class Hut{#t=new Map;#e=Promise.resolve();postMessage(t,n){const i={data:structuredClone(t,n?{transfer:n}:null)};this.#e.then(()=>{for(const[a]of this.#t)a.call(this,i)})}addEventListener(t,n,i=null){let a=null;if(i?.signal instanceof AbortSignal){const{signal:r}=i;if(r.aborted){Te("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(t,n);a=()=>r.removeEventListener("abort",s),r.addEventListener("abort",s)}this.#t.set(n,a)}removeEventListener(t,n){this.#t.get(n)?.(),this.#t.delete(n)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const t1={DATA:1,ERROR:2},ji={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function SN(){}function _r(e){if(e instanceof Iu||e instanceof OC||e instanceof vN||e instanceof ex||e instanceof WE)return e;switch(e instanceof Error||typeof e=="object"&&e!==null||Un('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new Iu(e.message);case"InvalidPDFException":return new OC(e.message);case"PasswordException":return new vN(e.message,e.code);case"ResponseException":return new ex(e.message,e.status,e.missing);case"UnknownErrorException":return new WE(e.message,e.details)}return new WE(e.message,e.toString())}class V0{#t=new AbortController;constructor(t,n,i){this.sourceName=t,this.targetName=n,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#i(t);return}if(t.callback){const i=t.callbackId,a=this.callbackCapabilities[i];if(!a)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===t1.DATA)a.resolve(t.data);else if(t.callback===t1.ERROR)a.reject(_r(t.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[t.action];if(!n)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,a=t.sourceName,r=this.comObj;Promise.try(n,t.data).then(function(s){r.postMessage({sourceName:i,targetName:a,callback:t1.DATA,callbackId:t.callbackId,data:s})},function(s){r.postMessage({sourceName:i,targetName:a,callback:t1.ERROR,callbackId:t.callbackId,reason:_r(s)})});return}if(t.streamId){this.#n(t);return}n(t.data)}on(t,n){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=n}send(t,n,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:n},i)}sendWithPromise(t,n,i){const a=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[a]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:n},i)}catch(s){r.reject(s)}return r.promise}sendWithStream(t,n,i,a){const r=this.streamId++,s=this.sourceName,o=this.targetName,c=this.comObj;return new ReadableStream({start:d=>{const f=Promise.withResolvers();return this.streamControllers[r]={controller:d,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:s,targetName:o,action:t,streamId:r,data:n,desiredSize:d.desiredSize},a),f.promise},pull:d=>{const f=Promise.withResolvers();return this.streamControllers[r].pullCall=f,c.postMessage({sourceName:s,targetName:o,stream:ji.PULL,streamId:r,desiredSize:d.desiredSize}),f.promise},cancel:d=>{zi(d instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[r].cancelCall=f,this.streamControllers[r].isClosed=!0,c.postMessage({sourceName:s,targetName:o,stream:ji.CANCEL,streamId:r,reason:_r(d)}),f.promise}},i)}#n(t){const n=t.streamId,i=this.sourceName,a=t.sourceName,r=this.comObj,s=this,o=this.actionHandler[t.action],c={enqueue(d,f=1,g){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=f,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:i,targetName:a,stream:ji.ENQUEUE,streamId:n,chunk:d},g)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:a,stream:ji.CLOSE,streamId:n}),delete s.streamSinks[n])},error(d){zi(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:a,stream:ji.ERROR,streamId:n,reason:_r(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[n]=c,Promise.try(o,t.data,c).then(function(){r.postMessage({sourceName:i,targetName:a,stream:ji.START_COMPLETE,streamId:n,success:!0})},function(d){r.postMessage({sourceName:i,targetName:a,stream:ji.START_COMPLETE,streamId:n,reason:_r(d)})})}#i(t){const n=t.streamId,i=this.sourceName,a=t.sourceName,r=this.comObj,s=this.streamControllers[n],o=this.streamSinks[n];switch(t.stream){case ji.START_COMPLETE:t.success?s.startCall.resolve():s.startCall.reject(_r(t.reason));break;case ji.PULL_COMPLETE:t.success?s.pullCall.resolve():s.pullCall.reject(_r(t.reason));break;case ji.PULL:if(!o){r.postMessage({sourceName:i,targetName:a,stream:ji.PULL_COMPLETE,streamId:n,success:!0});break}o.desiredSize<=0&&t.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=t.desiredSize,Promise.try(o.onPull||SN).then(function(){r.postMessage({sourceName:i,targetName:a,stream:ji.PULL_COMPLETE,streamId:n,success:!0})},function(d){r.postMessage({sourceName:i,targetName:a,stream:ji.PULL_COMPLETE,streamId:n,reason:_r(d)})});break;case ji.ENQUEUE:if(zi(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(t.chunk);break;case ji.CLOSE:if(zi(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),this.#r(s,n);break;case ji.ERROR:zi(s,"error should have stream controller"),s.controller.error(_r(t.reason)),this.#r(s,n);break;case ji.CANCEL_COMPLETE:t.success?s.cancelCall.resolve():s.cancelCall.reject(_r(t.reason)),this.#r(s,n);break;case ji.CANCEL:if(!o)break;const c=_r(t.reason);Promise.try(o.onCancel||SN,c).then(function(){r.postMessage({sourceName:i,targetName:a,stream:ji.CANCEL_COMPLETE,streamId:n,success:!0})},function(d){r.postMessage({sourceName:i,targetName:a,stream:ji.CANCEL_COMPLETE,streamId:n,reason:_r(d)})}),o.sinkCapability.reject(c),o.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}}async#r(t,n){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[n]}destroy(){this.#t?.abort(),this.#t=null}}class qF{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,n){if(t<=0||n<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,n);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,n,i){if(!t.canvas)throw new Error("Canvas is not specified");if(n<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=n,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,n){Un("Abstract method `_createCanvas` called.")}}class Gut extends qF{constructor({ownerDocument:t=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=t}_createCanvas(t,n){const i=this._document.createElement("canvas");return i.width=t,i.height=n,i}}class VF{constructor({baseUrl:t=null,isCompressed:n=!0}){this.baseUrl=t,this.isCompressed=n}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(n).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(t){Un("Abstract method `_fetch` called.")}}class wN extends VF{async _fetch(t){const n=await Jv(t,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):Zv(n)}}class $F{addFilter(t){return"none"}addHCMFilter(t,n){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,n,i,a,r){return"none"}destroy(t=!1){}}class qut extends $F{#t;#e;#n;#i;#r;#a;#o=0;constructor({docId:t,ownerDocument:n=globalThis.document}){super(),this.#i=t,this.#r=n}get#s(){return this.#e||=new Map}get#d(){return this.#a||=new Map}get#l(){if(!this.#n){const t=this.#r.createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=this.#r.createElementNS(mc,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#n=this.#r.createElementNS(mc,"defs"),t.append(i),i.append(this.#n),this.#r.body.append(t)}return this.#n}#h(t){if(t.length===1){const c=t[0],d=new Array(256);for(let g=0;g<256;g++)d[g]=c[g]/255;const f=d.join(",");return[f,f,f]}const[n,i,a]=t,r=new Array(256),s=new Array(256),o=new Array(256);for(let c=0;c<256;c++)r[c]=n[c]/255,s[c]=i[c]/255,o[c]=a[c]/255;return[r.join(","),s.join(","),o.join(",")]}#u(t){if(this.#t===void 0){this.#t="";const n=this.#r.URL;n!==this.#r.baseURI&&(d2(n)?Te('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=jF(n,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let n=this.#s.get(t);if(n)return n;const[i,a,r]=this.#h(t),s=t.length===1?i:`${i}${a}${r}`;if(n=this.#s.get(s),n)return this.#s.set(t,n),n;const o=`g_${this.#i}_transfer_map_${this.#o++}`,c=this.#u(o);this.#s.set(t,c),this.#s.set(s,c);const d=this.#m(o);return this.#g(i,a,r,d),c}addHCMFilter(t,n){const i=`${t}-${n}`,a="base";let r=this.#d.get(a);if(r?.key===i||(r?(r.filter?.remove(),r.key=i,r.url="none",r.filter=null):(r={key:i,url:"none",filter:null},this.#d.set(a,r)),!t||!n))return r.url;const s=this.#y(t);t=se.makeHexColor(...s);const o=this.#y(n);if(n=se.makeHexColor(...o),this.#l.style.color="",t==="#000000"&&n==="#ffffff"||t===n)return r.url;const c=new Array(256);for(let y=0;y<=255;y++){const b=y/255;c[y]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const d=c.join(","),f=`g_${this.#i}_hcm_filter`,g=r.filter=this.#m(f);this.#g(d,d,d,g),this.#p(g);const v=(y,b)=>{const w=s[y]/255,E=o[y]/255,C=new Array(b+1);for(let A=0;A<=b;A++)C[A]=w+A/b*(E-w);return C.join(",")};return this.#g(v(0,5),v(1,5),v(2,5),g),r.url=this.#u(f),r.url}addAlphaFilter(t){let n=this.#s.get(t);if(n)return n;const[i]=this.#h([t]),a=`alpha_${i}`;if(n=this.#s.get(a),n)return this.#s.set(t,n),n;const r=`g_${this.#i}_alpha_map_${this.#o++}`,s=this.#u(r);this.#s.set(t,s),this.#s.set(a,s);const o=this.#m(r);return this.#v(i,o),s}addLuminosityFilter(t){let n=this.#s.get(t||"luminosity");if(n)return n;let i,a;if(t?([i]=this.#h([t]),a=`luminosity_${i}`):a="luminosity",n=this.#s.get(a),n)return this.#s.set(t,n),n;const r=`g_${this.#i}_luminosity_map_${this.#o++}`,s=this.#u(r);this.#s.set(t,s),this.#s.set(a,s);const o=this.#m(r);return this.#f(o),t&&this.#v(i,o),s}addHighlightHCMFilter(t,n,i,a,r){const s=`${n}-${i}-${a}-${r}`;let o=this.#d.get(t);if(o?.key===s||(o?(o.filter?.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},this.#d.set(t,o)),!n||!i))return o.url;const[c,d]=[n,i].map(this.#y.bind(this));let f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),g=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[v,y]=[a,r].map(this.#y.bind(this));g<f&&([f,g,v,y]=[g,f,y,v]),this.#l.style.color="";const b=(C,A,_)=>{const M=new Array(256),D=(g-f)/_,P=C/255,B=(A-C)/(255*_);let k=0;for(let z=0;z<=_;z++){const H=Math.round(f+z*D),G=P+z*B;for(let Q=k;Q<=H;Q++)M[Q]=G;k=H+1}for(let z=k;z<256;z++)M[z]=M[k-1];return M.join(",")},w=`g_${this.#i}_hcm_${t}_filter`,E=o.filter=this.#m(w);return this.#p(E),this.#g(b(v[0],y[0],5),b(v[1],y[1],5),b(v[2],y[2],5),E),o.url=this.#u(w),o.url}destroy(t=!1){t&&this.#a?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#e?.clear(),this.#e=null,this.#a?.clear(),this.#a=null,this.#o=0)}#f(t){const n=this.#r.createElementNS(mc,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)}#p(t){const n=this.#r.createElementNS(mc,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)}#m(t){const n=this.#r.createElementNS(mc,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),this.#l.append(n),n}#c(t,n,i){const a=this.#r.createElementNS(mc,n);a.setAttribute("type","discrete"),a.setAttribute("tableValues",i),t.append(a)}#g(t,n,i,a){const r=this.#r.createElementNS(mc,"feComponentTransfer");a.append(r),this.#c(r,"feFuncR",t),this.#c(r,"feFuncG",n),this.#c(r,"feFuncB",i)}#v(t,n){const i=this.#r.createElementNS(mc,"feComponentTransfer");n.append(i),this.#c(i,"feFuncA",t)}#y(t){return this.#l.style.color=t,a5(getComputedStyle(this.#l).getPropertyValue("color"))}}class YF{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${t}`;return this._fetch(n).catch(i=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(t){Un("Abstract method `_fetch` called.")}}class _N extends YF{async _fetch(t){const n=await Jv(t,"arraybuffer");return new Uint8Array(n)}}class KF{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${t}`;return this._fetch(n).catch(i=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(t){Un("Abstract method `_fetch` called.")}}class EN extends KF{async _fetch(t){const n=await Jv(t,"arraybuffer");return new Uint8Array(n)}}ir&&Te("Please use the `legacy` build in Node.js environments.");async function l5(e){const n=await process.getBuiltinModule("fs").promises.readFile(e);return new Uint8Array(n)}class Vut extends $F{}class $ut extends qF{_createCanvas(t,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,n)}}class Yut extends VF{async _fetch(t){return l5(t)}}class Kut extends YF{async _fetch(t){return l5(t)}}class Xut extends KF{async _fetch(t){return l5(t)}}const wa={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function LC(e,t){if(!t)return;const n=t[2]-t[0],i=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],n,i),e.clip(a)}class c5{isModifyingCurrentTransform(){return!1}getPattern(){Un("Abstract method `getPattern` called.")}}class Wut extends c5{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let n;this._type==="axial"?n=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)n.addColorStop(i[0],i[1]);return n}getPattern(t,n,i,a){let r;if(a===wa.STROKE||a===wa.FILL){const s=n.current.getClippedPathBoundingBox(a,ci(t))||[0,0,0,0],o=Math.ceil(s[2]-s[0])||1,c=Math.ceil(s[3]-s[1])||1,d=n.cachedCanvases.getCanvas("pattern",o,c),f=d.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-s[0],-s[1]),i=se.transform(i,[1,0,0,1,s[0],s[1]]),f.transform(...n.baseTransform),this.matrix&&f.transform(...this.matrix),LC(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),r=t.createPattern(d.canvas,"no-repeat");const g=new DOMMatrix(i);r.setTransform(g)}else LC(t,this._bbox),r=this._createGradient(t);return r}}function JE(e,t,n,i,a,r,s,o){const c=t.coords,d=t.colors,f=e.data,g=e.width*4;let v;c[n+1]>c[i+1]&&(v=n,n=i,i=v,v=r,r=s,s=v),c[i+1]>c[a+1]&&(v=i,i=a,a=v,v=s,s=o,o=v),c[n+1]>c[i+1]&&(v=n,n=i,i=v,v=r,r=s,s=v);const y=(c[n]+t.offsetX)*t.scaleX,b=(c[n+1]+t.offsetY)*t.scaleY,w=(c[i]+t.offsetX)*t.scaleX,E=(c[i+1]+t.offsetY)*t.scaleY,C=(c[a]+t.offsetX)*t.scaleX,A=(c[a+1]+t.offsetY)*t.scaleY;if(b>=A)return;const _=d[r],M=d[r+1],D=d[r+2],P=d[s],B=d[s+1],k=d[s+2],z=d[o],H=d[o+1],G=d[o+2],Q=Math.round(b),at=Math.round(A);let Z,nt,tt,I,V,X,U,$;for(let it=Q;it<=at;it++){if(it<E){const J=it<b?0:(b-it)/(b-E);Z=y-(y-w)*J,nt=_-(_-P)*J,tt=M-(M-B)*J,I=D-(D-k)*J}else{let J;it>A?J=1:E===A?J=0:J=(E-it)/(E-A),Z=w-(w-C)*J,nt=P-(P-z)*J,tt=B-(B-H)*J,I=k-(k-G)*J}let K;it<b?K=0:it>A?K=1:K=(b-it)/(b-A),V=y-(y-C)*K,X=_-(_-z)*K,U=M-(M-H)*K,$=D-(D-G)*K;const ct=Math.round(Math.min(Z,V)),pt=Math.round(Math.max(Z,V));let rt=g*it+ct*4;for(let J=ct;J<=pt;J++)K=(Z-J)/(Z-V),K<0?K=0:K>1&&(K=1),f[rt++]=nt-(nt-X)*K|0,f[rt++]=tt-(tt-U)*K|0,f[rt++]=I-(I-$)*K|0,f[rt++]=255}}function Qut(e,t,n){const i=t.coords,a=t.colors;let r,s;switch(t.type){case"lattice":const o=t.verticesPerRow,c=Math.floor(i.length/o)-1,d=o-1;for(r=0;r<c;r++){let f=r*o;for(let g=0;g<d;g++,f++)JE(e,n,i[f],i[f+1],i[f+o],a[f],a[f+1],a[f+o]),JE(e,n,i[f+o+1],i[f+1],i[f+o],a[f+o+1],a[f+1],a[f+o])}break;case"triangles":for(r=0,s=i.length;r<s;r+=3)JE(e,n,i[r],i[r+1],i[r+2],a[r],a[r+1],a[r+2]);break;default:throw new Error("illegal figure")}}class Zut extends c5{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,n,i){const o=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-o,f=Math.ceil(this._bounds[3])-c,g=Math.min(Math.ceil(Math.abs(d*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(f*t[1]*1.1)),3e3),y=d/g,b=f/v,w={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-c,scaleX:1/y,scaleY:1/b},E=g+2*2,C=v+2*2,A=i.getCanvas("mesh",E,C),_=A.context,M=_.createImageData(g,v);if(n){const P=M.data;for(let B=0,k=P.length;B<k;B+=4)P[B]=n[0],P[B+1]=n[1],P[B+2]=n[2],P[B+3]=255}for(const P of this._figures)Qut(M,P,w);return _.putImageData(M,2,2),{canvas:A.canvas,offsetX:o-2*y,offsetY:c-2*b,scaleX:y,scaleY:b}}isModifyingCurrentTransform(){return!0}getPattern(t,n,i,a){LC(t,this._bbox);const r=new Float32Array(2);if(a===wa.SHADING)se.singularValueDecompose2dScale(ci(t),r);else if(this.matrix){se.singularValueDecompose2dScale(this.matrix,r);const[o,c]=r;se.singularValueDecompose2dScale(n.baseTransform,r),r[0]*=o,r[1]*=c}else se.singularValueDecompose2dScale(n.baseTransform,r);const s=this._createMeshCanvas(r,a===wa.SHADING?null:this._background,n.cachedCanvases);return a!==wa.SHADING&&(t.setTransform(...n.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(s.offsetX,s.offsetY),t.scale(s.scaleX,s.scaleY),t.createPattern(s.canvas,"no-repeat")}}class Jut extends c5{getPattern(){return"hotpink"}}function tdt(e){switch(e[0]){case"RadialAxial":return new Wut(e);case"Mesh":return new Zut(e);case"Dummy":return new Jut}throw new Error(`Unknown IR type: ${e[0]}`)}const AN={COLORED:1,UNCOLORED:2};class u5{static MAX_PATTERN_SIZE=3e3;constructor(t,n,i,a){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=a}createPatternCanvas(t){const{bbox:n,operatorList:i,paintType:a,tilingType:r,color:s,canvasGraphicsFactory:o}=this;let{xstep:c,ystep:d}=this;c=Math.abs(c),d=Math.abs(d),u2("TilingType: "+r);const f=n[0],g=n[1],v=n[2],y=n[3],b=v-f,w=y-g,E=new Float32Array(2);se.singularValueDecompose2dScale(this.matrix,E);const[C,A]=E;se.singularValueDecompose2dScale(this.baseTransform,E);const _=C*E[0],M=A*E[1];let D=b,P=w,B=!1,k=!1;const z=Math.ceil(c*_),H=Math.ceil(d*M),G=Math.ceil(b*_),Q=Math.ceil(w*M);z>=G?D=c:B=!0,H>=Q?P=d:k=!0;const at=this.getSizeAndScale(D,this.ctx.canvas.width,_),Z=this.getSizeAndScale(P,this.ctx.canvas.height,M),nt=t.cachedCanvases.getCanvas("pattern",at.size,Z.size),tt=nt.context,I=o.createCanvasGraphics(tt);if(I.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(I,a,s),tt.translate(-at.scale*f,-Z.scale*g),I.transform(at.scale,0,0,Z.scale,0,0),tt.save(),this.clipBbox(I,f,g,v,y),I.baseTransform=ci(I.ctx),I.executeOperatorList(i),I.endDrawing(),tt.restore(),B||k){const V=nt.canvas;B&&(D=c),k&&(P=d);const X=this.getSizeAndScale(D,this.ctx.canvas.width,_),U=this.getSizeAndScale(P,this.ctx.canvas.height,M),$=X.size,it=U.size,K=t.cachedCanvases.getCanvas("pattern-workaround",$,it),ct=K.context,pt=B?Math.floor(b/c):0,rt=k?Math.floor(w/d):0;for(let J=0;J<=pt;J++)for(let lt=0;lt<=rt;lt++)ct.drawImage(V,$*J,it*lt,$,it,0,0,$,it);return{canvas:K.canvas,scaleX:X.scale,scaleY:U.scale,offsetX:f,offsetY:g}}return{canvas:nt.canvas,scaleX:at.scale,scaleY:Z.scale,offsetX:f,offsetY:g}}getSizeAndScale(t,n,i){const a=Math.max(u5.MAX_PATTERN_SIZE,n);let r=Math.ceil(t*i);return r>=a?r=a:i=r/t,{scale:i,size:r}}clipBbox(t,n,i,a,r){const s=a-n,o=r-i;t.ctx.rect(n,i,s,o),se.axialAlignedBoundingBox([n,i,a,r],ci(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,n,i){const a=t.ctx,r=t.current;switch(n){case AN.COLORED:const{fillStyle:s,strokeStyle:o}=this.ctx;a.fillStyle=r.fillColor=s,a.strokeStyle=r.strokeColor=o;break;case AN.UNCOLORED:a.fillStyle=a.strokeStyle=i,r.fillColor=r.strokeColor=i;break;default:throw new but(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,n,i,a){let r=i;a!==wa.SHADING&&(r=se.transform(r,n.baseTransform),this.matrix&&(r=se.transform(r,this.matrix)));const s=this.createPatternCanvas(n);let o=new DOMMatrix(r);o=o.translate(s.offsetX,s.offsetY),o=o.scale(1/s.scaleX,1/s.scaleY);const c=t.createPattern(s.canvas,"repeat");return c.setTransform(o),c}}function edt({src:e,srcPos:t=0,dest:n,width:i,height:a,nonBlackColor:r=4294967295,inverseDecode:s=!1}){const o=Ea.isLittleEndian?4278190080:255,[c,d]=s?[r,o]:[o,r],f=i>>3,g=i&7,v=e.length;n=new Uint32Array(n.buffer);let y=0;for(let b=0;b<a;b++){for(const E=t+f;t<E;t++){const C=t<v?e[t]:255;n[y++]=C&128?d:c,n[y++]=C&64?d:c,n[y++]=C&32?d:c,n[y++]=C&16?d:c,n[y++]=C&8?d:c,n[y++]=C&4?d:c,n[y++]=C&2?d:c,n[y++]=C&1?d:c}if(g===0)continue;const w=t<v?e[t++]:255;for(let E=0;E<g;E++)n[y++]=w&1<<7-E?d:c}return{srcPos:t,destPos:y}}const CN=16,TN=100,ndt=15,RN=10,Er=16,tA=new DOMMatrix,Vr=new Float32Array(2),Cp=new Float32Array([1/0,1/0,-1/0,-1/0]);function idt(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(n,i){t.translate(n,i),this.__originalTranslate(n,i)},e.scale=function(n,i){t.scale(n,i),this.__originalScale(n,i)},e.transform=function(n,i,a,r,s,o){t.transform(n,i,a,r,s,o),this.__originalTransform(n,i,a,r,s,o)},e.setTransform=function(n,i,a,r,s,o){t.setTransform(n,i,a,r,s,o),this.__originalSetTransform(n,i,a,r,s,o)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(n){t.rotate(n),this.__originalRotate(n)},e.clip=function(n){t.clip(n),this.__originalClip(n)},e.moveTo=function(n,i){t.moveTo(n,i),this.__originalMoveTo(n,i)},e.lineTo=function(n,i){t.lineTo(n,i),this.__originalLineTo(n,i)},e.bezierCurveTo=function(n,i,a,r,s,o){t.bezierCurveTo(n,i,a,r,s,o),this.__originalBezierCurveTo(n,i,a,r,s,o)},e.rect=function(n,i,a,r){t.rect(n,i,a,r),this.__originalRect(n,i,a,r)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class adt{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,n,i){let a;return this.cache[t]!==void 0?(a=this.cache[t],this.canvasFactory.reset(a,n,i)):(a=this.canvasFactory.create(n,i),this.cache[t]=a),a}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const n=this.cache[t];this.canvasFactory.destroy(n),delete this.cache[t]}}}function e1(e,t,n,i,a,r,s,o,c,d){const[f,g,v,y,b,w]=ci(e);if(g===0&&v===0){const A=s*f+b,_=Math.round(A),M=o*y+w,D=Math.round(M),P=(s+c)*f+b,B=Math.abs(Math.round(P)-_)||1,k=(o+d)*y+w,z=Math.abs(Math.round(k)-D)||1;return e.setTransform(Math.sign(f),0,0,Math.sign(y),_,D),e.drawImage(t,n,i,a,r,0,0,B,z),e.setTransform(f,g,v,y,b,w),[B,z]}if(f===0&&y===0){const A=o*v+b,_=Math.round(A),M=s*g+w,D=Math.round(M),P=(o+d)*v+b,B=Math.abs(Math.round(P)-_)||1,k=(s+c)*g+w,z=Math.abs(Math.round(k)-D)||1;return e.setTransform(0,Math.sign(g),Math.sign(v),0,_,D),e.drawImage(t,n,i,a,r,0,0,z,B),e.setTransform(f,g,v,y,b,w),[z,B]}e.drawImage(t,n,i,a,r,s,o,c,d);const E=Math.hypot(f,g),C=Math.hypot(v,y);return[E*c,C*d]}class MN{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=DC;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=ja.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,n){this.clipBox=new Float32Array([0,0,t,n]),this.minMax=Cp.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=wa.FILL,n=null){const i=this.minMax.slice();if(t===wa.STROKE){n||Un("Stroke bounding box must include transform."),se.singularValueDecompose2dScale(n,Vr);const a=Vr[0]*this.lineWidth/2,r=Vr[1]*this.lineWidth/2;i[0]-=a,i[1]-=r,i[2]+=a,i[3]+=r}return i}updateClipFromPath(){const t=se.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Cp,0)}getClippedPathBoundingBox(t=wa.FILL,n=null){return se.intersect(this.clipBox,this.getPathBoundingBox(t,n))}}function DN(e,t){if(t instanceof ImageData){e.putImageData(t,0,0);return}const n=t.height,i=t.width,a=n%Er,r=(n-a)/Er,s=a===0?r:r+1,o=e.createImageData(i,Er);let c=0,d;const f=t.data,g=o.data;let v,y,b,w;if(t.kind===w1.GRAYSCALE_1BPP){const E=f.byteLength,C=new Uint32Array(g.buffer,0,g.byteLength>>2),A=C.length,_=i+7>>3,M=4294967295,D=Ea.isLittleEndian?4278190080:255;for(v=0;v<s;v++){for(b=v<r?Er:a,d=0,y=0;y<b;y++){const P=E-c;let B=0;const k=P>_?i:P*8-7,z=k&-8;let H=0,G=0;for(;B<z;B+=8)G=f[c++],C[d++]=G&128?M:D,C[d++]=G&64?M:D,C[d++]=G&32?M:D,C[d++]=G&16?M:D,C[d++]=G&8?M:D,C[d++]=G&4?M:D,C[d++]=G&2?M:D,C[d++]=G&1?M:D;for(;B<k;B++)H===0&&(G=f[c++],H=128),C[d++]=G&H?M:D,H>>=1}for(;d<A;)C[d++]=0;e.putImageData(o,0,v*Er)}}else if(t.kind===w1.RGBA_32BPP){for(y=0,w=i*Er*4,v=0;v<r;v++)g.set(f.subarray(c,c+w)),c+=w,e.putImageData(o,0,y),y+=Er;v<s&&(w=i*a*4,g.set(f.subarray(c,c+w)),e.putImageData(o,0,y))}else if(t.kind===w1.RGB_24BPP)for(b=Er,w=i*b,v=0;v<s;v++){for(v>=r&&(b=a,w=i*b),d=0,y=w;y--;)g[d++]=f[c++],g[d++]=f[c++],g[d++]=f[c++],g[d++]=255;e.putImageData(o,0,v*Er)}else throw new Error(`bad image kind: ${t.kind}`)}function ON(e,t){if(t.bitmap){e.drawImage(t.bitmap,0,0);return}const n=t.height,i=t.width,a=n%Er,r=(n-a)/Er,s=a===0?r:r+1,o=e.createImageData(i,Er);let c=0;const d=t.data,f=o.data;for(let g=0;g<s;g++){const v=g<r?Er:a;({srcPos:c}=edt({src:d,srcPos:c,dest:f,width:i,height:v,nonBlackColor:0})),e.putImageData(o,0,g*Er)}}function zg(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)e[i]!==void 0&&(t[i]=e[i]);e.setLineDash!==void 0&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function n1(e){e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",e.setLineDash!==void 0&&(e.setLineDash([]),e.lineDashOffset=0);const{filter:t}=e;t!=="none"&&t!==""&&(e.filter="none")}function NN(e,t){if(t)return!0;se.singularValueDecompose2dScale(e,Vr);const n=Math.fround(_l.pixelRatio*Ip.PDF_TO_CSS_UNITS);return Vr[0]<=n&&Vr[1]<=n}const rdt=["butt","round","square"],sdt=["miter","round","bevel"],odt={},PN={};class Dp{constructor(t,n,i,a,r,{optionalContentConfig:s,markedContentStack:o=null},c,d){this.ctx=t,this.current=new MN(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=i,this.canvasFactory=a,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=s,this.cachedCanvases=new adt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,n=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):n}beginDrawing({transform:t,viewport:n,transparency:i=!1,background:a=null}){const r=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,r,s),this.ctx.fillStyle=o,i){const c=this.cachedCanvases.getCanvas("transparent",r,s);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...ci(this.compositeCtx))}this.ctx.save(),n1(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=ci(this.ctx)}executeOperatorList(t,n,i,a){const r=t.argsArray,s=t.fnArray;let o=n||0;const c=r.length;if(c===o)return o;const d=c-o>RN&&typeof i=="function",f=d?Date.now()+ndt:0;let g=0;const v=this.commonObjs,y=this.objs;let b;for(;;){if(a!==void 0&&o===a.nextBreakPoint)return a.breakIt(o,i),o;if(b=s[o],b!==tx.dependency)this[b].apply(this,r[o]);else for(const w of r[o]){const E=w.startsWith("g_")?v:y;if(!E.has(w))return E.get(w,i),o}if(o++,o===c)return o;if(d&&++g>RN){if(Date.now()>f)return i(),o;g=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const n of t.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const n=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}}_scaleImage(t,n){const i=t.width??t.displayWidth,a=t.height??t.displayHeight;let r=Math.max(Math.hypot(n[0],n[1]),1),s=Math.max(Math.hypot(n[2],n[3]),1),o=i,c=a,d="prescale1",f,g;for(;r>2&&o>1||s>2&&c>1;){let v=o,y=c;r>2&&o>1&&(v=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),r/=o/v),s>2&&c>1&&(y=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,s/=c/y),f=this.cachedCanvases.getCanvas(d,v,y),g=f.context,g.clearRect(0,0,v,y),g.drawImage(t,0,0,o,c,0,0,v,y),t=f.canvas,o=v,c=y,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:o,paintHeight:c}}_createMaskCanvas(t){const n=this.ctx,{width:i,height:a}=t,r=this.current.fillColor,s=this.current.patternFill,o=ci(n);let c,d,f,g;if((t.bitmap||t.data)&&t.count>1){const z=t.bitmap||t.data.buffer;d=JSON.stringify(s?o:[o.slice(0,4),r]),c=this._cachedBitmapsMap.get(z),c||(c=new Map,this._cachedBitmapsMap.set(z,c));const H=c.get(d);if(H&&!s){const G=Math.round(Math.min(o[0],o[2])+o[4]),Q=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:H,offsetX:G,offsetY:Q}}f=H}f||(g=this.cachedCanvases.getCanvas("maskCanvas",i,a),ON(g.context,t));let v=se.transform(o,[1/i,0,0,-1/a,0,0]);v=se.transform(v,[1,0,0,1,0,-a]);const y=Cp.slice();se.axialAlignedBoundingBox([0,0,i,a],v,y);const[b,w,E,C]=y,A=Math.round(E-b)||1,_=Math.round(C-w)||1,M=this.cachedCanvases.getCanvas("fillCanvas",A,_),D=M.context,P=b,B=w;D.translate(-P,-B),D.transform(...v),f||(f=this._scaleImage(g.canvas,cl(D)),f=f.img,c&&s&&c.set(d,f)),D.imageSmoothingEnabled=NN(ci(D),t.interpolate),e1(D,f,0,0,f.width,f.height,0,0,i,a),D.globalCompositeOperation="source-in";const k=se.transform(cl(D),[1,0,0,1,-P,-B]);return D.fillStyle=s?r.getPattern(n,this,k,wa.FILL):r,D.fillRect(0,0,i,a),c&&!s&&(this.cachedCanvases.delete("fillCanvas"),c.set(d,M.canvas)),{canvas:M.canvas,offsetX:Math.round(P),offsetY:Math.round(B)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=rdt[t]}setLineJoin(t){this.ctx.lineJoin=sdt[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,n){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=n)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[n,i]of t)switch(n){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,t,n);this.suspendedCtx=this.ctx;const r=this.ctx=a.context;r.setTransform(this.suspendedCtx.getTransform()),zg(this.suspendedCtx,r),idt(r,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),zg(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,n,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,n,i,a){const r=a[0],s=a[1],o=a[2]-r,c=a[3]-s;o===0||c===0||(this.genericComposeSMask(n.context,i,o,c,n.subtype,n.backdrop,n.transferMap,r,s,n.offsetX,n.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,n,i,a,r,s,o,c,d,f,g){let v=t.canvas,y=c-f,b=d-g;if(s)if(y<0||b<0||y+i>v.width||b+a>v.height){const E=this.cachedCanvases.getCanvas("maskExtension",i,a),C=E.context;C.drawImage(v,-y,-b),C.globalCompositeOperation="destination-atop",C.fillStyle=s,C.fillRect(0,0,i,a),C.globalCompositeOperation="source-over",v=E.canvas,y=b=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(y,b,i,a),t.clip(E),t.globalCompositeOperation="destination-atop",t.fillStyle=s,t.fillRect(y,b,i,a),t.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),r==="Alpha"&&o?n.filter=this.filterFactory.addAlphaFilter(o):r==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(o));const w=new Path2D;w.rect(c,d,i,a),n.clip(w),n.globalCompositeOperation="destination-in",n.drawImage(v,y,b,i,a,c,d,i,a),n.restore()}save(){this.inSMaskMode&&zg(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&zg(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,n,i,a,r,s){this.ctx.transform(t,n,i,a,r,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,n,i){let[a]=n;if(!i){a||=n[0]=new Path2D,this[t](a);return}if(!(a instanceof Path2D)){const r=n[0]=new Path2D;for(let s=0,o=a.length;s<o;)switch(a[s++]){case Zb.moveTo:r.moveTo(a[s++],a[s++]);break;case Zb.lineTo:r.lineTo(a[s++],a[s++]);break;case Zb.curveTo:r.bezierCurveTo(a[s++],a[s++],a[s++],a[s++],a[s++],a[s++]);break;case Zb.closePath:r.closePath();break;default:Te(`Unrecognized drawing path operator: ${a[s-1]}`);break}a=r}se.axialAlignedBoundingBox(i,ci(this.ctx),this.current.minMax),this[t](a)}closePath(){this.ctx.closePath()}stroke(t,n=!0){const i=this.ctx,a=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&a?.getPattern){const r=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=a.getPattern(i,this,cl(i),wa.STROKE),r){const s=new Path2D;s.addPath(t,i.getTransform().invertSelf().multiplySelf(r)),t=s}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);n&&this.consumePath(t,this.current.getClippedPathBoundingBox(wa.STROKE,ci(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,n=!0){const i=this.ctx,a=this.current.fillColor,r=this.current.patternFill;let s=!1;if(r){const c=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.fillStyle=a.getPattern(i,this,cl(i),wa.FILL),c){const d=new Path2D;d.addPath(t,i.getTransform().invertSelf().multiplySelf(c)),t=d}s=!0}const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),s&&i.restore(),n&&this.consumePath(t,o)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=odt}eoClip(){this.pendingClip=PN}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,n=this.ctx;if(t===void 0)return;const i=new Path2D,a=n.getTransform().invertSelf();for(const{transform:r,x:s,y:o,fontSize:c,path:d}of t)i.addPath(d,new DOMMatrix(r).preMultiplySelf(a).translate(s,o).scale(c,-c));n.clip(i),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,n){const i=this.commonObjs.get(t),a=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(a.fontMatrix=i.fontMatrix||DC,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&Te("Invalid font matrix for font "+t),n<0?(n=-n,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;const r=i.loadedName||"sans-serif",s=i.systemFontInfo?.css||`"${r}", ${i.fallbackName}`;let o="normal";i.black?o="900":i.bold&&(o="bold");const c=i.italic?"italic":"normal";let d=n;n<CN?d=CN:n>TN&&(d=TN),this.current.fontSizeScale=n/d,this.ctx.font=`${c} ${o} ${d}px ${s}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,n){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,n){this.setLeading(-n),this.moveText(t,n)}setTextMatrix(t){const{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(t,n,i){const a=new Path2D;return a.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(n)),a}paintChar(t,n,i,a,r){const s=this.ctx,o=this.current,c=o.font,d=o.textRenderingMode,f=o.fontSize/o.fontSizeScale,g=d&ja.FILL_STROKE_MASK,v=!!(d&ja.ADD_TO_PATH_FLAG),y=o.patternFill&&!c.missingFile,b=o.patternStroke&&!c.missingFile;let w;if((c.disableFontFace||v||y||b)&&(w=c.getPathGenerator(this.commonObjs,t)),c.disableFontFace||y||b){s.save(),s.translate(n,i),s.scale(f,-f);let E;if((g===ja.FILL||g===ja.FILL_STROKE)&&(a?(E=s.getTransform(),s.setTransform(...a),s.fill(this.#n(w,E,a))):s.fill(w)),g===ja.STROKE||g===ja.FILL_STROKE)if(r){E||=s.getTransform(),s.setTransform(...r);const{a:C,b:A,c:_,d:M}=E,D=se.inverseTransform(r),P=se.transform([C,A,_,M,0,0],D);se.singularValueDecompose2dScale(P,Vr),s.lineWidth*=Math.max(Vr[0],Vr[1])/f,s.stroke(this.#n(w,E,r))}else s.lineWidth/=f,s.stroke(w);s.restore()}else(g===ja.FILL||g===ja.FILL_STROKE)&&s.fillText(t,n,i),(g===ja.STROKE||g===ja.FILL_STROKE)&&s.strokeText(t,n,i);v&&(this.pendingTextPaths||=[]).push({transform:ci(s),x:n,y:i,fontSize:f,path:w})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const n=t.getImageData(0,0,10,10).data;let i=!1;for(let a=3;a<n.length;a+=4)if(n[a]>0&&n[a]<255){i=!0;break}return Je(this,"isFontSubpixelAAEnabled",i)}showText(t){const n=this.current,i=n.font;if(i.isType3Font)return this.showType3Text(t);const a=n.fontSize;if(a===0)return;const r=this.ctx,s=n.fontSizeScale,o=n.charSpacing,c=n.wordSpacing,d=n.fontDirection,f=n.textHScale*d,g=t.length,v=i.vertical,y=v?1:-1,b=i.defaultVMetrics,w=a*n.fontMatrix[0],E=n.textRenderingMode===ja.FILL&&!i.disableFontFace&&!n.patternFill;r.save(),n.textMatrix&&r.transform(...n.textMatrix),r.translate(n.x,n.y+n.textRise),d>0?r.scale(f,-1):r.scale(f,1);let C,A;if(n.patternFill){r.save();const B=n.fillColor.getPattern(r,this,cl(r),wa.FILL);C=ci(r),r.restore(),r.fillStyle=B}if(n.patternStroke){r.save();const B=n.strokeColor.getPattern(r,this,cl(r),wa.STROKE);A=ci(r),r.restore(),r.strokeStyle=B}let _=n.lineWidth;const M=n.textMatrixScale;if(M===0||_===0){const B=n.textRenderingMode&ja.FILL_STROKE_MASK;(B===ja.STROKE||B===ja.FILL_STROKE)&&(_=this.getSinglePixelWidth())}else _/=M;if(s!==1&&(r.scale(s,s),_/=s),r.lineWidth=_,i.isInvalidPDFjsFont){const B=[];let k=0;for(const z of t)B.push(z.unicode),k+=z.width;r.fillText(B.join(""),0,0),n.x+=k*w*f,r.restore(),this.compose();return}let D=0,P;for(P=0;P<g;++P){const B=t[P];if(typeof B=="number"){D+=y*B*a/1e3;continue}let k=!1;const z=(B.isSpace?c:0)+o,H=B.fontChar,G=B.accent;let Q,at,Z=B.width;if(v){const tt=B.vmetric||b,I=-(B.vmetric?tt[1]:Z*.5)*w,V=tt[2]*w;Z=tt?-tt[0]:Z,Q=I/s,at=(D+V)/s}else Q=D/s,at=0;if(i.remeasure&&Z>0){const tt=r.measureText(H).width*1e3/a*s;if(Z<tt&&this.isFontSubpixelAAEnabled){const I=Z/tt;k=!0,r.save(),r.scale(I,1),Q/=I}else Z!==tt&&(Q+=(Z-tt)/2e3*a/s)}if(this.contentVisible&&(B.isInFont||i.missingFile)){if(E&&!G)r.fillText(H,Q,at);else if(this.paintChar(H,Q,at,C,A),G){const tt=Q+a*G.offset.x/s,I=at-a*G.offset.y/s;this.paintChar(G.fontChar,tt,I,C,A)}}const nt=v?Z*w-z*d:Z*w+z*d;D+=nt,k&&r.restore()}v?n.y-=D:n.x+=D*f,r.restore(),this.compose()}showType3Text(t){const n=this.ctx,i=this.current,a=i.font,r=i.fontSize,s=i.fontDirection,o=a.vertical?1:-1,c=i.charSpacing,d=i.wordSpacing,f=i.textHScale*s,g=i.fontMatrix||DC,v=t.length,y=i.textRenderingMode===ja.INVISIBLE;let b,w,E,C;if(!(y||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(f,s),b=0;b<v;++b){if(w=t[b],typeof w=="number"){C=o*w*r/1e3,this.ctx.translate(C,0),i.x+=C*f;continue}const A=(w.isSpace?d:0)+c,_=a.charProcOperatorList[w.operatorListId];_?this.contentVisible&&(this.save(),n.scale(r,r),n.transform(...g),this.executeOperatorList(_),this.restore()):Te(`Type3 character "${w.operatorListId}" is not available.`);const M=[w.width,0];se.applyTransform(M,g),E=M[0]*r+A,n.translate(E,0),i.x+=E*f}n.restore()}}setCharWidth(t,n){}setCharWidthAndBounds(t,n,i,a,r,s){const o=new Path2D;o.rect(i,a,r-i,s-a),this.ctx.clip(o),this.endPath()}getColorN_Pattern(t){let n;if(t[0]==="TilingPattern"){const i=this.baseTransform||ci(this.ctx),a={createCanvasGraphics:r=>new Dp(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new u5(t,this.ctx,a,i)}else n=this._getPattern(t[1],t[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,n=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=tdt(this.getObject(t)),this.cachedPatterns.set(t,i)),n&&(i.matrix=n),i}shadingFill(t){if(!this.contentVisible)return;const n=this.ctx;this.save();const i=this._getPattern(t);n.fillStyle=i.getPattern(n,this,cl(n),wa.SHADING);const a=cl(n);if(a){const{width:r,height:s}=n.canvas,o=Cp.slice();se.axialAlignedBoundingBox([0,0,r,s],a,o);const[c,d,f,g]=o;this.ctx.fillRect(c,d,f-c,g-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Un("Should not call beginInlineImage")}beginImageData(){Un("Should not call beginImageData")}paintFormXObjectBegin(t,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=ci(this.ctx),n)){se.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[i,a,r,s]=n,o=new Path2D;o.rect(i,a,r-i,s-a),this.ctx.clip(o),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||u2("TODO: Support non-isolated groups."),t.knockout&&Te("Knockout groups not supported.");const i=ci(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let a=Cp.slice();se.axialAlignedBoundingBox(t.bbox,ci(n),a);const r=[0,0,n.canvas.width,n.canvas.height];a=se.intersect(a,r)||[0,0,0,0];const s=Math.floor(a[0]),o=Math.floor(a[1]),c=Math.max(Math.ceil(a[2])-s,1),d=Math.max(Math.ceil(a[3])-o,1);this.current.startNewPathAndClipBox([0,0,c,d]);let f="groupAt"+this.groupLevel;t.smask&&(f+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(f,c,d),v=g.context;v.translate(-s,-o),v.transform(...i);let y=new Path2D;const[b,w,E,C]=t.bbox;if(y.rect(b,w,E-b,C-w),t.matrix){const A=new Path2D;A.addPath(y,new DOMMatrix(t.matrix)),y=A}v.clip(y),t.smask?this.smaskStack.push({canvas:g.canvas,context:v,offsetX:s,offsetY:o,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(s,o),n.save()),zg(n,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const a=ci(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...a);const r=Cp.slice();se.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],a,r),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(t,n,i,a,r){if(this.#t(),n1(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const s=n[2]-n[0],o=n[3]-n[1];if(r&&this.annotationCanvasMap){i=i.slice(),i[4]-=n[0],i[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=s,n[3]=o,se.singularValueDecompose2dScale(ci(this.ctx),Vr);const{viewportScale:c}=this,d=Math.ceil(s*this.outputScaleX*c),f=Math.ceil(o*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:g,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(Vr[0],0,0,-Vr[1],0,o*Vr[1]),n1(this.ctx)}else{n1(this.ctx),this.endPath();const c=new Path2D;c.rect(n[0],n[1],s,o),this.ctx.clip(c)}}this.current=new MN(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...a)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const n=t.count;t=this.getObject(t.data,t),t.count=n;const i=this.ctx,a=this._createMaskCanvas(t),r=a.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(r,a.offsetX,a.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,n,i=0,a=0,r,s){if(!this.contentVisible)return;t=this.getObject(t.data,t);const o=this.ctx;o.save();const c=ci(o);o.transform(n,i,a,r,0,0);const d=this._createMaskCanvas(t);o.setTransform(1,0,0,1,d.offsetX-c[4],d.offsetY-c[5]);for(let f=0,g=s.length;f<g;f+=2){const v=se.transform(c,[n,i,a,r,s[f],s[f+1]]);o.drawImage(d.canvas,v[4],v[5])}o.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,a=this.current.patternFill;for(const r of t){const{data:s,width:o,height:c,transform:d}=r,f=this.cachedCanvases.getCanvas("maskCanvas",o,c),g=f.context;g.save();const v=this.getObject(s,r);ON(g,v),g.globalCompositeOperation="source-in",g.fillStyle=a?i.getPattern(g,this,cl(n),wa.FILL):i,g.fillRect(0,0,o,c),g.restore(),n.save(),n.transform(...d),n.scale(1,-1),e1(n,f.canvas,0,0,o,c,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const n=this.getObject(t);if(!n){Te("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(t,n,i,a){if(!this.contentVisible)return;const r=this.getObject(t);if(!r){Te("Dependent image isn't ready yet");return}const s=r.width,o=r.height,c=[];for(let d=0,f=a.length;d<f;d+=2)c.push({transform:[n,0,0,i,a[d],a[d+1]],x:0,y:0,w:s,h:o});this.paintInlineImageXObjectGroup(r,c)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:n,width:i,height:a}=t,r=this.cachedCanvases.getCanvas("inlineImage",i,a),s=r.context;return s.filter=this.current.transferMaps,s.drawImage(n,0,0),s.filter="none",r.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const n=t.width,i=t.height,a=this.ctx;this.save();const{filter:r}=a;r!=="none"&&r!==""&&(a.filter="none"),a.scale(1/n,-1/i);let s;if(t.bitmap)s=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)s=t;else{const d=this.cachedCanvases.getCanvas("inlineImage",n,i).context;DN(d,t),s=this.applyTransferMapsToCanvas(d)}const o=this._scaleImage(s,cl(a));a.imageSmoothingEnabled=NN(ci(a),t.interpolate),e1(a,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,n,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,n){if(!this.contentVisible)return;const i=this.ctx;let a;if(t.bitmap)a=t.bitmap;else{const r=t.width,s=t.height,c=this.cachedCanvases.getCanvas("inlineImage",r,s).context;DN(c,t),a=this.applyTransferMapsToCanvas(c)}for(const r of n)i.save(),i.transform(...r.transform),i.scale(1,-1),e1(i,a,r.x,r.y,r.w,r.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,n){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,n){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,n){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const a=this.ctx;this.pendingClip&&(i||(this.pendingClip===PN?a.clip(t,"evenodd"):a.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=ci(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const n=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),a=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,a)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:n,b:i,c:a,d:r}=this.ctx.getTransform();let s,o;if(i===0&&a===0){const c=Math.abs(n),d=Math.abs(r);if(c===d)if(t===0)s=o=1/c;else{const f=c*t;s=o=f<1?1/f:1}else if(t===0)s=1/c,o=1/d;else{const f=c*t,g=d*t;s=f<1?1/f:1,o=g<1?1/g:1}}else{const c=Math.abs(n*r-i*a),d=Math.hypot(n,i),f=Math.hypot(a,r);if(t===0)s=f/c,o=d/c;else{const g=t*c;s=f>g?f/g:1,o=d>g?d/g:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(t,n){const{ctx:i,current:{lineWidth:a}}=this,[r,s]=this.getScaleForStroking();if(r===s){i.lineWidth=(a||1)*r,i.stroke(t);return}const o=i.getLineDash();n&&i.save(),i.scale(r,s),tA.a=1/r,tA.d=1/s;const c=new Path2D;if(c.addPath(t,tA),o.length>0){const d=Math.max(r,s);i.setLineDash(o.map(f=>f/d)),i.lineDashOffset/=d}i.lineWidth=a||1,i.stroke(c),n&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const e in tx)Dp.prototype[e]!==void 0&&(Dp.prototype[tx[e]]=Dp.prototype[e]);class Op{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class ldt{#t;#e;constructor({parsedData:t,rawData:n}){this.#t=t,this.#e=n}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const gp=Symbol("INTERNAL");class cdt{#t=!1;#e=!1;#n=!1;#i=!0;constructor(t,{name:n,intent:i,usage:a,rbGroups:r}){this.#t=!!(t&qr.DISPLAY),this.#e=!!(t&qr.PRINT),this.name=n,this.intent=i,this.usage=a,this.rbGroups=r}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;const{print:t,view:n}=this.usage;return this.#t?n?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,n,i=!1){t!==gp&&Un("Internal method `_setVisible` called."),this.#n=i,this.#i=n}}class udt{#t=null;#e=new Map;#n=null;#i=null;constructor(t,n=qr.DISPLAY){if(this.renderingIntent=n,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#i=t.order;for(const i of t.groups)this.#e.set(i.id,new cdt(n,i));if(t.baseState==="OFF")for(const i of this.#e.values())i._setVisible(gp,!1);for(const i of t.on)this.#e.get(i)._setVisible(gp,!0);for(const i of t.off)this.#e.get(i)._setVisible(gp,!1);this.#n=this.getHash()}}#r(t){const n=t.length;if(n<2)return!0;const i=t[0];for(let a=1;a<n;a++){const r=t[a];let s;if(Array.isArray(r))s=this.#r(r);else if(this.#e.has(r))s=this.#e.get(r).visible;else return Te(`Optional content group not found: ${r}`),!0;switch(i){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return i==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return u2("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(Te(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#r(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const n of t.ids){if(!this.#e.has(n))return Te(`Optional content group not found: ${n}`),!0;if(this.#e.get(n).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const n of t.ids){if(!this.#e.has(n))return Te(`Optional content group not found: ${n}`),!0;if(!this.#e.get(n).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const n of t.ids){if(!this.#e.has(n))return Te(`Optional content group not found: ${n}`),!0;if(!this.#e.get(n).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const n of t.ids){if(!this.#e.has(n))return Te(`Optional content group not found: ${n}`),!0;if(this.#e.get(n).visible)return!1}return!0}return Te(`Unknown optional content policy ${t.policy}.`),!0}return Te(`Unknown group type ${t.type}.`),!0}setVisibility(t,n=!0,i=!0){const a=this.#e.get(t);if(!a){Te(`Optional content group not found: ${t}`);return}if(i&&n&&a.rbGroups.length)for(const r of a.rbGroups)for(const s of r)s!==t&&this.#e.get(s)?._setVisible(gp,!1,!0);a._setVisible(gp,!!n,!0),this.#t=null}setOCGState({state:t,preserveRB:n}){let i;for(const a of t){switch(a){case"ON":case"OFF":case"Toggle":i=a;continue}const r=this.#e.get(a);if(r)switch(i){case"ON":this.setVisibility(a,!0,n);break;case"OFF":this.setVisibility(a,!1,n);break;case"Toggle":this.setVisibility(a,!r.visible,n);break}}this.#t=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#e.size?this.#i?this.#i.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new HF;for(const[n,i]of this.#e)t.update(`${n}:${i.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class ddt{constructor(t,{disableRange:n=!1,disableStream:i=!1}){zi(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:r,progressiveDone:s,contentDispositionFilename:o}=t;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,r?.length>0){const c=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((c,d)=>{this._onReceiveData({begin:c,chunk:d})}),t.addProgressListener((c,d)=>{this._onProgress({loaded:c,total:d})}),t.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:n}){const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const a=this._rangeReaders.some(function(r){return r._begin!==t?!1:(r._enqueue(i),!0)});zi(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const n=this._rangeReaders.indexOf(t);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){zi(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new hdt(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,n){if(n<=this._progressiveDataLength)return null;const i=new fdt(this,t,n);return this._pdfDataRangeTransport.requestDataRange(t,n),this._rangeReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class hdt{constructor(t,n,i=!1,a=null){this._stream=t,this._done=i||!1,this._filename=i5(a)?a:null,this._queuedChunks=n||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class fdt{constructor(t,n,i){this._stream=t,this._begin=n,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function pdt(e){let t=!0,n=i("filename\\*","i").exec(e);if(n){n=n[1];let f=o(n);return f=unescape(f),f=c(f),f=d(f),r(f)}if(n=s(e),n){const f=d(n);return r(f)}if(n=i("filename","i").exec(e),n){n=n[1];let f=o(n);return f=d(f),r(f)}function i(f,g){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function a(f,g){if(f){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const v=new TextDecoder(f,{fatal:!0}),y=Zv(g);g=v.decode(y),t=!1}catch{}}return g}function r(f){return t&&/[\x80-\xff]/.test(f)&&(f=a("utf-8",f),t&&(f=a("iso-8859-1",f))),f}function s(f){const g=[];let v;const y=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=y.exec(f))!==null;){let[,w,E,C]=v;if(w=parseInt(w,10),w in g){if(w===0)break;continue}g[w]=[E,C]}const b=[];for(let w=0;w<g.length&&w in g;++w){let[E,C]=g[w];C=o(C),E&&(C=unescape(C),w===0&&(C=c(C))),b.push(C)}return b.join("")}function o(f){if(f.startsWith('"')){const g=f.slice(1).split('\\"');for(let v=0;v<g.length;++v){const y=g[v].indexOf('"');y!==-1&&(g[v]=g[v].slice(0,y),g.length=v+1),g[v]=g[v].replaceAll(/\\(.)/g,"$1")}f=g.join('"')}return f}function c(f){const g=f.indexOf("'");if(g===-1)return f;const v=f.slice(0,g),b=f.slice(g+1).replace(/^[^']*'/,"");return a(v,b)}function d(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,v,y,b){if(y==="q"||y==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,E){return String.fromCharCode(parseInt(E,16))}),a(v,b);try{b=atob(b)}catch{}return a(v,b)})}return""}function XF(e,t){const n=new Headers;if(!e||!t||typeof t!="object")return n;for(const i in t){const a=t[i];a!==void 0&&n.append(i,a)}return n}function f2(e){return URL.parse(e)?.origin??null}function WF({responseHeaders:e,isHttp:t,rangeChunkSize:n,disableRange:i}){const a={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(e.get("Content-Length"),10);return!Number.isInteger(r)||(a.suggestedLength=r,r<=2*n)||i||!t||e.get("Accept-Ranges")!=="bytes"||(e.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function QF(e){const t=e.get("Content-Disposition");if(t){let n=pdt(t);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(i5(n))return n}return null}function ny(e,t){return new ex(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e,e===404||e===0&&t.startsWith("file:"))}function ZF(e){return e===200||e===206}function JF(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function tB(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(Te(`getArrayBuffer - unexpected data format: ${e}`),new Uint8Array(e).buffer)}class mdt{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=XF(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return zi(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new gdt(this),this._fullRequestReader}getRangeReader(t,n){if(n<=this._progressiveDataLength)return null;const i=new vdt(this,t,n);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class gdt{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const n=t.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const i=new Headers(t.headers),a=n.url;fetch(a,JF(i,this._withCredentials,this._abortController)).then(r=>{if(t._responseOrigin=f2(r.url),!ZF(r.status))throw ny(r.status,a);this._reader=r.body.getReader(),this._headersCapability.resolve();const s=r.headers,{allowRangeRequests:o,suggestedLength:c}=WF({responseHeaders:s,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=c||this._contentLength,this._filename=QF(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Iu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:tB(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class vdt{constructor(t,n,i){this._stream=t,this._reader=null,this._loaded=0;const a=t.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const r=new Headers(t.headers);r.append("Range",`bytes=${n}-${i-1}`);const s=a.url;fetch(s,JF(r,this._withCredentials,this._abortController)).then(o=>{const c=f2(o.url);if(c!==t._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${t._responseOrigin}".`);if(!ZF(o.status))throw ny(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:tB(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const eA=200,nA=206;function ydt(e){const t=e.response;return typeof t!="string"?t:Zv(t).buffer}class bdt{_responseOrigin=null;constructor({url:t,httpHeaders:n,withCredentials:i}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=XF(this.isHttp,n),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const n=new XMLHttpRequest,i=this.currXhrId++,a=this.pendingRequests[i]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[r,s]of this.headers)n.setRequestHeader(r,s);return this.isHttp&&"begin"in t&&"end"in t?(n.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),a.expectedStatus=nA):a.expectedStatus=eA,n.responseType="arraybuffer",zi(t.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{t.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,i),n.onprogress=this.onProgress.bind(this,i),a.onHeadersReceived=t.onHeadersReceived,a.onDone=t.onDone,a.onError=t.onError,a.onProgress=t.onProgress,n.send(null),i}onProgress(t,n){const i=this.pendingRequests[t];i&&i.onProgress?.(n)}onStateChange(t,n){const i=this.pendingRequests[t];if(!i)return;const a=i.xhr;if(a.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),a.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],a.status===0&&this.isHttp){i.onError(a.status);return}const r=a.status||eA;if(!(r===eA&&i.expectedStatus===nA)&&r!==i.expectedStatus){i.onError(a.status);return}const o=ydt(a);if(r===nA){const c=a.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);d?i.onDone({begin:parseInt(d[1],10),chunk:o}):(Te('Missing or invalid "Content-Range" header.'),i.onError(0))}else o?i.onDone({begin:0,chunk:o}):i.onError(a.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const n=this.pendingRequests[t].xhr;delete this.pendingRequests[t],n.abort()}}class xdt{constructor(t){this._source=t,this._manager=new bdt(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const n=this._rangeRequestReaders.indexOf(t);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return zi(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Sdt(this._manager,this._source),this._fullRequestReader}getRangeReader(t,n){const i=new wdt(this._manager,t,n);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Sdt{constructor(t,n){this._manager=t,this._url=n.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,n=this._manager.getRequestXhr(t);this._manager._responseOrigin=f2(n.responseURL);const i=n.getAllResponseHeaders(),a=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[c,...d]=o.split(": ");return[c,d.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:s}=WF({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=QF(a),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=ny(t,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class wdt{constructor(t,n,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:n,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=f2(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const n=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=ny(t,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const _dt=/^[a-z][a-z0-9\-+.]+:/i;function Edt(e){if(_dt.test(e))return new URL(e);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(e))}class Adt{constructor(t){this.source=t,this.url=Edt(t.url),zi(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return zi(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Cdt(this),this._fullRequestReader}getRangeReader(t,n){if(n<=this._progressiveDataLength)return null;const i=new Tdt(this,t,n);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Cdt{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=t.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=ny(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Iu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Tdt{constructor(t,n,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=t.source;this._isStreamingSupported=!a.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:n,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Ug=Symbol("INITIAL_DATA");class eB{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Ug}}get(t,n=null){if(n){const a=this.#e(t);return a.promise.then(()=>n(a.data)),null}const i=this.#t[t];if(!i||i.data===Ug)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const n=this.#t[t];return!!n&&n.data!==Ug}delete(t){const n=this.#t[t];return!n||n.data===Ug?!1:(delete this.#t[t],!0)}resolve(t,n=null){const i=this.#e(t);i.data=n,i.resolve()}clear(){for(const t in this.#t){const{data:n}=this.#t[t];n?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:n}=this.#t[t];n!==Ug&&(yield[t,n])}}}const Rdt=1e5,kN=30;class er{#t=Promise.withResolvers();#e=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#r=null;#a=null;#o=0;#s=0;#d=null;#l=null;#h=0;#u=0;#f=Object.create(null);#p=[];#m=null;#c=[];#g=new WeakMap;#v=null;static#y=new Map;static#b=new Map;static#x=new WeakMap;static#w=null;static#_=new Set;constructor({textContentSource:t,container:n,viewport:i}){if(t instanceof ReadableStream)this.#m=t;else if(typeof t=="object")this.#m=new ReadableStream({start(c){c.enqueue(t),c.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=n,this.#u=i.scale*_l.pixelRatio,this.#h=i.rotation,this.#a={div:null,properties:null,ctx:null};const{pageWidth:a,pageHeight:r,pageX:s,pageY:o}=i.rawDims;this.#v=[1,0,0,-1,-s,o+r],this.#s=a,this.#o=r,er.#O(),bh(n,i),this.#t.promise.finally(()=>{er.#_.delete(this),this.#a=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:n}=Ea.platform;return Je(this,"fontFamilyMap",new Map([["sans-serif",`${t&&n?"Calibri, ":""}sans-serif`],["monospace",`${t&&n?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#d.read().then(({value:n,done:i})=>{if(i){this.#t.resolve();return}this.#r??=n.lang,Object.assign(this.#f,n.styles),this.#C(n.items),t()},this.#t.reject)};return this.#d=this.#m.getReader(),er.#_.add(this),t(),this.#t.promise}update({viewport:t,onBefore:n=null}){const i=t.scale*_l.pixelRatio,a=t.rotation;if(a!==this.#h&&(n?.(),this.#h=a,bh(this.#l,{rotation:a})),i!==this.#u){n?.(),this.#u=i;const r={div:null,properties:null,ctx:er.#R(this.#r)};for(const s of this.#c)r.properties=this.#g.get(s),r.div=s,this.#E(r)}}cancel(){const t=new Iu("TextLayer task cancelled.");this.#d?.cancel(t).catch(()=>{}),this.#d=null,this.#t.reject(t)}get textDivs(){return this.#c}get textContentItemsStr(){return this.#p}#C(t){if(this.#n)return;this.#a.ctx??=er.#R(this.#r);const n=this.#c,i=this.#p;for(const a of t){if(n.length>Rdt){Te("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const r=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),a.id!==null&&this.#e.setAttribute("id",`${a.id}`),r.append(this.#e)}else a.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}i.push(a.str),this.#M(a)}}#M(t){const n=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#c.push(n);const a=se.transform(this.#v,t.transform);let r=Math.atan2(a[1],a[0]);const s=this.#f[t.fontName];s.vertical&&(r+=Math.PI/2);let o=this.#i&&s.fontSubstitution||s.fontFamily;o=er.fontFamilyMap.get(o)||o;const c=Math.hypot(a[2],a[3]),d=c*er.#N(o,s,this.#r);let f,g;r===0?(f=a[4],g=a[5]-d):(f=a[4]+d*Math.sin(r),g=a[5]-d*Math.cos(r));const v="calc(var(--total-scale-factor) *",y=n.style;this.#e===this.#l?(y.left=`${(100*f/this.#s).toFixed(2)}%`,y.top=`${(100*g/this.#o).toFixed(2)}%`):(y.left=`${v}${f.toFixed(2)}px)`,y.top=`${v}${g.toFixed(2)}px)`),y.fontSize=`${v}${(er.#w*c).toFixed(2)}px)`,y.fontFamily=o,i.fontSize=c,n.setAttribute("role","presentation"),n.textContent=t.str,n.dir=t.dir,this.#i&&(n.dataset.fontName=s.fontSubstitutionLoadedName||t.fontName),r!==0&&(i.angle=r*(180/Math.PI));let b=!1;if(t.str.length>1)b=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const w=Math.abs(t.transform[0]),E=Math.abs(t.transform[3]);w!==E&&Math.max(w,E)/Math.min(w,E)>1.5&&(b=!0)}if(b&&(i.canvasWidth=s.vertical?t.height:t.width),this.#g.set(n,i),this.#a.div=n,this.#a.properties=i,this.#E(this.#a),i.hasText&&this.#e.append(n),i.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),this.#e.append(w)}}#E(t){const{div:n,properties:i,ctx:a}=t,{style:r}=n;let s="";if(er.#w>1&&(s=`scale(${1/er.#w})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:o}=r,{canvasWidth:c,fontSize:d}=i;er.#T(a,d*this.#u,o);const{width:f}=a.measureText(n.textContent);f>0&&(s=`scaleX(${c*this.#u/f}) ${s}`)}i.angle!==0&&(s=`rotate(${i.angle}deg) ${s}`),s.length>0&&(r.transform=s)}static cleanup(){if(!(this.#_.size>0)){this.#y.clear();for(const{canvas:t}of this.#b.values())t.remove();this.#b.clear()}}static#R(t=null){let n=this.#b.get(t||="");if(!n){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),n=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(t,n),this.#x.set(n,{size:0,family:""})}return n}static#T(t,n,i){const a=this.#x.get(t);n===a.size&&i===a.family||(t.font=`${n}px ${i}`,a.size=n,a.family=i)}static#O(){if(this.#w!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#w=t.getBoundingClientRect().height,t.remove()}static#N(t,n,i){const a=this.#y.get(t);if(a)return a;const r=this.#R(i);r.canvas.width=r.canvas.height=kN,this.#T(r,kN,t);const s=r.measureText(""),o=s.fontBoundingBoxAscent,c=Math.abs(s.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let d=.8;return o?d=o/(o+c):(Ea.platform.isFirefox&&Te("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?d=n.ascent:n.descent&&(d=1+n.descent)),this.#y.set(t,d),d}}class wv{static textContent(t){const n=[],i={items:n,styles:Object.create(null)};function a(r){if(!r)return;let s=null;const o=r.name;if(o==="#text")s=r.value;else if(wv.shouldBuildText(o))r?.attributes?.textContent?s=r.attributes.textContent:r.value&&(s=r.value);else return;if(s!==null&&n.push({str:s}),!!r.children)for(const c of r.children)a(c)}return a(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const Mdt=100;function nB(e={}){typeof e=="string"||e instanceof URL?e={url:e}:(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const t=new d5,{docId:n}=t,i=e.url?But(e.url):null,a=e.data?Iut(e.data):null,r=e.httpHeaders||null,s=e.withCredentials===!0,o=e.password??null,c=e.range instanceof iB?e.range:null,d=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:2**16;let f=e.worker instanceof _v?e.worker:null;const g=e.verbosity,v=typeof e.docBaseUrl=="string"&&!d2(e.docBaseUrl)?e.docBaseUrl:null,y=Jb(e.cMapUrl),b=e.cMapPacked!==!1,w=e.CMapReaderFactory||(ir?Yut:wN),E=Jb(e.iccUrl),C=Jb(e.standardFontDataUrl),A=e.StandardFontDataFactory||(ir?Kut:_N),_=Jb(e.wasmUrl),M=e.WasmFactory||(ir?Xut:EN),D=e.stopAtErrors!==!0,P=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,B=e.isEvalSupported!==!1,k=typeof e.isOffscreenCanvasSupported=="boolean"?e.isOffscreenCanvasSupported:!ir,z=typeof e.isImageDecoderSupported=="boolean"?e.isImageDecoderSupported:!ir&&(Ea.platform.isFirefox||!globalThis.chrome),H=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,G=typeof e.disableFontFace=="boolean"?e.disableFontFace:ir,Q=e.fontExtraProperties===!0,at=e.enableXfa===!0,Z=e.ownerDocument||globalThis.document,nt=e.disableRange===!0,tt=e.disableStream===!0,I=e.disableAutoFetch===!0,V=e.pdfBug===!0,X=e.CanvasFactory||(ir?$ut:Gut),U=e.FilterFactory||(ir?Vut:qut),$=e.enableHWA===!0,it=e.useWasm!==!1,K=c?c.length:e.length??NaN,ct=typeof e.useSystemFonts=="boolean"?e.useSystemFonts:!ir&&!G,pt=typeof e.useWorkerFetch=="boolean"?e.useWorkerFetch:!!(w===wN&&A===_N&&M===EN&&y&&C&&_&&q0(y,document.baseURI)&&q0(C,document.baseURI)&&q0(_,document.baseURI)),rt=null;gut(g);const J={canvasFactory:new X({ownerDocument:Z,enableHWA:$}),filterFactory:new U({docId:n,ownerDocument:Z}),cMapReaderFactory:pt?null:new w({baseUrl:y,isCompressed:b}),standardFontDataFactory:pt?null:new A({baseUrl:C}),wasmFactory:pt?null:new M({baseUrl:_})};f||(f=_v.create({verbosity:g,port:Op.workerPort}),t._worker=f);const lt={docId:n,apiVersion:"5.3.93",data:a,password:o,disableAutoFetch:I,rangeChunkSize:d,length:K,docBaseUrl:v,enableXfa:at,evaluatorOptions:{maxImageSize:P,disableFontFace:G,ignoreErrors:D,isEvalSupported:B,isOffscreenCanvasSupported:k,isImageDecoderSupported:z,canvasMaxAreaInBytes:H,fontExtraProperties:Q,useSystemFonts:ct,useWasm:it,useWorkerFetch:pt,cMapUrl:y,iccUrl:E,standardFontDataUrl:C,wasmUrl:_}},St={ownerDocument:Z,pdfBug:V,styleElement:rt,loadingParams:{disableAutoFetch:I,enableXfa:at}};return f.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Tt=f.messageHandler.sendWithPromise("GetDocRequest",lt,a?[a.buffer]:null);let Dt;if(c)Dt=new ddt(c,{disableRange:nt,disableStream:tt});else if(!a){if(!i)throw new Error("getDocument - no `url` parameter provided.");const kt=q0(i)?mdt:ir?Adt:xdt;Dt=new kt({url:i,length:K,httpHeaders:r,withCredentials:s,rangeChunkSize:d,disableRange:nt,disableStream:tt})}return Tt.then(kt=>{if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const zt=new V0(n,kt,f.port),Jt=new Ndt(zt,t,Dt,St,J);t._transport=Jt,zt.send("Ready",null)})}).catch(t._capability.reject),t}class d5{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${d5.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class iB{#t=Promise.withResolvers();#e=[];#n=[];#i=[];#r=[];constructor(t,n,i=!1,a=null){this.length=t,this.initialData=n,this.progressiveDone=i,this.contentDispositionFilename=a}addRangeListener(t){this.#r.push(t)}addProgressListener(t){this.#i.push(t)}addProgressiveReadListener(t){this.#n.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,n){for(const i of this.#r)i(t,n)}onDataProgress(t,n){this.#t.promise.then(()=>{for(const i of this.#i)i(t,n)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const n of this.#n)n(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,n){Un("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Ddt{constructor(t,n){this._pdfInfo=t,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Je(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class Odt{#t=!1;constructor(t,n,i,a=!1){this._pageIndex=t,this._pageInfo=n,this._transport=i,this._stats=a?new bN:null,this._pdfBug=a,this.commonObjs=i.commonObjs,this.objs=new eB,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:n=this.rotate,offsetX:i=0,offsetY:a=0,dontFlip:r=!1}={}){return new ty({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:n,offsetX:i,offsetY:a,dontFlip:r})}getAnnotations({intent:t="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Je(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:n,intent:i="display",annotationMode:a=Au.ENABLE,transform:r=null,background:s=null,optionalContentConfigPromise:o=null,annotationCanvasMap:c=null,pageColors:d=null,printAnnotationStorage:f=null,isEditing:g=!1}){this._stats?.time("Overall");const v=this._transport.getRenderingIntent(i,a,f,g),{renderingIntent:y,cacheKey:b}=v;this.#t=!1,o||=this._transport.getOptionalContentConfig(y);let w=this._intentStates.get(b);w||(w=Object.create(null),this._intentStates.set(b,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const E=!!(y&qr.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(v));const C=M=>{w.renderTasks.delete(A),E&&(this.#t=!0),this.#e(),M?(A.capability.reject(M),this._abortOperatorList({intentState:w,reason:M instanceof Error?M:new Error(M)})):A.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},A=new Tp({callback:C,params:{canvasContext:t,viewport:n,transform:r,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:d});(w.renderTasks||=new Set).add(A);const _=A.task;return Promise.all([w.displayReadyCapability.promise,o]).then(([M,D])=>{if(this.destroyed){C();return}if(this._stats?.time("Rendering"),!(D.renderingIntent&y))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");A.initializeGraphics({transparency:M,optionalContentConfig:D}),A.operatorListChanged()}).catch(C),_}getOperatorList({intent:t="display",annotationMode:n=Au.ENABLE,printAnnotationStorage:i=null,isEditing:a=!1}={}){function r(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(c))}const s=this._transport.getRenderingIntent(t,n,i,a,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let c;return o.opListReadCapability||(c=Object.create(null),c.operatorListChanged=r,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||=new Set).add(c),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:n===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>wv.textContent(i));const n=this.streamTextContent(t);return new Promise(function(i,a){function r(){s.read().then(function({value:c,done:d}){if(d){i(o);return}o.lang??=c.lang,Object.assign(o.styles,c.styles),o.items.push(...c.items),r()},a)}const s=n.getReader(),o={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const i of n.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const n=this.#e();return t&&n&&(this._stats&&=new bN),n}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,n){const i=this._intentStates.get(n);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(t))}_renderPageChunk(t,n){for(let i=0,a=t.length;i<a;i++)n.operatorList.fnArray.push(t.fnArray[i]),n.operatorList.argsArray.push(t.argsArray[i]);n.operatorList.lastChunk=t.lastChunk,n.operatorList.separateAnnots=t.separateAnnots;for(const i of n.renderTasks)i.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:n,annotationStorageSerializable:i,modifiedIds:a}){const{map:r,transfer:s}=i,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:r,modifiedIds:a},s).getReader(),d=this._intentStates.get(n);d.streamReader=c;const f=()=>{c.read().then(({value:g,done:v})=>{if(v){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,d),f())},g=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const v of d.renderTasks)v.operatorListChanged();this.#e()}if(d.displayReadyCapability)d.displayReadyCapability.reject(g);else if(d.opListReadCapability)d.opListReadCapability.reject(g);else throw g}})};f()}_abortOperatorList({intentState:t,reason:n,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(n instanceof n5){let a=Mdt;n.extraDelay>0&&n.extraDelay<1e3&&(a+=n.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})},a);return}}if(t.streamReader.cancel(new Iu(n.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[a,r]of this._intentStates)if(r===t){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}var Cu,uo,vc,eh,yx,nh,ih,or,_1,aB,rB,$0,Np,E1;const ii=class ii{constructor({name:t=null,port:n=null,verbosity:i=vut()}={}){sl(this,or);sl(this,Cu,Promise.withResolvers());sl(this,uo,null);sl(this,vc,null);sl(this,eh,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,n){if(ni(ii,ih).has(n))throw new Error("Cannot use more than one PDFWorker per port.");ni(ii,ih).set(n,this),ol(this,or,aB).call(this,n)}else ol(this,or,rB).call(this)}get promise(){return ni(this,Cu).promise}get port(){return ni(this,vc)}get messageHandler(){return ni(this,uo)}destroy(){this.destroyed=!0,ni(this,eh)?.terminate(),br(this,eh,null),ni(ii,ih).delete(ni(this,vc)),br(this,vc,null),ni(this,uo)?.destroy(),br(this,uo,null)}static create(t){const n=ni(this,ih).get(t?.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new ii(t)}static get workerSrc(){if(Op.workerSrc)return Op.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Je(this,"_setupFakeWorkerGlobal",(async()=>ni(this,Np,E1)?ni(this,Np,E1):(await import(this.workerSrc)).WorkerMessageHandler)())}};Cu=new WeakMap,uo=new WeakMap,vc=new WeakMap,eh=new WeakMap,yx=new WeakMap,nh=new WeakMap,ih=new WeakMap,or=new WeakSet,_1=function(){ni(this,Cu).resolve(),ni(this,uo).send("configure",{verbosity:this.verbosity})},aB=function(t){br(this,vc,t),br(this,uo,new V0("main","worker",t)),ni(this,uo).on("ready",()=>{}),ol(this,or,_1).call(this)},rB=function(){if(ni(ii,nh)||ni(ii,Np,E1)){ol(this,or,$0).call(this);return}let{workerSrc:t}=ii;try{ii._isSameOrigin(window.location,t)||(t=ii._createCDNWrapper(new URL(t,window.location).href));const n=new Worker(t,{type:"module"}),i=new V0("main","worker",n),a=()=>{r.abort(),i.destroy(),n.terminate(),this.destroyed?ni(this,Cu).reject(new Error("Worker was destroyed")):ol(this,or,$0).call(this)},r=new AbortController;n.addEventListener("error",()=>{ni(this,eh)||a()},{signal:r.signal}),i.on("test",o=>{if(r.abort(),this.destroyed||!o){a();return}br(this,uo,i),br(this,vc,n),br(this,eh,n),ol(this,or,_1).call(this)}),i.on("ready",o=>{if(r.abort(),this.destroyed){a();return}try{s()}catch{ol(this,or,$0).call(this)}});const s=()=>{const o=new Uint8Array;i.send("test",o,[o.buffer])};s();return}catch{u2("The worker has been disabled.")}ol(this,or,$0).call(this)},$0=function(){ni(ii,nh)||(Te("Setting up fake worker."),br(ii,nh,!0)),ii._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){ni(this,Cu).reject(new Error("Worker was destroyed"));return}const n=new Hut;br(this,vc,n);const i=`fake${T4(ii,yx)._++}`,a=new V0(i+"_worker",i,n);t.setup(a,n),br(this,uo,new V0(i,i+"_worker",n)),ol(this,or,_1).call(this)}).catch(t=>{ni(this,Cu).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Np=new WeakSet,E1=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},sl(ii,Np),sl(ii,yx,0),sl(ii,nh,!1),sl(ii,ih,new WeakMap),ir&&(br(ii,nh,!0),Op.workerSrc||="./pdf.worker.mjs"),ii._isSameOrigin=(t,n)=>{const i=URL.parse(t);if(!i?.origin||i.origin==="null")return!1;const a=new URL(n,i);return i.origin===a.origin},ii._createCDNWrapper=t=>{const n=`await import("${t}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},ii.fromPort=t=>{if(Mut("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return ii.create(t)};let _v=ii;class Ndt{#t=new Map;#e=new Map;#n=new Map;#i=new Map;#r=null;constructor(t,n,i,a,r){this.messageHandler=t,this.loadingTask=n,this.commonObjs=new eB,this.fontLoader=new jut({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#a(t,n=null){const i=this.#t.get(t);if(i)return i;const a=this.messageHandler.sendWithPromise(t,n);return this.#t.set(t,a),a}get annotationStorage(){return Je(this,"annotationStorage",new o5)}getRenderingIntent(t,n=Au.ENABLE,i=null,a=!1,r=!1){let s=qr.DISPLAY,o=PC;switch(t){case"any":s=qr.ANY;break;case"display":break;case"print":s=qr.PRINT;break;default:Te(`getRenderingIntent - invalid intent: ${t}`)}const c=s&qr.PRINT&&i instanceof GF?i:this.annotationStorage;switch(n){case Au.DISABLE:s+=qr.ANNOTATIONS_DISABLE;break;case Au.ENABLE:break;case Au.ENABLE_FORMS:s+=qr.ANNOTATIONS_FORMS;break;case Au.ENABLE_STORAGE:s+=qr.ANNOTATIONS_STORAGE,o=c.serializable;break;default:Te(`getRenderingIntent - invalid annotationMode: ${n}`)}a&&(s+=qr.IS_EDITING),r&&(s+=qr.OPLIST);const{ids:d,hash:f}=c.modifiedIds,g=[s,o.hash,f];return{renderingIntent:s,cacheKey:g.join("_"),annotationStorageSerializable:o,modifiedIds:d}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of this.#e.values())t.push(i._destroy());this.#e.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),er.cleanup(),this._networkStream?.cancelAllRequests(new Iu("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:n}=this;t.on("GetReader",(i,a)=>{zi(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},a.onPull=()=>{this._fullReader.read().then(function({value:r,done:s}){if(s){a.close();return}zi(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{a.error(r)})},a.onCancel=r=>{this._fullReader.cancel(r),a.ready.catch(s=>{if(!this.destroyed)throw s})}}),t.on("ReaderHeadersReady",async i=>{await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:r,contentLength:s}=this._fullReader;return(!a||!r)&&(this._lastProgress&&n.onProgress?.(this._lastProgress),this._fullReader.onProgress=o=>{n.onProgress?.({loaded:o.loaded,total:o.total})}),{isStreamingSupported:a,isRangeSupported:r,contentLength:s}}),t.on("GetRangeReader",(i,a)=>{zi(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(i.begin,i.end);if(!r){a.close();return}a.onPull=()=>{r.read().then(function({value:s,done:o}){if(o){a.close();return}zi(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{a.error(s)})},a.onCancel=s=>{r.cancel(s),a.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,n._capability.resolve(new Ddt(i,this))}),t.on("DocException",i=>{n._capability.reject(_r(i))}),t.on("PasswordRequest",i=>{this.#r=Promise.withResolvers();try{if(!n.onPassword)throw _r(i);const a=r=>{r instanceof Error?this.#r.reject(r):this.#r.resolve({password:r})};n.onPassword(a,i.code)}catch(a){this.#r.reject(a)}return this.#r.promise}),t.on("DataLoaded",i=>{n.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;this.#e.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,a,r])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(a){case"Font":if("error"in r){const d=r.error;Te(`Error during font loading: ${d}`),this.commonObjs.resolve(i,d);break}const s=this._params.pdfBug&&globalThis.FontInspector?.enabled?(d,f)=>globalThis.FontInspector.fontAdded(d,f):null,o=new Fut(r,s);this.fontLoader.bind(o).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!o.fontExtraProperties&&o.data&&(o.data=null),this.commonObjs.resolve(i,o)});break;case"CopyLocalImage":const{imageRef:c}=r;zi(c,"The imageRef must be defined.");for(const d of this.#e.values())for(const[,f]of d.objs)if(f?.ref===c)return f.dataLen?(this.commonObjs.resolve(i,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,r);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),t.on("obj",([i,a,r,s])=>{if(this.destroyed)return;const o=this.#e.get(a);if(!o.objs.has(i)){if(o._intentStates.size===0){s?.bitmap?.close();return}switch(r){case"Image":case"Pattern":o.objs.resolve(i,s);break;default:throw new Error(`Got unknown object type ${r}`)}}}),t.on("DocProgress",i=>{this.destroyed||n.onProgress?.({loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[i.type];if(!a)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Te("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=t-1,i=this.#n.get(n);if(i)return i;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&this.#i.set(r.refStr,t);const s=new Odt(n,r,this,this._params.pdfBug);return this.#e.set(n,s),s});return this.#n.set(n,a),a}getPageIndex(t){return kC(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:n})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#a("GetOptionalContentConfig").then(n=>new udt(n,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",n=this.#t.get(t);if(n)return n;const i=this.messageHandler.sendWithPromise(t,null).then(a=>({info:a[0],metadata:a[1]?new ldt(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of this.#e.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),er.cleanup()}}cachedPageNumber(t){if(!kC(t))return null;const n=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#i.get(n)??null}}class Pdt{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:n}=this.#t;return t.form||t.canvas&&n?.size>0}}class Tp{#t=null;static#e=new WeakSet;constructor({callback:t,params:n,objs:i,commonObjs:a,annotationCanvasMap:r,operatorList:s,pageIndex:o,canvasFactory:c,filterFactory:d,useRequestAnimationFrame:f=!1,pdfBug:g=!1,pageColors:v=null}){this.callback=t,this.params=n,this.objs=i,this.commonObjs=a,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=c,this.filterFactory=d,this._pdfBug=g,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Pdt(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:n}){if(this.cancelled)return;if(this._canvas){if(Tp.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Tp.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:a,transform:r,background:s}=this.params;this.gfx=new Dp(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:a,transparency:t,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,n=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),Tp.#e.delete(this._canvas),t||=new n5(`Rendering cancelled, page ${this._pageIndex+1}`,n),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Tp.#e.delete(this._canvas),this.callback())))}}const kdt="5.3.93",Ldt="cbeef3233";function LN(e){return Math.floor(Math.max(0,Math.min(1,e))*255).toString(16).padStart(2,"0")}function Hg(e){return Math.max(0,Math.min(255,255*e))}class jN{static CMYK_G([t,n,i,a]){return["G",1-Math.min(1,.3*t+.59*i+.11*n+a)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Hg(t),[t,t,t]}static G_HTML([t]){const n=LN(t);return`#${n}${n}${n}`}static RGB_G([t,n,i]){return["G",.3*t+.59*n+.11*i]}static RGB_rgb(t){return t.map(Hg)}static RGB_HTML(t){return`#${t.map(LN).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,n,i,a]){return["RGB",1-Math.min(1,t+a),1-Math.min(1,i+a),1-Math.min(1,n+a)]}static CMYK_rgb([t,n,i,a]){return[Hg(1-Math.min(1,t+a)),Hg(1-Math.min(1,i+a)),Hg(1-Math.min(1,n+a))]}static CMYK_HTML(t){const n=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([t,n,i]){const a=1-t,r=1-n,s=1-i,o=Math.min(a,r,s);return["CMYK",a,r,s,o]}}class jdt{create(t,n,i=!1){if(t<=0||n<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),i||(a.setAttribute("width",`${t}px`),a.setAttribute("height",`${n}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${t} ${n}`),a}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Un("Abstract method `_createSVG` called.")}}class nx extends jdt{_createSVG(t){return document.createElementNS(mc,t)}}class sB{static setupStorage(t,n,i,a,r){const s=a.getValue(n,{value:null});switch(i.name){case"textarea":if(s.value!==null&&(t.textContent=s.value),r==="print")break;t.addEventListener("input",o=>{a.setValue(n,{value:o.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(s.value===i.attributes.xfaOn?t.setAttribute("checked",!0):s.value===i.attributes.xfaOff&&t.removeAttribute("checked"),r==="print")break;t.addEventListener("change",o=>{a.setValue(n,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&t.setAttribute("value",s.value),r==="print")break;t.addEventListener("input",o=>{a.setValue(n,{value:o.target.value})})}break;case"select":if(s.value!==null){t.setAttribute("value",s.value);for(const o of i.children)o.attributes.value===s.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}t.addEventListener("input",o=>{const c=o.target.options,d=c.selectedIndex===-1?"":c[c.selectedIndex].value;a.setValue(n,{value:d})});break}}static setAttributes({html:t,element:n,storage:i=null,intent:a,linkService:r}){const{attributes:s}=n,o=t instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${a}`);for(const[c,d]of Object.entries(s))if(d!=null)switch(c){case"class":d.length&&t.setAttribute(c,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!o||c!=="href"&&c!=="newWindow")&&t.setAttribute(c,d)}o&&r.addLinkAttributes(t,s.href,s.newWindow),i&&s.dataId&&this.setupStorage(t,s.dataId,n,i)}static render(t){const n=t.annotationStorage,i=t.linkService,a=t.xfaHtml,r=t.intent||"display",s=document.createElement(a.name);a.attributes&&this.setAttributes({html:s,element:a,intent:r,linkService:i});const o=r!=="richText",c=t.div;if(c.append(s),t.viewport){const g=`matrix(${t.viewport.transform.join(",")})`;c.style.transform=g}o&&c.setAttribute("class","xfaLayer xfaFont");const d=[];if(a.children.length===0){if(a.value){const g=document.createTextNode(a.value);s.append(g),o&&wv.shouldBuildText(a.name)&&d.push(g)}return{textDivs:d}}const f=[[a,-1,s]];for(;f.length>0;){const[g,v,y]=f.at(-1);if(v+1===g.children.length){f.pop();continue}const b=g.children[++f.at(-1)[1]];if(b===null)continue;const{name:w}=b;if(w==="#text"){const C=document.createTextNode(b.value);d.push(C),y.append(C);continue}const E=b?.attributes?.xmlns?document.createElementNS(b.attributes.xmlns,w):document.createElement(w);if(y.append(E),b.attributes&&this.setAttributes({html:E,element:b,storage:n,intent:r,linkService:i}),b.children?.length>0)f.push([b,-1,E]);else if(b.value){const C=document.createTextNode(b.value);o&&wv.shouldBuildText(w)&&d.push(C),E.append(C)}}for(const g of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const n=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=n,t.div.hidden=!1}}const Fdt=9,xh=new WeakSet;class FN{static create(t){switch(t.data.annotationType){case Fi.LINK:return new oB(t);case Fi.TEXT:return new Bdt(t);case Fi.WIDGET:switch(t.data.fieldType){case"Tx":return new Idt(t);case"Btn":return t.data.radioButton?new lB(t):t.data.checkBox?new Udt(t):new Hdt(t);case"Ch":return new Gdt(t);case"Sig":return new zdt(t)}return new kh(t);case Fi.POPUP:return new jC(t);case Fi.FREETEXT:return new cB(t);case Fi.LINE:return new Vdt(t);case Fi.SQUARE:return new $dt(t);case Fi.CIRCLE:return new Ydt(t);case Fi.POLYLINE:return new uB(t);case Fi.CARET:return new Xdt(t);case Fi.INK:return new h5(t);case Fi.POLYGON:return new Kdt(t);case Fi.HIGHLIGHT:return new dB(t);case Fi.UNDERLINE:return new Wdt(t);case Fi.SQUIGGLY:return new Qdt(t);case Fi.STRIKEOUT:return new Zdt(t);case Fi.STAMP:return new hB(t);case Fi.FILEATTACHMENT:return new Jdt(t);default:return new Mi(t)}}}class Mi{#t=null;#e=!1;#n=null;constructor(t,{isRenderable:n=!1,ignoreBorder:i=!1,createQuadrilaterals:a=!1}={}){this.isRenderable=n,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,n&&(this.container=this._createContainer(i)),a&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:n}){return!!(t?.str||n?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Mi._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#t||={rect:this.data.rect.slice(0)};const{rect:n}=t;n&&this.#i(n),this.#n?.popup.updateEdited(t)}resetEdited(){this.#t&&(this.#i(this.#t.rect),this.#n?.popup.resetEdited(),this.#t=null)}#i(t){const{container:{style:n},data:{rect:i,rotation:a},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:s,pageX:o,pageY:c}}}}=this;i?.splice(0,4,...t),n.left=`${100*(t[0]-o)/r}%`,n.top=`${100*(s-t[3]+c)/s}%`,a===0?(n.width=`${100*(t[2]-t[0])/r}%`,n.height=`${100*(t[3]-t[1])/s}%`):this.setRotation(a)}_createContainer(t){const{data:n,parent:{page:i,viewport:a}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",n.id),this instanceof kh||(r.tabIndex=0);const{style:s}=r;if(s.zIndex=this.parent.zIndex++,n.alternativeText&&(r.title=n.alternativeText),n.noRotate&&r.classList.add("norotate"),!n.rect||this instanceof jC){const{rotation:w}=n;return!n.hasOwnCanvas&&w!==0&&this.setRotation(w,r),r}const{width:o,height:c}=this;if(!t&&n.borderStyle.width>0){s.borderWidth=`${n.borderStyle.width}px`;const w=n.borderStyle.horizontalCornerRadius,E=n.borderStyle.verticalCornerRadius;if(w>0||E>0){const A=`calc(${w}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;s.borderRadius=A}else if(this instanceof lB){const A=`calc(${o}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;s.borderRadius=A}switch(n.borderStyle.style){case mp.SOLID:s.borderStyle="solid";break;case mp.DASHED:s.borderStyle="dashed";break;case mp.BEVELED:Te("Unimplemented border style: beveled");break;case mp.INSET:Te("Unimplemented border style: inset");break;case mp.UNDERLINE:s.borderBottomStyle="solid";break}const C=n.borderColor||null;C?(this.#e=!0,s.borderColor=se.makeHexColor(C[0]|0,C[1]|0,C[2]|0)):s.borderWidth=0}const d=se.normalizeRect([n.rect[0],i.view[3]-n.rect[1]+i.view[1],n.rect[2],i.view[3]-n.rect[3]+i.view[1]]),{pageWidth:f,pageHeight:g,pageX:v,pageY:y}=a.rawDims;s.left=`${100*(d[0]-v)/f}%`,s.top=`${100*(d[1]-y)/g}%`;const{rotation:b}=n;return n.hasOwnCanvas||b===0?(s.width=`${100*o/f}%`,s.height=`${100*c/g}%`):this.setRotation(b,r),r}setRotation(t,n=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:a}=this.parent.viewport.rawDims;let{width:r,height:s}=this;t%180!==0&&([r,s]=[s,r]),n.style.width=`${100*r/i}%`,n.style.height=`${100*s/a}%`,n.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(n,i,a)=>{const r=a.detail[n],s=r[0],o=r.slice(1);a.target.style[i]=jN[`${s}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[i]:jN[`${s}_rgb`](o)})};return Je(this,"_commonActions",{display:n=>{const{display:i}=n.detail,a=i%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:i===1||i===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:i}=n.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{t("bgColor","backgroundColor",n)},fillColor:n=>{t("fillColor","backgroundColor",n)},fgColor:n=>{t("fgColor","color",n)},textColor:n=>{t("textColor","color",n)},borderColor:n=>{t("borderColor","borderColor",n)},strokeColor:n=>{t("strokeColor","borderColor",n)},rotation:n=>{const i=n.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,n){const i=this._commonActions;for(const a of Object.keys(n.detail))(t[a]||i[a])?.(n)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const i=this._commonActions;for(const[a,r]of Object.entries(n)){const s=i[a];if(s){const o={detail:{[a]:r},target:t};s(o),delete n[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[n,i,a,r]=this.data.rect.map(w=>Math.fround(w));if(t.length===8){const[w,E,C,A]=t.subarray(2,6);if(a===w&&r===E&&n===C&&i===A)return}const{style:s}=this.container;let o;if(this.#e){const{borderColor:w,borderWidth:E}=s;s.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const c=a-n,d=r-i,{svgFactory:f}=this,g=f.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0),g.role="none";const v=f.createElement("defs");g.append(v);const y=f.createElement("clipPath"),b=`clippath_${this.data.id}`;y.setAttribute("id",b),y.setAttribute("clipPathUnits","objectBoundingBox"),v.append(y);for(let w=2,E=t.length;w<E;w+=8){const C=t[w],A=t[w+1],_=t[w+2],M=t[w+3],D=f.createElement("rect"),P=(_-n)/c,B=(r-A)/d,k=(C-_)/c,z=(A-M)/d;D.setAttribute("x",P),D.setAttribute("y",B),D.setAttribute("width",k),D.setAttribute("height",z),y.append(D),o?.push(`<rect vector-effect="non-scaling-stroke" x="${P}" y="${B}" width="${k}" height="${z}"/>`)}this.#e&&(o.push("</g></svg>')"),s.backgroundImage=o.join("")),this.container.append(g),this.container.style.clipPath=`url(#${b})`}_createPopup(){const{data:t}=this,n=this.#n=new jC({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},parent:this.parent,elements:[this]});this.parent.div.append(n.render())}render(){Un("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,n=null){const i=[];if(this._fieldObjects){const a=this._fieldObjects[t];if(a)for(const{page:r,id:s,exportValues:o}of a){if(r===-1||s===n)continue;const c=typeof o=="string"?o:null,d=document.querySelector(`[data-element-id="${s}"]`);if(d&&!xh.has(d)){Te(`_getElementsByName - element not allowed: ${s}`);continue}i.push({id:s,exportValue:c,domElement:d})}return i}for(const a of document.getElementsByName(t)){const{exportValue:r}=a,s=a.getAttribute("data-element-id");s!==n&&xh.has(a)&&i.push({id:s,exportValue:r,domElement:a})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const n of t)n.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class oB extends Mi{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!n?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let a=!1;return t.url?(n.addLinkAttributes(i,t.url,t.newWindow),a=!0):t.action?(this._bindNamedAction(i,t.action),a=!0):t.attachment?(this.#e(i,t.attachment,t.attachmentDest),a=!0):t.setOCGState?(this.#n(i,t.setOCGState),a=!0):t.dest?(this._bindLink(i,t.dest),a=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),a=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(i,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(i),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&this.#t()}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),this.#t()}#e(t,n,i=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(n.content,n.filename,i),!1),this.#t()}#n(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),this.#t()}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(n.actions)){const r=i.get(a);r&&(t[r]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:a}}),!1))}t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,n){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){Te('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{i?.();const{fields:a,refs:r,include:s}=n,o=[];if(a.length!==0||r.length!==0){const f=new Set(r);for(const g of a){const v=this._fieldObjects[g]||[];for(const{id:y}of v)f.add(y)}for(const g of Object.values(this._fieldObjects))for(const v of g)f.has(v.id)===s&&o.push(v)}else for(const f of Object.values(this._fieldObjects))o.push(...f);const c=this.annotationStorage,d=[];for(const f of o){const{id:g}=f;switch(d.push(g),f.type){case"text":{const y=f.defaultValue||"";c.setValue(g,{value:y});break}case"checkbox":case"radiobutton":{const y=f.defaultValue===f.exportValues;c.setValue(g,{value:y});break}case"combobox":case"listbox":{const y=f.defaultValue||"";c.setValue(g,{value:y});break}default:continue}const v=document.querySelector(`[data-element-id="${g}"]`);if(v){if(!xh.has(v)){Te(`_bindResetFormAction - element not allowed: ${g}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}}),!1}}}class Bdt extends Mi{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class kh extends Mi{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ea.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,n,i,a,r){i.includes("mouse")?t.addEventListener(i,s=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:r(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):t.addEventListener(i,s=>{if(i==="blur"){if(!n.focused||!s.relatedTarget)return;n.focused=!1}else if(i==="focus"){if(n.focused)return;n.focused=!0}r&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:r(s)}})})}_setEventListeners(t,n,i,a){for(const[r,s]of i)(s==="Action"||this.data.actions?.[s])&&((s==="Focus"||s==="Blur")&&(n||={focused:!1}),this._setEventListener(t,n,r,s,a),s==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,n,"blur","Blur",null):s==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,n,"focus","Focus",null))}_setBackgroundColor(t){const n=this.data.backgroundColor||null;t.style.backgroundColor=n===null?"transparent":se.makeHexColor(n[0],n[1],n[2])}_setTextStyle(t){const n=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||Fdt,r=t.style;let s;const o=2,c=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-o),f=Math.round(d/(XE*a))||1,g=d/f;s=Math.min(a,c(g/XE))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-o);s=Math.min(a,c(d/XE))}r.fontSize=`calc(${s}px * var(--total-scale-factor))`,r.color=se.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(r.textAlign=n[this.data.textAlignment])}_setRequired(t,n){n?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",n)}}class Idt extends kh{constructor(t){const n=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:n})}setPropertyOnSiblings(t,n,i,a){const r=this.annotationStorage;for(const s of this._getElementsByName(t.name,t.id))s.domElement&&(s.domElement[n]=i),r.setValue(s.id,{[a]:i})}render(){const t=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=t.getValue(n,{value:this.data.fieldValue});let r=a.value||"";const s=t.getValue(n,{charLimit:this.data.maxLen}).charLimit;s&&r.length>s&&(r=r.slice(0,s));let o=a.formattedValue||this.data.textContent?.join(`
`)||null;o&&this.data.comb&&(o=o.replaceAll(/\s+/g,""));const c={userValue:r,formattedValue:o,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=o??r,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",o??r),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),xh.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const d=this.data.dateFormat||this.data.timeFormat;d&&(i.title=d),this._setRequired(i,this.data.required),s&&(i.maxLength=s),i.addEventListener("input",g=>{t.setValue(n,{value:g.target.value}),this.setPropertyOnSiblings(i,"value",g.target.value,"value"),c.formattedValue=null}),i.addEventListener("resetform",g=>{const v=this.data.defaultFieldValue??"";i.value=c.userValue=v,c.formattedValue=null});let f=g=>{const{formattedValue:v}=c;v!=null&&(g.target.value=v),g.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",v=>{if(c.focused)return;const{target:y}=v;c.userValue&&(y.value=c.userValue),c.lastCommittedValue=y.value,c.commitKey=1,this.data.actions?.Focus||(c.focused=!0)}),i.addEventListener("updatefromsandbox",v=>{this.showElementAndHideCanvas(v.target);const y={value(b){c.userValue=b.detail.value??"",t.setValue(n,{value:c.userValue.toString()}),b.target.value=c.userValue},formattedValue(b){const{formattedValue:w}=b.detail;c.formattedValue=w,w!=null&&b.target!==document.activeElement&&(b.target.value=w),t.setValue(n,{formattedValue:w})},selRange(b){b.target.setSelectionRange(...b.detail.selRange)},charLimit:b=>{const{charLimit:w}=b.detail,{target:E}=b;if(w===0){E.removeAttribute("maxLength");return}E.setAttribute("maxLength",w);let C=c.userValue;!C||C.length<=w||(C=C.slice(0,w),E.value=c.userValue=C,t.setValue(n,{value:C}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:C,willCommit:!0,commitKey:1,selStart:E.selectionStart,selEnd:E.selectionEnd}}))}};this._dispatchEventFromSandbox(y,v)}),i.addEventListener("keydown",v=>{c.commitKey=1;let y=-1;if(v.key==="Escape"?y=0:v.key==="Enter"&&!this.data.multiLine?y=2:v.key==="Tab"&&(c.commitKey=3),y===-1)return;const{value:b}=v.target;c.lastCommittedValue!==b&&(c.lastCommittedValue=b,c.userValue=b,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:b,willCommit:!0,commitKey:y,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}))});const g=f;f=null,i.addEventListener("blur",v=>{if(!c.focused||!v.relatedTarget)return;this.data.actions?.Blur||(c.focused=!1);const{value:y}=v.target;c.userValue=y,c.lastCommittedValue!==y&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:y,willCommit:!0,commitKey:c.commitKey,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}),g(v)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",v=>{c.lastCommittedValue=null;const{data:y,target:b}=v,{value:w,selectionStart:E,selectionEnd:C}=b;let A=E,_=C;switch(v.inputType){case"deleteWordBackward":{const M=w.substring(0,E).match(/\w*[^\w]*$/);M&&(A-=M[0].length);break}case"deleteWordForward":{const M=w.substring(E).match(/^[^\w]*\w*/);M&&(_+=M[0].length);break}case"deleteContentBackward":E===C&&(A-=1);break;case"deleteContentForward":E===C&&(_+=1);break}v.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:w,change:y||"",willCommit:!1,selStart:A,selEnd:_}})}),this._setEventListeners(i,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],v=>v.target.value)}if(f&&i.addEventListener("blur",f),this.data.comb){const v=(this.data.rect[2]-this.data.rect[0])/s;i.classList.add("comb"),i.style.letterSpacing=`calc(${v}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class zdt extends kh{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class Udt extends kh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,n=this.data,i=n.id;let a=t.getValue(i,{value:n.exportValue===n.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",t.setValue(i,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return xh.add(r),r.setAttribute("data-element-id",i),r.disabled=n.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=n.fieldName,a&&r.setAttribute("checked",!0),r.setAttribute("exportValue",n.exportValue),r.tabIndex=0,r.addEventListener("change",s=>{const{name:o,checked:c}=s.target;for(const d of this._getElementsByName(o,i)){const f=c&&d.exportValue===n.exportValue;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}t.setValue(i,{value:c})}),r.addEventListener("resetform",s=>{const o=n.defaultFieldValue||"Off";s.target.checked=o===n.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",s=>{const o={value(c){c.target.checked=c.detail.value!=="Off",t.setValue(i,{value:c.target.checked})}};this._dispatchEventFromSandbox(o,s)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class lB extends kh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,n=this.data,i=n.id;let a=t.getValue(i,{value:n.fieldValue===n.buttonValue}).value;if(typeof a=="string"&&(a=a!==n.buttonValue,t.setValue(i,{value:a})),a)for(const s of this._getElementsByName(n.fieldName,i))t.setValue(s.id,{value:!1});const r=document.createElement("input");if(xh.add(r),r.setAttribute("data-element-id",i),r.disabled=n.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=n.fieldName,a&&r.setAttribute("checked",!0),r.tabIndex=0,r.addEventListener("change",s=>{const{name:o,checked:c}=s.target;for(const d of this._getElementsByName(o,i))t.setValue(d.id,{value:!1});t.setValue(i,{value:c})}),r.addEventListener("resetform",s=>{const o=n.defaultFieldValue;s.target.checked=o!=null&&o===n.buttonValue}),this.enableScripting&&this.hasJSActions){const s=n.buttonValue;r.addEventListener("updatefromsandbox",o=>{const c={value:d=>{const f=s===d.detail.value;for(const g of this._getElementsByName(d.target.name)){const v=f&&g.id===i;g.domElement&&(g.domElement.checked=v),t.setValue(g.id,{value:v})}}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Hdt extends oB{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const n=t.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class Gdt extends kh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,n=this.data.id,i=t.getValue(n,{value:this.data.fieldValue}),a=document.createElement("select");xh.add(a),a.setAttribute("data-element-id",n),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",f=>{const g=this.data.defaultFieldValue;for(const v of a.options)v.selected=v.value===g});for(const f of this.data.options){const g=document.createElement("option");g.textContent=f.displayValue,g.value=f.exportValue,i.value.includes(f.exportValue)&&(g.setAttribute("selected",!0),r=!1),a.append(g)}let s=null;if(r){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),a.prepend(f),s=()=>{f.remove(),a.removeEventListener("input",s),s=null},a.addEventListener("input",s)}const o=f=>{const g=f?"value":"textContent",{options:v,multiple:y}=a;return y?Array.prototype.filter.call(v,b=>b.selected).map(b=>b[g]):v.selectedIndex===-1?null:v[v.selectedIndex][g]};let c=o(!1);const d=f=>{const g=f.target.options;return Array.prototype.map.call(g,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",f=>{const g={value(v){s?.();const y=v.detail.value,b=new Set(Array.isArray(y)?y:[y]);for(const w of a.options)w.selected=b.has(w.value);t.setValue(n,{value:o(!0)}),c=o(!1)},multipleSelection(v){a.multiple=!0},remove(v){const y=a.options,b=v.detail.remove;y[b].selected=!1,a.remove(b),y.length>0&&Array.prototype.findIndex.call(y,E=>E.selected)===-1&&(y[0].selected=!0),t.setValue(n,{value:o(!0),items:d(v)}),c=o(!1)},clear(v){for(;a.length!==0;)a.remove(0);t.setValue(n,{value:null,items:[]}),c=o(!1)},insert(v){const{index:y,displayValue:b,exportValue:w}=v.detail.insert,E=a.children[y],C=document.createElement("option");C.textContent=b,C.value=w,E?E.before(C):a.append(C),t.setValue(n,{value:o(!0),items:d(v)}),c=o(!1)},items(v){const{items:y}=v.detail;for(;a.length!==0;)a.remove(0);for(const b of y){const{displayValue:w,exportValue:E}=b,C=document.createElement("option");C.textContent=w,C.value=E,a.append(C)}a.options.length>0&&(a.options[0].selected=!0),t.setValue(n,{value:o(!0),items:d(v)}),c=o(!1)},indices(v){const y=new Set(v.detail.indices);for(const b of v.target.options)b.selected=y.has(b.index);t.setValue(n,{value:o(!0)}),c=o(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(g,f)}),a.addEventListener("input",f=>{const g=o(!0),v=o(!1);t.setValue(n,{value:g}),f.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:c,change:v,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):a.addEventListener("input",function(f){t.setValue(n,{value:o(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class jC extends Mi{constructor(t){const{data:n,elements:i}=t;super(t,{isRenderable:Mi._hasPopupData(n)}),this.elements=i,this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const n=this.popup=new qdt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),i=[];for(const a of this.elements)a.popup=n,a.container.ariaHasPopup="dialog",i.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(a=>`${e5}${a}`).join(",")),this.container}}class qdt{#t=this.#C.bind(this);#e=this.#T.bind(this);#n=this.#R.bind(this);#i=this.#E.bind(this);#r=null;#a=null;#o=null;#s=null;#d=null;#l=null;#h=null;#u=!1;#f=null;#p=null;#m=null;#c=null;#g=null;#v=null;#y=!1;constructor({container:t,color:n,elements:i,titleObj:a,modificationDate:r,contentsObj:s,richText:o,parent:c,rect:d,parentRect:f,open:g}){this.#a=t,this.#g=a,this.#o=s,this.#c=o,this.#l=c,this.#r=n,this.#m=d,this.#h=f,this.#d=i,this.#s=zF.toDateObject(r),this.trigger=i.flatMap(v=>v.getElementsToTriggerPopup());for(const v of this.trigger)v.addEventListener("click",this.#i),v.addEventListener("mouseenter",this.#n),v.addEventListener("mouseleave",this.#e),v.classList.add("popupTriggerArea");for(const v of i)v.container?.addEventListener("keydown",this.#t);this.#a.hidden=!0,g&&this.#E()}render(){if(this.#f)return;const t=this.#f=document.createElement("div");if(t.className="popup",this.#r){const r=t.style.outlineColor=se.makeHexColor(...this.#r);t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const n=document.createElement("span");n.className="header";const i=document.createElement("h1");if(n.append(i),{dir:i.dir,str:i.textContent}=this.#g,t.append(n),this.#s){const r=document.createElement("time");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#s.valueOf()})),r.dateTime=this.#s.toISOString(),n.append(r)}const a=this.#b;if(a)sB.render({xfaHtml:a,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(this.#o);t.append(r)}this.#a.append(t)}get#b(){const t=this.#c,n=this.#o;return t?.str&&(!n?.str||n.str===t.str)&&this.#c.html||null}get#x(){return this.#b?.attributes?.style?.fontSize||0}get#w(){return this.#b?.attributes?.style?.color||null}#_(t){const n=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},a={style:{color:this.#w,fontSize:this.#x?`calc(${this.#x}px * var(--total-scale-factor))`:""}};for(const r of t.split(`
`))n.push({name:"span",value:r,attributes:a});return i}_formatContents({str:t,dir:n}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=n;const a=t.split(/(?:\r\n?|\n)/);for(let r=0,s=a.length;r<s;++r){const o=a[r];i.append(document.createTextNode(o)),r<s-1&&i.append(document.createElement("br"))}return i}#C(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#u)&&this.#E()}updateEdited({rect:t,popupContent:n}){this.#v||={contentsObj:this.#o,richText:this.#c},t&&(this.#p=null),n&&(this.#c=this.#_(n),this.#o=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#v&&({contentsObj:this.#o,richText:this.#c}=this.#v,this.#v=null,this.#f?.remove(),this.#f=null,this.#p=null)}#M(){if(this.#p!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:a,pageY:r}}}=this.#l;let s=!!this.#h,o=s?this.#h:this.#m;for(const b of this.#d)if(!o||se.intersect(b.data.rect,o)!==null){o=b.data.rect,s=!0;break}const c=se.normalizeRect([o[0],t[3]-o[1]+t[1],o[2],t[3]-o[3]+t[1]]),f=s?o[2]-o[0]+5:0,g=c[0]+f,v=c[1];this.#p=[100*(g-a)/n,100*(v-r)/i];const{style:y}=this.#a;y.left=`${this.#p[0]}%`,y.top=`${this.#p[1]}%`}#E(){this.#u=!this.#u,this.#u?(this.#R(),this.#a.addEventListener("click",this.#i),this.#a.addEventListener("keydown",this.#t)):(this.#T(),this.#a.removeEventListener("click",this.#i),this.#a.removeEventListener("keydown",this.#t))}#R(){this.#f||this.render(),this.isVisible?this.#u&&this.#a.classList.add("focused"):(this.#M(),this.#a.hidden=!1,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)+1e3)}#T(){this.#a.classList.remove("focused"),!(this.#u||!this.isVisible)&&(this.#a.hidden=!0,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)-1e3)}forceHide(){this.#y=this.isVisible,this.#y&&(this.#a.hidden=!0)}maybeShow(){this.#y&&(this.#f||this.#R(),this.#y=!1,this.#a.hidden=!1)}get isVisible(){return this.#a.hidden===!1}}class cB extends Mi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Ce.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const n of this.textContent){const i=document.createElement("span");i.textContent=n,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Vdt extends Mi{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:n,height:i}=this,a=this.svgFactory.create(n,i,!0),r=this.#t=this.svgFactory.createElement("svg:line");return r.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),r.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),r.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),r.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),r.setAttribute("stroke-width",t.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),a.append(r),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class $dt extends Mi{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:n,height:i}=this,a=this.svgFactory.create(n,i,!0),r=t.borderStyle.width,s=this.#t=this.svgFactory.createElement("svg:rect");return s.setAttribute("x",r/2),s.setAttribute("y",r/2),s.setAttribute("width",n-r),s.setAttribute("height",i-r),s.setAttribute("stroke-width",r||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),a.append(s),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Ydt extends Mi{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:n,height:i}=this,a=this.svgFactory.create(n,i,!0),r=t.borderStyle.width,s=this.#t=this.svgFactory.createElement("svg:ellipse");return s.setAttribute("cx",n/2),s.setAttribute("cy",i/2),s.setAttribute("rx",n/2-r/2),s.setAttribute("ry",i/2-r/2),s.setAttribute("stroke-width",r||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),a.append(s),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class uB extends Mi{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:i,popupRef:a},width:r,height:s}=this;if(!n)return this.container;const o=this.svgFactory.create(r,s,!0);let c=[];for(let f=0,g=n.length;f<g;f+=2){const v=n[f]-t[0],y=t[3]-n[f+1];c.push(`${v},${y}`)}c=c.join(" ");const d=this.#t=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",c),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Kdt extends uB{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Xdt extends Mi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class h5 extends Mi{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ce.HIGHLIGHT:Ce.INK}#n(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:i,borderStyle:a,popupRef:r}}=this,{transform:s,width:o,height:c}=this.#n(n,t),d=this.svgFactory.create(o,c,!0),f=this.#t=this.svgFactory.createElement("svg:g");d.append(f),f.setAttribute("stroke-width",a.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",s);for(let g=0,v=i.length;g<v;g++){const y=this.svgFactory.createElement(this.svgElementName);this.#e.push(y),y.setAttribute("points",i[g].join(",")),f.append(y)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:i,rect:a}=t,r=this.#t;if(n>=0&&r.setAttribute("stroke-width",n||1),i)for(let s=0,o=this.#e.length;s<o;s++)this.#e[s].setAttribute("points",i[s].join(","));if(a){const{transform:s,width:o,height:c}=this.#n(this.data.rotation,a);r.parentElement.setAttribute("viewBox",`0 0 ${o} ${c}`),r.setAttribute("transform",s)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class dB extends Mi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ce.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class Wdt extends Mi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class Qdt extends Mi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class Zdt extends Mi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class hB extends Mi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ce.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Jdt extends Mi{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:n}=this.data;this.filename=n.filename,this.content=n.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#e.bind(this)),this.#t=i;const{isMac:a}=Ea.platform;return t.addEventListener("keydown",r=>{r.key==="Enter"&&(a?r.metaKey:r.ctrlKey)&&this.#e()}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class f5{#t=null;#e=null;#n=new Map;#i=null;constructor({div:t,accessibilityManager:n,annotationCanvasMap:i,annotationEditorUIManager:a,page:r,viewport:s,structTreeLayer:o}){this.div=t,this.#t=n,this.#e=i,this.#i=o||null,this.page=r,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=a}hasEditableAnnotations(){return this.#n.size>0}async#r(t,n,i){const a=t.firstChild||t,r=a.id=`${e5}${n}`,s=await this.#i?.getAriaAttributes(r);if(s)for(const[o,c]of s)a.setAttribute(o,c);i?i.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,a,!1))}async render(t){const{annotations:n}=t,i=this.div;bh(i,this.viewport);const a=new Map,r={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new nx,annotationStorage:t.annotationStorage||new o5,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const s of n){if(s.noHTML)continue;const o=s.annotationType===Fi.POPUP;if(o){const f=a.get(s.id);if(!f)continue;r.elements=f}else if(s.rect[2]===s.rect[0]||s.rect[3]===s.rect[1])continue;r.data=s;const c=FN.create(r);if(!c.isRenderable)continue;if(!o&&s.popupRef){const f=a.get(s.popupRef);f?f.push(c):a.set(s.popupRef,[c])}const d=c.render();s.hidden&&(d.style.visibility="hidden"),await this.#r(d,s.id,r.elements),c._isEditable&&(this.#n.set(c.data.id,c),this._annotationEditorUIManager?.renderAnnotationElement(c))}this.#a()}async addLinkAnnotations(t,n){const i={data:null,layer:this.div,linkService:n,svgFactory:new nx,parent:this};for(const a of t){a.borderStyle||=f5._defaultBorderStyle,i.data=a;const r=FN.create(i);if(!r.isRenderable)continue;const s=r.render();await this.#r(s,a.id,null)}}update({viewport:t}){const n=this.div;this.viewport=t,bh(n,{rotation:t.rotation}),this.#a(),n.hidden=!1}#a(){if(!this.#e)return;const t=this.div;for(const[n,i]of this.#e){const a=t.querySelector(`[data-annotation-id="${n}"]`);if(!a)continue;i.className="annotationContent";const{firstChild:r}=a;r?r.nodeName==="CANVAS"?r.replaceWith(i):r.classList.contains("annotationContent")?r.after(i):r.before(i):a.append(i);const s=this.#n.get(n);s&&(s._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(n,a.id,i),s._hasNoCanvas=!1):s.canvas=i)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}static get _defaultBorderStyle(){return Je(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:mp.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const i1=/\r\n?|\n/g;class Yi extends ue{#t;#e="";#n=`${this.id}-editor`;#i=null;#r;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=Yi.prototype,n=r=>r.isEmpty(),i=zu.TRANSLATE_SMALL,a=zu.TRANSLATE_BIG;return Je(this,"_keyboardManager",new ey([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,a],checker:n}]]))}static _type="freetext";static _editorType=Ce.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#t=t.color||Yi._defaultColor||ue._defaultLineColor,this.#r=t.fontSize||Yi._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,n){ue.initialize(t,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case ln.FREETEXT_SIZE:Yi._defaultFontSize=n;break;case ln.FREETEXT_COLOR:Yi._defaultColor=n;break}}updateParams(t,n){switch(t){case ln.FREETEXT_SIZE:this.#a(n);break;case ln.FREETEXT_COLOR:this.#o(n);break}}static get defaultPropertiesToUpdate(){return[[ln.FREETEXT_SIZE,Yi._defaultFontSize],[ln.FREETEXT_COLOR,Yi._defaultColor||ue._defaultLineColor]]}get propertiesToUpdate(){return[[ln.FREETEXT_SIZE,this.#r],[ln.FREETEXT_COLOR,this.#t]]}#a(t){const n=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-this.#r)*this.parentScale),this.#r=a,this.#d()},i=this.#r;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ln.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#o(t){const n=a=>{this.#t=this.editorDiv.style.color=a},i=this.#t;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ln.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-Yi._internalPadding*t,-(Yi._internalPadding+this.#r)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#s(){const t=[];this.editorDiv.normalize();let n=null;for(const i of this.editorDiv.childNodes)n?.nodeType===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(Yi.#l(i)),n=i);return t.join(`
`)}#d(){const[t,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:a,div:r}=this,s=r.style.display,o=r.classList.contains("hidden");r.classList.remove("hidden"),r.style.display="hidden",a.div.append(this.div),i=r.getBoundingClientRect(),r.remove(),r.style.display=s,r.classList.toggle("hidden",o)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/n):(this.width=i.height/t,this.height=i.width/n),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#e,n=this.#e=this.#s().trimEnd();if(t===n)return;const i=a=>{if(this.#e=a,!a){this.remove();return}this.#h(),this._uiManager.rebuild(this),this.#d()};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(t)},mustExec:!1}),this.#d()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Yi._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,n;(this._isCopy||this.annotationElementId)&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#r}px * var(--total-scale-factor))`,i.color=this.#t,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,r]=this.parentDimensions;if(this.annotationElementId){const{position:s}=this._initialData;let[o,c]=this.getInitialTranslation();[o,c]=this.pageTranslationToScreen(o,c);const[d,f]=this.pageDimensions,[g,v]=this.pageTranslation;let y,b;switch(this.rotation){case 0:y=t+(s[0]-g)/d,b=n+this.height-(s[1]-v)/f;break;case 90:y=t+(s[0]-g)/d,b=n-(s[1]-v)/f,[o,c]=[c,-o];break;case 180:y=t-this.width+(s[0]-g)/d,b=n-(s[1]-v)/f,[o,c]=[-o,-c];break;case 270:y=t+(s[0]-g-this.height*f)/d,b=n+(s[1]-v-this.width*d)/f,[o,c]=[-c,o];break}this.setAt(y*a,b*r,o,c)}else this._moveAfterPaste(t,n);this.#h(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#l(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(i1,"")}editorDivPaste(t){const n=t.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const a=Yi.#f(n.getData("text")||"").replaceAll(i1,`
`);if(!a)return;const r=window.getSelection();if(!r.rangeCount)return;this.editorDiv.normalize(),r.deleteFromDocument();const s=r.getRangeAt(0);if(!a.includes(`
`)){s.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),r.collapseToStart();return}const{startContainer:o,startOffset:c}=s,d=[],f=[];if(o.nodeType===Node.TEXT_NODE){const y=o.parentElement;if(f.push(o.nodeValue.slice(c).replaceAll(i1,"")),y!==this.editorDiv){let b=d;for(const w of this.editorDiv.childNodes){if(w===y){b=f;continue}b.push(Yi.#l(w))}}d.push(o.nodeValue.slice(0,c).replaceAll(i1,""))}else if(o===this.editorDiv){let y=d,b=0;for(const w of this.editorDiv.childNodes)b++===c&&(y=f),y.push(Yi.#l(w))}this.#e=`${d.join(`
`)}${a}${f.join(`
`)}`,this.#h();const g=new Range;let v=Math.sumPrecise(d.map(y=>y.length));for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const b=y.nodeValue.length;if(v<=b){g.setStart(y,v),g.setEnd(y,v);break}v-=b}r.removeAllRanges(),r.addRange(g)}#h(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const t of this.#e.split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}}#u(){return this.#e.replaceAll(""," ")}static#f(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static async deserialize(t,n,i){let a=null;if(t instanceof cB){const{data:{defaultAppearanceData:{fontSize:s,fontColor:o},rect:c,rotation:d,id:f,popupRef:g},textContent:v,textPosition:y,parent:{page:{pageNumber:b}}}=t;if(!v||v.length===0)return null;a=t={annotationType:Ce.FREETEXT,color:Array.from(o),fontSize:s,value:v.join(`
`),position:y,pageIndex:b-1,rect:c.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:g}}const r=await super.deserialize(t,n,i);return r.#r=t.fontSize,r.#t=se.makeHexColor(...t.color),r.#e=Yi.#f(t.value),r._initialData=a,r}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Yi._internalPadding*this.parentScale,i=this.getRect(n,n),a=ue._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#t),r={annotationType:Ce.FREETEXT,color:a,fontSize:this.#r,value:this.#u(),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(r.isCopy=!0,r):this.annotationElementId&&!this.#p(r)?null:(r.id=this.annotationElementId,r)}#p(t){const{value:n,fontSize:i,color:a,pageIndex:r}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==i||t.color.some((s,o)=>s!==a[o])||t.pageIndex!==r}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:i}=n;i.fontSize=`calc(${this.#r}px * var(--total-scale-factor))`,i.color=this.#t,n.replaceChildren();for(const r of this.#e.split(`
`)){const s=document.createElement("div");s.append(r?document.createTextNode(r):document.createElement("br")),n.append(s)}const a=Yi._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(a,a),popupContent:this.#e}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class Yt{static PRECISION=1e-4;toSVGPath(){Un("Abstract method `toSVGPath` must be implemented.")}get box(){Un("Abstract getter `box` must be implemented.")}serialize(t,n){Un("Abstract method `serialize` must be implemented.")}static _rescale(t,n,i,a,r,s){s||=new Float32Array(t.length);for(let o=0,c=t.length;o<c;o+=2)s[o]=n+t[o]*a,s[o+1]=i+t[o+1]*r;return s}static _rescaleAndSwap(t,n,i,a,r,s){s||=new Float32Array(t.length);for(let o=0,c=t.length;o<c;o+=2)s[o]=n+t[o+1]*a,s[o+1]=i+t[o]*r;return s}static _translate(t,n,i,a){a||=new Float32Array(t.length);for(let r=0,s=t.length;r<s;r+=2)a[r]=n+t[r],a[r+1]=i+t[r+1];return a}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,n,i,a,r){switch(r){case 90:return[1-n/i,t/a];case 180:return[1-t/i,1-n/a];case 270:return[n/i,1-t/a];default:return[t/i,n/a]}}static _normalizePagePoint(t,n,i){switch(i){case 90:return[1-n,t];case 180:return[1-t,1-n];case 270:return[n,1-t];default:return[t,n]}}static createBezierPoints(t,n,i,a,r,s){return[(t+5*i)/6,(n+5*a)/6,(5*i+r)/6,(5*a+s)/6,(i+r)/2,(a+s)/2]}}class th{#t;#e=[];#n;#i;#r=[];#a=new Float32Array(18);#o;#s;#d;#l;#h;#u;#f=[];static#p=8;static#m=2;static#c=th.#p+th.#m;constructor({x:t,y:n},i,a,r,s,o=0){this.#t=i,this.#u=r*a,this.#i=s,this.#a.set([NaN,NaN,NaN,NaN,t,n],6),this.#n=o,this.#l=th.#p*a,this.#d=th.#c*a,this.#h=a,this.#f.push(t,n)}isEmpty(){return isNaN(this.#a[8])}#g(){const t=this.#a.subarray(4,6),n=this.#a.subarray(16,18),[i,a,r,s]=this.#t;return[(this.#o+(t[0]-n[0])/2-i)/r,(this.#s+(t[1]-n[1])/2-a)/s,(this.#o+(n[0]-t[0])/2-i)/r,(this.#s+(n[1]-t[1])/2-a)/s]}add({x:t,y:n}){this.#o=t,this.#s=n;const[i,a,r,s]=this.#t;let[o,c,d,f]=this.#a.subarray(8,12);const g=t-d,v=n-f,y=Math.hypot(g,v);if(y<this.#d)return!1;const b=y-this.#l,w=b/y,E=w*g,C=w*v;let A=o,_=c;o=d,c=f,d+=E,f+=C,this.#f?.push(t,n);const M=-C/b,D=E/b,P=M*this.#u,B=D*this.#u;return this.#a.set(this.#a.subarray(2,8),0),this.#a.set([d+P,f+B],4),this.#a.set(this.#a.subarray(14,18),12),this.#a.set([d-P,f-B],16),isNaN(this.#a[6])?(this.#r.length===0&&(this.#a.set([o+P,c+B],2),this.#r.push(NaN,NaN,NaN,NaN,(o+P-i)/r,(c+B-a)/s),this.#a.set([o-P,c-B],14),this.#e.push(NaN,NaN,NaN,NaN,(o-P-i)/r,(c-B-a)/s)),this.#a.set([A,_,o,c,d,f],6),!this.isEmpty()):(this.#a.set([A,_,o,c,d,f],6),Math.abs(Math.atan2(_-c,A-o)-Math.atan2(C,E))<Math.PI/2?([o,c,d,f]=this.#a.subarray(2,6),this.#r.push(NaN,NaN,NaN,NaN,((o+d)/2-i)/r,((c+f)/2-a)/s),[o,c,A,_]=this.#a.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((A+o)/2-i)/r,((_+c)/2-a)/s),!0):([A,_,o,c,d,f]=this.#a.subarray(0,6),this.#r.push(((A+5*o)/6-i)/r,((_+5*c)/6-a)/s,((5*o+d)/6-i)/r,((5*c+f)/6-a)/s,((o+d)/2-i)/r,((c+f)/2-a)/s),[d,f,o,c,A,_]=this.#a.subarray(12,18),this.#e.push(((A+5*o)/6-i)/r,((_+5*c)/6-a)/s,((5*o+d)/6-i)/r,((5*c+f)/6-a)/s,((o+d)/2-i)/r,((c+f)/2-a)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#r,n=this.#e;if(isNaN(this.#a[6])&&!this.isEmpty())return this.#v();const i=[];i.push(`M${t[4]} ${t[5]}`);for(let a=6;a<t.length;a+=6)isNaN(t[a])?i.push(`L${t[a+4]} ${t[a+5]}`):i.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);this.#b(i);for(let a=n.length-6;a>=6;a-=6)isNaN(n[a])?i.push(`L${n[a+4]} ${n[a+5]}`):i.push(`C${n[a]} ${n[a+1]} ${n[a+2]} ${n[a+3]} ${n[a+4]} ${n[a+5]}`);return this.#y(i),i.join(" ")}#v(){const[t,n,i,a]=this.#t,[r,s,o,c]=this.#g();return`M${(this.#a[2]-t)/i} ${(this.#a[3]-n)/a} L${(this.#a[4]-t)/i} ${(this.#a[5]-n)/a} L${r} ${s} L${o} ${c} L${(this.#a[16]-t)/i} ${(this.#a[17]-n)/a} L${(this.#a[14]-t)/i} ${(this.#a[15]-n)/a} Z`}#y(t){const n=this.#e;t.push(`L${n[4]} ${n[5]} Z`)}#b(t){const[n,i,a,r]=this.#t,s=this.#a.subarray(4,6),o=this.#a.subarray(16,18),[c,d,f,g]=this.#g();t.push(`L${(s[0]-n)/a} ${(s[1]-i)/r} L${c} ${d} L${f} ${g} L${(o[0]-n)/a} ${(o[1]-i)/r}`)}newFreeDrawOutline(t,n,i,a,r,s){return new fB(t,n,i,a,r,s)}getOutlines(){const t=this.#r,n=this.#e,i=this.#a,[a,r,s,o]=this.#t,c=new Float32Array((this.#f?.length??0)+2);for(let g=0,v=c.length-2;g<v;g+=2)c[g]=(this.#f[g]-a)/s,c[g+1]=(this.#f[g+1]-r)/o;if(c[c.length-2]=(this.#o-a)/s,c[c.length-1]=(this.#s-r)/o,isNaN(i[6])&&!this.isEmpty())return this.#x(c);const d=new Float32Array(this.#r.length+24+this.#e.length);let f=t.length;for(let g=0;g<f;g+=2){if(isNaN(t[g])){d[g]=d[g+1]=NaN;continue}d[g]=t[g],d[g+1]=t[g+1]}f=this.#_(d,f);for(let g=n.length-6;g>=6;g-=6)for(let v=0;v<6;v+=2){if(isNaN(n[g+v])){d[f]=d[f+1]=NaN,f+=2;continue}d[f]=n[g+v],d[f+1]=n[g+v+1],f+=2}return this.#w(d,f),this.newFreeDrawOutline(d,c,this.#t,this.#h,this.#n,this.#i)}#x(t){const n=this.#a,[i,a,r,s]=this.#t,[o,c,d,f]=this.#g(),g=new Float32Array(36);return g.set([NaN,NaN,NaN,NaN,(n[2]-i)/r,(n[3]-a)/s,NaN,NaN,NaN,NaN,(n[4]-i)/r,(n[5]-a)/s,NaN,NaN,NaN,NaN,o,c,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(n[16]-i)/r,(n[17]-a)/s,NaN,NaN,NaN,NaN,(n[14]-i)/r,(n[15]-a)/s],0),this.newFreeDrawOutline(g,t,this.#t,this.#h,this.#n,this.#i)}#w(t,n){const i=this.#e;return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],n),n+=6}#_(t,n){const i=this.#a.subarray(4,6),a=this.#a.subarray(16,18),[r,s,o,c]=this.#t,[d,f,g,v]=this.#g();return t.set([NaN,NaN,NaN,NaN,(i[0]-r)/o,(i[1]-s)/c,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,g,v,NaN,NaN,NaN,NaN,(a[0]-r)/o,(a[1]-s)/c],n),n+=24}}class fB extends Yt{#t;#e=new Float32Array(4);#n;#i;#r;#a;#o;constructor(t,n,i,a,r,s){super(),this.#o=t,this.#r=n,this.#t=i,this.#a=a,this.#n=r,this.#i=s,this.lastPoint=[NaN,NaN],this.#s(s);const[o,c,d,f]=this.#e;for(let g=0,v=t.length;g<v;g+=2)t[g]=(t[g]-o)/d,t[g+1]=(t[g+1]-c)/f;for(let g=0,v=n.length;g<v;g+=2)n[g]=(n[g]-o)/d,n[g+1]=(n[g+1]-c)/f}toSVGPath(){const t=[`M${this.#o[4]} ${this.#o[5]}`];for(let n=6,i=this.#o.length;n<i;n+=6){if(isNaN(this.#o[n])){t.push(`L${this.#o[n+4]} ${this.#o[n+5]}`);continue}t.push(`C${this.#o[n]} ${this.#o[n+1]} ${this.#o[n+2]} ${this.#o[n+3]} ${this.#o[n+4]} ${this.#o[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,i,a],r){const s=i-t,o=a-n;let c,d;switch(r){case 0:c=Yt._rescale(this.#o,t,a,s,-o),d=Yt._rescale(this.#r,t,a,s,-o);break;case 90:c=Yt._rescaleAndSwap(this.#o,t,n,s,o),d=Yt._rescaleAndSwap(this.#r,t,n,s,o);break;case 180:c=Yt._rescale(this.#o,i,n,-s,o),d=Yt._rescale(this.#r,i,n,-s,o);break;case 270:c=Yt._rescaleAndSwap(this.#o,i,a,-s,-o),d=Yt._rescaleAndSwap(this.#r,i,a,-s,-o);break}return{outline:Array.from(c),points:[Array.from(d)]}}#s(t){const n=this.#o;let i=n[4],a=n[5];const r=[i,a,i,a];let s=i,o=a;const c=t?Math.max:Math.min;for(let f=6,g=n.length;f<g;f+=6){const v=n[f+4],y=n[f+5];if(isNaN(n[f]))se.pointBoundingBox(v,y,r),o<y?(s=v,o=y):o===y&&(s=c(s,v));else{const b=[1/0,1/0,-1/0,-1/0];se.bezierBoundingBox(i,a,...n.slice(f,f+6),b),se.rectBoundingBox(...b,r),o<b[3]?(s=b[2],o=b[3]):o===b[3]&&(s=c(s,b[2]))}i=v,a=y}const d=this.#e;d[0]=r[0]-this.#n,d[1]=r[1]-this.#n,d[2]=r[2]-r[0]+2*this.#n,d[3]=r[3]-r[1]+2*this.#n,this.lastPoint=[s,o]}get box(){return this.#e}newOutliner(t,n,i,a,r,s=0){return new th(t,n,i,a,r,s)}getNewOutline(t,n){const[i,a,r,s]=this.#e,[o,c,d,f]=this.#t,g=r*d,v=s*f,y=i*d+o,b=a*f+c,w=this.newOutliner({x:this.#r[0]*g+y,y:this.#r[1]*v+b},this.#t,this.#a,t,this.#i,n??this.#n);for(let E=2;E<this.#r.length;E+=2)w.add({x:this.#r[E]*g+y,y:this.#r[E+1]*v+b});return w.getOutlines()}}class FC{#t;#e;#n=[];#i=[];constructor(t,n=0,i=0,a=!0){const r=[1/0,1/0,-1/0,-1/0],s=10**-4;for(const{x:y,y:b,width:w,height:E}of t){const C=Math.floor((y-n)/s)*s,A=Math.ceil((y+w+n)/s)*s,_=Math.floor((b-n)/s)*s,M=Math.ceil((b+E+n)/s)*s,D=[C,_,M,!0],P=[A,_,M,!1];this.#n.push(D,P),se.rectBoundingBox(C,_,A,M,r)}const o=r[2]-r[0]+2*i,c=r[3]-r[1]+2*i,d=r[0]-i,f=r[1]-i,g=this.#n.at(a?-1:-2),v=[g[0],g[2]];for(const y of this.#n){const[b,w,E]=y;y[0]=(b-d)/o,y[1]=(w-f)/c,y[2]=(E-f)/c}this.#t=new Float32Array([d,f,o,c]),this.#e=v}getOutlines(){this.#n.sort((n,i)=>n[0]-i[0]||n[1]-i[1]||n[2]-i[2]);const t=[];for(const n of this.#n)n[3]?(t.push(...this.#d(n)),this.#o(n)):(this.#s(n),t.push(...this.#d(n)));return this.#r(t)}#r(t){const n=[],i=new Set;for(const s of t){const[o,c,d]=s;n.push([o,c,s],[o,d,s])}n.sort((s,o)=>s[1]-o[1]||s[0]-o[0]);for(let s=0,o=n.length;s<o;s+=2){const c=n[s][2],d=n[s+1][2];c.push(d),d.push(c),i.add(c),i.add(d)}const a=[];let r;for(;i.size>0;){const s=i.values().next().value;let[o,c,d,f,g]=s;i.delete(s);let v=o,y=c;for(r=[o,d],a.push(r);;){let b;if(i.has(f))b=f;else if(i.has(g))b=g;else break;i.delete(b),[o,c,d,f,g]=b,v!==o&&(r.push(v,y,o,y===c?c:d),v=o),y=y===c?d:c}r.push(v,y)}return new tht(a,this.#t,this.#e)}#a(t){const n=this.#i;let i=0,a=n.length-1;for(;i<=a;){const r=i+a>>1,s=n[r][0];if(s===t)return r;s<t?i=r+1:a=r-1}return a+1}#o([,t,n]){const i=this.#a(t);this.#i.splice(i,0,[t,n])}#s([,t,n]){const i=this.#a(t);for(let a=i;a<this.#i.length;a++){const[r,s]=this.#i[a];if(r!==t)break;if(r===t&&s===n){this.#i.splice(a,1);return}}for(let a=i-1;a>=0;a--){const[r,s]=this.#i[a];if(r!==t)break;if(r===t&&s===n){this.#i.splice(a,1);return}}}#d(t){const[n,i,a]=t,r=[[n,i,a]],s=this.#a(a);for(let o=0;o<s;o++){const[c,d]=this.#i[o];for(let f=0,g=r.length;f<g;f++){const[,v,y]=r[f];if(!(d<=v||y<=c)){if(v>=c){if(y>d)r[f][1]=d;else{if(g===1)return[];r.splice(f,1),f--,g--}continue}r[f][2]=c,y>d&&r.push([n,d,y])}}}return r}}class tht extends Yt{#t;#e;constructor(t,n,i){super(),this.#e=t,this.#t=n,this.lastPoint=i}toSVGPath(){const t=[];for(const n of this.#e){let[i,a]=n;t.push(`M${i} ${a}`);for(let r=2;r<n.length;r+=2){const s=n[r],o=n[r+1];s===i?(t.push(`V${o}`),a=o):o===a&&(t.push(`H${s}`),i=s)}t.push("Z")}return t.join(" ")}serialize([t,n,i,a],r){const s=[],o=i-t,c=a-n;for(const d of this.#e){const f=new Array(d.length);for(let g=0;g<d.length;g+=2)f[g]=t+d[g]*o,f[g+1]=a-d[g+1]*c;s.push(f)}return s}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class BC extends th{newFreeDrawOutline(t,n,i,a,r,s){return new eht(t,n,i,a,r,s)}}class eht extends fB{newOutliner(t,n,i,a,r,s=0){return new BC(t,n,i,a,r,s)}}class Rs{#t=null;#e=null;#n;#i=null;#r=!1;#a=!1;#o=null;#s;#d=null;#l=null;#h;static#u=null;static get _keyboardManager(){return Je(this,"_keyboardManager",new ey([[["Escape","mac+Escape"],Rs.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Rs.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Rs.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Rs.prototype._moveToPrevious],[["Home","mac+Home"],Rs.prototype._moveToBeginning],[["End","mac+End"],Rs.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:n=null}){t?(this.#a=!1,this.#h=ln.HIGHLIGHT_COLOR,this.#o=t):(this.#a=!0,this.#h=ln.HIGHLIGHT_DEFAULT_COLOR),this.#l=t?._uiManager||n,this.#s=this.#l._eventBus,this.#n=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Rs.#u||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#o&&(t.ariaControls=`${this.#o.id}_colorpicker_dropdown`);const n=this.#l._signal;t.addEventListener("click",this.#c.bind(this),{signal:n}),t.addEventListener("keydown",this.#m.bind(this),{signal:n});const i=this.#e=document.createElement("span");return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=this.#n,t.append(i),t}renderMainDropdown(){const t=this.#i=this.#f();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#f(){const t=document.createElement("div"),n=this.#l._signal;t.addEventListener("contextmenu",yo,{signal:n}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#o&&(t.id=`${this.#o.id}_colorpicker_dropdown`);for(const[i,a]of this.#l.highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",a),r.title=i,r.setAttribute("data-l10n-id",Rs.#u[i]);const s=document.createElement("span");r.append(s),s.className="swatch",s.style.backgroundColor=a,r.ariaSelected=a===this.#n,r.addEventListener("click",this.#p.bind(this,a),{signal:n}),t.append(r)}return t.addEventListener("keydown",this.#m.bind(this),{signal:n}),t}#p(t,n){n.stopPropagation(),this.#s.dispatch("switchannotationeditorparams",{source:this,type:this.#h,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#c(t);return}const n=t.target.getAttribute("data-color");n&&this.#p(n,t)}_moveToNext(t){if(!this.#v){this.#c(t);return}if(t.target===this.#t){this.#i.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#i?.firstChild||t.target===this.#t){this.#v&&this._hideDropdownFromKeyboard();return}this.#v||this.#c(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#v){this.#c(t);return}this.#i.firstChild?.focus()}_moveToEnd(t){if(!this.#v){this.#c(t);return}this.#i.lastChild?.focus()}#m(t){Rs._keyboardManager.exec(this,t)}#c(t){if(this.#v){this.hideDropdown();return}if(this.#r=t.detail===0,this.#d||(this.#d=new AbortController,window.addEventListener("pointerdown",this.#g.bind(this),{signal:this.#l.combinedSignal(this.#d)})),this.#t.ariaExpanded="true",this.#i){this.#i.classList.remove("hidden");return}const n=this.#i=this.#f();this.#t.append(n)}#g(t){this.#i?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#d?.abort(),this.#d=null}get#v(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#a){if(!this.#v){this.#o?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#r})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#i)return;const n=this.#l.highlightColors.values();for(const i of this.#i.children)i.ariaSelected=n.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#i?.remove(),this.#i=null}}class Ci extends ue{#t=null;#e=0;#n;#i=null;#r=null;#a=null;#o=null;#s=0;#d=null;#l=null;#h=null;#u=!1;#f=null;#p;#m=null;#c="";#g;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Ce.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=Ci.prototype;return Je(this,"_keyboardManager",new ey([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||Ci._defaultColor,this.#g=t.thickness||Ci._defaultThickness,this.#p=t.opacity||Ci._defaultOpacity,this.#n=t.boxes||null,this.#v=t.methodOfCreation||"",this.#c=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#u=!0,this.#b(t),this.#M()):this.#n&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#o=t.focusNode,this.#s=t.focusOffset,this.#y(),this.#M(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#g,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#y(){const t=new FC(this.#n,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const n=new FC(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#a=n.getOutlines();const{lastPoint:i}=this.#a;this.#f=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#b({highlightOutlines:t,highlightId:n,clipPathId:i}){this.#l=t;const a=1.5;if(this.#a=t.getNewOutline(this.#g/2+a,.0025),n>=0)this.#h=n,this.#i=i,this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#m=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},!0);else if(this.parent){const f=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:Ci.#E(this.#l.box,(f-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#m,{bbox:Ci.#E(this.#a.box,f),path:{d:this.#a.toSVGPath()}})}const[r,s,o,c]=t.box;switch(this.rotation){case 0:this.x=r,this.y=s,this.width=o,this.height=c;break;case 90:{const[f,g]=this.parentDimensions;this.x=s,this.y=1-r,this.width=o*g/f,this.height=c*f/g;break}case 180:this.x=1-r,this.y=1-s,this.width=o,this.height=c;break;case 270:{const[f,g]=this.parentDimensions;this.x=1-s,this.y=r,this.width=o*g/f,this.height=c*f/g;break}}const{lastPoint:d}=this.#a;this.#f=[(d[0]-r)/o,(d[1]-s)/c]}static initialize(t,n){ue.initialize(t,n),Ci._defaultColor||=n.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,n){switch(t){case ln.HIGHLIGHT_DEFAULT_COLOR:Ci._defaultColor=n;break;case ln.HIGHLIGHT_THICKNESS:Ci._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return this.#f}updateParams(t,n){switch(t){case ln.HIGHLIGHT_COLOR:this.#x(n);break;case ln.HIGHLIGHT_THICKNESS:this.#w(n);break}}static get defaultPropertiesToUpdate(){return[[ln.HIGHLIGHT_DEFAULT_COLOR,Ci._defaultColor],[ln.HIGHLIGHT_THICKNESS,Ci._defaultThickness]]}get propertiesToUpdate(){return[[ln.HIGHLIGHT_COLOR,this.color||Ci._defaultColor],[ln.HIGHLIGHT_THICKNESS,this.#g||Ci._defaultThickness],[ln.HIGHLIGHT_FREE,this.#u]]}#x(t){const n=(r,s)=>{this.color=r,this.#p=s,this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:r,"fill-opacity":s}}),this.#r?.updateColor(r)},i=this.color,a=this.#p;this.addCommands({cmd:n.bind(this,t,Ci._defaultOpacity),undo:n.bind(this,i,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ln.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#w(t){const n=this.#g,i=a=>{this.#g=a,this.#_(a)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ln.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#r=new Rs({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#O())}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,this.#O())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#M(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let n=!1;this.parent&&!t?this.#C():t&&(this.#M(t),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),n&&this.select()}#_(t){if(!this.#u)return;this.#b({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)}#C(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#m),this.#m=null)}#M(t=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#i}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#p},rootClass:{highlight:!0,free:this.#u},path:{d:this.#l.toSVGPath()}},!1,!0),this.#m=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},this.#u),this.#d&&(this.#d.style.clipPath=this.#i))}static#E([t,n,i,a],r){switch(r){case 90:return[1-n-a,t,a,i];case 180:return[1-t-i,1-n-a,i,a];case 270:return[n,1-t-i,a,i]}return[t,n,i,a]}rotate(t){const{drawLayer:n}=this.parent;let i;this.#u?(t=(t-this.rotation+360)%360,i=Ci.#E(this.#l.box,t)):i=Ci.#E([this.x,this.y,this.width,this.height],t),n.updateProperties(this.#h,{bbox:i,root:{"data-main-rotation":t}}),n.updateProperties(this.#m,{bbox:Ci.#E(this.#a.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#c&&(t.setAttribute("aria-label",this.#c),t.setAttribute("role","mark")),this.#u?t.classList.add("free"):this.div.addEventListener("keydown",this.#R.bind(this),{signal:this._uiManager._signal});const n=this.#d=document.createElement("div");t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=this.#i;const[i,a]=this.parentDimensions;return this.setDims(this.width*i,this.height*a),UF(this,this.#d,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1}})}#R(t){Ci._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#T(!0);break;case 1:case 3:this.#T(!1);break}}#T(t){if(!this.#t)return;const n=window.getSelection();t?n.setPosition(this.#t,this.#e):n.setPosition(this.#o,this.#s)}select(){super.select(),this.#m&&this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#m&&(this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{selected:!1}}),this.#u||this.#T(!1))}get _mustFixPosition(){return!this.#u}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#m,{rootClass:{hidden:!t}}))}#O(){return this.#u?this.rotation:0}#N(){if(this.#u)return null;const[t,n]=this.pageDimensions,[i,a]=this.pageTranslation,r=this.#n,s=new Float32Array(r.length*8);let o=0;for(const{x:c,y:d,width:f,height:g}of r){const v=c*t+i,y=(1-d)*n+a;s[o]=s[o+4]=v,s[o+1]=s[o+3]=y,s[o+2]=s[o+6]=v+f*t,s[o+5]=s[o+7]=y-g*n,o+=8}return s}#P(t){return this.#l.serialize(t,this.#O())}static startHighlighting(t,n,{target:i,x:a,y:r}){const{x:s,y:o,width:c,height:d}=i.getBoundingClientRect(),f=new AbortController,g=t.combinedSignal(f),v=y=>{f.abort(),this.#A(t,y)};window.addEventListener("blur",v,{signal:g}),window.addEventListener("pointerup",v,{signal:g}),window.addEventListener("pointerdown",Ii,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",yo,{signal:g}),i.addEventListener("pointermove",this.#z.bind(this,t),{signal:g}),this._freeHighlight=new BC({x:a,y:r},[s,o,c,d],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#z(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#A(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,n,i){let a=null;if(t instanceof dB){const{data:{quadPoints:b,rect:w,rotation:E,id:C,color:A,opacity:_,popupRef:M},parent:{page:{pageNumber:D}}}=t;a=t={annotationType:Ce.HIGHLIGHT,color:Array.from(A),opacity:_,quadPoints:b,boxes:null,pageIndex:D-1,rect:w.slice(0),rotation:E,annotationElementId:C,id:C,deleted:!1,popupRef:M}}else if(t instanceof h5){const{data:{inkLists:b,rect:w,rotation:E,id:C,color:A,borderStyle:{rawWidth:_},popupRef:M},parent:{page:{pageNumber:D}}}=t;a=t={annotationType:Ce.HIGHLIGHT,color:Array.from(A),thickness:_,inkLists:b,boxes:null,pageIndex:D-1,rect:w.slice(0),rotation:E,annotationElementId:C,id:C,deleted:!1,popupRef:M}}const{color:r,quadPoints:s,inkLists:o,opacity:c}=t,d=await super.deserialize(t,n,i);d.color=se.makeHexColor(...r),d.#p=c||1,o&&(d.#g=t.thickness),d._initialData=a;const[f,g]=d.pageDimensions,[v,y]=d.pageTranslation;if(s){const b=d.#n=[];for(let w=0;w<s.length;w+=8)b.push({x:(s[w]-v)/f,y:1-(s[w+1]-y)/g,width:(s[w+2]-s[w])/f,height:(s[w+1]-s[w+5])/g});d.#y(),d.#M(),d.rotate(d.rotation)}else if(o){d.#u=!0;const b=o[0],w={x:b[0]-v,y:g-(b[1]-y)},E=new BC(w,[0,0,f,g],1,d.#g/2,!0,.001);for(let _=0,M=b.length;_<M;_+=2)w.x=b[_]-v,w.y=g-(b[_+1]-y),E.add(w);const{id:C,clipPathId:A}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:E.toSVGPath()}},!0,!0);d.#b({highlightOutlines:E.getOutlines(),highlightId:C,clipPathId:A}),d.#M(),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),i=ue._colorManager.convert(this.color),a={annotationType:Ce.HIGHLIGHT,color:i,opacity:this.#p,thickness:this.#g,quadPoints:this.#N(),outlines:this.#P(n),pageIndex:this.pageIndex,rect:n,rotation:this.#O(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#S(a)?null:(a.id=this.annotationElementId,a)}#S(t){const{color:n}=this._initialData;return t.color.some((i,a)=>i!==n[a])}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class pB{#t=Object.create(null);updateProperty(t,n){this[t]=n,this.updateSVGProperty(t,n)}updateProperties(t){if(t)for(const[n,i]of Object.entries(t))n.startsWith("_")||this.updateProperty(n,i)}updateSVGProperty(t,n){this.#t[t]=n}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Un("Not implemented")}}class pe extends ue{#t=null;#e;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#i=null;static#r=null;static#a=NaN;static#o=null;static#s=null;static#d=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(this.#l(t),this.#f())}#l({drawOutlines:t,drawId:n,drawingOptions:i}){this.#t=t,this._drawingOptions||=i,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=this.#h(t,this.parent),this.#c(t.box)}#h(t,n){const{id:i}=n.drawLayer.draw(pe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i}static _mergeSVGProperties(t,n){const i=new Set(Object.keys(t));for(const[a,r]of Object.entries(n))i.has(a)?Object.assign(t[a],r):t[a]=r;return t}static getDefaultDrawingOptions(t){Un("Not implemented")}static get typesMap(){Un("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(pe.#n.updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[i,a]of this.typesMap)t.push([i,n[a]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[i,a]of this.constructor.typesMap)t.push([i,n[a]]);return t}_updateProperty(t,n,i){const a=this._drawingOptions,r=a[n],s=o=>{a.updateProperty(n,o);const c=this.#t.updateProperty(n,o);c&&this.#c(c),this.parent?.drawLayer.updateProperties(this._drawId,a.toSVGProperties())};this.addCommands({cmd:s.bind(this,i),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,pe._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#m()),{bbox:this.#g()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,pe._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#m()),{bbox:this.#g()}))}_onTranslating(t,n){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#g()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,pe._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#m(),this.parentDimensions),{bbox:this.#g()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#c(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#u()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),n&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#h(this.#t,t)}}#p([t,n,i,a]){const{parentDimensions:[r,s],rotation:o}=this;switch(o){case 90:return[n,1-t,i*(s/r),a*(r/s)];case 180:return[1-t,1-n,i,a];case 270:return[1-n,t,i*(s/r),a*(r/s)];default:return[t,n,i,a]}}#m(){const{x:t,y:n,width:i,height:a,parentDimensions:[r,s],rotation:o}=this;switch(o){case 90:return[1-n,t,i*(r/s),a*(s/r)];case 180:return[1-t,1-n,i,a];case 270:return[n,1-t,i*(r/s),a*(s/r)];default:return[t,n,i,a]}}#c(t){if([this.x,this.y,this.width,this.height]=this.#p(t),this.div){this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)}this._onResized()}#g(){const{x:t,y:n,width:i,height:a,rotation:r,parentRotation:s,parentDimensions:[o,c]}=this;switch((r*4+s)/90){case 1:return[1-n-a,t,a,i];case 2:return[1-t-i,1-n-a,i,a];case 3:return[n,1-t-i,a,i];case 4:return[t,n-i*(o/c),a*(c/o),i*(o/c)];case 5:return[1-n,t,i*(o/c),a*(c/o)];case 6:return[1-t-a*(c/o),1-n,a*(c/o),i*(o/c)];case 7:return[n-i*(o/c),1-t-a*(c/o),i*(o/c),a*(c/o)];case 8:return[t-i,n-a,i,a];case 9:return[1-n,t-i,a,i];case 10:return[1-t,1-n,i,a];case 11:return[n-a,1-t,a,i];case 12:return[t-a*(c/o),n,a*(c/o),i*(o/c)];case 13:return[1-n-i*(o/c),t-a*(c/o),i*(o/c),a*(c/o)];case 14:return[1-t,1-n-i*(o/c),a*(c/o),i*(o/c)];case 15:return[n,1-t,i*(o/c),a*(c/o)];default:return[t,n,i,a]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,pe._mergeSVGProperties({bbox:this.#g()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#c(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,n;this._isCopy&&(t=this.x,n=this.y);const i=super.render();i.classList.add("draw");const a=document.createElement("div");i.append(a),a.setAttribute("aria-hidden","true"),a.className="internal";const[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,n),i}static createDrawerInstance(t,n,i,a,r){Un("Not implemented")}static startDrawing(t,n,i,a){const{target:r,offsetX:s,offsetY:o,pointerId:c,pointerType:d}=a;if(pe.#o&&pe.#o!==d)return;const{viewport:{rotation:f}}=t,{width:g,height:v}=r.getBoundingClientRect(),y=pe.#i=new AbortController,b=t.combinedSignal(y);if(pe.#a||=c,pe.#o??=d,window.addEventListener("pointerup",w=>{pe.#a===w.pointerId?this._endDraw(w):pe.#s?.delete(w.pointerId)},{signal:b}),window.addEventListener("pointercancel",w=>{pe.#a===w.pointerId?this._currentParent.endDrawingSession():pe.#s?.delete(w.pointerId)},{signal:b}),window.addEventListener("pointerdown",w=>{pe.#o===w.pointerType&&((pe.#s||=new Set).add(w.pointerId),pe.#n.isCancellable()&&(pe.#n.removeLastElement(),pe.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",yo,{signal:b}),r.addEventListener("pointermove",this._drawMove.bind(this),{signal:b}),r.addEventListener("touchmove",w=>{w.timeStamp===pe.#d&&Ii(w)},{signal:b}),t.toggleDrawing(),n._editorUndoBar?.hide(),pe.#n){t.drawLayer.updateProperties(this._currentDrawId,pe.#n.startNew(s,o,g,v,f));return}n.updateUIForDefaultProperties(this),pe.#n=this.createDrawerInstance(s,o,g,v,f),pe.#r=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(pe.#r.toSVGProperties(),pe.#n.defaultSVGProperties),!0,!1)}static _drawMove(t){if(pe.#d=-1,!pe.#n)return;const{offsetX:n,offsetY:i,pointerId:a}=t;if(pe.#a===a){if(pe.#s?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,pe.#n.add(n,i)),pe.#d=t.timeStamp,Ii(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,pe.#n=null,pe.#r=null,pe.#o=null,pe.#d=NaN),pe.#i&&(pe.#i.abort(),pe.#i=null,pe.#a=NaN,pe.#s=null)}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),t?.target===n.div&&n.drawLayer.updateProperties(this._currentDrawId,pe.#n.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=pe.#n,a=this._currentDrawId,r=i.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(a,i.setLastElement(r))},undo:()=>{n.drawLayer.updateProperties(a,i.removeLastElement())},mustExec:!1,type:ln.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(ln.DRAW_STEP),!pe.#n.isEmpty()){const{pageDimensions:[i,a],scale:r}=n,s=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:pe.#n.getOutlines(i*r,a*r,r,this._INNER_MARGIN),drawingOptions:pe.#r,mustBeCommitted:!t});return this._cleanup(!0),s}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,i,a,r,s){Un("Not implemented")}static async deserialize(t,n,i){const{rawDims:{pageWidth:a,pageHeight:r,pageX:s,pageY:o}}=n.viewport,c=this.deserializeDraw(s,o,a,r,this._INNER_MARGIN,t),d=await super.deserialize(t,n,i);return d.createDrawingOptions(t),d.#l({drawOutlines:c}),d.#f(),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[n,i]=this.pageTranslation,[a,r]=this.pageDimensions;return this.#t.serialize([n,i,a,r],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class nht{#t=new Float64Array(6);#e;#n;#i;#r;#a;#o="";#s=0;#d=new iy;#l;#h;constructor(t,n,i,a,r,s){this.#l=i,this.#h=a,this.#i=r,this.#r=s,[t,n]=this.#u(t,n);const o=this.#e=[NaN,NaN,NaN,NaN,t,n];this.#a=[t,n],this.#n=[{line:o,points:this.#a}],this.#t.set(o,0)}updateProperty(t,n){t==="stroke-width"&&(this.#r=n)}#u(t,n){return Yt._normalizePoint(t,n,this.#l,this.#h,this.#i)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#a.length<=10}add(t,n){[t,n]=this.#u(t,n);const[i,a,r,s]=this.#t.subarray(2,6),o=t-r,c=n-s;return Math.hypot(this.#l*o,this.#h*c)<=2?null:(this.#a.push(t,n),isNaN(i)?(this.#t.set([r,s,t,n],2),this.#e.push(NaN,NaN,NaN,NaN,t,n),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([i,a,r,s,t,n],0),this.#e.push(...Yt.createBezierPoints(i,a,r,s,t,n)),{path:{d:this.toSVGPath()}}))}end(t,n){const i=this.add(t,n);return i||(this.#a.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,n,i,a,r){this.#l=i,this.#h=a,this.#i=r,[t,n]=this.#u(t,n);const s=this.#e=[NaN,NaN,NaN,NaN,t,n];this.#a=[t,n];const o=this.#n.at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),this.#n.push({line:s,points:this.#a}),this.#t.set(s,0),this.#s=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(t){return this.#n?(this.#n.push(t),this.#e=t.line,this.#a=t.points,this.#s=0,{path:{d:this.toSVGPath()}}):this.#d.setLastElement(t)}removeLastElement(){if(!this.#n)return this.#d.removeLastElement();this.#n.pop(),this.#o="";for(let t=0,n=this.#n.length;t<n;t++){const{line:i,points:a}=this.#n[t];this.#e=i,this.#a=a,this.#s=0,this.toSVGPath()}return{path:{d:this.#o}}}toSVGPath(){const t=Yt.svgRound(this.#e[4]),n=Yt.svgRound(this.#e[5]);if(this.#a.length===2)return this.#o=`${this.#o} M ${t} ${n} Z`,this.#o;if(this.#a.length<=6){const a=this.#o.lastIndexOf("M");this.#o=`${this.#o.slice(0,a)} M ${t} ${n}`,this.#s=6}if(this.#a.length===4){const a=Yt.svgRound(this.#e[10]),r=Yt.svgRound(this.#e[11]);return this.#o=`${this.#o} L ${a} ${r}`,this.#s=12,this.#o}const i=[];this.#s===0&&(i.push(`M ${t} ${n}`),this.#s=6);for(let a=this.#s,r=this.#e.length;a<r;a+=6){const[s,o,c,d,f,g]=this.#e.slice(a,a+6).map(Yt.svgRound);i.push(`C${s} ${o} ${c} ${d} ${f} ${g}`)}return this.#o+=i.join(" "),this.#s=this.#e.length,this.#o}getOutlines(t,n,i,a){const r=this.#n.at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),this.#d.build(this.#n,t,n,i,this.#i,this.#r,a),this.#t=null,this.#e=null,this.#n=null,this.#o=null,this.#d}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class iy extends Yt{#t;#e=0;#n;#i;#r;#a;#o;#s;#d;build(t,n,i,a,r,s,o){this.#r=n,this.#a=i,this.#o=a,this.#s=r,this.#d=s,this.#n=o??0,this.#i=t,this.#u()}get thickness(){return this.#d}setLastElement(t){return this.#i.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#i.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of this.#i){if(t.push(`M${Yt.svgRound(n[4])} ${Yt.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12&&isNaN(n[6])){t.push(`L${Yt.svgRound(n[10])} ${Yt.svgRound(n[11])}`);continue}for(let i=6,a=n.length;i<a;i+=6){const[r,s,o,c,d,f]=n.subarray(i,i+6).map(Yt.svgRound);t.push(`C${r} ${s} ${o} ${c} ${d} ${f}`)}}return t.join("")}serialize([t,n,i,a],r){const s=[],o=[],[c,d,f,g]=this.#h();let v,y,b,w,E,C,A,_,M;switch(this.#s){case 0:M=Yt._rescale,v=t,y=n+a,b=i,w=-a,E=t+c*i,C=n+(1-d-g)*a,A=t+(c+f)*i,_=n+(1-d)*a;break;case 90:M=Yt._rescaleAndSwap,v=t,y=n,b=i,w=a,E=t+d*i,C=n+c*a,A=t+(d+g)*i,_=n+(c+f)*a;break;case 180:M=Yt._rescale,v=t+i,y=n,b=-i,w=a,E=t+(1-c-f)*i,C=n+d*a,A=t+(1-c)*i,_=n+(d+g)*a;break;case 270:M=Yt._rescaleAndSwap,v=t+i,y=n+a,b=-i,w=-a,E=t+(1-d-g)*i,C=n+(1-c-f)*a,A=t+(1-d)*i,_=n+(1-c)*a;break}for(const{line:D,points:P}of this.#i)s.push(M(D,v,y,b,w,r?new Array(D.length):null)),o.push(M(P,v,y,b,w,r?new Array(P.length):null));return{lines:s,points:o,rect:[E,C,A,_]}}static deserialize(t,n,i,a,r,{paths:{lines:s,points:o},rotation:c,thickness:d}){const f=[];let g,v,y,b,w;switch(c){case 0:w=Yt._rescale,g=-t/i,v=n/a+1,y=1/i,b=-1/a;break;case 90:w=Yt._rescaleAndSwap,g=-n/a,v=-t/i,y=1/a,b=1/i;break;case 180:w=Yt._rescale,g=t/i+1,v=-n/a,y=-1/i,b=1/a;break;case 270:w=Yt._rescaleAndSwap,g=n/a+1,v=t/i+1,y=-1/a,b=-1/i;break}if(!s){s=[];for(const C of o){const A=C.length;if(A===2){s.push(new Float32Array([NaN,NaN,NaN,NaN,C[0],C[1]]));continue}if(A===4){s.push(new Float32Array([NaN,NaN,NaN,NaN,C[0],C[1],NaN,NaN,NaN,NaN,C[2],C[3]]));continue}const _=new Float32Array(3*(A-2));s.push(_);let[M,D,P,B]=C.subarray(0,4);_.set([NaN,NaN,NaN,NaN,M,D],0);for(let k=4;k<A;k+=2){const z=C[k],H=C[k+1];_.set(Yt.createBezierPoints(M,D,P,B,z,H),(k-2)*3),[M,D,P,B]=[P,B,z,H]}}}for(let C=0,A=s.length;C<A;C++)f.push({line:w(s[C].map(_=>_??NaN),g,v,y,b),points:w(o[C].map(_=>_??NaN),g,v,y,b)});const E=new this.prototype.constructor;return E.build(f,i,a,1,c,d,r),E}#l(t=this.#d){const n=this.#n+t/2*this.#o;return this.#s%180===0?[n/this.#r,n/this.#a]:[n/this.#a,n/this.#r]}#h(){const[t,n,i,a]=this.#t,[r,s]=this.#l(0);return[t+r,n+s,i-2*r,a-2*s]}#u(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:a}of this.#i){if(a.length<=12){for(let o=4,c=a.length;o<c;o+=6)se.pointBoundingBox(a[o],a[o+1],t);continue}let r=a[4],s=a[5];for(let o=6,c=a.length;o<c;o+=6){const[d,f,g,v,y,b]=a.subarray(o,o+6);se.bezierBoundingBox(r,s,d,f,g,v,y,b,t),r=y,s=b}}const[n,i]=this.#l();t[0]=ar(t[0]-n,0,1),t[1]=ar(t[1]-i,0,1),t[2]=ar(t[2]+n,0,1),t[3]=ar(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,n){return t==="stroke-width"?this.#f(n):null}#f(t){const[n,i]=this.#l();this.#d=t;const[a,r]=this.#l(),[s,o]=[a-n,r-i],c=this.#t;return c[0]-=s,c[1]-=o,c[2]+=2*s,c[3]+=2*o,c}updateParentDimensions([t,n],i){const[a,r]=this.#l();this.#r=t,this.#a=n,this.#o=i;const[s,o]=this.#l(),c=s-a,d=o-r,f=this.#t;return f[0]-=c,f[1]-=d,f[2]+=2*c,f[3]+=2*d,f}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(Yt.svgRound).join(" ")}get defaultProperties(){const[t,n]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Yt.svgRound(t)} ${Yt.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=this.#t;let i=0,a=0,r=0,s=0,o=0,c=0;switch(this.#e){case 90:a=n/t,r=-t/n,o=t;break;case 180:i=-1,s=-1,o=t,c=n;break;case 270:a=-n/t,r=t/n,c=n;break;default:return""}return`matrix(${i} ${a} ${r} ${s} ${Yt.svgRound(o)} ${Yt.svgRound(c)})`}getPathResizingSVGProperties([t,n,i,a]){const[r,s]=this.#l(),[o,c,d,f]=this.#t;if(Math.abs(d-r)<=Yt.PRECISION||Math.abs(f-s)<=Yt.PRECISION){const w=t+i/2-(o+d/2),E=n+a/2-(c+f/2);return{path:{"transform-origin":`${Yt.svgRound(t)} ${Yt.svgRound(n)}`,transform:`${this.rotationTransform} translate(${w} ${E})`}}}const g=(i-2*r)/(d-2*r),v=(a-2*s)/(f-2*s),y=d/i,b=f/a;return{path:{"transform-origin":`${Yt.svgRound(o)} ${Yt.svgRound(c)}`,transform:`${this.rotationTransform} scale(${y} ${b}) translate(${Yt.svgRound(r)} ${Yt.svgRound(s)}) scale(${g} ${v}) translate(${Yt.svgRound(-r)} ${Yt.svgRound(-s)})`}}}getPathResizedSVGProperties([t,n,i,a]){const[r,s]=this.#l(),o=this.#t,[c,d,f,g]=o;if(o[0]=t,o[1]=n,o[2]=i,o[3]=a,Math.abs(f-r)<=Yt.PRECISION||Math.abs(g-s)<=Yt.PRECISION){const E=t+i/2-(c+f/2),C=n+a/2-(d+g/2);for(const{line:A,points:_}of this.#i)Yt._translate(A,E,C,A),Yt._translate(_,E,C,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Yt.svgRound(t)} ${Yt.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(i-2*r)/(f-2*r),y=(a-2*s)/(g-2*s),b=-v*(c+r)+t+r,w=-y*(d+s)+n+s;if(v!==1||y!==1||b!==0||w!==0)for(const{line:E,points:C}of this.#i)Yt._rescale(E,b,w,v,y,E),Yt._rescale(C,b,w,v,y,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Yt.svgRound(t)} ${Yt.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],i){const[a,r]=i,s=this.#t,o=t-s[0],c=n-s[1];if(this.#r===a&&this.#a===r)for(const{line:d,points:f}of this.#i)Yt._translate(d,o,c,d),Yt._translate(f,o,c,f);else{const d=this.#r/a,f=this.#a/r;this.#r=a,this.#a=r;for(const{line:g,points:v}of this.#i)Yt._rescale(g,o,c,d,f,g),Yt._rescale(v,o,c,d,f,v);s[2]*=d,s[3]*=f}return s[0]=t,s[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Yt.svgRound(t)} ${Yt.svgRound(n)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Yt.svgRound(t[0])} ${Yt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class p2 extends pB{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:ue._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,n){t==="stroke-width"&&(n??=this["stroke-width"],n*=this._viewParameters.realScale),super.updateSVGProperty(t,n)}clone(){const t=new p2(this._viewParameters);return t.updateAll(this),t}}class p5 extends pe{static _type="ink";static _editorType=Ce.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,n){ue.initialize(t,n),this._defaultDrawingOptions=new p2(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return Je(this,"typesMap",new Map([[ln.INK_THICKNESS,"stroke-width"],[ln.INK_COLOR,"stroke"],[ln.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,i,a,r){return new nht(t,n,i,a,r,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,i,a,r,s){return iy.deserialize(t,n,i,a,r,s)}static async deserialize(t,n,i){let a=null;if(t instanceof h5){const{data:{inkLists:s,rect:o,rotation:c,id:d,color:f,opacity:g,borderStyle:{rawWidth:v},popupRef:y},parent:{page:{pageNumber:b}}}=t;a=t={annotationType:Ce.INK,color:Array.from(f),thickness:v,opacity:g,paths:{points:s},boxes:null,pageIndex:b-1,rect:o.slice(0),rotation:c,annotationElementId:d,id:d,deleted:!1,popupRef:y}}const r=await super.deserialize(t,n,i);return r._initialData=a,r}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:i}=this;n.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:i}){this._drawingOptions=p5.getDefaultDrawingOptions({stroke:se.makeHexColor(...t),"stroke-width":n,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:i,rect:a}=this.serializeDraw(t),{_drawingOptions:{stroke:r,"stroke-opacity":s,"stroke-width":o}}=this,c={annotationType:Ce.INK,color:ue._colorManager.convert(r),opacity:s,thickness:o,paths:{lines:n,points:i},pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(c.isCopy=!0,c):this.annotationElementId&&!this.#t(c)?null:(c.id=this.annotationElementId,c)}#t(t){const{color:n,thickness:i,opacity:a,pageIndex:r}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((s,o)=>s!==n[o])||t.thickness!==i||t.opacity!==a||t.pageIndex!==r}renderAnnotationElement(t){const{points:n,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:n}),null}}class IC extends iy{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const a1=8,Gg=3;class vp{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,n,i,a){return i-=t,a-=n,i===0?a>0?0:4:i===1?a+6:2-a}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#i(t,n,i,a,r,s,o){const c=this.#e(i,a,r,s);for(let d=0;d<8;d++){const f=(-d+c-o+16)%8,g=this.#n[2*f],v=this.#n[2*f+1];if(t[(i+g)*n+(a+v)]!==0)return f}return-1}static#r(t,n,i,a,r,s,o){const c=this.#e(i,a,r,s);for(let d=0;d<8;d++){const f=(d+c+o+16)%8,g=this.#n[2*f],v=this.#n[2*f+1];if(t[(i+g)*n+(a+v)]!==0)return f}return-1}static#a(t,n,i,a){const r=t.length,s=new Int32Array(r);for(let f=0;f<r;f++)s[f]=t[f]<=a?1:0;for(let f=1;f<i-1;f++)s[f*n]=s[f*n+n-1]=0;for(let f=0;f<n;f++)s[f]=s[n*i-1-f]=0;let o=1,c;const d=[];for(let f=1;f<i-1;f++){c=1;for(let g=1;g<n-1;g++){const v=f*n+g,y=s[v];if(y===0)continue;let b=f,w=g;if(y===1&&s[v-1]===0)o+=1,w-=1;else if(y>=1&&s[v+1]===0)o+=1,w+=1,y>1&&(c=y);else{y!==1&&(c=Math.abs(y));continue}const E=[g,f],C=w===g+1,A={isHole:C,points:E,id:o,parent:0};d.push(A);let _;for(const G of d)if(G.id===c){_=G;break}_?_.isHole?A.parent=C?_.parent:c:A.parent=C?c:_.parent:A.parent=C?c:0;const M=this.#i(s,n,f,g,b,w,0);if(M===-1){s[v]=-o,s[v]!==1&&(c=Math.abs(s[v]));continue}let D=this.#n[2*M],P=this.#n[2*M+1];const B=f+D,k=g+P;b=B,w=k;let z=f,H=g;for(;;){const G=this.#r(s,n,z,H,b,w,1);D=this.#n[2*G],P=this.#n[2*G+1];const Q=z+D,at=H+P;E.push(at,Q);const Z=z*n+H;if(s[Z+1]===0?s[Z]=-o:s[Z]===1&&(s[Z]=o),Q===f&&at===g&&z===B&&H===k){s[v]!==1&&(c=Math.abs(s[v]));break}else b=z,w=H,z=Q,H=at}}}return d}static#o(t,n,i,a){if(i-n<=4){for(let B=n;B<i-2;B+=2)a.push(t[B],t[B+1]);return}const r=t[n],s=t[n+1],o=t[i-4]-r,c=t[i-3]-s,d=Math.hypot(o,c),f=o/d,g=c/d,v=f*s-g*r,y=c/o,b=1/d,w=Math.atan(y),E=Math.cos(w),C=Math.sin(w),A=b*(Math.abs(E)+Math.abs(C)),_=b*(1-A+A**2),M=Math.max(Math.atan(Math.abs(C+E)*_),Math.atan(Math.abs(C-E)*_));let D=0,P=n;for(let B=n+2;B<i-2;B+=2){const k=Math.abs(v-f*t[B+1]+g*t[B]);k>D&&(P=B,D=k)}D>(d*M)**2?(this.#o(t,n,P+2,a),this.#o(t,P,i,a)):a.push(r,s)}static#s(t){const n=[],i=t.length;return this.#o(t,0,i,n),n.push(t[i-2],t[i-1]),n.length<=4?null:n}static#d(t,n,i,a,r,s){const o=new Float32Array(s**2),c=-2*a**2,d=s>>1;for(let w=0;w<s;w++){const E=(w-d)**2;for(let C=0;C<s;C++)o[w*s+C]=Math.exp((E+(C-d)**2)/c)}const f=new Float32Array(256),g=-2*r**2;for(let w=0;w<256;w++)f[w]=Math.exp(w**2/g);const v=t.length,y=new Uint8Array(v),b=new Uint32Array(256);for(let w=0;w<i;w++)for(let E=0;E<n;E++){const C=w*n+E,A=t[C];let _=0,M=0;for(let P=0;P<s;P++){const B=w+P-d;if(!(B<0||B>=i))for(let k=0;k<s;k++){const z=E+k-d;if(z<0||z>=n)continue;const H=t[B*n+z],G=o[P*s+k]*f[Math.abs(H-A)];_+=H*G,M+=G}}const D=y[C]=Math.round(_/M);b[D]++}return[y,b]}static#l(t){const n=new Uint32Array(256);for(const i of t)n[i]++;return n}static#h(t){const n=t.length,i=new Uint8ClampedArray(n>>2);let a=-1/0,r=1/0;for(let o=0,c=i.length;o<c;o++){if(t[(o<<2)+3]===0){a=i[o]=255;continue}const f=i[o]=t[o<<2];f>a&&(a=f),f<r&&(r=f)}const s=255/(a-r);for(let o=0;o<n;o++)i[o]=(i[o]-r)*s;return i}static#u(t){let n,i=-1/0,a=-1/0;const r=t.findIndex(c=>c!==0);let s=r,o=r;for(n=r;n<256;n++){const c=t[n];c>i&&(n-s>a&&(a=n-s,o=n-1),i=c,s=n)}for(n=o-1;n>=0&&!(t[n]>t[n+1]);n--);return n}static#f(t){const n=t,{width:i,height:a}=t,{maxDim:r}=this.#t;let s=i,o=a;if(i>r||a>r){let v=i,y=a,b=Math.log2(Math.max(i,a)/r);const w=Math.floor(b);b=b===w?w-1:w;for(let C=0;C<b;C++){s=Math.ceil(v/2),o=Math.ceil(y/2);const A=new OffscreenCanvas(s,o);A.getContext("2d").drawImage(t,0,0,v,y,0,0,s,o),v=s,y=o,t!==n&&t.close(),t=A.transferToImageBitmap()}const E=Math.min(r/s,r/o);s=Math.round(s*E),o=Math.round(o*E)}const d=new OffscreenCanvas(s,o).getContext("2d",{willReadFrequently:!0});d.filter="grayscale(1)",d.drawImage(t,0,0,t.width,t.height,0,0,s,o);const f=d.getImageData(0,0,s,o).data;return[this.#h(f),s,o]}static extractContoursFromText(t,{fontFamily:n,fontStyle:i,fontWeight:a},r,s,o,c){let d=new OffscreenCanvas(1,1),f=d.getContext("2d",{alpha:!1});const g=200,v=f.font=`${i} ${a} ${g}px ${n}`,{actualBoundingBoxLeft:y,actualBoundingBoxRight:b,actualBoundingBoxAscent:w,actualBoundingBoxDescent:E,fontBoundingBoxAscent:C,fontBoundingBoxDescent:A,width:_}=f.measureText(t),M=1.5,D=Math.ceil(Math.max(Math.abs(y)+Math.abs(b)||0,_)*M),P=Math.ceil(Math.max(Math.abs(w)+Math.abs(E)||g,Math.abs(C)+Math.abs(A)||g)*M);d=new OffscreenCanvas(D,P),f=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=v,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,D,P),f.fillStyle="black",f.fillText(t,D*(M-1)/2,P*(3-M)/2);const B=this.#h(f.getImageData(0,0,D,P).data),k=this.#l(B),z=this.#u(k),H=this.#a(B,D,P,z);return this.processDrawnLines({lines:{curves:H,width:D,height:P},pageWidth:r,pageHeight:s,rotation:o,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(t,n,i,a,r){const[s,o,c]=this.#f(t),[d,f]=this.#d(s,o,c,Math.hypot(o,c)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),g=this.#u(f),v=this.#a(d,o,c,g);return this.processDrawnLines({lines:{curves:v,width:o,height:c},pageWidth:n,pageHeight:i,rotation:a,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:n,pageHeight:i,rotation:a,innerMargin:r,mustSmooth:s,areContours:o}){a%180!==0&&([n,i]=[i,n]);const{curves:c,width:d,height:f}=t,g=t.thickness??0,v=[],y=Math.min(n/d,i/f),b=y/n,w=y/i,E=[];for(const{points:A}of c){const _=s?this.#s(A):A;if(!_)continue;E.push(_);const M=_.length,D=new Float32Array(M),P=new Float32Array(3*(M===2?2:M-2));if(v.push({line:P,points:D}),M===2){D[0]=_[0]*b,D[1]=_[1]*w,P.set([NaN,NaN,NaN,NaN,D[0],D[1]],0);continue}let[B,k,z,H]=_;B*=b,k*=w,z*=b,H*=w,D.set([B,k,z,H],0),P.set([NaN,NaN,NaN,NaN,B,k],0);for(let G=4;G<M;G+=2){const Q=D[G]=_[G]*b,at=D[G+1]=_[G+1]*w;P.set(Yt.createBezierPoints(B,k,z,H,Q,at),(G-2)*3),[B,k,z,H]=[z,H,Q,at]}}if(v.length===0)return null;const C=o?new IC:new iy;return C.build(v,n,i,1,a,o?0:g,r),{outline:C,newCurves:E,areContours:o,thickness:g,width:d,height:f}}static async compressSignature({outlines:t,areContours:n,thickness:i,width:a,height:r}){let s=1/0,o=-1/0,c=0;for(const _ of t){c+=_.length;for(let M=2,D=_.length;M<D;M++){const P=_[M]-_[M-2];s=Math.min(s,P),o=Math.max(o,P)}}let d;s>=-128&&o<=127?d=Int8Array:s>=-32768&&o<=32767?d=Int16Array:d=Int32Array;const f=t.length,g=a1+Gg*f,v=new Uint32Array(g);let y=0;v[y++]=g*Uint32Array.BYTES_PER_ELEMENT+(c-2*f)*d.BYTES_PER_ELEMENT,v[y++]=0,v[y++]=a,v[y++]=r,v[y++]=n?0:1,v[y++]=Math.max(0,Math.floor(i??0)),v[y++]=f,v[y++]=d.BYTES_PER_ELEMENT;for(const _ of t)v[y++]=_.length-2,v[y++]=_[0],v[y++]=_[1];const b=new CompressionStream("deflate-raw"),w=b.writable.getWriter();await w.ready,w.write(v);const E=d.prototype.constructor;for(const _ of t){const M=new E(_.length-2);for(let D=2,P=_.length;D<P;D++)M[D-2]=_[D]-_[D-2];w.write(M)}w.close();const C=await new Response(b.readable).arrayBuffer(),A=new Uint8Array(C);return IF(A)}static async decompressSignature(t){try{const n=Cut(t),{readable:i,writable:a}=new DecompressionStream("deflate-raw"),r=a.getWriter();await r.ready,r.write(n).then(async()=>{await r.ready,await r.close()}).catch(()=>{});let s=null,o=0;for await(const _ of i)s||=new Uint8Array(new Uint32Array(_.buffer,0,4)[0]),s.set(_,o),o+=_.length;const c=new Uint32Array(s.buffer,0,s.length>>2),d=c[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const f=c[2],g=c[3],v=c[4]===0,y=c[5],b=c[6],w=c[7],E=[],C=(a1+Gg*b)*Uint32Array.BYTES_PER_ELEMENT;let A;switch(w){case Int8Array.BYTES_PER_ELEMENT:A=new Int8Array(s.buffer,C);break;case Int16Array.BYTES_PER_ELEMENT:A=new Int16Array(s.buffer,C);break;case Int32Array.BYTES_PER_ELEMENT:A=new Int32Array(s.buffer,C);break}o=0;for(let _=0;_<b;_++){const M=c[Gg*_+a1],D=new Float32Array(M+2);E.push(D);for(let P=0;P<Gg-1;P++)D[P]=c[Gg*_+a1+P+1];for(let P=0;P<M;P++)D[P+2]=D[P]+A[o++]}return{areContours:v,thickness:y,outlines:E,width:f,height:g}}catch(n){return Te(`decompressSignature: ${n}`),null}}}class m5 extends pB{constructor(){super(),super.updateProperties({fill:ue._defaultLineColor,"stroke-width":0})}clone(){const t=new m5;return t.updateAll(this),t}}class g5 extends p2{constructor(t){super(t),super.updateProperties({stroke:ue._defaultLineColor,"stroke-width":1})}clone(){const t=new g5(this._viewParameters);return t.updateAll(this),t}}class pl extends pe{#t=!1;#e=null;#n=null;#i=null;static _type="signature";static _editorType=Ce.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,n){ue.initialize(t,n),this._defaultDrawingOptions=new m5,this._defaultDrawnSignatureOptions=new g5(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return Je(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const n=t.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,n;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,n=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:a,mustSmooth:r,areContours:s,description:o,uuid:c,heightInPage:d}=this.#n,{rawDims:{pageWidth:f,pageHeight:g},rotation:v}=this.parent.viewport,y=vp.processDrawnLines({lines:a,pageWidth:f,pageHeight:g,rotation:v,innerMargin:pl._INNER_MARGIN,mustSmooth:r,areContours:s});this.addSignature(y,d,o,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return i&&(this._isCopy=!0,this._moveAfterPaste(t,n)),this.div}setUuid(t){this.#i=t,this.addEditToolbar()}getUuid(){return this.#i}get description(){return this.#e}set description(t){this.#e=t,super.addEditToolbar().then(n=>{n?.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:n,thickness:i,width:a,height:r}=this.#n,s=Math.max(a,r),o=vp.processDrawnLines({lines:{curves:t.map(c=>({points:c})),thickness:i,width:a,height:r},pageWidth:s,pageHeight:s,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:o.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,n,i,a){const{x:r,y:s}=this,{outline:o}=this.#n=t;this.#t=o instanceof IC,this.description=i,this.div.setAttribute("data-l10n-args",JSON.stringify({description:i}));let c;this.#t?c=pl.getDefaultDrawingOptions():(c=pl._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":o.thickness})),this._addOutlines({drawOutlines:o,drawingOptions:c});const[d,f]=this.parentDimensions,[,g]=this.pageDimensions;let v=n/g;v=v>=1?.5:v,this.width*=v/this.height,this.width>=1&&(v*=.9/this.width,this.width=.9),this.height=v,this.setDims(d*this.width,f*this.height),this.x=r,this.y=s,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:a}=this.parent.viewport;return vp.process(t,n,i,a,pl._INNER_MARGIN)}getFromText(t,n){const{rawDims:{pageWidth:i,pageHeight:a},rotation:r}=this.parent.viewport;return vp.extractContoursFromText(t,n,i,a,r,pl._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:a}=this.parent.viewport;return vp.processDrawnLines({lines:t,pageWidth:n,pageHeight:i,rotation:a,innerMargin:pl._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:n}){t?this._drawingOptions=pl.getDefaultDrawingOptions():(this._drawingOptions=pl._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:n,points:i,rect:a}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":r}}=this,s={annotationType:Ce.SIGNATURE,isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:r,pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(s.paths={lines:n,points:i},s.uuid=this.#i,s.isCopy=!0):s.lines=n,this.#e&&(s.accessibilityData={type:"Figure",alt:this.#e}),s}static deserializeDraw(t,n,i,a,r,s){return s.areContours?IC.deserialize(t,n,i,a,r,s):iy.deserialize(t,n,i,a,r,s)}static async deserialize(t,n,i){const a=await super.deserialize(t,n,i);return a.#t=t.areContours,a.#e=t.accessibilityData?.alt||"",a.#i=t.uuid,a}}class iht extends ue{#t=null;#e=null;#n=null;#i=null;#r=null;#a="";#o=null;#s=!1;#d=null;#l=!1;#h=!1;static _type="stamp";static _editorType=Ce.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#i=t.bitmapUrl,this.#r=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,n){ue.initialize(t,n)}static isHandlingMimeForPasting(t){return NC.includes(t)}static paste(t,n){n.pasteEditor({mode:Ce.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}#u(t,n=!1){if(!t){this.remove();return}this.#t=t.bitmap,n||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#a=t.file.name),this.#m()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#o){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:r,height:s}=t||this.copyCanvas(null,null,!0).imageData,o=await i.guess({name:"altText",request:{data:a,width:r,height:s,channels:a.length/(r*s)}});if(!o)throw new Error("No response from the AI service.");if(o.error)throw new Error("Error from the AI service.");if(o.cancel)return null;if(!o.output)throw new Error("No valid response from the AI service.");const c=o.output;return await this.setGuessedAltText(c),n&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}#p(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(i=>this.#u(i,!0)).finally(()=>this.#f());return}if(this.#i){const i=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(i).then(a=>this.#u(a)).finally(()=>this.#f());return}if(this.#r){const i=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(i).then(a=>this.#u(a)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=NC.join(",");const n=this._uiManager._signal;this.#n=new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(a)}i()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#o?.remove(),this.#o=null,this.#d&&(clearTimeout(this.#d),this.#d=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#p();return}super.rebuild(),this.div!==null&&(this.#e&&this.#o===null&&this.#p(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#n||this.#t||this.#i||this.#r||this.#e||this.#s)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;return this._isCopy&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#s||(this.#t?this.#m():this.#p()),this._isCopy&&this._moveAfterPaste(t,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,n){const{id:i,bitmap:a}=this._uiManager.imageManager.getFromCanvas(t,n);n.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(this.#e=i,a&&(this.#t=a),this.#s=!1,this.#m())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#d!==null&&clearTimeout(this.#d);const t=200;this.#d=setTimeout(()=>{this.#d=null,this.#g()},t)}#m(){const{div:t}=this;let{width:n,height:i}=this.#t;const[a,r]=this.pageDimensions,s=.75;if(this.width)n=this.width*a,i=this.height*r;else if(n>s*a||i>s*r){const f=Math.min(s*a/n,s*r/i);n*=f,i*=f}const[o,c]=this.parentDimensions;this.setDims(n*o/a,i*c/r),this._uiManager.enableWaiting(!1);const d=this.#o=document.createElement("canvas");d.setAttribute("role","img"),this.addContainer(d),this.width=n/a,this.height=i/r,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#g(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#a&&this.div.setAttribute("aria-description",this.#a),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,n,i=!1){t||(t=224);const{width:a,height:r}=this.#t,s=new _l;let o=this.#t,c=a,d=r,f=null;if(n){if(a>n||r>n){const P=Math.min(n/a,n/r);c=Math.floor(a*P),d=Math.floor(r*P)}f=document.createElement("canvas");const v=f.width=Math.ceil(c*s.sx),y=f.height=Math.ceil(d*s.sy);this.#l||(o=this.#c(v,y));const b=f.getContext("2d");b.filter=this._uiManager.hcmFilter;let w="white",E="#cfcfd8";this._uiManager.hcmFilter!=="none"?E="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(w="#8f8f9d",E="#42414d");const C=15,A=C*s.sx,_=C*s.sy,M=new OffscreenCanvas(A*2,_*2),D=M.getContext("2d");D.fillStyle=w,D.fillRect(0,0,A*2,_*2),D.fillStyle=E,D.fillRect(0,0,A,_),D.fillRect(A,_,A,_),b.fillStyle=b.createPattern(M,"repeat"),b.fillRect(0,0,v,y),b.drawImage(o,0,0,o.width,o.height,0,0,v,y)}let g=null;if(i){let v,y;if(s.symmetric&&o.width<t&&o.height<t)v=o.width,y=o.height;else if(o=this.#t,a>t||r>t){const E=Math.min(t/a,t/r);v=Math.floor(a*E),y=Math.floor(r*E),this.#l||(o=this.#c(v,y))}const w=new OffscreenCanvas(v,y).getContext("2d",{willReadFrequently:!0});w.drawImage(o,0,0,o.width,o.height,0,0,v,y),g={width:v,height:y,data:w.getImageData(0,0,v,y).data}}return{canvas:f,width:c,height:d,imageData:g}}#c(t,n){const{width:i,height:a}=this.#t;let r=i,s=a,o=this.#t;for(;r>2*t||s>2*n;){const c=r,d=s;r>2*t&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),s>2*n&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));const f=new OffscreenCanvas(r,s);f.getContext("2d").drawImage(o,0,0,c,d,0,0,r,s),o=f.transferToImageBitmap()}return o}#g(){const[t,n]=this.parentDimensions,{width:i,height:a}=this,r=new _l,s=Math.ceil(i*t*r.sx),o=Math.ceil(a*n*r.sy),c=this.#o;if(!c||c.width===s&&c.height===o)return;c.width=s,c.height=o;const d=this.#l?this.#t:this.#c(s,o),f=c.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(d,0,0,d.width,d.height,0,0,s,o)}#v(t){if(t){if(this.#l){const a=this._uiManager.imageManager.getSvgUrl(this.#e);if(a)return a}const n=document.createElement("canvas");return{width:n.width,height:n.height}=this.#t,n.getContext("2d").drawImage(this.#t,0,0),n.toDataURL()}if(this.#l){const[n,i]=this.pageDimensions,a=Math.round(this.width*n*Ip.PDF_TO_CSS_UNITS),r=Math.round(this.height*i*Ip.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(a,r);return s.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,a,r),s.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,n,i){let a=null,r=!1;if(t instanceof hB){const{data:{rect:w,rotation:E,id:C,structParent:A,popupRef:_},container:M,parent:{page:{pageNumber:D}},canvas:P}=t;let B,k;P?(delete t.canvas,{id:B,bitmap:k}=i.imageManager.getFromCanvas(M.id,P),P.remove()):(r=!0,t._hasNoCanvas=!0);const z=(await n._structTree.getAriaAttributes(`${e5}${C}`))?.get("aria-label")||"";a=t={annotationType:Ce.STAMP,bitmapId:B,bitmap:k,pageIndex:D-1,rect:w.slice(0),rotation:E,annotationElementId:C,id:C,deleted:!1,accessibilityData:{decorative:!1,altText:z},isSvg:!1,structParent:A,popupRef:_}}const s=await super.deserialize(t,n,i),{rect:o,bitmap:c,bitmapUrl:d,bitmapId:f,isSvg:g,accessibilityData:v}=t;r?(i.addMissingCanvas(t.id,s),s.#s=!0):f&&i.imageManager.isValidId(f)?(s.#e=f,c&&(s.#t=c)):s.#i=d,s.#l=g;const[y,b]=s.pageDimensions;return s.width=(o[2]-o[0])/y,s.height=(o[3]-o[1])/b,v&&(s.altTextData=v),s._initialData=a,s.#h=!!a,s}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:Ce.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#l,structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=this.#v(!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:a,altText:r}=this.serializeAltText(!1);if(!a&&r&&(i.accessibilityData={type:"Figure",alt:r}),this.annotationElementId){const o=this.#y(i);if(o.isSame)return null;o.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,n===null)return i;n.stamps||=new Map;const s=this.#l?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(this.#e))n.stamps.set(this.#e,{area:s,serialized:i}),i.bitmap=this.#v(!1);else if(this.#l){const o=n.stamps.get(this.#e);s>o.area&&(o.area=s,o.serialized.bitmap.close(),o.serialized.bitmap=this.#v(!1))}return i}#y(t){const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,a=t.pageIndex===n,r=(t.accessibilityData?.alt||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&a&&r,isSameAltText:r}}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}class gc{#t;#e=!1;#n=null;#i=null;#r=null;#a=new Map;#o=!1;#s=!1;#d=!1;#l=null;#h=null;#u=null;#f=null;#p=null;#m=-1;#c;static _initialized=!1;static#g=new Map([Yi,p5,iht,Ci,pl].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:n,div:i,structTreeLayer:a,accessibilityManager:r,annotationLayer:s,drawLayer:o,textLayer:c,viewport:d,l10n:f}){const g=[...gc.#g.values()];if(!gc._initialized){gc._initialized=!0;for(const v of g)v.initialize(f,t)}t.registerEditorTypes(g),this.#c=t,this.pageIndex=n,this.div=i,this.#t=r,this.#n=s,this.viewport=d,this.#u=c,this.drawLayer=o,this._structTree=a,this.#c.addLayer(this)}get isEmpty(){return this.#a.size===0}get isInvisible(){return this.isEmpty&&this.#c.getMode()===Ce.NONE}updateToolbar(t){this.#c.updateToolbar(t)}updateMode(t=this.#c.getMode()){switch(this.#w(),t){case Ce.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ce.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ce.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const i of gc.#g.values())n.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#u?.div}setEditingState(t){this.#c.setEditingState(t)}addCommands(t){this.#c.addCommands(t)}cleanUndoStack(t){this.#c.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}async enable(){this.#d=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.#p?.abort(),this.#p=null;const t=new Set;for(const i of this.#a.values())i.enableEditing(),i.show(!0),i.annotationElementId&&(this.#c.removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!this.#n){this.#d=!1;return}const n=this.#n.getEditableAnnotations();for(const i of n){if(i.hide(),this.#c.isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const a=await this.deserialize(i);a&&(this.addOrRebuild(a),a.enableEditing())}this.#d=!1}disable(){if(this.#s=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.#u&&!this.#p){this.#p=new AbortController;const a=this.#c.combinedSignal(this.#p);this.#u.div.addEventListener("pointerdown",r=>{const{clientX:o,clientY:c,timeStamp:d}=r,f=this.#m;if(d-f>500){this.#m=d;return}this.#m=-1;const{classList:g}=this.div;g.toggle("getElements",!0);const v=document.elementsFromPoint(o,c);if(g.toggle("getElements",!1),!this.div.contains(v[0]))return;let y;const b=new RegExp(`^${kF}[0-9]+$`);for(const E of v)if(b.test(E.id)){y=E.id;break}if(!y)return;const w=this.#a.get(y);w?.annotationElementId===null&&(r.stopPropagation(),r.preventDefault(),w.dblclick())},{signal:a,capture:!0})}const t=new Map,n=new Map;for(const a of this.#a.values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){t.set(a.annotationElementId,a);continue}else n.set(a.annotationElementId,a);this.getEditableAnnotation(a.annotationElementId)?.show(),a.remove()}if(this.#n){const a=this.#n.getEditableAnnotations();for(const r of a){const{id:s}=r.data;if(this.#c.isDeletedAnnotationElement(s))continue;let o=n.get(s);if(o){o.resetAnnotationElement(r),o.show(!1),r.show();continue}o=t.get(s),o&&(this.#c.addChangedExistingAnnotation(o),o.renderAnnotationElement(r)&&o.show(!1)),r.show()}}this.#w(),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const a of gc.#g.values())i.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#s=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#c.getActive()!==t&&this.#c.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#f){this.#f=new AbortController;const t=this.#c.combinedSignal(this.#f);this.#u.div.addEventListener("pointerdown",this.#v.bind(this),{signal:t}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#u.div.classList.remove("highlighting"))}#v(t){this.#c.unselectAll();const{target:n}=t;if(n===this.#u.div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&this.#u.div.contains(n)){const{isMac:i}=Ea.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#c.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),Ci.startHighlighting(this,this.#c.direction==="ltr",{target:this.#u.div,x:t.x,y:t.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#c._signal}),t.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;const t=this.#c.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:t}),this.div.addEventListener("pointercancel",n,{signal:t})}disableClick(){this.#i?.abort(),this.#i=null}attach(t){this.#a.set(t.id,t);const{annotationElementId:n}=t;n&&this.#c.isDeletedAnnotationElement(n)&&this.#c.removeDeletedAnnotationElement(t)}detach(t){this.#a.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#s&&t.annotationElementId&&this.#c.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#c.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#c.addDeletedAnnotationElement(t.annotationElementId),ue.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#c.addEditor(t),this.attach(t),!t.isAttachedToDOM){const n=t.render();this.div.append(n),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#d),this.#c.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:n}=document;t.div.contains(n)&&!this.#r&&(t._focusEventsAllowed=!1,this.#r=setTimeout(()=>{this.#r=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#c._signal}),n.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const n=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:n,undo:i,mustExec:!1})}getNextId(){return this.#c.getId()}get#y(){return gc.#g.get(this.#c.getMode())}combinedSignal(t){return this.#c.combinedSignal(t)}#b(t){const n=this.#y;return n?new n.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#y?.canCreateNewEmptyEditor()}async pasteEditor(t,n){this.updateToolbar(t),await this.#c.updateMode(t.mode);const{offsetX:i,offsetY:a}=this.#x(),r=this.getNextId(),s=this.#b({parent:this,id:r,x:i,y:a,uiManager:this.#c,isCentered:!0,...n});s&&this.add(s)}async deserialize(t){return await gc.#g.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#c)||null}createAndAddNewEditor(t,n,i={}){const a=this.getNextId(),r=this.#b({parent:this,id:a,x:t.offsetX,y:t.offsetY,uiManager:this.#c,isCentered:n,...i});return r&&this.add(r),r}#x(){const{x:t,y:n,width:i,height:a}=this.div.getBoundingClientRect(),r=Math.max(0,t),s=Math.max(0,n),o=Math.min(window.innerWidth,t+i),c=Math.min(window.innerHeight,n+a),d=(r+o)/2-t,f=(s+c)/2-n,[g,v]=this.viewport.rotation%180===0?[d,f]:[f,d];return{offsetX:g,offsetY:v}}addNewEditor(t={}){this.createAndAddNewEditor(this.#x(),!0,t)}setSelected(t){this.#c.setSelected(t)}toggleSelected(t){this.#c.toggleSelected(t)}unselect(t){this.#c.unselect(t)}pointerup(t){const{isMac:n}=Ea.platform;if(t.button!==0||t.ctrlKey&&n||t.target!==this.div||!this.#o||(this.#o=!1,this.#y?.isDrawer&&this.#y.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const i=this.#c.getMode();if(i===Ce.STAMP||i===Ce.SIGNATURE){this.#c.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#c.getMode()===Ce.HIGHLIGHT&&this.enableTextSelection(),this.#o){this.#o=!1;return}const{isMac:n}=Ea.platform;if(t.button!==0||t.ctrlKey&&n||t.target!==this.div)return;if(this.#o=!0,this.#y?.isDrawer){this.startDrawingSession(t);return}const i=this.#c.getActive();this.#e=!i||i.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#y.startDrawing(this,this.#c,!1,t);return}this.#c.setCurrentDrawingSession(this),this.#l=new AbortController;const n=this.#c.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(this.#h=null,this.commitOrRemove())},{signal:n}),this.#y.startDrawing(this,this.#c,!1,t)}pause(t){if(t){const{activeElement:n}=document;this.div.contains(n)&&(this.#h=n);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(t=!1){return this.#l?(this.#c.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#y.endDrawing(t)):null}findNewParent(t,n,i){const a=this.#c.findParent(n,i);return a===null||a===this?!1:(a.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#y.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#c.getActive()?.parent===this&&(this.#c.commitOrRemove(),this.#c.setActiveEditor(null)),this.#r&&(clearTimeout(this.#r),this.#r=null);for(const t of this.#a.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#a.clear(),this.#c.removeLayer(this)}#w(){for(const t of this.#a.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,bh(this.div,t);for(const n of this.#c.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:t}){this.#c.commitOrRemove(),this.#w();const n=this.viewport.rotation,i=t.rotation;if(this.viewport=t,bh(this.div,{rotation:i}),n!==i)for(const a of this.#a.values())a.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:n}=this.viewport.rawDims;return[t,n]}get scale(){return this.#c.viewParameters.realScale}}class xa{#t=null;#e=new Map;#n=new Map;static#i=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const n of this.#e.values())n.remove(),t.append(n);this.#t=t}}static get _svgFactory(){return Je(this,"_svgFactory",new nx)}static#r(t,[n,i,a,r]){const{style:s}=t;s.top=`${100*i}%`,s.left=`${100*n}%`,s.width=`${100*a}%`,s.height=`${100*r}%`}#a(){const t=xa._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#o(t,n){const i=xa._svgFactory.createElement("clipPath");t.append(i);const a=`clip_${n}`;i.setAttribute("id",a),i.setAttribute("clipPathUnits","objectBoundingBox");const r=xa._svgFactory.createElement("use");return i.append(r),r.setAttribute("href",`#${n}`),r.classList.add("clip"),a}#s(t,n){for(const[i,a]of Object.entries(n))a===null?t.removeAttribute(i):t.setAttribute(i,a)}draw(t,n=!1,i=!1){const a=xa.#i++,r=this.#a(),s=xa._svgFactory.createElement("defs");r.append(s);const o=xa._svgFactory.createElement("path");s.append(o);const c=`path_p${this.pageIndex}_${a}`;o.setAttribute("id",c),o.setAttribute("vector-effect","non-scaling-stroke"),n&&this.#n.set(a,o);const d=i?this.#o(s,c):null,f=xa._svgFactory.createElement("use");return r.append(f),f.setAttribute("href",`#${c}`),this.updateProperties(r,t),this.#e.set(a,r),{id:a,clipPathId:`url(#${d})`}}drawOutline(t,n){const i=xa.#i++,a=this.#a(),r=xa._svgFactory.createElement("defs");a.append(r);const s=xa._svgFactory.createElement("path");r.append(s);const o=`path_p${this.pageIndex}_${i}`;s.setAttribute("id",o),s.setAttribute("vector-effect","non-scaling-stroke");let c;if(n){const g=xa._svgFactory.createElement("mask");r.append(g),c=`mask_p${this.pageIndex}_${i}`,g.setAttribute("id",c),g.setAttribute("maskUnits","objectBoundingBox");const v=xa._svgFactory.createElement("rect");g.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const y=xa._svgFactory.createElement("use");g.append(y),y.setAttribute("href",`#${o}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const d=xa._svgFactory.createElement("use");a.append(d),d.setAttribute("href",`#${o}`),c&&d.setAttribute("mask",`url(#${c})`);const f=d.cloneNode();return a.append(f),d.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(a,t),this.#e.set(i,a),i}finalizeDraw(t,n){this.#n.delete(t),this.updateProperties(t,n)}updateProperties(t,n){if(!n)return;const{root:i,bbox:a,rootClass:r,path:s}=n,o=typeof t=="number"?this.#e.get(t):t;if(o){if(i&&this.#s(o,i),a&&xa.#r(o,a),r){const{classList:c}=o;for(const[d,f]of Object.entries(r))c.toggle(d,f)}if(s){const d=o.firstChild.firstChild;this.#s(d,s)}}}updateParent(t,n){if(n===this)return;const i=this.#e.get(t);i&&(n.#t.append(i),this.#e.delete(t),n.#e.set(t,i))}remove(t){this.#n.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:FC};globalThis.pdfjsLib={AbortException:Iu,AnnotationEditorLayer:gc,AnnotationEditorParamsType:ln,AnnotationEditorType:Ce,AnnotationEditorUIManager:zu,AnnotationLayer:f5,AnnotationMode:Au,AnnotationType:Fi,build:Ldt,ColorPicker:Rs,createValidAbsoluteUrl:LF,DOMSVGFactory:nx,DrawLayer:xa,FeatureTest:Ea,fetchData:Jv,getDocument:nB,getFilenameFromUrl:Tut,getPdfFilenameFromUrl:Rut,getUuid:BF,getXfaPageViewport:Dut,GlobalWorkerOptions:Op,ImageKind:w1,InvalidPDFException:OC,isDataScheme:d2,isPdfFile:i5,isValidExplicitDest:Uut,MathClamp:ar,noContextMenu:yo,normalizeUnicode:Eut,OPS:tx,OutputScale:_l,PasswordResponses:mut,PDFDataRangeTransport:iB,PDFDateString:zF,PDFWorker:_v,PermissionFlag:put,PixelsPerInch:Ip,RenderingCancelledException:n5,ResponseException:ex,setLayerDimensions:bh,shadow:Je,SignatureExtractor:vp,stopEvent:Ii,SupportedImageMimeTypes:NC,TextLayer:er,TouchManager:h2,updateUrlHash:jF,Util:se,VerbosityLevel:l2,version:kdt,XfaLayer:sB};Op.workerSrc="/pdf.worker.js";async function aht(e,t=2){return new Promise((n,i)=>{const a=new FileReader;a.onload=async function(){const r=new Uint8Array(this.result),o=await(await nB({data:r}).promise).getPage(1),c=o.getViewport({scale:t}),d=document.createElement("canvas"),f=d.getContext("2d");d.width=c.width,d.height=c.height,await o.render({canvasContext:f,viewport:c}).promise;const g=d.toDataURL("image/png");n({dataUrl:g,width:c.width,height:c.height})},a.onerror=i,a.readAsArrayBuffer(e)})}const rht=[{key:"canvas",label:"Canvas",icon:L.jsx(l3,{size:18})},{key:"export",label:"Exportar",icon:L.jsx(f1,{size:18})},{key:"about",label:"About",icon:L.jsx(hP,{size:18})}];function sht({isOpen:e,onClose:t}){const[n,i]=j.useState("canvas"),{canvasWidth:a,canvasHeight:r,setCanvasSize:s,backgroundColor:o,setBackgroundColor:c,resetView:d,setBackgroundImage:f,clearBackgroundImage:g,backgroundImage:v}=Lt(),[y,b]=j.useState({width:a,height:r,backgroundColor:o,backgroundImage:v});j.useEffect(()=>{e&&b({width:a,height:r,backgroundColor:o,backgroundImage:v})},[e,a,r,o,v]);const w=window.__konvaStageRef,E=D=>{if(!w)return;const P=w,B={x:P.scaleX(),y:P.scaleY()},k={x:P.x(),y:P.y()},z=window.__konvaOffset||{x:0,y:0},H=a,G=r;P.scale({x:1,y:1}),P.position({x:0,y:0}),P.batchDraw();const Q=P.findOne("#background-rect"),at=Q?Q.fill():null;D==="jpg"&&Q&&Q.fill("#fff");const Z=P.toDataURL({x:z.x,y:z.y,width:H,height:G,pixelRatio:3,mimeType:D==="jpg"?"image/jpeg":"image/png",quality:D==="jpg"?1:void 0});P.scale(B),P.position(k),P.batchDraw(),D==="jpg"&&Q&&at&&Q.fill(at);const nt=document.createElement("a");nt.download=`canvas.${D}`,nt.href=Z,nt.click()};function C(){s({width:Math.max(100,parseInt(y.width)),height:Math.max(100,parseInt(y.height))}),c(y.backgroundColor),y.backgroundImage!==v&&f(y.backgroundImage),t()}function A(){b({width:a,height:r,backgroundColor:o,backgroundImage:v}),t()}function _(D){const P=D.target.files[0];if(!P)return;const B=new FileReader;B.onload=function(k){const z=k.target.result,H=new window.Image;H.src=z,H.onload=()=>{b(G=>({...G,width:Math.round(H.width),height:Math.round(H.height),backgroundImage:z}))}},B.readAsDataURL(P)}async function M(D){const P=D.target.files[0];if(!P)return;const{dataUrl:B,width:k,height:z}=await aht(P,2);b(H=>({...H,width:Math.round(k),height:Math.round(z),backgroundImage:B}))}return L.jsx(nm,{isOpen:e,onClose:t,title:L.jsxs("span",{className:"flex gap-2 items-center",children:[L.jsx(vP,{size:20}),"Menu"]}),children:L.jsxs("div",{className:"flex flex-col md:flex-row w-full max-w-[90vw] md:max-w-2xl min-h-[650px] md:min-h-[500px]",children:[L.jsx("aside",{className:"flex md:flex-col gap-1 md:pr-2 mb-2 md:mb-0 border-b md:border-b-0 md:border-r border-slate-200 md:min-w-[110px]",children:rht.map(D=>L.jsxs("button",{className:qn("flex items-center gap-2 px-3 py-2 rounded transition-colors font-medium w-full md:w-auto",n===D.key?"bg-blue-100 text-blue-800":"hover:bg-slate-100 text-slate-700"),onClick:()=>i(D.key),children:[D.icon," ",D.label]},D.key))}),L.jsxs("section",{className:"flex-1 pl-0 md:pl-6 overflow-y-auto relative",children:[n==="canvas"&&L.jsxs("form",{className:"flex flex-col gap-y-8 md:gap-y-6 h-full",onSubmit:D=>{D.preventDefault(),C()},children:[L.jsxs("div",{children:[L.jsxs("h3",{className:"font-bold md:text-lg mb-2 flex items-center gap-2",children:[L.jsx(l3,{size:18})," Canvas Size"]}),L.jsxs("div",{className:"flex sm:flex-row gap-3 sm:gap-4",children:[L.jsxs("div",{className:"flex flex-col gap-1 w-full sm:w-32",children:[L.jsx("span",{className:"text-xs font-semibold",children:"Width"}),L.jsx("input",{type:"number",min:100,max:6e3,step:1,pattern:"\\d*",value:y.width,inputMode:"numeric",onKeyDown:D=>{(D.key==="."||D.key===","||D.key==="e")&&D.preventDefault()},onChange:D=>{const P=D.target.value.replace(/[^\d]/g,"");b(B=>({...B,width:P}))},className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-base text-center font-medium shadow-sm focus:ring-2 focus:ring-blue-400"})]}),L.jsxs("div",{className:"flex flex-col gap-1 w-full sm:w-32",children:[L.jsx("span",{className:"text-xs font-semibold",children:"Height"}),L.jsx("input",{type:"number",min:100,max:6e3,step:1,pattern:"\\d*",value:y.height,inputMode:"numeric",onChange:D=>{const P=D.target.value.replace(/[^\d]/g,"");b(B=>({...B,height:P}))},className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-base text-center font-medium shadow-sm focus:ring-2 focus:ring-blue-400"})]})]})]}),L.jsxs("div",{children:[L.jsxs("h3",{className:"font-bold md:text-lg mb-2 flex items-center gap-2",children:[L.jsx(mP,{size:18})," Canvas Background"]}),L.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[L.jsx(J1,{icon:M1,color:y.backgroundColor,onChange:D=>b(P=>({...P,backgroundColor:D})),label:"Color de fondo",size:32}),L.jsxs("button",{type:"button",className:"inline-flex items-center px-3 py-1 rounded bg-blue-50 text-blue-700 text-xs font-medium ml-2 hover:bg-blue-100 border border-blue-300 transition",onClick:()=>b(D=>({...D,backgroundColor:"#FFFFFF"})),children:[L.jsx(W4,{size:16,className:"mr-1"}),"Restablecer"]})]})]}),L.jsxs("div",{children:[L.jsxs("label",{className:"text-xs font-semibold mb-1 flex items-center gap-2",children:[L.jsx(Y4,{size:18})," Fondo con Imagen:"]}),L.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-start sm:items-center",children:[L.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-slate-100 rounded-md cursor-pointer border border-slate-200 hover:bg-blue-50 transition w-full",children:[L.jsx(Y4,{size:18}),L.jsx("span",{className:"text-xs font-medium",children:"Seleccionar Imagen"}),L.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:_})]}),y.backgroundImage&&L.jsxs("div",{className:"flex items-center gap-1 mt-2 sm:mt-0 flex-nowrap text-nowrap w-full",children:[L.jsx("img",{src:y.backgroundImage,alt:"Fondo",className:"h-9 w-9 object-cover rounded"}),L.jsxs("button",{type:"button",className:"px-2 py-1 text-xs flex gap-2 h-9 items-center rounded bg-red-100 hover:bg-red-200 transition",onClick:()=>b(D=>({...D,backgroundImage:null})),children:[L.jsx(Yp,{size:20})," Quitar imagen"]})]})]})]}),L.jsxs("div",{className:"w-full",children:[L.jsxs("label",{className:"text-xs font-semibold mb-1 flex items-center gap-2",children:[L.jsx(K4,{size:18})," Fondo desde PDF:"]}),L.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-slate-100 rounded-md cursor-pointer border border-slate-200 hover:bg-blue-50 transition w-full",children:[L.jsx(K4,{size:18}),L.jsx("span",{className:"text-xs font-medium",children:"Seleccionar PDF"}),L.jsx("input",{type:"file",accept:"application/pdf",className:"hidden",onChange:M})]})]}),L.jsx("div",{children:L.jsxs("button",{type:"button",className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 hover:bg-red-100 transition w-full sm:w-auto",onClick:d,children:[L.jsx(W4,{size:16})," Reiniciar Vista del Canvas"]})}),L.jsxs("div",{className:"flex sm:flex-row gap-3 justify-end items-center mt-2 pt-2 border-t",children:[L.jsxs("button",{type:"button",className:"flex items-center gap-2 px-4 py-2 rounded bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium transition w-full sm:w-auto",onClick:A,children:[L.jsx(yP,{size:18})," Descartar"]}),L.jsxs("button",{type:"submit",className:"flex items-center text-center gap-2 px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 text-white font-semibold shadow w-full sm:w-auto",children:[L.jsx(gP,{size:18})," Guardar"]})]})]}),n==="export"&&L.jsxs("div",{className:"space-y-6",children:[L.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[L.jsx(f1,{size:18})," Exportar Canvas"]}),L.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[L.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded bg-blue-600 text-white font-semibold w-full sm:w-auto",onClick:()=>E("png"),children:[L.jsx(f1,{size:16})," PNG"]}),L.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded bg-green-600 text-white font-semibold w-full sm:w-auto",onClick:()=>E("jpg"),children:[L.jsx(f1,{size:16})," JPG"]})]}),L.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Solo se exportar la zona de trabajo actual. Las figuras fuera del rea se recortan."})]}),n==="about"&&L.jsxs("div",{className:"space-y-3",children:[L.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[L.jsx(hP,{size:18})," About"]}),L.jsxs("div",{className:"text-sm",children:[L.jsx("b",{children:"Desarrollado por Raul Belloso M"})," ",L.jsx("br",{}),L.jsxs("span",{className:"text-xs text-gray-500",children:["Cualquier sugerencia o contacto en ",L.jsx("br",{}),L.jsx("a",{className:"text-blue-500 underline",href:"https://racoondevs.com",children:"racoondevs.com"}),L.jsx("br",{}),L.jsx("a",{className:"text-blue-500 underline",href:"mailto:raul.belloso.m@gmail.com",children:"raul.belloso.m@gmail.com"})]}),L.jsx("br",{}),"Esta aplicacin es un editor de canvas simple para crear dibujos y diseos. Puedes usar herramientas bsicas como lpiz, borrador y formas geomtricas.",L.jsx("br",{}),L.jsx("br",{}),L.jsx("p",{className:"text-sm mb-2",children:"Sgueme en redes sociales para ms contenido y actualizaciones:"}),L.jsxs("span",{className:"text-xs text-gray-500 flex gap-2",children:[L.jsx("a",{className:"text-white rounded-full p-3 bg-blue-600 flex items-center justify-center",href:"https://www.facebook.com/raul.bellosom",target:"_blank",rel:"noopener noreferrer",children:L.jsx(eG,{size:16,className:"inline"})})," ",L.jsx("a",{className:"text-white rounded-full p-3 bg-fuchsia-400 flex items-center justify-center",href:"https://www.instagram.com/raulbellosom/",target:"_blank",rel:"noopener noreferrer",children:L.jsx(mG,{size:16,className:"inline"})})," ",L.jsx("a",{className:"text-white rounded-full p-3 bg-black flex items-center justify-center",href:"https://x.com/Raul_BellosoM",target:"_blank",rel:"noopener noreferrer",children:L.jsx(ZG,{size:16,className:"inline"})})]}),L.jsx("p",{className:"text-sm mt-4",children:"Si te gusta este proyecto, considera hacer una donacin para apoyar su desarrollo:"}),L.jsxs("div",{className:"flex gap-2 mt-2",children:[L.jsxs("a",{href:"https://www.paypal.com/donate/?hosted_button_id=Z3X5K6Y7V8W9U",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 rounded bg-blue-600 text-white font-semibold",children:[L.jsx(PH,{className:"w-5 h-5"}),"Donar con PayPal"]}),L.jsxs("a",{href:"https://ko-fi.com/raulbellosom",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 rounded bg-yellow-500 text-white font-semibold",children:[L.jsx(KH,{className:"w-5 h-5"}),"Donar con Ko-fi"]})]})]})]})]})]})})}function mB(){const e=Lt(n=>n.activeLayerId);return Lt(n=>n.layers).find(n=>n.id===e&&n.visible)||null}const oht=[{name:"select",icon:kG,title:"Seleccionar (V)"},{name:"free",icon:FG,title:"Dibujo libre"},{name:"line",icon:YG,title:"Lnea (L)"},{name:"arrow",icon:TH,title:"Flecha (A)"},{name:"rect",icon:XG,title:"Rectngulo (R)"},{name:"circle",icon:GH,title:"Crculo (C)"},{name:"text",icon:tq,title:"Texto (T)"},{name:"image",icon:l3,title:"Imagen (I)"},{name:"marker",icon:DG,title:"Marcador (M)"}],lht={collapsed:{height:56,transition:{duration:.4,ease:[.4,0,.2,1],when:"afterChildren"}},expanded:{height:"auto",transition:{duration:.4,ease:[.4,0,.2,1],when:"beforeChildren"}}},cht={collapsed:{opacity:0,y:-10,transition:{duration:.2,ease:"easeIn",staggerChildren:.01,staggerDirection:-1}},expanded:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut",staggerChildren:.03,delayChildren:.1}}},oo={collapsed:{opacity:0,scale:.9,y:-5,transition:{duration:.15,ease:"easeIn"}},expanded:{opacity:1,scale:1,y:0,transition:{duration:.2,ease:"easeOut"}}},uht={collapsed:{rotate:0,transition:{duration:.3,ease:"easeOut"}},expanded:{rotate:180,transition:{duration:.3,ease:"easeOut"}}};function dht(){const{strokeColor:e,fillColor:t,tool:n,clipboardShape:i}=Lt(),[a,r]=j.useState(!1),[s,o]=j.useState(!1),d=!!mB(),f=Lt(k=>k.selectedShapeId),g=Lt(k=>k.copyShape),v=Lt(k=>k.pasteShape),y=Lt(k=>k.shapes),b=Lt(k=>k.updateShape),w=Lt(k=>k.setStrokeColor),E=Lt(k=>k.setFillColor),C=y.find(k=>k.id===f),A=C?.props?.stroke??e,_=C?.props?.fill??t;Lt(k=>k.activeLayerId);const M=Lt(k=>k.setTool),D=k=>{C?(b(C.id,{stroke:k}),saveToHistory()):w(k)},P=k=>{C?(b(C.id,{fill:k}),saveToHistory()):E(k)},B=t5({maxWidth:768});return L.jsxs(L.Fragment,{children:[L.jsxs(xn.div,{variants:lht,animate:s?"collapsed":"expanded",className:qn("fixed z-40 flex flex-col items-center","backdrop-blur-lg shadow-2xl bg-blue-900/50 rounded-2xl","top-3 right-3"),style:{width:64,height:"auto",minHeight:56,maxHeight:"calc(100vh - 112px)",overflow:"hidden"},children:[L.jsx(xn.button,{variants:uht,animate:s?"collapsed":"expanded",className:qn("p-2 transition-colors duration-200 flex-shrink-0 bg-slate-800 text-white flex items-center justify-center","rounded-t-2xl w-full"),onClick:()=>o(!s),title:s?"Mostrar herramientas":"Colapsar herramientas",children:B?s?L.jsx(R1,{size:20}):L.jsx(sv,{size:20}):s?L.jsx(sv,{size:20}):L.jsx(R1,{size:20})}),L.jsx(Dx,{children:!s&&L.jsxs(xn.div,{variants:cht,initial:"collapsed",animate:"expanded",exit:"collapsed",className:qn("flex items-center gap-2 p-2","w-full flex-1 flex-col overflow-y-auto"),style:{maxHeight:"calc(100vh - 168px)",scrollbarWidth:"none",msOverflowStyle:"none"},children:[L.jsx(xn.div,{variants:oo,className:qn("flex gap-2","flex-col"),children:oht.map(({name:k,icon:z,title:H},G)=>L.jsx(xn.button,{variants:oo,custom:G,title:H,onClick:()=>{if(k!=="select"&&k!=="hand"&&!d){Mn("Selecciona una capa antes de continuar",{icon:"",duration:3e3});return}M(k)},className:qn("p-2 rounded transition-colors duration-200 flex-shrink-0",{"bg-blue-500/90 text-white":n===k,"text-white hover:text-white hover:bg-blue-500/90":n!==k}),children:L.jsx(z,{size:20})},k))}),L.jsx(xn.div,{variants:oo,className:qn("border-slate-500/50","border-t w-8 my-2")}),L.jsxs(xn.div,{variants:oo,className:qn("flex gap-3 items-center","flex-col"),children:[L.jsx(xn.div,{variants:oo,children:L.jsx(J1,{icon:M1,color:A,onChange:D,label:"Color del trazo",vertical:!B})}),L.jsx(xn.div,{variants:oo,children:L.jsx(J1,{icon:mP,color:_,onChange:P,label:"Color de relleno",vertical:!B})}),L.jsx(xn.button,{variants:oo,className:"p-2 rounded text-white hover:bg-blue-500/90 transition-colors duration-200",title:"Configuracin del lienzo",onClick:()=>r(!0),children:L.jsx(vP,{size:20})})]}),L.jsx(xn.div,{variants:oo,className:qn("border-slate-500/50","border-t w-8 my-2")}),L.jsxs(xn.div,{variants:oo,className:qn("flex gap-2","flex-col"),children:[L.jsx(xn.button,{variants:oo,className:qn("p-2 rounded transition-colors duration-200 flex-shrink-0",{"bg-blue-500/90 text-white":f,"text-white hover:text-white hover:bg-blue-500/90":!f}),title:"Copiar elemento (Ctrl+C)",onClick:()=>g(f),disabled:!f,children:L.jsx(dP,{size:20})}),L.jsx(xn.button,{variants:oo,className:qn("p-2 rounded transition-colors duration-200 flex-shrink-0",{"bg-blue-500/90 text-white":i,"text-white hover:text-white hover:bg-blue-500/90":!i}),title:"Pegar elemento (Ctrl+V)",onClick:v,disabled:!i,children:L.jsx($H,{size:20})})]})]},"toolbar-content")})]}),L.jsx(sht,{isOpen:a,onClose:()=>r(!1)})]})}function tr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var hht=typeof Symbol=="function"&&Symbol.observable||"@@observable",BN=hht,IN=()=>Math.random().toString(36).substring(7).split("").join("."),fht={INIT:`@@redux/INIT${IN()}`,REPLACE:`@@redux/REPLACE${IN()}`},zN=fht;function pht(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function gB(e,t,n){if(typeof e!="function")throw new Error(tr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(tr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(tr(1));return n(gB)(e,t)}let i=e,a=t,r=new Map,s=r,o=0,c=!1;function d(){s===r&&(s=new Map,r.forEach((E,C)=>{s.set(C,E)}))}function f(){if(c)throw new Error(tr(3));return a}function g(E){if(typeof E!="function")throw new Error(tr(4));if(c)throw new Error(tr(5));let C=!0;d();const A=o++;return s.set(A,E),function(){if(C){if(c)throw new Error(tr(6));C=!1,d(),s.delete(A),r=null}}}function v(E){if(!pht(E))throw new Error(tr(7));if(typeof E.type>"u")throw new Error(tr(8));if(typeof E.type!="string")throw new Error(tr(17));if(c)throw new Error(tr(9));try{c=!0,a=i(a,E)}finally{c=!1}return(r=s).forEach(A=>{A()}),E}function y(E){if(typeof E!="function")throw new Error(tr(10));i=E,v({type:zN.REPLACE})}function b(){const E=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(tr(11));function A(){const M=C;M.next&&M.next(f())}return A(),{unsubscribe:E(A)}},[BN](){return this}}}return v({type:zN.INIT}),{dispatch:v,subscribe:g,getState:f,replaceReducer:y,[BN]:b}}function UN(e,t){return function(...n){return t(e.apply(this,n))}}function HN(e,t){if(typeof e=="function")return UN(e,t);if(typeof e!="object"||e===null)throw new Error(tr(16));const n={};for(const i in e){const a=e[i];typeof a=="function"&&(n[i]=UN(a,t))}return n}function vB(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...i)=>t(n(...i)))}function mht(...e){return t=>(n,i)=>{const a=t(n,i);let r=()=>{throw new Error(tr(15))};const s={getState:a.getState,dispatch:(c,...d)=>r(c,...d)},o=e.map(c=>c(s));return r=vB(...o)(a.dispatch),{...a,dispatch:r}}}var ght=j.version.startsWith("19"),vht=Symbol.for(ght?"react.transitional.element":"react.element"),yht=Symbol.for("react.portal"),bht=Symbol.for("react.fragment"),xht=Symbol.for("react.strict_mode"),Sht=Symbol.for("react.profiler"),wht=Symbol.for("react.consumer"),_ht=Symbol.for("react.context"),yB=Symbol.for("react.forward_ref"),Eht=Symbol.for("react.suspense"),Aht=Symbol.for("react.suspense_list"),v5=Symbol.for("react.memo"),Cht=Symbol.for("react.lazy"),Tht=yB,Rht=v5;function Mht(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case vht:switch(e=e.type,e){case bht:case Sht:case xht:case Eht:case Aht:return e;default:switch(e=e&&e.$$typeof,e){case _ht:case yB:case Cht:case v5:return e;case wht:return e;default:return t}}case yht:return t}}}function Dht(e){return Mht(e)===v5}function Oht(e,t,n,i,{areStatesEqual:a,areOwnPropsEqual:r,areStatePropsEqual:s}){let o=!1,c,d,f,g,v;function y(A,_){return c=A,d=_,f=e(c,d),g=t(i,d),v=n(f,g,d),o=!0,v}function b(){return f=e(c,d),t.dependsOnOwnProps&&(g=t(i,d)),v=n(f,g,d),v}function w(){return e.dependsOnOwnProps&&(f=e(c,d)),t.dependsOnOwnProps&&(g=t(i,d)),v=n(f,g,d),v}function E(){const A=e(c,d),_=!s(A,f);return f=A,_&&(v=n(f,g,d)),v}function C(A,_){const M=!r(_,d),D=!a(A,c,_,d);return c=A,d=_,M&&D?b():M?w():D?E():v}return function(_,M){return o?C(_,M):y(_,M)}}function Nht(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:i,...a}){const r=t(e,a),s=n(e,a),o=i(e,a);return Oht(r,s,o,e,a)}function Pht(e,t){const n={};for(const i in e){const a=e[i];typeof a=="function"&&(n[i]=(...r)=>t(a(...r)))}return n}function zC(e){return function(n){const i=e(n);function a(){return i}return a.dependsOnOwnProps=!1,a}}function GN(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function bB(e,t){return function(i,{displayName:a}){const r=function(o,c){return r.dependsOnOwnProps?r.mapToProps(o,c):r.mapToProps(o,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(o,c){r.mapToProps=e,r.dependsOnOwnProps=GN(e);let d=r(o,c);return typeof d=="function"&&(r.mapToProps=d,r.dependsOnOwnProps=GN(d),d=r(o,c)),d},r}}function y5(e,t){return(n,i)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${i.wrappedComponentName}.`)}}function kht(e){return e&&typeof e=="object"?zC(t=>Pht(e,t)):e?typeof e=="function"?bB(e):y5(e,"mapDispatchToProps"):zC(t=>({dispatch:t}))}function Lht(e){return e?typeof e=="function"?bB(e):y5(e,"mapStateToProps"):zC(()=>({}))}function jht(e,t,n){return{...n,...e,...t}}function Fht(e){return function(n,{displayName:i,areMergedPropsEqual:a}){let r=!1,s;return function(c,d,f){const g=e(c,d,f);return r?a(g,s)||(s=g):(r=!0,s=g),s}}}function Bht(e){return e?typeof e=="function"?Fht(e):y5(e,"mergeProps"):()=>jht}function Iht(e){e()}function zht(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Iht(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!i||e===null||(i=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var qN={notify(){},get:()=>[]};function xB(e,t){let n,i=qN,a=0,r=!1;function s(w){f();const E=i.subscribe(w);let C=!1;return()=>{C||(C=!0,E(),g())}}function o(){i.notify()}function c(){b.onStateChange&&b.onStateChange()}function d(){return r}function f(){a++,n||(n=t?t.addNestedSub(c):e.subscribe(c),i=zht())}function g(){a--,n&&a===0&&(n(),n=void 0,i.clear(),i=qN)}function v(){r||(r=!0,f())}function y(){r&&(r=!1,g())}const b={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:d,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>i};return b}var Uht=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Hht=Uht(),Ght=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qht=Ght(),Vht=()=>Hht||qht?j.useLayoutEffect:j.useEffect,ix=Vht();function VN(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function iA(e,t){if(VN(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!VN(e[n[a]],t[n[a]]))return!1;return!0}var $ht={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Yht={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Kht={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},SB={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Xht={[Tht]:Kht,[Rht]:SB};function $N(e){return Dht(e)?SB:Xht[e.$$typeof]||$ht}var Wht=Object.defineProperty,Qht=Object.getOwnPropertyNames,YN=Object.getOwnPropertySymbols,Zht=Object.getOwnPropertyDescriptor,Jht=Object.getPrototypeOf,KN=Object.prototype;function UC(e,t){if(typeof t!="string"){if(KN){const r=Jht(t);r&&r!==KN&&UC(e,r)}let n=Qht(t);YN&&(n=n.concat(YN(t)));const i=$N(e),a=$N(t);for(let r=0;r<n.length;++r){const s=n[r];if(!Yht[s]&&!(a&&a[s])&&!(i&&i[s])){const o=Zht(t,s);try{Wht(e,s,o)}catch{}}}}return e}var tft=Symbol.for("react-redux-context"),eft=typeof globalThis<"u"?globalThis:{};function nft(){if(!j.createContext)return{};const e=eft[tft]??=new Map;let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var wB=nft(),ift=[null,null];function aft(e,t,n){ix(()=>e(...t),n)}function rft(e,t,n,i,a,r){e.current=i,n.current=!1,a.current&&(a.current=null,r())}function sft(e,t,n,i,a,r,s,o,c,d,f){if(!e)return()=>{};let g=!1,v=null;const y=()=>{if(g||!o.current)return;const w=t.getState();let E,C;try{E=i(w,a.current)}catch(A){C=A,v=A}C||(v=null),E===r.current?s.current||d():(r.current=E,c.current=E,s.current=!0,f())};return n.onStateChange=y,n.trySubscribe(),y(),()=>{if(g=!0,n.tryUnsubscribe(),n.onStateChange=null,v)throw v}}function oft(e,t){return e===t}function lft(e,t,n,{pure:i,areStatesEqual:a=oft,areOwnPropsEqual:r=iA,areStatePropsEqual:s=iA,areMergedPropsEqual:o=iA,forwardRef:c=!1,context:d=wB}={}){const f=d,g=Lht(e),v=kht(t),y=Bht(n),b=!!e;return E=>{const C=E.displayName||E.name||"Component",A=`Connect(${C})`,_={shouldHandleStateChanges:b,displayName:A,wrappedComponentName:C,WrappedComponent:E,initMapStateToProps:g,initMapDispatchToProps:v,initMergeProps:y,areStatesEqual:a,areStatePropsEqual:s,areOwnPropsEqual:r,areMergedPropsEqual:o};function M(B){const[k,z,H]=j.useMemo(()=>{const{reactReduxForwardedRef:kt,...zt}=B;return[B.context,kt,zt]},[B]),G=j.useMemo(()=>{let kt=f;return k?.Consumer,kt},[k,f]),Q=j.useContext(G),at=!!B.store&&!!B.store.getState&&!!B.store.dispatch,Z=!!Q&&!!Q.store,nt=at?B.store:Q.store,tt=Z?Q.getServerState:nt.getState,I=j.useMemo(()=>Nht(nt.dispatch,_),[nt]),[V,X]=j.useMemo(()=>{if(!b)return ift;const kt=xB(nt,at?void 0:Q.subscription),zt=kt.notifyNestedSubs.bind(kt);return[kt,zt]},[nt,at,Q]),U=j.useMemo(()=>at?Q:{...Q,subscription:V},[at,Q,V]),$=j.useRef(void 0),it=j.useRef(H),K=j.useRef(void 0),ct=j.useRef(!1),pt=j.useRef(!1),rt=j.useRef(void 0);ix(()=>(pt.current=!0,()=>{pt.current=!1}),[]);const J=j.useMemo(()=>()=>K.current&&H===it.current?K.current:I(nt.getState(),H),[nt,H]),lt=j.useMemo(()=>zt=>V?sft(b,nt,V,I,it,$,ct,pt,K,X,zt):()=>{},[V]);aft(rft,[it,$,ct,H,K,X]);let St;try{St=j.useSyncExternalStore(lt,J,tt?()=>I(tt(),H):J)}catch(kt){throw rt.current&&(kt.message+=`
The error may be correlated with this previous error:
${rt.current.stack}

`),kt}ix(()=>{rt.current=void 0,K.current=void 0,$.current=St});const Tt=j.useMemo(()=>j.createElement(E,{...St,ref:z}),[z,E,St]);return j.useMemo(()=>b?j.createElement(G.Provider,{value:U},Tt):Tt,[G,Tt,U])}const P=j.memo(M);if(P.WrappedComponent=E,P.displayName=M.displayName=A,c){const k=j.forwardRef(function(H,G){return j.createElement(P,{...H,reactReduxForwardedRef:G})});return k.displayName=A,k.WrappedComponent=E,UC(k,E)}return UC(P,E)}}var _B=lft;function cft(e){const{children:t,context:n,serverState:i,store:a}=e,r=j.useMemo(()=>{const c=xB(a);return{store:a,subscription:c,getServerState:i?()=>i:void 0}},[a,i]),s=j.useMemo(()=>a.getState(),[a]);ix(()=>{const{subscription:c}=r;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[r,s]);const o=n||wB;return j.createElement(o.Provider,{value:r},t)}var uft=cft,dft="Invariant failed";function hft(e,t){throw new Error(dft)}var po=function(t){var n=t.top,i=t.right,a=t.bottom,r=t.left,s=i-r,o=a-n,c={top:n,right:i,bottom:a,left:r,width:s,height:o,x:r,y:n,center:{x:(i+r)/2,y:(a+n)/2}};return c},b5=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},XN=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},fft=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},aA={top:0,right:0,bottom:0,left:0},x5=function(t){var n=t.borderBox,i=t.margin,a=i===void 0?aA:i,r=t.border,s=r===void 0?aA:r,o=t.padding,c=o===void 0?aA:o,d=po(b5(n,a)),f=po(XN(n,s)),g=po(XN(f,c));return{marginBox:d,borderBox:po(n),paddingBox:f,contentBox:g,margin:a,border:s,padding:c}},Cs=function(t){var n=t.slice(0,-2),i=t.slice(-2);if(i!=="px")return 0;var a=Number(n);return isNaN(a)&&hft(),a},pft=function(){return{x:window.pageXOffset,y:window.pageYOffset}},ax=function(t,n){var i=t.borderBox,a=t.border,r=t.margin,s=t.padding,o=fft(i,n);return x5({borderBox:o,border:a,margin:r,padding:s})},rx=function(t,n){return n===void 0&&(n=pft()),ax(t,n)},EB=function(t,n){var i={top:Cs(n.marginTop),right:Cs(n.marginRight),bottom:Cs(n.marginBottom),left:Cs(n.marginLeft)},a={top:Cs(n.paddingTop),right:Cs(n.paddingRight),bottom:Cs(n.paddingBottom),left:Cs(n.paddingLeft)},r={top:Cs(n.borderTopWidth),right:Cs(n.borderRightWidth),bottom:Cs(n.borderBottomWidth),left:Cs(n.borderLeftWidth)};return x5({borderBox:t,margin:i,padding:a,border:r})},AB=function(t){var n=t.getBoundingClientRect(),i=window.getComputedStyle(t);return EB(n,i)},Ev=function(t){var n=[],i=null,a=function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];n=o,!i&&(i=requestAnimationFrame(function(){i=null,t.apply(void 0,n)}))};return a.cancel=function(){i&&(cancelAnimationFrame(i),i=null)},a};function sx(){return sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sx.apply(null,arguments)}function CB(e,t){}CB.bind(null,"warn");CB.bind(null,"error");function Nu(){}function mft(e,t){return{...e,...t}}function Ds(e,t,n){const i=t.map(a=>{const r=mft(n,a.options);return e.addEventListener(a.eventName,a.fn,r),function(){e.removeEventListener(a.eventName,a.fn,r)}});return function(){i.forEach(r=>{r()})}}const gft="Invariant failed";class ox extends Error{}ox.prototype.toString=function(){return this.message};function It(e,t){throw new ox(gft)}class vft extends Y.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Nu,this.onWindowError=n=>{const i=this.getCallbacks();i.isDragging()&&i.tryAbort(),n.error instanceof ox&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Ds(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof ox){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const yft=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,lx=e=>e+1,bft=e=>`
  You have lifted an item in position ${lx(e.source.index)}
`,TB=(e,t)=>{const n=e.droppableId===t.droppableId,i=lx(e.index),a=lx(t.index);return n?`
      You have moved the item from position ${i}
      to position ${a}
    `:`
    You have moved the item from position ${i}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${a}
  `},RB=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,xft=e=>{const t=e.destination;if(t)return TB(e.source,t);const n=e.combine;return n?RB(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},WN=e=>`
  The item has returned to its starting position
  of ${lx(e.index)}
`,Sft=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${WN(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${TB(e.source,t)}
    `:n?`
      You have dropped the item.
      ${RB(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${WN(e.source)}
  `},A1={dragHandleUsageInstructions:yft,onDragStart:bft,onDragUpdate:xft,onDragEnd:Sft};function wft(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function MB(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!wft(e[n],t[n]))return!1;return!0}function fn(e,t){const n=j.useState(()=>({inputs:t,result:e()}))[0],i=j.useRef(!0),a=j.useRef(n),s=i.current||!!(t&&a.current.inputs&&MB(t,a.current.inputs))?a.current:{inputs:t,result:e()};return j.useEffect(()=>{i.current=!1,a.current=s},[s]),s.result}function ie(e,t){return fn(()=>e,t)}const oa={x:0,y:0},_a=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),$r=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Pu=(e,t)=>e.x===t.x&&e.y===t.y,om=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Sh=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Av=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),QN=(e,t)=>Math.min(...t.map(n=>Av(e,n))),DB=e=>t=>({x:e(t.x),y:e(t.y)});var _ft=(e,t)=>{const n=po({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const ay=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),ZN=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Eft={top:0,right:0,bottom:0,left:0},Aft=(e,t)=>t?ay(e,t.scroll.diff.displacement):e,Cft=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,Tft=(e,t)=>t&&t.shouldClipSubject?_ft(t.pageMarginBox,e):po(e);var zp=({page:e,withPlaceholder:t,axis:n,frame:i})=>{const a=Aft(e.marginBox,i),r=Cft(a,n,t),s=Tft(r,i);return{page:e,withPlaceholder:t,active:s}},S5=(e,t)=>{e.frame||It();const n=e.frame,i=$r(t,n.scroll.initial),a=om(i),r={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:i,displacement:a},max:n.scroll.max}},s=zp({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:r});return{...e,frame:r,subject:s}};function sa(e,t=MB){let n=null;function i(...a){if(n&&n.lastThis===this&&t(a,n.lastArgs))return n.lastResult;const r=e.apply(this,a);return n={lastResult:r,lastArgs:a,lastThis:this},r}return i.clear=function(){n=null},i}const OB=sa(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),NB=sa(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),m2=sa(e=>Object.values(e)),Rft=sa(e=>Object.values(e));var lm=sa((e,t)=>Rft(t).filter(i=>e===i.descriptor.droppableId).sort((i,a)=>i.descriptor.index-a.descriptor.index));function w5(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function g2(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var v2=sa((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),Mft=({isMovingForward:e,draggable:t,destination:n,insideDestination:i,previousImpact:a})=>{if(!n.isCombineEnabled||!w5(a))return null;function s(y){const b={type:"COMBINE",combine:{draggableId:y,droppableId:n.descriptor.id}};return{...a,at:b}}const o=a.displaced.all,c=o.length?o[0]:null;if(e)return c?s(c):null;const d=v2(t,i);if(!c){if(!d.length)return null;const y=d[d.length-1];return s(y.descriptor.id)}const f=d.findIndex(y=>y.descriptor.id===c);f===-1&&It();const g=f-1;if(g<0)return null;const v=d[g];return s(v.descriptor.id)},cm=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const PB={point:oa,value:0},Cv={invisible:{},visible:{},all:[]},Dft={displaced:Cv,displacedBy:PB,at:null};var Ns=(e,t)=>n=>e<=n&&n<=t,kB=e=>{const t=Ns(e.top,e.bottom),n=Ns(e.left,e.right);return i=>{if(t(i.top)&&t(i.bottom)&&n(i.left)&&n(i.right))return!0;const r=t(i.top)||t(i.bottom),s=n(i.left)||n(i.right);if(r&&s)return!0;const c=i.top<e.top&&i.bottom>e.bottom,d=i.left<e.left&&i.right>e.right;return c&&d?!0:c&&s||d&&r}},Oft=e=>{const t=Ns(e.top,e.bottom),n=Ns(e.left,e.right);return i=>t(i.top)&&t(i.bottom)&&n(i.left)&&n(i.right)};const _5={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},LB={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Nft=e=>t=>{const n=Ns(t.top,t.bottom),i=Ns(t.left,t.right);return a=>e===_5?n(a.top)&&n(a.bottom):i(a.left)&&i(a.right)};const Pft=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:oa;return ay(e,n)},kft=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,Lft=(e,t,n)=>n(t)(e),E5=({target:e,destination:t,viewport:n,withDroppableDisplacement:i,isVisibleThroughFrameFn:a})=>{const r=i?Pft(e,t):e;return kft(r,t,a)&&Lft(r,n,a)},jft=e=>E5({...e,isVisibleThroughFrameFn:kB}),jB=e=>E5({...e,isVisibleThroughFrameFn:Oft}),Fft=e=>E5({...e,isVisibleThroughFrameFn:Nft(e.destination.axis)}),Bft=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:i,visible:a}=t;if(i[e])return!1;const r=a[e];return r?r.shouldAnimate:!0};function Ift(e,t){const n=e.page.marginBox,i={top:t.point.y,right:0,bottom:0,left:t.point.x};return po(b5(n,i))}function Tv({afterDragging:e,destination:t,displacedBy:n,viewport:i,forceShouldAnimate:a,last:r}){return e.reduce(function(o,c){const d=Ift(c,n),f=c.descriptor.id;if(o.all.push(f),!jft({target:d,destination:t,viewport:i,withDroppableDisplacement:!0}))return o.invisible[c.descriptor.id]=!0,o;const v=Bft(f,r,a),y={draggableId:f,shouldAnimate:v};return o.visible[f]=y,o},{all:[],visible:{},invisible:{}})}function zft(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function JN({insideDestination:e,inHomeList:t,displacedBy:n,destination:i}){const a=zft(e,{inHomeList:t});return{displaced:Cv,displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function cx({draggable:e,insideDestination:t,destination:n,viewport:i,displacedBy:a,last:r,index:s,forceShouldAnimate:o}){const c=cm(e,n);if(s==null)return JN({insideDestination:t,inHomeList:c,displacedBy:a,destination:n});const d=t.find(b=>b.descriptor.index===s);if(!d)return JN({insideDestination:t,inHomeList:c,displacedBy:a,destination:n});const f=v2(e,t),g=t.indexOf(d),v=f.slice(g);return{displaced:Tv({afterDragging:v,destination:n,displacedBy:a,last:r,viewport:i.frame,forceShouldAnimate:o}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function Uu(e,t){return!!t.effected[e]}var Uft=({isMovingForward:e,destination:t,draggables:n,combine:i,afterCritical:a})=>{if(!t.isCombineEnabled)return null;const r=i.draggableId,o=n[r].descriptor.index;return Uu(r,a)?e?o:o-1:e?o+1:o},Hft=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:i})=>{if(!n.length)return null;const a=i.index,r=e?a+1:a-1,s=n[0].descriptor.index,o=n[n.length-1].descriptor.index,c=t?o:o+1;return r<s||r>c?null:r},Gft=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:i,destination:a,insideDestination:r,previousImpact:s,viewport:o,afterCritical:c})=>{const d=s.at;if(d||It(),d.type==="REORDER"){const g=Hft({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:r});return g==null?null:cx({draggable:n,insideDestination:r,destination:a,viewport:o,last:s.displaced,displacedBy:s.displacedBy,index:g})}const f=Uft({isMovingForward:e,destination:a,displaced:s.displaced,draggables:i,combine:d.combine,afterCritical:c});return f==null?null:cx({draggable:n,insideDestination:r,destination:a,viewport:o,last:s.displaced,displacedBy:s.displacedBy,index:f})},qft=({displaced:e,afterCritical:t,combineWith:n,displacedBy:i})=>{const a=!!(e.visible[n]||e.invisible[n]);return Uu(n,t)?a?oa:om(i.point):a?i.point:oa},Vft=({afterCritical:e,impact:t,draggables:n})=>{const i=g2(t);i||It();const a=i.draggableId,r=n[a].page.borderBox.center,s=qft({displaced:t.displaced,afterCritical:e,combineWith:a,displacedBy:t.displacedBy});return _a(r,s)};const FB=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,$ft=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,A5=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,t7=({axis:e,moveRelativeTo:t,isMoving:n})=>Sh(e.line,t.marginBox[e.end]+FB(e,n),A5(e,t.marginBox,n)),e7=({axis:e,moveRelativeTo:t,isMoving:n})=>Sh(e.line,t.marginBox[e.start]-$ft(e,n),A5(e,t.marginBox,n)),Yft=({axis:e,moveInto:t,isMoving:n})=>Sh(e.line,t.contentBox[e.start]+FB(e,n),A5(e,t.contentBox,n));var Kft=({impact:e,draggable:t,draggables:n,droppable:i,afterCritical:a})=>{const r=lm(i.descriptor.id,n),s=t.page,o=i.axis;if(!r.length)return Yft({axis:o,moveInto:i.page,isMoving:s});const{displaced:c,displacedBy:d}=e,f=c.all[0];if(f){const v=n[f];if(Uu(f,a))return e7({axis:o,moveRelativeTo:v.page,isMoving:s});const y=ax(v.page,d.point);return e7({axis:o,moveRelativeTo:y,isMoving:s})}const g=r[r.length-1];if(g.descriptor.id===t.descriptor.id)return s.borderBox.center;if(Uu(g.descriptor.id,a)){const v=ax(g.page,om(a.displacedBy.point));return t7({axis:o,moveRelativeTo:v,isMoving:s})}return t7({axis:o,moveRelativeTo:g.page,isMoving:s})},HC=(e,t)=>{const n=e.frame;return n?_a(t,n.scroll.diff.displacement):t};const Xft=({impact:e,draggable:t,droppable:n,draggables:i,afterCritical:a})=>{const r=t.page.borderBox.center,s=e.at;return!n||!s?r:s.type==="REORDER"?Kft({impact:e,draggable:t,draggables:i,droppable:n,afterCritical:a}):Vft({impact:e,draggables:i,afterCritical:a})};var y2=e=>{const t=Xft(e),n=e.droppable;return n?HC(n,t):t},BB=(e,t)=>{const n=$r(t,e.scroll.initial),i=om(n);return{frame:po({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:i}}}};function n7(e,t){return e.map(n=>t[n])}function Wft(e,t){for(let n=0;n<t.length;n++){const i=t[n].visible[e];if(i)return i}return null}var Qft=({impact:e,viewport:t,destination:n,draggables:i,maxScrollChange:a})=>{const r=BB(t,_a(t.scroll.current,a)),s=n.frame?S5(n,_a(n.frame.scroll.current,a)):n,o=e.displaced,c=Tv({afterDragging:n7(o.all,i),destination:n,displacedBy:e.displacedBy,viewport:r.frame,last:o,forceShouldAnimate:!1}),d=Tv({afterDragging:n7(o.all,i),destination:s,displacedBy:e.displacedBy,viewport:t.frame,last:o,forceShouldAnimate:!1}),f={},g={},v=[o,c,d];return o.all.forEach(b=>{const w=Wft(b,v);if(w){g[b]=w;return}f[b]=!0}),{...e,displaced:{all:o.all,invisible:f,visible:g}}},Zft=(e,t)=>_a(e.scroll.diff.displacement,t),C5=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const i=Zft(n,e),a=$r(i,t.page.borderBox.center);return _a(t.client.borderBox.center,a)},IB=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:i,withDroppableDisplacement:a,onlyOnMainAxis:r=!1})=>{const s=$r(n,e.page.borderBox.center),c={target:ay(e.page.borderBox,s),destination:t,withDroppableDisplacement:a,viewport:i};return r?Fft(c):jB(c)},Jft=({isMovingForward:e,draggable:t,destination:n,draggables:i,previousImpact:a,viewport:r,previousPageBorderBoxCenter:s,previousClientSelection:o,afterCritical:c})=>{if(!n.isEnabled)return null;const d=lm(n.descriptor.id,i),f=cm(t,n),g=Mft({isMovingForward:e,draggable:t,destination:n,insideDestination:d,previousImpact:a})||Gft({isMovingForward:e,isInHomeList:f,draggable:t,draggables:i,destination:n,insideDestination:d,previousImpact:a,viewport:r,afterCritical:c});if(!g)return null;const v=y2({impact:g,draggable:t,droppable:n,draggables:i,afterCritical:c});if(IB({draggable:t,destination:n,newPageBorderBoxCenter:v,viewport:r.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:C5({pageBorderBoxCenter:v,draggable:t,viewport:r}),impact:g,scrollJumpRequest:null};const b=$r(v,s),w=Qft({impact:g,viewport:r,destination:n,draggables:i,maxScrollChange:b});return{clientSelection:o,impact:w,scrollJumpRequest:b}};const Ja=e=>{const t=e.subject.active;return t||It(),t};var tpt=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:i,viewport:a})=>{const r=n.subject.active;if(!r)return null;const s=n.axis,o=Ns(r[s.start],r[s.end]),c=m2(i).filter(f=>f!==n).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>kB(a.frame)(Ja(f))).filter(f=>{const g=Ja(f);return e?r[s.crossAxisEnd]<g[s.crossAxisEnd]:g[s.crossAxisStart]<r[s.crossAxisStart]}).filter(f=>{const g=Ja(f),v=Ns(g[s.start],g[s.end]);return o(g[s.start])||o(g[s.end])||v(r[s.start])||v(r[s.end])}).sort((f,g)=>{const v=Ja(f)[s.crossAxisStart],y=Ja(g)[s.crossAxisStart];return e?v-y:y-v}).filter((f,g,v)=>Ja(f)[s.crossAxisStart]===Ja(v[0])[s.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const d=c.filter(f=>Ns(Ja(f)[s.start],Ja(f)[s.end])(t[s.line]));return d.length===1?d[0]:d.length>1?d.sort((f,g)=>Ja(f)[s.start]-Ja(g)[s.start])[0]:c.sort((f,g)=>{const v=QN(t,ZN(Ja(f))),y=QN(t,ZN(Ja(g)));return v!==y?v-y:Ja(f)[s.start]-Ja(g)[s.start]})[0]};const i7=(e,t)=>{const n=e.page.borderBox.center;return Uu(e.descriptor.id,t)?$r(n,t.displacedBy.point):n},ept=(e,t)=>{const n=e.page.borderBox;return Uu(e.descriptor.id,t)?ay(n,om(t.displacedBy.point)):n};var npt=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:i,afterCritical:a})=>i.filter(s=>jB({target:ept(s,a),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((s,o)=>{const c=Av(e,HC(n,i7(s,a))),d=Av(e,HC(n,i7(o,a)));return c<d?-1:d<c?1:s.descriptor.index-o.descriptor.index})[0]||null,ry=sa(function(t,n){const i=n[t.line];return{value:i,point:Sh(t.line,i)}});const ipt=(e,t,n)=>{const i=e.axis;if(e.descriptor.mode==="virtual")return Sh(i.line,t[i.line]);const a=e.subject.page.contentBox[i.size],c=lm(e.descriptor.id,n).reduce((d,f)=>d+f.client.marginBox[i.size],0)+t[i.line]-a;return c<=0?null:Sh(i.line,c)},zB=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),UB=(e,t,n)=>{const i=e.frame;cm(t,e)&&It(),e.subject.withPlaceholder&&It();const a=ry(e.axis,t.displaceBy).point,r=ipt(e,a,n),s={placeholderSize:a,increasedBy:r,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){const f=zp({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return{...e,subject:f}}const o=r?_a(i.scroll.max,r):i.scroll.max,c=zB(i,o),d=zp({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:c});return{...e,subject:d,frame:c}},apt=e=>{const t=e.subject.withPlaceholder;t||It();const n=e.frame;if(!n){const s=zp({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:s}}const i=t.oldFrameMaxScroll;i||It();const a=zB(n,i),r=zp({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return{...e,subject:r,frame:a}};var rpt=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:i,draggables:a,destination:r,viewport:s,afterCritical:o})=>{if(!t){if(n.length)return null;const g={displaced:Cv,displacedBy:PB,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:0}}},v=y2({impact:g,draggable:i,droppable:r,draggables:a,afterCritical:o}),y=cm(i,r)?r:UB(r,i,a);return IB({draggable:i,destination:y,newPageBorderBoxCenter:v,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?g:null}const c=e[r.axis.line]<=t.page.borderBox.center[r.axis.line],d=(()=>{const g=t.descriptor.index;return t.descriptor.id===i.descriptor.id||c?g:g+1})(),f=ry(r.axis,i.displaceBy);return cx({draggable:i,insideDestination:n,destination:r,viewport:s,displacedBy:f,last:Cv,index:d})},spt=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:i,draggables:a,droppables:r,viewport:s,afterCritical:o})=>{const c=tpt({isMovingForward:e,pageBorderBoxCenter:t,source:i,droppables:r,viewport:s});if(!c)return null;const d=lm(c.descriptor.id,a),f=npt({pageBorderBoxCenter:t,viewport:s,destination:c,insideDestination:d,afterCritical:o}),g=rpt({previousPageBorderBoxCenter:t,destination:c,draggable:n,draggables:a,moveRelativeTo:f,insideDestination:d,viewport:s,afterCritical:o});if(!g)return null;const v=y2({impact:g,draggable:n,droppable:c,draggables:a,afterCritical:o});return{clientSelection:C5({pageBorderBoxCenter:v,draggable:n,viewport:s}),impact:g,scrollJumpRequest:null}},Kr=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const opt=(e,t)=>{const n=Kr(e);return n?t[n]:null};var lpt=({state:e,type:t})=>{const n=opt(e.impact,e.dimensions.droppables),i=!!n,a=e.dimensions.droppables[e.critical.droppable.id],r=n||a,s=r.axis.direction,o=s==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||s==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(o&&!i)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,{draggables:g,droppables:v}=e.dimensions;return o?Jft({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:d,destination:r,draggables:g,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):spt({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:d,isOver:r,draggables:g,droppables:v,viewport:e.viewport,afterCritical:e.afterCritical})};function $d(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function HB(e){const t=Ns(e.top,e.bottom),n=Ns(e.left,e.right);return function(a){return t(a.y)&&n(a.x)}}function cpt(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function upt({pageBorderBox:e,draggable:t,candidates:n}){const i=t.page.borderBox.center,a=n.map(r=>{const s=r.axis,o=Sh(r.axis.line,e.center[s.line],r.page.borderBox.center[s.crossAxisLine]);return{id:r.descriptor.id,distance:Av(i,o)}}).sort((r,s)=>s.distance-r.distance);return a[0]?a[0].id:null}function dpt({pageBorderBox:e,draggable:t,droppables:n}){const i=m2(n).filter(a=>{if(!a.isEnabled)return!1;const r=a.subject.active;if(!r||!cpt(e,r))return!1;if(HB(r)(e.center))return!0;const s=a.axis,o=r.center[s.crossAxisLine],c=e[s.crossAxisStart],d=e[s.crossAxisEnd],f=Ns(r[s.crossAxisStart],r[s.crossAxisEnd]),g=f(c),v=f(d);return!g&&!v?!0:g?c<o:d>o});return i.length?i.length===1?i[0].descriptor.id:upt({pageBorderBox:e,draggable:t,candidates:i}):null}const GB=(e,t)=>po(ay(e,t));var hpt=(e,t)=>{const n=e.frame;return n?GB(t,n.scroll.diff.value):t};function qB({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function fpt({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var ppt=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:i,last:a,viewport:r,afterCritical:s})=>{const o=n.axis,c=ry(n.axis,t.displaceBy),d=c.value,f=e[o.start],g=e[o.end],y=v2(t,i).find(w=>{const E=w.descriptor.id,C=w.page.borderBox.center[o.line],A=Uu(E,s),_=qB({displaced:a,id:E});return A?_?g<=C:f<C-d:_?g<=C+d:f<C})||null,b=fpt({draggable:t,closest:y,inHomeList:cm(t,n)});return cx({draggable:t,insideDestination:i,destination:n,viewport:r,last:a,displacedBy:c,index:b})};const mpt=4;var gpt=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:i,insideDestination:a,afterCritical:r})=>{if(!i.isCombineEnabled)return null;const s=i.axis,o=ry(i.axis,e.displaceBy),c=o.value,d=t[s.start],f=t[s.end],v=v2(e,a).find(b=>{const w=b.descriptor.id,E=b.page.borderBox,A=E[s.size]/mpt,_=Uu(w,r),M=qB({displaced:n.displaced,id:w});return _?M?f>E[s.start]+A&&f<E[s.end]-A:d>E[s.start]-c+A&&d<E[s.end]-c-A:M?f>E[s.start]+c+A&&f<E[s.end]+c-A:d>E[s.start]+A&&d<E[s.end]-A});return v?{displacedBy:o,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:v.descriptor.id,droppableId:i.descriptor.id}}}:null},VB=({pageOffset:e,draggable:t,draggables:n,droppables:i,previousImpact:a,viewport:r,afterCritical:s})=>{const o=GB(t.page.borderBox,e),c=dpt({pageBorderBox:o,draggable:t,droppables:i});if(!c)return Dft;const d=i[c],f=lm(d.descriptor.id,n),g=hpt(d,o);return gpt({pageBorderBoxWithDroppableScroll:g,draggable:t,previousImpact:a,destination:d,insideDestination:f,afterCritical:s})||ppt({pageBorderBoxWithDroppableScroll:g,draggable:t,destination:d,insideDestination:f,last:a.displaced,viewport:r,afterCritical:s})},T5=(e,t)=>({...e,[t.descriptor.id]:t});const vpt=({previousImpact:e,impact:t,droppables:n})=>{const i=Kr(e),a=Kr(t);if(!i||i===a)return n;const r=n[i];if(!r.subject.withPlaceholder)return n;const s=apt(r);return T5(n,s)};var ypt=({draggable:e,draggables:t,droppables:n,previousImpact:i,impact:a})=>{const r=vpt({previousImpact:i,impact:a,droppables:n}),s=Kr(a);if(!s)return r;const o=n[s];if(cm(e,o)||o.subject.withPlaceholder)return r;const c=UB(o,e,t);return T5(r,c)},iv=({state:e,clientSelection:t,dimensions:n,viewport:i,impact:a,scrollJumpRequest:r})=>{const s=i||e.viewport,o=n||e.dimensions,c=t||e.current.client.selection,d=$r(c,e.initial.client.selection),f={offset:d,selection:c,borderBoxCenter:_a(e.initial.client.borderBoxCenter,d)},g={selection:_a(f.selection,s.scroll.current),borderBoxCenter:_a(f.borderBoxCenter,s.scroll.current),offset:_a(f.offset,s.scroll.diff.value)},v={client:f,page:g};if(e.phase==="COLLECTING")return{...e,dimensions:o,viewport:s,current:v};const y=o.draggables[e.critical.draggable.id],b=a||VB({pageOffset:g.offset,draggable:y,draggables:o.draggables,droppables:o.droppables,previousImpact:e.impact,viewport:s,afterCritical:e.afterCritical}),w=ypt({draggable:y,impact:b,previousImpact:e.impact,draggables:o.draggables,droppables:o.droppables});return{...e,current:v,dimensions:{draggables:o.draggables,droppables:w},impact:b,viewport:s,scrollJumpRequest:r||null,forceShouldAnimate:r?!1:null}};function bpt(e,t){return e.map(n=>t[n])}var $B=({impact:e,viewport:t,draggables:n,destination:i,forceShouldAnimate:a})=>{const r=e.displaced,s=bpt(r.all,n),o=Tv({afterDragging:s,destination:i,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:a,last:r});return{...e,displaced:o}},YB=({impact:e,draggable:t,droppable:n,draggables:i,viewport:a,afterCritical:r})=>{const s=y2({impact:e,draggable:t,draggables:i,droppable:n,afterCritical:r});return C5({pageBorderBoxCenter:s,draggable:t,viewport:a})},KB=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&It();const i=e.impact,a=n||e.viewport,r=t||e.dimensions,{draggables:s,droppables:o}=r,c=s[e.critical.draggable.id],d=Kr(i);d||It();const f=o[d],g=$B({impact:i,viewport:a,destination:f,draggables:s}),v=YB({impact:g,draggable:c,droppable:f,draggables:s,viewport:a,afterCritical:e.afterCritical});return iv({impact:g,clientSelection:v,state:e,dimensions:r,viewport:a})},xpt=e=>({index:e.index,droppableId:e.droppableId}),XB=({draggable:e,home:t,draggables:n,viewport:i})=>{const a=ry(t.axis,e.displaceBy),r=lm(t.descriptor.id,n),s=r.indexOf(e);s===-1&&It();const o=r.slice(s+1),c=o.reduce((v,y)=>(v[y.descriptor.id]=!0,v),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:a,effected:c};return{impact:{displaced:Tv({afterDragging:o,destination:t,displacedBy:a,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:xpt(e.descriptor)}},afterCritical:d}},Spt=(e,t)=>({draggables:e.draggables,droppables:T5(e.droppables,t)}),wpt=({draggable:e,offset:t,initialWindowScroll:n})=>{const i=ax(e.client,t),a=rx(i,n);return{...e,placeholder:{...e.placeholder,client:i},client:i,page:a}},_pt=e=>{const t=e.frame;return t||It(),t},Ept=({additions:e,updatedDroppables:t,viewport:n})=>{const i=n.scroll.diff.value;return e.map(a=>{const r=a.descriptor.droppableId,s=t[r],c=_pt(s).scroll.diff.value,d=_a(i,c);return wpt({draggable:a,offset:d,initialWindowScroll:n.scroll.initial})})},Apt=({state:e,published:t})=>{const n=t.modified.map(C=>{const A=e.dimensions.droppables[C.droppableId];return S5(A,C.scroll)}),i={...e.dimensions.droppables,...OB(n)},a=NB(Ept({additions:t.additions,updatedDroppables:i,viewport:e.viewport})),r={...e.dimensions.draggables,...a};t.removals.forEach(C=>{delete r[C]});const s={droppables:i,draggables:r},o=Kr(e.impact),c=o?s.droppables[o]:null,d=s.draggables[e.critical.draggable.id],f=s.droppables[e.critical.droppable.id],{impact:g,afterCritical:v}=XB({draggable:d,home:f,draggables:r,viewport:e.viewport}),y=c&&c.isCombineEnabled?e.impact:g,b=VB({pageOffset:e.current.page.offset,draggable:s.draggables[e.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:y,viewport:e.viewport,afterCritical:v}),w={...e,phase:"DRAGGING",impact:b,onLiftImpact:g,dimensions:s,afterCritical:v,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const GC=e=>e.movementMode==="SNAP",rA=(e,t,n)=>{const i=Spt(e.dimensions,t);return!GC(e)||n?iv({state:e,dimensions:i}):KB({state:e,dimensions:i})};function sA(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const a7={phase:"IDLE",completed:null,shouldFlush:!1};var Cpt=(e=a7,t)=>{if(t.type==="FLUSH")return{...a7,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&It();const{critical:n,clientSelection:i,viewport:a,dimensions:r,movementMode:s}=t.payload,o=r.draggables[n.draggable.id],c=r.droppables[n.droppable.id],d={selection:i,borderBoxCenter:o.client.borderBox.center,offset:oa},f={client:d,page:{selection:_a(d.selection,a.scroll.initial),borderBoxCenter:_a(d.selection,a.scroll.initial),offset:_a(d.selection,a.scroll.diff.value)}},g=m2(r.droppables).every(w=>!w.isFixedOnPage),{impact:v,afterCritical:y}=XB({draggable:o,home:c,draggables:r.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:r,initial:f,current:f,isWindowScrollAllowed:g,impact:v,afterCritical:y,onLiftImpact:v,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&It(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||It(),Apt({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;$d(e)||It();const{client:n}=t.payload;return Pu(n,e.current.client.selection)?e:iv({state:e,clientSelection:n,impact:GC(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return sA(e);$d(e)||It();const{id:n,newScroll:i}=t.payload,a=e.dimensions.droppables[n];if(!a)return e;const r=S5(a,i);return rA(e,r,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;$d(e)||It();const{id:n,isEnabled:i}=t.payload,a=e.dimensions.droppables[n];a||It(),a.isEnabled===i&&It();const r={...a,isEnabled:i};return rA(e,r,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;$d(e)||It();const{id:n,isCombineEnabled:i}=t.payload,a=e.dimensions.droppables[n];a||It(),a.isCombineEnabled===i&&It();const r={...a,isCombineEnabled:i};return rA(e,r,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;$d(e)||It(),e.isWindowScrollAllowed||It();const n=t.payload.newScroll;if(Pu(e.viewport.scroll.current,n))return sA(e);const i=BB(e.viewport,n);return GC(e)?KB({state:e,viewport:i}):iv({state:e,viewport:i})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!$d(e))return e;const n=t.payload.maxScroll;if(Pu(n,e.viewport.scroll.max))return e;const i={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:i}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&It();const n=lpt({state:e,type:t.type});return n?iv({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&It(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:i,newHomeClientOffset:a}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||It(),{phase:"DROP_ANIMATING",completed:n,dropDuration:i,newHomeClientOffset:a,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Dn(e,t){return e instanceof Object&&"type"in e&&e.type===t}const Tpt=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),Rpt=e=>({type:"LIFT",payload:e}),Mpt=e=>({type:"INITIAL_PUBLISH",payload:e}),Dpt=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),Opt=()=>({type:"COLLECTION_STARTING",payload:null}),Npt=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),Ppt=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),kpt=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),WB=e=>({type:"MOVE",payload:e}),Lpt=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),jpt=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),Fpt=()=>({type:"MOVE_UP",payload:null}),Bpt=()=>({type:"MOVE_DOWN",payload:null}),Ipt=()=>({type:"MOVE_RIGHT",payload:null}),zpt=()=>({type:"MOVE_LEFT",payload:null}),R5=()=>({type:"FLUSH",payload:null}),Upt=e=>({type:"DROP_ANIMATE",payload:e}),M5=e=>({type:"DROP_COMPLETE",payload:e}),QB=e=>({type:"DROP",payload:e}),Hpt=e=>({type:"DROP_PENDING",payload:e}),ZB=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Gpt=e=>({getState:t,dispatch:n})=>i=>a=>{if(!Dn(a,"LIFT")){i(a);return}const{id:r,clientSelection:s,movementMode:o}=a.payload,c=t();c.phase==="DROP_ANIMATING"&&n(M5({completed:c.completed})),t().phase!=="IDLE"&&It(),n(R5()),n(Tpt({draggableId:r,movementMode:o}));const f={draggableId:r,scrollOptions:{shouldPublishImmediately:o==="SNAP"}},{critical:g,dimensions:v,viewport:y}=e.startPublishing(f);n(Mpt({critical:g,dimensions:v,clientSelection:s,movementMode:o,viewport:y}))},qpt=e=>()=>t=>n=>{Dn(n,"INITIAL_PUBLISH")&&e.dragging(),Dn(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Dn(n,"FLUSH")||Dn(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const D5={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Rv={opacity:{drop:0,combining:.7},scale:{drop:.75}},JB={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Hd=`${JB.outOfTheWay}s ${D5.outOfTheWay}`,av={fluid:`opacity ${Hd}`,snap:`transform ${Hd}, opacity ${Hd}`,drop:e=>{const t=`${e}s ${D5.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Hd}`,placeholder:`height ${Hd}, width ${Hd}, margin ${Hd}`},r7=e=>Pu(e,oa)?void 0:`translate(${e.x}px, ${e.y}px)`,qC={moveTo:r7,drop:(e,t)=>{const n=r7(e);if(n)return t?`${n} scale(${Rv.scale.drop})`:n}},{minDropTime:VC,maxDropTime:tI}=JB,Vpt=tI-VC,s7=1500,$pt=.6;var Ypt=({current:e,destination:t,reason:n})=>{const i=Av(e,t);if(i<=0)return VC;if(i>=s7)return tI;const a=i/s7,r=VC+Vpt*a,s=n==="CANCEL"?r*$pt:r;return Number(s.toFixed(2))},Kpt=({impact:e,draggable:t,dimensions:n,viewport:i,afterCritical:a})=>{const{draggables:r,droppables:s}=n,o=Kr(e),c=o?s[o]:null,d=s[t.descriptor.droppableId],f=YB({impact:e,draggable:t,draggables:r,afterCritical:a,droppable:c||d,viewport:i});return $r(f,t.client.borderBox.center)},Xpt=({draggables:e,reason:t,lastImpact:n,home:i,viewport:a,onLiftImpact:r})=>!n.at||t!=="DROP"?{impact:$B({draggables:e,impact:r,destination:i,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Cv},didDropInsideDroppable:!0};const Wpt=({getState:e,dispatch:t})=>n=>i=>{if(!Dn(i,"DROP")){n(i);return}const a=e(),r=i.payload.reason;if(a.phase==="COLLECTING"){t(Hpt({reason:r}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&It(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||It();const o=a.critical,c=a.dimensions,d=c.draggables[a.critical.draggable.id],{impact:f,didDropInsideDroppable:g}=Xpt({reason:r,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),v=g?w5(f):null,y=g?g2(f):null,b={index:o.draggable.index,droppableId:o.droppable.id},w={draggableId:d.descriptor.id,type:d.descriptor.type,source:b,reason:r,mode:a.movementMode,destination:v,combine:y},E=Kpt({impact:f,draggable:d,dimensions:c,viewport:a.viewport,afterCritical:a.afterCritical}),C={critical:a.critical,afterCritical:a.afterCritical,result:w,impact:f};if(!(!Pu(a.current.client.offset,E)||!!w.combine)){t(M5({completed:C}));return}const _=Ypt({current:a.current.client.offset,destination:E,reason:r});t(Upt({newHomeClientOffset:E,dropDuration:_,completed:C}))};var eI=()=>({x:window.pageXOffset,y:window.pageYOffset});function Qpt(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function Zpt({onWindowScroll:e}){function t(){e(eI())}const n=Ev(t),i=Qpt(n);let a=Nu;function r(){return a!==Nu}function s(){r()&&It(),a=Ds(window,[i])}function o(){r()||It(),n.cancel(),a(),a=Nu}return{start:s,stop:o,isActive:r}}const Jpt=e=>Dn(e,"DROP_COMPLETE")||Dn(e,"DROP_ANIMATE")||Dn(e,"FLUSH"),tmt=e=>{const t=Zpt({onWindowScroll:n=>{e.dispatch(Lpt({newScroll:n}))}});return n=>i=>{!t.isActive()&&Dn(i,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&Jpt(i)&&t.stop(),n(i)}};var emt=e=>{let t=!1,n=!1;const i=setTimeout(()=>{n=!0}),a=r=>{t||n||(t=!0,e(r),clearTimeout(i))};return a.wasCalled=()=>t,a},nmt=()=>{const e=[],t=a=>{const r=e.findIndex(o=>o.timerId===a);r===-1&&It();const[s]=e.splice(r,1);s.callback()};return{add:a=>{const r=setTimeout(()=>t(r)),s={timerId:r,callback:a};e.push(s)},flush:()=>{if(!e.length)return;const a=[...e];e.length=0,a.forEach(r=>{clearTimeout(r.timerId),r.callback()})}}};const imt=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,amt=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,rmt=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,i=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&i},qg=(e,t)=>{t()},r1=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function oA(e,t,n,i){if(!e){n(i(t));return}const a=emt(n);e(t,{announce:a}),a.wasCalled()||n(i(t))}var smt=(e,t)=>{const n=nmt();let i=null;const a=(g,v)=>{i&&It(),qg("onBeforeCapture",()=>{const y=e().onBeforeCapture;y&&y({draggableId:g,mode:v})})},r=(g,v)=>{i&&It(),qg("onBeforeDragStart",()=>{const y=e().onBeforeDragStart;y&&y(r1(g,v))})},s=(g,v)=>{i&&It();const y=r1(g,v);i={mode:v,lastCritical:g,lastLocation:y.source,lastCombine:null},n.add(()=>{qg("onDragStart",()=>oA(e().onDragStart,y,t,A1.onDragStart))})},o=(g,v)=>{const y=w5(v),b=g2(v);i||It();const w=!rmt(g,i.lastCritical);w&&(i.lastCritical=g);const E=!imt(i.lastLocation,y);E&&(i.lastLocation=y);const C=!amt(i.lastCombine,b);if(C&&(i.lastCombine=b),!w&&!E&&!C)return;const A={...r1(g,i.mode),combine:b,destination:y};n.add(()=>{qg("onDragUpdate",()=>oA(e().onDragUpdate,A,t,A1.onDragUpdate))})},c=()=>{i||It(),n.flush()},d=g=>{i||It(),i=null,qg("onDragEnd",()=>oA(e().onDragEnd,g,t,A1.onDragEnd))};return{beforeCapture:a,beforeStart:r,start:s,update:o,flush:c,drop:d,abort:()=>{if(!i)return;const g={...r1(i.lastCritical,i.mode),combine:null,destination:null,reason:"CANCEL"};d(g)}}},omt=(e,t)=>{const n=smt(e,t);return i=>a=>r=>{if(Dn(r,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(r.payload.draggableId,r.payload.movementMode);return}if(Dn(r,"INITIAL_PUBLISH")){const o=r.payload.critical;n.beforeStart(o,r.payload.movementMode),a(r),n.start(o,r.payload.movementMode);return}if(Dn(r,"DROP_COMPLETE")){const o=r.payload.completed.result;n.flush(),a(r),n.drop(o);return}if(a(r),Dn(r,"FLUSH")){n.abort();return}const s=i.getState();s.phase==="DRAGGING"&&n.update(s.critical,s.impact)}};const lmt=e=>t=>n=>{if(!Dn(n,"DROP_ANIMATION_FINISHED")){t(n);return}const i=e.getState();i.phase!=="DROP_ANIMATING"&&It(),e.dispatch(M5({completed:i.completed}))},cmt=e=>{let t=null,n=null;function i(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return a=>r=>{if((Dn(r,"FLUSH")||Dn(r,"DROP_COMPLETE")||Dn(r,"DROP_ANIMATION_FINISHED"))&&i(),a(r),!Dn(r,"DROP_ANIMATE"))return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(ZB())}};n=requestAnimationFrame(()=>{n=null,t=Ds(window,[s])})}};var umt=e=>()=>t=>n=>{(Dn(n,"DROP_COMPLETE")||Dn(n,"FLUSH")||Dn(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},dmt=e=>{let t=!1;return()=>n=>i=>{if(Dn(i,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(i.payload.critical.draggable.id),n(i),e.tryRestoreFocusRecorded();return}if(n(i),!!t){if(Dn(i,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Dn(i,"DROP_COMPLETE")){t=!1;const a=i.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const hmt=e=>Dn(e,"DROP_COMPLETE")||Dn(e,"DROP_ANIMATE")||Dn(e,"FLUSH");var fmt=e=>t=>n=>i=>{if(hmt(i)){e.stop(),n(i);return}if(Dn(i,"INITIAL_PUBLISH")){n(i);const a=t.getState();a.phase!=="DRAGGING"&&It(),e.start(a);return}n(i),e.scroll(t.getState())};const pmt=e=>t=>n=>{if(t(n),!Dn(n,"PUBLISH_WHILE_DRAGGING"))return;const i=e.getState();i.phase==="DROP_PENDING"&&(i.isWaiting||e.dispatch(QB({reason:i.reason})))},mmt=vB;var gmt=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:i,announce:a,autoScroller:r})=>gB(Cpt,mmt(mht(qpt(n),umt(e),Gpt(e),Wpt,lmt,cmt,pmt,fmt(r),tmt,dmt(t),omt(i,a))));const lA=()=>({additions:{},removals:{},modified:{}});function vmt({registry:e,callbacks:t}){let n=lA(),i=null;const a=()=>{i||(t.collectionStarting(),i=requestAnimationFrame(()=>{i=null;const{additions:c,removals:d,modified:f}=n,g=Object.keys(c).map(b=>e.draggable.getById(b).getDimension(oa)).sort((b,w)=>b.descriptor.index-w.descriptor.index),v=Object.keys(f).map(b=>{const E=e.droppable.getById(b).callbacks.getScrollWhileDragging();return{droppableId:b,scroll:E}}),y={additions:g,removals:Object.keys(d),modified:v};n=lA(),t.publish(y)}))};return{add:c=>{const d=c.descriptor.id;n.additions[d]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],a()},remove:c=>{const d=c.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],a()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,n=lA())}}}var nI=({scrollHeight:e,scrollWidth:t,height:n,width:i})=>{const a=$r({x:t,y:e},{x:i,y:n});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},iI=()=>{const e=document.documentElement;return e||It(),e},aI=()=>{const e=iI();return nI({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},ymt=()=>{const e=eI(),t=aI(),n=e.y,i=e.x,a=iI(),r=a.clientWidth,s=a.clientHeight,o=i+r,c=n+s;return{frame:po({top:n,left:i,right:o,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:oa,displacement:oa}}}},bmt=({critical:e,scrollOptions:t,registry:n})=>{const i=ymt(),a=i.scroll.current,r=e.droppable,s=n.droppable.getAllByType(r.type).map(f=>f.callbacks.getDimensionAndWatchScroll(a,t)),o=n.draggable.getAllByType(e.draggable.type).map(f=>f.getDimension(a));return{dimensions:{draggables:NB(o),droppables:OB(s)},critical:e,viewport:i}};function o7(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var xmt=(e,t)=>{let n=null;const i=vmt({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=(v,y)=>{e.droppable.exists(v)||It(),n&&t.updateDroppableIsEnabled({id:v,isEnabled:y})},r=(v,y)=>{n&&(e.droppable.exists(v)||It(),t.updateDroppableIsCombineEnabled({id:v,isCombineEnabled:y}))},s=(v,y)=>{n&&(e.droppable.exists(v)||It(),t.updateDroppableScroll({id:v,newScroll:y}))},o=(v,y)=>{n&&e.droppable.getById(v).callbacks.scroll(y)},c=()=>{if(!n)return;i.stop();const v=n.critical.droppable;e.droppable.getAllByType(v.type).forEach(y=>y.callbacks.dragStopped()),n.unsubscribe(),n=null},d=v=>{n||It();const y=n.critical.draggable;v.type==="ADDITION"&&o7(e,y,v.value)&&i.add(v.value),v.type==="REMOVAL"&&o7(e,y,v.value)&&i.remove(v.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:r,scrollDroppable:o,updateDroppableScroll:s,startPublishing:v=>{n&&It();const y=e.draggable.getById(v.draggableId),b=e.droppable.getById(y.descriptor.droppableId),w={draggable:y.descriptor,droppable:b.descriptor},E=e.subscribe(d);return n={critical:w,unsubscribe:E},bmt({critical:w,registry:e,scrollOptions:v.scrollOptions})},stopPublishing:c}},rI=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",Smt=e=>{window.scrollBy(e.x,e.y)};const wmt=sa(e=>m2(e).filter(t=>!(!t.isEnabled||!t.frame))),_mt=(e,t)=>wmt(t).find(i=>(i.frame||It(),HB(i.frame.pageMarginBox)(e)))||null;var Emt=({center:e,destination:t,droppables:n})=>{if(t){const a=n[t];return a.frame?a:null}return _mt(e,n)};const Mv={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Amt=(e,t,n=()=>Mv)=>{const i=n(),a=e[t.size]*i.startFromPercentage,r=e[t.size]*i.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:r}},sI=({startOfRange:e,endOfRange:t,current:n})=>{const i=t-e;return i===0?0:(n-e)/i},O5=1,Cmt=(e,t,n=()=>Mv)=>{const i=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return i.maxPixelScroll;if(e===t.startScrollingFrom)return O5;const r=1-sI({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),s=i.maxPixelScroll*i.ease(r);return Math.ceil(s)},Tmt=(e,t,n)=>{const i=n(),a=i.durationDampening.accelerateAt,r=i.durationDampening.stopDampeningAt,s=t,o=r,d=Date.now()-s;if(d>=r)return e;if(d<a)return O5;const f=sI({startOfRange:a,endOfRange:o,current:d}),g=e*i.ease(f);return Math.ceil(g)},l7=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const r=Cmt(e,t,a);return r===0?0:i?Math.max(Tmt(r,n,a),O5):r},c7=({container:e,distanceToEdges:t,dragStartTime:n,axis:i,shouldUseTimeDampening:a,getAutoScrollerOptions:r})=>{const s=Amt(e,i,r);return t[i.end]<t[i.start]?l7({distanceToEdge:t[i.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:r}):-1*l7({distanceToEdge:t[i.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:r})},Rmt=({container:e,subject:t,proposedScroll:n})=>{const i=t.height>e.height,a=t.width>e.width;return!a&&!i?n:a&&i?null:{x:a?0:n.x,y:i?0:n.y}};const Mmt=DB(e=>e===0?0:e);var oI=({dragStartTime:e,container:t,subject:n,center:i,shouldUseTimeDampening:a,getAutoScrollerOptions:r})=>{const s={top:i.y-t.top,right:t.right-i.x,bottom:t.bottom-i.y,left:i.x-t.left},o=c7({container:t,distanceToEdges:s,dragStartTime:e,axis:_5,shouldUseTimeDampening:a,getAutoScrollerOptions:r}),c=c7({container:t,distanceToEdges:s,dragStartTime:e,axis:LB,shouldUseTimeDampening:a,getAutoScrollerOptions:r}),d=Mmt({x:c,y:o});if(Pu(d,oa))return null;const f=Rmt({container:t,subject:n,proposedScroll:d});return f?Pu(f,oa)?null:f:null};const Dmt=DB(e=>e===0?0:e>0?1:-1),N5=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:i})=>{const a=_a(t,i),r={x:e(a.x,n.x),y:e(a.y,n.y)};return Pu(r,oa)?null:r}})(),lI=({max:e,current:t,change:n})=>{const i={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},a=Dmt(n),r=N5({max:i,current:t,change:a});return!r||a.x!==0&&r.x===0||a.y!==0&&r.y===0},P5=(e,t)=>lI({current:e.scroll.current,max:e.scroll.max,change:t}),Omt=(e,t)=>{if(!P5(e,t))return null;const n=e.scroll.max,i=e.scroll.current;return N5({current:i,max:n,change:t})},k5=(e,t)=>{const n=e.frame;return n?lI({current:n.scroll.current,max:n.scroll.max,change:t}):!1},Nmt=(e,t)=>{const n=e.frame;return!n||!k5(e,t)?null:N5({current:n.scroll.current,max:n.scroll.max,change:t})};var Pmt=({viewport:e,subject:t,center:n,dragStartTime:i,shouldUseTimeDampening:a,getAutoScrollerOptions:r})=>{const s=oI({dragStartTime:i,container:e.frame,subject:t,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:r});return s&&P5(e,s)?s:null},kmt=({droppable:e,subject:t,center:n,dragStartTime:i,shouldUseTimeDampening:a,getAutoScrollerOptions:r})=>{const s=e.frame;if(!s)return null;const o=oI({dragStartTime:i,container:s.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:r});return o&&k5(e,o)?o:null},u7=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:i,scrollDroppable:a,getAutoScrollerOptions:r})=>{const s=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const g=e.viewport,v=Pmt({dragStartTime:t,viewport:g,subject:c,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:r});if(v){i(v);return}}const d=Emt({center:s,destination:Kr(e.impact),droppables:e.dimensions.droppables});if(!d)return;const f=kmt({dragStartTime:t,droppable:d,subject:c,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:r});f&&a(d.descriptor.id,f)},Lmt=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Mv})=>{const i=Ev(e),a=Ev(t);let r=null;const s=d=>{r||It();const{shouldUseTimeDampening:f,dragStartTime:g}=r;u7({state:d,scrollWindow:i,scrollDroppable:a,dragStartTime:g,shouldUseTimeDampening:f,getAutoScrollerOptions:n})};return{start:d=>{r&&It();const f=Date.now();let g=!1;const v=()=>{g=!0};u7({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:v,scrollDroppable:v,getAutoScrollerOptions:n}),r={dragStartTime:f,shouldUseTimeDampening:g},g&&s(d)},stop:()=>{r&&(i.cancel(),a.cancel(),r=null)},scroll:s}},jmt=({move:e,scrollDroppable:t,scrollWindow:n})=>{const i=(o,c)=>{const d=_a(o.current.client.selection,c);e({client:d})},a=(o,c)=>{if(!k5(o,c))return c;const d=Nmt(o,c);if(!d)return t(o.descriptor.id,c),null;const f=$r(c,d);return t(o.descriptor.id,f),$r(c,f)},r=(o,c,d)=>{if(!o||!P5(c,d))return d;const f=Omt(c,d);if(!f)return n(d),null;const g=$r(d,f);return n(g),$r(d,g)};return o=>{const c=o.scrollJumpRequest;if(!c)return;const d=Kr(o.impact);d||It();const f=a(o.dimensions.droppables[d],c);if(!f)return;const g=o.viewport,v=r(o.isWindowScrollAllowed,g,f);v&&i(o,v)}},Fmt=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:i})=>{const a=Lmt({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:i}),r=jmt({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(i().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){a.scroll(c);return}c.scrollJumpRequest&&r(c)}},start:a.start,stop:a.stop}};const Up="data-rfd",Hp=(()=>{const e=`${Up}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),$C=(()=>{const e=`${Up}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Bmt=(()=>{const e=`${Up}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),d7={contextId:`${Up}-scroll-container-context-id`},Imt=e=>t=>`[${t}="${e}"]`,Vg=(e,t)=>e.map(n=>{const i=n.styles[t];return i?`${n.selector} { ${i} }`:""}).join(" "),zmt="pointer-events: none;";var Umt=e=>{const t=Imt(e),n=(()=>{const o=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Hp.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:o,dragging:zmt,dropAnimating:o}}})(),i=(()=>{const o=`
      transition: ${av.outOfTheWay};
    `;return{selector:t($C.contextId),styles:{dragging:o,dropAnimating:o,userCancel:o}}})(),a={selector:t(Bmt.contextId),styles:{always:"overflow-anchor: none;"}},s=[i,n,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Vg(s,"always"),resting:Vg(s,"resting"),dragging:Vg(s,"dragging"),dropAnimating:Vg(s,"dropAnimating"),userCancel:Vg(s,"userCancel")}};const Xr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?j.useLayoutEffect:j.useEffect,cA=()=>{const e=document.querySelector("head");return e||It(),e},h7=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Hmt(e,t){const n=fn(()=>Umt(e),[e]),i=j.useRef(null),a=j.useRef(null),r=ie(sa(g=>{const v=a.current;v||It(),v.textContent=g}),[]),s=ie(g=>{const v=i.current;v||It(),v.textContent=g},[]);Xr(()=>{!i.current&&!a.current||It();const g=h7(t),v=h7(t);return i.current=g,a.current=v,g.setAttribute(`${Up}-always`,e),v.setAttribute(`${Up}-dynamic`,e),cA().appendChild(g),cA().appendChild(v),s(n.always),r(n.resting),()=>{const y=b=>{const w=b.current;w||It(),cA().removeChild(w),b.current=null};y(i),y(a)}},[t,s,r,n.always,n.resting,e]);const o=ie(()=>r(n.dragging),[r,n.dragging]),c=ie(g=>{if(g==="DROP"){r(n.dropAnimating);return}r(n.userCancel)},[r,n.dropAnimating,n.userCancel]),d=ie(()=>{a.current&&r(n.resting)},[r,n.resting]);return fn(()=>({dragging:o,dropping:c,resting:d}),[o,c,d])}function cI(e,t){return Array.from(e.querySelectorAll(t))}var uI=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function b2(e){return e instanceof uI(e).HTMLElement}function Gmt(e,t){const n=`[${Hp.contextId}="${e}"]`,i=cI(document,n);if(!i.length)return null;const a=i.find(r=>r.getAttribute(Hp.draggableId)===t);return!a||!b2(a)?null:a}function qmt(e){const t=j.useRef({}),n=j.useRef(null),i=j.useRef(null),a=j.useRef(!1),r=ie(function(v,y){const b={id:v,focus:y};return t.current[v]=b,function(){const E=t.current;E[v]!==b&&delete E[v]}},[]),s=ie(function(v){const y=Gmt(e,v);y&&y!==document.activeElement&&y.focus()},[e]),o=ie(function(v,y){n.current===v&&(n.current=y)},[]),c=ie(function(){i.current||a.current&&(i.current=requestAnimationFrame(()=>{i.current=null;const v=n.current;v&&s(v)}))},[s]),d=ie(function(v){n.current=null;const y=document.activeElement;y&&y.getAttribute(Hp.draggableId)===v&&(n.current=v)},[]);return Xr(()=>(a.current=!0,function(){a.current=!1;const v=i.current;v&&cancelAnimationFrame(v)}),[]),fn(()=>({register:r,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:o}),[r,d,c,o])}function Vmt(){const e={draggables:{},droppables:{}},t=[];function n(g){return t.push(g),function(){const y=t.indexOf(g);y!==-1&&t.splice(y,1)}}function i(g){t.length&&t.forEach(v=>v(g))}function a(g){return e.draggables[g]||null}function r(g){const v=a(g);return v||It(),v}const s={register:g=>{e.draggables[g.descriptor.id]=g,i({type:"ADDITION",value:g})},update:(g,v)=>{const y=e.draggables[v.descriptor.id];y&&y.uniqueId===g.uniqueId&&(delete e.draggables[v.descriptor.id],e.draggables[g.descriptor.id]=g)},unregister:g=>{const v=g.descriptor.id,y=a(v);y&&g.uniqueId===y.uniqueId&&(delete e.draggables[v],e.droppables[g.descriptor.droppableId]&&i({type:"REMOVAL",value:g}))},getById:r,findById:a,exists:g=>!!a(g),getAllByType:g=>Object.values(e.draggables).filter(v=>v.descriptor.type===g)};function o(g){return e.droppables[g]||null}function c(g){const v=o(g);return v||It(),v}const d={register:g=>{e.droppables[g.descriptor.id]=g},unregister:g=>{const v=o(g.descriptor.id);v&&g.uniqueId===v.uniqueId&&delete e.droppables[g.descriptor.id]},getById:c,findById:o,exists:g=>!!o(g),getAllByType:g=>Object.values(e.droppables).filter(v=>v.descriptor.type===g)};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:d,subscribe:n,clean:f}}function $mt(){const e=fn(Vmt,[]);return j.useEffect(()=>function(){e.clean()},[e]),e}var L5=Y.createContext(null),ux=()=>{const e=document.body;return e||It(),e};const Ymt={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Kmt=e=>`rfd-announcement-${e}`;function Xmt(e){const t=fn(()=>Kmt(e),[e]),n=j.useRef(null);return j.useEffect(function(){const r=document.createElement("div");return n.current=r,r.id=t,r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true"),sx(r.style,Ymt),ux().appendChild(r),function(){setTimeout(function(){const c=ux();c.contains(r)&&c.removeChild(r),r===n.current&&(n.current=null)})}},[t]),ie(a=>{const r=n.current;if(r){r.textContent=a;return}},[])}const Wmt={separator:"::"};function j5(e,t=Wmt){const n=Y.useId();return fn(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function Qmt({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function Zmt({contextId:e,text:t}){const n=j5("hidden-text",{separator:"-"}),i=fn(()=>Qmt({contextId:e,uniqueId:n}),[n,e]);return j.useEffect(function(){const r=document.createElement("div");return r.id=i,r.textContent=t,r.style.display="none",ux().appendChild(r),function(){const o=ux();o.contains(r)&&o.removeChild(r)}},[i,t]),i}var x2=Y.createContext(null);function dI(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),t}function Jmt(){let e=null;function t(){return!!e}function n(s){return s===e}function i(s){e&&It();const o={abandon:s};return e=o,o}function a(){e||It(),e=null}function r(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:n,claim:i,release:a,tryAbandon:r}}function Dv(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const tgt=9,egt=13,F5=27,hI=32,ngt=33,igt=34,agt=35,rgt=36,sgt=37,ogt=38,lgt=39,cgt=40,ugt={[egt]:!0,[tgt]:!0};var fI=e=>{ugt[e.keyCode]&&e.preventDefault()};const S2=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(i=>`on${i}`in document)||e})(),pI=0,f7=5;function dgt(e,t){return Math.abs(t.x-e.x)>=f7||Math.abs(t.y-e.y)>=f7}const p7={type:"IDLE"};function hgt({cancel:e,completed:t,getPhase:n,setPhase:i}){return[{eventName:"mousemove",fn:a=>{const{button:r,clientX:s,clientY:o}=a;if(r!==pI)return;const c={x:s,y:o},d=n();if(d.type==="DRAGGING"){a.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&It();const f=d.point;if(!dgt(f,c))return;a.preventDefault();const g=d.actions.fluidLift(c);i({type:"DRAGGING",actions:g})}},{eventName:"mouseup",fn:a=>{const r=n();if(r.type!=="DRAGGING"){e();return}a.preventDefault(),r.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:a=>{n().type==="DRAGGING"&&a.preventDefault(),e()}},{eventName:"keydown",fn:a=>{if(n().type==="PENDING"){e();return}if(a.keyCode===F5){a.preventDefault(),e();return}fI(a)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:a=>{const r=n();if(r.type==="IDLE"&&It(),r.actions.shouldRespectForcePress()){e();return}a.preventDefault()}},{eventName:S2,fn:e}]}function fgt(e){const t=j.useRef(p7),n=j.useRef(Nu),i=fn(()=>({eventName:"mousedown",fn:function(g){if(g.defaultPrevented||g.button!==pI||g.ctrlKey||g.metaKey||g.shiftKey||g.altKey)return;const v=e.findClosestDraggableId(g);if(!v)return;const y=e.tryGetLock(v,s,{sourceEvent:g});if(!y)return;g.preventDefault();const b={x:g.clientX,y:g.clientY};n.current(),d(y,b)}}),[e]),a=fn(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const g=e.findClosestDraggableId(f);if(!g)return;const v=e.findOptionsForDraggable(g);v&&(v.shouldRespectForcePress||e.canGetLock(g)&&f.preventDefault())}}),[e]),r=ie(function(){const g={passive:!1,capture:!0};n.current=Ds(window,[a,i],g)},[a,i]),s=ie(()=>{t.current.type!=="IDLE"&&(t.current=p7,n.current(),r())},[r]),o=ie(()=>{const f=t.current;s(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[s]),c=ie(function(){const g={capture:!0,passive:!1},v=hgt({cancel:o,completed:s,getPhase:()=>t.current,setPhase:y=>{t.current=y}});n.current=Ds(window,v,g)},[o,s]),d=ie(function(g,v){t.current.type!=="IDLE"&&It(),t.current={type:"PENDING",point:v,actions:g},c()},[c]);Xr(function(){return r(),function(){n.current()}},[r])}function pgt(){}const mgt={[igt]:!0,[ngt]:!0,[rgt]:!0,[agt]:!0};function ggt(e,t){function n(){t(),e.cancel()}function i(){t(),e.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===F5){a.preventDefault(),n();return}if(a.keyCode===hI){a.preventDefault(),i();return}if(a.keyCode===cgt){a.preventDefault(),e.moveDown();return}if(a.keyCode===ogt){a.preventDefault(),e.moveUp();return}if(a.keyCode===lgt){a.preventDefault(),e.moveRight();return}if(a.keyCode===sgt){a.preventDefault(),e.moveLeft();return}if(mgt[a.keyCode]){a.preventDefault();return}fI(a)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:S2,fn:n}]}function vgt(e){const t=j.useRef(pgt),n=fn(()=>({eventName:"keydown",fn:function(r){if(r.defaultPrevented||r.keyCode!==hI)return;const s=e.findClosestDraggableId(r);if(!s)return;const o=e.tryGetLock(s,f,{sourceEvent:r});if(!o)return;r.preventDefault();let c=!0;const d=o.snapLift();t.current();function f(){c||It(),c=!1,t.current(),i()}t.current=Ds(window,ggt(d,f),{capture:!0,passive:!1})}}),[e]),i=ie(function(){const r={passive:!1,capture:!0};t.current=Ds(window,[n],r)},[n]);Xr(function(){return i(),function(){t.current()}},[i])}const uA={type:"IDLE"},ygt=120,bgt=.15;function xgt({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===F5&&n.preventDefault(),e()}},{eventName:S2,fn:e}]}function Sgt({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}a.hasMoved=!0;const{clientX:r,clientY:s}=i.touches[0],o={x:r,y:s};i.preventDefault(),a.actions.move(o)}},{eventName:"touchend",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:i=>{if(n().type!=="DRAGGING"){e();return}i.preventDefault(),e()}},{eventName:"touchforcechange",fn:i=>{const a=n();a.type==="IDLE"&&It();const r=i.touches[0];if(!r||!(r.force>=bgt))return;const o=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){o&&e();return}if(o){if(a.hasMoved){i.preventDefault();return}e();return}i.preventDefault()}},{eventName:S2,fn:e}]}function wgt(e){const t=j.useRef(uA),n=j.useRef(Nu),i=ie(function(){return t.current},[]),a=ie(function(y){t.current=y},[]),r=fn(()=>({eventName:"touchstart",fn:function(y){if(y.defaultPrevented)return;const b=e.findClosestDraggableId(y);if(!b)return;const w=e.tryGetLock(b,o,{sourceEvent:y});if(!w)return;const E=y.touches[0],{clientX:C,clientY:A}=E,_={x:C,y:A};n.current(),g(w,_)}}),[e]),s=ie(function(){const y={capture:!0,passive:!1};n.current=Ds(window,[r],y)},[r]),o=ie(()=>{const v=t.current;v.type!=="IDLE"&&(v.type==="PENDING"&&clearTimeout(v.longPressTimerId),a(uA),n.current(),s())},[s,a]),c=ie(()=>{const v=t.current;o(),v.type==="DRAGGING"&&v.actions.cancel({shouldBlockNextClick:!0}),v.type==="PENDING"&&v.actions.abort()},[o]),d=ie(function(){const y={capture:!0,passive:!1},b={cancel:c,completed:o,getPhase:i},w=Ds(window,Sgt(b),y),E=Ds(window,xgt(b),y);n.current=function(){w(),E()}},[c,i,o]),f=ie(function(){const y=i();y.type!=="PENDING"&&It();const b=y.actions.fluidLift(y.point);a({type:"DRAGGING",actions:b,hasMoved:!1})},[i,a]),g=ie(function(y,b){i().type!=="IDLE"&&It();const w=setTimeout(f,ygt);a({type:"PENDING",point:b,actions:y,longPressTimerId:w}),d()},[d,i,a,f]);Xr(function(){return s(),function(){n.current();const b=i();b.type==="PENDING"&&(clearTimeout(b.longPressTimerId),a(uA))}},[i,s,a]),Xr(function(){return Ds(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const _gt=["input","button","textarea","select","option","optgroup","video","audio"];function mI(e,t){if(t==null)return!1;if(_gt.includes(t.tagName.toLowerCase()))return!0;const i=t.getAttribute("contenteditable");return i==="true"||i===""?!0:t===e?!1:mI(e,t.parentElement)}function Egt(e,t){const n=t.target;return b2(n)?mI(e,n):!1}var Agt=e=>po(e.getBoundingClientRect()).center;function Cgt(e){return e instanceof uI(e).Element}const Tgt=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(i=>i in Element.prototype)||e})();function gI(e,t){return e==null?null:e[Tgt](t)?e:gI(e.parentElement,t)}function Rgt(e,t){return e.closest?e.closest(t):gI(e,t)}function Mgt(e){return`[${Hp.contextId}="${e}"]`}function Dgt(e,t){const n=t.target;if(!Cgt(n))return null;const i=Mgt(e),a=Rgt(n,i);return!a||!b2(a)?null:a}function Ogt(e,t){const n=Dgt(e,t);return n?n.getAttribute(Hp.draggableId):null}function Ngt(e,t){const n=`[${$C.contextId}="${e}"]`,a=cI(document,n).find(r=>r.getAttribute($C.id)===t);return!a||!b2(a)?null:a}function Pgt(e){e.preventDefault()}function s1({expected:e,phase:t,isLockActive:n,shouldWarn:i}){return!(!n()||e!==t)}function vI({lockAPI:e,store:t,registry:n,draggableId:i}){if(e.isClaimed())return!1;const a=n.draggable.findById(i);return!(!a||!a.options.isEnabled||!rI(t.getState(),i))}function kgt({lockAPI:e,contextId:t,store:n,registry:i,draggableId:a,forceSensorStop:r,sourceEvent:s}){if(!vI({lockAPI:e,store:n,registry:i,draggableId:a}))return null;const c=i.draggable.getById(a),d=Ngt(t,c.descriptor.id);if(!d||s&&!c.options.canDragInteractiveElements&&Egt(d,s))return null;const f=e.claim(r||Nu);let g="PRE_DRAG";function v(){return c.options.shouldRespectForcePress}function y(){return e.isActive(f)}function b(D,P){s1({expected:D,phase:g,isLockActive:y,shouldWarn:!0})&&n.dispatch(P())}const w=b.bind(null,"DRAGGING");function E(D){function P(){e.release(),g="COMPLETED"}g!=="PRE_DRAG"&&(P(),It()),n.dispatch(Rpt(D.liftActionArgs)),g="DRAGGING";function B(k,z={shouldBlockNextClick:!1}){if(D.cleanup(),z.shouldBlockNextClick){const H=Ds(window,[{eventName:"click",fn:Pgt,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(H)}P(),n.dispatch(QB({reason:k}))}return{isActive:()=>s1({expected:"DRAGGING",phase:g,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:v,drop:k=>B("DROP",k),cancel:k=>B("CANCEL",k),...D.actions}}function C(D){const P=Ev(k=>{w(()=>WB({client:k}))});return{...E({liftActionArgs:{id:a,clientSelection:D,movementMode:"FLUID"},cleanup:()=>P.cancel(),actions:{move:P}}),move:P}}function A(){const D={moveUp:()=>w(Fpt),moveRight:()=>w(Ipt),moveDown:()=>w(Bpt),moveLeft:()=>w(zpt)};return E({liftActionArgs:{id:a,clientSelection:Agt(d),movementMode:"SNAP"},cleanup:Nu,actions:D})}function _(){s1({expected:"PRE_DRAG",phase:g,isLockActive:y,shouldWarn:!0})&&e.release()}return{isActive:()=>s1({expected:"PRE_DRAG",phase:g,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:v,fluidLift:C,snapLift:A,abort:_}}const Lgt=[fgt,vgt,wgt];function jgt({contextId:e,store:t,registry:n,customSensors:i,enableDefaultSensors:a}){const r=[...a?Lgt:[],...i||[]],s=j.useState(()=>Jmt())[0],o=ie(function(E,C){Dv(E)&&!Dv(C)&&s.tryAbandon()},[s]);Xr(function(){let E=t.getState();return t.subscribe(()=>{const A=t.getState();o(E,A),E=A})},[s,t,o]),Xr(()=>s.tryAbandon,[s.tryAbandon]);const c=ie(w=>vI({lockAPI:s,registry:n,store:t,draggableId:w}),[s,n,t]),d=ie((w,E,C)=>kgt({lockAPI:s,registry:n,contextId:e,store:t,draggableId:w,forceSensorStop:E||null,sourceEvent:C&&C.sourceEvent?C.sourceEvent:null}),[e,s,n,t]),f=ie(w=>Ogt(e,w),[e]),g=ie(w=>{const E=n.draggable.findById(w);return E?E.options:null},[n.draggable]),v=ie(function(){s.isClaimed()&&(s.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(R5()))},[s,t]),y=ie(()=>s.isClaimed(),[s]),b=fn(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:g,tryReleaseLock:v,isLockClaimed:y}),[c,d,f,g,v,y]);for(let w=0;w<r.length;w++)r[w](b)}const Fgt=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};kv.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Bgt=e=>({...Mv,...e.autoScrollerOptions,durationDampening:{...Mv.durationDampening,...e.autoScrollerOptions}});function $g(e){return e.current||It(),e.current}function Igt(e){const{contextId:t,setCallbacks:n,sensors:i,nonce:a,dragHandleUsageInstructions:r}=e,s=j.useRef(null),o=dI(e),c=ie(()=>Fgt(o.current),[o]),d=ie(()=>Bgt(o.current),[o]),f=Xmt(t),g=Zmt({contextId:t,text:r}),v=Hmt(t,a),y=ie(H=>{$g(s).dispatch(H)},[]),b=fn(()=>HN({publishWhileDragging:Dpt,updateDroppableScroll:Npt,updateDroppableIsEnabled:Ppt,updateDroppableIsCombineEnabled:kpt,collectionStarting:Opt},y),[y]),w=$mt(),E=fn(()=>xmt(w,b),[w,b]),C=fn(()=>Fmt({scrollWindow:Smt,scrollDroppable:E.scrollDroppable,getAutoScrollerOptions:d,...HN({move:WB},y)}),[E.scrollDroppable,y,d]),A=qmt(t),_=fn(()=>gmt({announce:f,autoScroller:C,dimensionMarshal:E,focusMarshal:A,getResponders:c,styleMarshal:v}),[f,C,E,A,c,v]);s.current=_;const M=ie(()=>{const H=$g(s);H.getState().phase!=="IDLE"&&H.dispatch(R5())},[]),D=ie(()=>{const H=$g(s).getState();return H.phase==="DROP_ANIMATING"?!0:H.phase==="IDLE"?!1:H.isDragging},[]),P=fn(()=>({isDragging:D,tryAbort:M}),[D,M]);n(P);const B=ie(H=>rI($g(s).getState(),H),[]),k=ie(()=>$d($g(s).getState()),[]),z=fn(()=>({marshal:E,focus:A,contextId:t,canLift:B,isMovementAllowed:k,dragHandleUsageInstructionsId:g,registry:w}),[t,E,g,A,B,k,w]);return jgt({contextId:t,store:_,registry:w,customSensors:i||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),j.useEffect(()=>M,[M]),Y.createElement(x2.Provider,{value:z},Y.createElement(uft,{context:L5,store:_},e.children))}function zgt(){return Y.useId()}function Ugt(e){const t=zgt(),n=e.dragHandleUsageInstructions||A1.dragHandleUsageInstructions;return Y.createElement(vft,null,i=>Y.createElement(Igt,{nonce:e.nonce,contextId:t,setCallbacks:i,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const m7={dragging:5e3,dropAnimating:4500},Hgt=(e,t)=>t?av.drop(t.duration):e?av.snap:av.fluid,Ggt=(e,t)=>{if(e)return t?Rv.opacity.drop:Rv.opacity.combining},qgt=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function Vgt(e){const n=e.dimension.client,{offset:i,combineWith:a,dropping:r}=e,s=!!a,o=qgt(e),c=!!r,d=c?qC.drop(i,s):qC.moveTo(i);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Hgt(o,r),transform:d,opacity:Ggt(s,c),zIndex:c?m7.dropAnimating:m7.dragging,pointerEvents:"none"}}function $gt(e){return{transform:qC.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function Ygt(e){return e.type==="DRAGGING"?Vgt(e):$gt(e)}function Kgt(e,t,n=oa){const i=window.getComputedStyle(t),a=t.getBoundingClientRect(),r=EB(a,i),s=rx(r,n),o={client:r,tagName:t.tagName.toLowerCase(),display:i.display},c={x:r.marginBox.width,y:r.marginBox.height};return{descriptor:e,placeholder:o,displaceBy:c,client:r,page:s}}function Xgt(e){const t=j5("draggable"),{descriptor:n,registry:i,getDraggableRef:a,canDragInteractiveElements:r,shouldRespectForcePress:s,isEnabled:o}=e,c=fn(()=>({canDragInteractiveElements:r,shouldRespectForcePress:s,isEnabled:o}),[r,o,s]),d=ie(y=>{const b=a();return b||It(),Kgt(n,b,y)},[n,a]),f=fn(()=>({uniqueId:t,descriptor:n,options:c,getDimension:d}),[n,d,c,t]),g=j.useRef(f),v=j.useRef(!0);Xr(()=>(i.draggable.register(g.current),()=>i.draggable.unregister(g.current)),[i.draggable]),Xr(()=>{if(v.current){v.current=!1;return}const y=g.current;g.current=f,i.draggable.update(f,y)},[f,i.draggable])}var B5=Y.createContext(null);function dx(e){const t=j.useContext(e);return t||It(),t}function Wgt(e){e.preventDefault()}const Qgt=e=>{const t=j.useRef(null),n=ie((P=null)=>{t.current=P},[]),i=ie(()=>t.current,[]),{contextId:a,dragHandleUsageInstructionsId:r,registry:s}=dx(x2),{type:o,droppableId:c}=dx(B5),d=fn(()=>({id:e.draggableId,index:e.index,type:o,droppableId:c}),[e.draggableId,e.index,o,c]),{children:f,draggableId:g,isEnabled:v,shouldRespectForcePress:y,canDragInteractiveElements:b,isClone:w,mapped:E,dropAnimationFinished:C}=e;if(!w){const P=fn(()=>({descriptor:d,registry:s,getDraggableRef:i,canDragInteractiveElements:b,shouldRespectForcePress:y,isEnabled:v}),[d,s,i,b,y,v]);Xgt(P)}const A=fn(()=>v?{tabIndex:0,role:"button","aria-describedby":r,"data-rfd-drag-handle-draggable-id":g,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:Wgt}:null,[a,r,g,v]),_=ie(P=>{E.type==="DRAGGING"&&E.dropping&&P.propertyName==="transform"&&kv.flushSync(C)},[C,E]),M=fn(()=>{const P=Ygt(E),B=E.type==="DRAGGING"&&E.dropping?_:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":g,style:P,onTransitionEnd:B},dragHandleProps:A}},[a,A,g,E,_,n]),D=fn(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return Y.createElement(Y.Fragment,null,f(M,E.snapshot,D))};var yI=(e,t)=>e===t,bI=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const Zgt=e=>e.combine?e.combine.draggableId:null,Jgt=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function t0t(){const e=sa((a,r)=>({x:a,y:r})),t=sa((a,r,s=null,o=null,c=null)=>({isDragging:!0,isClone:r,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:s,combineWith:o,combineTargetFor:null})),n=sa((a,r,s,o,c=null,d=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:r,offset:a,dimension:s,forceShouldAnimate:f,snapshot:t(r,o,c,d,null)}}));return(a,r)=>{if(Dv(a)){if(a.critical.draggable.id!==r.draggableId)return null;const s=a.current.client.offset,o=a.dimensions.draggables[r.draggableId],c=Kr(a.impact),d=Jgt(a.impact),f=a.forceShouldAnimate;return n(e(s.x,s.y),a.movementMode,o,r.isClone,c,d,f)}if(a.phase==="DROP_ANIMATING"){const s=a.completed;if(s.result.draggableId!==r.draggableId)return null;const o=r.isClone,c=a.dimensions.draggables[r.draggableId],d=s.result,f=d.mode,g=bI(d),v=Zgt(d),b={duration:a.dropDuration,curve:D5.drop,moveTo:a.newHomeClientOffset,opacity:v?Rv.opacity.drop:null,scale:v?Rv.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:c,dropping:b,draggingOver:g,combineWith:v,mode:f,forceShouldAnimate:null,snapshot:t(f,o,g,v,b)}}}return null}}function xI(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const e0t={mapped:{type:"SECONDARY",offset:oa,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:xI(null)}};function n0t(){const e=sa((s,o)=>({x:s,y:o})),t=sa(xI),n=sa((s,o=null,c)=>({mapped:{type:"SECONDARY",offset:s,combineTargetFor:o,shouldAnimateDisplacement:c,snapshot:t(o)}})),i=s=>s?n(oa,s,!0):null,a=(s,o,c,d)=>{const f=c.displaced.visible[s],g=!!(d.inVirtualList&&d.effected[s]),v=g2(c),y=v&&v.draggableId===s?o:null;if(!f){if(!g)return i(y);if(c.displaced.invisible[s])return null;const E=om(d.displacedBy.point),C=e(E.x,E.y);return n(C,y,!0)}if(g)return i(y);const b=c.displacedBy.point,w=e(b.x,b.y);return n(w,y,f.shouldAnimate)};return(s,o)=>{if(Dv(s))return s.critical.draggable.id===o.draggableId?null:a(o.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){const c=s.completed;return c.result.draggableId===o.draggableId?null:a(o.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const i0t=()=>{const e=t0t(),t=n0t();return(i,a)=>e(i,a)||t(i,a)||e0t},a0t={dropAnimationFinished:ZB},r0t=_B(i0t,a0t,null,{context:L5,areStatePropsEqual:yI})(Qgt);function SI(e){return dx(B5).isUsingCloneFor===e.draggableId&&!e.isClone?null:Y.createElement(r0t,e)}function wI(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,i=!!e.shouldRespectForcePress;return Y.createElement(SI,sx({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:i}))}const _I=e=>t=>e===t,s0t=_I("scroll"),o0t=_I("auto"),g7=(e,t)=>t(e.overflowX)||t(e.overflowY),l0t=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return g7(n,s0t)||g7(n,o0t)},c0t=()=>!1,EI=e=>e==null?null:e===document.body?c0t()?e:null:e===document.documentElement?null:l0t(e)?e:EI(e.parentElement);var YC=e=>({x:e.scrollLeft,y:e.scrollTop});const AI=e=>e?window.getComputedStyle(e).position==="fixed"?!0:AI(e.parentElement):!1;var u0t=e=>{const t=EI(e),n=AI(e);return{closestScrollable:t,isFixedOnPage:n}},d0t=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:i,direction:a,client:r,page:s,closest:o})=>{const c=(()=>{if(!o)return null;const{scrollSize:v,client:y}=o,b=nI({scrollHeight:v.scrollHeight,scrollWidth:v.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:o.page.marginBox,frameClient:y,scrollSize:v,shouldClipSubject:o.shouldClipSubject,scroll:{initial:o.scroll,current:o.scroll,max:b,diff:{value:oa,displacement:oa}}}})(),d=a==="vertical"?_5:LB,f=zp({page:s,withPlaceholder:null,axis:d,frame:c});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:i,axis:d,isEnabled:t,client:r,page:s,frame:c,subject:f}};const h0t=(e,t)=>{const n=AB(e);if(!t||e!==t)return n;const i=n.paddingBox.top-t.scrollTop,a=n.paddingBox.left-t.scrollLeft,r=i+t.scrollHeight,s=a+t.scrollWidth,c=b5({top:i,right:s,bottom:r,left:a},n.border);return x5({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var f0t=({ref:e,descriptor:t,env:n,windowScroll:i,direction:a,isDropDisabled:r,isCombineEnabled:s,shouldClipSubject:o})=>{const c=n.closestScrollable,d=h0t(e,c),f=rx(d,i),g=(()=>{if(!c)return null;const y=AB(c),b={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:y,page:rx(y,i),scroll:YC(c),scrollSize:b,shouldClipSubject:o}})();return d0t({descriptor:t,isEnabled:!r,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:a,client:d,page:f,closest:g})};const p0t={passive:!1},m0t={passive:!0};var v7=e=>e.shouldPublishImmediately?p0t:m0t;const o1=e=>e&&e.env.closestScrollable||null;function g0t(e){const t=j.useRef(null),n=dx(x2),i=j5("droppable"),{registry:a,marshal:r}=n,s=dI(e),o=fn(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=j.useRef(o),d=fn(()=>sa((M,D)=>{t.current||It();const P={x:M,y:D};r.updateDroppableScroll(o.id,P)}),[o.id,r]),f=ie(()=>{const M=t.current;return!M||!M.env.closestScrollable?oa:YC(M.env.closestScrollable)},[]),g=ie(()=>{const M=f();d(M.x,M.y)},[f,d]),v=fn(()=>Ev(g),[g]),y=ie(()=>{const M=t.current,D=o1(M);if(M&&D||It(),M.scrollOptions.shouldPublishImmediately){g();return}v()},[v,g]),b=ie((M,D)=>{t.current&&It();const P=s.current,B=P.getDroppableRef();B||It();const k=u0t(B),z={ref:B,descriptor:o,env:k,scrollOptions:D};t.current=z;const H=f0t({ref:B,descriptor:o,env:k,windowScroll:M,direction:P.direction,isDropDisabled:P.isDropDisabled,isCombineEnabled:P.isCombineEnabled,shouldClipSubject:!P.ignoreContainerClipping}),G=k.closestScrollable;return G&&(G.setAttribute(d7.contextId,n.contextId),G.addEventListener("scroll",y,v7(z.scrollOptions))),H},[n.contextId,o,y,s]),w=ie(()=>{const M=t.current,D=o1(M);return M&&D||It(),YC(D)},[]),E=ie(()=>{const M=t.current;M||It();const D=o1(M);t.current=null,D&&(v.cancel(),D.removeAttribute(d7.contextId),D.removeEventListener("scroll",y,v7(M.scrollOptions)))},[y,v]),C=ie(M=>{const D=t.current;D||It();const P=o1(D);P||It(),P.scrollTop+=M.y,P.scrollLeft+=M.x},[]),A=fn(()=>({getDimensionAndWatchScroll:b,getScrollWhileDragging:w,dragStopped:E,scroll:C}),[E,b,w,C]),_=fn(()=>({uniqueId:i,descriptor:o,callbacks:A}),[A,o,i]);Xr(()=>(c.current=_.descriptor,a.droppable.register(_),()=>{t.current&&E(),a.droppable.unregister(_)}),[A,o,E,_,r,a.droppable]),Xr(()=>{t.current&&r.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,r]),Xr(()=>{t.current&&r.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,r])}function dA(){}const y7={width:0,height:0,margin:Eft},v0t=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?y7:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},y0t=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const i=v0t({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?av.placeholder:null}},b0t=e=>{const t=j.useRef(null),n=ie(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:i,onTransitionEnd:a,onClose:r,contextId:s}=e,[o,c]=j.useState(e.animate==="open");j.useEffect(()=>o?i!=="open"?(n(),c(!1),dA):t.current?dA:(t.current=setTimeout(()=>{t.current=null,c(!1)}),n):dA,[i,o,n]);const d=ie(g=>{g.propertyName==="height"&&(a(),i==="close"&&r())},[i,r,a]),f=y0t({isAnimatingOpenOnMount:o,animate:e.animate,placeholder:e.placeholder});return Y.createElement(e.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":s,onTransitionEnd:d,ref:e.innerRef})};var x0t=Y.memo(b0t);class S0t extends Y.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const w0t=e=>{const t=j.useContext(x2);t||It();const{contextId:n,isMovementAllowed:i}=t,a=j.useRef(null),r=j.useRef(null),{children:s,droppableId:o,type:c,mode:d,direction:f,ignoreContainerClipping:g,isDropDisabled:v,isCombineEnabled:y,snapshot:b,useClone:w,updateViewportMaxScroll:E,getContainerForClone:C}=e,A=ie(()=>a.current,[]),_=ie((G=null)=>{a.current=G},[]);ie(()=>r.current,[]);const M=ie((G=null)=>{r.current=G},[]),D=ie(()=>{i()&&E({maxScroll:aI()})},[i,E]);g0t({droppableId:o,type:c,mode:d,direction:f,isDropDisabled:v,isCombineEnabled:y,ignoreContainerClipping:g,getDroppableRef:A});const P=fn(()=>Y.createElement(S0t,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:G,data:Q,animate:at})=>Y.createElement(x0t,{placeholder:Q,onClose:G,innerRef:M,animate:at,contextId:n,onTransitionEnd:D})),[n,D,e.placeholder,e.shouldAnimatePlaceholder,M]),B=fn(()=>({innerRef:_,placeholder:P,droppableProps:{"data-rfd-droppable-id":o,"data-rfd-droppable-context-id":n}}),[n,o,P,_]),k=w?w.dragging.draggableId:null,z=fn(()=>({droppableId:o,type:c,isUsingCloneFor:k}),[o,k,c]);function H(){if(!w)return null;const{dragging:G,render:Q}=w,at=Y.createElement(SI,{draggableId:G.draggableId,index:G.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Z,nt)=>Q(Z,nt,G));return gH.createPortal(at,C())}return Y.createElement(B5.Provider,{value:z},s(B,b),H())};function _0t(){return document.body||It(),document.body}const b7={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:_0t},CI=e=>{let t={...e},n;for(n in b7)e[n]===void 0&&(t={...t,[n]:b7[n]});return t},hA=(e,t)=>e===t.droppable.type,x7=(e,t)=>t.draggables[e.draggable.id],E0t=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=sa(r=>({draggableId:r.id,type:r.type,source:{index:r.index,droppableId:r.droppableId}})),i=sa((r,s,o,c,d,f)=>{const g=d.descriptor.id;if(d.descriptor.droppableId===r){const b=f?{render:f,dragging:n(d.descriptor)}:null,w={isDraggingOver:o,draggingOverWith:o?g:null,draggingFromThisWith:g,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:b}}if(!s)return t;if(!c)return e;const y={isDraggingOver:o,draggingOverWith:g,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}});return(r,s)=>{const o=CI(s),c=o.droppableId,d=o.type,f=!o.isDropDisabled,g=o.renderClone;if(Dv(r)){const v=r.critical;if(!hA(d,v))return t;const y=x7(v,r.dimensions),b=Kr(r.impact)===c;return i(c,f,b,b,y,g)}if(r.phase==="DROP_ANIMATING"){const v=r.completed;if(!hA(d,v.critical))return t;const y=x7(v.critical,r.dimensions);return i(c,f,bI(v.result)===c,Kr(v.impact)===c,y,g)}if(r.phase==="IDLE"&&r.completed&&!r.shouldFlush){const v=r.completed;if(!hA(d,v.critical))return t;const y=Kr(v.impact)===c,b=!!(v.impact.at&&v.impact.at.type==="COMBINE"),w=v.critical.droppable.id===c;return y?b?e:t:w?e:t}return t}},A0t={updateViewportMaxScroll:jpt},TI=_B(E0t,A0t,(e,t,n)=>({...CI(n),...e,...t}),{context:L5,areStatePropsEqual:yI})(w0t);function C0t({obj:e,idx:t,layerLocked:n,selectedShapeIds:i,setSelectedShape:a,toggleShapeVisibility:r,removeShape:s,editingId:o,setEditingId:c,editingValue:d,setEditingValue:f,handleRenameShape:g,objects:v,isEditMode:y,setActiveLayer:b}){return L.jsx(wI,{draggableId:e.id,isDragDisabled:!y||n,index:t,children:w=>L.jsxs("li",{ref:w.innerRef,...w.draggableProps,...w.dragHandleProps,onClick:E=>{E.stopPropagation(),a(e.id),b(e.layerId)},className:qn("flex items-center group rounded px-2 py-1 transition",{"bg-blue-600 text-white font-bold shadow":i.includes(e.id),"hover:bg-blue-800":!i.includes(e.id)}),children:[L.jsxs("div",{className:"flex-1 flex items-center gap-2 truncate",children:[L.jsx("button",{className:"hover:text-blue-300 transition",onClick:E=>{E.stopPropagation(),r(e.id)},children:e.visible!==!1?L.jsx(dh,{size:15}):L.jsx(Pp,{size:15})}),L.jsx("span",{className:"text-xs truncate",onDoubleClick:y?E=>{E.stopPropagation(),c(e.id),f(e.name||e.type||e.id.slice(0,8))}:void 0,onTouchStart:y?E=>{let C=setTimeout(()=>{c(e.id),f(e.name||e.type||e.id.slice(0,8))},500);E.target.ontouchend=()=>clearTimeout(C),E.target.ontouchmove=()=>clearTimeout(C)}:void 0,children:o===e.id?L.jsx("input",{autoFocus:!0,value:d,onChange:y?E=>f(E.target.value):void 0,onBlur:y?()=>g(e.id):void 0,onKeyDown:y?E=>{E.key==="Enter"&&g(e.id),E.key==="Escape"&&(c(null),f(""))}:void 0,className:"px-2 py-1 text-xs bg-slate-800 rounded text-white w-24",style:{minWidth:60,maxWidth:180}}):e.name||e.type||e.id.slice(0,8)})]}),y&&!n&&L.jsxs(L.Fragment,{children:[L.jsx("button",{className:"ml-2 text-blue-300 hover:text-blue-500 p-1 rounded disabled:opacity-30",title:"Subir",onClick:()=>Lt.getState().bringShapeForward(e.id),disabled:t===v.length-1,children:L.jsx(sv,{size:18})}),L.jsx("button",{className:"ml-1 text-blue-300 hover:text-blue-500 p-1 rounded disabled:opacity-30",title:"Bajar",onClick:()=>Lt.getState().sendShapeBackward(e.id),disabled:t===0,children:L.jsx(R1,{size:18})}),L.jsx("button",{className:"ml-2 text-red-400 hover:text-red-600",title:"Eliminar elemento",onClick:()=>s(e.id),children:L.jsx(Lv,{size:18})})]})]})},e.id)}function T0t({layer:e,idx:t,isEditMode:n,isActive:i,isOpen:a,objects:r,layers:s,selectedShapeIds:o,setActiveLayer:c,setEditingId:d,editingId:f,editingValue:g,setEditingValue:v,handleRenameLayer:y,moveLayerUp:b,moveLayerDown:w,toggleLayerVisibility:E,toggleLayerLock:C,setLayerOpacity:A,toggleLayerOpen:_,setSelectedShape:M,toggleShapeVisibility:D,removeShape:P,handleRenameShape:B,onRequestDelete:k}){const z=e.locked;return L.jsx(wI,{draggableId:e.id,isDragDisabled:!n||z,index:t,children:H=>L.jsxs("li",{ref:H.innerRef,...H.draggableProps,...H.dragHandleProps,className:qn("rounded-xl p-3 border shadow group transition-all duration-200 relative",{"bg-blue-950/70 border-blue-600 shadow-lg":i,"bg-slate-800/60 border-slate-700 hover:bg-slate-800/80":!i,"ring-2 ring-blue-500/70":i}),tabIndex:0,onClick:()=>c(e.id),children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("span",{onDoubleClick:n?G=>{G.stopPropagation(),d(e.id),v(e.name)}:void 0,onTouchStart:n?G=>{let Q=setTimeout(()=>{d(e.id),v(e.name)},500);G.target.ontouchend=()=>clearTimeout(Q),G.target.ontouchmove=()=>clearTimeout(Q)}:void 0,children:f===e.id?L.jsx("input",{autoFocus:!0,value:g,onChange:n?G=>v(G.target.value):void 0,onBlur:n?()=>y(e.id):void 0,onKeyDown:n?G=>{G.key==="Enter"&&y(e.id),G.key==="Escape"&&(d(null),v(""))}:void 0,className:"px-2 py-1 bg-slate-800 rounded text-white w-32",style:{minWidth:80,maxWidth:180}}):e.name}),L.jsx("div",{className:"flex items-center gap-2 w-fit",children:n&&!e.locked&&L.jsxs(L.Fragment,{children:[L.jsx("button",{className:"p-1 hover:bg-blue-800/40 rounded",onClick:G=>{G.stopPropagation(),b(e.id)},disabled:t===0,children:L.jsx(R1,{size:16})}),L.jsx("button",{className:"p-1 hover:bg-blue-800/40 rounded",onClick:G=>{G.stopPropagation(),w(e.id)},disabled:t===s.length-1,children:L.jsx(sv,{size:16})})]})})]}),L.jsxs("div",{className:"flex items-center justify-between mt-2",children:[L.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[L.jsx("button",{className:"hover:text-blue-300 transition",onClick:G=>{G.stopPropagation(),E(e.id)},children:e.visible?L.jsx(dh,{size:17}):L.jsx(Pp,{size:17})}),n&&L.jsx("button",{className:"hover:text-blue-300 transition",onClick:G=>{G.stopPropagation(),C(e.id)},children:e.locked?L.jsx(kp,{size:17}):L.jsx(wG,{size:17})})]}),L.jsx("div",{className:"flex items-center gap-1",children:n&&!e.locked&&L.jsx("button",{onClick:G=>{G.stopPropagation(),k()},title:"Eliminar capa",className:"ml-2 text-red-400 hover:text-red-600",children:L.jsx(Lv,{size:17})})})]}),L.jsxs("div",{className:"mt-3 flex flex-col gap-2 text-xs opacity-80",children:[L.jsxs("div",{className:"flex items-center justify-between flex-1",children:[L.jsx("span",{children:"Opacidad"}),L.jsxs("span",{children:[e.opacity?Math.round(e.opacity*100):100,"%"]})]}),L.jsx("div",{className:"flex items-center gap-2",children:L.jsx("input",{type:"range",min:10,max:100,step:1,value:e.opacity?e.opacity*100:100,onChange:G=>A(e.id,Number(G.target.value)/100),className:"flex-1 accent-blue-500 bg-transparent",style:{accentColor:"#3b82f6",width:80}})})]}),L.jsxs("button",{className:"p-1 px-2 flex items-center gap-2 text-xs mt-1 rounded hover:bg-blue-800 transition",onClick:G=>{G.stopPropagation(),_(e.id)},children:[a?L.jsx(sv,{size:17}):L.jsx(BH,{size:17}),L.jsxs("span",{children:[r.length," objetos"]})]}),a&&L.jsx(TI,{droppableId:e.id,type:"shape",isDropDisabled:!n,children:G=>L.jsxs("ul",{ref:G.innerRef,...G.droppableProps,className:"ml-7 mt-2 space-y-1",children:[r.map((Q,at)=>L.jsx(C0t,{obj:Q,idx:at,layerLocked:z,selectedShapeIds:o,setSelectedShape:M,toggleShapeVisibility:D,removeShape:P,editingId:f,setEditingId:d,editingValue:g,setEditingValue:v,handleRenameShape:B,objects:r,isEditMode:n,setActiveLayer:c},Q.id)),G.placeholder]})})]})},e.id)}function R0t(){const[e,t]=j.useState([]),n=j.useCallback(a=>{t(r=>r.includes(a)?r.filter(s=>s!==a):[...r,a])},[]),i=j.useCallback(a=>e.includes(a),[e]);return{openLayers:e,toggleLayerOpen:n,isLayerOpen:i}}function w2(){const e=Lt(t=>t.mode);return{isEditMode:e==="edit",isViewMode:e==="view",mode:e}}function M0t(){const[e,t]=j.useState(null),[n,i]=j.useState(""),[a,r]=j.useState(null),s=Lt(Z=>Z.layers),o=Lt(Z=>Z.activeLayerId),c=Lt(Z=>Z.setActiveLayer),d=Lt(Z=>Z.toggleLayerVisibility),f=Lt(Z=>Z.toggleLayerLock),g=Lt(Z=>Z.addLayer),v=Lt(Z=>Z.removeLayer),y=Lt(Z=>Z.moveLayerUp),b=Lt(Z=>Z.moveLayerDown),w=Lt(Z=>Z.setLayerOpacity),E=Lt(Z=>Z.removeShape),C=Lt(Z=>Z.shapes),A=Lt(Z=>Z.selectedShapeIds),_=Lt(Z=>Z.setSelectedShape),M=Lt(Z=>Z.toggleShapeVisibility),D=Lt(Z=>Z.layersPanelVisible),{isEditMode:P}=w2(),B=t5({maxWidth:768}),{toggleLayerOpen:k,isLayerOpen:z}=R0t(),H=j.useCallback(Z=>{const{destination:nt,source:tt,draggableId:I,type:V}=Z;if(nt){if(V==="layer"){const X=s.filter(it=>!it._toDelete);if(X[tt.index]?.id,X[nt.index]?.id,tt.index===nt.index)return;const U=[...X],[$]=U.splice(tt.index,1);U.splice(nt.index,0,$),Lt.setState(it=>{const K=[...it.layers];return U.forEach((ct,pt)=>{const rt=K.findIndex(J=>J.id===ct.id);rt!==-1&&(K[rt]={...K[rt],order:pt,_dirty:K[rt]._isNew?K[rt]._dirty:!0})}),K.sort((ct,pt)=>ct.order-pt.order),{layers:K}})}if(V==="shape"){const X=tt.droppableId,U=nt.droppableId,$=I;C.filter(K=>K.layerId===X);const it=C.filter(K=>K.layerId===U);Lt.setState(K=>{let ct=[...K.shapes];const pt=ct.findIndex(lt=>lt.id===$&&lt.layerId===X);if(pt===-1)return{};const[rt]=ct.splice(pt,1);rt.layerId=U;const J=ct.findIndex((lt,St)=>lt.layerId===U&&it[nt.index]&&lt.id===it[nt.index].id);if(J===-1||it.length===0){let lt=-1;for(let St=ct.length-1;St>=0;St--)if(ct[St].layerId===U){lt=St;break}ct.splice(lt+1,0,rt)}else ct.splice(J,0,rt);return{shapes:ct}})}}},[s,C]),G=Z=>{n.trim()&&Lt.getState().renameLayer(Z,n.trim()),t(null),i("")},Q=Z=>{n.trim()&&Lt.getState().renameShape(Z,n.trim()),t(null),i("")},at=Z=>{if(!Z){Mn("Selecciona una capa para continuar",{icon:"",duration:3e3});return}c(Z)};return L.jsxs("div",{className:qn("fixed z-50 transition-all duration-300",{"inset-x-0 mx-auto top-24":B,"top-24 left-24 md:left-4":!B,"pointer-events-none opacity-0 -translate-x-8":!D,"pointer-events-auto opacity-100 translate-x-0":D}),style:{width:B?"95vw":"23rem",minWidth:B?160:300,maxWidth:B?350:450,...B?{bottom:"auto",right:"auto"}:{}},children:[L.jsxs("aside",{className:"w-full bg-slate-900/95 text-white shadow-2xl p-4 rounded-2xl border border-blue-900 backdrop-blur-lg text-xs",children:[L.jsxs("div",{className:"flex items-center justify-between mb-4",children:[L.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[L.jsx(fP,{size:20}),"Capas"]}),L.jsxs("div",{className:"flex items-center gap-2",children:[P&&L.jsx("button",{onClick:()=>g(),title:"Agregar capa",className:"text-green-400 hover:text-green-300",children:L.jsx(ov,{size:22})}),L.jsx("button",{onClick:()=>Lt.getState().hideLayersPanel(),title:"Cerrar panel de capas",className:"ml-2 text-slate-400 hover:text-red-500 p-1 rounded transition",children:L.jsx(Yp,{size:22})})]})]}),L.jsx("div",{className:"overflow-y-auto",style:{maxHeight:B?"70dvh":"75dvh"},children:L.jsx(Ugt,{onDragEnd:H,children:L.jsx(TI,{droppableId:"LAYERS-DND",type:"layer",children:Z=>L.jsxs("ul",{...Z.droppableProps,ref:Z.innerRef,className:qn("space-y-4",{"space-y-2":B}),children:[s.filter(nt=>!nt._toDelete).map((nt,tt)=>{const I=nt.id===o,V=C.filter(U=>U.layerId===nt.id&&!U._toDelete),X=z(nt.id);return L.jsx(T0t,{layer:nt,idx:tt,isEditMode:P,isActive:I,isOpen:X,objects:V,layers:s,selectedShapeIds:A,setActiveLayer:at,setEditingId:t,editingId:e,editingValue:n,setEditingValue:i,handleRenameLayer:G,moveLayerUp:y,moveLayerDown:b,toggleLayerVisibility:d,toggleLayerLock:f,setLayerOpacity:w,toggleLayerOpen:k,setSelectedShape:_,toggleShapeVisibility:M,removeShape:E,handleRenameShape:Q,onRequestDelete:()=>r(nt.id)},nt.id)}),Z.placeholder]})})})})]}),L.jsxs(nm,{isOpen:!!a,onClose:()=>r(null),title:"Eliminar capa",children:[L.jsx("p",{className:"mb-3",children:"Seguro que deseas eliminar esta capa y todos sus elementos?"}),L.jsxs("div",{className:"flex gap-3 justify-end mt-6",children:[L.jsx("button",{className:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>r(null),children:"Cancelar"}),L.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",onClick:()=>{v(a),r(null)},children:"Eliminar"})]})]})]})}var C1={exports:{}},Yg={},fA={},pA={},S7;function He(){return S7||(S7=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e.Konva=e.glob=void 0;const t=Math.PI/180;function n(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}e.glob=typeof xp<"u"?xp:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},e.Konva={_global:e.glob,version:"9.3.21",isBrowser:n(),isUnminified:/param/.test((function(a){}).toString()),dblClickWindow:400,getAngle(a){return e.Konva.angleDeg?a*t:a},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return e.Konva.DD.isDragging},isTransforming(){var a;return(a=e.Konva.Transformer)===null||a===void 0?void 0:a.isTransforming()},isDragReady(){return!!e.Konva.DD.node},releaseCanvasOnDestroy:!0,document:e.glob.document,_injectGlobal(a){e.glob.Konva=a}};const i=a=>{e.Konva[a.prototype.getClassName()]=a};e._registerNode=i,e.Konva._injectGlobal(e.Konva)}(pA)),pA}var mA={},w7;function wi(){return w7||(w7=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=void 0;const t=He();class n{constructor(M=[1,0,0,1,0,0]){this.dirty=!1,this.m=M&&M.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(M){M.m[0]=this.m[0],M.m[1]=this.m[1],M.m[2]=this.m[2],M.m[3]=this.m[3],M.m[4]=this.m[4],M.m[5]=this.m[5]}point(M){const D=this.m;return{x:D[0]*M.x+D[2]*M.y+D[4],y:D[1]*M.x+D[3]*M.y+D[5]}}translate(M,D){return this.m[4]+=this.m[0]*M+this.m[2]*D,this.m[5]+=this.m[1]*M+this.m[3]*D,this}scale(M,D){return this.m[0]*=M,this.m[1]*=M,this.m[2]*=D,this.m[3]*=D,this}rotate(M){const D=Math.cos(M),P=Math.sin(M),B=this.m[0]*D+this.m[2]*P,k=this.m[1]*D+this.m[3]*P,z=this.m[0]*-P+this.m[2]*D,H=this.m[1]*-P+this.m[3]*D;return this.m[0]=B,this.m[1]=k,this.m[2]=z,this.m[3]=H,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(M,D){const P=this.m[0]+this.m[2]*D,B=this.m[1]+this.m[3]*D,k=this.m[2]+this.m[0]*M,z=this.m[3]+this.m[1]*M;return this.m[0]=P,this.m[1]=B,this.m[2]=k,this.m[3]=z,this}multiply(M){const D=this.m[0]*M.m[0]+this.m[2]*M.m[1],P=this.m[1]*M.m[0]+this.m[3]*M.m[1],B=this.m[0]*M.m[2]+this.m[2]*M.m[3],k=this.m[1]*M.m[2]+this.m[3]*M.m[3],z=this.m[0]*M.m[4]+this.m[2]*M.m[5]+this.m[4],H=this.m[1]*M.m[4]+this.m[3]*M.m[5]+this.m[5];return this.m[0]=D,this.m[1]=P,this.m[2]=B,this.m[3]=k,this.m[4]=z,this.m[5]=H,this}invert(){const M=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),D=this.m[3]*M,P=-this.m[1]*M,B=-this.m[2]*M,k=this.m[0]*M,z=M*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),H=M*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=D,this.m[1]=P,this.m[2]=B,this.m[3]=k,this.m[4]=z,this.m[5]=H,this}getMatrix(){return this.m}decompose(){const M=this.m[0],D=this.m[1],P=this.m[2],B=this.m[3],k=this.m[4],z=this.m[5],H=M*B-D*P,G={x:k,y:z,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(M!=0||D!=0){const Q=Math.sqrt(M*M+D*D);G.rotation=D>0?Math.acos(M/Q):-Math.acos(M/Q),G.scaleX=Q,G.scaleY=H/Q,G.skewX=(M*P+D*B)/H,G.skewY=0}else if(P!=0||B!=0){const Q=Math.sqrt(P*P+B*B);G.rotation=Math.PI/2-(B>0?Math.acos(-P/Q):-Math.acos(P/Q)),G.scaleX=H/Q,G.scaleY=Q,G.skewX=0,G.skewY=(M*P+D*B)/H}return G.rotation=e.Util._getRotation(G.rotation),G}}e.Transform=n;const i="[object Array]",a="[object Number]",r="[object String]",s="[object Boolean]",o=Math.PI/180,c=180/Math.PI,d="#",f="",g="0",v="Konva warning: ",y="Konva error: ",b="rgb(",w={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},E=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let C=[];const A=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(_){setTimeout(_,60)};e.Util={_isElement(_){return!!(_&&_.nodeType==1)},_isFunction(_){return!!(_&&_.constructor&&_.call&&_.apply)},_isPlainObject(_){return!!_&&_.constructor===Object},_isArray(_){return Object.prototype.toString.call(_)===i},_isNumber(_){return Object.prototype.toString.call(_)===a&&!isNaN(_)&&isFinite(_)},_isString(_){return Object.prototype.toString.call(_)===r},_isBoolean(_){return Object.prototype.toString.call(_)===s},isObject(_){return _ instanceof Object},isValidSelector(_){if(typeof _!="string")return!1;const M=_[0];return M==="#"||M==="."||M===M.toUpperCase()},_sign(_){return _===0||_>0?1:-1},requestAnimFrame(_){C.push(_),C.length===1&&A(function(){const M=C;C=[],M.forEach(function(D){D()})})},createCanvasElement(){const _=document.createElement("canvas");try{_.style=_.style||{}}catch{}return _},createImageElement(){return document.createElement("img")},_isInDocument(_){for(;_=_.parentNode;)if(_==document)return!0;return!1},_urlToImage(_,M){const D=e.Util.createImageElement();D.onload=function(){M(D)},D.src=_},_rgbToHex(_,M,D){return((1<<24)+(_<<16)+(M<<8)+D).toString(16).slice(1)},_hexToRgb(_){_=_.replace(d,f);const M=parseInt(_,16);return{r:M>>16&255,g:M>>8&255,b:M&255}},getRandomColor(){let _=(Math.random()*16777215<<0).toString(16);for(;_.length<6;)_=g+_;return d+_},getRGB(_){let M;return _ in w?(M=w[_],{r:M[0],g:M[1],b:M[2]}):_[0]===d?this._hexToRgb(_.substring(1)):_.substr(0,4)===b?(M=E.exec(_.replace(/ /g,"")),{r:parseInt(M[1],10),g:parseInt(M[2],10),b:parseInt(M[3],10)}):{r:0,g:0,b:0}},colorToRGBA(_){return _=_||"black",e.Util._namedColorToRBA(_)||e.Util._hex3ColorToRGBA(_)||e.Util._hex4ColorToRGBA(_)||e.Util._hex6ColorToRGBA(_)||e.Util._hex8ColorToRGBA(_)||e.Util._rgbColorToRGBA(_)||e.Util._rgbaColorToRGBA(_)||e.Util._hslColorToRGBA(_)},_namedColorToRBA(_){const M=w[_.toLowerCase()];return M?{r:M[0],g:M[1],b:M[2],a:1}:null},_rgbColorToRGBA(_){if(_.indexOf("rgb(")===0){_=_.match(/rgb\(([^)]+)\)/)[1];const M=_.split(/ *, */).map(Number);return{r:M[0],g:M[1],b:M[2],a:1}}},_rgbaColorToRGBA(_){if(_.indexOf("rgba(")===0){_=_.match(/rgba\(([^)]+)\)/)[1];const M=_.split(/ *, */).map((D,P)=>D.slice(-1)==="%"?P===3?parseInt(D)/100:parseInt(D)/100*255:Number(D));return{r:M[0],g:M[1],b:M[2],a:M[3]}}},_hex8ColorToRGBA(_){if(_[0]==="#"&&_.length===9)return{r:parseInt(_.slice(1,3),16),g:parseInt(_.slice(3,5),16),b:parseInt(_.slice(5,7),16),a:parseInt(_.slice(7,9),16)/255}},_hex6ColorToRGBA(_){if(_[0]==="#"&&_.length===7)return{r:parseInt(_.slice(1,3),16),g:parseInt(_.slice(3,5),16),b:parseInt(_.slice(5,7),16),a:1}},_hex4ColorToRGBA(_){if(_[0]==="#"&&_.length===5)return{r:parseInt(_[1]+_[1],16),g:parseInt(_[2]+_[2],16),b:parseInt(_[3]+_[3],16),a:parseInt(_[4]+_[4],16)/255}},_hex3ColorToRGBA(_){if(_[0]==="#"&&_.length===4)return{r:parseInt(_[1]+_[1],16),g:parseInt(_[2]+_[2],16),b:parseInt(_[3]+_[3],16),a:1}},_hslColorToRGBA(_){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(_)){const[M,...D]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(_),P=Number(D[0])/360,B=Number(D[1])/100,k=Number(D[2])/100;let z,H,G;if(B===0)return G=k*255,{r:Math.round(G),g:Math.round(G),b:Math.round(G),a:1};k<.5?z=k*(1+B):z=k+B-k*B;const Q=2*k-z,at=[0,0,0];for(let Z=0;Z<3;Z++)H=P+1/3*-(Z-1),H<0&&H++,H>1&&H--,6*H<1?G=Q+(z-Q)*6*H:2*H<1?G=z:3*H<2?G=Q+(z-Q)*(2/3-H)*6:G=Q,at[Z]=G*255;return{r:Math.round(at[0]),g:Math.round(at[1]),b:Math.round(at[2]),a:1}}},haveIntersection(_,M){return!(M.x>_.x+_.width||M.x+M.width<_.x||M.y>_.y+_.height||M.y+M.height<_.y)},cloneObject(_){const M={};for(const D in _)this._isPlainObject(_[D])?M[D]=this.cloneObject(_[D]):this._isArray(_[D])?M[D]=this.cloneArray(_[D]):M[D]=_[D];return M},cloneArray(_){return _.slice(0)},degToRad(_){return _*o},radToDeg(_){return _*c},_degToRad(_){return e.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),e.Util.degToRad(_)},_radToDeg(_){return e.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),e.Util.radToDeg(_)},_getRotation(_){return t.Konva.angleDeg?e.Util.radToDeg(_):_},_capitalize(_){return _.charAt(0).toUpperCase()+_.slice(1)},throw(_){throw new Error(y+_)},error(_){console.error(y+_)},warn(_){t.Konva.showWarnings&&console.warn(v+_)},each(_,M){for(const D in _)M(D,_[D])},_inRange(_,M,D){return M<=_&&_<D},_getProjectionToSegment(_,M,D,P,B,k){let z,H,G;const Q=(_-D)*(_-D)+(M-P)*(M-P);if(Q==0)z=_,H=M,G=(B-D)*(B-D)+(k-P)*(k-P);else{const at=((B-_)*(D-_)+(k-M)*(P-M))/Q;at<0?(z=_,H=M,G=(_-B)*(_-B)+(M-k)*(M-k)):at>1?(z=D,H=P,G=(D-B)*(D-B)+(P-k)*(P-k)):(z=_+at*(D-_),H=M+at*(P-M),G=(z-B)*(z-B)+(H-k)*(H-k))}return[z,H,G]},_getProjectionToLine(_,M,D){const P=e.Util.cloneObject(_);let B=Number.MAX_VALUE;return M.forEach(function(k,z){if(!D&&z===M.length-1)return;const H=M[(z+1)%M.length],G=e.Util._getProjectionToSegment(k.x,k.y,H.x,H.y,_.x,_.y),Q=G[0],at=G[1],Z=G[2];Z<B&&(P.x=Q,P.y=at,B=Z)}),P},_prepareArrayForTween(_,M,D){const P=[],B=[];if(_.length>M.length){const z=M;M=_,_=z}for(let z=0;z<_.length;z+=2)P.push({x:_[z],y:_[z+1]});for(let z=0;z<M.length;z+=2)B.push({x:M[z],y:M[z+1]});const k=[];return B.forEach(function(z){const H=e.Util._getProjectionToLine(z,P,D);k.push(H.x),k.push(H.y)}),k},_prepareToStringify(_){let M;_.visitedByCircularReferenceRemoval=!0;for(const D in _)if(_.hasOwnProperty(D)&&_[D]&&typeof _[D]=="object"){if(M=Object.getOwnPropertyDescriptor(_,D),_[D].visitedByCircularReferenceRemoval||e.Util._isElement(_[D]))if(M.configurable)delete _[D];else return null;else if(e.Util._prepareToStringify(_[D])===null)if(M.configurable)delete _[D];else return null}return delete _.visitedByCircularReferenceRemoval,_},_assign(_,M){for(const D in M)_[D]=M[D];return _},_getFirstPointerId(_){return _.touches?_.changedTouches[0].identifier:_.pointerId||999},releaseCanvas(..._){t.Konva.releaseCanvasOnDestroy&&_.forEach(M=>{M.width=0,M.height=0})},drawRoundedRectPath(_,M,D,P){let B=0,k=0,z=0,H=0;typeof P=="number"?B=k=z=H=Math.min(P,M/2,D/2):(B=Math.min(P[0]||0,M/2,D/2),k=Math.min(P[1]||0,M/2,D/2),H=Math.min(P[2]||0,M/2,D/2),z=Math.min(P[3]||0,M/2,D/2)),_.moveTo(B,0),_.lineTo(M-k,0),_.arc(M-k,k,k,Math.PI*3/2,0,!1),_.lineTo(M,D-H),_.arc(M-H,D-H,H,0,Math.PI/2,!1),_.lineTo(z,D),_.arc(z,D-z,z,Math.PI/2,Math.PI,!1),_.lineTo(0,B),_.arc(B,B,B,Math.PI,Math.PI*3/2,!1)}}}(mA)),mA}var Kg={},hc={},fc={},_7;function RI(){if(_7)return fc;_7=1,Object.defineProperty(fc,"__esModule",{value:!0}),fc.HitContext=fc.SceneContext=fc.Context=void 0;const e=wi(),t=He();function n(C){const A=[],_=C.length,M=e.Util;for(let D=0;D<_;D++){let P=C[D];M._isNumber(P)?P=Math.round(P*1e3)/1e3:M._isString(P)||(P=P+""),A.push(P)}return A}const i=",",a="(",r=")",s="([",o="])",c=";",d="()",f="=",g=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],v=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],y=100;let b=class{constructor(A){this.canvas=A,t.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(A){A.fillEnabled()&&this._fill(A)}_fill(A){}strokeShape(A){A.hasStroke()&&this._stroke(A)}_stroke(A){}fillStrokeShape(A){A.attrs.fillAfterStrokeEnabled?(this.strokeShape(A),this.fillShape(A)):(this.fillShape(A),this.strokeShape(A))}getTrace(A,_){let M=this.traceArr,D=M.length,P="",B,k,z,H;for(B=0;B<D;B++)k=M[B],z=k.method,z?(H=k.args,P+=z,A?P+=d:e.Util._isArray(H[0])?P+=s+H.join(i)+o:(_&&(H=H.map(G=>typeof G=="number"?Math.floor(G):G)),P+=a+H.join(i)+r)):(P+=k.property,A||(P+=f+k.val)),P+=c;return P}clearTrace(){this.traceArr=[]}_trace(A){let _=this.traceArr,M;_.push(A),M=_.length,M>=y&&_.shift()}reset(){const A=this.getCanvas().getPixelRatio();this.setTransform(1*A,0,0,1*A,0,0)}getCanvas(){return this.canvas}clear(A){const _=this.getCanvas();A?this.clearRect(A.x||0,A.y||0,A.width||0,A.height||0):this.clearRect(0,0,_.getWidth()/_.pixelRatio,_.getHeight()/_.pixelRatio)}_applyLineCap(A){const _=A.attrs.lineCap;_&&this.setAttr("lineCap",_)}_applyOpacity(A){const _=A.getAbsoluteOpacity();_!==1&&this.setAttr("globalAlpha",_)}_applyLineJoin(A){const _=A.attrs.lineJoin;_&&this.setAttr("lineJoin",_)}setAttr(A,_){this._context[A]=_}arc(A,_,M,D,P,B){this._context.arc(A,_,M,D,P,B)}arcTo(A,_,M,D,P){this._context.arcTo(A,_,M,D,P)}beginPath(){this._context.beginPath()}bezierCurveTo(A,_,M,D,P,B){this._context.bezierCurveTo(A,_,M,D,P,B)}clearRect(A,_,M,D){this._context.clearRect(A,_,M,D)}clip(...A){this._context.clip.apply(this._context,A)}closePath(){this._context.closePath()}createImageData(A,_){const M=arguments;if(M.length===2)return this._context.createImageData(A,_);if(M.length===1)return this._context.createImageData(A)}createLinearGradient(A,_,M,D){return this._context.createLinearGradient(A,_,M,D)}createPattern(A,_){return this._context.createPattern(A,_)}createRadialGradient(A,_,M,D,P,B){return this._context.createRadialGradient(A,_,M,D,P,B)}drawImage(A,_,M,D,P,B,k,z,H){const G=arguments,Q=this._context;G.length===3?Q.drawImage(A,_,M):G.length===5?Q.drawImage(A,_,M,D,P):G.length===9&&Q.drawImage(A,_,M,D,P,B,k,z,H)}ellipse(A,_,M,D,P,B,k,z){this._context.ellipse(A,_,M,D,P,B,k,z)}isPointInPath(A,_,M,D){return M?this._context.isPointInPath(M,A,_,D):this._context.isPointInPath(A,_,D)}fill(...A){this._context.fill.apply(this._context,A)}fillRect(A,_,M,D){this._context.fillRect(A,_,M,D)}strokeRect(A,_,M,D){this._context.strokeRect(A,_,M,D)}fillText(A,_,M,D){D?this._context.fillText(A,_,M,D):this._context.fillText(A,_,M)}measureText(A){return this._context.measureText(A)}getImageData(A,_,M,D){return this._context.getImageData(A,_,M,D)}lineTo(A,_){this._context.lineTo(A,_)}moveTo(A,_){this._context.moveTo(A,_)}rect(A,_,M,D){this._context.rect(A,_,M,D)}roundRect(A,_,M,D,P){this._context.roundRect(A,_,M,D,P)}putImageData(A,_,M){this._context.putImageData(A,_,M)}quadraticCurveTo(A,_,M,D){this._context.quadraticCurveTo(A,_,M,D)}restore(){this._context.restore()}rotate(A){this._context.rotate(A)}save(){this._context.save()}scale(A,_){this._context.scale(A,_)}setLineDash(A){this._context.setLineDash?this._context.setLineDash(A):"mozDash"in this._context?this._context.mozDash=A:"webkitLineDash"in this._context&&(this._context.webkitLineDash=A)}getLineDash(){return this._context.getLineDash()}setTransform(A,_,M,D,P,B){this._context.setTransform(A,_,M,D,P,B)}stroke(A){A?this._context.stroke(A):this._context.stroke()}strokeText(A,_,M,D){this._context.strokeText(A,_,M,D)}transform(A,_,M,D,P,B){this._context.transform(A,_,M,D,P,B)}translate(A,_){this._context.translate(A,_)}_enableTrace(){let A=this,_=g.length,M=this.setAttr,D,P;const B=function(k){let z=A[k],H;A[k]=function(){return P=n(Array.prototype.slice.call(arguments,0)),H=z.apply(A,arguments),A._trace({method:k,args:P}),H}};for(D=0;D<_;D++)B(g[D]);A.setAttr=function(){M.apply(A,arguments);const k=arguments[0];let z=arguments[1];(k==="shadowOffsetX"||k==="shadowOffsetY"||k==="shadowBlur")&&(z=z/this.canvas.getPixelRatio()),A._trace({property:k,val:z})}}_applyGlobalCompositeOperation(A){const _=A.attrs.globalCompositeOperation;!_||_==="source-over"||this.setAttr("globalCompositeOperation",_)}};fc.Context=b,v.forEach(function(C){Object.defineProperty(b.prototype,C,{get(){return this._context[C]},set(A){this._context[C]=A}})});class w extends b{constructor(A,{willReadFrequently:_=!1}={}){super(A),this._context=A._canvas.getContext("2d",{willReadFrequently:_})}_fillColor(A){const _=A.fill();this.setAttr("fillStyle",_),A._fillFunc(this)}_fillPattern(A){this.setAttr("fillStyle",A._getFillPattern()),A._fillFunc(this)}_fillLinearGradient(A){const _=A._getLinearGradient();_&&(this.setAttr("fillStyle",_),A._fillFunc(this))}_fillRadialGradient(A){const _=A._getRadialGradient();_&&(this.setAttr("fillStyle",_),A._fillFunc(this))}_fill(A){const _=A.fill(),M=A.getFillPriority();if(_&&M==="color"){this._fillColor(A);return}const D=A.getFillPatternImage();if(D&&M==="pattern"){this._fillPattern(A);return}const P=A.getFillLinearGradientColorStops();if(P&&M==="linear-gradient"){this._fillLinearGradient(A);return}const B=A.getFillRadialGradientColorStops();if(B&&M==="radial-gradient"){this._fillRadialGradient(A);return}_?this._fillColor(A):D?this._fillPattern(A):P?this._fillLinearGradient(A):B&&this._fillRadialGradient(A)}_strokeLinearGradient(A){const _=A.getStrokeLinearGradientStartPoint(),M=A.getStrokeLinearGradientEndPoint(),D=A.getStrokeLinearGradientColorStops(),P=this.createLinearGradient(_.x,_.y,M.x,M.y);if(D){for(let B=0;B<D.length;B+=2)P.addColorStop(D[B],D[B+1]);this.setAttr("strokeStyle",P)}}_stroke(A){const _=A.dash(),M=A.getStrokeScaleEnabled();if(A.hasStroke()){if(!M){this.save();const P=this.getCanvas().getPixelRatio();this.setTransform(P,0,0,P,0,0)}this._applyLineCap(A),_&&A.dashEnabled()&&(this.setLineDash(_),this.setAttr("lineDashOffset",A.dashOffset())),this.setAttr("lineWidth",A.strokeWidth()),A.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),A.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(A):this.setAttr("strokeStyle",A.stroke()),A._strokeFunc(this),M||this.restore()}}_applyShadow(A){var _,M,D;const P=(_=A.getShadowRGBA())!==null&&_!==void 0?_:"black",B=(M=A.getShadowBlur())!==null&&M!==void 0?M:5,k=(D=A.getShadowOffset())!==null&&D!==void 0?D:{x:0,y:0},z=A.getAbsoluteScale(),H=this.canvas.getPixelRatio(),G=z.x*H,Q=z.y*H;this.setAttr("shadowColor",P),this.setAttr("shadowBlur",B*Math.min(Math.abs(G),Math.abs(Q))),this.setAttr("shadowOffsetX",k.x*G),this.setAttr("shadowOffsetY",k.y*Q)}}fc.SceneContext=w;class E extends b{constructor(A){super(A),this._context=A._canvas.getContext("2d",{willReadFrequently:!0})}_fill(A){this.save(),this.setAttr("fillStyle",A.colorKey),A._fillFuncHit(this),this.restore()}strokeShape(A){A.hasHitStroke()&&this._stroke(A)}_stroke(A){if(A.hasHitStroke()){const _=A.getStrokeScaleEnabled();if(!_){this.save();const P=this.getCanvas().getPixelRatio();this.setTransform(P,0,0,P,0,0)}this._applyLineCap(A);const M=A.hitStrokeWidth(),D=M==="auto"?A.strokeWidth():M;this.setAttr("lineWidth",D),this.setAttr("strokeStyle",A.colorKey),A._strokeFuncHit(this),_||this.restore()}}}return fc.HitContext=E,fc}var E7;function _2(){if(E7)return hc;E7=1,Object.defineProperty(hc,"__esModule",{value:!0}),hc.HitCanvas=hc.SceneCanvas=hc.Canvas=void 0;const e=wi(),t=RI(),n=He();let i;function a(){if(i)return i;const c=e.Util.createCanvasElement(),d=c.getContext("2d");return i=function(){const f=n.Konva._global.devicePixelRatio||1,g=d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1;return f/g}(),e.Util.releaseCanvas(c),i}let r=class{constructor(d){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const g=(d||{}).pixelRatio||n.Konva.pixelRatio||a();this.pixelRatio=g,this._canvas=e.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(d){const f=this.pixelRatio;this.pixelRatio=d,this.setSize(this.getWidth()/f,this.getHeight()/f)}setWidth(d){this.width=this._canvas.width=d*this.pixelRatio,this._canvas.style.width=d+"px";const f=this.pixelRatio;this.getContext()._context.scale(f,f)}setHeight(d){this.height=this._canvas.height=d*this.pixelRatio,this._canvas.style.height=d+"px";const f=this.pixelRatio;this.getContext()._context.scale(f,f)}getWidth(){return this.width}getHeight(){return this.height}setSize(d,f){this.setWidth(d||0),this.setHeight(f||0)}toDataURL(d,f){try{return this._canvas.toDataURL(d,f)}catch{try{return this._canvas.toDataURL()}catch(v){return e.Util.error("Unable to get data URL. "+v.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};hc.Canvas=r;class s extends r{constructor(d={width:0,height:0,willReadFrequently:!1}){super(d),this.context=new t.SceneContext(this,{willReadFrequently:d.willReadFrequently}),this.setSize(d.width,d.height)}}hc.SceneCanvas=s;class o extends r{constructor(d={width:0,height:0}){super(d),this.hitCanvas=!0,this.context=new t.HitContext(this),this.setSize(d.width,d.height)}}return hc.HitCanvas=o,hc}var gA={},A7;function I5(){return A7||(A7=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;const t=He(),n=wi();e.DD={get isDragging(){let i=!1;return e.DD._dragElements.forEach(a=>{a.dragStatus==="dragging"&&(i=!0)}),i},justDragged:!1,get node(){let i;return e.DD._dragElements.forEach(a=>{i=a.node}),i},_dragElements:new Map,_drag(i){const a=[];e.DD._dragElements.forEach((r,s)=>{const{node:o}=r,c=o.getStage();c.setPointersPositions(i),r.pointerId===void 0&&(r.pointerId=n.Util._getFirstPointerId(i));const d=c._changedPointerPositions.find(f=>f.id===r.pointerId);if(d){if(r.dragStatus!=="dragging"){const f=o.dragDistance();if(Math.max(Math.abs(d.x-r.startPointerPos.x),Math.abs(d.y-r.startPointerPos.y))<f||(o.startDrag({evt:i}),!o.isDragging()))return}o._setDragPosition(i,r),a.push(o)}}),a.forEach(r=>{r.fire("dragmove",{type:"dragmove",target:r,evt:i},!0)})},_endDragBefore(i){const a=[];e.DD._dragElements.forEach(r=>{const{node:s}=r,o=s.getStage();if(i&&o.setPointersPositions(i),!o._changedPointerPositions.find(f=>f.id===r.pointerId))return;(r.dragStatus==="dragging"||r.dragStatus==="stopped")&&(e.DD.justDragged=!0,t.Konva._mouseListenClick=!1,t.Konva._touchListenClick=!1,t.Konva._pointerListenClick=!1,r.dragStatus="stopped");const d=r.node.getLayer()||r.node instanceof t.Konva.Stage&&r.node;d&&a.indexOf(d)===-1&&a.push(d)}),a.forEach(r=>{r.draw()})},_endDragAfter(i){e.DD._dragElements.forEach((a,r)=>{a.dragStatus==="stopped"&&a.node.fire("dragend",{type:"dragend",target:a.node,evt:i},!0),a.dragStatus!=="dragging"&&e.DD._dragElements.delete(r)})}},t.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("touchcancel",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1),window.addEventListener("touchcancel",e.DD._endDragAfter,!1))}(gA)),gA}var vA={},Sr={},C7;function tn(){if(C7)return Sr;C7=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.RGBComponent=i,Sr.alphaComponent=a,Sr.getNumberValidator=r,Sr.getNumberOrArrayOfNumbersValidator=s,Sr.getNumberOrAutoValidator=o,Sr.getStringValidator=c,Sr.getStringOrGradientValidator=d,Sr.getFunctionValidator=f,Sr.getNumberArrayValidator=g,Sr.getBooleanValidator=v,Sr.getComponentValidator=y;const e=He(),t=wi();function n(b){return t.Util._isString(b)?'"'+b+'"':Object.prototype.toString.call(b)==="[object Number]"||t.Util._isBoolean(b)?b:Object.prototype.toString.call(b)}function i(b){return b>255?255:b<0?0:Math.round(b)}function a(b){return b>1?1:b<1e-4?1e-4:b}function r(){if(e.Konva.isUnminified)return function(b,w){return t.Util._isNumber(b)||t.Util.warn(n(b)+' is a not valid value for "'+w+'" attribute. The value should be a number.'),b}}function s(b){if(e.Konva.isUnminified)return function(w,E){let C=t.Util._isNumber(w),A=t.Util._isArray(w)&&w.length==b;return!C&&!A&&t.Util.warn(n(w)+' is a not valid value for "'+E+'" attribute. The value should be a number or Array<number>('+b+")"),w}}function o(){if(e.Konva.isUnminified)return function(b,w){return t.Util._isNumber(b)||b==="auto"||t.Util.warn(n(b)+' is a not valid value for "'+w+'" attribute. The value should be a number or "auto".'),b}}function c(){if(e.Konva.isUnminified)return function(b,w){return t.Util._isString(b)||t.Util.warn(n(b)+' is a not valid value for "'+w+'" attribute. The value should be a string.'),b}}function d(){if(e.Konva.isUnminified)return function(b,w){const E=t.Util._isString(b),C=Object.prototype.toString.call(b)==="[object CanvasGradient]"||b&&b.addColorStop;return E||C||t.Util.warn(n(b)+' is a not valid value for "'+w+'" attribute. The value should be a string or a native gradient.'),b}}function f(){if(e.Konva.isUnminified)return function(b,w){return t.Util._isFunction(b)||t.Util.warn(n(b)+' is a not valid value for "'+w+'" attribute. The value should be a function.'),b}}function g(){if(e.Konva.isUnminified)return function(b,w){const E=Int8Array?Object.getPrototypeOf(Int8Array):null;return E&&b instanceof E||(t.Util._isArray(b)?b.forEach(function(C){t.Util._isNumber(C)||t.Util.warn('"'+w+'" attribute has non numeric element '+C+". Make sure that all elements are numbers.")}):t.Util.warn(n(b)+' is a not valid value for "'+w+'" attribute. The value should be a array of numbers.')),b}}function v(){if(e.Konva.isUnminified)return function(b,w){return b===!0||b===!1||t.Util.warn(n(b)+' is a not valid value for "'+w+'" attribute. The value should be a boolean.'),b}}function y(b){if(e.Konva.isUnminified)return function(w,E){return w==null||t.Util.isObject(w)||t.Util.warn(n(w)+' is a not valid value for "'+E+'" attribute. The value should be an object with properties '+b),w}}return Sr}var T7;function Qe(){return T7||(T7=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const t=wi(),n=tn(),i="get",a="set";e.Factory={addGetterSetter(r,s,o,c,d){e.Factory.addGetter(r,s,o),e.Factory.addSetter(r,s,c,d),e.Factory.addOverloadedGetterSetter(r,s)},addGetter(r,s,o){const c=i+t.Util._capitalize(s);r.prototype[c]=r.prototype[c]||function(){const d=this.attrs[s];return d===void 0?o:d}},addSetter(r,s,o,c){const d=a+t.Util._capitalize(s);r.prototype[d]||e.Factory.overWriteSetter(r,s,o,c)},overWriteSetter(r,s,o,c){const d=a+t.Util._capitalize(s);r.prototype[d]=function(f){return o&&f!==void 0&&f!==null&&(f=o.call(this,f,s)),this._setAttr(s,f),c&&c.call(this),this}},addComponentsGetterSetter(r,s,o,c,d){const f=o.length,g=t.Util._capitalize,v=i+g(s),y=a+g(s);r.prototype[v]=function(){const w={};for(let E=0;E<f;E++){const C=o[E];w[C]=this.getAttr(s+g(C))}return w};const b=(0,n.getComponentValidator)(o);r.prototype[y]=function(w){const E=this.attrs[s];c&&(w=c.call(this,w,s)),b&&b.call(this,w,s);for(const C in w)w.hasOwnProperty(C)&&this._setAttr(s+g(C),w[C]);return w||o.forEach(C=>{this._setAttr(s+g(C),void 0)}),this._fireChangeEvent(s,E,w),d&&d.call(this),this},e.Factory.addOverloadedGetterSetter(r,s)},addOverloadedGetterSetter(r,s){const o=t.Util._capitalize(s),c=a+o,d=i+o;r.prototype[s]=function(){return arguments.length?(this[c](arguments[0]),this):this[d]()}},addDeprecatedGetterSetter(r,s,o,c){t.Util.error("Adding deprecated "+s);const d=i+t.Util._capitalize(s),f=s+" property is deprecated and will be removed soon. Look at Konva change log for more information.";r.prototype[d]=function(){t.Util.error(f);const g=this.attrs[s];return g===void 0?o:g},e.Factory.addSetter(r,s,c,function(){t.Util.error(f)}),e.Factory.addOverloadedGetterSetter(r,s)},backCompat(r,s){t.Util.each(s,function(o,c){const d=r.prototype[c],f=i+t.Util._capitalize(o),g=a+t.Util._capitalize(o);function v(){d.apply(this,arguments),t.Util.error('"'+o+'" method is deprecated and will be removed soon. Use ""'+c+'" instead.')}r.prototype[o]=v,r.prototype[f]=v,r.prototype[g]=v})},afterSetFilter(){this._filterUpToDate=!1}}}(vA)),vA}var R7;function Di(){if(R7)return Kg;R7=1,Object.defineProperty(Kg,"__esModule",{value:!0}),Kg.Node=void 0;const e=_2(),t=I5(),n=Qe(),i=He(),a=wi(),r=tn(),s="absoluteOpacity",o="allEventListeners",c="absoluteTransform",d="absoluteScale",f="canvas",g="Change",v="children",y="konva",b="listening",w="mouseenter",E="mouseleave",C="pointerenter",A="pointerleave",_="touchenter",M="touchleave",D="set",P="Shape",B=" ",k="stage",z="transform",H="Stage",G="visible",Q=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(B);let at=1;class Z{constructor(I){this._id=at++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(I),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(I){(I===z||I===c)&&this._cache.get(I)?this._cache.get(I).dirty=!0:I?this._cache.delete(I):this._cache.clear()}_getCache(I,V){let X=this._cache.get(I);return(X===void 0||(I===z||I===c)&&X.dirty===!0)&&(X=V.call(this),this._cache.set(I,X)),X}_calculate(I,V,X){if(!this._attachedDepsListeners.get(I)){const U=V.map($=>$+"Change.konva").join(B);this.on(U,()=>{this._clearCache(I)}),this._attachedDepsListeners.set(I,!0)}return this._getCache(I,X)}_getCanvasCache(){return this._cache.get(f)}_clearSelfAndDescendantCache(I){this._clearCache(I),I===c&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(f)){const{scene:I,filter:V,hit:X,buffer:U}=this._cache.get(f);a.Util.releaseCanvas(I,V,X,U),this._cache.delete(f)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(I){const V=I||{};let X={};(V.x===void 0||V.y===void 0||V.width===void 0||V.height===void 0)&&(X=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let U=Math.ceil(V.width||X.width),$=Math.ceil(V.height||X.height),it=V.pixelRatio,K=V.x===void 0?Math.floor(X.x):V.x,ct=V.y===void 0?Math.floor(X.y):V.y,pt=V.offset||0,rt=V.drawBorder||!1,J=V.hitCanvasPixelRatio||1;if(!U||!$){a.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const lt=Math.abs(Math.round(X.x)-K)>.5?1:0,St=Math.abs(Math.round(X.y)-ct)>.5?1:0;U+=pt*2+lt,$+=pt*2+St,K-=pt,ct-=pt;const Tt=new e.SceneCanvas({pixelRatio:it,width:U,height:$}),Dt=new e.SceneCanvas({pixelRatio:it,width:0,height:0,willReadFrequently:!0}),kt=new e.HitCanvas({pixelRatio:J,width:U,height:$}),zt=Tt.getContext(),Jt=kt.getContext(),Pt=new e.SceneCanvas({width:Tt.width/Tt.pixelRatio+Math.abs(K),height:Tt.height/Tt.pixelRatio+Math.abs(ct),pixelRatio:Tt.pixelRatio}),re=Pt.getContext();return kt.isCache=!0,Tt.isCache=!0,this._cache.delete(f),this._filterUpToDate=!1,V.imageSmoothingEnabled===!1&&(Tt.getContext()._context.imageSmoothingEnabled=!1,Dt.getContext()._context.imageSmoothingEnabled=!1),zt.save(),Jt.save(),re.save(),zt.translate(-K,-ct),Jt.translate(-K,-ct),re.translate(-K,-ct),Pt.x=K,Pt.y=ct,this._isUnderCache=!0,this._clearSelfAndDescendantCache(s),this._clearSelfAndDescendantCache(d),this.drawScene(Tt,this,Pt),this.drawHit(kt,this),this._isUnderCache=!1,zt.restore(),Jt.restore(),rt&&(zt.save(),zt.beginPath(),zt.rect(0,0,U,$),zt.closePath(),zt.setAttr("strokeStyle","red"),zt.setAttr("lineWidth",5),zt.stroke(),zt.restore()),this._cache.set(f,{scene:Tt,filter:Dt,hit:kt,buffer:Pt,x:K,y:ct}),this._requestDraw(),this}isCached(){return this._cache.has(f)}getClientRect(I){throw new Error('abstract "getClientRect" method call')}_transformedRect(I,V){const X=[{x:I.x,y:I.y},{x:I.x+I.width,y:I.y},{x:I.x+I.width,y:I.y+I.height},{x:I.x,y:I.y+I.height}];let U=1/0,$=1/0,it=-1/0,K=-1/0;const ct=this.getAbsoluteTransform(V);return X.forEach(function(pt){const rt=ct.point(pt);U===void 0&&(U=it=rt.x,$=K=rt.y),U=Math.min(U,rt.x),$=Math.min($,rt.y),it=Math.max(it,rt.x),K=Math.max(K,rt.y)}),{x:U,y:$,width:it-U,height:K-$}}_drawCachedSceneCanvas(I){I.save(),I._applyOpacity(this),I._applyGlobalCompositeOperation(this);const V=this._getCanvasCache();I.translate(V.x,V.y);const X=this._getCachedSceneCanvas(),U=X.pixelRatio;I.drawImage(X._canvas,0,0,X.width/U,X.height/U),I.restore()}_drawCachedHitCanvas(I){const V=this._getCanvasCache(),X=V.hit;I.save(),I.translate(V.x,V.y),I.drawImage(X._canvas,0,0,X.width/X.pixelRatio,X.height/X.pixelRatio),I.restore()}_getCachedSceneCanvas(){let I=this.filters(),V=this._getCanvasCache(),X=V.scene,U=V.filter,$=U.getContext(),it,K,ct,pt;if(I){if(!this._filterUpToDate){const rt=X.pixelRatio;U.setSize(X.width/X.pixelRatio,X.height/X.pixelRatio);try{for(it=I.length,$.clear(),$.drawImage(X._canvas,0,0,X.getWidth()/rt,X.getHeight()/rt),K=$.getImageData(0,0,U.getWidth(),U.getHeight()),ct=0;ct<it;ct++){if(pt=I[ct],typeof pt!="function"){a.Util.error("Filter should be type of function, but got "+typeof pt+" instead. Please check correct filters");continue}pt.call(this,K),$.putImageData(K,0,0)}}catch(J){a.Util.error("Unable to apply filter. "+J.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return U}return X}on(I,V){if(this._cache&&this._cache.delete(o),arguments.length===3)return this._delegate.apply(this,arguments);const X=I.split(B);for(let U=0;U<X.length;U++){const it=X[U].split("."),K=it[0],ct=it[1]||"";this.eventListeners[K]||(this.eventListeners[K]=[]),this.eventListeners[K].push({name:ct,handler:V})}return this}off(I,V){let X=(I||"").split(B),U=X.length,$,it,K,ct,pt,rt;if(this._cache&&this._cache.delete(o),!I)for(it in this.eventListeners)this._off(it);for($=0;$<U;$++)if(K=X[$],ct=K.split("."),pt=ct[0],rt=ct[1],pt)this.eventListeners[pt]&&this._off(pt,rt,V);else for(it in this.eventListeners)this._off(it,rt,V);return this}dispatchEvent(I){const V={target:this,type:I.type,evt:I};return this.fire(I.type,V),this}addEventListener(I,V){return this.on(I,function(X){V.call(this,X.evt)}),this}removeEventListener(I){return this.off(I),this}_delegate(I,V,X){const U=this;this.on(I,function($){const it=$.target.findAncestors(V,!0,U);for(let K=0;K<it.length;K++)$=a.Util.cloneObject($),$.currentTarget=it[K],X.call(it[K],$)})}remove(){return this.isDragging()&&this.stopDrag(),t.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(s),this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(k),this._clearSelfAndDescendantCache(G),this._clearSelfAndDescendantCache(b)}_remove(){this._clearCaches();const I=this.getParent();I&&I.children&&(I.children.splice(this.index,1),I._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(I){const V="get"+a.Util._capitalize(I);return a.Util._isFunction(this[V])?this[V]():this.attrs[I]}getAncestors(){let I=this.getParent(),V=[];for(;I;)V.push(I),I=I.getParent();return V}getAttrs(){return this.attrs||{}}setAttrs(I){return this._batchTransformChanges(()=>{let V,X;if(!I)return this;for(V in I)V!==v&&(X=D+a.Util._capitalize(V),a.Util._isFunction(this[X])?this[X](I[V]):this._setAttr(V,I[V]))}),this}isListening(){return this._getCache(b,this._isListening)}_isListening(I){if(!this.listening())return!1;const X=this.getParent();return X&&X!==I&&this!==I?X._isListening(I):!0}isVisible(){return this._getCache(G,this._isVisible)}_isVisible(I){if(!this.visible())return!1;const X=this.getParent();return X&&X!==I&&this!==I?X._isVisible(I):!0}shouldDrawHit(I,V=!1){if(I)return this._isVisible(I)&&this._isListening(I);const X=this.getLayer();let U=!1;t.DD._dragElements.forEach(it=>{it.dragStatus==="dragging"&&(it.node.nodeType==="Stage"||it.node.getLayer()===X)&&(U=!0)});const $=!V&&!i.Konva.hitOnDragEnabled&&(U||i.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!$}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let I=this.getDepth(),V=this,X=0,U,$,it,K;function ct(rt){for(U=[],$=rt.length,it=0;it<$;it++)K=rt[it],X++,K.nodeType!==P&&(U=U.concat(K.getChildren().slice())),K._id===V._id&&(it=$);U.length>0&&U[0].getDepth()<=I&&ct(U)}const pt=this.getStage();return V.nodeType!==H&&pt&&ct(pt.getChildren()),X}getDepth(){let I=0,V=this.parent;for(;V;)I++,V=V.parent;return I}_batchTransformChanges(I){this._batchingTransformChange=!0,I(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(z),this._clearSelfAndDescendantCache(c)),this._needClearTransformCache=!1}setPosition(I){return this._batchTransformChanges(()=>{this.x(I.x),this.y(I.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const I=this.getStage();if(!I)return null;const V=I.getPointerPosition();if(!V)return null;const X=this.getAbsoluteTransform().copy();return X.invert(),X.point(V)}getAbsolutePosition(I){let V=!1,X=this.parent;for(;X;){if(X.isCached()){V=!0;break}X=X.parent}V&&!I&&(I=!0);const U=this.getAbsoluteTransform(I).getMatrix(),$=new a.Transform,it=this.offset();return $.m=U.slice(),$.translate(it.x,it.y),$.getTranslation()}setAbsolutePosition(I){const{x:V,y:X,...U}=this._clearTransform();this.attrs.x=V,this.attrs.y=X,this._clearCache(z);const $=this._getAbsoluteTransform().copy();return $.invert(),$.translate(I.x,I.y),I={x:this.attrs.x+$.getTranslation().x,y:this.attrs.y+$.getTranslation().y},this._setTransform(U),this.setPosition({x:I.x,y:I.y}),this._clearCache(z),this._clearSelfAndDescendantCache(c),this}_setTransform(I){let V;for(V in I)this.attrs[V]=I[V]}_clearTransform(){const I={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,I}move(I){let V=I.x,X=I.y,U=this.x(),$=this.y();return V!==void 0&&(U+=V),X!==void 0&&($+=X),this.setPosition({x:U,y:$}),this}_eachAncestorReverse(I,V){let X=[],U=this.getParent(),$,it;if(!(V&&V._id===this._id)){for(X.unshift(this);U&&(!V||U._id!==V._id);)X.unshift(U),U=U.parent;for($=X.length,it=0;it<$;it++)I(X[it])}}rotate(I){return this.rotation(this.rotation()+I),this}moveToTop(){if(!this.parent)return a.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const I=this.index,V=this.parent.getChildren().length;return I<V-1?(this.parent.children.splice(I,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return a.Util.warn("Node has no parent. moveUp function is ignored."),!1;const I=this.index,V=this.parent.getChildren().length;return I<V-1?(this.parent.children.splice(I,1),this.parent.children.splice(I+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return a.Util.warn("Node has no parent. moveDown function is ignored."),!1;const I=this.index;return I>0?(this.parent.children.splice(I,1),this.parent.children.splice(I-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return a.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const I=this.index;return I>0?(this.parent.children.splice(I,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(I){if(!this.parent)return a.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(I<0||I>=this.parent.children.length)&&a.Util.warn("Unexpected value "+I+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const V=this.index;return this.parent.children.splice(V,1),this.parent.children.splice(I,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(s,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let I=this.opacity();const V=this.getParent();return V&&!V._isUnderCache&&(I*=V.getAbsoluteOpacity()),I}moveTo(I){return this.getParent()!==I&&(this._remove(),I.add(this)),this}toObject(){let I=this.getAttrs(),V,X,U,$,it;const K={attrs:{},className:this.getClassName()};for(V in I)X=I[V],it=a.Util.isObject(X)&&!a.Util._isPlainObject(X)&&!a.Util._isArray(X),!it&&(U=typeof this[V]=="function"&&this[V],delete I[V],$=U?U.call(this):null,I[V]=X,$!==X&&(K.attrs[V]=X));return a.Util._prepareToStringify(K)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(I,V,X){const U=[];V&&this._isMatch(I)&&U.push(this);let $=this.parent;for(;$;){if($===X)return U;$._isMatch(I)&&U.push($),$=$.parent}return U}isAncestorOf(I){return!1}findAncestor(I,V,X){return this.findAncestors(I,V,X)[0]}_isMatch(I){if(!I)return!1;if(typeof I=="function")return I(this);let V=I.replace(/ /g,"").split(","),X=V.length,U,$;for(U=0;U<X;U++)if($=V[U],a.Util.isValidSelector($)||(a.Util.warn('Selector "'+$+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),a.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),a.Util.warn("Konva is awesome, right?")),$.charAt(0)==="#"){if(this.id()===$.slice(1))return!0}else if($.charAt(0)==="."){if(this.hasName($.slice(1)))return!0}else if(this.className===$||this.nodeType===$)return!0;return!1}getLayer(){const I=this.getParent();return I?I.getLayer():null}getStage(){return this._getCache(k,this._getStage)}_getStage(){const I=this.getParent();return I?I.getStage():null}fire(I,V={},X){return V.target=V.target||this,X?this._fireAndBubble(I,V):this._fire(I,V),this}getAbsoluteTransform(I){return I?this._getAbsoluteTransform(I):this._getCache(c,this._getAbsoluteTransform)}_getAbsoluteTransform(I){let V;if(I)return V=new a.Transform,this._eachAncestorReverse(function(X){const U=X.transformsEnabled();U==="all"?V.multiply(X.getTransform()):U==="position"&&V.translate(X.x()-X.offsetX(),X.y()-X.offsetY())},I),V;{V=this._cache.get(c)||new a.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(V):V.reset();const X=this.transformsEnabled();if(X==="all")V.multiply(this.getTransform());else if(X==="position"){const U=this.attrs.x||0,$=this.attrs.y||0,it=this.attrs.offsetX||0,K=this.attrs.offsetY||0;V.translate(U-it,$-K)}return V.dirty=!1,V}}getAbsoluteScale(I){let V=this;for(;V;)V._isUnderCache&&(I=V),V=V.getParent();const U=this.getAbsoluteTransform(I).decompose();return{x:U.scaleX,y:U.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(z,this._getTransform)}_getTransform(){var I,V;const X=this._cache.get(z)||new a.Transform;X.reset();const U=this.x(),$=this.y(),it=i.Konva.getAngle(this.rotation()),K=(I=this.attrs.scaleX)!==null&&I!==void 0?I:1,ct=(V=this.attrs.scaleY)!==null&&V!==void 0?V:1,pt=this.attrs.skewX||0,rt=this.attrs.skewY||0,J=this.attrs.offsetX||0,lt=this.attrs.offsetY||0;return(U!==0||$!==0)&&X.translate(U,$),it!==0&&X.rotate(it),(pt!==0||rt!==0)&&X.skew(pt,rt),(K!==1||ct!==1)&&X.scale(K,ct),(J!==0||lt!==0)&&X.translate(-1*J,-1*lt),X.dirty=!1,X}clone(I){let V=a.Util.cloneObject(this.attrs),X,U,$,it,K;for(X in I)V[X]=I[X];const ct=new this.constructor(V);for(X in this.eventListeners)for(U=this.eventListeners[X],$=U.length,it=0;it<$;it++)K=U[it],K.name.indexOf(y)<0&&(ct.eventListeners[X]||(ct.eventListeners[X]=[]),ct.eventListeners[X].push(K));return ct}_toKonvaCanvas(I){I=I||{};const V=this.getClientRect(),X=this.getStage(),U=I.x!==void 0?I.x:Math.floor(V.x),$=I.y!==void 0?I.y:Math.floor(V.y),it=I.pixelRatio||1,K=new e.SceneCanvas({width:I.width||Math.ceil(V.width)||(X?X.width():0),height:I.height||Math.ceil(V.height)||(X?X.height():0),pixelRatio:it}),ct=K.getContext(),pt=new e.SceneCanvas({width:K.width/K.pixelRatio+Math.abs(U),height:K.height/K.pixelRatio+Math.abs($),pixelRatio:K.pixelRatio});return I.imageSmoothingEnabled===!1&&(ct._context.imageSmoothingEnabled=!1),ct.save(),(U||$)&&ct.translate(-1*U,-1*$),this.drawScene(K,void 0,pt),ct.restore(),K}toCanvas(I){return this._toKonvaCanvas(I)._canvas}toDataURL(I){I=I||{};const V=I.mimeType||null,X=I.quality||null,U=this._toKonvaCanvas(I).toDataURL(V,X);return I.callback&&I.callback(U),U}toImage(I){return new Promise((V,X)=>{try{const U=I?.callback;U&&delete I.callback,a.Util._urlToImage(this.toDataURL(I),function($){V($),U?.($)})}catch(U){X(U)}})}toBlob(I){return new Promise((V,X)=>{try{const U=I?.callback;U&&delete I.callback,this.toCanvas(I).toBlob($=>{V($),U?.($)},I?.mimeType,I?.quality)}catch(U){X(U)}})}setSize(I){return this.width(I.width),this.height(I.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():i.Konva.dragDistance}_off(I,V,X){let U=this.eventListeners[I],$,it,K;for($=0;$<U.length;$++)if(it=U[$].name,K=U[$].handler,(it!=="konva"||V==="konva")&&(!V||it===V)&&(!X||X===K)){if(U.splice($,1),U.length===0){delete this.eventListeners[I];break}$--}}_fireChangeEvent(I,V,X){this._fire(I+g,{oldVal:V,newVal:X})}addName(I){if(!this.hasName(I)){const V=this.name(),X=V?V+" "+I:I;this.name(X)}return this}hasName(I){if(!I)return!1;const V=this.name();return V?(V||"").split(/\s/g).indexOf(I)!==-1:!1}removeName(I){const V=(this.name()||"").split(/\s/g),X=V.indexOf(I);return X!==-1&&(V.splice(X,1),this.name(V.join(" "))),this}setAttr(I,V){const X=this[D+a.Util._capitalize(I)];return a.Util._isFunction(X)?X.call(this,V):this._setAttr(I,V),this}_requestDraw(){if(i.Konva.autoDrawEnabled){const I=this.getLayer()||this.getStage();I?.batchDraw()}}_setAttr(I,V){const X=this.attrs[I];X===V&&!a.Util.isObject(V)||(V==null?delete this.attrs[I]:this.attrs[I]=V,this._shouldFireChangeEvents&&this._fireChangeEvent(I,X,V),this._requestDraw())}_setComponentAttr(I,V,X){let U;X!==void 0&&(U=this.attrs[I],U||(this.attrs[I]=this.getAttr(I)),this.attrs[I][V]=X,this._fireChangeEvent(I,U,X))}_fireAndBubble(I,V,X){V&&this.nodeType===P&&(V.target=this);const U=[w,E,C,A,_,M];if(!(U.indexOf(I)!==-1&&(X&&(this===X||this.isAncestorOf&&this.isAncestorOf(X))||this.nodeType==="Stage"&&!X))){this._fire(I,V);const it=U.indexOf(I)!==-1&&X&&X.isAncestorOf&&X.isAncestorOf(this)&&!X.isAncestorOf(this.parent);(V&&!V.cancelBubble||!V)&&this.parent&&this.parent.isListening()&&!it&&(X&&X.parent?this._fireAndBubble.call(this.parent,I,V,X):this._fireAndBubble.call(this.parent,I,V))}}_getProtoListeners(I){var V,X,U;const $=(V=this._cache.get(o))!==null&&V!==void 0?V:{};let it=$?.[I];if(it===void 0){it=[];let K=Object.getPrototypeOf(this);for(;K;){const ct=(U=(X=K.eventListeners)===null||X===void 0?void 0:X[I])!==null&&U!==void 0?U:[];it.push(...ct),K=Object.getPrototypeOf(K)}$[I]=it,this._cache.set(o,$)}return it}_fire(I,V){V=V||{},V.currentTarget=this,V.type=I;const X=this._getProtoListeners(I);if(X)for(let $=0;$<X.length;$++)X[$].handler.call(this,V);const U=this.eventListeners[I];if(U)for(let $=0;$<U.length;$++)U[$].handler.call(this,V)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(I){const V=I?I.pointerId:void 0,X=this.getStage(),U=this.getAbsolutePosition();if(!X)return;const $=X._getPointerById(V)||X._changedPointerPositions[0]||U;t.DD._dragElements.set(this._id,{node:this,startPointerPos:$,offset:{x:$.x-U.x,y:$.y-U.y},dragStatus:"ready",pointerId:V})}startDrag(I,V=!0){t.DD._dragElements.has(this._id)||this._createDragElement(I);const X=t.DD._dragElements.get(this._id);X.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:I&&I.evt},V)}_setDragPosition(I,V){const X=this.getStage()._getPointerById(V.pointerId);if(!X)return;let U={x:X.x-V.offset.x,y:X.y-V.offset.y};const $=this.dragBoundFunc();if($!==void 0){const it=$.call(this,U,I);it?U=it:a.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==U.x||this._lastPos.y!==U.y)&&(this.setAbsolutePosition(U),this._requestDraw()),this._lastPos=U}stopDrag(I){const V=t.DD._dragElements.get(this._id);V&&(V.dragStatus="stopped"),t.DD._endDragBefore(I),t.DD._endDragAfter(I)}setDraggable(I){this._setAttr("draggable",I),this._dragChange()}isDragging(){const I=t.DD._dragElements.get(this._id);return I?I.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(I){if(!(!(I.evt.button!==void 0)||i.Konva.dragButtons.indexOf(I.evt.button)>=0)||this.isDragging())return;let U=!1;t.DD._dragElements.forEach($=>{this.isAncestorOf($.node)&&(U=!0)}),U||this._createDragElement(I)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const V=t.DD._dragElements.get(this._id),X=V&&V.dragStatus==="dragging",U=V&&V.dragStatus==="ready";X?this.stopDrag():U&&t.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(I={x:0,y:0}){const V=this.getStage();if(!V)return!1;const X={x:-I.x,y:-I.y,width:V.width()+2*I.x,height:V.height()+2*I.y};return a.Util.haveIntersection(X,this.getClientRect())}static create(I,V){return a.Util._isString(I)&&(I=JSON.parse(I)),this._createNode(I,V)}static _createNode(I,V){let X=Z.prototype.getClassName.call(I),U=I.children,$,it,K;V&&(I.attrs.container=V),i.Konva[X]||(a.Util.warn('Can not find a node with class name "'+X+'". Fallback to "Shape".'),X="Shape");const ct=i.Konva[X];if($=new ct(I.attrs),U)for(it=U.length,K=0;K<it;K++)$.add(Z._createNode(U[K]));return $}}Kg.Node=Z,Z.prototype.nodeType="Node",Z.prototype._attrsAffectingSize=[],Z.prototype.eventListeners={},Z.prototype.on.call(Z.prototype,Q,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(z),this._clearSelfAndDescendantCache(c)}),Z.prototype.on.call(Z.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(G)}),Z.prototype.on.call(Z.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(b)}),Z.prototype.on.call(Z.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(s)});const nt=n.Factory.addGetterSetter;return nt(Z,"zIndex"),nt(Z,"absolutePosition"),nt(Z,"position"),nt(Z,"x",0,(0,r.getNumberValidator)()),nt(Z,"y",0,(0,r.getNumberValidator)()),nt(Z,"globalCompositeOperation","source-over",(0,r.getStringValidator)()),nt(Z,"opacity",1,(0,r.getNumberValidator)()),nt(Z,"name","",(0,r.getStringValidator)()),nt(Z,"id","",(0,r.getStringValidator)()),nt(Z,"rotation",0,(0,r.getNumberValidator)()),n.Factory.addComponentsGetterSetter(Z,"scale",["x","y"]),nt(Z,"scaleX",1,(0,r.getNumberValidator)()),nt(Z,"scaleY",1,(0,r.getNumberValidator)()),n.Factory.addComponentsGetterSetter(Z,"skew",["x","y"]),nt(Z,"skewX",0,(0,r.getNumberValidator)()),nt(Z,"skewY",0,(0,r.getNumberValidator)()),n.Factory.addComponentsGetterSetter(Z,"offset",["x","y"]),nt(Z,"offsetX",0,(0,r.getNumberValidator)()),nt(Z,"offsetY",0,(0,r.getNumberValidator)()),nt(Z,"dragDistance",void 0,(0,r.getNumberValidator)()),nt(Z,"width",0,(0,r.getNumberValidator)()),nt(Z,"height",0,(0,r.getNumberValidator)()),nt(Z,"listening",!0,(0,r.getBooleanValidator)()),nt(Z,"preventDefault",!0,(0,r.getBooleanValidator)()),nt(Z,"filters",void 0,function(tt){return this._filterUpToDate=!1,tt}),nt(Z,"visible",!0,(0,r.getBooleanValidator)()),nt(Z,"transformsEnabled","all",(0,r.getStringValidator)()),nt(Z,"size"),nt(Z,"dragBoundFunc"),nt(Z,"draggable",!1,(0,r.getBooleanValidator)()),n.Factory.backCompat(Z,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Kg}var Xg={},M7;function E2(){if(M7)return Xg;M7=1,Object.defineProperty(Xg,"__esModule",{value:!0}),Xg.Container=void 0;const e=Qe(),t=Di(),n=tn();let i=class extends t.Node{constructor(){super(...arguments),this.children=[]}getChildren(r){const s=this.children||[];return r?s.filter(r):s}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(r=>{r.parent=null,r.index=0,r.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(r=>{r.parent=null,r.index=0,r.destroy()}),this.children=[],this._requestDraw(),this}add(...r){if(r.length===0)return this;if(r.length>1){for(let o=0;o<r.length;o++)this.add(r[o]);return this}const s=r[0];return s.getParent()?(s.moveTo(this),this):(this._validateAdd(s),s.index=this.getChildren().length,s.parent=this,s._clearCaches(),this.getChildren().push(s),this._fire("add",{child:s}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(r){return this._generalFind(r,!1)}findOne(r){const s=this._generalFind(r,!0);return s.length>0?s[0]:void 0}_generalFind(r,s){const o=[];return this._descendants(c=>{const d=c._isMatch(r);return d&&o.push(c),!!(d&&s)}),o}_descendants(r){let s=!1;const o=this.getChildren();for(const c of o){if(s=r(c),s)return!0;if(c.hasChildren()&&(s=c._descendants(r),s))return!0}return!1}toObject(){const r=t.Node.prototype.toObject.call(this);return r.children=[],this.getChildren().forEach(s=>{r.children.push(s.toObject())}),r}isAncestorOf(r){let s=r.getParent();for(;s;){if(s._id===this._id)return!0;s=s.getParent()}return!1}clone(r){const s=t.Node.prototype.clone.call(this,r);return this.getChildren().forEach(function(o){s.add(o.clone())}),s}getAllIntersections(r){const s=[];return this.find("Shape").forEach(o=>{o.isVisible()&&o.intersects(r)&&s.push(o)}),s}_clearSelfAndDescendantCache(r){var s;super._clearSelfAndDescendantCache(r),!this.isCached()&&((s=this.children)===null||s===void 0||s.forEach(function(o){o._clearSelfAndDescendantCache(r)}))}_setChildrenIndices(){var r;(r=this.children)===null||r===void 0||r.forEach(function(s,o){s.index=o}),this._requestDraw()}drawScene(r,s,o){const c=this.getLayer(),d=r||c&&c.getCanvas(),f=d&&d.getContext(),g=this._getCanvasCache(),v=g&&g.scene,y=d&&d.isCache;if(!this.isVisible()&&!y)return this;if(v){f.save();const b=this.getAbsoluteTransform(s).getMatrix();f.transform(b[0],b[1],b[2],b[3],b[4],b[5]),this._drawCachedSceneCanvas(f),f.restore()}else this._drawChildren("drawScene",d,s,o);return this}drawHit(r,s){if(!this.shouldDrawHit(s))return this;const o=this.getLayer(),c=r||o&&o.hitCanvas,d=c&&c.getContext(),f=this._getCanvasCache();if(f&&f.hit){d.save();const v=this.getAbsoluteTransform(s).getMatrix();d.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedHitCanvas(d),d.restore()}else this._drawChildren("drawHit",c,s);return this}_drawChildren(r,s,o,c){var d;const f=s&&s.getContext(),g=this.clipWidth(),v=this.clipHeight(),y=this.clipFunc(),b=typeof g=="number"&&typeof v=="number"||y,w=o===this;if(b){f.save();const C=this.getAbsoluteTransform(o);let A=C.getMatrix();f.transform(A[0],A[1],A[2],A[3],A[4],A[5]),f.beginPath();let _;if(y)_=y.call(this,f,this);else{const M=this.clipX(),D=this.clipY();f.rect(M||0,D||0,g,v)}f.clip.apply(f,_),A=C.copy().invert().getMatrix(),f.transform(A[0],A[1],A[2],A[3],A[4],A[5])}const E=!w&&this.globalCompositeOperation()!=="source-over"&&r==="drawScene";E&&(f.save(),f._applyGlobalCompositeOperation(this)),(d=this.children)===null||d===void 0||d.forEach(function(C){C[r](s,o,c)}),E&&f.restore(),b&&f.restore()}getClientRect(r={}){var s;const o=r.skipTransform,c=r.relativeTo;let d,f,g,v,y={x:1/0,y:1/0,width:0,height:0};const b=this;(s=this.children)===null||s===void 0||s.forEach(function(C){if(!C.visible())return;const A=C.getClientRect({relativeTo:b,skipShadow:r.skipShadow,skipStroke:r.skipStroke});A.width===0&&A.height===0||(d===void 0?(d=A.x,f=A.y,g=A.x+A.width,v=A.y+A.height):(d=Math.min(d,A.x),f=Math.min(f,A.y),g=Math.max(g,A.x+A.width),v=Math.max(v,A.y+A.height)))});const w=this.find("Shape");let E=!1;for(let C=0;C<w.length;C++)if(w[C]._isVisible(this)){E=!0;break}return E&&d!==void 0?y={x:d,y:f,width:g-d,height:v-f}:y={x:0,y:0,width:0,height:0},o?y:this._transformedRect(y,c)}};return Xg.Container=i,e.Factory.addComponentsGetterSetter(i,"clip",["x","y","width","height"]),e.Factory.addGetterSetter(i,"clipX",void 0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(i,"clipY",void 0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(i,"clipWidth",void 0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(i,"clipHeight",void 0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(i,"clipFunc"),Xg}var yA={},xu={},D7;function MI(){if(D7)return xu;D7=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.getCapturedShape=i,xu.createEvent=a,xu.hasPointerCapture=r,xu.setPointerCapture=s,xu.releaseCapture=o;const e=He(),t=new Map,n=e.Konva._global.PointerEvent!==void 0;function i(c){return t.get(c)}function a(c){return{evt:c,pointerId:c.pointerId}}function r(c,d){return t.get(c)===d}function s(c,d){o(c),d.getStage()&&(t.set(c,d),n&&d._fire("gotpointercapture",a(new PointerEvent("gotpointercapture"))))}function o(c,d){const f=t.get(c);if(!f)return;const g=f.getStage();g&&g.content,t.delete(c),n&&f._fire("lostpointercapture",a(new PointerEvent("lostpointercapture")))}return xu}var O7;function D0t(){return O7||(O7=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;const t=wi(),n=Qe(),i=E2(),a=He(),r=_2(),s=I5(),o=He(),c=MI(),d="Stage",f="string",g="px",v="mouseout",y="mouseleave",b="mouseover",w="mouseenter",E="mousemove",C="mousedown",A="mouseup",_="pointermove",M="pointerdown",D="pointerup",P="pointercancel",B="lostpointercapture",k="pointerout",z="pointerleave",H="pointerover",G="pointerenter",Q="contextmenu",at="touchstart",Z="touchend",nt="touchmove",tt="touchcancel",I="wheel",V=5,X=[[w,"_pointerenter"],[C,"_pointerdown"],[E,"_pointermove"],[A,"_pointerup"],[y,"_pointerleave"],[at,"_pointerdown"],[nt,"_pointermove"],[Z,"_pointerup"],[tt,"_pointercancel"],[b,"_pointerover"],[I,"_wheel"],[Q,"_contextmenu"],[M,"_pointerdown"],[_,"_pointermove"],[D,"_pointerup"],[P,"_pointercancel"],[z,"_pointerleave"],[B,"_lostpointercapture"]],U={mouse:{[k]:v,[z]:y,[H]:b,[G]:w,[_]:E,[M]:C,[D]:A,[P]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[k]:"touchout",[z]:"touchleave",[H]:"touchover",[G]:"touchenter",[_]:nt,[M]:at,[D]:Z,[P]:tt,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[k]:k,[z]:z,[H]:H,[G]:G,[_]:_,[M]:M,[D]:D,[P]:P,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},$=rt=>rt.indexOf("pointer")>=0?"pointer":rt.indexOf("touch")>=0?"touch":"mouse",it=rt=>{const J=$(rt);if(J==="pointer")return a.Konva.pointerEventsEnabled&&U.pointer;if(J==="touch")return U.touch;if(J==="mouse")return U.mouse};function K(rt={}){return(rt.clipFunc||rt.clipWidth||rt.clipHeight)&&t.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),rt}const ct="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";e.stages=[];class pt extends i.Container{constructor(J){super(K(J)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),e.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{K(this.attrs)}),this._checkVisibility()}_validateAdd(J){const lt=J.getType()==="Layer",St=J.getType()==="FastLayer";lt||St||t.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const J=this.visible()?"":"none";this.content.style.display=J}setContainer(J){if(typeof J===f){let lt;if(J.charAt(0)==="."){const St=J.slice(1);J=document.getElementsByClassName(St)[0]}else J.charAt(0)!=="#"?lt=J:lt=J.slice(1),J=document.getElementById(lt);if(!J)throw"Can not find container in document with id "+lt}return this._setAttr("container",J),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),J.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const J=this.children,lt=J.length;for(let St=0;St<lt;St++)J[St].clear();return this}clone(J){return J||(J={}),J.container=typeof document<"u"&&document.createElement("div"),i.Container.prototype.clone.call(this,J)}destroy(){super.destroy();const J=this.content;J&&t.Util._isInDocument(J)&&this.container().removeChild(J);const lt=e.stages.indexOf(this);return lt>-1&&e.stages.splice(lt,1),t.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const J=this._pointerPositions[0]||this._changedPointerPositions[0];return J?{x:J.x,y:J.y}:(t.Util.warn(ct),null)}_getPointerById(J){return this._pointerPositions.find(lt=>lt.id===J)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(J){J=J||{},J.x=J.x||0,J.y=J.y||0,J.width=J.width||this.width(),J.height=J.height||this.height();const lt=new r.SceneCanvas({width:J.width,height:J.height,pixelRatio:J.pixelRatio||1}),St=lt.getContext()._context,Tt=this.children;return(J.x||J.y)&&St.translate(-1*J.x,-1*J.y),Tt.forEach(function(Dt){if(!Dt.isVisible())return;const kt=Dt._toKonvaCanvas(J);St.drawImage(kt._canvas,J.x,J.y,kt.getWidth()/kt.getPixelRatio(),kt.getHeight()/kt.getPixelRatio())}),lt}getIntersection(J){if(!J)return null;const lt=this.children,St=lt.length,Tt=St-1;for(let Dt=Tt;Dt>=0;Dt--){const kt=lt[Dt].getIntersection(J);if(kt)return kt}return null}_resizeDOM(){const J=this.width(),lt=this.height();this.content&&(this.content.style.width=J+g,this.content.style.height=lt+g),this.bufferCanvas.setSize(J,lt),this.bufferHitCanvas.setSize(J,lt),this.children.forEach(St=>{St.setSize({width:J,height:lt}),St.draw()})}add(J,...lt){if(arguments.length>1){for(let Tt=0;Tt<arguments.length;Tt++)this.add(arguments[Tt]);return this}super.add(J);const St=this.children.length;return St>V&&t.Util.warn("The stage has "+St+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),J.setSize({width:this.width(),height:this.height()}),J.draw(),a.Konva.isBrowser&&this.content.appendChild(J.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(J){return c.hasPointerCapture(J,this)}setPointerCapture(J){c.setPointerCapture(J,this)}releaseCapture(J){c.releaseCapture(J,this)}getLayers(){return this.children}_bindContentEvents(){a.Konva.isBrowser&&X.forEach(([J,lt])=>{this.content.addEventListener(J,St=>{this[lt](St)},{passive:!1})})}_pointerenter(J){this.setPointersPositions(J);const lt=it(J.type);lt&&this._fire(lt.pointerenter,{evt:J,target:this,currentTarget:this})}_pointerover(J){this.setPointersPositions(J);const lt=it(J.type);lt&&this._fire(lt.pointerover,{evt:J,target:this,currentTarget:this})}_getTargetShape(J){let lt=this[J+"targetShape"];return lt&&!lt.getStage()&&(lt=null),lt}_pointerleave(J){const lt=it(J.type),St=$(J.type);if(!lt)return;this.setPointersPositions(J);const Tt=this._getTargetShape(St),Dt=!(a.Konva.isDragging()||a.Konva.isTransforming())||a.Konva.hitOnDragEnabled;Tt&&Dt?(Tt._fireAndBubble(lt.pointerout,{evt:J}),Tt._fireAndBubble(lt.pointerleave,{evt:J}),this._fire(lt.pointerleave,{evt:J,target:this,currentTarget:this}),this[St+"targetShape"]=null):Dt&&(this._fire(lt.pointerleave,{evt:J,target:this,currentTarget:this}),this._fire(lt.pointerout,{evt:J,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(J){const lt=it(J.type),St=$(J.type);if(!lt)return;this.setPointersPositions(J);let Tt=!1;this._changedPointerPositions.forEach(Dt=>{const kt=this.getIntersection(Dt);if(s.DD.justDragged=!1,a.Konva["_"+St+"ListenClick"]=!0,!kt||!kt.isListening()){this[St+"ClickStartShape"]=void 0;return}a.Konva.capturePointerEventsEnabled&&kt.setPointerCapture(Dt.id),this[St+"ClickStartShape"]=kt,kt._fireAndBubble(lt.pointerdown,{evt:J,pointerId:Dt.id}),Tt=!0;const zt=J.type.indexOf("touch")>=0;kt.preventDefault()&&J.cancelable&&zt&&J.preventDefault()}),Tt||this._fire(lt.pointerdown,{evt:J,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(J){const lt=it(J.type),St=$(J.type);if(!lt||(a.Konva.isDragging()&&s.DD.node.preventDefault()&&J.cancelable&&J.preventDefault(),this.setPointersPositions(J),!(!(a.Konva.isDragging()||a.Konva.isTransforming())||a.Konva.hitOnDragEnabled)))return;const Dt={};let kt=!1;const zt=this._getTargetShape(St);this._changedPointerPositions.forEach(Jt=>{const Pt=c.getCapturedShape(Jt.id)||this.getIntersection(Jt),re=Jt.id,Bt={evt:J,pointerId:re},me=zt!==Pt;if(me&&zt&&(zt._fireAndBubble(lt.pointerout,{...Bt},Pt),zt._fireAndBubble(lt.pointerleave,{...Bt},Pt)),Pt){if(Dt[Pt._id])return;Dt[Pt._id]=!0}Pt&&Pt.isListening()?(kt=!0,me&&(Pt._fireAndBubble(lt.pointerover,{...Bt},zt),Pt._fireAndBubble(lt.pointerenter,{...Bt},zt),this[St+"targetShape"]=Pt),Pt._fireAndBubble(lt.pointermove,{...Bt})):zt&&(this._fire(lt.pointerover,{evt:J,target:this,currentTarget:this,pointerId:re}),this[St+"targetShape"]=null)}),kt||this._fire(lt.pointermove,{evt:J,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(J){const lt=it(J.type),St=$(J.type);if(!lt)return;this.setPointersPositions(J);const Tt=this[St+"ClickStartShape"],Dt=this[St+"ClickEndShape"],kt={};let zt=!1;this._changedPointerPositions.forEach(Jt=>{const Pt=c.getCapturedShape(Jt.id)||this.getIntersection(Jt);if(Pt){if(Pt.releaseCapture(Jt.id),kt[Pt._id])return;kt[Pt._id]=!0}const re=Jt.id,Bt={evt:J,pointerId:re};let me=!1;a.Konva["_"+St+"InDblClickWindow"]?(me=!0,clearTimeout(this[St+"DblTimeout"])):s.DD.justDragged||(a.Konva["_"+St+"InDblClickWindow"]=!0,clearTimeout(this[St+"DblTimeout"])),this[St+"DblTimeout"]=setTimeout(function(){a.Konva["_"+St+"InDblClickWindow"]=!1},a.Konva.dblClickWindow),Pt&&Pt.isListening()?(zt=!0,this[St+"ClickEndShape"]=Pt,Pt._fireAndBubble(lt.pointerup,{...Bt}),a.Konva["_"+St+"ListenClick"]&&Tt&&Tt===Pt&&(Pt._fireAndBubble(lt.pointerclick,{...Bt}),me&&Dt&&Dt===Pt&&Pt._fireAndBubble(lt.pointerdblclick,{...Bt}))):(this[St+"ClickEndShape"]=null,a.Konva["_"+St+"ListenClick"]&&this._fire(lt.pointerclick,{evt:J,target:this,currentTarget:this,pointerId:re}),me&&this._fire(lt.pointerdblclick,{evt:J,target:this,currentTarget:this,pointerId:re}))}),zt||this._fire(lt.pointerup,{evt:J,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),a.Konva["_"+St+"ListenClick"]=!1,J.cancelable&&St!=="touch"&&St!=="pointer"&&J.preventDefault()}_contextmenu(J){this.setPointersPositions(J);const lt=this.getIntersection(this.getPointerPosition());lt&&lt.isListening()?lt._fireAndBubble(Q,{evt:J}):this._fire(Q,{evt:J,target:this,currentTarget:this})}_wheel(J){this.setPointersPositions(J);const lt=this.getIntersection(this.getPointerPosition());lt&&lt.isListening()?lt._fireAndBubble(I,{evt:J}):this._fire(I,{evt:J,target:this,currentTarget:this})}_pointercancel(J){this.setPointersPositions(J);const lt=c.getCapturedShape(J.pointerId)||this.getIntersection(this.getPointerPosition());lt&&lt._fireAndBubble(D,c.createEvent(J)),c.releaseCapture(J.pointerId)}_lostpointercapture(J){c.releaseCapture(J.pointerId)}setPointersPositions(J){const lt=this._getContentPosition();let St=null,Tt=null;J=J||window.event,J.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(J.touches,Dt=>{this._pointerPositions.push({id:Dt.identifier,x:(Dt.clientX-lt.left)/lt.scaleX,y:(Dt.clientY-lt.top)/lt.scaleY})}),Array.prototype.forEach.call(J.changedTouches||J.touches,Dt=>{this._changedPointerPositions.push({id:Dt.identifier,x:(Dt.clientX-lt.left)/lt.scaleX,y:(Dt.clientY-lt.top)/lt.scaleY})})):(St=(J.clientX-lt.left)/lt.scaleX,Tt=(J.clientY-lt.top)/lt.scaleY,this.pointerPos={x:St,y:Tt},this._pointerPositions=[{x:St,y:Tt,id:t.Util._getFirstPointerId(J)}],this._changedPointerPositions=[{x:St,y:Tt,id:t.Util._getFirstPointerId(J)}])}_setPointerPosition(J){t.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(J)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const J=this.content.getBoundingClientRect();return{top:J.top,left:J.left,scaleX:J.width/this.content.clientWidth||1,scaleY:J.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new r.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new r.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!a.Konva.isBrowser)return;const J=this.container();if(!J)throw"Stage has no container. A container is required.";J.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),J.appendChild(this.content),this._resizeDOM()}cache(){return t.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(J){J.batchDraw()}),this}}e.Stage=pt,pt.prototype.nodeType=d,(0,o._registerNode)(pt),n.Factory.addGetterSetter(pt,"container"),a.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{e.stages.forEach(rt=>{rt.batchDraw()})})}(yA)),yA}var Wg={},bA={},N7;function la(){return N7||(N7=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;const t=He(),n=wi(),i=Qe(),a=Di(),r=tn(),s=He(),o=MI(),c="hasShadow",d="shadowRGBA",f="patternImage",g="linearGradient",v="radialGradient";let y;function b(){return y||(y=n.Util.createCanvasElement().getContext("2d"),y)}e.shapes={};function w(z){const H=this.attrs.fillRule;H?z.fill(H):z.fill()}function E(z){z.stroke()}function C(z){const H=this.attrs.fillRule;H?z.fill(H):z.fill()}function A(z){z.stroke()}function _(){this._clearCache(c)}function M(){this._clearCache(d)}function D(){this._clearCache(f)}function P(){this._clearCache(g)}function B(){this._clearCache(v)}class k extends a.Node{constructor(H){super(H);let G;for(;G=n.Util.getRandomColor(),!(G&&!(G in e.shapes)););this.colorKey=G,e.shapes[G]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(c,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(f,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const G=b().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(G&&G.setTransform){const Q=new n.Transform;Q.translate(this.fillPatternX(),this.fillPatternY()),Q.rotate(t.Konva.getAngle(this.fillPatternRotation())),Q.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),Q.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const at=Q.getMatrix(),Z=typeof DOMMatrix>"u"?{a:at[0],b:at[1],c:at[2],d:at[3],e:at[4],f:at[5]}:new DOMMatrix(at);G.setTransform(Z)}return G}}_getLinearGradient(){return this._getCache(g,this.__getLinearGradient)}__getLinearGradient(){const H=this.fillLinearGradientColorStops();if(H){const G=b(),Q=this.fillLinearGradientStartPoint(),at=this.fillLinearGradientEndPoint(),Z=G.createLinearGradient(Q.x,Q.y,at.x,at.y);for(let nt=0;nt<H.length;nt+=2)Z.addColorStop(H[nt],H[nt+1]);return Z}}_getRadialGradient(){return this._getCache(v,this.__getRadialGradient)}__getRadialGradient(){const H=this.fillRadialGradientColorStops();if(H){const G=b(),Q=this.fillRadialGradientStartPoint(),at=this.fillRadialGradientEndPoint(),Z=G.createRadialGradient(Q.x,Q.y,this.fillRadialGradientStartRadius(),at.x,at.y,this.fillRadialGradientEndRadius());for(let nt=0;nt<H.length;nt+=2)Z.addColorStop(H[nt],H[nt+1]);return Z}}getShadowRGBA(){return this._getCache(d,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const H=n.Util.colorToRGBA(this.shadowColor());if(H)return"rgba("+H.r+","+H.g+","+H.b+","+H.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const H=this.hitStrokeWidth();return H==="auto"?this.hasStroke():this.strokeEnabled()&&!!H}intersects(H){const G=this.getStage();if(!G)return!1;const Q=G.bufferHitCanvas;return Q.getContext().clear(),this.drawHit(Q,void 0,!0),Q.context.getImageData(Math.round(H.x),Math.round(H.y),1,1).data[3]>0}destroy(){return a.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(H){var G;if(!((G=this.attrs.perfectDrawEnabled)!==null&&G!==void 0?G:!0))return!1;const at=H||this.hasFill(),Z=this.hasStroke(),nt=this.getAbsoluteOpacity()!==1;if(at&&Z&&nt)return!0;const tt=this.hasShadow(),I=this.shadowForStrokeEnabled();return!!(at&&Z&&tt&&I)}setStrokeHitEnabled(H){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),H?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const H=this.size();return{x:this._centroid?-H.width/2:0,y:this._centroid?-H.height/2:0,width:H.width,height:H.height}}getClientRect(H={}){let G=!1,Q=this.getParent();for(;Q;){if(Q.isCached()){G=!0;break}Q=Q.getParent()}const at=H.skipTransform,Z=H.relativeTo||G&&this.getStage()||void 0,nt=this.getSelfRect(),I=!H.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,V=nt.width+I,X=nt.height+I,U=!H.skipShadow&&this.hasShadow(),$=U?this.shadowOffsetX():0,it=U?this.shadowOffsetY():0,K=V+Math.abs($),ct=X+Math.abs(it),pt=U&&this.shadowBlur()||0,rt=K+pt*2,J=ct+pt*2,lt={width:rt,height:J,x:-(I/2+pt)+Math.min($,0)+nt.x,y:-(I/2+pt)+Math.min(it,0)+nt.y};return at?lt:this._transformedRect(lt,Z)}drawScene(H,G,Q){const at=this.getLayer(),Z=H||at.getCanvas(),nt=Z.getContext(),tt=this._getCanvasCache(),I=this.getSceneFunc(),V=this.hasShadow();let X;const U=G===this;if(!this.isVisible()&&!U)return this;if(tt){nt.save();const $=this.getAbsoluteTransform(G).getMatrix();return nt.transform($[0],$[1],$[2],$[3],$[4],$[5]),this._drawCachedSceneCanvas(nt),nt.restore(),this}if(!I)return this;if(nt.save(),this._useBufferCanvas()){X=this.getStage();const $=Q||X.bufferCanvas,it=$.getContext();it.clear(),it.save(),it._applyLineJoin(this);const K=this.getAbsoluteTransform(G).getMatrix();it.transform(K[0],K[1],K[2],K[3],K[4],K[5]),I.call(this,it,this),it.restore();const ct=$.pixelRatio;V&&nt._applyShadow(this),nt._applyOpacity(this),nt._applyGlobalCompositeOperation(this),nt.drawImage($._canvas,$.x||0,$.y||0,$.width/ct,$.height/ct)}else{if(nt._applyLineJoin(this),!U){const $=this.getAbsoluteTransform(G).getMatrix();nt.transform($[0],$[1],$[2],$[3],$[4],$[5]),nt._applyOpacity(this),nt._applyGlobalCompositeOperation(this)}V&&nt._applyShadow(this),I.call(this,nt,this)}return nt.restore(),this}drawHit(H,G,Q=!1){if(!this.shouldDrawHit(G,Q))return this;const at=this.getLayer(),Z=H||at.hitCanvas,nt=Z&&Z.getContext(),tt=this.hitFunc()||this.sceneFunc(),I=this._getCanvasCache(),V=I&&I.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),V){nt.save();const U=this.getAbsoluteTransform(G).getMatrix();return nt.transform(U[0],U[1],U[2],U[3],U[4],U[5]),this._drawCachedHitCanvas(nt),nt.restore(),this}if(!tt)return this;if(nt.save(),nt._applyLineJoin(this),!(this===G)){const U=this.getAbsoluteTransform(G).getMatrix();nt.transform(U[0],U[1],U[2],U[3],U[4],U[5])}return tt.call(this,nt,this),nt.restore(),this}drawHitFromCache(H=0){const G=this._getCanvasCache(),Q=this._getCachedSceneCanvas(),at=G.hit,Z=at.getContext(),nt=at.getWidth(),tt=at.getHeight();Z.clear(),Z.drawImage(Q._canvas,0,0,nt,tt);try{const I=Z.getImageData(0,0,nt,tt),V=I.data,X=V.length,U=n.Util._hexToRgb(this.colorKey);for(let $=0;$<X;$+=4)V[$+3]>H?(V[$]=U.r,V[$+1]=U.g,V[$+2]=U.b,V[$+3]=255):V[$+3]=0;Z.putImageData(I,0,0)}catch(I){n.Util.error("Unable to draw hit graph from cached scene canvas. "+I.message)}return this}hasPointerCapture(H){return o.hasPointerCapture(H,this)}setPointerCapture(H){o.setPointerCapture(H,this)}releaseCapture(H){o.releaseCapture(H,this)}}e.Shape=k,k.prototype._fillFunc=w,k.prototype._strokeFunc=E,k.prototype._fillFuncHit=C,k.prototype._strokeFuncHit=A,k.prototype._centroid=!1,k.prototype.nodeType="Shape",(0,s._registerNode)(k),k.prototype.eventListeners={},k.prototype.on.call(k.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",_),k.prototype.on.call(k.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",M),k.prototype.on.call(k.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",D),k.prototype.on.call(k.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",P),k.prototype.on.call(k.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",B),i.Factory.addGetterSetter(k,"stroke",void 0,(0,r.getStringOrGradientValidator)()),i.Factory.addGetterSetter(k,"strokeWidth",2,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(k,"fillAfterStrokeEnabled",!1),i.Factory.addGetterSetter(k,"hitStrokeWidth","auto",(0,r.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(k,"strokeHitEnabled",!0,(0,r.getBooleanValidator)()),i.Factory.addGetterSetter(k,"perfectDrawEnabled",!0,(0,r.getBooleanValidator)()),i.Factory.addGetterSetter(k,"shadowForStrokeEnabled",!0,(0,r.getBooleanValidator)()),i.Factory.addGetterSetter(k,"lineJoin"),i.Factory.addGetterSetter(k,"lineCap"),i.Factory.addGetterSetter(k,"sceneFunc"),i.Factory.addGetterSetter(k,"hitFunc"),i.Factory.addGetterSetter(k,"dash"),i.Factory.addGetterSetter(k,"dashOffset",0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(k,"shadowColor",void 0,(0,r.getStringValidator)()),i.Factory.addGetterSetter(k,"shadowBlur",0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(k,"shadowOpacity",1,(0,r.getNumberValidator)()),i.Factory.addComponentsGetterSetter(k,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(k,"shadowOffsetX",0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(k,"shadowOffsetY",0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(k,"fillPatternImage"),i.Factory.addGetterSetter(k,"fill",void 0,(0,r.getStringOrGradientValidator)()),i.Factory.addGetterSetter(k,"fillPatternX",0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(k,"fillPatternY",0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(k,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(k,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(k,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(k,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(k,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(k,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(k,"fillEnabled",!0),i.Factory.addGetterSetter(k,"strokeEnabled",!0),i.Factory.addGetterSetter(k,"shadowEnabled",!0),i.Factory.addGetterSetter(k,"dashEnabled",!0),i.Factory.addGetterSetter(k,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(k,"fillPriority","color"),i.Factory.addComponentsGetterSetter(k,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(k,"fillPatternOffsetX",0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(k,"fillPatternOffsetY",0,(0,r.getNumberValidator)()),i.Factory.addComponentsGetterSetter(k,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(k,"fillPatternScaleX",1,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(k,"fillPatternScaleY",1,(0,r.getNumberValidator)()),i.Factory.addComponentsGetterSetter(k,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(k,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(k,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(k,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(k,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(k,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(k,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(k,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(k,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(k,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(k,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(k,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(k,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(k,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(k,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(k,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(k,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(k,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(k,"fillPatternRotation",0),i.Factory.addGetterSetter(k,"fillRule",void 0,(0,r.getStringValidator)()),i.Factory.backCompat(k,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(bA)),bA}var P7;function DI(){if(P7)return Wg;P7=1,Object.defineProperty(Wg,"__esModule",{value:!0}),Wg.Layer=void 0;const e=wi(),t=E2(),n=Di(),i=Qe(),a=_2(),r=tn(),s=la(),o=He(),c="#",d="beforeDraw",f="draw",g=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],v=g.length;class y extends t.Container{constructor(w){super(w),this.canvas=new a.SceneCanvas,this.hitCanvas=new a.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(w){return this.getContext().clear(w),this.getHitCanvas().getContext().clear(w),this}setZIndex(w){super.setZIndex(w);const E=this.getStage();return E&&E.content&&(E.content.removeChild(this.getNativeCanvasElement()),w<E.children.length-1?E.content.insertBefore(this.getNativeCanvasElement(),E.children[w+1].getCanvas()._canvas):E.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){n.Node.prototype.moveToTop.call(this);const w=this.getStage();return w&&w.content&&(w.content.removeChild(this.getNativeCanvasElement()),w.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!n.Node.prototype.moveUp.call(this))return!1;const E=this.getStage();return!E||!E.content?!1:(E.content.removeChild(this.getNativeCanvasElement()),this.index<E.children.length-1?E.content.insertBefore(this.getNativeCanvasElement(),E.children[this.index+1].getCanvas()._canvas):E.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(n.Node.prototype.moveDown.call(this)){const w=this.getStage();if(w){const E=w.children;w.content&&(w.content.removeChild(this.getNativeCanvasElement()),w.content.insertBefore(this.getNativeCanvasElement(),E[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(n.Node.prototype.moveToBottom.call(this)){const w=this.getStage();if(w){const E=w.children;w.content&&(w.content.removeChild(this.getNativeCanvasElement()),w.content.insertBefore(this.getNativeCanvasElement(),E[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const w=this.getNativeCanvasElement();return n.Node.prototype.remove.call(this),w&&w.parentNode&&e.Util._isInDocument(w)&&w.parentNode.removeChild(w),this}getStage(){return this.parent}setSize({width:w,height:E}){return this.canvas.setSize(w,E),this.hitCanvas.setSize(w,E),this._setSmoothEnabled(),this}_validateAdd(w){const E=w.getType();E!=="Group"&&E!=="Shape"&&e.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(w){return w=w||{},w.width=w.width||this.getWidth(),w.height=w.height||this.getHeight(),w.x=w.x!==void 0?w.x:this.x(),w.y=w.y!==void 0?w.y:this.y(),n.Node.prototype._toKonvaCanvas.call(this,w)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){e.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){e.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,e.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(w){if(!this.isListening()||!this.isVisible())return null;let E=1,C=!1;for(;;){for(let A=0;A<v;A++){const _=g[A],M=this._getIntersection({x:w.x+_.x*E,y:w.y+_.y*E}),D=M.shape;if(D)return D;if(C=!!M.antialiased,!M.antialiased)break}if(C)E+=1;else return null}}_getIntersection(w){const E=this.hitCanvas.pixelRatio,C=this.hitCanvas.context.getImageData(Math.round(w.x*E),Math.round(w.y*E),1,1).data,A=C[3];if(A===255){const _=e.Util._rgbToHex(C[0],C[1],C[2]),M=s.shapes[c+_];return M?{shape:M}:{antialiased:!0}}else if(A>0)return{antialiased:!0};return{}}drawScene(w,E,C){const A=this.getLayer(),_=w||A&&A.getCanvas();return this._fire(d,{node:this}),this.clearBeforeDraw()&&_.getContext().clear(),t.Container.prototype.drawScene.call(this,_,E,C),this._fire(f,{node:this}),this}drawHit(w,E){const C=this.getLayer(),A=w||C&&C.hitCanvas;return C&&C.clearBeforeDraw()&&C.getHitCanvas().getContext().clear(),t.Container.prototype.drawHit.call(this,A,E),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(w){e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(w)}getHitGraphEnabled(w){return e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const w=this.parent;!!this.hitCanvas._canvas.parentNode?w.content.removeChild(this.hitCanvas._canvas):w.content.appendChild(this.hitCanvas._canvas)}destroy(){return e.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return Wg.Layer=y,y.prototype.nodeType="Layer",(0,o._registerNode)(y),i.Factory.addGetterSetter(y,"imageSmoothingEnabled",!0),i.Factory.addGetterSetter(y,"clearBeforeDraw",!0),i.Factory.addGetterSetter(y,"hitGraphEnabled",!0,(0,r.getBooleanValidator)()),Wg}var Qg={},k7;function O0t(){if(k7)return Qg;k7=1,Object.defineProperty(Qg,"__esModule",{value:!0}),Qg.FastLayer=void 0;const e=wi(),t=DI(),n=He();let i=class extends t.Layer{constructor(r){super(r),this.listening(!1),e.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Qg.FastLayer=i,i.prototype.nodeType="FastLayer",(0,n._registerNode)(i),Qg}var Zg={},L7;function z5(){if(L7)return Zg;L7=1,Object.defineProperty(Zg,"__esModule",{value:!0}),Zg.Group=void 0;const e=wi(),t=E2(),n=He();class i extends t.Container{_validateAdd(r){const s=r.getType();s!=="Group"&&s!=="Shape"&&e.Util.throw("You may only add groups and shapes to groups.")}}return Zg.Group=i,i.prototype.nodeType="Group",(0,n._registerNode)(i),Zg}var Jg={},j7;function U5(){if(j7)return Jg;j7=1,Object.defineProperty(Jg,"__esModule",{value:!0}),Jg.Animation=void 0;const e=He(),t=wi(),n=function(){return e.glob.performance&&e.glob.performance.now?function(){return e.glob.performance.now()}:function(){return new Date().getTime()}}();let i=class yp{constructor(r,s){this.id=yp.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:n(),frameRate:0},this.func=r,this.setLayers(s)}setLayers(r){let s=[];return r&&(s=Array.isArray(r)?r:[r]),this.layers=s,this}getLayers(){return this.layers}addLayer(r){const s=this.layers,o=s.length;for(let c=0;c<o;c++)if(s[c]._id===r._id)return!1;return this.layers.push(r),!0}isRunning(){const s=yp.animations,o=s.length;for(let c=0;c<o;c++)if(s[c].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=n(),yp._addAnimation(this),this}stop(){return yp._removeAnimation(this),this}_updateFrameObject(r){this.frame.timeDiff=r-this.frame.lastTime,this.frame.lastTime=r,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(r){this.animations.push(r),this._handleAnimation()}static _removeAnimation(r){const s=r.id,o=this.animations,c=o.length;for(let d=0;d<c;d++)if(o[d].id===s){this.animations.splice(d,1);break}}static _runFrames(){const r={},s=this.animations;for(let o=0;o<s.length;o++){const c=s[o],d=c.layers,f=c.func;c._updateFrameObject(n());const g=d.length;let v;if(f?v=f.call(c,c.frame)!==!1:v=!0,!!v)for(let y=0;y<g;y++){const b=d[y];b._id!==void 0&&(r[b._id]=b)}}for(const o in r)r.hasOwnProperty(o)&&r[o].batchDraw()}static _animationLoop(){const r=yp;r.animations.length?(r._runFrames(),t.Util.requestAnimFrame(r._animationLoop)):r.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,t.Util.requestAnimFrame(this._animationLoop))}};return Jg.Animation=i,i.animations=[],i.animIdCounter=0,i.animRunning=!1,Jg}var xA={},F7;function N0t(){return F7||(F7=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;const t=wi(),n=U5(),i=Di(),a=He(),r={node:1,duration:1,easing:1,onFinish:1,yoyo:1},s=1,o=2,c=3,d=["fill","stroke","shadowColor"];let f=0;class g{constructor(b,w,E,C,A,_,M){this.prop=b,this.propFunc=w,this.begin=C,this._pos=C,this.duration=_,this._change=0,this.prevPos=0,this.yoyo=M,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=E,this._change=A-this.begin,this.pause()}fire(b){const w=this[b];w&&w()}setTime(b){b>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():b<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=b,this.update())}getTime(){return this._time}setPosition(b){this.prevPos=this._pos,this.propFunc(b),this._pos=b}getPosition(b){return b===void 0&&(b=this._time),this.func(b,this.begin,this._change,this.duration)}play(){this.state=o,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=c,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(b){this.pause(),this._time=b,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const b=this.getTimer()-this._startTime;this.state===o?this.setTime(b):this.state===c&&this.setTime(this.duration-b)}pause(){this.state=s,this.fire("onPause")}getTimer(){return new Date().getTime()}}class v{constructor(b){const w=this,E=b.node,C=E._id,A=b.easing||e.Easings.Linear,_=!!b.yoyo;let M,D;typeof b.duration>"u"?M=.3:b.duration===0?M=.001:M=b.duration,this.node=E,this._id=f++;const P=E.getLayer()||(E instanceof a.Konva.Stage?E.getLayers():null);P||t.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation(function(){w.tween.onEnterFrame()},P),this.tween=new g(D,function(B){w._tweenFunc(B)},A,0,1,M*1e3,_),this._addListeners(),v.attrs[C]||(v.attrs[C]={}),v.attrs[C][this._id]||(v.attrs[C][this._id]={}),v.tweens[C]||(v.tweens[C]={});for(D in b)r[D]===void 0&&this._addAttr(D,b[D]);this.reset(),this.onFinish=b.onFinish,this.onReset=b.onReset,this.onUpdate=b.onUpdate}_addAttr(b,w){const E=this.node,C=E._id;let A,_,M,D,P;const B=v.tweens[C][b];B&&delete v.attrs[C][B][b];let k=E.getAttr(b);if(t.Util._isArray(w))if(A=[],_=Math.max(w.length,k.length),b==="points"&&w.length!==k.length&&(w.length>k.length?(D=k,k=t.Util._prepareArrayForTween(k,w,E.closed())):(M=w,w=t.Util._prepareArrayForTween(w,k,E.closed()))),b.indexOf("fill")===0)for(let z=0;z<_;z++)if(z%2===0)A.push(w[z]-k[z]);else{const H=t.Util.colorToRGBA(k[z]);P=t.Util.colorToRGBA(w[z]),k[z]=H,A.push({r:P.r-H.r,g:P.g-H.g,b:P.b-H.b,a:P.a-H.a})}else for(let z=0;z<_;z++)A.push(w[z]-k[z]);else d.indexOf(b)!==-1?(k=t.Util.colorToRGBA(k),P=t.Util.colorToRGBA(w),A={r:P.r-k.r,g:P.g-k.g,b:P.b-k.b,a:P.a-k.a}):A=w-k;v.attrs[C][this._id][b]={start:k,diff:A,end:w,trueEnd:M,trueStart:D},v.tweens[C][b]=this._id}_tweenFunc(b){const w=this.node,E=v.attrs[w._id][this._id];let C,A,_,M,D,P,B,k;for(C in E){if(A=E[C],_=A.start,M=A.diff,k=A.end,t.Util._isArray(_))if(D=[],B=Math.max(_.length,k.length),C.indexOf("fill")===0)for(P=0;P<B;P++)P%2===0?D.push((_[P]||0)+M[P]*b):D.push("rgba("+Math.round(_[P].r+M[P].r*b)+","+Math.round(_[P].g+M[P].g*b)+","+Math.round(_[P].b+M[P].b*b)+","+(_[P].a+M[P].a*b)+")");else for(P=0;P<B;P++)D.push((_[P]||0)+M[P]*b);else d.indexOf(C)!==-1?D="rgba("+Math.round(_.r+M.r*b)+","+Math.round(_.g+M.g*b)+","+Math.round(_.b+M.b*b)+","+(_.a+M.a*b)+")":D=_+M*b;w.setAttr(C,D)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const b=this.node,w=v.attrs[b._id][this._id];w.points&&w.points.trueEnd&&b.setAttr("points",w.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const b=this.node,w=v.attrs[b._id][this._id];w.points&&w.points.trueStart&&b.points(w.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(b){return this.tween.seek(b*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const b=this.node._id,w=this._id,E=v.tweens[b];this.pause(),this.anim&&this.anim.stop();for(const C in E)delete v.tweens[b][C];delete v.attrs[b][w],Object.keys(v.tweens[b]).length===0&&delete v.tweens[b],Object.keys(v.attrs[b]).length===0&&delete v.attrs[b]}}e.Tween=v,v.attrs={},v.tweens={},i.Node.prototype.to=function(y){const b=y.onFinish;y.node=this,y.onFinish=function(){this.destroy(),b&&b()},new v(y).play()},e.Easings={BackEaseIn(y,b,w,E){return w*(y/=E)*y*((1.70158+1)*y-1.70158)+b},BackEaseOut(y,b,w,E){return w*((y=y/E-1)*y*((1.70158+1)*y+1.70158)+1)+b},BackEaseInOut(y,b,w,E){let C=1.70158;return(y/=E/2)<1?w/2*(y*y*(((C*=1.525)+1)*y-C))+b:w/2*((y-=2)*y*(((C*=1.525)+1)*y+C)+2)+b},ElasticEaseIn(y,b,w,E,C,A){let _=0;return y===0?b:(y/=E)===1?b+w:(A||(A=E*.3),!C||C<Math.abs(w)?(C=w,_=A/4):_=A/(2*Math.PI)*Math.asin(w/C),-(C*Math.pow(2,10*(y-=1))*Math.sin((y*E-_)*(2*Math.PI)/A))+b)},ElasticEaseOut(y,b,w,E,C,A){let _=0;return y===0?b:(y/=E)===1?b+w:(A||(A=E*.3),!C||C<Math.abs(w)?(C=w,_=A/4):_=A/(2*Math.PI)*Math.asin(w/C),C*Math.pow(2,-10*y)*Math.sin((y*E-_)*(2*Math.PI)/A)+w+b)},ElasticEaseInOut(y,b,w,E,C,A){let _=0;return y===0?b:(y/=E/2)===2?b+w:(A||(A=E*(.3*1.5)),!C||C<Math.abs(w)?(C=w,_=A/4):_=A/(2*Math.PI)*Math.asin(w/C),y<1?-.5*(C*Math.pow(2,10*(y-=1))*Math.sin((y*E-_)*(2*Math.PI)/A))+b:C*Math.pow(2,-10*(y-=1))*Math.sin((y*E-_)*(2*Math.PI)/A)*.5+w+b)},BounceEaseOut(y,b,w,E){return(y/=E)<1/2.75?w*(7.5625*y*y)+b:y<2/2.75?w*(7.5625*(y-=1.5/2.75)*y+.75)+b:y<2.5/2.75?w*(7.5625*(y-=2.25/2.75)*y+.9375)+b:w*(7.5625*(y-=2.625/2.75)*y+.984375)+b},BounceEaseIn(y,b,w,E){return w-e.Easings.BounceEaseOut(E-y,0,w,E)+b},BounceEaseInOut(y,b,w,E){return y<E/2?e.Easings.BounceEaseIn(y*2,0,w,E)*.5+b:e.Easings.BounceEaseOut(y*2-E,0,w,E)*.5+w*.5+b},EaseIn(y,b,w,E){return w*(y/=E)*y+b},EaseOut(y,b,w,E){return-w*(y/=E)*(y-2)+b},EaseInOut(y,b,w,E){return(y/=E/2)<1?w/2*y*y+b:-w/2*(--y*(y-2)-1)+b},StrongEaseIn(y,b,w,E){return w*(y/=E)*y*y*y*y+b},StrongEaseOut(y,b,w,E){return w*((y=y/E-1)*y*y*y*y+1)+b},StrongEaseInOut(y,b,w,E){return(y/=E/2)<1?w/2*y*y*y*y*y+b:w/2*((y-=2)*y*y*y*y+2)+b},Linear(y,b,w,E){return w*y/E+b}}}(xA)),xA}var B7;function KC(){return B7||(B7=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const t=He(),n=wi(),i=Di(),a=E2(),r=D0t(),s=DI(),o=O0t(),c=z5(),d=I5(),f=la(),g=U5(),v=N0t(),y=RI(),b=_2();e.Konva=n.Util._assign(t.Konva,{Util:n.Util,Transform:n.Transform,Node:i.Node,Container:a.Container,Stage:r.Stage,stages:r.stages,Layer:s.Layer,FastLayer:o.FastLayer,Group:c.Group,DD:d.DD,Shape:f.Shape,shapes:f.shapes,Animation:g.Animation,Tween:v.Tween,Easings:v.Easings,Context:y.Context,Canvas:b.Canvas}),e.default=e.Konva}(fA)),fA}var t0={},I7;function P0t(){if(I7)return t0;I7=1,Object.defineProperty(t0,"__esModule",{value:!0}),t0.Arc=void 0;const e=Qe(),t=la(),n=He(),i=tn(),a=He();let r=class extends t.Shape{_sceneFunc(o){const c=n.Konva.getAngle(this.angle()),d=this.clockwise();o.beginPath(),o.arc(0,0,this.outerRadius(),0,c,d),o.arc(0,0,this.innerRadius(),c,0,!d),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}getSelfRect(){const o=this.innerRadius(),c=this.outerRadius(),d=this.clockwise(),f=n.Konva.getAngle(d?360-this.angle():this.angle()),g=Math.cos(Math.min(f,Math.PI)),v=1,y=Math.sin(Math.min(Math.max(Math.PI,f),3*Math.PI/2)),b=Math.sin(Math.min(f,Math.PI/2)),w=g*(g>0?o:c),E=v*c,C=y*(y>0?o:c),A=b*(b>0?c:o);return{x:w,y:d?-1*A:C,width:E-w,height:A-C}}};return t0.Arc=r,r.prototype._centroid=!0,r.prototype.className="Arc",r.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,a._registerNode)(r),e.Factory.addGetterSetter(r,"innerRadius",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(r,"outerRadius",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(r,"angle",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(r,"clockwise",!1,(0,i.getBooleanValidator)()),t0}var e0={},n0={},z7;function OI(){if(z7)return n0;z7=1,Object.defineProperty(n0,"__esModule",{value:!0}),n0.Line=void 0;const e=Qe(),t=He(),n=la(),i=tn();function a(o,c,d,f,g,v,y){const b=Math.sqrt(Math.pow(d-o,2)+Math.pow(f-c,2)),w=Math.sqrt(Math.pow(g-d,2)+Math.pow(v-f,2)),E=y*b/(b+w),C=y*w/(b+w),A=d-E*(g-o),_=f-E*(v-c),M=d+C*(g-o),D=f+C*(v-c);return[A,_,M,D]}function r(o,c){const d=o.length,f=[];for(let g=2;g<d-2;g+=2){const v=a(o[g-2],o[g-1],o[g],o[g+1],o[g+2],o[g+3],c);isNaN(v[0])||(f.push(v[0]),f.push(v[1]),f.push(o[g]),f.push(o[g+1]),f.push(v[2]),f.push(v[3]))}return f}class s extends n.Shape{constructor(c){super(c),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(c){const d=this.points(),f=d.length,g=this.tension(),v=this.closed(),y=this.bezier();if(!f)return;let b=0;if(c.beginPath(),c.moveTo(d[0],d[1]),g!==0&&f>4){const w=this.getTensionPoints(),E=w.length;for(b=v?0:4,v||c.quadraticCurveTo(w[0],w[1],w[2],w[3]);b<E-2;)c.bezierCurveTo(w[b++],w[b++],w[b++],w[b++],w[b++],w[b++]);v||c.quadraticCurveTo(w[E-2],w[E-1],d[f-2],d[f-1])}else if(y)for(b=2;b<f;)c.bezierCurveTo(d[b++],d[b++],d[b++],d[b++],d[b++],d[b++]);else for(b=2;b<f;b+=2)c.lineTo(d[b],d[b+1]);v?(c.closePath(),c.fillStrokeShape(this)):c.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():r(this.points(),this.tension())}_getTensionPointsClosed(){const c=this.points(),d=c.length,f=this.tension(),g=a(c[d-2],c[d-1],c[0],c[1],c[2],c[3],f),v=a(c[d-4],c[d-3],c[d-2],c[d-1],c[0],c[1],f),y=r(c,f);return[g[2],g[3]].concat(y).concat([v[0],v[1],c[d-2],c[d-1],v[2],v[3],g[0],g[1],c[0],c[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let c=this.points();if(c.length<4)return{x:c[0]||0,y:c[1]||0,width:0,height:0};this.tension()!==0?c=[c[0],c[1],...this._getTensionPoints(),c[c.length-2],c[c.length-1]]:c=this.points();let d=c[0],f=c[0],g=c[1],v=c[1],y,b;for(let w=0;w<c.length/2;w++)y=c[w*2],b=c[w*2+1],d=Math.min(d,y),f=Math.max(f,y),g=Math.min(g,b),v=Math.max(v,b);return{x:d,y:g,width:f-d,height:v-g}}}return n0.Line=s,s.prototype.className="Line",s.prototype._attrsAffectingSize=["points","bezier","tension"],(0,t._registerNode)(s),e.Factory.addGetterSetter(s,"closed",!1),e.Factory.addGetterSetter(s,"bezier",!1),e.Factory.addGetterSetter(s,"tension",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(s,"points",[],(0,i.getNumberArrayValidator)()),n0}var i0={},SA={},U7;function k0t(){return U7||(U7=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.t2length=e.getQuadraticArcLength=e.getCubicArcLength=e.binomialCoefficients=e.cValues=e.tValues=void 0,e.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],e.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],e.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const t=(s,o,c)=>{let d,f;const v=c/2;d=0;for(let y=0;y<20;y++)f=v*e.tValues[20][y]+v,d+=e.cValues[20][y]*i(s,o,f);return v*d};e.getCubicArcLength=t;const n=(s,o,c)=>{c===void 0&&(c=1);const d=s[0]-2*s[1]+s[2],f=o[0]-2*o[1]+o[2],g=2*s[1]-2*s[0],v=2*o[1]-2*o[0],y=4*(d*d+f*f),b=4*(d*g+f*v),w=g*g+v*v;if(y===0)return c*Math.sqrt(Math.pow(s[2]-s[0],2)+Math.pow(o[2]-o[0],2));const E=b/(2*y),C=w/y,A=c+E,_=C-E*E,M=A*A+_>0?Math.sqrt(A*A+_):0,D=E*E+_>0?Math.sqrt(E*E+_):0,P=E+Math.sqrt(E*E+_)!==0?_*Math.log(Math.abs((A+M)/(E+D))):0;return Math.sqrt(y)/2*(A*M-E*D+P)};e.getQuadraticArcLength=n;function i(s,o,c){const d=a(1,c,s),f=a(1,c,o),g=d*d+f*f;return Math.sqrt(g)}const a=(s,o,c)=>{const d=c.length-1;let f,g;if(d===0)return 0;if(s===0){g=0;for(let v=0;v<=d;v++)g+=e.binomialCoefficients[d][v]*Math.pow(1-o,d-v)*Math.pow(o,v)*c[v];return g}else{f=new Array(d);for(let v=0;v<d;v++)f[v]=d*(c[v+1]-c[v]);return a(s-1,o,f)}},r=(s,o,c)=>{let d=1,f=s/o,g=(s-c(f))/o,v=0;for(;d>.001;){const y=c(f+g),b=Math.abs(s-y)/o;if(b<d)d=b,f+=g;else{const w=c(f-g),E=Math.abs(s-w)/o;E<d?(d=E,f-=g):g/=2}if(v++,v>500)break}return f};e.t2length=r}(SA)),SA}var H7;function H5(){if(H7)return i0;H7=1,Object.defineProperty(i0,"__esModule",{value:!0}),i0.Path=void 0;const e=Qe(),t=He(),n=la(),i=k0t();let a=class wr extends n.Shape{constructor(s){super(s),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=wr.parsePathData(this.data()),this.pathLength=wr.getPathLength(this.dataArray)}_sceneFunc(s){const o=this.dataArray;s.beginPath();let c=!1;for(let d=0;d<o.length;d++){const f=o[d].command,g=o[d].points;switch(f){case"L":s.lineTo(g[0],g[1]);break;case"M":s.moveTo(g[0],g[1]);break;case"C":s.bezierCurveTo(g[0],g[1],g[2],g[3],g[4],g[5]);break;case"Q":s.quadraticCurveTo(g[0],g[1],g[2],g[3]);break;case"A":const v=g[0],y=g[1],b=g[2],w=g[3],E=g[4],C=g[5],A=g[6],_=g[7],M=b>w?b:w,D=b>w?1:b/w,P=b>w?w/b:1;s.translate(v,y),s.rotate(A),s.scale(D,P),s.arc(0,0,M,E,E+C,1-_),s.scale(1/D,1/P),s.rotate(-A),s.translate(-v,-y);break;case"z":c=!0,s.closePath();break}}!c&&!this.hasFill()?s.strokeShape(this):s.fillStrokeShape(this)}getSelfRect(){let s=[];this.dataArray.forEach(function(y){if(y.command==="A"){const b=y.points[4],w=y.points[5],E=y.points[4]+w;let C=Math.PI/180;if(Math.abs(b-E)<C&&(C=Math.abs(b-E)),w<0)for(let A=b-C;A>E;A-=C){const _=wr.getPointOnEllipticalArc(y.points[0],y.points[1],y.points[2],y.points[3],A,0);s.push(_.x,_.y)}else for(let A=b+C;A<E;A+=C){const _=wr.getPointOnEllipticalArc(y.points[0],y.points[1],y.points[2],y.points[3],A,0);s.push(_.x,_.y)}}else if(y.command==="C")for(let b=0;b<=1;b+=.01){const w=wr.getPointOnCubicBezier(b,y.start.x,y.start.y,y.points[0],y.points[1],y.points[2],y.points[3],y.points[4],y.points[5]);s.push(w.x,w.y)}else s=s.concat(y.points)});let o=s[0],c=s[0],d=s[1],f=s[1],g,v;for(let y=0;y<s.length/2;y++)g=s[y*2],v=s[y*2+1],isNaN(g)||(o=Math.min(o,g),c=Math.max(c,g)),isNaN(v)||(d=Math.min(d,v),f=Math.max(f,v));return{x:o,y:d,width:c-o,height:f-d}}getLength(){return this.pathLength}getPointAtLength(s){return wr.getPointAtLengthOfDataArray(s,this.dataArray)}static getLineLength(s,o,c,d){return Math.sqrt((c-s)*(c-s)+(d-o)*(d-o))}static getPathLength(s){let o=0;for(let c=0;c<s.length;++c)o+=s[c].pathLength;return o}static getPointAtLengthOfDataArray(s,o){let c,d=0,f=o.length;if(!f)return null;for(;d<f&&s>o[d].pathLength;)s-=o[d].pathLength,++d;if(d===f)return c=o[d-1].points.slice(-2),{x:c[0],y:c[1]};if(s<.01)return o[d].command==="M"?(c=o[d].points.slice(0,2),{x:c[0],y:c[1]}):{x:o[d].start.x,y:o[d].start.y};const g=o[d],v=g.points;switch(g.command){case"L":return wr.getPointOnLine(s,g.start.x,g.start.y,v[0],v[1]);case"C":return wr.getPointOnCubicBezier((0,i.t2length)(s,wr.getPathLength(o),M=>(0,i.getCubicArcLength)([g.start.x,v[0],v[2],v[4]],[g.start.y,v[1],v[3],v[5]],M)),g.start.x,g.start.y,v[0],v[1],v[2],v[3],v[4],v[5]);case"Q":return wr.getPointOnQuadraticBezier((0,i.t2length)(s,wr.getPathLength(o),M=>(0,i.getQuadraticArcLength)([g.start.x,v[0],v[2]],[g.start.y,v[1],v[3]],M)),g.start.x,g.start.y,v[0],v[1],v[2],v[3]);case"A":const y=v[0],b=v[1],w=v[2],E=v[3],C=v[5],A=v[6];let _=v[4];return _+=C*s/g.pathLength,wr.getPointOnEllipticalArc(y,b,w,E,_,A)}return null}static getPointOnLine(s,o,c,d,f,g,v){g=g??o,v=v??c;const y=this.getLineLength(o,c,d,f);if(y<1e-10)return{x:o,y:c};if(d===o)return{x:g,y:v+(f>c?s:-s)};const b=(f-c)/(d-o),w=Math.sqrt(s*s/(1+b*b))*(d<o?-1:1),E=b*w;if(Math.abs(v-c-b*(g-o))<1e-10)return{x:g+w,y:v+E};const C=((g-o)*(d-o)+(v-c)*(f-c))/(y*y),A=o+C*(d-o),_=c+C*(f-c),M=this.getLineLength(g,v,A,_),D=Math.sqrt(s*s-M*M),P=Math.sqrt(D*D/(1+b*b))*(d<o?-1:1),B=b*P;return{x:A+P,y:_+B}}static getPointOnCubicBezier(s,o,c,d,f,g,v,y,b){function w(D){return D*D*D}function E(D){return 3*D*D*(1-D)}function C(D){return 3*D*(1-D)*(1-D)}function A(D){return(1-D)*(1-D)*(1-D)}const _=y*w(s)+g*E(s)+d*C(s)+o*A(s),M=b*w(s)+v*E(s)+f*C(s)+c*A(s);return{x:_,y:M}}static getPointOnQuadraticBezier(s,o,c,d,f,g,v){function y(A){return A*A}function b(A){return 2*A*(1-A)}function w(A){return(1-A)*(1-A)}const E=g*y(s)+d*b(s)+o*w(s),C=v*y(s)+f*b(s)+c*w(s);return{x:E,y:C}}static getPointOnEllipticalArc(s,o,c,d,f,g){const v=Math.cos(g),y=Math.sin(g),b={x:c*Math.cos(f),y:d*Math.sin(f)};return{x:s+(b.x*v-b.y*y),y:o+(b.x*y+b.y*v)}}static parsePathData(s){if(!s)return[];let o=s;const c=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];o=o.replace(new RegExp(" ","g"),",");for(let E=0;E<c.length;E++)o=o.replace(new RegExp(c[E],"g"),"|"+c[E]);const d=o.split("|"),f=[],g=[];let v=0,y=0;const b=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let w;for(let E=1;E<d.length;E++){let C=d[E],A=C.charAt(0);for(C=C.slice(1),g.length=0;w=b.exec(C);)g.push(w[0]);const _=[];for(let M=0,D=g.length;M<D;M++){if(g[M]==="00"){_.push(0,0);continue}const P=parseFloat(g[M]);isNaN(P)?_.push(0):_.push(P)}for(;_.length>0&&!isNaN(_[0]);){let M="",D=[];const P=v,B=y;let k,z,H,G,Q,at,Z,nt,tt,I;switch(A){case"l":v+=_.shift(),y+=_.shift(),M="L",D.push(v,y);break;case"L":v=_.shift(),y=_.shift(),D.push(v,y);break;case"m":const V=_.shift(),X=_.shift();if(v+=V,y+=X,M="M",f.length>2&&f[f.length-1].command==="z"){for(let U=f.length-2;U>=0;U--)if(f[U].command==="M"){v=f[U].points[0]+V,y=f[U].points[1]+X;break}}D.push(v,y),A="l";break;case"M":v=_.shift(),y=_.shift(),M="M",D.push(v,y),A="L";break;case"h":v+=_.shift(),M="L",D.push(v,y);break;case"H":v=_.shift(),M="L",D.push(v,y);break;case"v":y+=_.shift(),M="L",D.push(v,y);break;case"V":y=_.shift(),M="L",D.push(v,y);break;case"C":D.push(_.shift(),_.shift(),_.shift(),_.shift()),v=_.shift(),y=_.shift(),D.push(v,y);break;case"c":D.push(v+_.shift(),y+_.shift(),v+_.shift(),y+_.shift()),v+=_.shift(),y+=_.shift(),M="C",D.push(v,y);break;case"S":z=v,H=y,k=f[f.length-1],k.command==="C"&&(z=v+(v-k.points[2]),H=y+(y-k.points[3])),D.push(z,H,_.shift(),_.shift()),v=_.shift(),y=_.shift(),M="C",D.push(v,y);break;case"s":z=v,H=y,k=f[f.length-1],k.command==="C"&&(z=v+(v-k.points[2]),H=y+(y-k.points[3])),D.push(z,H,v+_.shift(),y+_.shift()),v+=_.shift(),y+=_.shift(),M="C",D.push(v,y);break;case"Q":D.push(_.shift(),_.shift()),v=_.shift(),y=_.shift(),D.push(v,y);break;case"q":D.push(v+_.shift(),y+_.shift()),v+=_.shift(),y+=_.shift(),M="Q",D.push(v,y);break;case"T":z=v,H=y,k=f[f.length-1],k.command==="Q"&&(z=v+(v-k.points[0]),H=y+(y-k.points[1])),v=_.shift(),y=_.shift(),M="Q",D.push(z,H,v,y);break;case"t":z=v,H=y,k=f[f.length-1],k.command==="Q"&&(z=v+(v-k.points[0]),H=y+(y-k.points[1])),v+=_.shift(),y+=_.shift(),M="Q",D.push(z,H,v,y);break;case"A":G=_.shift(),Q=_.shift(),at=_.shift(),Z=_.shift(),nt=_.shift(),tt=v,I=y,v=_.shift(),y=_.shift(),M="A",D=this.convertEndpointToCenterParameterization(tt,I,v,y,Z,nt,G,Q,at);break;case"a":G=_.shift(),Q=_.shift(),at=_.shift(),Z=_.shift(),nt=_.shift(),tt=v,I=y,v+=_.shift(),y+=_.shift(),M="A",D=this.convertEndpointToCenterParameterization(tt,I,v,y,Z,nt,G,Q,at);break}f.push({command:M||A,points:D,start:{x:P,y:B},pathLength:this.calcLength(P,B,M||A,D)})}(A==="z"||A==="Z")&&f.push({command:"z",points:[],start:void 0,pathLength:0})}return f}static calcLength(s,o,c,d){let f,g,v,y;const b=wr;switch(c){case"L":return b.getLineLength(s,o,d[0],d[1]);case"C":return(0,i.getCubicArcLength)([s,d[0],d[2],d[4]],[o,d[1],d[3],d[5]],1);case"Q":return(0,i.getQuadraticArcLength)([s,d[0],d[2]],[o,d[1],d[3]],1);case"A":f=0;const w=d[4],E=d[5],C=d[4]+E;let A=Math.PI/180;if(Math.abs(w-C)<A&&(A=Math.abs(w-C)),g=b.getPointOnEllipticalArc(d[0],d[1],d[2],d[3],w,0),E<0)for(y=w-A;y>C;y-=A)v=b.getPointOnEllipticalArc(d[0],d[1],d[2],d[3],y,0),f+=b.getLineLength(g.x,g.y,v.x,v.y),g=v;else for(y=w+A;y<C;y+=A)v=b.getPointOnEllipticalArc(d[0],d[1],d[2],d[3],y,0),f+=b.getLineLength(g.x,g.y,v.x,v.y),g=v;return v=b.getPointOnEllipticalArc(d[0],d[1],d[2],d[3],C,0),f+=b.getLineLength(g.x,g.y,v.x,v.y),f}return 0}static convertEndpointToCenterParameterization(s,o,c,d,f,g,v,y,b){const w=b*(Math.PI/180),E=Math.cos(w)*(s-c)/2+Math.sin(w)*(o-d)/2,C=-1*Math.sin(w)*(s-c)/2+Math.cos(w)*(o-d)/2,A=E*E/(v*v)+C*C/(y*y);A>1&&(v*=Math.sqrt(A),y*=Math.sqrt(A));let _=Math.sqrt((v*v*(y*y)-v*v*(C*C)-y*y*(E*E))/(v*v*(C*C)+y*y*(E*E)));f===g&&(_*=-1),isNaN(_)&&(_=0);const M=_*v*C/y,D=_*-y*E/v,P=(s+c)/2+Math.cos(w)*M-Math.sin(w)*D,B=(o+d)/2+Math.sin(w)*M+Math.cos(w)*D,k=function(nt){return Math.sqrt(nt[0]*nt[0]+nt[1]*nt[1])},z=function(nt,tt){return(nt[0]*tt[0]+nt[1]*tt[1])/(k(nt)*k(tt))},H=function(nt,tt){return(nt[0]*tt[1]<nt[1]*tt[0]?-1:1)*Math.acos(z(nt,tt))},G=H([1,0],[(E-M)/v,(C-D)/y]),Q=[(E-M)/v,(C-D)/y],at=[(-1*E-M)/v,(-1*C-D)/y];let Z=H(Q,at);return z(Q,at)<=-1&&(Z=Math.PI),z(Q,at)>=1&&(Z=0),g===0&&Z>0&&(Z=Z-2*Math.PI),g===1&&Z<0&&(Z=Z+2*Math.PI),[P,B,v,y,G,Z,w,g]}};return i0.Path=a,a.prototype.className="Path",a.prototype._attrsAffectingSize=["data"],(0,t._registerNode)(a),e.Factory.addGetterSetter(a,"data"),i0}var G7;function L0t(){if(G7)return e0;G7=1,Object.defineProperty(e0,"__esModule",{value:!0}),e0.Arrow=void 0;const e=Qe(),t=OI(),n=tn(),i=He(),a=H5();class r extends t.Line{_sceneFunc(o){super._sceneFunc(o);const c=Math.PI*2,d=this.points();let f=d;const g=this.tension()!==0&&d.length>4;g&&(f=this.getTensionPoints());const v=this.pointerLength(),y=d.length;let b,w;if(g){const A=[f[f.length-4],f[f.length-3],f[f.length-2],f[f.length-1],d[y-2],d[y-1]],_=a.Path.calcLength(f[f.length-4],f[f.length-3],"C",A),M=a.Path.getPointOnQuadraticBezier(Math.min(1,1-v/_),A[0],A[1],A[2],A[3],A[4],A[5]);b=d[y-2]-M.x,w=d[y-1]-M.y}else b=d[y-2]-d[y-4],w=d[y-1]-d[y-3];const E=(Math.atan2(w,b)+c)%c,C=this.pointerWidth();this.pointerAtEnding()&&(o.save(),o.beginPath(),o.translate(d[y-2],d[y-1]),o.rotate(E),o.moveTo(0,0),o.lineTo(-v,C/2),o.lineTo(-v,-C/2),o.closePath(),o.restore(),this.__fillStroke(o)),this.pointerAtBeginning()&&(o.save(),o.beginPath(),o.translate(d[0],d[1]),g?(b=(f[0]+f[2])/2-d[0],w=(f[1]+f[3])/2-d[1]):(b=d[2]-d[0],w=d[3]-d[1]),o.rotate((Math.atan2(-w,-b)+c)%c),o.moveTo(0,0),o.lineTo(-v,C/2),o.lineTo(-v,-C/2),o.closePath(),o.restore(),this.__fillStroke(o))}__fillStroke(o){const c=this.dashEnabled();c&&(this.attrs.dashEnabled=!1,o.setLineDash([])),o.fillStrokeShape(this),c&&(this.attrs.dashEnabled=!0)}getSelfRect(){const o=super.getSelfRect(),c=this.pointerWidth()/2;return{x:o.x,y:o.y-c,width:o.width,height:o.height+c*2}}}return e0.Arrow=r,r.prototype.className="Arrow",(0,i._registerNode)(r),e.Factory.addGetterSetter(r,"pointerLength",10,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(r,"pointerWidth",10,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(r,"pointerAtBeginning",!1),e.Factory.addGetterSetter(r,"pointerAtEnding",!0),e0}var a0={},q7;function j0t(){if(q7)return a0;q7=1,Object.defineProperty(a0,"__esModule",{value:!0}),a0.Circle=void 0;const e=Qe(),t=la(),n=tn(),i=He();class a extends t.Shape{_sceneFunc(s){s.beginPath(),s.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(s){this.radius()!==s/2&&this.radius(s/2)}setHeight(s){this.radius()!==s/2&&this.radius(s/2)}}return a0.Circle=a,a.prototype._centroid=!0,a.prototype.className="Circle",a.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(a),e.Factory.addGetterSetter(a,"radius",0,(0,n.getNumberValidator)()),a0}var r0={},V7;function F0t(){if(V7)return r0;V7=1,Object.defineProperty(r0,"__esModule",{value:!0}),r0.Ellipse=void 0;const e=Qe(),t=la(),n=tn(),i=He();let a=class extends t.Shape{_sceneFunc(s){const o=this.radiusX(),c=this.radiusY();s.beginPath(),s.save(),o!==c&&s.scale(1,c/o),s.arc(0,0,o,0,Math.PI*2,!1),s.restore(),s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(s){this.radiusX(s/2)}setHeight(s){this.radiusY(s/2)}};return r0.Ellipse=a,a.prototype.className="Ellipse",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,i._registerNode)(a),e.Factory.addComponentsGetterSetter(a,"radius",["x","y"]),e.Factory.addGetterSetter(a,"radiusX",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(a,"radiusY",0,(0,n.getNumberValidator)()),r0}var s0={},$7;function B0t(){if($7)return s0;$7=1,Object.defineProperty(s0,"__esModule",{value:!0}),s0.Image=void 0;const e=wi(),t=Qe(),n=la(),i=He(),a=tn();class r extends n.Shape{constructor(o){super(o),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",c=>{this._removeImageLoad(c.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const o=this.image();o&&o.complete||o&&o.readyState===4||o&&o.addEventListener&&o.addEventListener("load",this._loadListener)}_removeImageLoad(o){o&&o.removeEventListener&&o.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const o=!!this.cornerRadius(),c=this.hasShadow();return o&&c?!0:super._useBufferCanvas(!0)}_sceneFunc(o){const c=this.getWidth(),d=this.getHeight(),f=this.cornerRadius(),g=this.attrs.image;let v;if(g){const y=this.attrs.cropWidth,b=this.attrs.cropHeight;y&&b?v=[g,this.cropX(),this.cropY(),y,b,0,0,c,d]:v=[g,0,0,c,d]}(this.hasFill()||this.hasStroke()||f)&&(o.beginPath(),f?e.Util.drawRoundedRectPath(o,c,d,f):o.rect(0,0,c,d),o.closePath(),o.fillStrokeShape(this)),g&&(f&&o.clip(),o.drawImage.apply(o,v))}_hitFunc(o){const c=this.width(),d=this.height(),f=this.cornerRadius();o.beginPath(),f?e.Util.drawRoundedRectPath(o,c,d,f):o.rect(0,0,c,d),o.closePath(),o.fillStrokeShape(this)}getWidth(){var o,c;return(o=this.attrs.width)!==null&&o!==void 0?o:(c=this.image())===null||c===void 0?void 0:c.width}getHeight(){var o,c;return(o=this.attrs.height)!==null&&o!==void 0?o:(c=this.image())===null||c===void 0?void 0:c.height}static fromURL(o,c,d=null){const f=e.Util.createImageElement();f.onload=function(){const g=new r({image:f});c(g)},f.onerror=d,f.crossOrigin="Anonymous",f.src=o}}return s0.Image=r,r.prototype.className="Image",(0,i._registerNode)(r),t.Factory.addGetterSetter(r,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4)),t.Factory.addGetterSetter(r,"image"),t.Factory.addComponentsGetterSetter(r,"crop",["x","y","width","height"]),t.Factory.addGetterSetter(r,"cropX",0,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(r,"cropY",0,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(r,"cropWidth",0,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(r,"cropHeight",0,(0,a.getNumberValidator)()),s0}var Gd={},Y7;function I0t(){if(Y7)return Gd;Y7=1,Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.Tag=Gd.Label=void 0;const e=Qe(),t=la(),n=z5(),i=tn(),a=He(),r=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],s="Change.konva",o="none",c="up",d="right",f="down",g="left",v=r.length;let y=class extends n.Group{constructor(E){super(E),this.on("add.konva",function(C){this._addListeners(C.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(E){let C=this,A;const _=function(){C._sync()};for(A=0;A<v;A++)E.on(r[A]+s,_)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let E=this.getText(),C=this.getTag(),A,_,M,D,P,B,k;if(E&&C){switch(A=E.width(),_=E.height(),M=C.pointerDirection(),D=C.pointerWidth(),k=C.pointerHeight(),P=0,B=0,M){case c:P=A/2,B=-1*k;break;case d:P=A+D,B=_/2;break;case f:P=A/2,B=_+k;break;case g:P=-1*D,B=_/2;break}C.setAttrs({x:-1*P,y:-1*B,width:A,height:_}),E.setAttrs({x:-1*P,y:-1*B})}}};Gd.Label=y,y.prototype.className="Label",(0,a._registerNode)(y);class b extends t.Shape{_sceneFunc(E){const C=this.width(),A=this.height(),_=this.pointerDirection(),M=this.pointerWidth(),D=this.pointerHeight(),P=this.cornerRadius();let B=0,k=0,z=0,H=0;typeof P=="number"?B=k=z=H=Math.min(P,C/2,A/2):(B=Math.min(P[0]||0,C/2,A/2),k=Math.min(P[1]||0,C/2,A/2),H=Math.min(P[2]||0,C/2,A/2),z=Math.min(P[3]||0,C/2,A/2)),E.beginPath(),E.moveTo(B,0),_===c&&(E.lineTo((C-M)/2,0),E.lineTo(C/2,-1*D),E.lineTo((C+M)/2,0)),E.lineTo(C-k,0),E.arc(C-k,k,k,Math.PI*3/2,0,!1),_===d&&(E.lineTo(C,(A-D)/2),E.lineTo(C+M,A/2),E.lineTo(C,(A+D)/2)),E.lineTo(C,A-H),E.arc(C-H,A-H,H,0,Math.PI/2,!1),_===f&&(E.lineTo((C+M)/2,A),E.lineTo(C/2,A+D),E.lineTo((C-M)/2,A)),E.lineTo(z,A),E.arc(z,A-z,z,Math.PI/2,Math.PI,!1),_===g&&(E.lineTo(0,(A+D)/2),E.lineTo(-1*M,A/2),E.lineTo(0,(A-D)/2)),E.lineTo(0,B),E.arc(B,B,B,Math.PI,Math.PI*3/2,!1),E.closePath(),E.fillStrokeShape(this)}getSelfRect(){let E=0,C=0,A=this.pointerWidth(),_=this.pointerHeight(),M=this.pointerDirection(),D=this.width(),P=this.height();return M===c?(C-=_,P+=_):M===f?P+=_:M===g?(E-=A*1.5,D+=A):M===d&&(D+=A*1.5),{x:E,y:C,width:D,height:P}}}return Gd.Tag=b,b.prototype.className="Tag",(0,a._registerNode)(b),e.Factory.addGetterSetter(b,"pointerDirection",o),e.Factory.addGetterSetter(b,"pointerWidth",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(b,"pointerHeight",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(b,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),Gd}var o0={},K7;function NI(){if(K7)return o0;K7=1,Object.defineProperty(o0,"__esModule",{value:!0}),o0.Rect=void 0;const e=Qe(),t=la(),n=He(),i=wi(),a=tn();class r extends t.Shape{_sceneFunc(o){const c=this.cornerRadius(),d=this.width(),f=this.height();o.beginPath(),c?i.Util.drawRoundedRectPath(o,d,f,c):o.rect(0,0,d,f),o.closePath(),o.fillStrokeShape(this)}}return o0.Rect=r,r.prototype.className="Rect",(0,n._registerNode)(r),e.Factory.addGetterSetter(r,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4)),o0}var l0={},X7;function z0t(){if(X7)return l0;X7=1,Object.defineProperty(l0,"__esModule",{value:!0}),l0.RegularPolygon=void 0;const e=Qe(),t=la(),n=tn(),i=He();let a=class extends t.Shape{_sceneFunc(s){const o=this._getPoints();s.beginPath(),s.moveTo(o[0].x,o[0].y);for(let c=1;c<o.length;c++)s.lineTo(o[c].x,o[c].y);s.closePath(),s.fillStrokeShape(this)}_getPoints(){const s=this.attrs.sides,o=this.attrs.radius||0,c=[];for(let d=0;d<s;d++)c.push({x:o*Math.sin(d*2*Math.PI/s),y:-1*o*Math.cos(d*2*Math.PI/s)});return c}getSelfRect(){const s=this._getPoints();let o=s[0].x,c=s[0].y,d=s[0].x,f=s[0].y;return s.forEach(g=>{o=Math.min(o,g.x),c=Math.max(c,g.x),d=Math.min(d,g.y),f=Math.max(f,g.y)}),{x:o,y:d,width:c-o,height:f-d}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(s){this.radius(s/2)}setHeight(s){this.radius(s/2)}};return l0.RegularPolygon=a,a.prototype.className="RegularPolygon",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(a),e.Factory.addGetterSetter(a,"radius",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(a,"sides",0,(0,n.getNumberValidator)()),l0}var c0={},W7;function U0t(){if(W7)return c0;W7=1,Object.defineProperty(c0,"__esModule",{value:!0}),c0.Ring=void 0;const e=Qe(),t=la(),n=tn(),i=He(),a=Math.PI*2;let r=class extends t.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.innerRadius(),0,a,!1),o.moveTo(this.outerRadius(),0),o.arc(0,0,this.outerRadius(),a,0,!0),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}};return c0.Ring=r,r.prototype.className="Ring",r.prototype._centroid=!0,r.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(r),e.Factory.addGetterSetter(r,"innerRadius",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(r,"outerRadius",0,(0,n.getNumberValidator)()),c0}var u0={},Q7;function H0t(){if(Q7)return u0;Q7=1,Object.defineProperty(u0,"__esModule",{value:!0}),u0.Sprite=void 0;const e=Qe(),t=la(),n=U5(),i=tn(),a=He();let r=class extends t.Shape{constructor(o){super(o),this._updated=!0,this.anim=new n.Animation(()=>{const c=this._updated;return this._updated=!1,c}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(o){const c=this.animation(),d=this.frameIndex(),f=d*4,g=this.animations()[c],v=this.frameOffsets(),y=g[f+0],b=g[f+1],w=g[f+2],E=g[f+3],C=this.image();if((this.hasFill()||this.hasStroke())&&(o.beginPath(),o.rect(0,0,w,E),o.closePath(),o.fillStrokeShape(this)),C)if(v){const A=v[c],_=d*2;o.drawImage(C,y,b,w,E,A[_+0],A[_+1],w,E)}else o.drawImage(C,y,b,w,E,0,0,w,E)}_hitFunc(o){const c=this.animation(),d=this.frameIndex(),f=d*4,g=this.animations()[c],v=this.frameOffsets(),y=g[f+2],b=g[f+3];if(o.beginPath(),v){const w=v[c],E=d*2;o.rect(w[E+0],w[E+1],y,b)}else o.rect(0,0,y,b);o.closePath(),o.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const o=this;this.interval=setInterval(function(){o._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const o=this.getLayer();this.anim.setLayers(o),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const o=this.frameIndex(),c=this.animation(),d=this.animations(),f=d[c],g=f.length/4;o<g-1?this.frameIndex(o+1):this.frameIndex(0)}};return u0.Sprite=r,r.prototype.className="Sprite",(0,a._registerNode)(r),e.Factory.addGetterSetter(r,"animation"),e.Factory.addGetterSetter(r,"animations"),e.Factory.addGetterSetter(r,"frameOffsets"),e.Factory.addGetterSetter(r,"image"),e.Factory.addGetterSetter(r,"frameIndex",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(r,"frameRate",17,(0,i.getNumberValidator)()),e.Factory.backCompat(r,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),u0}var d0={},Z7;function G0t(){if(Z7)return d0;Z7=1,Object.defineProperty(d0,"__esModule",{value:!0}),d0.Star=void 0;const e=Qe(),t=la(),n=tn(),i=He();let a=class extends t.Shape{_sceneFunc(s){const o=this.innerRadius(),c=this.outerRadius(),d=this.numPoints();s.beginPath(),s.moveTo(0,0-c);for(let f=1;f<d*2;f++){const g=f%2===0?c:o,v=g*Math.sin(f*Math.PI/d),y=-1*g*Math.cos(f*Math.PI/d);s.lineTo(v,y)}s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(s){this.outerRadius(s/2)}setHeight(s){this.outerRadius(s/2)}};return d0.Star=a,a.prototype.className="Star",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(a),e.Factory.addGetterSetter(a,"numPoints",5,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(a,"innerRadius",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(a,"outerRadius",0,(0,n.getNumberValidator)()),d0}var Qf={},J7;function PI(){if(J7)return Qf;J7=1,Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.Text=void 0,Qf.stringToArray=s;const e=wi(),t=Qe(),n=la(),i=He(),a=tn(),r=He();function s(it){return[...it].reduce((K,ct,pt,rt)=>{if(new RegExp("\\p{Emoji}","u").test(ct)){const J=rt[pt+1];J&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(J)?(K.push(ct+J),rt[pt+1]=""):K.push(ct)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(ct+(rt[pt+1]||""))?K.push(ct+rt[pt+1]):pt>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(ct)?K[K.length-1]+=ct:ct&&K.push(ct);return K},[])}const o="auto",c="center",d="inherit",f="justify",g="Change.konva",v="2d",y="-",b="left",w="text",E="Text",C="top",A="bottom",_="middle",M="normal",D="px ",P=" ",B="right",k="rtl",z="word",H="char",G="none",Q="",at=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Z=at.length;function nt(it){return it.split(",").map(K=>{K=K.trim();const ct=K.indexOf(" ")>=0,pt=K.indexOf('"')>=0||K.indexOf("'")>=0;return ct&&!pt&&(K=`"${K}"`),K}).join(", ")}let tt;function I(){return tt||(tt=e.Util.createCanvasElement().getContext(v),tt)}function V(it){it.fillText(this._partialText,this._partialTextX,this._partialTextY)}function X(it){it.setAttr("miterLimit",2),it.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function U(it){return it=it||{},!it.fillLinearGradientColorStops&&!it.fillRadialGradientColorStops&&!it.fillPatternImage&&(it.fill=it.fill||"black"),it}class $ extends n.Shape{constructor(K){super(U(K)),this._partialTextX=0,this._partialTextY=0;for(let ct=0;ct<Z;ct++)this.on(at[ct]+g,this._setTextData);this._setTextData()}_sceneFunc(K){const ct=this.textArr,pt=ct.length;if(!this.text())return;let rt=this.padding(),J=this.fontSize(),lt=this.lineHeight()*J,St=this.verticalAlign(),Tt=this.direction(),Dt=0,kt=this.align(),zt=this.getWidth(),Jt=this.letterSpacing(),Pt=this.fill(),re=this.textDecoration(),Bt=re.indexOf("underline")!==-1,me=re.indexOf("line-through")!==-1,Ye;Tt=Tt===d?K.direction:Tt;let le=lt/2,pn=_;if(i.Konva._fixTextRendering){const Qt=this.measureSize("M");pn="alphabetic",le=(Qt.fontBoundingBoxAscent-Qt.fontBoundingBoxDescent)/2+lt/2}for(Tt===k&&K.setAttr("direction",Tt),K.setAttr("font",this._getContextFont()),K.setAttr("textBaseline",pn),K.setAttr("textAlign",b),St===_?Dt=(this.getHeight()-pt*lt-rt*2)/2:St===A&&(Dt=this.getHeight()-pt*lt-rt*2),K.translate(rt,Dt+rt),Ye=0;Ye<pt;Ye++){let Qt=0,Ee=0;const Nt=ct[Ye],Ht=Nt.text,te=Nt.width,Vt=Nt.lastInParagraph;if(K.save(),kt===B?Qt+=zt-te-rt*2:kt===c&&(Qt+=(zt-te-rt*2)/2),Bt){K.save(),K.beginPath();const ee=i.Konva._fixTextRendering?Math.round(J/4):Math.round(J/2),Se=Qt,Ge=le+Ee+ee;K.moveTo(Se,Ge);const _n=kt===f&&!Vt?zt-rt*2:te;K.lineTo(Se+Math.round(_n),Ge),K.lineWidth=J/15;const $n=this._getLinearGradient();K.strokeStyle=$n||Pt,K.stroke(),K.restore()}if(me){K.save(),K.beginPath();const ee=i.Konva._fixTextRendering?-Math.round(J/4):0;K.moveTo(Qt,le+Ee+ee);const Se=kt===f&&!Vt?zt-rt*2:te;K.lineTo(Qt+Math.round(Se),le+Ee+ee),K.lineWidth=J/15;const Ge=this._getLinearGradient();K.strokeStyle=Ge||Pt,K.stroke(),K.restore()}if(Tt!==k&&(Jt!==0||kt===f)){const ee=Ht.split(" ").length-1,Se=s(Ht);for(let Ge=0;Ge<Se.length;Ge++){const _n=Se[Ge];_n===" "&&!Vt&&kt===f&&(Qt+=(zt-rt*2-te)/ee),this._partialTextX=Qt,this._partialTextY=le+Ee,this._partialText=_n,K.fillStrokeShape(this),Qt+=this.measureSize(_n).width+Jt}}else Jt!==0&&K.setAttr("letterSpacing",`${Jt}px`),this._partialTextX=Qt,this._partialTextY=le+Ee,this._partialText=Ht,K.fillStrokeShape(this);K.restore(),pt>1&&(le+=lt)}}_hitFunc(K){const ct=this.getWidth(),pt=this.getHeight();K.beginPath(),K.rect(0,0,ct,pt),K.closePath(),K.fillStrokeShape(this)}setText(K){const ct=e.Util._isString(K)?K:K==null?"":K+"";return this._setAttr(w,ct),this}getWidth(){return this.attrs.width===o||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===o||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return e.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(K){var ct,pt,rt,J,lt,St,Tt,Dt,kt,zt,Jt;let Pt=I(),re=this.fontSize(),Bt;Pt.save(),Pt.font=this._getContextFont(),Bt=Pt.measureText(K),Pt.restore();const me=re/100;return{actualBoundingBoxAscent:(ct=Bt.actualBoundingBoxAscent)!==null&&ct!==void 0?ct:71.58203125*me,actualBoundingBoxDescent:(pt=Bt.actualBoundingBoxDescent)!==null&&pt!==void 0?pt:0,actualBoundingBoxLeft:(rt=Bt.actualBoundingBoxLeft)!==null&&rt!==void 0?rt:-7.421875*me,actualBoundingBoxRight:(J=Bt.actualBoundingBoxRight)!==null&&J!==void 0?J:75.732421875*me,alphabeticBaseline:(lt=Bt.alphabeticBaseline)!==null&&lt!==void 0?lt:0,emHeightAscent:(St=Bt.emHeightAscent)!==null&&St!==void 0?St:100*me,emHeightDescent:(Tt=Bt.emHeightDescent)!==null&&Tt!==void 0?Tt:-20*me,fontBoundingBoxAscent:(Dt=Bt.fontBoundingBoxAscent)!==null&&Dt!==void 0?Dt:91*me,fontBoundingBoxDescent:(kt=Bt.fontBoundingBoxDescent)!==null&&kt!==void 0?kt:21*me,hangingBaseline:(zt=Bt.hangingBaseline)!==null&&zt!==void 0?zt:72.80000305175781*me,ideographicBaseline:(Jt=Bt.ideographicBaseline)!==null&&Jt!==void 0?Jt:-21*me,width:Bt.width,height:re}}_getContextFont(){return this.fontStyle()+P+this.fontVariant()+P+(this.fontSize()+D)+nt(this.fontFamily())}_addTextLine(K){this.align()===f&&(K=K.trim());const pt=this._getTextWidth(K);return this.textArr.push({text:K,width:pt,lastInParagraph:!1})}_getTextWidth(K){const ct=this.letterSpacing(),pt=K.length;return I().measureText(K).width+ct*pt}_setTextData(){let K=this.text().split(`
`),ct=+this.fontSize(),pt=0,rt=this.lineHeight()*ct,J=this.attrs.width,lt=this.attrs.height,St=J!==o&&J!==void 0,Tt=lt!==o&&lt!==void 0,Dt=this.padding(),kt=J-Dt*2,zt=lt-Dt*2,Jt=0,Pt=this.wrap(),re=Pt!==G,Bt=Pt!==H&&re,me=this.ellipsis();this.textArr=[],I().font=this._getContextFont();const Ye=me?this._getTextWidth(Q):0;for(let le=0,pn=K.length;le<pn;++le){let Qt=K[le],Ee=this._getTextWidth(Qt);if(St&&Ee>kt)for(;Qt.length>0;){let Nt=0,Ht=s(Qt).length,te="",Vt=0;for(;Nt<Ht;){const ee=Nt+Ht>>>1,Se=s(Qt),Ge=Se.slice(0,ee+1).join(""),_n=this._getTextWidth(Ge);(me&&Tt&&Jt+rt>zt?_n+Ye:_n)<=kt?(Nt=ee+1,te=Ge,Vt=_n):Ht=ee}if(te){if(Bt){const Ge=s(Qt),_n=s(te),$n=Ge[_n.length],mn=$n===P||$n===y;let qe;if(mn&&Vt<=kt)qe=_n.length;else{const Be=_n.lastIndexOf(P),Ui=_n.lastIndexOf(y);qe=Math.max(Be,Ui)+1}qe>0&&(Nt=qe,te=Ge.slice(0,Nt).join(""),Vt=this._getTextWidth(te))}if(te=te.trimRight(),this._addTextLine(te),pt=Math.max(pt,Vt),Jt+=rt,this._shouldHandleEllipsis(Jt)){this._tryToAddEllipsisToLastLine();break}if(Qt=s(Qt).slice(Nt).join("").trimLeft(),Qt.length>0&&(Ee=this._getTextWidth(Qt),Ee<=kt)){this._addTextLine(Qt),Jt+=rt,pt=Math.max(pt,Ee);break}}else break}else this._addTextLine(Qt),Jt+=rt,pt=Math.max(pt,Ee),this._shouldHandleEllipsis(Jt)&&le<pn-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),Tt&&Jt+rt>zt)break}this.textHeight=ct,this.textWidth=pt}_shouldHandleEllipsis(K){const ct=+this.fontSize(),pt=this.lineHeight()*ct,rt=this.attrs.height,J=rt!==o&&rt!==void 0,lt=this.padding(),St=rt-lt*2;return!(this.wrap()!==G)||J&&K+pt>St}_tryToAddEllipsisToLastLine(){const K=this.attrs.width,ct=K!==o&&K!==void 0,pt=this.padding(),rt=K-pt*2,J=this.ellipsis(),lt=this.textArr[this.textArr.length-1];!lt||!J||(ct&&(this._getTextWidth(lt.text+Q)<rt||(lt.text=lt.text.slice(0,lt.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(lt.text+Q))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const K=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,ct=this.hasShadow();return K&&ct?!0:super._useBufferCanvas()}}return Qf.Text=$,$.prototype._fillFunc=V,$.prototype._strokeFunc=X,$.prototype.className=E,$.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,r._registerNode)($),t.Factory.overWriteSetter($,"width",(0,a.getNumberOrAutoValidator)()),t.Factory.overWriteSetter($,"height",(0,a.getNumberOrAutoValidator)()),t.Factory.addGetterSetter($,"direction",d),t.Factory.addGetterSetter($,"fontFamily","Arial"),t.Factory.addGetterSetter($,"fontSize",12,(0,a.getNumberValidator)()),t.Factory.addGetterSetter($,"fontStyle",M),t.Factory.addGetterSetter($,"fontVariant",M),t.Factory.addGetterSetter($,"padding",0,(0,a.getNumberValidator)()),t.Factory.addGetterSetter($,"align",b),t.Factory.addGetterSetter($,"verticalAlign",C),t.Factory.addGetterSetter($,"lineHeight",1,(0,a.getNumberValidator)()),t.Factory.addGetterSetter($,"wrap",z),t.Factory.addGetterSetter($,"ellipsis",!1,(0,a.getBooleanValidator)()),t.Factory.addGetterSetter($,"letterSpacing",0,(0,a.getNumberValidator)()),t.Factory.addGetterSetter($,"text","",(0,a.getStringValidator)()),t.Factory.addGetterSetter($,"textDecoration",""),Qf}var h0={},t9;function q0t(){if(t9)return h0;t9=1,Object.defineProperty(h0,"__esModule",{value:!0}),h0.TextPath=void 0;const e=wi(),t=Qe(),n=la(),i=H5(),a=PI(),r=tn(),s=He(),o="",c="normal";function d(v){v.fillText(this.partialText,0,0)}function f(v){v.strokeText(this.partialText,0,0)}let g=class extends n.Shape{constructor(y){super(y),this.dummyCanvas=e.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return i.Path.getPathLength(this.dataArray)}_getPointAtLength(y){if(!this.attrs.data)return null;const b=this.pathLength;return y-1>b?null:i.Path.getPointAtLengthOfDataArray(y,this.dataArray)}_readDataAttribute(){this.dataArray=i.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(y){y.setAttr("font",this._getContextFont()),y.setAttr("textBaseline",this.textBaseline()),y.setAttr("textAlign","left"),y.save();const b=this.textDecoration(),w=this.fill(),E=this.fontSize(),C=this.glyphInfo;b==="underline"&&y.beginPath();for(let A=0;A<C.length;A++){y.save();const _=C[A].p0;y.translate(_.x,_.y),y.rotate(C[A].rotation),this.partialText=C[A].text,y.fillStrokeShape(this),b==="underline"&&(A===0&&y.moveTo(0,E/2+1),y.lineTo(E,E/2+1)),y.restore()}b==="underline"&&(y.strokeStyle=w,y.lineWidth=E/20,y.stroke()),y.restore()}_hitFunc(y){y.beginPath();const b=this.glyphInfo;if(b.length>=1){const w=b[0].p0;y.moveTo(w.x,w.y)}for(let w=0;w<b.length;w++){const E=b[w].p1;y.lineTo(E.x,E.y)}y.setAttr("lineWidth",this.fontSize()),y.setAttr("strokeStyle",this.colorKey),y.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return e.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(y){return a.Text.prototype.setText.call(this,y)}_getContextFont(){return a.Text.prototype._getContextFont.call(this)}_getTextSize(y){const w=this.dummyCanvas.getContext("2d");w.save(),w.font=this._getContextFont();const E=w.measureText(y);return w.restore(),{width:E.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:y,height:b}=this._getTextSize(this.attrs.text);if(this.textWidth=y,this.textHeight=b,this.glyphInfo=[],!this.attrs.data)return null;const w=this.letterSpacing(),E=this.align(),C=this.kerningFunc(),A=Math.max(this.textWidth+((this.attrs.text||"").length-1)*w,0);let _=0;E==="center"&&(_=Math.max(0,this.pathLength/2-A/2)),E==="right"&&(_=Math.max(0,this.pathLength-A));const M=(0,a.stringToArray)(this.text());let D=_;for(let P=0;P<M.length;P++){const B=this._getPointAtLength(D);if(!B)return;let k=this._getTextSize(M[P]).width+w;if(M[P]===" "&&E==="justify"){const Z=this.text().split(" ").length-1;k+=(this.pathLength-A)/Z}const z=this._getPointAtLength(D+k);if(!z)return;const H=i.Path.getLineLength(B.x,B.y,z.x,z.y);let G=0;if(C)try{G=C(M[P-1],M[P])*this.fontSize()}catch{G=0}B.x+=G,z.x+=G,this.textWidth+=G;const Q=i.Path.getPointOnLine(G+H/2,B.x,B.y,z.x,z.y),at=Math.atan2(z.y-B.y,z.x-B.x);this.glyphInfo.push({transposeX:Q.x,transposeY:Q.y,text:M[P],rotation:at,p0:B,p1:z}),D+=k}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const y=[];this.glyphInfo.forEach(function(D){y.push(D.p0.x),y.push(D.p0.y),y.push(D.p1.x),y.push(D.p1.y)});let b=y[0]||0,w=y[0]||0,E=y[1]||0,C=y[1]||0,A,_;for(let D=0;D<y.length/2;D++)A=y[D*2],_=y[D*2+1],b=Math.min(b,A),w=Math.max(w,A),E=Math.min(E,_),C=Math.max(C,_);const M=this.fontSize();return{x:b-M/2,y:E-M/2,width:w-b+M,height:C-E+M}}destroy(){return e.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return h0.TextPath=g,g.prototype._fillFunc=d,g.prototype._strokeFunc=f,g.prototype._fillFuncHit=d,g.prototype._strokeFuncHit=f,g.prototype.className="TextPath",g.prototype._attrsAffectingSize=["text","fontSize","data"],(0,s._registerNode)(g),t.Factory.addGetterSetter(g,"data"),t.Factory.addGetterSetter(g,"fontFamily","Arial"),t.Factory.addGetterSetter(g,"fontSize",12,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(g,"fontStyle",c),t.Factory.addGetterSetter(g,"align","left"),t.Factory.addGetterSetter(g,"letterSpacing",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(g,"textBaseline","middle"),t.Factory.addGetterSetter(g,"fontVariant",c),t.Factory.addGetterSetter(g,"text",o),t.Factory.addGetterSetter(g,"textDecoration",""),t.Factory.addGetterSetter(g,"kerningFunc",void 0),h0}var f0={},e9;function V0t(){if(e9)return f0;e9=1,Object.defineProperty(f0,"__esModule",{value:!0}),f0.Transformer=void 0;const e=wi(),t=Qe(),n=Di(),i=la(),a=NI(),r=z5(),s=He(),o=tn(),c=He(),d="tr-konva",f=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(k=>k+`.${d}`).join(" "),g="nodesRect",v=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],y={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},b="ontouchstart"in s.Konva._global;function w(k,z,H){if(k==="rotater")return H;z+=e.Util.degToRad(y[k]||0);const G=(e.Util.radToDeg(z)%360+360)%360;return e.Util._inRange(G,315+22.5,360)||e.Util._inRange(G,0,22.5)?"ns-resize":e.Util._inRange(G,45-22.5,45+22.5)?"nesw-resize":e.Util._inRange(G,90-22.5,90+22.5)?"ew-resize":e.Util._inRange(G,135-22.5,135+22.5)?"nwse-resize":e.Util._inRange(G,180-22.5,180+22.5)?"ns-resize":e.Util._inRange(G,225-22.5,225+22.5)?"nesw-resize":e.Util._inRange(G,270-22.5,270+22.5)?"ew-resize":e.Util._inRange(G,315-22.5,315+22.5)?"nwse-resize":(e.Util.error("Transformer has unknown angle for cursor detection: "+G),"pointer")}const E=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function C(k){return{x:k.x+k.width/2*Math.cos(k.rotation)+k.height/2*Math.sin(-k.rotation),y:k.y+k.height/2*Math.cos(k.rotation)+k.width/2*Math.sin(k.rotation)}}function A(k,z,H){const G=H.x+(k.x-H.x)*Math.cos(z)-(k.y-H.y)*Math.sin(z),Q=H.y+(k.x-H.x)*Math.sin(z)+(k.y-H.y)*Math.cos(z);return{...k,rotation:k.rotation+z,x:G,y:Q}}function _(k,z){const H=C(k);return A(k,z,H)}function M(k,z,H){let G=z;for(let Q=0;Q<k.length;Q++){const at=s.Konva.getAngle(k[Q]),Z=Math.abs(at-z)%(Math.PI*2);Math.min(Z,Math.PI*2-Z)<H&&(G=at)}return G}let D=0;class P extends r.Group{constructor(z){super(z),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(f,this.update),this.getNode()&&this.update()}attachTo(z){return this.setNode(z),this}setNode(z){return e.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([z])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return d+this._id}setNodes(z=[]){this._nodes&&this._nodes.length&&this.detach();const H=z.filter(Q=>Q.isAncestorOf(this)?(e.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=z=H,z.length===1&&this.useSingleNodeRotation()?this.rotation(z[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(Q=>{const at=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(Q._attrsAffectingSize.length){const Z=Q._attrsAffectingSize.map(nt=>nt+"Change."+this._getEventNamespace()).join(" ");Q.on(Z,at)}Q.on(v.map(Z=>Z+`.${this._getEventNamespace()}`).join(" "),at),Q.on(`absoluteTransformChange.${this._getEventNamespace()}`,at),this._proxyDrag(Q)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(z){let H;z.on(`dragstart.${this._getEventNamespace()}`,G=>{H=z.getAbsolutePosition(),!this.isDragging()&&z!==this.findOne(".back")&&this.startDrag(G,!1)}),z.on(`dragmove.${this._getEventNamespace()}`,G=>{if(!H)return;const Q=z.getAbsolutePosition(),at=Q.x-H.x,Z=Q.y-H.y;this.nodes().forEach(nt=>{if(nt===z||nt.isDragging())return;const tt=nt.getAbsolutePosition();nt.setAbsolutePosition({x:tt.x+at,y:tt.y+Z}),nt.startDrag(G)}),H=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(z=>{z.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(g),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(g,this.__getNodeRect)}__getNodeShape(z,H=this.rotation(),G){const Q=z.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),at=z.getAbsoluteScale(G),Z=z.getAbsolutePosition(G),nt=Q.x*at.x-z.offsetX()*at.x,tt=Q.y*at.y-z.offsetY()*at.y,I=(s.Konva.getAngle(z.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),V={x:Z.x+nt*Math.cos(I)+tt*Math.sin(-I),y:Z.y+tt*Math.cos(I)+nt*Math.sin(I),width:Q.width*at.x,height:Q.height*at.y,rotation:I};return A(V,-s.Konva.getAngle(H),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const H=[];this.nodes().map(I=>{const V=I.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),X=[{x:V.x,y:V.y},{x:V.x+V.width,y:V.y},{x:V.x+V.width,y:V.y+V.height},{x:V.x,y:V.y+V.height}],U=I.getAbsoluteTransform();X.forEach(function($){const it=U.point($);H.push(it)})});const G=new e.Transform;G.rotate(-s.Konva.getAngle(this.rotation()));let Q=1/0,at=1/0,Z=-1/0,nt=-1/0;H.forEach(function(I){const V=G.point(I);Q===void 0&&(Q=Z=V.x,at=nt=V.y),Q=Math.min(Q,V.x),at=Math.min(at,V.y),Z=Math.max(Z,V.x),nt=Math.max(nt,V.y)}),G.invert();const tt=G.point({x:Q,y:at});return{x:tt.x,y:tt.y,width:Z-Q,height:nt-at,rotation:s.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),E.forEach(z=>{this._createAnchor(z)}),this._createAnchor("rotater")}_createAnchor(z){const H=new a.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:z+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:b?10:"auto"}),G=this;H.on("mousedown touchstart",function(Q){G._handleMouseDown(Q)}),H.on("dragstart",Q=>{H.stopDrag(),Q.cancelBubble=!0}),H.on("dragend",Q=>{Q.cancelBubble=!0}),H.on("mouseenter",()=>{const Q=s.Konva.getAngle(this.rotation()),at=this.rotateAnchorCursor(),Z=w(z,Q,at);H.getStage().content&&(H.getStage().content.style.cursor=Z),this._cursorChange=!0}),H.on("mouseout",()=>{H.getStage().content&&(H.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(H)}_createBack(){const z=new i.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(H,G){const Q=G.getParent(),at=Q.padding();H.beginPath(),H.rect(-at,-at,G.width()+at*2,G.height()+at*2),H.moveTo(G.width()/2,-at),Q.rotateEnabled()&&Q.rotateLineVisible()&&H.lineTo(G.width()/2,-Q.rotateAnchorOffset()*e.Util._sign(G.height())-at),H.fillStrokeShape(G)},hitFunc:(H,G)=>{if(!this.shouldOverdrawWholeArea())return;const Q=this.padding();H.beginPath(),H.rect(-Q,-Q,G.width()+Q*2,G.height()+Q*2),H.fillStrokeShape(G)}});this.add(z),this._proxyDrag(z),z.on("dragstart",H=>{H.cancelBubble=!0}),z.on("dragmove",H=>{H.cancelBubble=!0}),z.on("dragend",H=>{H.cancelBubble=!0}),this.on("dragmove",H=>{this.update()})}_handleMouseDown(z){if(this._transforming)return;this._movingAnchorName=z.target.name().split(" ")[0];const H=this._getNodeRect(),G=H.width,Q=H.height,at=Math.sqrt(Math.pow(G,2)+Math.pow(Q,2));this.sin=Math.abs(Q/at),this.cos=Math.abs(G/at),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const Z=z.target.getAbsolutePosition(),nt=z.target.getStage().getPointerPosition();this._anchorDragOffset={x:nt.x-Z.x,y:nt.y-Z.y},D++,this._fire("transformstart",{evt:z.evt,target:this.getNode()}),this._nodes.forEach(tt=>{tt._fire("transformstart",{evt:z.evt,target:tt})})}_handleMouseMove(z){let H,G,Q;const at=this.findOne("."+this._movingAnchorName),Z=at.getStage();Z.setPointersPositions(z);const nt=Z.getPointerPosition();let tt={x:nt.x-this._anchorDragOffset.x,y:nt.y-this._anchorDragOffset.y};const I=at.getAbsolutePosition();this.anchorDragBoundFunc()&&(tt=this.anchorDragBoundFunc()(I,tt,z)),at.setAbsolutePosition(tt);const V=at.getAbsolutePosition();if(I.x===V.x&&I.y===V.y)return;if(this._movingAnchorName==="rotater"){const rt=this._getNodeRect();H=at.x()-rt.width/2,G=-at.y()+rt.height/2;let J=Math.atan2(-G,H)+Math.PI/2;rt.height<0&&(J-=Math.PI);const St=s.Konva.getAngle(this.rotation())+J,Tt=s.Konva.getAngle(this.rotationSnapTolerance()),kt=M(this.rotationSnaps(),St,Tt)-rt.rotation,zt=_(rt,kt);this._fitNodesInto(zt,z);return}const X=this.shiftBehavior();let U;X==="inverted"?U=this.keepRatio()&&!z.shiftKey:X==="none"?U=this.keepRatio():U=this.keepRatio()||z.shiftKey;let $=this.centeredScaling()||z.altKey;if(this._movingAnchorName==="top-left"){if(U){const rt=$?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};Q=Math.sqrt(Math.pow(rt.x-at.x(),2)+Math.pow(rt.y-at.y(),2));const J=this.findOne(".top-left").x()>rt.x?-1:1,lt=this.findOne(".top-left").y()>rt.y?-1:1;H=Q*this.cos*J,G=Q*this.sin*lt,this.findOne(".top-left").x(rt.x-H),this.findOne(".top-left").y(rt.y-G)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(at.y());else if(this._movingAnchorName==="top-right"){if(U){const rt=$?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};Q=Math.sqrt(Math.pow(at.x()-rt.x,2)+Math.pow(rt.y-at.y(),2));const J=this.findOne(".top-right").x()<rt.x?-1:1,lt=this.findOne(".top-right").y()>rt.y?-1:1;H=Q*this.cos*J,G=Q*this.sin*lt,this.findOne(".top-right").x(rt.x+H),this.findOne(".top-right").y(rt.y-G)}var it=at.position();this.findOne(".top-left").y(it.y),this.findOne(".bottom-right").x(it.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(at.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(at.x());else if(this._movingAnchorName==="bottom-left"){if(U){const rt=$?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};Q=Math.sqrt(Math.pow(rt.x-at.x(),2)+Math.pow(at.y()-rt.y,2));const J=rt.x<at.x()?-1:1,lt=at.y()<rt.y?-1:1;H=Q*this.cos*J,G=Q*this.sin*lt,at.x(rt.x-H),at.y(rt.y+G)}it=at.position(),this.findOne(".top-left").x(it.x),this.findOne(".bottom-right").y(it.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(at.y());else if(this._movingAnchorName==="bottom-right"){if(U){const rt=$?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};Q=Math.sqrt(Math.pow(at.x()-rt.x,2)+Math.pow(at.y()-rt.y,2));const J=this.findOne(".bottom-right").x()<rt.x?-1:1,lt=this.findOne(".bottom-right").y()<rt.y?-1:1;H=Q*this.cos*J,G=Q*this.sin*lt,this.findOne(".bottom-right").x(rt.x+H),this.findOne(".bottom-right").y(rt.y+G)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if($=this.centeredScaling()||z.altKey,$){const rt=this.findOne(".top-left"),J=this.findOne(".bottom-right"),lt=rt.x(),St=rt.y(),Tt=this.getWidth()-J.x(),Dt=this.getHeight()-J.y();J.move({x:-lt,y:-St}),rt.move({x:Tt,y:Dt})}const K=this.findOne(".top-left").getAbsolutePosition();H=K.x,G=K.y;const ct=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),pt=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:H,y:G,width:ct,height:pt,rotation:s.Konva.getAngle(this.rotation())},z)}_handleMouseUp(z){this._removeEvents(z)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(z){var H;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const G=this.getNode();D--,this._fire("transformend",{evt:z,target:G}),(H=this.getLayer())===null||H===void 0||H.batchDraw(),G&&this._nodes.forEach(Q=>{var at;Q._fire("transformend",{evt:z,target:Q}),(at=Q.getLayer())===null||at===void 0||at.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(z,H){const G=this._getNodeRect(),Q=1;if(e.Util._inRange(z.width,-this.padding()*2-Q,Q)){this.update();return}if(e.Util._inRange(z.height,-this.padding()*2-Q,Q)){this.update();return}const at=new e.Transform;if(at.rotate(s.Konva.getAngle(this.rotation())),this._movingAnchorName&&z.width<0&&this._movingAnchorName.indexOf("left")>=0){const U=at.point({x:-this.padding()*2,y:0});z.x+=U.x,z.y+=U.y,z.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y}else if(this._movingAnchorName&&z.width<0&&this._movingAnchorName.indexOf("right")>=0){const U=at.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y,z.width+=this.padding()*2}if(this._movingAnchorName&&z.height<0&&this._movingAnchorName.indexOf("top")>=0){const U=at.point({x:0,y:-this.padding()*2});z.x+=U.x,z.y+=U.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y,z.height+=this.padding()*2}else if(this._movingAnchorName&&z.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const U=at.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y,z.height+=this.padding()*2}if(this.boundBoxFunc()){const U=this.boundBoxFunc()(G,z);U?z=U:e.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const Z=1e7,nt=new e.Transform;nt.translate(G.x,G.y),nt.rotate(G.rotation),nt.scale(G.width/Z,G.height/Z);const tt=new e.Transform,I=z.width/Z,V=z.height/Z;this.flipEnabled()===!1?(tt.translate(z.x,z.y),tt.rotate(z.rotation),tt.translate(z.width<0?z.width:0,z.height<0?z.height:0),tt.scale(Math.abs(I),Math.abs(V))):(tt.translate(z.x,z.y),tt.rotate(z.rotation),tt.scale(I,V));const X=tt.multiply(nt.invert());this._nodes.forEach(U=>{var $;const it=U.getParent().getAbsoluteTransform(),K=U.getTransform().copy();K.translate(U.offsetX(),U.offsetY());const ct=new e.Transform;ct.multiply(it.copy().invert()).multiply(X).multiply(it).multiply(K);const pt=ct.decompose();U.setAttrs(pt),($=U.getLayer())===null||$===void 0||$.batchDraw()}),this.rotation(e.Util._getRotation(z.rotation)),this._nodes.forEach(U=>{this._fire("transform",{evt:H,target:U}),U._fire("transform",{evt:H,target:U})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(z,H){this.findOne(z).setAttrs(H)}update(){var z;const H=this._getNodeRect();this.rotation(e.Util._getRotation(H.rotation));const G=H.width,Q=H.height,at=this.enabledAnchors(),Z=this.resizeEnabled(),nt=this.padding(),tt=this.anchorSize(),I=this.find("._anchor");I.forEach(X=>{X.setAttrs({width:tt,height:tt,offsetX:tt/2,offsetY:tt/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:tt/2+nt,offsetY:tt/2+nt,visible:Z&&at.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:G/2,y:0,offsetY:tt/2+nt,visible:Z&&at.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:G,y:0,offsetX:tt/2-nt,offsetY:tt/2+nt,visible:Z&&at.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:Q/2,offsetX:tt/2+nt,visible:Z&&at.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:G,y:Q/2,offsetX:tt/2-nt,visible:Z&&at.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:Q,offsetX:tt/2+nt,offsetY:tt/2-nt,visible:Z&&at.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:G/2,y:Q,offsetY:tt/2-nt,visible:Z&&at.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:G,y:Q,offsetX:tt/2-nt,offsetY:tt/2-nt,visible:Z&&at.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:G/2,y:-this.rotateAnchorOffset()*e.Util._sign(Q)-nt,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:G,height:Q,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const V=this.anchorStyleFunc();V&&I.forEach(X=>{V(X)}),(z=this.getLayer())===null||z===void 0||z.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const z=this.findOne("."+this._movingAnchorName);z&&z.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),r.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return n.Node.prototype.toObject.call(this)}clone(z){return n.Node.prototype.clone.call(this,z)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}f0.Transformer=P,P.isTransforming=()=>D>0;function B(k){return k instanceof Array||e.Util.warn("enabledAnchors value should be an array"),k instanceof Array&&k.forEach(function(z){E.indexOf(z)===-1&&e.Util.warn("Unknown anchor name: "+z+". Available names are: "+E.join(", "))}),k||[]}return P.prototype.className="Transformer",(0,c._registerNode)(P),t.Factory.addGetterSetter(P,"enabledAnchors",E,B),t.Factory.addGetterSetter(P,"flipEnabled",!0,(0,o.getBooleanValidator)()),t.Factory.addGetterSetter(P,"resizeEnabled",!0),t.Factory.addGetterSetter(P,"anchorSize",10,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(P,"rotateEnabled",!0),t.Factory.addGetterSetter(P,"rotateLineVisible",!0),t.Factory.addGetterSetter(P,"rotationSnaps",[]),t.Factory.addGetterSetter(P,"rotateAnchorOffset",50,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(P,"rotateAnchorCursor","crosshair"),t.Factory.addGetterSetter(P,"rotationSnapTolerance",5,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(P,"borderEnabled",!0),t.Factory.addGetterSetter(P,"anchorStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(P,"anchorStrokeWidth",1,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(P,"anchorFill","white"),t.Factory.addGetterSetter(P,"anchorCornerRadius",0,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(P,"borderStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(P,"borderStrokeWidth",1,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(P,"borderDash"),t.Factory.addGetterSetter(P,"keepRatio",!0),t.Factory.addGetterSetter(P,"shiftBehavior","default"),t.Factory.addGetterSetter(P,"centeredScaling",!1),t.Factory.addGetterSetter(P,"ignoreStroke",!1),t.Factory.addGetterSetter(P,"padding",0,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(P,"nodes"),t.Factory.addGetterSetter(P,"node"),t.Factory.addGetterSetter(P,"boundBoxFunc"),t.Factory.addGetterSetter(P,"anchorDragBoundFunc"),t.Factory.addGetterSetter(P,"anchorStyleFunc"),t.Factory.addGetterSetter(P,"shouldOverdrawWholeArea",!1),t.Factory.addGetterSetter(P,"useSingleNodeRotation",!0),t.Factory.backCompat(P,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),f0}var p0={},n9;function $0t(){if(n9)return p0;n9=1,Object.defineProperty(p0,"__esModule",{value:!0}),p0.Wedge=void 0;const e=Qe(),t=la(),n=He(),i=tn(),a=He();let r=class extends t.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.radius(),0,n.Konva.getAngle(this.angle()),this.clockwise()),o.lineTo(0,0),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius(o/2)}setHeight(o){this.radius(o/2)}};return p0.Wedge=r,r.prototype.className="Wedge",r.prototype._centroid=!0,r.prototype._attrsAffectingSize=["radius"],(0,a._registerNode)(r),e.Factory.addGetterSetter(r,"radius",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(r,"angle",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(r,"clockwise",!1),e.Factory.backCompat(r,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),p0}var m0={},i9;function Y0t(){if(i9)return m0;i9=1,Object.defineProperty(m0,"__esModule",{value:!0}),m0.Blur=void 0;const e=Qe(),t=Di(),n=tn();function i(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const a=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],r=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function s(c,d){const f=c.data,g=c.width,v=c.height;let y,b,w,E,C,A,_,M,D,P,B,k,z,H,G,Q,at,Z,nt,tt;const I=d+d+1,V=g-1,X=v-1,U=d+1,$=U*(U+1)/2,it=new i,K=a[d],ct=r[d];let pt=null,rt=it,J=null,lt=null;for(let St=1;St<I;St++)rt=rt.next=new i,St===U&&(pt=rt);rt.next=it,w=b=0;for(let St=0;St<v;St++){k=z=H=G=E=C=A=_=0,M=U*(Q=f[b]),D=U*(at=f[b+1]),P=U*(Z=f[b+2]),B=U*(nt=f[b+3]),E+=$*Q,C+=$*at,A+=$*Z,_+=$*nt,rt=it;for(let Tt=0;Tt<U;Tt++)rt.r=Q,rt.g=at,rt.b=Z,rt.a=nt,rt=rt.next;for(let Tt=1;Tt<U;Tt++)y=b+((V<Tt?V:Tt)<<2),E+=(rt.r=Q=f[y])*(tt=U-Tt),C+=(rt.g=at=f[y+1])*tt,A+=(rt.b=Z=f[y+2])*tt,_+=(rt.a=nt=f[y+3])*tt,k+=Q,z+=at,H+=Z,G+=nt,rt=rt.next;J=it,lt=pt;for(let Tt=0;Tt<g;Tt++)f[b+3]=nt=_*K>>ct,nt!==0?(nt=255/nt,f[b]=(E*K>>ct)*nt,f[b+1]=(C*K>>ct)*nt,f[b+2]=(A*K>>ct)*nt):f[b]=f[b+1]=f[b+2]=0,E-=M,C-=D,A-=P,_-=B,M-=J.r,D-=J.g,P-=J.b,B-=J.a,y=w+((y=Tt+d+1)<V?y:V)<<2,k+=J.r=f[y],z+=J.g=f[y+1],H+=J.b=f[y+2],G+=J.a=f[y+3],E+=k,C+=z,A+=H,_+=G,J=J.next,M+=Q=lt.r,D+=at=lt.g,P+=Z=lt.b,B+=nt=lt.a,k-=Q,z-=at,H-=Z,G-=nt,lt=lt.next,b+=4;w+=g}for(let St=0;St<g;St++){z=H=G=k=C=A=_=E=0,b=St<<2,M=U*(Q=f[b]),D=U*(at=f[b+1]),P=U*(Z=f[b+2]),B=U*(nt=f[b+3]),E+=$*Q,C+=$*at,A+=$*Z,_+=$*nt,rt=it;for(let Dt=0;Dt<U;Dt++)rt.r=Q,rt.g=at,rt.b=Z,rt.a=nt,rt=rt.next;let Tt=g;for(let Dt=1;Dt<=d;Dt++)b=Tt+St<<2,E+=(rt.r=Q=f[b])*(tt=U-Dt),C+=(rt.g=at=f[b+1])*tt,A+=(rt.b=Z=f[b+2])*tt,_+=(rt.a=nt=f[b+3])*tt,k+=Q,z+=at,H+=Z,G+=nt,rt=rt.next,Dt<X&&(Tt+=g);b=St,J=it,lt=pt;for(let Dt=0;Dt<v;Dt++)y=b<<2,f[y+3]=nt=_*K>>ct,nt>0?(nt=255/nt,f[y]=(E*K>>ct)*nt,f[y+1]=(C*K>>ct)*nt,f[y+2]=(A*K>>ct)*nt):f[y]=f[y+1]=f[y+2]=0,E-=M,C-=D,A-=P,_-=B,M-=J.r,D-=J.g,P-=J.b,B-=J.a,y=St+((y=Dt+U)<X?y:X)*g<<2,E+=k+=J.r=f[y],C+=z+=J.g=f[y+1],A+=H+=J.b=f[y+2],_+=G+=J.a=f[y+3],J=J.next,M+=Q=lt.r,D+=at=lt.g,P+=Z=lt.b,B+=nt=lt.a,k-=Q,z-=at,H-=Z,G-=nt,lt=lt.next,b+=g}}const o=function(d){const f=Math.round(this.blurRadius());f>0&&s(d,f)};return m0.Blur=o,e.Factory.addGetterSetter(t.Node,"blurRadius",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),m0}var g0={},a9;function K0t(){if(a9)return g0;a9=1,Object.defineProperty(g0,"__esModule",{value:!0}),g0.Brighten=void 0;const e=Qe(),t=Di(),n=tn(),i=function(a){const r=this.brightness()*255,s=a.data,o=s.length;for(let c=0;c<o;c+=4)s[c]+=r,s[c+1]+=r,s[c+2]+=r};return g0.Brighten=i,e.Factory.addGetterSetter(t.Node,"brightness",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),g0}var v0={},r9;function X0t(){if(r9)return v0;r9=1,Object.defineProperty(v0,"__esModule",{value:!0}),v0.Contrast=void 0;const e=Qe(),t=Di(),n=tn(),i=function(a){const r=Math.pow((this.contrast()+100)/100,2),s=a.data,o=s.length;let c=150,d=150,f=150;for(let g=0;g<o;g+=4)c=s[g],d=s[g+1],f=s[g+2],c/=255,c-=.5,c*=r,c+=.5,c*=255,d/=255,d-=.5,d*=r,d+=.5,d*=255,f/=255,f-=.5,f*=r,f+=.5,f*=255,c=c<0?0:c>255?255:c,d=d<0?0:d>255?255:d,f=f<0?0:f>255?255:f,s[g]=c,s[g+1]=d,s[g+2]=f};return v0.Contrast=i,e.Factory.addGetterSetter(t.Node,"contrast",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),v0}var y0={},s9;function W0t(){if(s9)return y0;s9=1,Object.defineProperty(y0,"__esModule",{value:!0}),y0.Emboss=void 0;const e=Qe(),t=Di(),n=wi(),i=tn(),a=function(r){const s=this.embossStrength()*10,o=this.embossWhiteLevel()*255,c=this.embossDirection(),d=this.embossBlend(),f=r.data,g=r.width,v=r.height,y=g*4;let b=0,w=0,E=v;switch(c){case"top-left":b=-1,w=-1;break;case"top":b=-1,w=0;break;case"top-right":b=-1,w=1;break;case"right":b=0,w=1;break;case"bottom-right":b=1,w=1;break;case"bottom":b=1,w=0;break;case"bottom-left":b=1,w=-1;break;case"left":b=0,w=-1;break;default:n.Util.error("Unknown emboss direction: "+c)}do{const C=(E-1)*y;let A=b;E+A<1&&(A=0),E+A>v&&(A=0);const _=(E-1+A)*g*4;let M=g;do{const D=C+(M-1)*4;let P=w;M+P<1&&(P=0),M+P>g&&(P=0);const B=_+(M-1+P)*4,k=f[D]-f[B],z=f[D+1]-f[B+1],H=f[D+2]-f[B+2];let G=k;const Q=G>0?G:-G,at=z>0?z:-z,Z=H>0?H:-H;if(at>Q&&(G=z),Z>Q&&(G=H),G*=s,d){const nt=f[D]+G,tt=f[D+1]+G,I=f[D+2]+G;f[D]=nt>255?255:nt<0?0:nt,f[D+1]=tt>255?255:tt<0?0:tt,f[D+2]=I>255?255:I<0?0:I}else{let nt=o-G;nt<0?nt=0:nt>255&&(nt=255),f[D]=f[D+1]=f[D+2]=nt}}while(--M)}while(--E)};return y0.Emboss=a,e.Factory.addGetterSetter(t.Node,"embossStrength",.5,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossWhiteLevel",.5,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossDirection","top-left",void 0,e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossBlend",!1,void 0,e.Factory.afterSetFilter),y0}var b0={},o9;function Q0t(){if(o9)return b0;o9=1,Object.defineProperty(b0,"__esModule",{value:!0}),b0.Enhance=void 0;const e=Qe(),t=Di(),n=tn();function i(r,s,o,c,d){const f=o-s,g=d-c;if(f===0)return c+g/2;if(g===0)return c;let v=(r-s)/f;return v=g*v+c,v}const a=function(r){const s=r.data,o=s.length;let c=s[0],d=c,f,g=s[1],v=g,y,b=s[2],w=b,E;const C=this.enhance();if(C===0)return;for(let k=0;k<o;k+=4)f=s[k+0],f<c?c=f:f>d&&(d=f),y=s[k+1],y<g?g=y:y>v&&(v=y),E=s[k+2],E<b?b=E:E>w&&(w=E);d===c&&(d=255,c=0),v===g&&(v=255,g=0),w===b&&(w=255,b=0);let A,_,M,D,P,B;if(C>0)A=d+C*(255-d),_=c-C*(c-0),M=v+C*(255-v),D=g-C*(g-0),P=w+C*(255-w),B=b-C*(b-0);else{const k=(d+c)*.5;A=d+C*(d-k),_=c+C*(c-k);const z=(v+g)*.5;M=v+C*(v-z),D=g+C*(g-z);const H=(w+b)*.5;P=w+C*(w-H),B=b+C*(b-H)}for(let k=0;k<o;k+=4)s[k+0]=i(s[k+0],c,d,_,A),s[k+1]=i(s[k+1],g,v,D,M),s[k+2]=i(s[k+2],b,w,B,P)};return b0.Enhance=a,e.Factory.addGetterSetter(t.Node,"enhance",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),b0}var x0={},l9;function Z0t(){if(l9)return x0;l9=1,Object.defineProperty(x0,"__esModule",{value:!0}),x0.Grayscale=void 0;const e=function(t){const n=t.data,i=n.length;for(let a=0;a<i;a+=4){const r=.34*n[a]+.5*n[a+1]+.16*n[a+2];n[a]=r,n[a+1]=r,n[a+2]=r}};return x0.Grayscale=e,x0}var S0={},c9;function J0t(){if(c9)return S0;c9=1,Object.defineProperty(S0,"__esModule",{value:!0}),S0.HSL=void 0;const e=Qe(),t=Di(),n=tn();e.Factory.addGetterSetter(t.Node,"hue",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"saturation",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"luminance",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter);const i=function(a){const r=a.data,s=r.length,o=1,c=Math.pow(2,this.saturation()),d=Math.abs(this.hue()+360)%360,f=this.luminance()*127,g=o*c*Math.cos(d*Math.PI/180),v=o*c*Math.sin(d*Math.PI/180),y=.299*o+.701*g+.167*v,b=.587*o-.587*g+.33*v,w=.114*o-.114*g-.497*v,E=.299*o-.299*g-.328*v,C=.587*o+.413*g+.035*v,A=.114*o-.114*g+.293*v,_=.299*o-.3*g+1.25*v,M=.587*o-.586*g-1.05*v,D=.114*o+.886*g-.2*v;let P,B,k,z;for(let H=0;H<s;H+=4)P=r[H+0],B=r[H+1],k=r[H+2],z=r[H+3],r[H+0]=y*P+b*B+w*k+f,r[H+1]=E*P+C*B+A*k+f,r[H+2]=_*P+M*B+D*k+f,r[H+3]=z};return S0.HSL=i,S0}var w0={},u9;function tvt(){if(u9)return w0;u9=1,Object.defineProperty(w0,"__esModule",{value:!0}),w0.HSV=void 0;const e=Qe(),t=Di(),n=tn(),i=function(a){const r=a.data,s=r.length,o=Math.pow(2,this.value()),c=Math.pow(2,this.saturation()),d=Math.abs(this.hue()+360)%360,f=o*c*Math.cos(d*Math.PI/180),g=o*c*Math.sin(d*Math.PI/180),v=.299*o+.701*f+.167*g,y=.587*o-.587*f+.33*g,b=.114*o-.114*f-.497*g,w=.299*o-.299*f-.328*g,E=.587*o+.413*f+.035*g,C=.114*o-.114*f+.293*g,A=.299*o-.3*f+1.25*g,_=.587*o-.586*f-1.05*g,M=.114*o+.886*f-.2*g;for(let D=0;D<s;D+=4){const P=r[D+0],B=r[D+1],k=r[D+2],z=r[D+3];r[D+0]=v*P+y*B+b*k,r[D+1]=w*P+E*B+C*k,r[D+2]=A*P+_*B+M*k,r[D+3]=z}};return w0.HSV=i,e.Factory.addGetterSetter(t.Node,"hue",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"saturation",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"value",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),w0}var _0={},d9;function evt(){if(d9)return _0;d9=1,Object.defineProperty(_0,"__esModule",{value:!0}),_0.Invert=void 0;const e=function(t){const n=t.data,i=n.length;for(let a=0;a<i;a+=4)n[a]=255-n[a],n[a+1]=255-n[a+1],n[a+2]=255-n[a+2]};return _0.Invert=e,_0}var E0={},h9;function nvt(){if(h9)return E0;h9=1,Object.defineProperty(E0,"__esModule",{value:!0}),E0.Kaleidoscope=void 0;const e=Qe(),t=Di(),n=wi(),i=tn(),a=function(o,c,d){const f=o.data,g=c.data,v=o.width,y=o.height,b=d.polarCenterX||v/2,w=d.polarCenterY||y/2;let E=Math.sqrt(b*b+w*w),C=v-b,A=y-w;const _=Math.sqrt(C*C+A*A);E=_>E?_:E;const M=y,D=v,P=360/D*Math.PI/180;for(let B=0;B<D;B+=1){const k=Math.sin(B*P),z=Math.cos(B*P);for(let H=0;H<M;H+=1){C=Math.floor(b+E*H/M*z),A=Math.floor(w+E*H/M*k);let G=(A*v+C)*4;const Q=f[G+0],at=f[G+1],Z=f[G+2],nt=f[G+3];G=(B+H*v)*4,g[G+0]=Q,g[G+1]=at,g[G+2]=Z,g[G+3]=nt}}},r=function(o,c,d){const f=o.data,g=c.data,v=o.width,y=o.height,b=d.polarCenterX||v/2,w=d.polarCenterY||y/2;let E=Math.sqrt(b*b+w*w),C=v-b,A=y-w;const _=Math.sqrt(C*C+A*A);E=_>E?_:E;const M=y,D=v,P=0;let B,k;for(C=0;C<v;C+=1)for(A=0;A<y;A+=1){const z=C-b,H=A-w,G=Math.sqrt(z*z+H*H)*M/E;let Q=(Math.atan2(H,z)*180/Math.PI+360+P)%360;Q=Q*D/360,B=Math.floor(Q),k=Math.floor(G);let at=(k*v+B)*4;const Z=f[at+0],nt=f[at+1],tt=f[at+2],I=f[at+3];at=(A*v+C)*4,g[at+0]=Z,g[at+1]=nt,g[at+2]=tt,g[at+3]=I}},s=function(o){const c=o.width,d=o.height;let f,g,v,y,b,w,E,C,A,_,M=Math.round(this.kaleidoscopePower());const D=Math.round(this.kaleidoscopeAngle()),P=Math.floor(c*(D%360)/360);if(M<1)return;const B=n.Util.createCanvasElement();B.width=c,B.height=d;const k=B.getContext("2d").getImageData(0,0,c,d);n.Util.releaseCanvas(B),a(o,k,{polarCenterX:c/2,polarCenterY:d/2});let z=c/Math.pow(2,M);for(;z<=8;)z=z*2,M-=1;z=Math.ceil(z);let H=z,G=0,Q=H,at=1;for(P+z>c&&(G=H,Q=0,at=-1),g=0;g<d;g+=1)for(f=G;f!==Q;f+=at)v=Math.round(f+P)%c,A=(c*g+v)*4,b=k.data[A+0],w=k.data[A+1],E=k.data[A+2],C=k.data[A+3],_=(c*g+f)*4,k.data[_+0]=b,k.data[_+1]=w,k.data[_+2]=E,k.data[_+3]=C;for(g=0;g<d;g+=1)for(H=Math.floor(z),y=0;y<M;y+=1){for(f=0;f<H+1;f+=1)A=(c*g+f)*4,b=k.data[A+0],w=k.data[A+1],E=k.data[A+2],C=k.data[A+3],_=(c*g+H*2-f-1)*4,k.data[_+0]=b,k.data[_+1]=w,k.data[_+2]=E,k.data[_+3]=C;H*=2}r(k,o,{})};return E0.Kaleidoscope=s,e.Factory.addGetterSetter(t.Node,"kaleidoscopePower",2,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"kaleidoscopeAngle",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),E0}var A0={},f9;function ivt(){if(f9)return A0;f9=1,Object.defineProperty(A0,"__esModule",{value:!0}),A0.Mask=void 0;const e=Qe(),t=Di(),n=tn();function i(v,y,b){let w=(b*v.width+y)*4;const E=[];return E.push(v.data[w++],v.data[w++],v.data[w++],v.data[w++]),E}function a(v,y){return Math.sqrt(Math.pow(v[0]-y[0],2)+Math.pow(v[1]-y[1],2)+Math.pow(v[2]-y[2],2))}function r(v){const y=[0,0,0];for(let b=0;b<v.length;b++)y[0]+=v[b][0],y[1]+=v[b][1],y[2]+=v[b][2];return y[0]/=v.length,y[1]/=v.length,y[2]/=v.length,y}function s(v,y){const b=i(v,0,0),w=i(v,v.width-1,0),E=i(v,0,v.height-1),C=i(v,v.width-1,v.height-1),A=y||10;if(a(b,w)<A&&a(w,C)<A&&a(C,E)<A&&a(E,b)<A){const _=r([w,b,C,E]),M=[];for(let D=0;D<v.width*v.height;D++){const P=a(_,[v.data[D*4],v.data[D*4+1],v.data[D*4+2]]);M[D]=P<A?0:255}return M}}function o(v,y){for(let b=0;b<v.width*v.height;b++)v.data[4*b+3]=y[b]}function c(v,y,b){const w=[1,1,1,1,0,1,1,1,1],E=Math.round(Math.sqrt(w.length)),C=Math.floor(E/2),A=[];for(let _=0;_<b;_++)for(let M=0;M<y;M++){const D=_*y+M;let P=0;for(let B=0;B<E;B++)for(let k=0;k<E;k++){const z=_+B-C,H=M+k-C;if(z>=0&&z<b&&H>=0&&H<y){const G=z*y+H,Q=w[B*E+k];P+=v[G]*Q}}A[D]=P===255*8?255:0}return A}function d(v,y,b){const w=[1,1,1,1,1,1,1,1,1],E=Math.round(Math.sqrt(w.length)),C=Math.floor(E/2),A=[];for(let _=0;_<b;_++)for(let M=0;M<y;M++){const D=_*y+M;let P=0;for(let B=0;B<E;B++)for(let k=0;k<E;k++){const z=_+B-C,H=M+k-C;if(z>=0&&z<b&&H>=0&&H<y){const G=z*y+H,Q=w[B*E+k];P+=v[G]*Q}}A[D]=P>=255*4?255:0}return A}function f(v,y,b){const w=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],E=Math.round(Math.sqrt(w.length)),C=Math.floor(E/2),A=[];for(let _=0;_<b;_++)for(let M=0;M<y;M++){const D=_*y+M;let P=0;for(let B=0;B<E;B++)for(let k=0;k<E;k++){const z=_+B-C,H=M+k-C;if(z>=0&&z<b&&H>=0&&H<y){const G=z*y+H,Q=w[B*E+k];P+=v[G]*Q}}A[D]=P}return A}const g=function(v){const y=this.threshold();let b=s(v,y);return b&&(b=c(b,v.width,v.height),b=d(b,v.width,v.height),b=f(b,v.width,v.height),o(v,b)),v};return A0.Mask=g,e.Factory.addGetterSetter(t.Node,"threshold",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),A0}var C0={},p9;function avt(){if(p9)return C0;p9=1,Object.defineProperty(C0,"__esModule",{value:!0}),C0.Noise=void 0;const e=Qe(),t=Di(),n=tn(),i=function(a){const r=this.noise()*255,s=a.data,o=s.length,c=r/2;for(let d=0;d<o;d+=4)s[d+0]+=c-2*c*Math.random(),s[d+1]+=c-2*c*Math.random(),s[d+2]+=c-2*c*Math.random()};return C0.Noise=i,e.Factory.addGetterSetter(t.Node,"noise",.2,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),C0}var T0={},m9;function rvt(){if(m9)return T0;m9=1,Object.defineProperty(T0,"__esModule",{value:!0}),T0.Pixelate=void 0;const e=Qe(),t=wi(),n=Di(),i=tn(),a=function(r){let s=Math.ceil(this.pixelSize()),o=r.width,c=r.height,d=Math.ceil(o/s),f=Math.ceil(c/s),g=r.data;if(s<=0){t.Util.error("pixelSize value can not be <= 0");return}for(let v=0;v<d;v+=1)for(let y=0;y<f;y+=1){let b=0,w=0,E=0,C=0;const A=v*s,_=A+s,M=y*s,D=M+s;let P=0;for(let B=A;B<_;B+=1)if(!(B>=o))for(let k=M;k<D;k+=1){if(k>=c)continue;const z=(o*k+B)*4;b+=g[z+0],w+=g[z+1],E+=g[z+2],C+=g[z+3],P+=1}b=b/P,w=w/P,E=E/P,C=C/P;for(let B=A;B<_;B+=1)if(!(B>=o))for(let k=M;k<D;k+=1){if(k>=c)continue;const z=(o*k+B)*4;g[z+0]=b,g[z+1]=w,g[z+2]=E,g[z+3]=C}}};return T0.Pixelate=a,e.Factory.addGetterSetter(n.Node,"pixelSize",8,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),T0}var R0={},g9;function svt(){if(g9)return R0;g9=1,Object.defineProperty(R0,"__esModule",{value:!0}),R0.Posterize=void 0;const e=Qe(),t=Di(),n=tn(),i=function(a){const r=Math.round(this.levels()*254)+1,s=a.data,o=s.length,c=255/r;for(let d=0;d<o;d+=1)s[d]=Math.floor(s[d]/c)*c};return R0.Posterize=i,e.Factory.addGetterSetter(t.Node,"levels",.5,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),R0}var M0={},v9;function ovt(){if(v9)return M0;v9=1,Object.defineProperty(M0,"__esModule",{value:!0}),M0.RGB=void 0;const e=Qe(),t=Di(),n=tn(),i=function(a){const r=a.data,s=r.length,o=this.red(),c=this.green(),d=this.blue();for(let f=0;f<s;f+=4){const g=(.34*r[f]+.5*r[f+1]+.16*r[f+2])/255;r[f]=g*o,r[f+1]=g*c,r[f+2]=g*d,r[f+3]=r[f+3]}};return M0.RGB=i,e.Factory.addGetterSetter(t.Node,"red",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),e.Factory.addGetterSetter(t.Node,"green",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),e.Factory.addGetterSetter(t.Node,"blue",0,n.RGBComponent,e.Factory.afterSetFilter),M0}var D0={},y9;function lvt(){if(y9)return D0;y9=1,Object.defineProperty(D0,"__esModule",{value:!0}),D0.RGBA=void 0;const e=Qe(),t=Di(),n=tn(),i=function(a){const r=a.data,s=r.length,o=this.red(),c=this.green(),d=this.blue(),f=this.alpha();for(let g=0;g<s;g+=4){const v=1-f;r[g]=o*f+r[g]*v,r[g+1]=c*f+r[g+1]*v,r[g+2]=d*f+r[g+2]*v}};return D0.RGBA=i,e.Factory.addGetterSetter(t.Node,"red",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),e.Factory.addGetterSetter(t.Node,"green",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),e.Factory.addGetterSetter(t.Node,"blue",0,n.RGBComponent,e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"alpha",1,function(a){return this._filterUpToDate=!1,a>1?1:a<0?0:a}),D0}var O0={},b9;function cvt(){if(b9)return O0;b9=1,Object.defineProperty(O0,"__esModule",{value:!0}),O0.Sepia=void 0;const e=function(t){const n=t.data,i=n.length;for(let a=0;a<i;a+=4){const r=n[a+0],s=n[a+1],o=n[a+2];n[a+0]=Math.min(255,r*.393+s*.769+o*.189),n[a+1]=Math.min(255,r*.349+s*.686+o*.168),n[a+2]=Math.min(255,r*.272+s*.534+o*.131)}};return O0.Sepia=e,O0}var N0={},x9;function uvt(){if(x9)return N0;x9=1,Object.defineProperty(N0,"__esModule",{value:!0}),N0.Solarize=void 0;const e=function(t){const n=t.data,i=t.width,a=t.height,r=i*4;let s=a;do{const o=(s-1)*r;let c=i;do{const d=o+(c-1)*4;let f=n[d],g=n[d+1],v=n[d+2];f>127&&(f=255-f),g>127&&(g=255-g),v>127&&(v=255-v),n[d]=f,n[d+1]=g,n[d+2]=v}while(--c)}while(--s)};return N0.Solarize=e,N0}var P0={},S9;function dvt(){if(S9)return P0;S9=1,Object.defineProperty(P0,"__esModule",{value:!0}),P0.Threshold=void 0;const e=Qe(),t=Di(),n=tn(),i=function(a){const r=this.threshold()*255,s=a.data,o=s.length;for(let c=0;c<o;c+=1)s[c]=s[c]<r?0:255};return P0.Threshold=i,e.Factory.addGetterSetter(t.Node,"threshold",.5,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),P0}var w9;function hvt(){if(w9)return Yg;w9=1,Object.defineProperty(Yg,"__esModule",{value:!0}),Yg.Konva=void 0;const e=KC(),t=P0t(),n=L0t(),i=j0t(),a=F0t(),r=B0t(),s=I0t(),o=OI(),c=H5(),d=NI(),f=z0t(),g=U0t(),v=H0t(),y=G0t(),b=PI(),w=q0t(),E=V0t(),C=$0t(),A=Y0t(),_=K0t(),M=X0t(),D=W0t(),P=Q0t(),B=Z0t(),k=J0t(),z=tvt(),H=evt(),G=nvt(),Q=ivt(),at=avt(),Z=rvt(),nt=svt(),tt=ovt(),I=lvt(),V=cvt(),X=uvt(),U=dvt();return Yg.Konva=e.Konva.Util._assign(e.Konva,{Arc:t.Arc,Arrow:n.Arrow,Circle:i.Circle,Ellipse:a.Ellipse,Image:r.Image,Label:s.Label,Tag:s.Tag,Line:o.Line,Path:c.Path,Rect:d.Rect,RegularPolygon:f.RegularPolygon,Ring:g.Ring,Sprite:v.Sprite,Star:y.Star,Text:b.Text,TextPath:w.TextPath,Transformer:E.Transformer,Wedge:C.Wedge,Filters:{Blur:A.Blur,Brighten:_.Brighten,Contrast:M.Contrast,Emboss:D.Emboss,Enhance:P.Enhance,Grayscale:B.Grayscale,HSL:k.HSL,HSV:z.HSV,Invert:H.Invert,Kaleidoscope:G.Kaleidoscope,Mask:Q.Mask,Noise:at.Noise,Pixelate:Z.Pixelate,Posterize:nt.Posterize,RGB:tt.RGB,RGBA:I.RGBA,Sepia:V.Sepia,Solarize:X.Solarize,Threshold:U.Threshold}}),Yg}var fvt=C1.exports,_9;function pvt(){if(_9)return C1.exports;_9=1,Object.defineProperty(fvt,"__esModule",{value:!0});const e=hvt();return C1.exports=e.Konva,C1.exports}pvt();var l1={exports:{}},E9;function mvt(){return E9||(E9=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;var n=KC();Object.defineProperty(t,"Konva",{enumerable:!0,get:function(){return n.Konva}});const i=KC();e.exports=i.Konva}(l1,l1.exports)),l1.exports}var gvt=mvt();const hx=Qr(gvt);var wA={exports:{}},_A={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A9;function vvt(){return A9||(A9=1,function(e){e.exports=function(t){function n(h,p,S,R){return new N2(h,p,S,R)}function i(){}function a(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)p+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(h){var p=h,S=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,(p.flags&4098)!==0&&(S=p.return),h=p.return;while(h)}return p.tag===3?S:null}function s(h){if(r(h)!==h)throw Error(a(188))}function o(h){var p=h.alternate;if(!p){if(p=r(h),p===null)throw Error(a(188));return p!==h?null:h}for(var S=h,R=p;;){var N=S.return;if(N===null)break;var F=N.alternate;if(F===null){if(R=N.return,R!==null){S=R;continue}break}if(N.child===F.child){for(F=N.child;F;){if(F===S)return s(N),h;if(F===R)return s(N),p;F=F.sibling}throw Error(a(188))}if(S.return!==R.return)S=N,R=F;else{for(var et=!1,ot=N.child;ot;){if(ot===S){et=!0,S=N,R=F;break}if(ot===R){et=!0,R=N,S=F;break}ot=ot.sibling}if(!et){for(ot=F.child;ot;){if(ot===S){et=!0,S=F,R=N;break}if(ot===R){et=!0,R=F,S=N;break}ot=ot.sibling}if(!et)throw Error(a(189))}}if(S.alternate!==R)throw Error(a(190))}if(S.tag!==3)throw Error(a(188));return S.stateNode.current===S?h:p}function c(h){var p=h.tag;if(p===5||p===26||p===27||p===6)return h;for(h=h.child;h!==null;){if(p=c(h),p!==null)return p;h=h.sibling}return null}function d(h){var p=h.tag;if(p===5||p===26||p===27||p===6)return h;for(h=h.child;h!==null;){if(h.tag!==4&&(p=d(h),p!==null))return p;h=h.sibling}return null}function f(h){return h===null||typeof h!="object"?null:(h=bf&&h[bf]||h["@@iterator"],typeof h=="function"?h:null)}function g(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===gd?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case Jl:return"Fragment";case yf:return"Profiler";case hd:return"StrictMode";case pd:return"Suspense";case md:return"SuspenseList";case tc:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case Fo:return"Portal";case Ks:return(h.displayName||"Context")+".Provider";case Hm:return(h._context.displayName||"Context")+".Consumer";case cs:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case us:return p=h.displayName||null,p!==null?p:g(h.type)||"Memo";case da:p=h._payload,h=h._init;try{return g(h(p))}catch{}}return null}function v(h){return{current:h}}function y(h){0>to||(h.current=Js[to],Js[to]=null,to--)}function b(h,p){to++,Js[to]=h.current,h.current=p}function w(h){return h>>>=0,h===0?32:31-(hb(h)/Rf|0)|0}function E(h){var p=h&42;if(p!==0)return p;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function C(h,p,S){var R=h.pendingLanes;if(R===0)return 0;var N=0,F=h.suspendedLanes,et=h.pingedLanes;h=h.warmLanes;var ot=R&134217727;return ot!==0?(R=ot&~F,R!==0?N=E(R):(et&=ot,et!==0?N=E(et):S||(S=ot&~h,S!==0&&(N=E(S))))):(ot=R&~F,ot!==0?N=E(ot):et!==0?N=E(et):S||(S=R&~h,S!==0&&(N=E(S)))),N===0?0:p!==0&&p!==N&&(p&F)===0&&(F=N&-N,S=p&-p,F>=S||F===32&&(S&4194048)!==0)?p:N}function A(h,p){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&p)===0}function _(h,p){switch(h){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M(){var h=Rd;return Rd<<=1,(Rd&4194048)===0&&(Rd=256),h}function D(){var h=eu;return eu<<=1,(eu&62914560)===0&&(eu=4194304),h}function P(h){for(var p=[],S=0;31>S;S++)p.push(h);return p}function B(h,p){h.pendingLanes|=p,p!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function k(h,p,S,R,N,F){var et=h.pendingLanes;h.pendingLanes=S,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=S,h.entangledLanes&=S,h.errorRecoveryDisabledLanes&=S,h.shellSuspendCounter=0;var ot=h.entanglements,ft=h.expirationTimes,Rt=h.hiddenUpdates;for(S=et&~S;0<S;){var Ft=31-Na(S),Ut=1<<Ft;ot[Ft]=0,ft[Ft]=-1;var Gt=Rt[Ft];if(Gt!==null)for(Rt[Ft]=null,Ft=0;Ft<Gt.length;Ft++){var Me=Gt[Ft];Me!==null&&(Me.lane&=-536870913)}S&=~Ut}R!==0&&z(h,R,0),F!==0&&N===0&&h.tag!==0&&(h.suspendedLanes|=F&~(et&~p))}function z(h,p,S){h.pendingLanes|=p,h.suspendedLanes&=~p;var R=31-Na(p);h.entangledLanes|=p,h.entanglements[R]=h.entanglements[R]|1073741824|S&4194090}function H(h,p){var S=h.entangledLanes|=p;for(h=h.entanglements;S;){var R=31-Na(S),N=1<<R;N&p|h[R]&p&&(h[R]|=p),S&=~N}}function G(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function Q(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function at(h){if(typeof gb=="function"&&vb(h),fa&&typeof fa.setStrictMode=="function")try{fa.setStrictMode(Ho,h)}catch{}}function Z(h){if(Of===void 0)try{throw Error()}catch(S){var p=S.stack.trim().match(/\n( *(at )?)/);Of=p&&p[1]||"",pg=-1<S.stack.indexOf(`
    at`)?" (<anonymous>)":-1<S.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Of+h+pg}function nt(h,p){if(!h||Nf)return"";Nf=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var R={DetermineComponentFrameRoot:function(){try{if(p){var Ut=function(){throw Error()};if(Object.defineProperty(Ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ut,[])}catch(Me){var Gt=Me}Reflect.construct(h,[],Ut)}else{try{Ut.call()}catch(Me){Gt=Me}h.call(Ut.prototype)}}else{try{throw Error()}catch(Me){Gt=Me}(Ut=h())&&typeof Ut.catch=="function"&&Ut.catch(function(){})}}catch(Me){if(Me&&Gt&&typeof Me.stack=="string")return[Me.stack,Gt.stack]}return[null,null]}};R.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(R.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(R.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=R.DetermineComponentFrameRoot(),et=F[0],ot=F[1];if(et&&ot){var ft=et.split(`
`),Rt=ot.split(`
`);for(N=R=0;R<ft.length&&!ft[R].includes("DetermineComponentFrameRoot");)R++;for(;N<Rt.length&&!Rt[N].includes("DetermineComponentFrameRoot");)N++;if(R===ft.length||N===Rt.length)for(R=ft.length-1,N=Rt.length-1;1<=R&&0<=N&&ft[R]!==Rt[N];)N--;for(;1<=R&&0<=N;R--,N--)if(ft[R]!==Rt[N]){if(R!==1||N!==1)do if(R--,N--,0>N||ft[R]!==Rt[N]){var Ft=`
`+ft[R].replace(" at new "," at ");return h.displayName&&Ft.includes("<anonymous>")&&(Ft=Ft.replace("<anonymous>",h.displayName)),Ft}while(1<=R&&0<=N);break}}}finally{Nf=!1,Error.prepareStackTrace=S}return(S=h?h.displayName||h.name:"")?Z(S):""}function tt(h){switch(h.tag){case 26:case 27:case 5:return Z(h.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 15:return nt(h.type,!1);case 11:return nt(h.type.render,!1);case 1:return nt(h.type,!0);case 31:return Z("Activity");default:return""}}function I(h){try{var p="";do p+=tt(h),h=h.return;while(h);return p}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}function V(h,p){if(typeof h=="object"&&h!==null){var S=Pf.get(h);return S!==void 0?S:(p={value:h,source:p,stack:I(p)},Pf.set(h,p),p)}return{value:h,source:p,stack:I(p)}}function X(h,p){Go[qo++]=nu,Go[qo++]=Dd,Dd=h,nu=p}function U(h,p,S){pa[Pa++]=Fr,pa[Pa++]=ps,pa[Pa++]=Vo,Vo=h;var R=Fr;h=ps;var N=32-Na(R)-1;R&=~(1<<N),S+=1;var F=32-Na(p)+N;if(30<F){var et=N-N%5;F=(R&(1<<et)-1).toString(32),R>>=et,N-=et,Fr=1<<32-Na(p)+N|S<<N|R,ps=F+h}else Fr=1<<F|S<<N|R,ps=h}function $(h){h.return!==null&&(X(h,1),U(h,1,0))}function it(h){for(;h===Dd;)Dd=Go[--qo],Go[qo]=null,nu=Go[--qo],Go[qo]=null;for(;h===Vo;)Vo=pa[--Pa],pa[Pa]=null,ps=pa[--Pa],pa[Pa]=null,Fr=pa[--Pa],pa[Pa]=null}function K(h,p){b($o,p),b(ac,h),b(Gn,null),h=qm(p),y(Gn),b(Gn,h)}function ct(){y(Gn),y(ac),y($o)}function pt(h){h.memoizedState!==null&&b(Od,h);var p=Gn.current,S=Vm(p,h.type);p!==S&&(b(ac,h),b(Gn,S))}function rt(h){ac.current===h&&(y(Gn),y(ac)),Od.current===h&&(y(Od),Ws?hs._currentValue=Oa:hs._currentValue2=Oa)}function J(h){var p=Error(a(418,""));throw zt(V(p,h)),mg}function lt(h,p){if(!Ma)throw Error(a(175));ob(h.stateNode,h.type,h.memoizedProps,p,h)||J(h)}function St(h){for(Qn=h.return;Qn;)switch(Qn.tag){case 5:case 13:hn=!1;return;case 27:case 3:hn=!0;return;default:Qn=Qn.return}}function Tt(h){if(!Ma||h!==Qn)return!1;if(!Ze)return St(h),Ze=!0,!1;var p=h.tag;if(Ue?p!==3&&p!==27&&(p!==5||lg(h.type)&&!Xs(h.type,h.memoizedProps))&&vi&&J(h):p!==3&&(p!==5||lg(h.type)&&!Xs(h.type,h.memoizedProps))&&vi&&J(h),St(h),p===13){if(!Ma)throw Error(a(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));vi=Af(h)}else vi=Ue&&p===27?rg(h.type,vi):Qn?nb(h.stateNode):null;return!0}function Dt(){Ma&&(vi=Qn=null,Ze=!1)}function kt(){var h=Br;return h!==null&&(aa===null?aa=h:aa.push.apply(aa,h),Br=null),h}function zt(h){Br===null?Br=[h]:Br.push(h)}function Jt(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}function Pt(h,p,S){Ws?(b(Nd,p._currentValue),p._currentValue=S):(b(Nd,p._currentValue2),p._currentValue2=S)}function re(h){var p=Nd.current;Ws?h._currentValue=p:h._currentValue2=p,y(Nd)}function Bt(h,p,S){for(;h!==null;){var R=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,R!==null&&(R.childLanes|=p)):R!==null&&(R.childLanes&p)!==p&&(R.childLanes|=p),h===S)break;h=h.return}}function me(h,p,S,R){var N=h.child;for(N!==null&&(N.return=h);N!==null;){var F=N.dependencies;if(F!==null){var et=N.child;F=F.firstContext;t:for(;F!==null;){var ot=F;F=N;for(var ft=0;ft<p.length;ft++)if(ot.context===p[ft]){F.lanes|=S,ot=F.alternate,ot!==null&&(ot.lanes|=S),Bt(F.return,S,h),R||(et=null);break t}F=ot.next}}else if(N.tag===18){if(et=N.return,et===null)throw Error(a(341));et.lanes|=S,F=et.alternate,F!==null&&(F.lanes|=S),Bt(et,S,h),et=null}else et=N.child;if(et!==null)et.return=N;else for(et=N;et!==null;){if(et===h){et=null;break}if(N=et.sibling,N!==null){N.return=et.return,et=N;break}et=et.return}N=et}}function Ye(h,p,S,R){h=null;for(var N=p,F=!1;N!==null;){if(!F){if((N.flags&524288)!==0)F=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var et=N.alternate;if(et===null)throw Error(a(387));if(et=et.memoizedProps,et!==null){var ot=N.type;Ka(N.pendingProps.value,et.value)||(h!==null?h.push(ot):h=[ot])}}else if(N===Od.current){if(et=N.alternate,et===null)throw Error(a(387));et.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(h!==null?h.push(hs):h=[hs])}N=N.return}h!==null&&me(p,h,S,R),p.flags|=262144}function le(h){for(h=h.firstContext;h!==null;){var p=h.context;if(!Ka(Ws?p._currentValue:p._currentValue2,h.memoizedValue))return!0;h=h.next}return!1}function pn(h){Ir=h,ea=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function Qt(h){return Nt(Ir,h)}function Ee(h,p){return Ir===null&&pn(h),Nt(h,p)}function Nt(h,p){var S=Ws?p._currentValue:p._currentValue2;if(p={context:p,memoizedValue:S,next:null},ea===null){if(h===null)throw Error(a(308));ea=p,h.dependencies={lanes:0,firstContext:p},h.flags|=524288}else ea=ea.next=p;return S}function Ht(){return{controller:new yb,data:new Map,refCount:0}}function te(h){h.refCount--,h.refCount===0&&bb(Pd,function(){h.controller.abort()})}function Vt(h){h!==Yo&&h.next===null&&(Yo===null?kd=Yo=h:Yo=Yo.next=h),iu=!0,kf||(kf=!0,qe())}function ee(h,p){if(!Ld&&iu){Ld=!0;do for(var S=!1,R=kd;R!==null;){if(h!==0){var N=R.pendingLanes;if(N===0)var F=0;else{var et=R.suspendedLanes,ot=R.pingedLanes;F=(1<<31-Na(42|h)+1)-1,F&=N&~(et&~ot),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(S=!0,mn(R,F))}else F=je,F=C(R,R===rn?F:0,R.cancelPendingCommit!==null||R.timeoutHandle!==pr),(F&3)===0||A(R,F)||(S=!0,mn(R,F));R=R.next}while(S);Ld=!1}}function Se(){Ge()}function Ge(){iu=kf=!1;var h=0;eo!==0&&(Ym()&&(h=eo),eo=0);for(var p=Tn(),S=null,R=kd;R!==null;){var N=R.next,F=_n(R,p);F===0?(R.next=null,S===null?kd=N:S.next=N,N===null&&(Yo=S)):(S=R,(h!==0||(F&3)!==0)&&(iu=!0)),R=N}ee(h)}function _n(h,p){for(var S=h.suspendedLanes,R=h.pingedLanes,N=h.expirationTimes,F=h.pendingLanes&-62914561;0<F;){var et=31-Na(F),ot=1<<et,ft=N[et];ft===-1?((ot&S)===0||(ot&R)!==0)&&(N[et]=_(ot,p)):ft<=p&&(h.expiredLanes|=ot),F&=~ot}if(p=rn,S=je,S=C(h,h===p?S:0,h.cancelPendingCommit!==null||h.timeoutHandle!==pr),R=h.callbackNode,S===0||h===p&&(bn===2||bn===9)||h.cancelPendingCommit!==null)return R!==null&&R!==null&&Mf(R),h.callbackNode=null,h.callbackPriority=0;if((S&3)===0||A(h,S)){if(p=S&-S,p===h.callbackPriority)return p;switch(R!==null&&Mf(R),Q(S)){case 2:case 8:S=pb;break;case 32:S=Df;break;case 268435456:S=mb;break;default:S=Df}return R=$n.bind(null,h),S=Md(S,R),h.callbackPriority=p,h.callbackNode=S,p}return R!==null&&R!==null&&Mf(R),h.callbackPriority=2,h.callbackNode=null,2}function $n(h,p){if(Ei!==0&&Ei!==5)return h.callbackNode=null,h.callbackPriority=0,null;var S=h.callbackNode;if(fr()&&h.callbackNode!==S)return null;var R=je;return R=C(h,h===rn?R:0,h.cancelPendingCommit!==null||h.timeoutHandle!==pr),R===0?null:(ud(h,R,p),_n(h,Tn()),h.callbackNode!=null&&h.callbackNode===S?$n.bind(null,h):null)}function mn(h,p){if(fr())return null;ud(h,p,!0)}function qe(){Wm?jy(function(){(ce&6)!==0?Md(Li,Se):Ge()}):Md(Li,Se)}function Be(){return eo===0&&(eo=M()),eo}function Ui(h,p){if(au===null){var S=au=[];zr=0,jn=Be(),Ko={status:"pending",value:void 0,then:function(R){S.push(R)}}}return zr++,p.then(Oi,Oi),p}function Oi(){if(--zr===0&&au!==null){Ko!==null&&(Ko.status="fulfilled");var h=au;au=null,jn=0,Ko=null;for(var p=0;p<h.length;p++)(0,h[p])()}}function jt(h,p){var S=[],R={status:"pending",value:null,reason:null,then:function(N){S.push(N)}};return h.then(function(){R.status="fulfilled",R.value=p;for(var N=0;N<S.length;N++)(0,S[N])(p)},function(N){for(R.status="rejected",R.reason=N,N=0;N<S.length;N++)(0,S[N])(void 0)}),R}function we(){var h=Xn.current;return h!==null?h:rn.pooledCache}function un(h,p){p===null?b(Xn,Xn.current):b(Xn,p.pool)}function Hn(){var h=we();return h===null?null:{parent:Ws?yn._currentValue:yn._currentValue2,pool:h}}function fi(h,p){if(Ka(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var S=Object.keys(h),R=Object.keys(p);if(S.length!==R.length)return!1;for(R=0;R<S.length;R++){var N=S[R];if(!B2.call(p,N)||!Ka(h[N],p[N]))return!1}return!0}function Or(h){return h=h.status,h==="fulfilled"||h==="rejected"}function pi(){}function An(h,p,S){switch(S=h[S],S===void 0?h.push(p):S!==p&&(p.then(pi,pi),p=S),p.status){case"fulfilled":return p.value;case"rejected":throw h=p.reason,Wt(h),h;default:if(typeof p.status=="string")p.then(pi,pi);else{if(h=rn,h!==null&&100<h.shellSuspendCounter)throw Error(a(482));h=p,h.status="pending",h.then(function(R){if(p.status==="pending"){var N=p;N.status="fulfilled",N.value=R}},function(R){if(p.status==="pending"){var N=p;N.status="rejected",N.reason=R}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw h=p.reason,Wt(h),h}throw ka=p,ru}}function Yn(){if(ka===null)throw Error(a(459));var h=ka;return ka=null,h}function Wt(h){if(h===ru||h===Nn)throw Error(a(483))}function ge(){for(var h=rc,p=vg=rc=0;p<h;){var S=Xa[p];Xa[p++]=null;var R=Xa[p];Xa[p++]=null;var N=Xa[p];Xa[p++]=null;var F=Xa[p];if(Xa[p++]=null,R!==null&&N!==null){var et=R.pending;et===null?N.next=N:(N.next=et.next,et.next=N),R.pending=N}F!==0&&qt(S,N,F)}}function De(h,p,S,R){Xa[rc++]=h,Xa[rc++]=p,Xa[rc++]=S,Xa[rc++]=R,vg|=R,h.lanes|=R,h=h.alternate,h!==null&&(h.lanes|=R)}function Ie(h,p,S,R){return De(h,p,S,R),ae(h)}function Mt(h,p){return De(h,null,null,p),ae(h)}function qt(h,p,S){h.lanes|=S;var R=h.alternate;R!==null&&(R.lanes|=S);for(var N=!1,F=h.return;F!==null;)F.childLanes|=S,R=F.alternate,R!==null&&(R.childLanes|=S),F.tag===22&&(h=F.stateNode,h===null||h._visibility&1||(N=!0)),h=F,F=F.return;return h.tag===3?(F=h.stateNode,N&&p!==null&&(N=31-Na(S),h=F.hiddenUpdates,R=h[N],R===null?h[N]=[p]:R.push(p),p.lane=S|536870912),F):null}function ae(h){if(50<al)throw al=0,zf=null,Error(a(185));for(var p=h.return;p!==null;)h=p,p=h.return;return h.tag===3?h.stateNode:null}function en(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kn(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function Ln(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function On(h,p,S){var R=h.updateQueue;if(R===null)return null;if(R=R.shared,(ce&2)!==0){var N=R.pending;return N===null?p.next=p:(p.next=N.next,N.next=p),R.pending=p,p=ae(h),qt(h,null,S),p}return De(h,R,p,S),ae(h)}function dn(h,p,S){if(p=p.updateQueue,p!==null&&(p=p.shared,(S&4194048)!==0)){var R=p.lanes;R&=h.pendingLanes,S|=R,p.lanes=S,H(h,S)}}function gn(h,p){var S=h.updateQueue,R=h.alternate;if(R!==null&&(R=R.updateQueue,S===R)){var N=null,F=null;if(S=S.firstBaseUpdate,S!==null){do{var et={lane:S.lane,tag:S.tag,payload:S.payload,callback:null,next:null};F===null?N=F=et:F=F.next=et,S=S.next}while(S!==null);F===null?N=F=p:F=F.next=p}else N=F=p;S={baseState:R.baseState,firstBaseUpdate:N,lastBaseUpdate:F,shared:R.shared,callbacks:R.callbacks},h.updateQueue=S;return}h=S.lastBaseUpdate,h===null?S.firstBaseUpdate=p:h.next=p,S.lastBaseUpdate=p}function Re(){if(ma){var h=Ko;if(h!==null)throw h}}function Hi(h,p,S,R){ma=!1;var N=h.updateQueue;ms=!1;var F=N.firstBaseUpdate,et=N.lastBaseUpdate,ot=N.shared.pending;if(ot!==null){N.shared.pending=null;var ft=ot,Rt=ft.next;ft.next=null,et===null?F=Rt:et.next=Rt,et=ft;var Ft=h.alternate;Ft!==null&&(Ft=Ft.updateQueue,ot=Ft.lastBaseUpdate,ot!==et&&(ot===null?Ft.firstBaseUpdate=Rt:ot.next=Rt,Ft.lastBaseUpdate=ft))}if(F!==null){var Ut=N.baseState;et=0,Ft=Rt=ft=null,ot=F;do{var Gt=ot.lane&-536870913,Me=Gt!==ot.lane;if(Me?(je&Gt)===Gt:(R&Gt)===Gt){Gt!==0&&Gt===jn&&(ma=!0),Ft!==null&&(Ft=Ft.next={lane:0,tag:ot.tag,payload:ot.payload,callback:null,next:null});t:{var vr=h,rl=ot;Gt=p;var yr=S;switch(rl.tag){case 1:if(vr=rl.payload,typeof vr=="function"){Ut=vr.call(yr,Ut,Gt);break t}Ut=vr;break t;case 3:vr.flags=vr.flags&-65537|128;case 0:if(vr=rl.payload,Gt=typeof vr=="function"?vr.call(yr,Ut,Gt):vr,Gt==null)break t;Ut=Ql({},Ut,Gt);break t;case 2:ms=!0}}Gt=ot.callback,Gt!==null&&(h.flags|=64,Me&&(h.flags|=8192),Me=N.callbacks,Me===null?N.callbacks=[Gt]:Me.push(Gt))}else Me={lane:Gt,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null},Ft===null?(Rt=Ft=Me,ft=Ut):Ft=Ft.next=Me,et|=Gt;if(ot=ot.next,ot===null){if(ot=N.shared.pending,ot===null)break;Me=ot,ot=Me.next,Me.next=null,N.lastBaseUpdate=Me,N.shared.pending=null}}while(!0);Ft===null&&(ft=Ut),N.baseState=ft,N.firstBaseUpdate=Rt,N.lastBaseUpdate=Ft,F===null&&(N.shared.lanes=0),xi|=et,h.lanes=et,h.memoizedState=Ut}}function _o(h,p){if(typeof h!="function")throw Error(a(191,h));h.call(p)}function js(h,p){var S=h.callbacks;if(S!==null)for(h.callbacks=null,h=0;h<S.length;h++)_o(S[h],p)}function ti(h,p){h=li,b(jd,h),b(na,p),li=h|p.baseLanes}function Ml(){b(jd,li),b(na,na.current)}function Dl(){li=jd.current,y(na),y(jd)}function Sn(){throw Error(a(321))}function Nr(h,p){if(p===null)return!1;for(var S=0;S<p.length&&S<h.length;S++)if(!Ka(h[S],p[S]))return!1;return!0}function nn(h,p,S,R,N,F){return yi=F,Oe=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,oe.H=h===null||h.memoizedState===null?sc:yg,no=!1,F=S(R,N),no=!1,Xo&&(F=Ol(p,S,R,N)),Ua(h),F}function Ua(h){oe.H=Wo;var p=Ke!==null&&Ke.next!==null;if(yi=0,Fn=Ke=Oe=null,Ur=!1,su=0,Hr=null,p)throw Error(a(300));h===null||ye||(h=h.dependencies,h!==null&&le(h)&&(ye=!0))}function Ol(h,p,S,R){Oe=h;var N=0;do{if(Xo&&(Hr=null),su=0,Xo=!1,25<=N)throw Error(a(301));if(N+=1,Fn=Ke=null,h.updateQueue!=null){var F=h.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}oe.H=xb,F=p(S,R)}while(Xo);return F}function Nl(){var h=oe.H,p=h.useState()[0];return p=typeof p.then=="function"?Pl(p):p,h=h.useState()[0],(Ke!==null?Ke.memoizedState:null)!==h&&(Oe.flags|=1024),p}function Eo(){var h=Wa!==0;return Wa=0,h}function Zr(h,p,S){p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~S}function Pr(h){if(Ur){for(h=h.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Ur=!1}yi=0,Fn=Ke=Oe=null,Xo=!1,su=Wa=0,Hr=null}function Xi(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?Oe.memoizedState=Fn=h:Fn=Fn.next=h,Fn}function oi(){if(Ke===null){var h=Oe.alternate;h=h!==null?h.memoizedState:null}else h=Ke.next;var p=Fn===null?Oe.memoizedState:Fn.next;if(p!==null)Fn=p,Ke=h;else{if(h===null)throw Oe.alternate===null?Error(a(467)):Error(a(310));Ke=h,h={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Fn===null?Oe.memoizedState=Fn=h:Fn=Fn.next=h}return Fn}function Ao(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(h){var p=su;return su+=1,Hr===null&&(Hr=[]),h=An(Hr,h,p),p=Oe,(Fn===null?p.memoizedState:Fn.next)===null&&(p=p.alternate,oe.H=p===null||p.memoizedState===null?sc:yg),h}function Oc(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return Pl(h);if(h.$$typeof===Ks)return Qt(h)}throw Error(a(438,String(h)))}function um(h){var p=null,S=Oe.updateQueue;if(S!==null&&(p=S.memoCache),p==null){var R=Oe.alternate;R!==null&&(R=R.updateQueue,R!==null&&(R=R.memoCache,R!=null&&(p={data:R.data.map(function(N){return N.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),S===null&&(S=Ao(),Oe.updateQueue=S),S.memoCache=p,S=p.data[p.index],S===void 0)for(S=p.data[p.index]=Array(h),R=0;R<h;R++)S[R]=Gm;return p.index++,S}function Jr(h,p){return typeof p=="function"?p(h):p}function ca(h){var p=oi();return jh(p,Ke,h)}function jh(h,p,S){var R=h.queue;if(R===null)throw Error(a(311));R.lastRenderedReducer=S;var N=h.baseQueue,F=R.pending;if(F!==null){if(N!==null){var et=N.next;N.next=F.next,F.next=et}p.baseQueue=N=F,R.pending=null}if(F=h.baseState,N===null)h.memoizedState=F;else{p=N.next;var ot=et=null,ft=null,Rt=p,Ft=!1;do{var Ut=Rt.lane&-536870913;if(Ut!==Rt.lane?(je&Ut)===Ut:(yi&Ut)===Ut){var Gt=Rt.revertLane;if(Gt===0)ft!==null&&(ft=ft.next={lane:0,revertLane:0,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null}),Ut===jn&&(Ft=!0);else if((yi&Gt)===Gt){Rt=Rt.next,Gt===jn&&(Ft=!0);continue}else Ut={lane:0,revertLane:Rt.revertLane,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null},ft===null?(ot=ft=Ut,et=F):ft=ft.next=Ut,Oe.lanes|=Gt,xi|=Gt;Ut=Rt.action,no&&S(F,Ut),F=Rt.hasEagerState?Rt.eagerState:S(F,Ut)}else Gt={lane:Ut,revertLane:Rt.revertLane,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null},ft===null?(ot=ft=Gt,et=F):ft=ft.next=Gt,Oe.lanes|=Ut,xi|=Ut;Rt=Rt.next}while(Rt!==null&&Rt!==p);if(ft===null?et=F:ft.next=ot,!Ka(F,h.memoizedState)&&(ye=!0,Ft&&(S=Ko,S!==null)))throw S;h.memoizedState=F,h.baseState=et,h.baseQueue=ft,R.lastRenderedState=F}return N===null&&(R.lanes=0),[h.memoizedState,R.dispatch]}function dm(h){var p=oi(),S=p.queue;if(S===null)throw Error(a(311));S.lastRenderedReducer=h;var R=S.dispatch,N=S.pending,F=p.memoizedState;if(N!==null){S.pending=null;var et=N=N.next;do F=h(F,et.action),et=et.next;while(et!==N);Ka(F,p.memoizedState)||(ye=!0),p.memoizedState=F,p.baseQueue===null&&(p.baseState=F),S.lastRenderedState=F}return[F,R]}function $u(h,p,S){var R=Oe,N=oi(),F=Ze;if(F){if(S===void 0)throw Error(a(407));S=S()}else S=p();var et=!Ka((Ke||N).memoizedState,S);et&&(N.memoizedState=S,ye=!0),N=N.queue;var ot=oy.bind(null,R,N,h);if(jl(2048,8,ot,[h]),N.getSnapshot!==p||et||Fn!==null&&Fn.memoizedState.tag&1){if(R.flags|=2048,Co(9,Fs(),Yu.bind(null,R,N,S,p),null),rn===null)throw Error(a(349));F||(yi&124)!==0||hm(R,p,S)}return S}function hm(h,p,S){h.flags|=16384,h={getSnapshot:p,value:S},p=Oe.updateQueue,p===null?(p=Ao(),Oe.updateQueue=p,p.stores=[h]):(S=p.stores,S===null?p.stores=[h]:S.push(h))}function Yu(h,p,S,R){p.value=S,p.getSnapshot=R,Ha(p)&&Fh(h)}function oy(h,p,S){return S(function(){Ha(p)&&Fh(h)})}function Ha(h){var p=h.getSnapshot;h=h.value;try{var S=p();return!Ka(h,S)}catch{return!0}}function Fh(h){var p=Mt(h,2);p!==null&&Zi(p,h,2)}function Bh(h){var p=Xi();if(typeof h=="function"){var S=h;if(h=S(),no){at(!0);try{S()}finally{at(!1)}}}return p.memoizedState=p.baseState=h,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:h},p}function Ih(h,p,S,R){return h.baseState=S,jh(h,Ke,typeof R=="function"?R:Jr)}function Nc(h,p,S,R,N){if(Ju(h))throw Error(a(485));if(h=p.action,h!==null){var F={payload:N,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(et){F.listeners.push(et)}};oe.T!==null?S(!0):F.isTransition=!1,R(F),S=p.pending,S===null?(F.next=p.pending=F,fm(p,F)):(F.next=S.next,p.pending=S.next=F)}}function fm(h,p){var S=p.action,R=p.payload,N=h.state;if(p.isTransition){var F=oe.T,et={};oe.T=et;try{var ot=S(N,R),ft=oe.S;ft!==null&&ft(et,ot),pm(h,p,ot)}catch(Rt){mm(h,p,Rt)}finally{oe.T=F}}else try{F=S(N,R),pm(h,p,F)}catch(Rt){mm(h,p,Rt)}}function pm(h,p,S){S!==null&&typeof S=="object"&&typeof S.then=="function"?S.then(function(R){kl(h,p,R)},function(R){return mm(h,p,R)}):kl(h,p,S)}function kl(h,p,S){p.status="fulfilled",p.value=S,gm(p),h.state=S,p=h.pending,p!==null&&(S=p.next,S===p?h.pending=null:(S=S.next,p.next=S,fm(h,S)))}function mm(h,p,S){var R=h.pending;if(h.pending=null,R!==null){R=R.next;do p.status="rejected",p.reason=S,gm(p),p=p.next;while(p!==R)}h.action=null}function gm(h){h=h.listeners;for(var p=0;p<h.length;p++)(0,h[p])()}function vm(h,p){return p}function zh(h,p){if(Ze){var S=rn.formState;if(S!==null){t:{var R=Oe;if(Ze){if(vi){var N=tb(vi,hn);if(N){vi=nb(N),R=eb(N);break t}}J(R)}R=!1}R&&(p=S[0])}}S=Xi(),S.memoizedState=S.baseState=p,R={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vm,lastRenderedState:p},S.queue=R,S=qh.bind(null,Oe,R),R.dispatch=S,R=Bh(!1);var F=Fc.bind(null,Oe,!1,R.queue);return R=Xi(),N={state:p,dispatch:null,action:h,pending:null},R.queue=N,S=Nc.bind(null,Oe,N,F,S),N.dispatch=S,R.memoizedState=h,[p,S,!1]}function ly(h){var p=oi();return cy(p,Ke,h)}function cy(h,p,S){if(p=jh(h,p,vm)[0],h=ca(Jr)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var R=Pl(p)}catch(et){throw et===ru?Nn:et}else R=p;p=oi();var N=p.queue,F=N.dispatch;return S!==p.memoizedState&&(Oe.flags|=2048,Co(9,Fs(),Uh.bind(null,N,S),null)),[R,F,h]}function Uh(h,p){h.action=p}function Hh(h){var p=oi(),S=Ke;if(S!==null)return cy(p,S,h);oi(),p=p.memoizedState,S=oi();var R=S.queue.dispatch;return S.memoizedState=h,[p,R,!1]}function Co(h,p,S,R){return h={tag:h,create:S,deps:R,inst:p,next:null},p=Oe.updateQueue,p===null&&(p=Ao(),Oe.updateQueue=p),S=p.lastEffect,S===null?p.lastEffect=h.next=h:(R=S.next,S.next=h,h.next=R,p.lastEffect=h),h}function Fs(){return{destroy:void 0,resource:void 0}}function Ll(){return oi().memoizedState}function Ku(h,p,S,R){var N=Xi();R=R===void 0?null:R,Oe.flags|=h,N.memoizedState=Co(1|p,Fs(),S,R)}function jl(h,p,S,R){var N=oi();R=R===void 0?null:R;var F=N.memoizedState.inst;Ke!==null&&R!==null&&Nr(R,Ke.memoizedState.deps)?N.memoizedState=Co(p,F,S,R):(Oe.flags|=h,N.memoizedState=Co(1|p,F,S,R))}function ym(h,p){Ku(8390656,8,h,p)}function Pc(h,p){jl(2048,8,h,p)}function ts(h,p){return jl(4,2,h,p)}function Gh(h,p){return jl(4,4,h,p)}function kc(h,p){if(typeof p=="function"){h=h();var S=p(h);return function(){typeof S=="function"?S():p(null)}}if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function Bs(h,p,S){S=S!=null?S.concat([h]):null,jl(4,4,kc.bind(null,p,h),S)}function Xu(){}function Wu(h,p){var S=oi();p=p===void 0?null:p;var R=S.memoizedState;return p!==null&&Nr(p,R[1])?R[0]:(S.memoizedState=[h,p],h)}function bm(h,p){var S=oi();p=p===void 0?null:p;var R=S.memoizedState;if(p!==null&&Nr(p,R[1]))return R[0];if(R=h(),no){at(!0);try{h()}finally{at(!1)}}return S.memoizedState=[R,p],R}function Lc(h,p,S){return S===void 0||(yi&1073741824)!==0?h.memoizedState=p:(h.memoizedState=S,h=Vl(),Oe.lanes|=h,xi|=h,S)}function Qu(h,p,S,R){return Ka(S,p)?S:na.current!==null?(h=Lc(h,S,R),Ka(h,p)||(ye=!0),h):(yi&42)===0?(ye=!0,h.memoizedState=S):(h=Vl(),Oe.lanes|=h,xi|=h,p)}function xm(h,p,S,R,N){var F=jr();ki(F!==0&&8>F?F:8);var et=oe.T,ot={};oe.T=ot,Fc(h,!1,p,S);try{var ft=N(),Rt=oe.S;if(Rt!==null&&Rt(ot,ft),ft!==null&&typeof ft=="object"&&typeof ft.then=="function"){var Ft=jt(ft,R);zs(h,p,Ft,Pi(h))}else zs(h,p,R,Pi(h))}catch(Ut){zs(h,p,{then:function(){},status:"rejected",reason:Ut},Pi())}finally{ki(F),oe.T=et}}function ua(h){var p=h.memoizedState;if(p!==null)return p;p={memoizedState:Oa,baseState:Oa,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:Oa},next:null};var S={};return p.next={memoizedState:S,baseState:S,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:S},next:null},h.memoizedState=p,h=h.alternate,h!==null&&(h.memoizedState=p),p}function Is(){return Qt(hs)}function Zu(){return oi().memoizedState}function jc(){return oi().memoizedState}function T2(h){for(var p=h.return;p!==null;){switch(p.tag){case 24:case 3:var S=Pi();h=Ln(S);var R=On(p,h,S);R!==null&&(Zi(R,p,S),dn(R,p,S)),p={cache:Ht()},h.payload=p;return}p=p.return}}function Sm(h,p,S){var R=Pi();S={lane:R,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null},Ju(h)?uy(p,S):(S=Ie(h,p,S,R),S!==null&&(Zi(S,h,R),dy(S,p,R)))}function qh(h,p,S){var R=Pi();zs(h,p,S,R)}function zs(h,p,S,R){var N={lane:R,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null};if(Ju(h))uy(p,N);else{var F=h.alternate;if(h.lanes===0&&(F===null||F.lanes===0)&&(F=p.lastRenderedReducer,F!==null))try{var et=p.lastRenderedState,ot=F(et,S);if(N.hasEagerState=!0,N.eagerState=ot,Ka(ot,et))return De(h,p,N,0),rn===null&&ge(),!1}catch{}finally{}if(S=Ie(h,p,N,R),S!==null)return Zi(S,h,R),dy(S,p,R),!0}return!1}function Fc(h,p,S,R){if(R={lane:2,revertLane:Be(),action:R,hasEagerState:!1,eagerState:null,next:null},Ju(h)){if(p)throw Error(a(479))}else p=Ie(h,S,R,2),p!==null&&Zi(p,h,2)}function Ju(h){var p=h.alternate;return h===Oe||p!==null&&p===Oe}function uy(h,p){Xo=Ur=!0;var S=h.pending;S===null?p.next=p:(p.next=S.next,S.next=p),h.pending=p}function dy(h,p,S){if((S&4194048)!==0){var R=p.lanes;R&=h.pendingLanes,S|=R,p.lanes=S,H(h,S)}}function Vh(h){var p=ou;return ou+=1,gs===null&&(gs=[]),An(gs,h,p)}function Fl(h,p){p=p.props.ref,h.ref=p!==void 0?p:null}function $h(h,p){throw p.$$typeof===Ny?Error(a(525)):(h=Object.prototype.toString.call(p),Error(a(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h)))}function hy(h){var p=h._init;return p(h._payload)}function fy(h){function p(vt,dt){if(h){var xt=vt.deletions;xt===null?(vt.deletions=[dt],vt.flags|=16):xt.push(dt)}}function S(vt,dt){if(!h)return null;for(;dt!==null;)p(vt,dt),dt=dt.sibling;return null}function R(vt){for(var dt=new Map;vt!==null;)vt.key!==null?dt.set(vt.key,vt):dt.set(vt.index,vt),vt=vt.sibling;return dt}function N(vt,dt){return vt=$s(vt,dt),vt.index=0,vt.sibling=null,vt}function F(vt,dt,xt){return vt.index=xt,h?(xt=vt.alternate,xt!==null?(xt=xt.index,xt<dt?(vt.flags|=67108866,dt):xt):(vt.flags|=67108866,dt)):(vt.flags|=1048576,dt)}function et(vt){return h&&vt.alternate===null&&(vt.flags|=67108866),vt}function ot(vt,dt,xt,Ot){return dt===null||dt.tag!==6?(dt=Xl(xt,vt.mode,Ot),dt.return=vt,dt):(dt=N(dt,xt),dt.return=vt,dt)}function ft(vt,dt,xt,Ot){var $t=xt.type;return $t===Jl?Ft(vt,dt,xt.props.children,Ot,xt.key):dt!==null&&(dt.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===da&&hy($t)===dt.type)?(dt=N(dt,xt.props),Fl(dt,xt),dt.return=vt,dt):(dt=$c(xt.type,xt.key,xt.props,null,vt.mode,Ot),Fl(dt,xt),dt.return=vt,dt)}function Rt(vt,dt,xt,Ot){return dt===null||dt.tag!==4||dt.stateNode.containerInfo!==xt.containerInfo||dt.stateNode.implementation!==xt.implementation?(dt=dd(xt,vt.mode,Ot),dt.return=vt,dt):(dt=N(dt,xt.children||[]),dt.return=vt,dt)}function Ft(vt,dt,xt,Ot,$t){return dt===null||dt.tag!==7?(dt=Lr(xt,vt.mode,Ot,$t),dt.return=vt,dt):(dt=N(dt,xt),dt.return=vt,dt)}function Ut(vt,dt,xt){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return dt=Xl(""+dt,vt.mode,xt),dt.return=vt,dt;if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case Zl:return xt=$c(dt.type,dt.key,dt.props,null,vt.mode,xt),Fl(xt,dt),xt.return=vt,xt;case Fo:return dt=dd(dt,vt.mode,xt),dt.return=vt,dt;case da:var Ot=dt._init;return dt=Ot(dt._payload),Ut(vt,dt,xt)}if(Bo(dt)||f(dt))return dt=Lr(dt,vt.mode,xt,null),dt.return=vt,dt;if(typeof dt.then=="function")return Ut(vt,Vh(dt),xt);if(dt.$$typeof===Ks)return Ut(vt,Ee(vt,dt),xt);$h(vt,dt)}return null}function Gt(vt,dt,xt,Ot){var $t=dt!==null?dt.key:null;if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return $t!==null?null:ot(vt,dt,""+xt,Ot);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case Zl:return xt.key===$t?ft(vt,dt,xt,Ot):null;case Fo:return xt.key===$t?Rt(vt,dt,xt,Ot):null;case da:return $t=xt._init,xt=$t(xt._payload),Gt(vt,dt,xt,Ot)}if(Bo(xt)||f(xt))return $t!==null?null:Ft(vt,dt,xt,Ot,null);if(typeof xt.then=="function")return Gt(vt,dt,Vh(xt),Ot);if(xt.$$typeof===Ks)return Gt(vt,dt,Ee(vt,xt),Ot);$h(vt,xt)}return null}function Me(vt,dt,xt,Ot,$t){if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number"||typeof Ot=="bigint")return vt=vt.get(xt)||null,ot(dt,vt,""+Ot,$t);if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case Zl:return vt=vt.get(Ot.key===null?xt:Ot.key)||null,ft(dt,vt,Ot,$t);case Fo:return vt=vt.get(Ot.key===null?xt:Ot.key)||null,Rt(dt,vt,Ot,$t);case da:var En=Ot._init;return Ot=En(Ot._payload),Me(vt,dt,xt,Ot,$t)}if(Bo(Ot)||f(Ot))return vt=vt.get(xt)||null,Ft(dt,vt,Ot,$t,null);if(typeof Ot.then=="function")return Me(vt,dt,xt,Vh(Ot),$t);if(Ot.$$typeof===Ks)return Me(vt,dt,xt,Ee(dt,Ot),$t);$h(dt,Ot)}return null}function vr(vt,dt,xt,Ot){for(var $t=null,En=null,he=dt,sn=dt=0,Ai=null;he!==null&&sn<xt.length;sn++){he.index>sn?(Ai=he,he=null):Ai=he.sibling;var on=Gt(vt,he,xt[sn],Ot);if(on===null){he===null&&(he=Ai);break}h&&he&&on.alternate===null&&p(vt,he),dt=F(on,dt,sn),En===null?$t=on:En.sibling=on,En=on,he=Ai}if(sn===xt.length)return S(vt,he),Ze&&X(vt,sn),$t;if(he===null){for(;sn<xt.length;sn++)he=Ut(vt,xt[sn],Ot),he!==null&&(dt=F(he,dt,sn),En===null?$t=he:En.sibling=he,En=he);return Ze&&X(vt,sn),$t}for(he=R(he);sn<xt.length;sn++)Ai=Me(he,vt,sn,xt[sn],Ot),Ai!==null&&(h&&Ai.alternate!==null&&he.delete(Ai.key===null?sn:Ai.key),dt=F(Ai,dt,sn),En===null?$t=Ai:En.sibling=Ai,En=Ai);return h&&he.forEach(function(ro){return p(vt,ro)}),Ze&&X(vt,sn),$t}function rl(vt,dt,xt,Ot){if(xt==null)throw Error(a(151));for(var $t=null,En=null,he=dt,sn=dt=0,Ai=null,on=xt.next();he!==null&&!on.done;sn++,on=xt.next()){he.index>sn?(Ai=he,he=null):Ai=he.sibling;var ro=Gt(vt,he,on.value,Ot);if(ro===null){he===null&&(he=Ai);break}h&&he&&ro.alternate===null&&p(vt,he),dt=F(ro,dt,sn),En===null?$t=ro:En.sibling=ro,En=ro,he=Ai}if(on.done)return S(vt,he),Ze&&X(vt,sn),$t;if(he===null){for(;!on.done;sn++,on=xt.next())on=Ut(vt,on.value,Ot),on!==null&&(dt=F(on,dt,sn),En===null?$t=on:En.sibling=on,En=on);return Ze&&X(vt,sn),$t}for(he=R(he);!on.done;sn++,on=xt.next())on=Me(he,vt,sn,on.value,Ot),on!==null&&(h&&on.alternate!==null&&he.delete(on.key===null?sn:on.key),dt=F(on,dt,sn),En===null?$t=on:En.sibling=on,En=on);return h&&he.forEach(function(I2){return p(vt,I2)}),Ze&&X(vt,sn),$t}function yr(vt,dt,xt,Ot){if(typeof xt=="object"&&xt!==null&&xt.type===Jl&&xt.key===null&&(xt=xt.props.children),typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case Zl:t:{for(var $t=xt.key;dt!==null;){if(dt.key===$t){if($t=xt.type,$t===Jl){if(dt.tag===7){S(vt,dt.sibling),Ot=N(dt,xt.props.children),Ot.return=vt,vt=Ot;break t}}else if(dt.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===da&&hy($t)===dt.type){S(vt,dt.sibling),Ot=N(dt,xt.props),Fl(Ot,xt),Ot.return=vt,vt=Ot;break t}S(vt,dt);break}else p(vt,dt);dt=dt.sibling}xt.type===Jl?(Ot=Lr(xt.props.children,vt.mode,Ot,xt.key),Ot.return=vt,vt=Ot):(Ot=$c(xt.type,xt.key,xt.props,null,vt.mode,Ot),Fl(Ot,xt),Ot.return=vt,vt=Ot)}return et(vt);case Fo:t:{for($t=xt.key;dt!==null;){if(dt.key===$t)if(dt.tag===4&&dt.stateNode.containerInfo===xt.containerInfo&&dt.stateNode.implementation===xt.implementation){S(vt,dt.sibling),Ot=N(dt,xt.children||[]),Ot.return=vt,vt=Ot;break t}else{S(vt,dt);break}else p(vt,dt);dt=dt.sibling}Ot=dd(xt,vt.mode,Ot),Ot.return=vt,vt=Ot}return et(vt);case da:return $t=xt._init,xt=$t(xt._payload),yr(vt,dt,xt,Ot)}if(Bo(xt))return vr(vt,dt,xt,Ot);if(f(xt)){if($t=f(xt),typeof $t!="function")throw Error(a(150));return xt=$t.call(xt),rl(vt,dt,xt,Ot)}if(typeof xt.then=="function")return yr(vt,dt,Vh(xt),Ot);if(xt.$$typeof===Ks)return yr(vt,dt,Ee(vt,xt),Ot);$h(vt,xt)}return typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint"?(xt=""+xt,dt!==null&&dt.tag===6?(S(vt,dt.sibling),Ot=N(dt,xt),Ot.return=vt,vt=Ot):(S(vt,dt),Ot=Xl(xt,vt.mode,Ot),Ot.return=vt,vt=Ot),et(vt)):S(vt,dt)}return function(vt,dt,xt,Ot){try{ou=0;var $t=yr(vt,dt,xt,Ot);return gs=null,$t}catch(he){if(he===ru||he===Nn)throw he;var En=n(29,he,null,vt.mode);return En.lanes=Ot,En.return=vt,En}finally{}}}function To(h){var p=h.alternate;b(ve,ve.current&1),b(mr,h),vs===null&&(p===null||na.current!==null||p.memoizedState!==null)&&(vs=h)}function py(h){if(h.tag===22){if(b(ve,ve.current),b(mr,h),vs===null){var p=h.alternate;p!==null&&p.memoizedState!==null&&(vs=h)}}else Us()}function Us(){b(ve,ve.current),b(mr,mr.current)}function Hs(h){y(mr),vs===h&&(vs=null),y(ve)}function Yh(h){for(var p=h;p!==null;){if(p.tag===13){var S=p.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||_d(S)||Ef(S)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}function wm(h,p,S,R){p=h.memoizedState,S=S(R,p),S=S==null?p:Ql({},p,S),h.memoizedState=S,h.lanes===0&&(h.updateQueue.baseState=S)}function my(h,p,S,R,N,F,et){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(R,F,et):p.prototype&&p.prototype.isPureReactComponent?!fi(S,R)||!fi(N,F):!0}function Kh(h,p,S,R){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(S,R),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(S,R),p.state!==h&&Rn.enqueueReplaceState(p,p.state,null)}function Bl(h,p){var S=p;if("ref"in p){S={};for(var R in p)R!=="ref"&&(S[R]=p[R])}if(h=h.defaultProps){S===p&&(S=Ql({},S));for(var N in h)S[N]===void 0&&(S[N]=h[N])}return S}function Xh(h,p){try{var S=h.onUncaughtError;S(p.value,{componentStack:p.stack})}catch(R){setTimeout(function(){throw R})}}function gy(h,p,S){try{var R=h.onCaughtError;R(S.value,{componentStack:S.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function Wh(h,p,S){return S=Ln(S),S.tag=3,S.payload={element:null},S.callback=function(){Xh(h,p)},S}function vy(h){return h=Ln(h),h.tag=3,h}function yy(h,p,S,R){var N=S.type.getDerivedStateFromError;if(typeof N=="function"){var F=R.value;h.payload=function(){return N(F)},h.callback=function(){gy(p,S,R)}}var et=S.stateNode;et!==null&&typeof et.componentDidCatch=="function"&&(h.callback=function(){gy(p,S,R),typeof N!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var ot=R.stack;this.componentDidCatch(R.value,{componentStack:ot!==null?ot:""})})}function R2(h,p,S,R,N){if(S.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){if(p=S.alternate,p!==null&&Ye(p,S,N,!0),S=mr.current,S!==null){switch(S.tag){case 13:return vs===null?Kn():S.alternate===null&&Zn===0&&(Zn=3),S.flags&=-257,S.flags|=65536,S.lanes=N,R===qi?S.flags|=16384:(p=S.updateQueue,p===null?S.updateQueue=new Set([R]):p.add(R),Kl(h,R,N)),!1;case 22:return S.flags|=65536,R===qi?S.flags|=16384:(p=S.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([R])},S.updateQueue=p):(S=p.retryQueue,S===null?p.retryQueue=new Set([R]):S.add(R)),Kl(h,R,N)),!1}throw Error(a(435,S.tag))}return Kl(h,R,N),Kn(),!1}if(Ze)return p=mr.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=N,R!==mg&&(h=Error(a(422),{cause:R}),zt(V(h,S)))):(R!==mg&&(p=Error(a(423),{cause:R}),zt(V(p,S))),h=h.current.alternate,h.flags|=65536,N&=-N,h.lanes|=N,R=V(R,S),N=Wh(h.stateNode,R,N),gn(h,N),Zn!==4&&(Zn=2)),!1;var F=Error(a(520),{cause:R});if(F=V(F,S),el===null?el=[F]:el.push(F),Zn!==4&&(Zn=2),p===null)return!0;R=V(R,S),S=p;do{switch(S.tag){case 3:return S.flags|=65536,h=N&-N,S.lanes|=h,h=Wh(S.stateNode,R,h),gn(S,h),!1;case 1:if(p=S.type,F=S.stateNode,(S.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(xs===null||!xs.has(F))))return S.flags|=65536,N&=-N,S.lanes|=N,N=vy(N),yy(N,h,S,R),gn(S,N),!1}S=S.return}while(S!==null);return!1}function Gi(h,p,S,R){p.child=h===null?bg(p,null,S,R):io(p,h.child,S,R)}function by(h,p,S,R,N){S=S.render;var F=p.ref;if("ref"in R){var et={};for(var ot in R)ot!=="ref"&&(et[ot]=R[ot])}else et=R;return pn(p),R=nn(h,p,S,et,F,N),ot=Eo(),h!==null&&!ye?(Zr(h,p,N),Ga(h,p,N)):(Ze&&ot&&$(p),p.flags|=1,Gi(h,p,R,N),p.child)}function xy(h,p,S,R,N){if(h===null){var F=S.type;return typeof F=="function"&&!Im(F)&&F.defaultProps===void 0&&S.compare===null?(p.tag=15,p.type=F,Sy(h,p,F,R,N)):(h=$c(S.type,null,R,p,p.mode,N),h.ref=p.ref,h.return=p,p.child=h)}if(F=h.child,!zl(h,N)){var et=F.memoizedProps;if(S=S.compare,S=S!==null?S:fi,S(et,R)&&h.ref===p.ref)return Ga(h,p,N)}return p.flags|=1,h=$s(F,R),h.ref=p.ref,h.return=p,p.child=h}function Sy(h,p,S,R,N){if(h!==null){var F=h.memoizedProps;if(fi(F,R)&&h.ref===p.ref)if(ye=!1,p.pendingProps=R=F,zl(h,N))(h.flags&131072)!==0&&(ye=!0);else return p.lanes=h.lanes,Ga(h,p,N)}return Il(h,p,S,R,N)}function wy(h,p,S){var R=p.pendingProps,N=R.children,F=h!==null?h.memoizedState:null;if(R.mode==="hidden"){if((p.flags&128)!==0){if(R=F!==null?F.baseLanes|S:S,h!==null){for(N=p.child=h.child,F=0;N!==null;)F=F|N.lanes|N.childLanes,N=N.sibling;p.childLanes=F&~R}else p.childLanes=0,p.child=null;return _y(h,p,R,S)}if((S&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},h!==null&&un(p,F!==null?F.cachePool:null),F!==null?ti(p,F):Ml(),py(p);else return p.lanes=p.childLanes=536870912,_y(h,p,F!==null?F.baseLanes|S:S,S)}else F!==null?(un(p,F.cachePool),ti(p,F),Us(),p.memoizedState=null):(h!==null&&un(p,null),Ml(),Us());return Gi(h,p,N,S),p.child}function _y(h,p,S,R){var N=we();return N=N===null?null:{parent:Ws?yn._currentValue:yn._currentValue2,pool:N},p.memoizedState={baseLanes:S,cachePool:N},h!==null&&un(p,null),Ml(),py(p),h!==null&&Ye(h,p,R,!0),null}function Bc(h,p){var S=p.ref;if(S===null)h!==null&&h.ref!==null&&(p.flags|=4194816);else{if(typeof S!="function"&&typeof S!="object")throw Error(a(284));(h===null||h.ref!==S)&&(p.flags|=4194816)}}function Il(h,p,S,R,N){return pn(p),S=nn(h,p,S,R,void 0,N),R=Eo(),h!==null&&!ye?(Zr(h,p,N),Ga(h,p,N)):(Ze&&R&&$(p),p.flags|=1,Gi(h,p,S,N),p.child)}function Ey(h,p,S,R,N,F){return pn(p),p.updateQueue=null,S=Ol(p,R,S,N),Ua(h),R=Eo(),h!==null&&!ye?(Zr(h,p,F),Ga(h,p,F)):(Ze&&R&&$(p),p.flags|=1,Gi(h,p,S,F),p.child)}function _m(h,p,S,R,N){if(pn(p),p.stateNode===null){var F=ic,et=S.contextType;typeof et=="object"&&et!==null&&(F=Qt(et)),F=new S(R,F),p.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=Rn,p.stateNode=F,F._reactInternals=p,F=p.stateNode,F.props=R,F.state=p.memoizedState,F.refs={},en(p),et=S.contextType,F.context=typeof et=="object"&&et!==null?Qt(et):ic,F.state=p.memoizedState,et=S.getDerivedStateFromProps,typeof et=="function"&&(wm(p,S,et,R),F.state=p.memoizedState),typeof S.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(et=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),et!==F.state&&Rn.enqueueReplaceState(F,F.state,null),Hi(p,R,F,N),Re(),F.state=p.memoizedState),typeof F.componentDidMount=="function"&&(p.flags|=4194308),R=!0}else if(h===null){F=p.stateNode;var ot=p.memoizedProps,ft=Bl(S,ot);F.props=ft;var Rt=F.context,Ft=S.contextType;et=ic,typeof Ft=="object"&&Ft!==null&&(et=Qt(Ft));var Ut=S.getDerivedStateFromProps;Ft=typeof Ut=="function"||typeof F.getSnapshotBeforeUpdate=="function",ot=p.pendingProps!==ot,Ft||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ot||Rt!==et)&&Kh(p,F,R,et),ms=!1;var Gt=p.memoizedState;F.state=Gt,Hi(p,R,F,N),Re(),Rt=p.memoizedState,ot||Gt!==Rt||ms?(typeof Ut=="function"&&(wm(p,S,Ut,R),Rt=p.memoizedState),(ft=ms||my(p,S,ft,R,Gt,Rt,et))?(Ft||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(p.flags|=4194308)):(typeof F.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=R,p.memoizedState=Rt),F.props=R,F.state=Rt,F.context=et,R=ft):(typeof F.componentDidMount=="function"&&(p.flags|=4194308),R=!1)}else{F=p.stateNode,kn(h,p),et=p.memoizedProps,Ft=Bl(S,et),F.props=Ft,Ut=p.pendingProps,Gt=F.context,Rt=S.contextType,ft=ic,typeof Rt=="object"&&Rt!==null&&(ft=Qt(Rt)),ot=S.getDerivedStateFromProps,(Rt=typeof ot=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(et!==Ut||Gt!==ft)&&Kh(p,F,R,ft),ms=!1,Gt=p.memoizedState,F.state=Gt,Hi(p,R,F,N),Re();var Me=p.memoizedState;et!==Ut||Gt!==Me||ms||h!==null&&h.dependencies!==null&&le(h.dependencies)?(typeof ot=="function"&&(wm(p,S,ot,R),Me=p.memoizedState),(Ft=ms||my(p,S,Ft,R,Gt,Me,ft)||h!==null&&h.dependencies!==null&&le(h.dependencies))?(Rt||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(R,Me,ft),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(R,Me,ft)),typeof F.componentDidUpdate=="function"&&(p.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof F.componentDidUpdate!="function"||et===h.memoizedProps&&Gt===h.memoizedState||(p.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||et===h.memoizedProps&&Gt===h.memoizedState||(p.flags|=1024),p.memoizedProps=R,p.memoizedState=Me),F.props=R,F.state=Me,F.context=ft,R=Ft):(typeof F.componentDidUpdate!="function"||et===h.memoizedProps&&Gt===h.memoizedState||(p.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||et===h.memoizedProps&&Gt===h.memoizedState||(p.flags|=1024),R=!1)}return F=R,Bc(h,p),R=(p.flags&128)!==0,F||R?(F=p.stateNode,S=R&&typeof S.getDerivedStateFromError!="function"?null:F.render(),p.flags|=1,h!==null&&R?(p.child=io(p,h.child,null,N),p.child=io(p,null,S,N)):Gi(h,p,S,N),p.memoizedState=F.state,h=p.child):h=Ga(h,p,N),h}function Em(h,p,S,R){return Dt(),p.flags|=256,Gi(h,p,S,R),p.child}function Qh(h){return{baseLanes:h,cachePool:Hn()}}function Zh(h,p,S){return h=h!==null?h.childLanes&~S:0,p&&(h|=gr),h}function Am(h,p,S){var R=p.pendingProps,N=!1,F=(p.flags&128)!==0,et;if((et=F)||(et=h!==null&&h.memoizedState===null?!1:(ve.current&2)!==0),et&&(N=!0,p.flags&=-129),et=(p.flags&32)!==0,p.flags&=-33,h===null){if(Ze){if(N?To(p):Us(),Ze){var ot=vi,ft;(ft=ot)&&(ot=L2(ot,hn),ot!==null?(p.memoizedState={dehydrated:ot,treeContext:Vo!==null?{id:Fr,overflow:ps}:null,retryLane:536870912,hydrationErrors:null},ft=n(18,null,null,0),ft.stateNode=ot,ft.return=p,p.child=ft,Qn=p,vi=null,ft=!0):ft=!1),ft||J(p)}if(ot=p.memoizedState,ot!==null&&(ot=ot.dehydrated,ot!==null))return Ef(ot)?p.lanes=32:p.lanes=536870912,null;Hs(p)}return ot=R.children,R=R.fallback,N?(Us(),N=p.mode,ot=Jh({mode:"hidden",children:ot},N),R=Lr(R,N,S,null),ot.return=p,R.return=p,ot.sibling=R,p.child=ot,N=p.child,N.memoizedState=Qh(S),N.childLanes=Zh(h,et,S),p.memoizedState=ga,R):(To(p),Ro(p,ot))}if(ft=h.memoizedState,ft!==null&&(ot=ft.dehydrated,ot!==null)){if(F)p.flags&256?(To(p),p.flags&=-257,p=Cm(h,p,S)):p.memoizedState!==null?(Us(),p.child=h.child,p.flags|=128,p=null):(Us(),N=R.fallback,ot=p.mode,R=Jh({mode:"visible",children:R.children},ot),N=Lr(N,ot,S,null),N.flags|=2,R.return=p,N.return=p,R.sibling=N,p.child=R,io(p,h.child,null,S),R=p.child,R.memoizedState=Qh(S),R.childLanes=Zh(h,et,S),p.memoizedState=ga,p=N);else if(To(p),Ef(ot))et=Jy(ot).digest,R=Error(a(419)),R.stack="",R.digest=et,zt({value:R,source:null,stack:null}),p=Cm(h,p,S);else if(ye||Ye(h,p,S,!1),et=(S&h.childLanes)!==0,ye||et){if(et=rn,et!==null&&(R=S&-S,R=(R&42)!==0?1:G(R),R=(R&(et.suspendedLanes|S))!==0?0:R,R!==0&&R!==ft.retryLane))throw ft.retryLane=R,Mt(h,R),Zi(et,h,R),Xe;_d(ot)||Kn(),p=Cm(h,p,S)}else _d(ot)?(p.flags|=192,p.child=h.child,p=null):(h=ft.treeContext,Ma&&(vi=sg(ot),Qn=p,Ze=!0,Br=null,hn=!1,h!==null&&(pa[Pa++]=Fr,pa[Pa++]=ps,pa[Pa++]=Vo,Fr=h.id,ps=h.overflow,Vo=p)),p=Ro(p,R.children),p.flags|=4096);return p}return N?(Us(),N=R.fallback,ot=p.mode,ft=h.child,F=ft.sibling,R=$s(ft,{mode:"hidden",children:R.children}),R.subtreeFlags=ft.subtreeFlags&65011712,F!==null?N=$s(F,N):(N=Lr(N,ot,S,null),N.flags|=2),N.return=p,R.return=p,R.sibling=N,p.child=R,R=N,N=p.child,ot=h.child.memoizedState,ot===null?ot=Qh(S):(ft=ot.cachePool,ft!==null?(F=Ws?yn._currentValue:yn._currentValue2,ft=ft.parent!==F?{parent:F,pool:F}:ft):ft=Hn(),ot={baseLanes:ot.baseLanes|S,cachePool:ft}),N.memoizedState=ot,N.childLanes=Zh(h,et,S),p.memoizedState=ga,R):(To(p),S=h.child,h=S.sibling,S=$s(S,{mode:"visible",children:R.children}),S.return=p,S.sibling=null,h!==null&&(et=p.deletions,et===null?(p.deletions=[h],p.flags|=16):et.push(h)),p.child=S,p.memoizedState=null,S)}function Ro(h,p){return p=Jh({mode:"visible",children:p},h.mode),p.return=h,h.child=p}function Jh(h,p){return h=n(22,h,null,p),h.lanes=0,h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},h}function Cm(h,p,S){return io(p,h.child,null,S),h=Ro(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function Ay(h,p,S){h.lanes|=p;var R=h.alternate;R!==null&&(R.lanes|=p),Bt(h.return,p,S)}function tf(h,p,S,R,N){var F=h.memoizedState;F===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:R,tail:S,tailMode:N}:(F.isBackwards=p,F.rendering=null,F.renderingStartTime=0,F.last=R,F.tail=S,F.tailMode=N)}function Tm(h,p,S){var R=p.pendingProps,N=R.revealOrder,F=R.tail;if(Gi(h,p,R.children,S),R=ve.current,(R&2)!==0)R=R&1|2,p.flags|=128;else{if(h!==null&&(h.flags&128)!==0)t:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&Ay(h,S,p);else if(h.tag===19)Ay(h,S,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break t;for(;h.sibling===null;){if(h.return===null||h.return===p)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}R&=1}switch(b(ve,R),N){case"forwards":for(S=p.child,N=null;S!==null;)h=S.alternate,h!==null&&Yh(h)===null&&(N=S),S=S.sibling;S=N,S===null?(N=p.child,p.child=null):(N=S.sibling,S.sibling=null),tf(p,!1,N,S,F);break;case"backwards":for(S=null,N=p.child,p.child=null;N!==null;){if(h=N.alternate,h!==null&&Yh(h)===null){p.child=N;break}h=N.sibling,N.sibling=S,S=N,N=h}tf(p,!0,S,null,F);break;case"together":tf(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Ga(h,p,S){if(h!==null&&(p.dependencies=h.dependencies),xi|=p.lanes,(S&p.childLanes)===0)if(h!==null){if(Ye(h,p,S,!1),(S&p.childLanes)===0)return null}else return null;if(h!==null&&p.child!==h.child)throw Error(a(153));if(p.child!==null){for(h=p.child,S=$s(h,h.pendingProps),p.child=S,S.return=p;h.sibling!==null;)h=h.sibling,S=S.sibling=$s(h,h.pendingProps),S.return=p;S.sibling=null}return p.child}function zl(h,p){return(h.lanes&p)!==0?!0:(h=h.dependencies,!!(h!==null&&le(h)))}function M2(h,p,S){switch(p.tag){case 3:K(p,p.stateNode.containerInfo),Pt(p,yn,h.memoizedState.cache),Dt();break;case 27:case 5:pt(p);break;case 4:K(p,p.stateNode.containerInfo);break;case 10:Pt(p,p.type,p.memoizedProps.value);break;case 13:var R=p.memoizedState;if(R!==null)return R.dehydrated!==null?(To(p),p.flags|=128,null):(S&p.child.childLanes)!==0?Am(h,p,S):(To(p),h=Ga(h,p,S),h!==null?h.sibling:null);To(p);break;case 19:var N=(h.flags&128)!==0;if(R=(S&p.childLanes)!==0,R||(Ye(h,p,S,!1),R=(S&p.childLanes)!==0),N){if(R)return Tm(h,p,S);p.flags|=128}if(N=p.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),b(ve,ve.current),R)break;return null;case 22:case 23:return p.lanes=0,wy(h,p,S);case 24:Pt(p,yn,h.memoizedState.cache)}return Ga(h,p,S)}function td(h,p,S){if(h!==null)if(h.memoizedProps!==p.pendingProps)ye=!0;else{if(!zl(h,S)&&(p.flags&128)===0)return ye=!1,M2(h,p,S);ye=(h.flags&131072)!==0}else ye=!1,Ze&&(p.flags&1048576)!==0&&U(p,nu,p.index);switch(p.lanes=0,p.tag){case 16:t:{h=p.pendingProps;var R=p.elementType,N=R._init;if(R=N(R._payload),p.type=R,typeof R=="function")Im(R)?(h=Bl(R,h),p.tag=1,p=_m(null,p,R,h,S)):(p.tag=0,p=Il(null,p,R,h,S));else{if(R!=null){if(N=R.$$typeof,N===cs){p.tag=11,p=by(null,p,R,h,S);break t}else if(N===us){p.tag=14,p=xy(null,p,R,h,S);break t}}throw p=g(R)||R,Error(a(306,p,""))}}return p;case 0:return Il(h,p,p.type,p.pendingProps,S);case 1:return R=p.type,N=Bl(R,p.pendingProps),_m(h,p,R,N,S);case 3:t:{if(K(p,p.stateNode.containerInfo),h===null)throw Error(a(387));var F=p.pendingProps;N=p.memoizedState,R=N.element,kn(h,p),Hi(p,F,null,S);var et=p.memoizedState;if(F=et.cache,Pt(p,yn,F),F!==N.cache&&me(p,[yn],S,!0),Re(),F=et.element,Ma&&N.isDehydrated)if(N={element:F,isDehydrated:!1,cache:et.cache},p.updateQueue.baseState=N,p.memoizedState=N,p.flags&256){p=Em(h,p,F,S);break t}else if(F!==R){R=V(Error(a(424)),p),zt(R),p=Em(h,p,F,S);break t}else for(Ma&&(vi=ab(p.stateNode.containerInfo),Qn=p,Ze=!0,Br=null,hn=!0),S=bg(p,null,F,S),p.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Dt(),F===R){p=Ga(h,p,S);break t}Gi(h,p,F,S)}p=p.child}return p;case 26:if(ha)return Bc(h,p),h===null?(S=Cd(p.type,null,p.pendingProps,null))?p.memoizedState=S:Ze||(p.stateNode=fs(p.type,p.pendingProps,$o.current,p)):p.memoizedState=Cd(p.type,h.memoizedProps,p.pendingProps,h.memoizedState),null;case 27:if(Ue)return pt(p),h===null&&Ue&&Ze&&(R=p.stateNode=Td(p.type,p.pendingProps,$o.current,Gn.current,!1),Qn=p,hn=!0,vi=rb(p.type,R,vi)),Gi(h,p,p.pendingProps.children,S),Bc(h,p),h===null&&(p.flags|=4194304),p.child;case 5:return h===null&&Ze&&(j2(p.type,p.pendingProps,Gn.current),(N=R=vi)&&(R=sb(R,p.type,p.pendingProps,hn),R!==null?(p.stateNode=R,Qn=p,vi=ib(R),hn=!1,N=!0):N=!1),N||J(p)),pt(p),N=p.type,F=p.pendingProps,et=h!==null?h.memoizedProps:null,R=F.children,Xs(N,F)?R=null:et!==null&&Xs(N,et)&&(p.flags|=32),p.memoizedState!==null&&(N=nn(h,p,Nl,null,null,S),Ws?hs._currentValue=N:hs._currentValue2=N),Bc(h,p),Gi(h,p,R,S),p.child;case 6:return h===null&&Ze&&(Jc(p.pendingProps,Gn.current),(h=S=vi)&&(S=k2(S,p.pendingProps,hn),S!==null?(p.stateNode=S,Qn=p,vi=null,h=!0):h=!1),h||J(p)),null;case 13:return Am(h,p,S);case 4:return K(p,p.stateNode.containerInfo),R=p.pendingProps,h===null?p.child=io(p,null,R,S):Gi(h,p,R,S),p.child;case 11:return by(h,p,p.type,p.pendingProps,S);case 7:return Gi(h,p,p.pendingProps,S),p.child;case 8:return Gi(h,p,p.pendingProps.children,S),p.child;case 12:return Gi(h,p,p.pendingProps.children,S),p.child;case 10:return R=p.pendingProps,Pt(p,p.type,R.value),Gi(h,p,R.children,S),p.child;case 9:return N=p.type._context,R=p.pendingProps.children,pn(p),N=Qt(N),R=R(N),p.flags|=1,Gi(h,p,R,S),p.child;case 14:return xy(h,p,p.type,p.pendingProps,S);case 15:return Sy(h,p,p.type,p.pendingProps,S);case 19:return Tm(h,p,S);case 31:return R=p.pendingProps,S=p.mode,R={mode:R.mode,children:R.children},h===null?(S=Jh(R,S),S.ref=p.ref,p.child=S,S.return=p,p=S):(S=$s(h.child,R),S.ref=p.ref,p.child=S,S.return=p,p=S),p;case 22:return wy(h,p,S);case 24:return pn(p),R=Qt(yn),h===null?(N=we(),N===null&&(N=rn,F=Ht(),N.pooledCache=F,F.refCount++,F!==null&&(N.pooledCacheLanes|=S),N=F),p.memoizedState={parent:R,cache:N},en(p),Pt(p,yn,N)):((h.lanes&S)!==0&&(kn(h,p),Hi(p,null,null,S),Re()),N=h.memoizedState,F=p.memoizedState,N.parent!==R?(N={parent:R,cache:R},p.memoizedState=N,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=N),Pt(p,yn,R)):(R=F.cache,Pt(p,yn,R),R!==N.cache&&me(p,[yn],S,!0))),Gi(h,p,p.pendingProps.children,S),p.child;case 29:throw p.pendingProps}throw Error(a(156,p.tag))}function Aa(h){h.flags|=4}function Rm(h,p){if(h!==null&&h.child===p.child)return!1;if((p.flags&16)!==0)return!0;for(h=p.child;h!==null;){if((h.flags&13878)!==0||(h.subtreeFlags&13878)!==0)return!0;h=h.sibling}return!1}function ed(h,p,S,R){if(Ve)for(S=p.child;S!==null;){if(S.tag===5||S.tag===6)ei(h,S.stateNode);else if(!(S.tag===4||Ue&&S.tag===27)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===p)break;for(;S.sibling===null;){if(S.return===null||S.return===p)return;S=S.return}S.sibling.return=S.return,S=S.sibling}else if(ds)for(var N=p.child;N!==null;){if(N.tag===5){var F=N.stateNode;S&&R&&(F=ng(F,N.type,N.memoizedProps)),ei(h,F)}else if(N.tag===6)F=N.stateNode,S&&R&&(F=ig(F,N.memoizedProps)),ei(h,F);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)F=N.child,F!==null&&(F.return=N),ed(h,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===p)break;for(;N.sibling===null;){if(N.return===null||N.return===p)return;N=N.return}N.sibling.return=N.return,N=N.sibling}}function ef(h,p,S,R){var N=!1;if(ds)for(var F=p.child;F!==null;){if(F.tag===5){var et=F.stateNode;S&&R&&(et=ng(et,F.type,F.memoizedProps)),tg(h,et)}else if(F.tag===6)et=F.stateNode,S&&R&&(et=ig(et,F.memoizedProps)),tg(h,et);else if(F.tag!==4){if(F.tag===22&&F.memoizedState!==null)N=F.child,N!==null&&(N.return=F),ef(h,F,!0,!0),N=!0;else if(F.child!==null){F.child.return=F,F=F.child;continue}}if(F===p)break;for(;F.sibling===null;){if(F.return===null||F.return===p)return N;F=F.return}F.sibling.return=F.return,F=F.sibling}return N}function Mm(h,p){if(ds&&Rm(h,p)){h=p.stateNode;var S=h.containerInfo,R=Jm();ef(R,p,!1,!1),h.pendingChildren=R,Aa(p),Zy(S,R)}}function nf(h,p,S,R){if(Ve)h.memoizedProps!==R&&Aa(p);else if(ds){var N=h.stateNode,F=h.memoizedProps;if((h=Rm(h,p))||F!==R){var et=Gn.current;F=wd(N,S,F,R,!h,null),F===N?p.stateNode=N:(yd(F,S,R,et)&&Aa(p),p.stateNode=F,h?ed(F,p,!1,!1):Aa(p))}else p.stateNode=N}}function af(h,p,S){if(gi(p,S)){if(h.flags|=16777216,!Sf(p,S))if(df())h.flags|=8192;else throw ka=qi,Lf}else h.flags&=-16777217}function Cy(h,p){if(db(p)){if(h.flags|=16777216,!Qs(p))if(df())h.flags|=8192;else throw ka=qi,Lf}else h.flags&=-16777217}function rf(h,p){p!==null&&(h.flags|=4),h.flags&16384&&(p=h.tag!==22?D():536870912,h.lanes|=p,Za|=p)}function nd(h,p){if(!Ze)switch(h.tailMode){case"hidden":p=h.tail;for(var S=null;p!==null;)p.alternate!==null&&(S=p),p=p.sibling;S===null?h.tail=null:S.sibling=null;break;case"collapsed":S=h.tail;for(var R=null;S!==null;)S.alternate!==null&&(R=S),S=S.sibling;R===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:R.sibling=null}}function Wn(h){var p=h.alternate!==null&&h.alternate.child===h.child,S=0,R=0;if(p)for(var N=h.child;N!==null;)S|=N.lanes|N.childLanes,R|=N.subtreeFlags&65011712,R|=N.flags&65011712,N.return=h,N=N.sibling;else for(N=h.child;N!==null;)S|=N.lanes|N.childLanes,R|=N.subtreeFlags,R|=N.flags,N.return=h,N=N.sibling;return h.subtreeFlags|=R,h.childLanes=S,p}function D2(h,p,S){var R=p.pendingProps;switch(it(p),p.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(p),null;case 1:return Wn(p),null;case 3:return S=p.stateNode,R=null,h!==null&&(R=h.memoizedState.cache),p.memoizedState.cache!==R&&(p.flags|=2048),re(yn),ct(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(h===null||h.child===null)&&(Tt(p)?Aa(p):h===null||h.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,kt())),Mm(h,p),Wn(p),null;case 26:if(ha){S=p.type;var N=p.memoizedState;return h===null?(Aa(p),N!==null?(Wn(p),Cy(p,N)):(Wn(p),af(p,S,R))):N?N!==h.memoizedState?(Aa(p),Wn(p),Cy(p,N)):(Wn(p),p.flags&=-16777217):(Ve?h.memoizedProps!==R&&Aa(p):nf(h,p,S,R),Wn(p),af(p,S,R)),null}case 27:if(Ue){if(rt(p),S=$o.current,N=p.type,h!==null&&p.stateNode!=null)Ve?h.memoizedProps!==R&&Aa(p):nf(h,p,N,R);else{if(!R){if(p.stateNode===null)throw Error(a(166));return Wn(p),null}h=Gn.current,Tt(p)?lt(p,h):(h=Td(N,R,S,h,!0),p.stateNode=h,Aa(p))}return Wn(p),null}case 5:if(rt(p),S=p.type,h!==null&&p.stateNode!=null)nf(h,p,S,R);else{if(!R){if(p.stateNode===null)throw Error(a(166));return Wn(p),null}h=Gn.current,Tt(p)?lt(p,h):(N=Cn(S,R,$o.current,h,p),ed(N,p,!1,!1),p.stateNode=N,yd(N,S,R,h)&&Aa(p))}return Wn(p),af(p,p.type,p.pendingProps),null;case 6:if(h&&p.stateNode!=null)S=h.memoizedProps,Ve?S!==R&&Aa(p):ds&&(S!==R?(p.stateNode=zo(R,$o.current,Gn.current,p),Aa(p)):p.stateNode=h.stateNode);else{if(typeof R!="string"&&p.stateNode===null)throw Error(a(166));if(h=$o.current,S=Gn.current,Tt(p)){if(!Ma)throw Error(a(176));if(h=p.stateNode,S=p.memoizedProps,R=null,N=Qn,N!==null)switch(N.tag){case 27:case 5:R=N.memoizedProps}Ed(h,S,p,R)||J(p)}else p.stateNode=zo(R,h,S,p)}return Wn(p),null;case 13:if(R=p.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(N=Tt(p),R!==null&&R.dehydrated!==null){if(h===null){if(!N)throw Error(a(318));if(!Ma)throw Error(a(344));if(N=p.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(a(317));og(N,p)}else Dt(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Wn(p),N=!1}else N=kt(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=N),N=!0;if(!N)return p.flags&256?(Hs(p),p):(Hs(p),null)}if(Hs(p),(p.flags&128)!==0)return p.lanes=S,p;if(S=R!==null,h=h!==null&&h.memoizedState!==null,S){R=p.child,N=null,R.alternate!==null&&R.alternate.memoizedState!==null&&R.alternate.memoizedState.cachePool!==null&&(N=R.alternate.memoizedState.cachePool.pool);var F=null;R.memoizedState!==null&&R.memoizedState.cachePool!==null&&(F=R.memoizedState.cachePool.pool),F!==N&&(R.flags|=2048)}return S!==h&&S&&(p.child.flags|=8192),rf(p,p.updateQueue),Wn(p),null;case 4:return ct(),Mm(h,p),h===null&&Ly(p.stateNode.containerInfo),Wn(p),null;case 10:return re(p.type),Wn(p),null;case 19:if(y(ve),N=p.memoizedState,N===null)return Wn(p),null;if(R=(p.flags&128)!==0,F=N.rendering,F===null)if(R)nd(N,!1);else{if(Zn!==0||h!==null&&(h.flags&128)!==0)for(h=p.child;h!==null;){if(F=Yh(h),F!==null){for(p.flags|=128,nd(N,!1),h=F.updateQueue,p.updateQueue=h,rf(p,h),p.subtreeFlags=0,h=S,S=p.child;S!==null;)mi(S,h),S=S.sibling;return b(ve,ve.current&1|2),p.child}h=h.sibling}N.tail!==null&&Tn()>du&&(p.flags|=128,R=!0,nd(N,!1),p.lanes=4194304)}else{if(!R)if(h=Yh(F),h!==null){if(p.flags|=128,R=!0,h=h.updateQueue,p.updateQueue=h,rf(p,h),nd(N,!0),N.tail===null&&N.tailMode==="hidden"&&!F.alternate&&!Ze)return Wn(p),null}else 2*Tn()-N.renderingStartTime>du&&S!==536870912&&(p.flags|=128,R=!0,nd(N,!1),p.lanes=4194304);N.isBackwards?(F.sibling=p.child,p.child=F):(h=N.last,h!==null?h.sibling=F:p.child=F,N.last=F)}return N.tail!==null?(p=N.tail,N.rendering=p,N.tail=p.sibling,N.renderingStartTime=Tn(),p.sibling=null,h=ve.current,b(ve,R?h&1|2:h&1),p):(Wn(p),null);case 22:case 23:return Hs(p),Dl(),R=p.memoizedState!==null,h!==null?h.memoizedState!==null!==R&&(p.flags|=8192):R&&(p.flags|=8192),R?(S&536870912)!==0&&(p.flags&128)===0&&(Wn(p),p.subtreeFlags&6&&(p.flags|=8192)):Wn(p),S=p.updateQueue,S!==null&&rf(p,S.retryQueue),S=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(S=h.memoizedState.cachePool.pool),R=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(R=p.memoizedState.cachePool.pool),R!==S&&(p.flags|=2048),h!==null&&y(Xn),null;case 24:return S=null,h!==null&&(S=h.memoizedState.cache),p.memoizedState.cache!==S&&(p.flags|=2048),re(yn),Wn(p),null;case 25:return null;case 30:return null}throw Error(a(156,p.tag))}function qa(h,p){switch(it(p),p.tag){case 1:return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return re(yn),ct(),h=p.flags,(h&65536)!==0&&(h&128)===0?(p.flags=h&-65537|128,p):null;case 26:case 27:case 5:return rt(p),null;case 13:if(Hs(p),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(a(340));Dt()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return y(ve),null;case 4:return ct(),null;case 10:return re(p.type),null;case 22:case 23:return Hs(p),Dl(),h!==null&&y(Xn),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 24:return re(yn),null;case 25:return null;default:return null}}function Ic(h,p){switch(it(p),p.tag){case 3:re(yn),ct();break;case 26:case 27:case 5:rt(p);break;case 4:ct();break;case 13:Hs(p);break;case 19:y(ve);break;case 10:re(p.type);break;case 22:case 23:Hs(p),Dl(),h!==null&&y(Xn);break;case 24:re(yn)}}function zc(h,p){try{var S=p.updateQueue,R=S!==null?S.lastEffect:null;if(R!==null){var N=R.next;S=N;do{if((S.tag&h)===h){R=void 0;var F=S.create,et=S.inst;R=F(),et.destroy=R}S=S.next}while(S!==N)}}catch(ot){vn(p,p.return,ot)}}function Gs(h,p,S){try{var R=p.updateQueue,N=R!==null?R.lastEffect:null;if(N!==null){var F=N.next;R=F;do{if((R.tag&h)===h){var et=R.inst,ot=et.destroy;if(ot!==void 0){et.destroy=void 0,N=p;var ft=S,Rt=ot;try{Rt()}catch(Ft){vn(N,ft,Ft)}}}R=R.next}while(R!==F)}}catch(Ft){vn(p,p.return,Ft)}}function Dm(h){var p=h.updateQueue;if(p!==null){var S=h.stateNode;try{js(p,S)}catch(R){vn(h,h.return,R)}}}function Om(h,p,S){S.props=Bl(h.type,h.memoizedProps),S.state=h.memoizedState;try{S.componentWillUnmount()}catch(R){vn(h,p,R)}}function Ul(h,p){try{var S=h.ref;if(S!==null){switch(h.tag){case 26:case 27:case 5:var R=Xc(h.stateNode);break;case 30:R=h.stateNode;break;default:R=h.stateNode}typeof S=="function"?h.refCleanup=S(R):S.current=R}}catch(N){vn(h,p,N)}}function es(h,p){var S=h.ref,R=h.refCleanup;if(S!==null)if(typeof R=="function")try{R()}catch(N){vn(h,p,N)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof S=="function")try{S(null)}catch(N){vn(h,p,N)}else S.current=null}function Hl(h){var p=h.type,S=h.memoizedProps,R=h.stateNode;try{Zm(R,p,S,h)}catch(N){vn(h,h.return,N)}}function id(h,p,S){try{qy(h.stateNode,h.type,S,p,h)}catch(R){vn(h,h.return,R)}}function Uc(h){return h.tag===5||h.tag===3||(ha?h.tag===26:!1)||(Ue?h.tag===27&&nc(h.type):!1)||h.tag===4}function ad(h){t:for(;;){for(;h.sibling===null;){if(h.return===null||Uc(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(Ue&&h.tag===27&&nc(h.type)||h.flags&2||h.child===null||h.tag===4)continue t;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function sf(h,p,S){var R=h.tag;if(R===5||R===6)h=h.stateNode,p?$y(S,h,p):Hy(S,h);else if(R!==4&&(Ue&&R===27&&nc(h.type)&&(S=h.stateNode,p=null),h=h.child,h!==null))for(sf(h,p,S),h=h.sibling;h!==null;)sf(h,p,S),h=h.sibling}function ns(h,p,S){var R=h.tag;if(R===5||R===6)h=h.stateNode,p?Vy(S,h,p):Uy(S,h);else if(R!==4&&(Ue&&R===27&&nc(h.type)&&(S=h.stateNode),h=h.child,h!==null))for(ns(h,p,S),h=h.sibling;h!==null;)ns(h,p,S),h=h.sibling}function Gl(h,p,S){h=h.containerInfo;try{eg(h,S)}catch(R){vn(p,p.return,R)}}function of(h){var p=h.stateNode,S=h.memoizedProps;try{hg(h.type,S,p,h)}catch(R){vn(h,h.return,R)}}function Ty(h,p){for(Io(h.containerInfo),Le=p;Le!==null;)if(h=Le,p=h.child,(h.subtreeFlags&1024)!==0&&p!==null)p.return=h,Le=p;else for(;Le!==null;){h=Le;var S=h.alternate;switch(p=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((p&1024)!==0&&S!==null){p=void 0;var R=h,N=S.memoizedProps;S=S.memoizedState;var F=R.stateNode;try{var et=Bl(R.type,N,R.elementType===R.type);p=F.getSnapshotBeforeUpdate(et,S),F.__reactInternalSnapshotBeforeUpdate=p}catch(ot){vn(R,R.return,ot)}}break;case 3:(p&1024)!==0&&Ve&&_f(h.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((p&1024)!==0)throw Error(a(163))}if(p=h.sibling,p!==null){p.return=h.return,Le=p;break}Le=h.return}}function Mo(h,p,S){var R=S.flags;switch(S.tag){case 0:case 11:case 15:qs(h,S),R&4&&zc(5,S);break;case 1:if(qs(h,S),R&4)if(h=S.stateNode,p===null)try{h.componentDidMount()}catch(et){vn(S,S.return,et)}else{var N=Bl(S.type,p.memoizedProps);p=p.memoizedState;try{h.componentDidUpdate(N,p,h.__reactInternalSnapshotBeforeUpdate)}catch(et){vn(S,S.return,et)}}R&64&&Dm(S),R&512&&Ul(S,S.return);break;case 3:if(qs(h,S),R&64&&(h=S.updateQueue,h!==null)){if(p=null,S.child!==null)switch(S.child.tag){case 27:case 5:p=Xc(S.child.stateNode);break;case 1:p=S.child.stateNode}try{js(h,p)}catch(et){vn(S,S.return,et)}}break;case 27:Ue&&p===null&&R&4&&of(S);case 26:case 5:qs(h,S),p===null&&R&4&&Hl(S),R&512&&Ul(S,S.return);break;case 12:qs(h,S);break;case 13:qs(h,S),R&4&&Ry(h,S),R&64&&(h=S.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(S=ta.bind(null,S),ag(h,S))));break;case 22:if(R=S.memoizedState!==null||ia,!R){p=p!==null&&p.memoizedState!==null||Bn,N=ia;var F=Bn;ia=R,(Bn=p)&&!F?_i(h,S,(S.subtreeFlags&8772)!==0):qs(h,S),ia=N,Bn=F}break;case 30:break;default:qs(h,S)}}function Nm(h){var p=h.alternate;p!==null&&(h.alternate=null,Nm(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&Da(p)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function cr(h,p,S){for(S=S.child;S!==null;)lf(h,p,S),S=S.sibling}function lf(h,p,S){if(fa&&typeof fa.onCommitFiberUnmount=="function")try{fa.onCommitFiberUnmount(Ho,S)}catch{}switch(S.tag){case 26:if(ha){Bn||es(S,p),cr(h,p,S),S.memoizedState?ug(S.memoizedState):S.stateNode&&Ya(S.stateNode);break}case 27:if(Ue){Bn||es(S,p);var R=Pn,N=bi;nc(S.type)&&(Pn=S.stateNode,bi=!1),cr(h,p,S),Tf(S.stateNode),Pn=R,bi=N;break}case 5:Bn||es(S,p);case 6:if(Ve){if(R=Pn,N=bi,Pn=null,cr(h,p,S),Pn=R,bi=N,Pn!==null)if(bi)try{Ky(Pn,S.stateNode)}catch(F){vn(S,p,F)}else try{Yy(Pn,S.stateNode)}catch(F){vn(S,p,F)}}else cr(h,p,S);break;case 18:Ve&&Pn!==null&&(bi?ub(Pn,S.stateNode):Cf(Pn,S.stateNode));break;case 4:Ve?(R=Pn,N=bi,Pn=S.stateNode.containerInfo,bi=!0,cr(h,p,S),Pn=R,bi=N):(ds&&Gl(S.stateNode,S,Jm()),cr(h,p,S));break;case 0:case 11:case 14:case 15:Bn||Gs(2,S,p),Bn||Gs(4,S,p),cr(h,p,S);break;case 1:Bn||(es(S,p),R=S.stateNode,typeof R.componentWillUnmount=="function"&&Om(S,p,R)),cr(h,p,S);break;case 21:cr(h,p,S);break;case 22:Bn=(R=Bn)||S.memoizedState!==null,cr(h,p,S),Bn=R;break;default:cr(h,p,S)}}function Ry(h,p){if(Ma&&p.memoizedState===null&&(h=p.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{cb(h)}catch(S){vn(p,p.return,S)}}function O2(h){switch(h.tag){case 13:case 19:var p=h.stateNode;return p===null&&(p=h.stateNode=new ys),p;case 22:return h=h.stateNode,p=h._retryCache,p===null&&(p=h._retryCache=new ys),p;default:throw Error(a(435,h.tag))}}function Pm(h,p){var S=O2(h);p.forEach(function(R){var N=gf.bind(null,h,R);S.has(R)||(S.add(R),R.then(N,N))})}function Wi(h,p){var S=p.deletions;if(S!==null)for(var R=0;R<S.length;R++){var N=S[R],F=h,et=p;if(Ve){var ot=et;t:for(;ot!==null;){switch(ot.tag){case 27:if(Ue){if(nc(ot.type)){Pn=ot.stateNode,bi=!1;break t}break}case 5:Pn=ot.stateNode,bi=!1;break t;case 3:case 4:Pn=ot.stateNode.containerInfo,bi=!0;break t}ot=ot.return}if(Pn===null)throw Error(a(160));lf(F,et,N),Pn=null,bi=!1}else lf(F,et,N);F=N.alternate,F!==null&&(F.return=null),N.return=null}if(p.subtreeFlags&13878)for(p=p.child;p!==null;)km(p,h),p=p.sibling}function km(h,p){var S=h.alternate,R=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:Wi(p,h),Qi(h),R&4&&(Gs(3,h,h.return),zc(3,h),Gs(5,h,h.return));break;case 1:Wi(p,h),Qi(h),R&512&&(Bn||S===null||es(S,S.return)),R&64&&ia&&(h=h.updateQueue,h!==null&&(R=h.callbacks,R!==null&&(S=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=S===null?R:S.concat(R))));break;case 26:if(ha){var N=Qa;if(Wi(p,h),Qi(h),R&512&&(Bn||S===null||es(S,S.return)),R&4){R=S!==null?S.memoizedState:null;var F=h.memoizedState;S===null?F===null?h.stateNode===null?h.stateNode=tu(N,h.type,h.memoizedProps,h):dg(N,h.type,h.stateNode):h.stateNode=cg(N,F,h.memoizedProps):R!==F?(R===null?S.stateNode!==null&&Ya(S.stateNode):ug(R),F===null?dg(N,h.type,h.stateNode):cg(N,F,h.memoizedProps)):F===null&&h.stateNode!==null&&id(h,h.memoizedProps,S.memoizedProps)}break}case 27:if(Ue){Wi(p,h),Qi(h),R&512&&(Bn||S===null||es(S,S.return)),S!==null&&R&4&&id(h,h.memoizedProps,S.memoizedProps);break}case 5:if(Wi(p,h),Qi(h),R&512&&(Bn||S===null||es(S,S.return)),Ve){if(h.flags&32){N=h.stateNode;try{Xy(N)}catch(Ft){vn(h,h.return,Ft)}}R&4&&h.stateNode!=null&&(N=h.memoizedProps,id(h,N,S!==null?S.memoizedProps:N)),R&1024&&(Bd=!0)}break;case 6:if(Wi(p,h),Qi(h),R&4&&Ve){if(h.stateNode===null)throw Error(a(162));R=h.memoizedProps,S=S!==null?S.memoizedProps:R,N=h.stateNode;try{Gy(N,S,R)}catch(Ft){vn(h,h.return,Ft)}}break;case 3:if(ha?(Uo(),N=Qa,Qa=ec(p.containerInfo),Wi(p,h),Qa=N):Wi(p,h),Qi(h),R&4){if(Ve&&Ma&&S!==null&&S.memoizedState.isDehydrated)try{lb(p.containerInfo)}catch(Ft){vn(h,h.return,Ft)}if(ds){R=p.containerInfo,S=p.pendingChildren;try{eg(R,S)}catch(Ft){vn(h,h.return,Ft)}}}Bd&&(Bd=!1,ur(h));break;case 4:ha?(S=Qa,Qa=ec(h.stateNode.containerInfo),Wi(p,h),Qi(h),Qa=S):(Wi(p,h),Qi(h)),R&4&&ds&&Gl(h.stateNode,h,h.stateNode.pendingChildren);break;case 12:Wi(p,h),Qi(h);break;case 13:Wi(p,h),Qi(h),h.child.flags&8192&&h.memoizedState!==null!=(S!==null&&S.memoizedState!==null)&&(Ff=Tn()),R&4&&(R=h.updateQueue,R!==null&&(h.updateQueue=null,Pm(h,R)));break;case 22:N=h.memoizedState!==null;var et=S!==null&&S.memoizedState!==null,ot=ia,ft=Bn;if(ia=ot||N,Bn=ft||et,Wi(p,h),Bn=ft,ia=ot,Qi(h),R&8192&&(p=h.stateNode,p._visibility=N?p._visibility&-2:p._visibility|1,N&&(S===null||et||ia||Bn||Ni(h)),Ve)){t:if(S=null,Ve)for(p=h;;){if(p.tag===5||ha&&p.tag===26){if(S===null){et=S=p;try{F=et.stateNode,N?Wy(F):wf(et.stateNode,et.memoizedProps)}catch(Ft){vn(et,et.return,Ft)}}}else if(p.tag===6){if(S===null){et=p;try{var Rt=et.stateNode;N?Zc(Rt):Qy(Rt,et.memoizedProps)}catch(Ft){vn(et,et.return,Ft)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===h)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break t;for(;p.sibling===null;){if(p.return===null||p.return===h)break t;S===p&&(S=null),p=p.return}S===p&&(S=null),p.sibling.return=p.return,p=p.sibling}}R&4&&(R=h.updateQueue,R!==null&&(S=R.retryQueue,S!==null&&(R.retryQueue=null,Pm(h,S))));break;case 19:Wi(p,h),Qi(h),R&4&&(R=h.updateQueue,R!==null&&(h.updateQueue=null,Pm(h,R)));break;case 30:break;case 21:break;default:Wi(p,h),Qi(h)}}function Qi(h){var p=h.flags;if(p&2){try{if(Ve){for(var S,R=h.return;R!==null;){if(Uc(R)){S=R;break}R=R.return}if(S==null)throw Error(a(160));switch(S.tag){case 27:if(Ue){var N=S.stateNode,F=ad(h);ns(h,F,N);break}case 5:var et=S.stateNode;S.flags&32&&(Xy(et),S.flags&=-33);var ot=ad(h);ns(h,ot,et);break;case 3:case 4:var ft=S.stateNode.containerInfo,Rt=ad(h);sf(h,Rt,ft);break;default:throw Error(a(161))}}}catch(Ft){vn(h,h.return,Ft)}h.flags&=-3}p&4096&&(h.flags&=-4097)}function ur(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var p=h;ur(p),p.tag===5&&p.flags&1024&&Xm(p.stateNode),h=h.sibling}}function qs(h,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)Mo(h,p.alternate,p),p=p.sibling}function Ni(h){for(h=h.child;h!==null;){var p=h;switch(p.tag){case 0:case 11:case 14:case 15:Gs(4,p,p.return),Ni(p);break;case 1:es(p,p.return);var S=p.stateNode;typeof S.componentWillUnmount=="function"&&Om(p,p.return,S),Ni(p);break;case 27:Ue&&Tf(p.stateNode);case 26:case 5:es(p,p.return),Ni(p);break;case 22:p.memoizedState===null&&Ni(p);break;case 30:Ni(p);break;default:Ni(p)}h=h.sibling}}function _i(h,p,S){for(S=S&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var R=p.alternate,N=h,F=p,et=F.flags;switch(F.tag){case 0:case 11:case 15:_i(N,F,S),zc(4,F);break;case 1:if(_i(N,F,S),R=F,N=R.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(Rt){vn(R,R.return,Rt)}if(R=F,N=R.updateQueue,N!==null){var ot=R.stateNode;try{var ft=N.shared.hiddenCallbacks;if(ft!==null)for(N.shared.hiddenCallbacks=null,N=0;N<ft.length;N++)_o(ft[N],ot)}catch(Rt){vn(R,R.return,Rt)}}S&&et&64&&Dm(F),Ul(F,F.return);break;case 27:Ue&&of(F);case 26:case 5:_i(N,F,S),S&&R===null&&et&4&&Hl(F),Ul(F,F.return);break;case 12:_i(N,F,S);break;case 13:_i(N,F,S),S&&et&4&&Ry(N,F);break;case 22:F.memoizedState===null&&_i(N,F,S),Ul(F,F.return);break;case 30:break;default:_i(N,F,S)}p=p.sibling}}function Do(h,p){var S=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(S=h.memoizedState.cachePool.pool),h=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(h=p.memoizedState.cachePool.pool),h!==S&&(h!=null&&h.refCount++,S!=null&&te(S))}function rd(h,p){h=null,p.alternate!==null&&(h=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==h&&(p.refCount++,h!=null&&te(h))}function Va(h,p,S,R){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)sd(h,p,S,R),p=p.sibling}function sd(h,p,S,R){var N=p.flags;switch(p.tag){case 0:case 11:case 15:Va(h,p,S,R),N&2048&&zc(9,p);break;case 1:Va(h,p,S,R);break;case 3:Va(h,p,S,R),N&2048&&(h=null,p.alternate!==null&&(h=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==h&&(p.refCount++,h!=null&&te(h)));break;case 12:if(N&2048){Va(h,p,S,R),h=p.stateNode;try{var F=p.memoizedProps,et=F.id,ot=F.onPostCommit;typeof ot=="function"&&ot(et,p.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(ft){vn(p,p.return,ft)}}else Va(h,p,S,R);break;case 13:Va(h,p,S,R);break;case 23:break;case 22:F=p.stateNode,et=p.alternate,p.memoizedState!==null?F._visibility&2?Va(h,p,S,R):is(h,p):F._visibility&2?Va(h,p,S,R):(F._visibility|=2,Oo(h,p,S,R,(p.subtreeFlags&10256)!==0)),N&2048&&Do(et,p);break;case 24:Va(h,p,S,R),N&2048&&rd(p.alternate,p);break;default:Va(h,p,S,R)}}function Oo(h,p,S,R,N){for(N=N&&(p.subtreeFlags&10256)!==0,p=p.child;p!==null;){var F=h,et=p,ot=S,ft=R,Rt=et.flags;switch(et.tag){case 0:case 11:case 15:Oo(F,et,ot,ft,N),zc(8,et);break;case 23:break;case 22:var Ft=et.stateNode;et.memoizedState!==null?Ft._visibility&2?Oo(F,et,ot,ft,N):is(F,et):(Ft._visibility|=2,Oo(F,et,ot,ft,N)),N&&Rt&2048&&Do(et.alternate,et);break;case 24:Oo(F,et,ot,ft,N),N&&Rt&2048&&rd(et.alternate,et);break;default:Oo(F,et,ot,ft,N)}p=p.sibling}}function is(h,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var S=h,R=p,N=R.flags;switch(R.tag){case 22:is(S,R),N&2048&&Do(R.alternate,R);break;case 24:is(S,R),N&2048&&rd(R.alternate,R);break;default:is(S,R)}p=p.sibling}}function No(h){if(h.subtreeFlags&Vi)for(h=h.child;h!==null;)od(h),h=h.sibling}function od(h){switch(h.tag){case 26:No(h),h.flags&Vi&&(h.memoizedState!==null?Zs(Qa,h.memoizedState,h.memoizedProps):Sd(h.type,h.memoizedProps));break;case 5:No(h),h.flags&Vi&&Sd(h.type,h.memoizedProps);break;case 3:case 4:if(ha){var p=Qa;Qa=ec(h.stateNode.containerInfo),No(h),Qa=p}else No(h);break;case 22:h.memoizedState===null&&(p=h.alternate,p!==null&&p.memoizedState!==null?(p=Vi,Vi=16777216,No(h),Vi=p):No(h));break;default:No(h)}}function ql(h){var p=h.alternate;if(p!==null&&(h=p.child,h!==null)){p.child=null;do p=h.sibling,h.sibling=null,h=p;while(h!==null)}}function ld(h){var p=h.deletions;if((h.flags&16)!==0){if(p!==null)for(var S=0;S<p.length;S++){var R=p[S];Le=R,as(R,h)}ql(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)Ca(h),h=h.sibling}function Ca(h){switch(h.tag){case 0:case 11:case 15:ld(h),h.flags&2048&&Gs(9,h,h.return);break;case 3:ld(h);break;case 12:ld(h);break;case 22:var p=h.stateNode;h.memoizedState!==null&&p._visibility&2&&(h.return===null||h.return.tag!==13)?(p._visibility&=-3,Hc(h)):ld(h);break;default:ld(h)}}function Hc(h){var p=h.deletions;if((h.flags&16)!==0){if(p!==null)for(var S=0;S<p.length;S++){var R=p[S];Le=R,as(R,h)}ql(h)}for(h=h.child;h!==null;){switch(p=h,p.tag){case 0:case 11:case 15:Gs(8,p,p.return),Hc(p);break;case 22:S=p.stateNode,S._visibility&2&&(S._visibility&=-3,Hc(p));break;default:Hc(p)}h=h.sibling}}function as(h,p){for(;Le!==null;){var S=Le;switch(S.tag){case 0:case 11:case 15:Gs(8,S,p);break;case 23:case 22:if(S.memoizedState!==null&&S.memoizedState.cachePool!==null){var R=S.memoizedState.cachePool.pool;R!=null&&R.refCount++}break;case 24:te(S.memoizedState.cache)}if(R=S.child,R!==null)R.return=S,Le=R;else t:for(S=h;Le!==null;){R=Le;var N=R.sibling,F=R.return;if(Nm(R),R===S){Le=null;break t}if(N!==null){N.return=F,Le=N;break t}Le=F}}}function cf(h){var p=ky(h);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(a(364));return p}if(h=Fy(h),h===null)throw Error(a(362));return h.stateNode.current}function Gc(h,p){var S=h.tag;switch(p.$$typeof){case Qo:if(h.type===p.value)return!0;break;case $i:t:{for(p=p.value,h=[h,0],S=0;S<h.length;){var R=h[S++],N=R.tag,F=h[S++],et=p[F];if(N!==5&&N!==26&&N!==27||!Qc(R)){for(;et!=null&&Gc(R,et);)F++,et=p[F];if(F===p.length){p=!0;break t}else for(R=R.child;R!==null;)h.push(R,F),R=R.sibling}}p=!1}return p;case cu:if((S===5||S===26||S===27)&&Qm(h.stateNode,p.value))return!0;break;case oc:if((S===5||S===6||S===26||S===27)&&(h=Iy(h),h!==null&&0<=h.indexOf(p.value)))return!0;break;case uu:if((S===5||S===26||S===27)&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Vs(h){switch(h.$$typeof){case Qo:return"<"+(g(h.value)||"Unknown")+">";case $i:return":has("+(Vs(h)||"")+")";case cu:return'[role="'+h.value+'"]';case oc:return'"'+h.value+'"';case uu:return'[data-testname="'+h.value+'"]';default:throw Error(a(365))}}function uf(h,p){var S=[];h=[h,0];for(var R=0;R<h.length;){var N=h[R++],F=N.tag,et=h[R++],ot=p[et];if(F!==5&&F!==26&&F!==27||!Qc(N)){for(;ot!=null&&Gc(N,ot);)et++,ot=p[et];if(et===p.length)S.push(N);else for(N=N.child;N!==null;)h.push(N,et),N=N.sibling}}return S}function cd(h,p){if(!Wc)throw Error(a(363));h=cf(h),h=uf(h,p),p=[],h=Array.from(h);for(var S=0;S<h.length;){var R=h[S++],N=R.tag;if(N===5||N===26||N===27)Qc(R)||p.push(R.stateNode);else for(R=R.child;R!==null;)h.push(R),R=R.sibling}return p}function Pi(){if((ce&2)!==0&&je!==0)return je&-je;if(oe.T!==null){var h=jn;return h!==0?h:Be()}return $m()}function Vl(){gr===0&&(gr=(je&536870912)===0||Ze?M():536870912);var h=mr.current;return h!==null&&(h.flags|=32),gr}function Zi(h,p,S){(h===rn&&(bn===2||bn===9)||h.cancelPendingCommit!==null)&&(hr(h,0),Ta(h,je,gr,!1)),B(h,S),((ce&2)===0||h!==rn)&&(h===rn&&((ce&2)===0&&(tl|=S),Zn===4&&Ta(h,je,gr,!1)),Vt(h))}function ud(h,p,S){if((ce&6)!==0)throw Error(a(327));var R=!S&&(p&124)===0&&(p&h.expiredLanes)===0||A(h,p),N=R?ss(h,p):an(h,p,!0),F=R;do{if(N===0){bs&&!R&&Ta(h,p,0,!1);break}else{if(S=h.current.alternate,F&&!dr(S)){N=an(h,p,!1),F=!1;continue}if(N===2){if(F=p,h.errorRecoveryDisabledLanes&F)var et=0;else et=h.pendingLanes&-536870913,et=et!==0?et:et&536870912?536870912:0;if(et!==0){p=et;t:{var ot=h;N=el;var ft=Ma&&ot.current.memoizedState.isDehydrated;if(ft&&(hr(ot,et).flags|=256),et=an(ot,et,!1),et!==2){if(Id&&!ft){ot.errorRecoveryDisabledLanes|=F,tl|=F,N=4;break t}F=aa,aa=N,F!==null&&(aa===null?aa=F:aa.push.apply(aa,F))}N=et}if(F=!1,N!==2)continue}}if(N===1){hr(h,0),Ta(h,p,0,!0);break}t:{switch(R=h,F=N,F){case 0:case 1:throw Error(a(345));case 4:if((p&4194048)!==p)break;case 6:Ta(R,p,gr,!ao);break t;case 2:aa=null;break;case 3:case 5:break;default:throw Error(a(329))}if((p&62914560)===p&&(N=Ff+300-Tn(),10<N)){if(Ta(R,p,gr,!ao),C(R,0,!0)!==0)break t;R.timeoutHandle=xf($a.bind(null,R,S,aa,zd,nl,p,gr,tl,Za,ao,F,2,-0,0),N);break t}$a(R,S,aa,zd,nl,p,gr,tl,Za,ao,F,0,-0,0)}}break}while(!0);Vt(h)}function $a(h,p,S,R,N,F,et,ot,ft,Rt,Ft,Ut,Gt,Me){if(h.timeoutHandle=pr,Ut=p.subtreeFlags,(Ut&8192||(Ut&16785408)===16785408)&&(xd(),od(p),Ut=Km(),Ut!==null)){h.cancelPendingCommit=Ut(Bm.bind(null,h,p,F,S,R,N,et,ot,ft,Ft,1,Gt,Me)),Ta(h,F,et,!Rt);return}Bm(h,p,F,S,R,N,et,ot,ft)}function dr(h){for(var p=h;;){var S=p.tag;if((S===0||S===11||S===15)&&p.flags&16384&&(S=p.updateQueue,S!==null&&(S=S.stores,S!==null)))for(var R=0;R<S.length;R++){var N=S[R],F=N.getSnapshot;N=N.value;try{if(!Ka(F(),N))return!1}catch{return!1}}if(S=p.child,p.subtreeFlags&16384&&S!==null)S.return=p,p=S;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Ta(h,p,S,R){p&=~jf,p&=~tl,h.suspendedLanes|=p,h.pingedLanes&=~p,R&&(h.warmLanes|=p),R=h.expirationTimes;for(var N=p;0<N;){var F=31-Na(N),et=1<<F;R[F]=-1,N&=~et}S!==0&&z(h,S,p)}function rs(){return(ce&6)===0?(ee(0),!1):!0}function kr(){if(Ae!==null){if(bn===0)var h=Ae.return;else h=Ae,ea=Ir=null,Pr(h),gs=null,ou=0,h=Ae;for(;h!==null;)Ic(h.alternate,h),h=h.return;Ae=null}}function hr(h,p){var S=h.timeoutHandle;S!==pr&&(h.timeoutHandle=pr,bd(S)),S=h.cancelPendingCommit,S!==null&&(h.cancelPendingCommit=null,S()),kr(),rn=h,Ae=S=$s(h.current,null),je=p,bn=0,va=null,ao=!1,bs=A(h,p),Id=!1,Za=gr=jf=tl=xi=Zn=0,aa=el=null,nl=!1,(p&8)!==0&&(p|=p&32);var R=h.entangledLanes;if(R!==0)for(h=h.entanglements,R&=p;0<R;){var N=31-Na(R),F=1<<N;p|=h[N],R&=~F}return li=p,ge(),S}function Lm(h,p){Oe=null,oe.H=Wo,p===ru||p===Nn?(p=Yn(),bn=3):p===Lf?(p=Yn(),bn=4):bn=p===Xe?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,va=p,Ae===null&&(Zn=1,Xh(h,V(p,h.current)))}function df(){var h=mr.current;return h===null?!0:(je&4194048)===je?vs===null:(je&62914560)===je||(je&536870912)!==0?h===vs:!1}function hf(){var h=oe.H;return oe.H=Wo,h===null?Wo:h}function Ji(){var h=oe.A;return oe.A=lu,h}function Kn(){Zn=4,ao||(je&4194048)!==je&&mr.current!==null||(bs=!0),(xi&134217727)===0&&(tl&134217727)===0||rn===null||Ta(rn,je,gr,!1)}function an(h,p,S){var R=ce;ce|=2;var N=hf(),F=Ji();(rn!==h||je!==p)&&(zd=null,hr(h,p)),p=!1;var et=Zn;t:do try{if(bn!==0&&Ae!==null){var ot=Ae,ft=va;switch(bn){case 8:kr(),et=6;break t;case 3:case 2:case 9:case 6:mr.current===null&&(p=!0);var Rt=bn;if(bn=0,va=null,Yl(h,ot,ft,Rt),S&&bs){et=0;break t}break;default:Rt=bn,bn=0,va=null,Yl(h,ot,ft,Rt)}}$l(),et=Zn;break}catch(Ft){Lm(h,Ft)}while(!0);return p&&h.shellSuspendCounter++,ea=Ir=null,ce=R,oe.H=N,oe.A=F,Ae===null&&(rn=null,je=0,ge()),et}function $l(){for(;Ae!==null;)Po(Ae)}function ss(h,p){var S=ce;ce|=2;var R=hf(),N=Ji();rn!==h||je!==p?(zd=null,du=Tn()+500,hr(h,p)):bs=A(h,p);t:do try{if(bn!==0&&Ae!==null){p=Ae;var F=va;e:switch(bn){case 1:bn=0,va=null,Yl(h,p,F,1);break;case 2:case 9:if(Or(F)){bn=0,va=null,Fm(p);break}p=function(){bn!==2&&bn!==9||rn!==h||(bn=7),Vt(h)},F.then(p,p);break t;case 3:bn=7;break t;case 4:bn=5;break t;case 7:Or(F)?(bn=0,va=null,Fm(p)):(bn=0,va=null,Yl(h,p,F,7));break;case 5:var et=null;switch(Ae.tag){case 26:et=Ae.memoizedState;case 5:case 27:var ot=Ae,ft=ot.type,Rt=ot.pendingProps;if(et?Qs(et):Sf(ft,Rt)){bn=0,va=null;var Ft=ot.sibling;if(Ft!==null)Ae=Ft;else{var Ut=ot.return;Ut!==null?(Ae=Ut,ko(Ut)):Ae=null}break e}}bn=0,va=null,Yl(h,p,F,5);break;case 6:bn=0,va=null,Yl(h,p,F,6);break;case 8:kr(),Zn=6;break t;default:throw Error(a(462))}}jm();break}catch(Gt){Lm(h,Gt)}while(!0);return ea=Ir=null,oe.H=R,oe.A=N,ce=S,Ae!==null?0:(rn=null,je=0,ge(),Zn)}function jm(){for(;Ae!==null&&!F2();)Po(Ae)}function Po(h){var p=td(h.alternate,h,li);h.memoizedProps=h.pendingProps,p===null?ko(h):Ae=p}function Fm(h){var p=h,S=p.alternate;switch(p.tag){case 15:case 0:p=Ey(S,p,p.pendingProps,p.type,void 0,je);break;case 11:p=Ey(S,p,p.pendingProps,p.type.render,p.ref,je);break;case 5:Pr(p);default:Ic(S,p),p=Ae=mi(p,li),p=td(S,p,li)}h.memoizedProps=h.pendingProps,p===null?ko(h):Ae=p}function Yl(h,p,S,R){ea=Ir=null,Pr(p),gs=null,ou=0;var N=p.return;try{if(R2(h,N,p,S,je)){Zn=1,Xh(h,V(S,h.current)),Ae=null;return}}catch(F){if(N!==null)throw Ae=N,F;Zn=1,Xh(h,V(S,h.current)),Ae=null;return}p.flags&32768?(Ze||R===1?h=!0:bs||(je&536870912)!==0?h=!1:(ao=h=!0,(R===2||R===9||R===3||R===6)&&(R=mr.current,R!==null&&R.tag===13&&(R.flags|=16384))),qc(p,h)):ko(p)}function ko(h){var p=h;do{if((p.flags&32768)!==0){qc(p,ao);return}h=p.return;var S=D2(p.alternate,p,li);if(S!==null){Ae=S;return}if(p=p.sibling,p!==null){Ae=p;return}Ae=p=h}while(p!==null);Zn===0&&(Zn=5)}function qc(h,p){do{var S=qa(h.alternate,h);if(S!==null){S.flags&=32767,Ae=S;return}if(S=h.return,S!==null&&(S.flags|=32768,S.subtreeFlags=0,S.deletions=null),!p&&(h=h.sibling,h!==null)){Ae=h;return}Ae=h=S}while(h!==null);Zn=6,Ae=null}function Bm(h,p,S,R,N,F,et,ot,ft){h.cancelPendingCommit=null;do fr();while(Ei!==0);if((ce&6)!==0)throw Error(a(327));if(p!==null){if(p===h.current)throw Error(a(177));if(F=p.lanes|p.childLanes,F|=vg,k(h,S,F,et,ot,ft),h===rn&&(Ae=rn=null,je=0),hu=p,il=h,fu=S,Bf=F,If=N,lc=R,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,My(Df,function(){return ls(),null})):(h.callbackNode=null,h.callbackPriority=0),R=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||R){R=oe.T,oe.T=null,N=jr(),ki(2),et=ce,ce|=4;try{Ty(h,p,S)}finally{ce=et,ki(N),oe.T=R}}Ei=1,Vc(),ff(),Lo()}}function Vc(){if(Ei===1){Ei=0;var h=il,p=hu,S=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||S){S=oe.T,oe.T=null;var R=jr();ki(2);var N=ce;ce|=4;try{km(p,h),ke(h.containerInfo)}finally{ce=N,ki(R),oe.T=S}}h.current=p,Ei=2}}function ff(){if(Ei===2){Ei=0;var h=il,p=hu,S=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||S){S=oe.T,oe.T=null;var R=jr();ki(2);var N=ce;ce|=4;try{Mo(h,p.alternate,p)}finally{ce=N,ki(R),oe.T=S}}Ei=3}}function Lo(){if(Ei===4||Ei===3){Ei=0,fb();var h=il,p=hu,S=fu,R=lc;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?Ei=5:(Ei=0,hu=il=null,os(h,h.pendingLanes));var N=h.pendingLanes;if(N===0&&(xs=null),Q(S),p=p.stateNode,fa&&typeof fa.onCommitFiberRoot=="function")try{fa.onCommitFiberRoot(Ho,p,void 0,(p.current.flags&128)===128)}catch{}if(R!==null){p=oe.T,N=jr(),ki(2),oe.T=null;try{for(var F=h.onRecoverableError,et=0;et<R.length;et++){var ot=R[et];F(ot.value,{componentStack:ot.stack})}}finally{oe.T=p,ki(N)}}(fu&3)!==0&&fr(),Vt(h),N=h.pendingLanes,(S&4194090)!==0&&(N&42)!==0?h===zf?al++:(al=0,zf=h):al=0,ee(0)}}function os(h,p){(h.pooledCacheLanes&=p)===0&&(p=h.pooledCache,p!=null&&(h.pooledCache=null,te(p)))}function fr(h){return Vc(),ff(),Lo(),ls()}function ls(){if(Ei!==5)return!1;var h=il,p=Bf;Bf=0;var S=Q(fu),R=32>S?32:S;S=oe.T;var N=jr();try{ki(R),oe.T=null,R=If,If=null;var F=il,et=fu;if(Ei=0,hu=il=null,fu=0,(ce&6)!==0)throw Error(a(331));var ot=ce;if(ce|=4,Ca(F.current),sd(F,F.current,et,R),ce=ot,ee(0,!1),fa&&typeof fa.onPostCommitFiberRoot=="function")try{fa.onPostCommitFiberRoot(Ho,F)}catch{}return!0}finally{ki(N),oe.T=S,os(h,p)}}function pf(h,p,S){p=V(S,p),p=Wh(h.stateNode,p,2),h=On(h,p,2),h!==null&&(B(h,2),Vt(h))}function vn(h,p,S){if(h.tag===3)pf(h,h,S);else for(;p!==null;){if(p.tag===3){pf(p,h,S);break}else if(p.tag===1){var R=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(xs===null||!xs.has(R))){h=V(S,h),S=vy(2),R=On(p,S,2),R!==null&&(yy(S,R,p,h),B(R,2),Vt(R));break}}p=p.return}}function Kl(h,p,S){var R=h.pingCache;if(R===null){R=h.pingCache=new Jo;var N=new Set;R.set(p,N)}else N=R.get(p),N===void 0&&(N=new Set,R.set(p,N));N.has(S)||(Id=!0,N.add(S),h=mf.bind(null,h,p,S),p.then(h,h))}function mf(h,p,S){var R=h.pingCache;R!==null&&R.delete(p),h.pingedLanes|=h.suspendedLanes&S,h.warmLanes&=~S,rn===h&&(je&S)===S&&(Zn===4||Zn===3&&(je&62914560)===je&&300>Tn()-Ff?(ce&2)===0&&hr(h,0):jf|=S,Za===je&&(Za=0)),Vt(h)}function jo(h,p){p===0&&(p=D()),h=Mt(h,p),h!==null&&(B(h,p),Vt(h))}function ta(h){var p=h.memoizedState,S=0;p!==null&&(S=p.retryLane),jo(h,S)}function gf(h,p){var S=0;switch(h.tag){case 13:var R=h.stateNode,N=h.memoizedState;N!==null&&(S=N.retryLane);break;case 19:R=h.stateNode;break;case 22:R=h.stateNode._retryCache;break;default:throw Error(a(314))}R!==null&&R.delete(p),jo(h,S)}function My(h,p){return Md(h,p)}function N2(h,p,S,R){this.tag=h,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Im(h){return h=h.prototype,!(!h||!h.isReactComponent)}function $s(h,p){var S=h.alternate;return S===null?(S=n(h.tag,p,h.key,h.mode),S.elementType=h.elementType,S.type=h.type,S.stateNode=h.stateNode,S.alternate=h,h.alternate=S):(S.pendingProps=p,S.type=h.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=h.flags&65011712,S.childLanes=h.childLanes,S.lanes=h.lanes,S.child=h.child,S.memoizedProps=h.memoizedProps,S.memoizedState=h.memoizedState,S.updateQueue=h.updateQueue,p=h.dependencies,S.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},S.sibling=h.sibling,S.index=h.index,S.ref=h.ref,S.refCleanup=h.refCleanup,S}function mi(h,p){h.flags&=65011714;var S=h.alternate;return S===null?(h.childLanes=0,h.lanes=p,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=S.childLanes,h.lanes=S.lanes,h.child=S.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=S.memoizedProps,h.memoizedState=S.memoizedState,h.updateQueue=S.updateQueue,h.type=S.type,p=S.dependencies,h.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),h}function $c(h,p,S,R,N,F){var et=0;if(R=h,typeof h=="function")Im(h)&&(et=1);else if(typeof h=="string")et=ha&&Ue?Ad(h,S,Gn.current)?26:fg(h)?27:5:ha?Ad(h,S,Gn.current)?26:5:Ue&&fg(h)?27:5;else t:switch(h){case tc:return h=n(31,S,p,N),h.elementType=tc,h.lanes=F,h;case Jl:return Lr(S.children,N,F,p);case hd:et=8,N|=24;break;case yf:return h=n(12,S,p,N|2),h.elementType=yf,h.lanes=F,h;case pd:return h=n(13,S,p,N),h.elementType=pd,h.lanes=F,h;case md:return h=n(19,S,p,N),h.elementType=md,h.lanes=F,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case fd:case Ks:et=10;break t;case Hm:et=9;break t;case cs:et=11;break t;case us:et=14;break t;case da:et=16,R=null;break t}et=29,S=Error(a(130,h===null?"null":typeof h,"")),R=null}return p=n(et,S,p,N),p.elementType=h,p.type=R,p.lanes=F,p}function Lr(h,p,S,R){return h=n(7,h,R,p),h.lanes=S,h}function Xl(h,p,S){return h=n(6,h,null,p),h.lanes=S,h}function dd(h,p,S){return p=n(4,h.children!==null?h.children:[],h.key,p),p.lanes=S,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}function Yc(h,p,S,R,N,F,et,ot){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=pr,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=P(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=P(0),this.hiddenUpdates=P(null),this.identifierPrefix=R,this.onUncaughtError=N,this.onCaughtError=F,this.onRecoverableError=et,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ot,this.incompleteTransitions=new Map}function Wl(h,p,S,R,N,F,et,ot,ft,Rt,Ft,Ut){return h=new Yc(h,p,S,et,ot,ft,Rt,Ut),p=1,F===!0&&(p|=24),F=n(3,null,null,p),h.current=F,F.stateNode=h,p=Ht(),p.refCount++,h.pooledCache=p,p.refCount++,F.memoizedState={element:R,isDehydrated:S,cache:p},en(F),h}function Dy(h){return h?(h=ic,h):ic}function zm(h){var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(a(188)):(h=Object.keys(h).join(","),Error(a(268,h)));return h=o(p),h=h!==null?c(h):null,h===null?null:Xc(h.stateNode)}function Oy(h,p,S,R,N,F){N=Dy(N),R.context===null?R.context=N:R.pendingContext=N,R=Ln(p),R.payload={element:S},F=F===void 0?null:F,F!==null&&(R.callback=F),S=On(h,R,p),S!==null&&(Zi(S,h,p),dn(S,h,p))}function Um(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var S=h.retryLane;h.retryLane=S!==0&&S<p?S:p}}function Ys(h,p){Um(h,p),(h=h.alternate)&&Um(h,p)}var Pe={},vf=El(),Ra=t3(),Ql=Object.assign,Ny=Symbol.for("react.element"),Zl=Symbol.for("react.transitional.element"),Fo=Symbol.for("react.portal"),Jl=Symbol.for("react.fragment"),hd=Symbol.for("react.strict_mode"),yf=Symbol.for("react.profiler"),fd=Symbol.for("react.provider"),Hm=Symbol.for("react.consumer"),Ks=Symbol.for("react.context"),cs=Symbol.for("react.forward_ref"),pd=Symbol.for("react.suspense"),md=Symbol.for("react.suspense_list"),us=Symbol.for("react.memo"),da=Symbol.for("react.lazy"),tc=Symbol.for("react.activity"),Gm=Symbol.for("react.memo_cache_sentinel"),bf=Symbol.iterator,gd=Symbol.for("react.client.reference"),Bo=Array.isArray,oe=vf.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Py=t.rendererVersion,Kc=t.rendererPackageName,vd=t.extraDevToolsConfig,Xc=t.getPublicInstance,qm=t.getRootHostContext,Vm=t.getChildHostContext,Io=t.prepareForCommit,ke=t.resetAfterCommit,Cn=t.createInstance;t.cloneMutableInstance;var ei=t.appendInitialChild,yd=t.finalizeInitialChildren,Xs=t.shouldSetTextContent,zo=t.createTextInstance;t.cloneMutableTextInstance;var xf=t.scheduleTimeout,bd=t.cancelTimeout,pr=t.noTimeout,Ws=t.isPrimaryRenderer;t.warnsIfNotActing;var Ve=t.supportsMutation,ds=t.supportsPersistence,Ma=t.supportsHydration,ky=t.getInstanceFromNode;t.beforeActiveInstanceBlur;var Ly=t.preparePortalMount;t.prepareScopeUpdate,t.getInstanceFromScope;var ki=t.setCurrentUpdatePriority,jr=t.getCurrentUpdatePriority,$m=t.resolveUpdatePriority;t.trackSchedulerEvent,t.resolveEventType,t.resolveEventTimeStamp;var Ym=t.shouldAttemptEagerTransition,Da=t.detachDeletedInstance;t.requestPostPaintCallback;var gi=t.maySuspendCommit,Sf=t.preloadInstance,xd=t.startSuspendingCommit,Sd=t.suspendInstance;t.suspendOnActiveViewTransition;var Km=t.waitForCommitToBeReady,Oa=t.NotPendingTransition,hs=t.HostTransitionContext,Xm=t.resetFormInstance;t.bindToConsole;var Wm=t.supportsMicrotasks,jy=t.scheduleMicrotask,Wc=t.supportsTestSelectors,Fy=t.findFiberRoot,By=t.getBoundingRect,Iy=t.getTextContent,Qc=t.isHiddenSubtree,Qm=t.matchAccessibilityRole,zy=t.setFocusIfFocusable,P2=t.setupIntersectionObserver,Uy=t.appendChild,Hy=t.appendChildToContainer,Gy=t.commitTextUpdate,Zm=t.commitMount,qy=t.commitUpdate,Vy=t.insertBefore,$y=t.insertInContainerBefore,Yy=t.removeChild,Ky=t.removeChildFromContainer,Xy=t.resetTextContent,Wy=t.hideInstance,Zc=t.hideTextInstance,wf=t.unhideInstance,Qy=t.unhideTextInstance;t.cancelViewTransitionName,t.cancelRootViewTransitionName,t.restoreRootViewTransitionName,t.cloneRootViewTransitionContainer,t.removeRootViewTransitionClone,t.measureClonedInstance,t.hasInstanceChanged,t.hasInstanceAffectedParent,t.startViewTransition,t.startGestureTransition,t.stopGestureTransition,t.getCurrentGestureOffset,t.subscribeToGestureDirection,t.createViewTransitionInstance;var _f=t.clearContainer;t.createFragmentInstance,t.updateFragmentInstanceFiber,t.commitNewChildToFragmentInstance,t.deleteChildFromFragmentInstance;var wd=t.cloneInstance,Jm=t.createContainerChildSet,tg=t.appendChildToContainerChildSet,Zy=t.finalizeContainerChildren,eg=t.replaceContainerChildren,ng=t.cloneHiddenInstance,ig=t.cloneHiddenTextInstance,_d=t.isSuspenseInstancePending,Ef=t.isSuspenseInstanceFallback,Jy=t.getSuspenseInstanceFallbackErrorDetails,ag=t.registerSuspenseInstanceRetry,tb=t.canHydrateFormStateMarker,eb=t.isFormStateMarkerMatching,nb=t.getNextHydratableSibling,rg=t.getNextHydratableSiblingAfterSingleton,ib=t.getFirstHydratableChild,ab=t.getFirstHydratableChildWithinContainer,sg=t.getFirstHydratableChildWithinSuspenseInstance,rb=t.getFirstHydratableChildWithinSingleton,sb=t.canHydrateInstance,k2=t.canHydrateTextInstance,L2=t.canHydrateSuspenseInstance,ob=t.hydrateInstance,Ed=t.hydrateTextInstance,og=t.hydrateSuspenseInstance,Af=t.getNextHydratableInstanceAfterSuspenseInstance,lb=t.commitHydratedContainer,cb=t.commitHydratedSuspenseInstance,Cf=t.clearSuspenseBoundary,ub=t.clearSuspenseBoundaryFromContainer,lg=t.shouldDeleteUnhydratedTailInstances;t.diffHydratedPropsForDevWarnings,t.diffHydratedTextForDevWarnings,t.describeHydratableInstanceForDevWarnings;var j2=t.validateHydratableInstance,Jc=t.validateHydratableTextInstance,ha=t.supportsResources,Ad=t.isHostHoistableType,ec=t.getHoistableRoot,Cd=t.getResource,cg=t.acquireResource,ug=t.releaseResource,tu=t.hydrateHoistable,dg=t.mountHoistable,Ya=t.unmountHoistable,fs=t.createHoistableInstance,Uo=t.prepareToCommitHoistables,db=t.mayResourceSuspendCommit,Qs=t.preloadResource,Zs=t.suspendResource,Ue=t.supportsSingletons,Td=t.resolveSingletonInstance,hg=t.acquireSingletonInstance,Tf=t.releaseSingletonInstance,fg=t.isHostSingletonType,nc=t.isSingletonScope,Js=[],to=-1,ic={},Na=Math.clz32?Math.clz32:w,hb=Math.log,Rf=Math.LN2,Rd=256,eu=4194304,Md=Ra.unstable_scheduleCallback,Mf=Ra.unstable_cancelCallback,F2=Ra.unstable_shouldYield,fb=Ra.unstable_requestPaint,Tn=Ra.unstable_now,Li=Ra.unstable_ImmediatePriority,pb=Ra.unstable_UserBlockingPriority,Df=Ra.unstable_NormalPriority,mb=Ra.unstable_IdlePriority,gb=Ra.log,vb=Ra.unstable_setDisableYieldValue,Ho=null,fa=null,Of,pg,Nf=!1,Pf=new WeakMap,Go=[],qo=0,Dd=null,nu=0,pa=[],Pa=0,Vo=null,Fr=1,ps="",Gn=v(null),ac=v(null),$o=v(null),Od=v(null),Qn=null,vi=null,Ze=!1,Br=null,hn=!1,mg=Error(a(519)),Ka=typeof Object.is=="function"?Object.is:Jt,Nd=v(null),Ir=null,ea=null,yb=typeof AbortController<"u"?AbortController:function(){var h=[],p=this.signal={aborted:!1,addEventListener:function(S,R){h.push(R)}};this.abort=function(){p.aborted=!0,h.forEach(function(S){return S()})}},bb=Ra.unstable_scheduleCallback,Pd=Ra.unstable_NormalPriority,yn={$$typeof:Ks,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},kd=null,Yo=null,kf=!1,iu=!1,Ld=!1,eo=0,au=null,zr=0,jn=0,Ko=null,gg=oe.S;oe.S=function(h,p){typeof p=="object"&&p!==null&&typeof p.then=="function"&&Ui(h,p),gg!==null&&gg(h,p)};var Xn=v(null),B2=Object.prototype.hasOwnProperty,ru=Error(a(460)),Lf=Error(a(474)),Nn=Error(a(542)),qi={then:function(){}},ka=null,Xa=[],rc=0,vg=0,ms=!1,ma=!1,na=v(null),jd=v(0),yi=0,Oe=null,Ke=null,Fn=null,Ur=!1,Xo=!1,no=!1,Wa=0,su=0,Hr=null,Fd=0,Wo={readContext:Qt,use:Oc,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useLayoutEffect:Sn,useInsertionEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useSyncExternalStore:Sn,useId:Sn,useHostTransitionStatus:Sn,useFormState:Sn,useActionState:Sn,useOptimistic:Sn,useMemoCache:Sn,useCacheRefresh:Sn},sc={readContext:Qt,use:Oc,useCallback:function(h,p){return Xi().memoizedState=[h,p===void 0?null:p],h},useContext:Qt,useEffect:ym,useImperativeHandle:function(h,p,S){S=S!=null?S.concat([h]):null,Ku(4194308,4,kc.bind(null,p,h),S)},useLayoutEffect:function(h,p){return Ku(4194308,4,h,p)},useInsertionEffect:function(h,p){Ku(4,2,h,p)},useMemo:function(h,p){var S=Xi();p=p===void 0?null:p;var R=h();if(no){at(!0);try{h()}finally{at(!1)}}return S.memoizedState=[R,p],R},useReducer:function(h,p,S){var R=Xi();if(S!==void 0){var N=S(p);if(no){at(!0);try{S(p)}finally{at(!1)}}}else N=p;return R.memoizedState=R.baseState=N,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:N},R.queue=h,h=h.dispatch=Sm.bind(null,Oe,h),[R.memoizedState,h]},useRef:function(h){var p=Xi();return h={current:h},p.memoizedState=h},useState:function(h){h=Bh(h);var p=h.queue,S=qh.bind(null,Oe,p);return p.dispatch=S,[h.memoizedState,S]},useDebugValue:Xu,useDeferredValue:function(h,p){var S=Xi();return Lc(S,h,p)},useTransition:function(){var h=Bh(!1);return h=xm.bind(null,Oe,h.queue,!0,!1),Xi().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,p,S){var R=Oe,N=Xi();if(Ze){if(S===void 0)throw Error(a(407));S=S()}else{if(S=p(),rn===null)throw Error(a(349));(je&124)!==0||hm(R,p,S)}N.memoizedState=S;var F={value:S,getSnapshot:p};return N.queue=F,ym(oy.bind(null,R,F,h),[h]),R.flags|=2048,Co(9,Fs(),Yu.bind(null,R,F,S,p),null),S},useId:function(){var h=Xi(),p=rn.identifierPrefix;if(Ze){var S=ps,R=Fr;S=(R&~(1<<32-Na(R)-1)).toString(32)+S,p=""+p+"R"+S,S=Wa++,0<S&&(p+="H"+S.toString(32)),p+=""}else S=Fd++,p=""+p+"r"+S.toString(32)+"";return h.memoizedState=p},useHostTransitionStatus:Is,useFormState:zh,useActionState:zh,useOptimistic:function(h){var p=Xi();p.memoizedState=p.baseState=h;var S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=S,p=Fc.bind(null,Oe,!0,S),S.dispatch=p,[h,p]},useMemoCache:um,useCacheRefresh:function(){return Xi().memoizedState=T2.bind(null,Oe)}},yg={readContext:Qt,use:Oc,useCallback:Wu,useContext:Qt,useEffect:Pc,useImperativeHandle:Bs,useInsertionEffect:ts,useLayoutEffect:Gh,useMemo:bm,useReducer:ca,useRef:Ll,useState:function(){return ca(Jr)},useDebugValue:Xu,useDeferredValue:function(h,p){var S=oi();return Qu(S,Ke.memoizedState,h,p)},useTransition:function(){var h=ca(Jr)[0],p=oi().memoizedState;return[typeof h=="boolean"?h:Pl(h),p]},useSyncExternalStore:$u,useId:Zu,useHostTransitionStatus:Is,useFormState:ly,useActionState:ly,useOptimistic:function(h,p){var S=oi();return Ih(S,Ke,h,p)},useMemoCache:um,useCacheRefresh:jc},xb={readContext:Qt,use:Oc,useCallback:Wu,useContext:Qt,useEffect:Pc,useImperativeHandle:Bs,useInsertionEffect:ts,useLayoutEffect:Gh,useMemo:bm,useReducer:dm,useRef:Ll,useState:function(){return dm(Jr)},useDebugValue:Xu,useDeferredValue:function(h,p){var S=oi();return Ke===null?Lc(S,h,p):Qu(S,Ke.memoizedState,h,p)},useTransition:function(){var h=dm(Jr)[0],p=oi().memoizedState;return[typeof h=="boolean"?h:Pl(h),p]},useSyncExternalStore:$u,useId:Zu,useHostTransitionStatus:Is,useFormState:Hh,useActionState:Hh,useOptimistic:function(h,p){var S=oi();return Ke!==null?Ih(S,Ke,h,p):(S.baseState=h,[h,S.queue.dispatch])},useMemoCache:um,useCacheRefresh:jc},gs=null,ou=0,io=fy(!0),bg=fy(!1),mr=v(null),vs=null,ve=v(0),Rn={enqueueSetState:function(h,p,S){h=h._reactInternals;var R=Pi(),N=Ln(R);N.payload=p,S!=null&&(N.callback=S),p=On(h,N,R),p!==null&&(Zi(p,h,R),dn(p,h,R))},enqueueReplaceState:function(h,p,S){h=h._reactInternals;var R=Pi(),N=Ln(R);N.tag=1,N.payload=p,S!=null&&(N.callback=S),p=On(h,N,R),p!==null&&(Zi(p,h,R),dn(p,h,R))},enqueueForceUpdate:function(h,p){h=h._reactInternals;var S=Pi(),R=Ln(S);R.tag=2,p!=null&&(R.callback=p),p=On(h,R,S),p!==null&&(Zi(p,h,S),dn(p,h,S))}},ze=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},Xe=Error(a(461)),ye=!1,ga={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},ia=!1,Bn=!1,Bd=!1,ys=typeof WeakSet=="function"?WeakSet:Set,Le=null,Pn=null,bi=!1,Qa=null,Vi=8192,lu={getCacheForType:function(h){var p=Qt(yn),S=p.data.get(h);return S===void 0&&(S=h(),p.data.set(h,S)),S}},Qo=0,$i=1,cu=2,uu=3,oc=4;if(typeof Symbol=="function"&&Symbol.for){var Zo=Symbol.for;Qo=Zo("selector.component"),$i=Zo("selector.has_pseudo_class"),cu=Zo("selector.role"),uu=Zo("selector.test_id"),oc=Zo("selector.text")}var Jo=typeof WeakMap=="function"?WeakMap:Map,ce=0,rn=null,Ae=null,je=0,bn=0,va=null,ao=!1,bs=!1,Id=!1,li=0,Zn=0,xi=0,tl=0,jf=0,gr=0,Za=0,el=null,aa=null,nl=!1,Ff=0,du=1/0,zd=null,xs=null,Ei=0,il=null,hu=null,fu=0,Bf=0,If=null,lc=null,al=0,zf=null;return Pe.attemptContinuousHydration=function(h){if(h.tag===13){var p=Mt(h,67108864);p!==null&&Zi(p,h,67108864),Ys(h,67108864)}},Pe.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var p=Pi();p=G(p);var S=Mt(h,p);S!==null&&Zi(S,h,p),Ys(h,p)}},Pe.attemptSynchronousHydration=function(h){switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var p=E(h.pendingLanes);if(p!==0){for(h.pendingLanes|=2,h.entangledLanes|=2;p;){var S=1<<31-Na(p);h.entanglements[1]|=S,p&=~S}Vt(h),(ce&6)===0&&(du=Tn()+500,ee(0))}}break;case 13:p=Mt(h,2),p!==null&&Zi(p,h,2),rs(),Ys(h,2)}},Pe.batchedUpdates=function(h,p){return h(p)},Pe.createComponentSelector=function(h){return{$$typeof:Qo,value:h}},Pe.createContainer=function(h,p,S,R,N,F,et,ot,ft,Rt){return Wl(h,p,!1,null,S,R,F,et,ot,ft,Rt,null)},Pe.createHasPseudoClassSelector=function(h){return{$$typeof:$i,value:h}},Pe.createHydrationContainer=function(h,p,S,R,N,F,et,ot,ft,Rt,Ft,Ut,Gt){return h=Wl(S,R,!0,h,N,F,ot,ft,Rt,Ft,Ut,Gt),h.context=Dy(null),S=h.current,R=Pi(),R=G(R),N=Ln(R),N.callback=p??null,On(S,N,R),p=R,h.current.lanes=p,B(h,p),Vt(h),h},Pe.createPortal=function(h,p,S){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fo,key:R==null?null:""+R,children:h,containerInfo:p,implementation:S}},Pe.createRoleSelector=function(h){return{$$typeof:cu,value:h}},Pe.createTestNameSelector=function(h){return{$$typeof:uu,value:h}},Pe.createTextSelector=function(h){return{$$typeof:oc,value:h}},Pe.defaultOnCaughtError=function(h){console.error(h)},Pe.defaultOnRecoverableError=function(h){ze(h)},Pe.defaultOnUncaughtError=function(h){ze(h)},Pe.deferredUpdates=function(h){var p=oe.T,S=jr();try{return ki(32),oe.T=null,h()}finally{ki(S),oe.T=p}},Pe.discreteUpdates=function(h,p,S,R,N){var F=oe.T,et=jr();try{return ki(2),oe.T=null,h(p,S,R,N)}finally{ki(et),oe.T=F,ce===0&&(du=Tn()+500)}},Pe.findAllNodes=cd,Pe.findBoundingRects=function(h,p){if(!Wc)throw Error(a(363));p=cd(h,p),h=[];for(var S=0;S<p.length;S++)h.push(By(p[S]));for(p=h.length-1;0<p;p--){S=h[p];for(var R=S.x,N=R+S.width,F=S.y,et=F+S.height,ot=p-1;0<=ot;ot--)if(p!==ot){var ft=h[ot],Rt=ft.x,Ft=Rt+ft.width,Ut=ft.y,Gt=Ut+ft.height;if(R>=Rt&&F>=Ut&&N<=Ft&&et<=Gt){h.splice(p,1);break}else if(R!==Rt||S.width!==ft.width||Gt<F||Ut>et){if(!(F!==Ut||S.height!==ft.height||Ft<R||Rt>N)){Rt>R&&(ft.width+=Rt-R,ft.x=R),Ft<N&&(ft.width=N-Rt),h.splice(p,1);break}}else{Ut>F&&(ft.height+=Ut-F,ft.y=F),Gt<et&&(ft.height=et-Ut),h.splice(p,1);break}}}return h},Pe.findHostInstance=zm,Pe.findHostInstanceWithNoPortals=function(h){return h=o(h),h=h!==null?d(h):null,h===null?null:Xc(h.stateNode)},Pe.findHostInstanceWithWarning=function(h){return zm(h)},Pe.flushPassiveEffects=fr,Pe.flushSyncFromReconciler=function(h){var p=ce;ce|=1;var S=oe.T,R=jr();try{if(ki(2),oe.T=null,h)return h()}finally{ki(R),oe.T=S,ce=p,(ce&6)===0&&ee(0)}},Pe.flushSyncWork=rs,Pe.focusWithin=function(h,p){if(!Wc)throw Error(a(363));for(h=cf(h),p=uf(h,p),p=Array.from(p),h=0;h<p.length;){var S=p[h++],R=S.tag;if(!Qc(S)){if((R===5||R===26||R===27)&&zy(S.stateNode))return!0;for(S=S.child;S!==null;)p.push(S),S=S.sibling}}return!1},Pe.getFindAllNodesFailureDescription=function(h,p){if(!Wc)throw Error(a(363));var S=0,R=[];h=[cf(h),0];for(var N=0;N<h.length;){var F=h[N++],et=F.tag,ot=h[N++],ft=p[ot];if((et!==5&&et!==26&&et!==27||!Qc(F))&&(Gc(F,ft)&&(R.push(Vs(ft)),ot++,ot>S&&(S=ot)),ot<p.length))for(F=F.child;F!==null;)h.push(F,ot),F=F.sibling}if(S<p.length){for(h=[];S<p.length;S++)h.push(Vs(p[S]));return`findAllNodes was able to match part of the selector:
  `+(R.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},Pe.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 27:case 5:return Xc(h.child.stateNode);default:return h.child.stateNode}},Pe.injectIntoDevTools=function(){var h={bundleType:0,version:Py,rendererPackageName:Kc,currentDispatcherRef:oe,reconcilerVersion:"19.1.0"};if(vd!==null&&(h.rendererConfig=vd),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)h=!0;else{try{Ho=p.inject(h),fa=p}catch{}h=!!p.checkDCE}}return h},Pe.isAlreadyRendering=function(){return(ce&6)!==0},Pe.observeVisibleRects=function(h,p,S,R){if(!Wc)throw Error(a(363));h=cd(h,p);var N=P2(h,S,R).disconnect;return{disconnect:function(){N()}}},Pe.shouldError=function(){return null},Pe.shouldSuspend=function(){return!1},Pe.startHostTransition=function(h,p,S,R){if(h.tag!==5)throw Error(a(476));var N=ua(h).queue;xm(h,N,p,Oa,S===null?i:function(){var F=ua(h).next.queue;return zs(h,F,{},Pi()),S(R)})},Pe.updateContainer=function(h,p,S,R){var N=p.current,F=Pi();return Oy(N,F,h,p,S,R),F},Pe.updateContainerSync=function(h,p,S,R){return Oy(p.current,2,h,p,S,R),2},Pe},e.exports.default=e.exports,Object.defineProperty(e.exports,"__esModule",{value:!0})}(_A)),_A.exports}var C9;function yvt(){return C9||(C9=1,wA.exports=vvt()),wA.exports}var bvt=yvt();const xvt=Qr(bvt);var EA={exports:{}},pc={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T9;function Svt(){return T9||(T9=1,pc.ConcurrentRoot=1,pc.ContinuousEventPriority=8,pc.DefaultEventPriority=32,pc.DiscreteEventPriority=2,pc.IdleEventPriority=268435456,pc.LegacyRoot=0,pc.NoEventPriority=0),pc}var R9;function wvt(){return R9||(R9=1,EA.exports=Svt()),EA.exports}var A2=wvt(),_vt=He();const M9={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let D9=!1,O9=!1;const fx=".react-konva-event",Evt=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,Avt=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,Cvt={};function C2(e,t,n=Cvt){if(!D9&&"zIndex"in t&&(console.warn(Avt),D9=!0),!O9&&t.draggable){var i=t.x!==void 0||t.y!==void 0,a=t.onDragEnd||t.onDragMove;i&&!a&&(console.warn(Evt),O9=!0)}for(var r in n)if(!M9[r]){var s=r.slice(0,2)==="on",o=n[r]!==t[r];if(s&&o){var c=r.substr(2).toLowerCase();c.substr(0,7)==="content"&&(c="content"+c.substr(7,1).toUpperCase()+c.substr(8)),e.off(c,n[r])}var d=!t.hasOwnProperty(r);d&&e.setAttr(r,void 0)}var f=t._useStrictMode,g={},v=!1;const y={};for(var r in t)if(!M9[r]){var s=r.slice(0,2)==="on",b=n[r]!==t[r];if(s&&b){var c=r.substr(2).toLowerCase();c.substr(0,7)==="content"&&(c="content"+c.substr(7,1).toUpperCase()+c.substr(8)),t[r]&&(y[c]=t[r])}!s&&(t[r]!==n[r]||f&&t[r]!==e.getAttr(r))&&(v=!0,g[r]=t[r])}v&&(e.setAttrs(g),Vu(e));for(var c in y)e.off(c+fx),e.on(c+fx,y[c])}function Vu(e){if(!_vt.Konva.autoDrawEnabled){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}}var AA=t3();const kI={},Tvt={};hx.Node.prototype._applyProps=C2;let LI=A2.DefaultEventPriority;function Rvt(e,t){if(typeof t=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${t}`);return}e.add(t),Vu(e)}function Mvt(e,t,n){let i=hx[e];i||(console.error(`Konva has no node with the type ${e}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${e}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),i=hx.Group);const a={},r={};for(var s in t)if(s!=="ref"){var o=s.slice(0,2)==="on";o?r[s]=t[s]:a[s]=t[s]}const c=new i(a);return C2(c,r),c}function Dvt(e,t,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${e}"`)}function Ovt(e,t,n){return!1}function Nvt(e){return e}function Pvt(){return null}function kvt(){return null}function Lvt(e,t,n,i){return Tvt}function jvt(){}function Fvt(e){}function Bvt(e,t){return!1}function Ivt(){return kI}function zvt(){return kI}const Uvt=setTimeout,Hvt=clearTimeout,Gvt=!0,qvt=e=>{e()},Vvt=-1;function $vt(e,t){return!1}const Yvt=!1,Kvt=!1,Xvt=!0,Wvt=!1,Qvt=!1;function Zvt(e,t){t.parent===e?t.moveToTop():e.add(t),Vu(e)}function Jvt(e,t){t.parent===e?t.moveToTop():e.add(t),Vu(e)}function jI(e,t,n){t._remove(),e.add(t),t.setZIndex(n.getZIndex()),Vu(e)}function tyt(e,t,n){jI(e,t,n)}function eyt(e,t){t.destroy(),t.off(fx),Vu(e)}function nyt(e,t){t.destroy(),t.off(fx),Vu(e)}function iyt(e,t,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function ayt(e,t,n){}function ryt(e,t,n,i){C2(e,i,n)}function syt(e){e.hide(),Vu(e)}function oyt(e){}function lyt(e,t){(t.visible==null||t.visible)&&e.show()}function cyt(e,t){}function uyt(e){}function dyt(){}function hyt(){return A2.DefaultEventPriority}function fyt(){}function pyt(){return null}function myt(e){LI=e}function gyt(){return LI}function vyt(){return A2.DiscreteEventPriority}function yyt(){return!1}function byt(){}function xyt(){return!1}function Syt(){return!0}function wyt(){}function _yt(){}function Eyt(){return null}const Ayt=null;function Cyt(){}const Tyt=Object.freeze(Object.defineProperty({__proto__:null,NotPendingTransition:Ayt,appendChild:Zvt,appendChildToContainer:Jvt,appendInitialChild:Rvt,cancelTimeout:Hvt,clearContainer:uyt,commitMount:ayt,commitTextUpdate:iyt,commitUpdate:ryt,createInstance:Mvt,createTextInstance:Dvt,detachDeletedInstance:dyt,finalizeInitialChildren:Ovt,getChildHostContext:zvt,getCurrentEventPriority:hyt,getCurrentUpdatePriority:gyt,getInstanceFromScope:pyt,getPublicInstance:Nvt,getRootHostContext:Ivt,hideInstance:syt,hideTextInstance:oyt,idlePriority:AA.unstable_IdlePriority,insertBefore:jI,insertInContainerBefore:tyt,isPrimaryRenderer:Yvt,maySuspendCommit:xyt,noTimeout:Vvt,now:AA.unstable_now,preloadInstance:Syt,prepareForCommit:Pvt,preparePortalMount:kvt,prepareScopeUpdate:fyt,prepareUpdate:Lvt,removeChild:eyt,removeChildFromContainer:nyt,requestPostPaintCallback:byt,resetAfterCommit:jvt,resetFormInstance:Cyt,resetTextContent:Fvt,resolveUpdatePriority:vyt,run:AA.unstable_runWithPriority,scheduleMicrotask:qvt,scheduleTimeout:Uvt,setCurrentUpdatePriority:myt,shouldAttemptEagerTransition:yyt,shouldDeprioritizeSubtree:Bvt,shouldSetTextContent:$vt,startSuspendingCommit:wyt,supportsHydration:Qvt,supportsMicrotasks:Gvt,supportsMutation:Xvt,supportsPersistence:Wvt,suspendInstance:_yt,unhideInstance:lyt,unhideTextInstance:cyt,waitForCommitToBeReady:Eyt,warnsIfNotActing:Kvt},Symbol.toStringTag,{value:"Module"}));function FI(e,t,n){if(!e)return;if(n(e)===!0)return e;let i=e.child;for(;i;){const a=FI(i,t,n);if(a)return a;i=i.sibling}}function BI(e){try{return Object.defineProperties(e,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return e}}const G5=BI(j.createContext(null));class II extends j.Component{render(){return j.createElement(G5.Provider,{value:this._reactInternals},this.props.children)}}function Ryt(){const e=j.useContext(G5);if(e===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=j.useId();return j.useMemo(()=>{for(const n of[e,e?.alternate]){if(!n)continue;const i=FI(n,!1,a=>{let r=a.memoizedState;for(;r;){if(r.memoizedState===t)return!0;r=r.next}});if(i)return i}},[e,t])}const Myt=Symbol.for("react.context"),Dyt=e=>e!==null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Myt;function Oyt(){const e=Ryt(),[t]=j.useState(()=>new Map);t.clear();let n=e;for(;n;){const i=n.type;Dyt(i)&&i!==G5&&!t.has(i)&&t.set(i,j.use(BI(i))),n=n.return}return t}function zI(){const e=Oyt();return j.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>i=>j.createElement(t,null,j.createElement(n.Provider,{...i,value:e.get(n)})),t=>j.createElement(II,{...t})),[e])}if(Y.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function Nyt(e){const t=Y.useRef({});return Y.useLayoutEffect(()=>{t.current=e}),Y.useLayoutEffect(()=>()=>{t.current={}},[]),t.current}const Pyt=()=>{const e=Y.useRef(0);return Y.useMemo(()=>{e.current++},[]),e.current>1},kyt=e=>{const t=Y.useRef(null),n=Y.useRef(null),i=Y.useRef(null),a=Nyt(e),r=zI(),s=Y.useRef(!1),o=d=>{const{forwardedRef:f}=e;f&&(typeof f=="function"?f(d):f.current=d)},c=Pyt();return Y.useLayoutEffect(()=>s.current&&c?()=>{s.current=!1,o(null),bp.updateContainer(null,i.current,null),n.current.destroy()}:(s.current=!0,n.current=new hx.Stage({width:e.width,height:e.height,container:t.current}),o(n.current),i.current=bp.createContainer(n.current,A2.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),bp.updateContainer(Y.createElement(r,{},e.children),i.current,null,()=>{}),()=>{c||(o(null),bp.updateContainer(null,i.current,null),n.current.destroy())}),[]),Y.useLayoutEffect(()=>{o(n.current),C2(n.current,e,a),bp.updateContainer(Y.createElement(r,{},e.children),i.current,null)}),Y.createElement("div",{ref:t,id:e.id,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},Lyt="Layer",sy="Group",wh="Rect",jyt="Circle",px="Line",q5="Image",Fyt="Text",Byt="Arrow",Dc="Transformer",bp=xvt(Tyt);bp.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:Y.version,rendererPackageName:"react-konva"});const Iyt=Y.forwardRef((e,t)=>Y.createElement(II,{},Y.createElement(kyt,{...e,forwardedRef:t})));var CA,N9;function zyt(){if(N9)return CA;N9=1;var e=El();return CA=function(n,i,a){const r=e.useRef("loading"),s=e.useRef(),[o,c]=e.useState(0),d=e.useRef(),f=e.useRef(),g=e.useRef();return(d.current!==n||f.current!==i||g.current!==a)&&(r.current="loading",s.current=void 0,d.current=n,f.current=i,g.current=a),e.useLayoutEffect(function(){if(!n)return;var v=document.createElement("img");function y(){v.decode().catch(()=>{}).finally(()=>{r.current="loaded",s.current=v,c(Math.random())})}function b(){r.current="failed",s.current=void 0,c(Math.random())}return v.addEventListener("load",y),v.addEventListener("error",b),i&&(v.crossOrigin=i),a&&(v.referrerPolicy=a),v.src=n,function(){v.removeEventListener("load",y),v.removeEventListener("error",b)}},[n,i,a]),[s.current,r.current]},CA}var Uyt=zyt();const V5=Qr(Uyt);function Hyt(e,{zoom:t,setZoom:n,pan:i,setPan:a,tool:r}){j.useEffect(()=>{const s=e.current;if(!s)return;const o=c=>{c.evt.preventDefault();const d=1.02,f=t,g=s.getPointerPosition(),v={x:(g.x-s.x())/f,y:(g.y-s.y())/f},b=(c.evt.deltaY>0?-1:1)>0?f*d:f/d;n(b);const w={x:g.x-v.x*b,y:g.y-v.y*b};a(w)};return s.on("wheel",o),()=>{s.off("wheel",o)}},[t,n,a,e]),j.useEffect(()=>{const s=e.current;if(!s)return;s.draggable(r==="hand");const o=()=>{r==="hand"&&a({x:s.x(),y:s.y()})};return s.on("dragend",o),()=>{s.off("dragend",o)}},[r,a,e])}function Gyt({autoEditTextId:e,setAutoEditTextId:t,selectedShapeId:n,selectedShapeIds:i,clearSelection:a,copyShape:r,pasteShape:s,toggleGrid:o,toggleLayersPanel:c,removeSelectedShapes:d,tool:f}){const g=Lt(v=>v.mode);j.useEffect(()=>{const v=y=>{const b=y.target.tagName?.toUpperCase();if(!(b==="INPUT"||b==="TEXTAREA"||b==="SELECT"||y.target.isContentEditable||e!==null)){if((y.key==="Delete"||y.key==="Backspace")&&f==="select"&&g==="edit"){i.length>0&&d();return}if(g==="edit"&&(y.ctrlKey||y.metaKey)){if(y.key.toLowerCase()==="c"&&n){y.preventDefault(),r(n);return}if(y.key.toLowerCase()==="v"){y.preventDefault(),s();return}return}if(g==="edit"&&y.shiftKey&&y.key.toLowerCase()==="l"){y.preventDefault(),c(),Lt.getState().setTool("select");return}if(y.key==="h"){Lt.getState().setTool("hand");return}if(g==="edit")switch(y.key){case"a":Lt.getState().setTool("arrow");break;case"v":Lt.getState().setTool("select");break;case"r":Lt.getState().setTool("rect");break;case"c":Lt.getState().setTool("circle");break;case"l":Lt.getState().setTool("line");break;case"f":Lt.getState().setTool("free");break;case"t":Lt.getState().setTool("text");break;case"i":Lt.getState().setTool("image");break;case"m":Lt.getState().setTool("marker");break;case"Escape":e?t(null):i.length>0&&a();break;case"g":o();break}}};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[e,t,n,i,a,r,s,o,c,d,f,g])}function qyt({tool:e,layers:t,activeLayerId:n,strokeColor:i,fillColor:a,addShape:r,updateShape:s,setSelectedShape:o,saveToHistory:c,setAutoEditTextId:d,getCanvasPosition:f,useCanvasStoreRef:g}){const[v,y]=j.useState(!1),[b,w]=j.useState(null);return{isDrawing:v,currentId:b,handleMouseDown:_=>{const M=t.find(k=>k.id===n);if(M&&M.locked)return;y(!0);const D=f();let P={},B=null;switch(e){case"line":P={layerId:n,type:"line",props:{points:[D.x,D.y,D.x,D.y],stroke:i||"black",strokeWidth:2}},B=r(P),w(B);break;case"arrow":P={layerId:n,type:"arrow",props:{points:[D.x,D.y,D.x,D.y],stroke:i||"black",fill:i||"black",strokeWidth:4,pointerLength:20,pointerWidth:20}},B=r(P),w(B);break;case"rect":P={layerId:n,type:"rect",props:{x:D.x,y:D.y,width:0,height:0,fill:a||"transparent",stroke:i||"black",strokeWidth:2}},B=r(P),w(B);break;case"circle":P={layerId:n,type:"circle",props:{x:D.x,y:D.y,radius:0,fill:a||"transparent",stroke:i||"black",strokeWidth:2}},B=r(P),w(B);break;case"free":P={layerId:n,type:"free",props:{points:[D.x,D.y],stroke:i||"black",strokeWidth:2}},B=r(P),w(B);break;case"text":P={layerId:n,type:"text",props:{x:D.x,y:D.y,text:"Ingrese texto",fontSize:16,fontFamily:"Arial",fill:a||"#eee",stroke:i||"#222"}},B=r(P),d(B),setTimeout(()=>o(B),0),g&&g.getState().setTool("select");break;case"marker":P={layerId:n,type:"marker",props:{x:D.x,y:D.y,color:"red",title:"",description:"",images:[]}},B=r(P),w(B);break}},handleMouseMove:(_,M)=>{if(!v||!b)return;const D=f(),P=M?.find(H=>H.id===b);if(!P)return;const{x:B,y:k,points:z}=P.props;switch(P.type){case"free":s(b,{points:[...z,D.x,D.y]});break;case"line":s(b,{points:[z[0],z[1],D.x,D.y]});break;case"arrow":s(b,{points:[z[0],z[1],D.x,D.y]});break;case"rect":s(b,{width:D.x-B,height:D.y-k});break;case"circle":const H=Math.hypot(D.x-B,D.y-k);s(b,{radius:H});break}},handleMouseUp:()=>{v&&(y(!1),w(null),c())}}}function Vyt({getCanvasPosition:e,shapes:t,layers:n,setMultipleSelection:i}){const[a,r]=j.useState(null),[s,o]=j.useState(!1);return{selectBox:a,isSelecting:s,handleStart:()=>{const g=e();o(!0),r({startX:g.x,startY:g.y,endX:g.x,endY:g.y})},handleMove:()=>{if(!s||!a)return;const g=e();r(v=>({...v,endX:g.x,endY:g.y}))},handleEnd:()=>{if(!s||!a)return;if(Math.abs(a.endX-a.startX)+Math.abs(a.endY-a.startY)>5){const v=Math.min(a.startX,a.endX),y=Math.max(a.startX,a.endX),b=Math.min(a.startY,a.endY),w=Math.max(a.startY,a.endY),E=t.filter(C=>{const A=C.props;let _,M,D,P;const B=n.find(k=>k.id===C.layerId);if(B&&B.locked)return!1;switch(C.type){case"rect":case"image":case"text":case"marker":_=A.x,M=A.x+A.width,D=A.y,P=A.y+A.height;break;case"circle":_=A.x-A.radius,M=A.x+A.radius,D=A.y-A.radius,P=A.y+A.radius;break;case"line":case"free":case"arrow":if(A.points&&A.points.length>=2){const k=A.points.filter((H,G)=>G%2===0),z=A.points.filter((H,G)=>G%2===1);_=Math.min(...k),M=Math.max(...k),D=Math.min(...z),P=Math.max(...z)}else return!1;break;default:return!1}return M>=v&&_<=y&&P>=b&&D<=w});E.length>0&&i(E.map(C=>C.id))}o(!1),r(null)}}}function $yt(){const[e,t]=j.useState(null);return{contextMenu:e,showContextMenu:(a,r)=>{const s=a.evt?a.evt.clientX:a.clientX,o=a.evt?a.evt.clientY:a.clientY;t({x:s,y:o,shapeId:r})},hideContextMenu:()=>t(null)}}function Yyt({fileInputRef:e,CANVAS_WIDTH:t,CANVAS_HEIGHT:n,layers:i,activeLayerId:a,addShape:r,setSelectedShape:s,setTool:o,saveToHistory:c}){return{handleImageUpload:g=>{const v=g.target.files?.[0];if(!v)return;const y=new FileReader;y.onload=()=>{const b=y.result,w=new window.Image;w.onload=()=>{const E=t,C=n;let A=w.width,_=w.height,M=1;(A>E||_>C)&&(M=Math.min(E/A,C/_),A=A*M,_=_*M);const D={x:t/2-A/2,y:n/2-_/2},P=i.find(k=>k.id===a);if(P&&P.locked)return;const B=r({layerId:a,type:"image",props:{x:D.x,y:D.y,src:b,width:A,height:_}});setTimeout(()=>s(B),0),o&&o("select")},w.src=b},y.readAsDataURL(v),c&&c()},openImageInput:()=>{e.current&&(e.current.value="",e.current.click())}}}function Kyt(e,t){if(!e.current)return{x:0,y:0};const n=e.current,i=n.getPointerPosition();if(!i)return{x:0,y:0};const a=n.getAbsoluteTransform().copy();a.invert();const r=a.point(i);return{x:r.x-(t?.x||0),y:r.y-(t?.y||0)}}function Xyt({width:e=1080,height:t=720,cellSize:n=20,stroke:i="#ddd",dash:a=[2,2],enabled:r=!0}){if(!r)return null;const s=[];for(let o=0;o<=e;o+=n)s.push(L.jsx(px,{points:[o,0,o,t],stroke:i,dash:a,listening:!1},`v-${o}`));for(let o=0;o<=t;o+=n)s.push(L.jsx(px,{points:[0,o,e,o],stroke:i,dash:a,listening:!1},`h-${o}`));return L.jsx(sy,{children:s})}function Wyt({id:e,points:t,stroke:n,strokeWidth:i,tension:a=.5,lineCap:r="round",lineJoin:s="round",isSelected:o,isInMultiSelection:c,onSelect:d,onUpdate:f,onDragEnd:g,onContextMenu:v,draggable:y=!0,listening:b=!0,tool:w="select"}){const E=j.useRef(),C=j.useRef();j.useEffect(()=>{o&&E.current&&C.current&&(C.current.nodes([E.current]),C.current.getLayer().batchDraw())},[o]);const A=_=>{const M=E.current,D=M.scaleX(),P=M.scaleY(),B=M.rotation();if(D===0||P===0)return;const k=M.points().map((z,H)=>H%2===0?z*D:z*P);M.scaleX(1),M.scaleY(1),f({id:e,props:{points:k,x:M.x(),y:M.y(),rotation:B}})};return L.jsxs(L.Fragment,{children:[L.jsx(px,{id:e,ref:E,points:t,stroke:n,strokeWidth:c?i+1:i,tension:a,lineCap:r,lineJoin:s,draggable:y&&(o||c),listening:b,opacity:c?.8:1,onClick:d,onTap:d,onContextMenu:v,onDragEnd:g,onTransformEnd:A,onMouseEnter:_=>{const M=_.target.getStage();b&&(M.container().style.cursor="move")},onMouseLeave:_=>{const M=_.target.getStage(),D=w||"select";M.container().style.cursor=D==="hand"?"grab":D==="select"?"default":"crosshair"}}),o&&L.jsx(Dc,{ref:C,rotateEnabled:!0,boundBoxFunc:(_,M)=>Math.abs(M.width)<10||Math.abs(M.height)<10?_:M})]})}function Qyt({id:e,x:t,y:n,width:i,height:a,stroke:r="#000",fill:s="transparent",strokeWidth:o=2,isSelected:c,isInMultiSelection:d,onSelect:f,onTransformEnd:g,onDragEnd:v,rotation:y,onDoubleClick:b,onContextMenu:w,listening:E=!0,tool:C="select"}){const A=j.useRef(),_=j.useRef();return j.useEffect(()=>{c&&A.current&&_.current&&(_.current.nodes([A.current]),_.current.getLayer().batchDraw())},[c]),L.jsxs(L.Fragment,{children:[L.jsx(wh,{id:e,ref:A,x:t,y:n,width:i,height:a,stroke:r,fill:s,strokeWidth:d?o+1:o,draggable:c||d,rotation:y||0,opacity:d?.8:1,onClick:f,onTap:f,onDblClick:b,onDblTap:b,onDragEnd:v||g,onTransformEnd:g,onContextMenu:w,onMouseEnter:M=>{const D=M.target.getStage();E&&(D.container().style.cursor="move")},onMouseLeave:M=>{const D=M.target.getStage(),P=C||"select";D.container().style.cursor=P==="hand"?"grab":P==="select"?"default":"crosshair"}}),c&&L.jsx(Dc,{ref:_,rotateEnabled:!0,boundBoxFunc:(M,D)=>Math.abs(D.width)<10||Math.abs(D.height)<10?M:D})]})}function Zyt({id:e,x:t,y:n,radius:i,stroke:a="#000",fill:r="transparent",strokeWidth:s=2,isSelected:o,isInMultiSelection:c,onSelect:d,onTransformEnd:f,onDragEnd:g,rotation:v,onDoubleClick:y,onContextMenu:b,listening:w=!0,tool:E="select"}){const C=j.useRef(),A=j.useRef();return j.useEffect(()=>{o&&C.current&&A.current&&(A.current.nodes([C.current]),A.current.getLayer().batchDraw())},[o]),L.jsxs(L.Fragment,{children:[L.jsx(jyt,{id:e,ref:C,x:t,y:n,radius:i,stroke:a,fill:r,strokeWidth:c?s+1:s,draggable:o||c,rotation:v||0,opacity:c?.8:1,onClick:d,onTap:d,onDblClick:y,onDblTap:y,onDragEnd:g||f,onTransformEnd:f,onContextMenu:b,onMouseEnter:_=>{const M=_.target.getStage();w&&(M.container().style.cursor="move")},onMouseLeave:_=>{const M=_.target.getStage(),D=E||"select";M.container().style.cursor=D==="hand"?"grab":D==="select"?"default":"crosshair"}}),o&&L.jsx(Dc,{ref:A,enabledAnchors:["top-left","top-right","bottom-left","bottom-right"],rotateEnabled:!0,boundBoxFunc:(_,M)=>Math.abs(M.width)<10||Math.abs(M.height)<10?_:M})]})}function Jyt({id:e,points:t=[0,0,100,100],x:n=0,y:i=0,stroke:a="#000",fill:r="#000",strokeWidth:s=2,tension:o=0,draggable:c=!0,rotation:d=0,isSelected:f=!1,isInMultiSelection:g=!1,onSelect:v,onDragEnd:y,onTransformEnd:b,onDoubleClick:w,onContextMenu:E,listening:C=!0,lineCap:A="round",lineJoin:_="round",tool:M="select"}){const D=j.useRef(),P=j.useRef();j.useEffect(()=>{f&&D.current&&P.current&&(P.current.nodes([D.current]),P.current.getLayer().batchDraw())},[f]);const B=Array.isArray(t)?t:[0,0,100,100];return L.jsxs(L.Fragment,{children:[L.jsx(px,{id:e,ref:D,x:n,y:i,points:B,stroke:a,fill:r,strokeWidth:g?s+1:s,lineCap:A,lineJoin:_,tension:o,draggable:c&&(f||g),rotation:d,listening:C,opacity:g?.8:1,onClick:v,onTap:v,onDragEnd:y,onTransformEnd:b,onDblClick:w,onDblTap:w,onContextMenu:E,onMouseEnter:k=>{const z=k.target.getStage();C&&(z.container().style.cursor="move")},onMouseLeave:k=>{const z=k.target.getStage(),H=M||"select";z.container().style.cursor=H==="hand"?"grab":H==="select"?"default":"crosshair"}}),f&&L.jsx(Dc,{ref:P,rotateEnabled:!0,enabledAnchors:["middle-left","middle-right","top-left","top-right","bottom-left","bottom-right","top-center","bottom-center"],boundBoxFunc:(k,z)=>Math.abs(z.width)<10?k:z})]})}var tbt=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n};const ebt=e=>{const t=window.getComputedStyle(e).position;return!(t==="absolute"||t==="relative")};function nbt(e=()=>{}){const t=Y.useRef(e);return t.current=e,Y.useCallback((...n)=>t.current.apply(null,n),[])}const ibt=({children:e,groupProps:t,divProps:n,transform:i,transformFunc:a,parentNodeFunc:r})=>{const s=zI(),o=Y.useRef(null),[c]=Y.useState(()=>document.createElement("div")),d=Y.useMemo(()=>X9.createRoot(c),[c]),f=i??!0,g=nbt(()=>{if(f&&o.current){let E=o.current.getAbsoluteTransform().decompose();a&&(E=a(E)),c.style.position="absolute",c.style.zIndex="10",c.style.top="0px",c.style.left="0px",c.style.transform=`translate(${E.x}px, ${E.y}px) rotate(${E.rotation}deg) scaleX(${E.scaleX}) scaleY(${E.scaleY})`,c.style.transformOrigin="top left"}else c.style.position="",c.style.zIndex="",c.style.top="",c.style.left="",c.style.transform="",c.style.transformOrigin="";const v=n||{},{style:y}=v,b=tbt(v,["style"]);Object.assign(c.style,y),Object.assign(c,b)});return Y.useLayoutEffect(()=>{var v;const y=o.current;if(!y)return;const b=r?r({stage:y.getStage()}):(v=y.getStage())===null||v===void 0?void 0:v.container();if(b)return b.appendChild(c),f&&ebt(b)&&(b.style.position="relative"),y.on("absoluteTransformChange",g),g(),()=>{var w;y.off("absoluteTransformChange",g),(w=c.parentNode)===null||w===void 0||w.removeChild(c)}},[f,r]),Y.useLayoutEffect(()=>{g()},[n,a]),Y.useLayoutEffect(()=>{d.render(Y.createElement(s,null,e))}),Y.useLayoutEffect(()=>()=>{setTimeout(()=>{d.unmount()})},[]),Y.createElement(sy,Object.assign({ref:o},t))};function abt({id:e,x:t,y:n,text:i,fontSize:a,fontFamily:r,fill:s,stroke:o,isSelected:c,onSelect:d,onTransformEnd:f,onChangeText:g,rotation:v,autoEdit:y,onContextMenu:b}){const w=j.useRef(),E=j.useRef(),C=j.useRef(),[A,_]=j.useState(y||!1),[M,D]=j.useState(i);j.useEffect(()=>D(i),[i]),j.useEffect(()=>{y&&_(!0)},[y]),j.useEffect(()=>{c&&C.current&&w.current&&!A&&(C.current.nodes([w.current]),C.current.getLayer().batchDraw())},[c,A]);const[P,B]=j.useState({width:100,height:40});j.useEffect(()=>{const G=document.createElement("canvas").getContext("2d");G.font=`${a||16}px ${r||"Arial"}`;const Q=M.split(`
`),at=Math.max(...Q.map(tt=>G.measureText(tt).width)),Z=Math.max(at+16,80),nt=Math.max(Q.length*(a||16)*1.2+16,28);B({width:Z,height:nt})},[M,a,r]);const k=H=>{const G=w.current;E.current;const Q=G.scaleX(),at=G.scaleY(),Z=Math.max(8,(a||16)*at),nt=Math.max(50,P.width*Q),tt=Math.max(20,P.height*at);f&&f({target:{id:()=>e,x:()=>G.x(),y:()=>G.y(),width:()=>nt,height:()=>tt,rotation:()=>G.rotation(),scaleX:()=>1,scaleY:()=>1,fontSize:()=>Z}}),G.scaleX(1),G.scaleY(1),G.rotation(0)},z=()=>{_(!1),g&&M!==i&&g(e,M)};return L.jsx(L.Fragment,{children:A?L.jsx(ibt,{children:L.jsx("textarea",{name:"INPUT",autoFocus:!0,value:M,onChange:H=>{D(H.target.value),H.target.style.height="auto",H.target.style.height=H.target.scrollHeight+"px"},onBlur:z,onKeyDown:H=>{H.key==="Enter"&&!H.shiftKey&&z(),H.key==="Escape"&&_(!1)},style:{position:"absolute",top:0,left:0,transform:`translate(${t}px, ${n}px)`,fontSize:a,fontFamily:r,color:o,background:s,border:"1px solid #aaa",padding:4,borderRadius:4,resize:"none",minWidth:80,minHeight:28,maxHeight:300,overflow:"auto",zIndex:20,outline:"none",lineHeight:1.2},rows:3,spellCheck:!1})}):L.jsxs(L.Fragment,{children:[L.jsxs(sy,{ref:w,x:t,y:n,rotation:v||0,draggable:c,onClick:d,onTap:d,onDblClick:()=>_(!0),onDblTap:()=>_(!0),onDragEnd:H=>{const G=H.target;f&&f({target:{id:()=>e,x:()=>G.x(),y:()=>G.y(),width:()=>P.width,height:()=>P.height,rotation:()=>G.rotation(),scaleX:()=>1,scaleY:()=>1,fontSize:()=>a}})},onContextMenu:b,children:[L.jsx(wh,{width:P.width,height:P.height,fillEnabled:!1,strokeEnabled:!1,listening:!0,name:"resize-box"}),L.jsx(wh,{width:P.width,height:P.height,fill:s,cornerRadius:6,listening:!1}),L.jsx(Fyt,{name:"INPUT",ref:E,text:M,fontSize:a,fontFamily:r,fill:o,width:P.width,height:P.height,align:"left",verticalAlign:"middle",onTransformEnd:k})]}),c&&!A&&L.jsx(Dc,{ref:C,rotateEnabled:!0,boundBoxFunc:(H,G)=>Math.abs(G.width)<20||Math.abs(G.height)<20?H:G})]})})}function rbt(e){const[t,n]=j.useState(null);return j.useEffect(()=>{if(e){if(e.startsWith("data:")||e.startsWith("blob:")){n(e);return}if(e.match(/\/assets\/[a-zA-Z0-9-]+$/)||e.match(/^[a-zA-Z0-9-]+$/)){const i=e.startsWith("http")?e:e.startsWith("/assets/")?`${window.location.origin}${e}`:`${dv}/assets/${e}`;n(i);return}n(null)}},[e]),t}function sbt({id:e,src:t,x:n,y:i,width:a,height:r,isSelected:s,isInMultiSelection:o,onSelect:c,onTransformEnd:d,onDragEnd:f,onDoubleClick:g,onContextMenu:v,listening:y=!0,tool:b="select"}){const w=rbt(t),[E]=V5(w),C=Y.useRef(),A=Y.useRef();return Y.useEffect(()=>{s&&C.current&&A.current&&(A.current.nodes([C.current]),A.current.getLayer().batchDraw())},[s]),L.jsxs(L.Fragment,{children:[L.jsx(wh,{x:n,y:i,width:a,height:r,fillEnabled:!1,strokeEnabled:!1,listening:!0,onClick:c,onTap:c}),L.jsx(q5,{id:e,ref:C,image:E||void 0,x:n,y:i,width:a,height:r,draggable:s||o,opacity:o?.8:1,onClick:c,onTap:c,onDblClick:g,onDblTap:g,onDragEnd:f||d,onContextMenu:v,onTransformEnd:d,onMouseEnter:_=>{const M=_.target.getStage();y&&(M.container().style.cursor="move")},onMouseLeave:_=>{const M=_.target.getStage(),D=b||"select";M.container().style.cursor=D==="hand"?"grab":D==="select"?"default":"crosshair"}}),s&&L.jsx(Dc,{ref:A,flipEnabled:!1,boundBoxFunc:(_,M)=>Math.abs(M.width)<5||Math.abs(M.height)<5?_:M})]})}function obt(e="red",t=32){return`
    <svg xmlns="http://www.w3.org/2000/svg" width="${t}" height="${t}" viewBox="0 0 24 24" fill="none" stroke="${e}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"/>
      <circle cx="12" cy="10" r="3"/>
    </svg>
  `}function lbt({id:e,x:t,y:n,color:i="red",isSelected:a,isInMultiSelection:r,onSelect:s,onTransformEnd:o,onDragEnd:c,onDoubleClick:d,onContextMenu:f}){const g=Lt(_=>_.zoom),v=32,y=obt(i,v),b="data:image/svg+xml;base64,"+btoa(y),[w]=V5(b),E=j.useRef(),C=j.useRef();j.useEffect(()=>{a&&E.current&&C.current&&(C.current.nodes([E.current]),C.current.getLayer().batchDraw())},[a]);const A=_=>{const M=_.target,D=M.x(),P=M.y(),B=(D+v/2)*g,k=(P+v)*g;c&&c({..._,target:{..._.target,id:()=>e,x:()=>B,y:()=>k}})};return L.jsxs(L.Fragment,{children:[L.jsx(wh,{x:t-v/2,y:n-v,width:v,height:v,fillEnabled:!1,strokeEnabled:!1,listening:!0,onClick:s,onTap:s,onContextMenu:f,onDblClick:d,onDblTap:d}),L.jsx(q5,{id:e,ref:E,image:w||void 0,x:t-v/2,y:n-v,width:v,height:v,scaleX:1/g,scaleY:1/g,draggable:a||r,opacity:r?.8:1,onClick:s,onTap:s,onDblClick:d,onDblTap:d,onDragEnd:A,onContextMenu:f,onMouseEnter:_=>{const M=_.target.getStage();M.container().style.cursor="move"},onMouseLeave:_=>{const M=_.target.getStage();M.container().style.cursor="default"}}),a&&L.jsx(Dc,{ref:C,enabledAnchors:[],rotateEnabled:!0})]})}function cbt({id:e,points:t=[0,0,100,100],x:n=0,y:i=0,stroke:a="#222",fill:r="#222",strokeWidth:s=4,pointerLength:o=20,pointerWidth:c=20,tension:d=0,draggable:f=!0,rotation:g=0,isSelected:v=!1,isInMultiSelection:y=!1,onSelect:b,onDragEnd:w,onTransformEnd:E,onDoubleClick:C,onContextMenu:A,listening:_=!0,tool:M="select"}){const D=j.useRef(),P=j.useRef();return j.useEffect(()=>{v&&D.current&&P.current&&(P.current.nodes([D.current]),P.current.getLayer().batchDraw())},[v]),L.jsxs(L.Fragment,{children:[L.jsx(Byt,{id:e,ref:D,x:n,y:i,points:t,stroke:a,fill:r,strokeWidth:y?s+1:s,pointerLength:o,pointerWidth:c,tension:d,draggable:f&&(v||y),rotation:g,listening:_,opacity:y?.8:1,onClick:b,onTap:b,onDragEnd:w,onTransformEnd:E,onDblClick:C,onDblTap:C,onContextMenu:A,onMouseEnter:B=>{const k=B.target.getStage();_&&(k.container().style.cursor="move")},onMouseLeave:B=>{const k=B.target.getStage(),z=M||"select";k.container().style.cursor=z==="hand"?"grab":z==="select"?"default":"crosshair"}}),v&&L.jsx(Dc,{ref:P,rotateEnabled:!0,enabledAnchors:["middle-left","middle-right"],boundBoxFunc:(B,k)=>k})]})}function ubt({layers:e,shapes:t,selectedShapeIds:n,tool:i,toggleSelection:a,setSelectedShape:r,handleTransformEnd:s,handleShapeDragEnd:o,handleShapeDoubleClick:c,setContextMenu:d,autoEditTextId:f,updateShape:g,setActiveLayer:v}){const{isEditMode:y}=w2();return L.jsx(L.Fragment,{children:e.map(b=>{if(!b.visible)return null;const w=b.locked,E=t.filter(C=>C.layerId===b.id&&C.visible!==!1&&!C._toDelete);return E.length===0?null:L.jsx(sy,{opacity:b.opacity??1,listening:!w,children:E.map(C=>{const A=w;let _=null;const M=k=>{i!=="select"||A||(_=setTimeout(()=>{d(k,C.id)},420))},D=()=>clearTimeout(_),P=C.type==="marker",B={id:C.id,...C.props,tool:i,isSelected:y&&n.includes(C.id)&&n.length===1,isInMultiSelection:y&&n.includes(C.id)&&n.length>1,draggable:y&&!A&&n.includes(C.id),listening:y&&i==="select"&&!A,isLocked:A,...y?{onSelect:k=>{i==="select"&&!A&&(k&&(k.evt.ctrlKey||k.evt.metaKey)?a(C.id):(r(C.id),v(C.layerId)))},onTransformEnd:s,onDragEnd:o,onDoubleClick:()=>c(C.id),onContextMenu:k=>{i==="select"&&(k.evt.preventDefault(),d(k,C.id))},onTouchStart:M,onTouchEnd:D,onTouchMove:D}:P?{onDoubleClick:()=>c(C.id)}:{}};switch(C.type){case"free":return L.jsx(Wyt,{onUpdate:({id:k,props:z})=>g(k,z),...B},C.id);case"line":return L.jsx(Jyt,{...B},C.id);case"arrow":return L.jsx(cbt,{...B},C.id);case"rect":return L.jsx(Qyt,{...B},C.id);case"circle":return L.jsx(Zyt,{...B},C.id);case"text":return L.jsx(abt,{...B,autoEdit:C.id===f,onChangeText:(k,z)=>{g(k,{text:z})}},C.id);case"image":return L.jsx(sbt,{...B},C.id);case"marker":return L.jsx(lbt,{...B},C.id);default:return null}})},b.id)})})}function dbt({contextMenu:e,onBringToFront:t,onSendToBack:n,onBringForward:i,onSendBackward:a,onCopy:r,onPaste:s,onDelete:o,clipboardShape:c,onClose:d,onReplace:f}){const g=j.useRef(null),[v,y]=j.useState({top:0,left:0});if(j.useEffect(()=>{e&&setTimeout(()=>{const E=g.current;if(!E)return;const{innerWidth:C,innerHeight:A}=window,_=E.getBoundingClientRect();let M=e.x,D=e.y;M+_.width>C-8&&(M=C-_.width-8),D+_.height>A-8&&(D=A-_.height-8),D<8&&(D=8),M<8&&(M=8),y({top:D,left:M})},0)},[e]),j.useEffect(()=>{const E=C=>{C.key==="Escape"&&d()};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[d]),j.useEffect(()=>{const E=C=>{g.current&&!g.current.contains(C.target)&&d()};return window.addEventListener("mousedown",E),window.addEventListener("touchstart",E),window.addEventListener("scroll",d,!0),()=>{window.removeEventListener("mousedown",E),window.removeEventListener("touchstart",E),window.removeEventListener("scroll",d,!0)}},[d]),j.useEffect(()=>{g.current?.focus()},[e]),!e)return null;const b="animate-fade-in duration-150 transition-all ease-in-out",w=[{label:"Copiar",icon:dP,action:()=>r(e.shapeId),shortcut:"Ctrl+C"},c?{label:"Pegar",icon:$4,action:()=>s(e.shapeId),shortcut:"Ctrl+V"}:null,c?{label:"Reemplazar",icon:$4,action:()=>f(e.shapeId),shortcut:"Ctrl+R",disabled:!c}:null,{label:"Eliminar",icon:Lv,action:()=>o(e.shapeId),shortcut:"Del",className:"text-red-600 dark:text-red-400"},{type:"divider"},{label:"Traer al frente",icon:MH,action:()=>t(e.shapeId)},{label:"Enviar al fondo",icon:_H,action:()=>n(e.shapeId)},{label:"Subir",icon:OH,action:()=>i(e.shapeId)},{label:"Bajar",icon:AH,action:()=>a(e.shapeId)}].filter(Boolean);return L.jsx("div",{ref:g,tabIndex:-1,className:`
        fixed z-[9999] min-w-48 px-2 py-2 rounded-2xl
        border border-slate-200 dark:border-slate-700
        bg-white/90 dark:bg-slate-900/90
        shadow-xl shadow-black/10
        ring-1 ring-slate-300/70 dark:ring-slate-800/50
        backdrop-blur-md
        ${b}
        select-none
      `,style:{top:v.top,left:v.left,outline:"none",position:"fixed"},children:L.jsx("div",{className:"flex flex-col gap-0.5",children:w.map((E,C)=>E.type==="divider"?L.jsx("div",{className:"my-1 border-t border-slate-200 dark:border-slate-700"},"divider-"+C):L.jsxs("button",{className:`
                w-full text-left flex items-center gap-2
                px-4 py-2
                rounded-lg
                text-[15px] font-medium
                hover:bg-blue-50 dark:hover:bg-slate-500
                focus:bg-blue-100 dark:focus:bg-blue-900
                transition-colors
                ${E.className||"text-slate-700 dark:text-slate-200"}
              `,onMouseDown:A=>{A.preventDefault(),E.disabled||(E.action(),d())},disabled:E.disabled,children:[L.jsx(E.icon,{size:18,className:"opacity-80"}),L.jsx("span",{className:"flex-1",children:E.label}),E.shortcut&&L.jsx("span",{className:"text-xs opacity-60",children:E.shortcut})]},E.label))})})}if(typeof window<"u"&&!window.__contextmenu_fadein_css){const e=document.createElement("style");e.textContent=`
    @keyframes fade-in {
      from { opacity: 0; transform: scale(0.96);}
      to   { opacity: 1; transform: scale(1);}
    }
    .animate-fade-in { animation: fade-in 0.18s cubic-bezier(.4,0,.2,1) both; }
  `,document.head.appendChild(e),window.__contextmenu_fadein_css=!0}function hbt({selectBox:e}){if(!e)return null;const t=Math.min(e.startX,e.endX),n=Math.min(e.startY,e.endY),i=Math.abs(e.endX-e.startX),a=Math.abs(e.endY-e.startY);return L.jsx(wh,{x:t,y:n,width:i,height:a,fill:"rgba(173, 216, 230, 0.2)",stroke:"rgba(70, 130, 180, 0.8)",strokeWidth:1,dash:[2,2],listening:!1})}function fbt({transformerRef:e,enabled:t=!0,...n}){return t?L.jsx(Dc,{ref:e,rotateEnabled:!0,enabledAnchors:["top-left","top-center","top-right","middle-right","bottom-right","bottom-center","bottom-left","middle-left"],boundBoxFunc:(i,a)=>Math.abs(a.width)<10||Math.abs(a.height)<10?i:a,...n}):null}function Lh(e,t,n,i){function a(r){return r instanceof n?r:new n(function(s){s(r)})}return new(n||(n=Promise))(function(r,s){function o(f){try{d(i.next(f))}catch(g){s(g)}}function c(f){try{d(i.throw(f))}catch(g){s(g)}}function d(f){f.done?r(f.value):a(f.value).then(o,c)}d((i=i.apply(e,t||[])).next())})}const pbt=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Gp(e,t,n){const i=mbt(e),{webkitRelativePath:a}=e,r=typeof t=="string"?t:typeof a=="string"&&a.length>0?a:`./${e.name}`;return typeof i.path!="string"&&P9(i,"path",r),P9(i,"relativePath",r),i}function mbt(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const i=t.split(".").pop().toLowerCase(),a=pbt.get(i);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}function P9(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const gbt=[".DS_Store","Thumbs.db"];function vbt(e){return Lh(this,void 0,void 0,function*(){return mx(e)&&ybt(e.dataTransfer)?wbt(e.dataTransfer,e.type):bbt(e)?xbt(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?Sbt(e):[]})}function ybt(e){return mx(e)}function bbt(e){return mx(e)&&mx(e.target)}function mx(e){return typeof e=="object"&&e!==null}function xbt(e){return XC(e.target.files).map(t=>Gp(t))}function Sbt(e){return Lh(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>Gp(n))})}function wbt(e,t){return Lh(this,void 0,void 0,function*(){if(e.items){const n=XC(e.items).filter(a=>a.kind==="file");if(t!=="drop")return n;const i=yield Promise.all(n.map(_bt));return k9(UI(i))}return k9(XC(e.files).map(n=>Gp(n)))})}function k9(e){return e.filter(t=>gbt.indexOf(t.name)===-1)}function XC(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const i=e[n];t.push(i)}return t}function _bt(e){if(typeof e.webkitGetAsEntry!="function")return L9(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?HI(t):L9(e,t)}function UI(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?UI(n):[n]],[])}function L9(e,t){return Lh(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const r=yield e.getAsFileSystemHandle();if(r===null)throw new Error(`${e} is not a File`);if(r!==void 0){const s=yield r.getFile();return s.handle=r,Gp(s)}}const i=e.getAsFile();if(!i)throw new Error(`${e} is not a File`);return Gp(i,(n=t?.fullPath)!==null&&n!==void 0?n:void 0)})}function Ebt(e){return Lh(this,void 0,void 0,function*(){return e.isDirectory?HI(e):Abt(e)})}function HI(e){const t=e.createReader();return new Promise((n,i)=>{const a=[];function r(){t.readEntries(s=>Lh(this,void 0,void 0,function*(){if(s.length){const o=Promise.all(s.map(Ebt));a.push(o),r()}else try{const o=yield Promise.all(a);n(o)}catch(o){i(o)}}),s=>{i(s)})}r()})}function Abt(e){return Lh(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(i=>{const a=Gp(i,e.fullPath);t(a)},i=>{n(i)})})})}var c1={},j9;function Cbt(){return j9||(j9=1,c1.__esModule=!0,c1.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var i=e.name||"",a=(e.type||"").toLowerCase(),r=a.replace(/\/.*$/,"");return n.some(function(s){var o=s.trim().toLowerCase();return o.charAt(0)==="."?i.toLowerCase().endsWith(o):o.endsWith("/*")?r===o.replace(/\/.*$/,""):a===o})}return!0}),c1}var Tbt=Cbt();const TA=Qr(Tbt);function F9(e){return Dbt(e)||Mbt(e)||qI(e)||Rbt()}function Rbt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mbt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dbt(e){if(Array.isArray(e))return WC(e)}function B9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,i)}return n}function I9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B9(Object(n),!0).forEach(function(i){GI(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B9(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function GI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ov(e,t){return Pbt(e)||Nbt(e,t)||qI(e,t)||Obt()}function Obt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qI(e,t){if(e){if(typeof e=="string")return WC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WC(e,t)}}function WC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Nbt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],a=!0,r=!1,s,o;try{for(n=n.call(e);!(a=(s=n.next()).done)&&(i.push(s.value),!(t&&i.length===t));a=!0);}catch(c){r=!0,o=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(r)throw o}}return i}}function Pbt(e){if(Array.isArray(e))return e}var kbt=typeof TA=="function"?TA:TA.default,Lbt="file-invalid-type",jbt="file-too-large",Fbt="file-too-small",Bbt="too-many-files",Ibt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),i=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:Lbt,message:"File type must be ".concat(i)}},z9=function(t){return{code:jbt,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},U9=function(t){return{code:Fbt,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},zbt={code:Bbt,message:"Too many files"};function VI(e,t){var n=e.type==="application/x-moz-file"||kbt(e,t);return[n,n?null:Ibt(t)]}function $I(e,t,n){if(Kd(e.size))if(Kd(t)&&Kd(n)){if(e.size>n)return[!1,z9(n)];if(e.size<t)return[!1,U9(t)]}else{if(Kd(t)&&e.size<t)return[!1,U9(t)];if(Kd(n)&&e.size>n)return[!1,z9(n)]}return[!0,null]}function Kd(e){return e!=null}function Ubt(e){var t=e.files,n=e.accept,i=e.minSize,a=e.maxSize,r=e.multiple,s=e.maxFiles,o=e.validator;return!r&&t.length>1||r&&s>=1&&t.length>s?!1:t.every(function(c){var d=VI(c,n),f=Ov(d,1),g=f[0],v=$I(c,i,a),y=Ov(v,1),b=y[0],w=o?o(c):null;return g&&b&&!w})}function gx(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function u1(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function H9(e){e.preventDefault()}function Hbt(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Gbt(e){return e.indexOf("Edge/")!==-1}function qbt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Hbt(e)||Gbt(e)}function dl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){for(var a=arguments.length,r=new Array(a>1?a-1:0),s=1;s<a;s++)r[s-1]=arguments[s];return t.some(function(o){return!gx(i)&&o&&o.apply(void 0,[i].concat(r)),gx(i)})}}function Vbt(){return"showOpenFilePicker"in window}function $bt(e){if(Kd(e)){var t=Object.entries(e).filter(function(n){var i=Ov(n,2),a=i[0],r=i[1],s=!0;return YI(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(r)||!r.every(KI))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,i){var a=Ov(i,2),r=a[0],s=a[1];return I9(I9({},n),{},GI({},r,s))},{});return[{description:"Files",accept:t}]}return e}function Ybt(e){if(Kd(e))return Object.entries(e).reduce(function(t,n){var i=Ov(n,2),a=i[0],r=i[1];return[].concat(F9(t),[a],F9(r))},[]).filter(function(t){return YI(t)||KI(t)}).join(",")}function Kbt(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Xbt(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function YI(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function KI(e){return/^.*\.[\w]+$/.test(e)}var Wbt=["children"],Qbt=["open"],Zbt=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Jbt=["refKey","onChange","onClick"];function t1t(e){return i1t(e)||n1t(e)||XI(e)||e1t()}function e1t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n1t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function i1t(e){if(Array.isArray(e))return QC(e)}function RA(e,t){return s1t(e)||r1t(e,t)||XI(e,t)||a1t()}function a1t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XI(e,t){if(e){if(typeof e=="string")return QC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QC(e,t)}}function QC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r1t(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],a=!0,r=!1,s,o;try{for(n=n.call(e);!(a=(s=n.next()).done)&&(i.push(s.value),!(t&&i.length===t));a=!0);}catch(c){r=!0,o=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(r)throw o}}return i}}function s1t(e){if(Array.isArray(e))return e}function G9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,i)}return n}function ui(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G9(Object(n),!0).forEach(function(i){ZC(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G9(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function ZC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vx(e,t){if(e==null)return{};var n=o1t(e,t),i,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function o1t(e,t){if(e==null)return{};var n={},i=Object.keys(e),a,r;for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var $5=j.forwardRef(function(e,t){var n=e.children,i=vx(e,Wbt),a=QI(i),r=a.open,s=vx(a,Qbt);return j.useImperativeHandle(t,function(){return{open:r}},[r]),Y.createElement(j.Fragment,null,n(ui(ui({},s),{},{open:r})))});$5.displayName="Dropzone";var WI={disabled:!1,getFilesFromEvent:vbt,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};$5.defaultProps=WI;$5.propTypes={children:wt.func,accept:wt.objectOf(wt.arrayOf(wt.string)),multiple:wt.bool,preventDropOnDocument:wt.bool,noClick:wt.bool,noKeyboard:wt.bool,noDrag:wt.bool,noDragEventsBubbling:wt.bool,minSize:wt.number,maxSize:wt.number,maxFiles:wt.number,disabled:wt.bool,getFilesFromEvent:wt.func,onFileDialogCancel:wt.func,onFileDialogOpen:wt.func,useFsAccessApi:wt.bool,autoFocus:wt.bool,onDragEnter:wt.func,onDragLeave:wt.func,onDragOver:wt.func,onDrop:wt.func,onDropAccepted:wt.func,onDropRejected:wt.func,onError:wt.func,validator:wt.func};var JC={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function QI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=ui(ui({},WI),e),n=t.accept,i=t.disabled,a=t.getFilesFromEvent,r=t.maxSize,s=t.minSize,o=t.multiple,c=t.maxFiles,d=t.onDragEnter,f=t.onDragLeave,g=t.onDragOver,v=t.onDrop,y=t.onDropAccepted,b=t.onDropRejected,w=t.onFileDialogCancel,E=t.onFileDialogOpen,C=t.useFsAccessApi,A=t.autoFocus,_=t.preventDropOnDocument,M=t.noClick,D=t.noKeyboard,P=t.noDrag,B=t.noDragEventsBubbling,k=t.onError,z=t.validator,H=j.useMemo(function(){return Ybt(n)},[n]),G=j.useMemo(function(){return $bt(n)},[n]),Q=j.useMemo(function(){return typeof E=="function"?E:q9},[E]),at=j.useMemo(function(){return typeof w=="function"?w:q9},[w]),Z=j.useRef(null),nt=j.useRef(null),tt=j.useReducer(l1t,JC),I=RA(tt,2),V=I[0],X=I[1],U=V.isFocused,$=V.isFileDialogActive,it=j.useRef(typeof window<"u"&&window.isSecureContext&&C&&Vbt()),K=function(){!it.current&&$&&setTimeout(function(){if(nt.current){var Ht=nt.current.files;Ht.length||(X({type:"closeDialog"}),at())}},300)};j.useEffect(function(){return window.addEventListener("focus",K,!1),function(){window.removeEventListener("focus",K,!1)}},[nt,$,at,it]);var ct=j.useRef([]),pt=function(Ht){Z.current&&Z.current.contains(Ht.target)||(Ht.preventDefault(),ct.current=[])};j.useEffect(function(){return _&&(document.addEventListener("dragover",H9,!1),document.addEventListener("drop",pt,!1)),function(){_&&(document.removeEventListener("dragover",H9),document.removeEventListener("drop",pt))}},[Z,_]),j.useEffect(function(){return!i&&A&&Z.current&&Z.current.focus(),function(){}},[Z,A,i]);var rt=j.useCallback(function(Nt){k?k(Nt):console.error(Nt)},[k]),J=j.useCallback(function(Nt){Nt.preventDefault(),Nt.persist(),le(Nt),ct.current=[].concat(t1t(ct.current),[Nt.target]),u1(Nt)&&Promise.resolve(a(Nt)).then(function(Ht){if(!(gx(Nt)&&!B)){var te=Ht.length,Vt=te>0&&Ubt({files:Ht,accept:H,minSize:s,maxSize:r,multiple:o,maxFiles:c,validator:z}),ee=te>0&&!Vt;X({isDragAccept:Vt,isDragReject:ee,isDragActive:!0,type:"setDraggedFiles"}),d&&d(Nt)}}).catch(function(Ht){return rt(Ht)})},[a,d,rt,B,H,s,r,o,c,z]),lt=j.useCallback(function(Nt){Nt.preventDefault(),Nt.persist(),le(Nt);var Ht=u1(Nt);if(Ht&&Nt.dataTransfer)try{Nt.dataTransfer.dropEffect="copy"}catch{}return Ht&&g&&g(Nt),!1},[g,B]),St=j.useCallback(function(Nt){Nt.preventDefault(),Nt.persist(),le(Nt);var Ht=ct.current.filter(function(Vt){return Z.current&&Z.current.contains(Vt)}),te=Ht.indexOf(Nt.target);te!==-1&&Ht.splice(te,1),ct.current=Ht,!(Ht.length>0)&&(X({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),u1(Nt)&&f&&f(Nt))},[Z,f,B]),Tt=j.useCallback(function(Nt,Ht){var te=[],Vt=[];Nt.forEach(function(ee){var Se=VI(ee,H),Ge=RA(Se,2),_n=Ge[0],$n=Ge[1],mn=$I(ee,s,r),qe=RA(mn,2),Be=qe[0],Ui=qe[1],Oi=z?z(ee):null;if(_n&&Be&&!Oi)te.push(ee);else{var jt=[$n,Ui];Oi&&(jt=jt.concat(Oi)),Vt.push({file:ee,errors:jt.filter(function(we){return we})})}}),(!o&&te.length>1||o&&c>=1&&te.length>c)&&(te.forEach(function(ee){Vt.push({file:ee,errors:[zbt]})}),te.splice(0)),X({acceptedFiles:te,fileRejections:Vt,isDragReject:Vt.length>0,type:"setFiles"}),v&&v(te,Vt,Ht),Vt.length>0&&b&&b(Vt,Ht),te.length>0&&y&&y(te,Ht)},[X,o,H,s,r,c,v,y,b,z]),Dt=j.useCallback(function(Nt){Nt.preventDefault(),Nt.persist(),le(Nt),ct.current=[],u1(Nt)&&Promise.resolve(a(Nt)).then(function(Ht){gx(Nt)&&!B||Tt(Ht,Nt)}).catch(function(Ht){return rt(Ht)}),X({type:"reset"})},[a,Tt,rt,B]),kt=j.useCallback(function(){if(it.current){X({type:"openDialog"}),Q();var Nt={multiple:o,types:G};window.showOpenFilePicker(Nt).then(function(Ht){return a(Ht)}).then(function(Ht){Tt(Ht,null),X({type:"closeDialog"})}).catch(function(Ht){Kbt(Ht)?(at(Ht),X({type:"closeDialog"})):Xbt(Ht)?(it.current=!1,nt.current?(nt.current.value=null,nt.current.click()):rt(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):rt(Ht)});return}nt.current&&(X({type:"openDialog"}),Q(),nt.current.value=null,nt.current.click())},[X,Q,at,C,Tt,rt,G,o]),zt=j.useCallback(function(Nt){!Z.current||!Z.current.isEqualNode(Nt.target)||(Nt.key===" "||Nt.key==="Enter"||Nt.keyCode===32||Nt.keyCode===13)&&(Nt.preventDefault(),kt())},[Z,kt]),Jt=j.useCallback(function(){X({type:"focus"})},[]),Pt=j.useCallback(function(){X({type:"blur"})},[]),re=j.useCallback(function(){M||(qbt()?setTimeout(kt,0):kt())},[M,kt]),Bt=function(Ht){return i?null:Ht},me=function(Ht){return D?null:Bt(Ht)},Ye=function(Ht){return P?null:Bt(Ht)},le=function(Ht){B&&Ht.stopPropagation()},pn=j.useMemo(function(){return function(){var Nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ht=Nt.refKey,te=Ht===void 0?"ref":Ht,Vt=Nt.role,ee=Nt.onKeyDown,Se=Nt.onFocus,Ge=Nt.onBlur,_n=Nt.onClick,$n=Nt.onDragEnter,mn=Nt.onDragOver,qe=Nt.onDragLeave,Be=Nt.onDrop,Ui=vx(Nt,Zbt);return ui(ui(ZC({onKeyDown:me(dl(ee,zt)),onFocus:me(dl(Se,Jt)),onBlur:me(dl(Ge,Pt)),onClick:Bt(dl(_n,re)),onDragEnter:Ye(dl($n,J)),onDragOver:Ye(dl(mn,lt)),onDragLeave:Ye(dl(qe,St)),onDrop:Ye(dl(Be,Dt)),role:typeof Vt=="string"&&Vt!==""?Vt:"presentation"},te,Z),!i&&!D?{tabIndex:0}:{}),Ui)}},[Z,zt,Jt,Pt,re,J,lt,St,Dt,D,P,i]),Qt=j.useCallback(function(Nt){Nt.stopPropagation()},[]),Ee=j.useMemo(function(){return function(){var Nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ht=Nt.refKey,te=Ht===void 0?"ref":Ht,Vt=Nt.onChange,ee=Nt.onClick,Se=vx(Nt,Jbt),Ge=ZC({accept:H,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Bt(dl(Vt,Dt)),onClick:Bt(dl(ee,Qt)),tabIndex:-1},te,nt);return ui(ui({},Ge),Se)}},[nt,n,o,Dt,i]);return ui(ui({},V),{},{isFocused:U&&!i,getRootProps:pn,getInputProps:Ee,rootRef:Z,inputRef:nt,open:Bt(kt)})}function l1t(e,t){switch(t.type){case"focus":return ui(ui({},e),{},{isFocused:!0});case"blur":return ui(ui({},e),{},{isFocused:!1});case"openDialog":return ui(ui({},JC),{},{isFileDialogActive:!0});case"closeDialog":return ui(ui({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return ui(ui({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return ui(ui({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return ui({},JC);default:return e}}function q9(){}function c1t({shapeId:e,onClose:t,viewOnly:n}){const i=Lt(it=>it.updateShape),r=Lt(it=>it.shapes).find(it=>it.id===e&&it.type==="marker"),{isEditMode:s}=w2(),o=typeof n=="boolean"?n:!s,[c,d]=j.useState(""),[f,g]=j.useState(""),[v,y]=j.useState([]),[b,w]=j.useState("#FF4D4F"),[E,C]=j.useState(null),[A,_]=j.useState(1),[M,D]=j.useState({x:0,y:0}),P=j.useRef(!1),B=j.useRef({x:0,y:0}),k=j.useRef({x:0,y:0});j.useEffect(()=>{r&&(d(r.props.title||""),g(r.props.description||""),y(r.props.images||[]),w(r.props.color||"#FF4D4F"))},[r]),j.useEffect(()=>{_(1),D({x:0,y:0})},[E]);const z=it=>{o||it.forEach(K=>{const ct=new FileReader;ct.onload=()=>{y(pt=>[...pt,ct.result])},ct.readAsDataURL(K)})},{getRootProps:H,getInputProps:G}=QI({onDrop:z,disabled:o}),Q=()=>{i(e,{title:c,description:f,images:v,color:b}),t()};if(!r)return null;const at=it=>it?/^data:/.test(it)?it:`${dv}/assets/${it}`:"",Z=it=>{let K=A+(it.deltaY<0?.15:-.15);K=Math.max(1,Math.min(K,4)),_(K)},nt=it=>{A!==1&&(P.current=!0,B.current={x:it.clientX,y:it.clientY},k.current={...M})},tt=it=>{P.current&&D({x:k.current.x+(it.clientX-B.current.x),y:k.current.y+(it.clientY-B.current.y)})},I=()=>{P.current=!1},V=()=>{_(it=>it===1?2:1),D({x:0,y:0})},X=it=>{it.touches.length===1&&A>1&&(P.current=!0,B.current={x:it.touches[0].clientX,y:it.touches[0].clientY},k.current={...M})},U=it=>{P.current&&it.touches.length===1&&D({x:k.current.x+(it.touches[0].clientX-B.current.x),y:k.current.y+(it.touches[0].clientY-B.current.y)})},$=()=>{P.current=!1};return L.jsxs(L.Fragment,{children:[L.jsx(nm,{isOpen:!!r,onClose:t,title:o?"Detalle de Marcador":"Editar Marcador",children:L.jsxs("div",{className:"space-y-4",children:[L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium",children:"Color del marcador"}),o?L.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full",style:{backgroundColor:b,padding:"0.5rem",borderRadius:"0.375rem"},children:L.jsx(M1,{color:"white"})}):L.jsx(J1,{icon:M1,color:b,onChange:w,label:"Color del marcador"})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium",children:"Ttulo"}),o?L.jsx("div",{className:"p-2 rounded bg-slate-50 border-b border-slate-200",children:c||L.jsx("span",{className:"italic text-slate-400",children:"Sin ttulo"})}):L.jsx("input",{value:c,onChange:it=>d(it.target.value),className:"w-full border rounded p-2",disabled:o})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium",children:"Descripcin"}),o?L.jsx("div",{className:"p-2 rounded bg-slate-50 border-b border-slate-200 min-h-[100px]",children:f||L.jsx("span",{className:"italic text-slate-400",children:"Sin descripcin"})}):L.jsx("textarea",{value:f,onChange:it=>g(it.target.value),className:"w-full border rounded p-2",rows:3,disabled:o})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium",children:"Imgenes"}),!o&&L.jsxs("div",{...H(),className:"border-dashed border-2 border-gray-300 rounded p-4 text-center cursor-pointer",children:[L.jsx("input",{...G()}),L.jsx("p",{children:"Arrastra o haz click para subir imgenes"})]}),L.jsxs("div",{className:"mt-2 grid grid-cols-4 gap-2",children:[v.length===0&&o&&L.jsx("div",{className:"col-span-4 text-center text-slate-400 italic",children:"Sin imgenes"}),v.map((it,K)=>L.jsx("button",{type:"button",className:"focus:outline-none",tabIndex:o?0:-1,onClick:()=>o&&C(K),style:{cursor:o?"zoom-in":"default",width:64,height:64,overflow:"hidden",borderRadius:"0.5rem",background:"#f8fafc",padding:0,display:"flex",alignItems:"center",justifyContent:"center"},children:L.jsx("img",{src:at(it),alt:`preview-${K}`,className:"object-cover w-full h-full rounded",style:{width:64,height:64},draggable:!1})},K))]})]}),!o&&L.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[L.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 rounded",children:"Cancelar"}),L.jsx("button",{onClick:Q,className:"px-4 py-2 bg-blue-500 text-white rounded",children:"Guardar"})]})]})}),E!==null&&v[E]&&L.jsxs("div",{className:"fixed inset-0 z-[11000] flex items-center justify-center bg-black/90",style:{cursor:A>1?"grab":"zoom-in"},tabIndex:0,onClick:it=>{it.target===it.currentTarget&&C(null)},children:[L.jsx("button",{className:"absolute top-8 right-8 z-50 text-white bg-black/30 rounded-full p-2 hover:bg-black/50",onClick:it=>{it.stopPropagation(),C(null)},children:L.jsx(Yp,{size:28})}),L.jsx("div",{className:"relative",style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",overflow:"visible",touchAction:"none"},onWheel:Z,onMouseDown:nt,onMouseMove:tt,onMouseUp:I,onMouseLeave:I,onDoubleClick:V,onTouchStart:X,onTouchMove:U,onTouchEnd:$,children:L.jsx("img",{src:at(v[E]),alt:`full-${E}`,className:"select-none rounded-lg shadow-2xl",style:{width:"auto",height:"auto",transform:`translate(${M.x}px, ${M.y}px) scale(${A})`,transition:P.current?"none":"transform 0.15s",userSelect:"none",cursor:A>1?"grab":"zoom-in",margin:"auto",maxWidth:"90vw",maxHeight:"90vh",background:"#111"},draggable:!1,onDragStart:it=>it.preventDefault()})})]})]})}function u1t(){const e=j.useRef(null),t=j.useRef(null),n=j.useRef(null),i=j.useRef(null),{isEditMode:a}=w2(),[r,s]=j.useState({width:0,height:0}),[o,c]=j.useState(null),[d,f]=j.useState(null),{zoom:g,pan:v,setZoom:y,setPan:b,gridEnabled:w,strokeColor:E,fillColor:C,shapes:A,layers:_,activeLayerId:M,tool:D,backgroundColor:P,setSelectedShape:B,addShape:k,updateShape:z,toggleGrid:H,toggleLayersPanel:G,saveToHistory:Q,backgroundImage:at,canvasWidth:Z,canvasHeight:nt}=Lt(),I=!!mB(),V=Lt(jt=>jt.selectedShapeId),X=Lt(jt=>jt.selectedShapeIds),U=Lt(jt=>jt.toggleSelection),$=Lt(jt=>jt.clearSelection),it=Lt(jt=>jt.setMultipleSelection),K=Lt(jt=>jt.removeSelectedShapes),ct=Lt(jt=>jt.copyShape),pt=Lt(jt=>jt.pasteShape),rt=Lt(jt=>jt.removeShape),J=Lt(jt=>jt.clipboardShape),lt=Lt(jt=>jt.replaceShape),St=Lt(jt=>jt.setActiveLayer),{contextMenu:Tt,showContextMenu:Dt,hideContextMenu:kt}=$yt(),zt={x:(r.width-Z)/2,y:(r.height-nt)/2};window.__konvaOffset=zt;const[Jt]=V5(at||""),Pt=()=>Kyt(t,zt);Hyt(t,{zoom:g,setZoom:y,pan:v,setPan:b,tool:D});const{handleImageUpload:re,openImageInput:Bt}=Yyt({fileInputRef:n,CANVAS_WIDTH:Z,CANVAS_HEIGHT:nt,layers:_,activeLayerId:M,addShape:k,setSelectedShape:B,setTool:Lt.getState().setTool,saveToHistory:Q});Gyt({autoEditTextId:o,setAutoEditTextId:c,selectedShapeId:V,selectedShapeIds:X,clearSelection:$,copyShape:ct,pasteShape:pt,toggleGrid:H,toggleLayersPanel:G,removeSelectedShapes:K,tool:D});const{isDrawing:me,handleMouseDown:Ye,handleMouseMove:le,handleMouseUp:pn}=qyt({tool:D,layers:_,activeLayerId:M,strokeColor:E,fillColor:C,addShape:k,updateShape:z,setSelectedShape:B,saveToHistory:Q,setAutoEditTextId:c,getCanvasPosition:Pt,useCanvasStoreRef:Lt}),{selectBox:Qt,isSelecting:Ee,handleStart:Nt,handleMove:Ht,handleEnd:te}=Vyt({getCanvasPosition:Pt,shapes:A,layers:_,setMultipleSelection:it});j.useEffect(()=>{if(!(!t.current||!i.current))if(X.length>1){const jt=X.map(we=>t.current.findOne(`#${we}`)).filter(Boolean);jt.length>1&&(i.current.nodes(jt),i.current.getLayer().batchDraw())}else i.current.nodes([])},[X]),j.useEffect(()=>{const jt=()=>{if(!e.current)return;const we=e.current.clientWidth,un=e.current.clientHeight;s({width:we,height:un}),b({x:0,y:0}),y(1)};return jt(),window.addEventListener("resize",jt),()=>window.removeEventListener("resize",jt)},[b,y]),j.useEffect(()=>{const jt=e.current;if(!jt)return;const we=un=>un.preventDefault();return jt.addEventListener("touchmove",we,{passive:!1}),()=>jt.removeEventListener("touchmove",we)},[]),j.useEffect(()=>{D==="image"&&Bt()},[D,Bt]),j.useEffect(()=>{d&&!A.find(jt=>jt.id===d)&&f(null)},[A,d]);const Vt=jt=>{Tt&&kt();const we=["Arrow","Rect","Circle","Line","Text","Image","FreeDraw","Marker","Group"],un=jt.target.getClassName&&(we.includes(jt.target.getClassName())||jt.target.getParent()?.getClassName()==="Group");if(D==="select"&&un)return;const Hn=jt.target===jt.target.getStage()||jt.target.id&&jt.target.id()==="background-rect";if(!I&&D!=="select"&&D!=="hand"){Mn("Selecciona una capa antes de continuar",{icon:"",duration:3500});return}D==="select"&&Hn?!jt.evt.ctrlKey&&!jt.evt.metaKey&&($(),Nt()):D!=="select"&&Ye(jt)},ee=jt=>{D==="select"?Ht():me&&le(jt,A)},Se=()=>{D==="select"&&te(),me&&pn()},Ge=jt=>{if(X.length>1){X.forEach(De=>{const Ie=t.current.findOne(`#${De}`);if(!Ie)return;const Mt=A.find(gn=>gn.id===De);if(!Mt)return;const qt=_.find(gn=>gn.id===Mt.layerId);if(qt&&qt.locked)return;const en=Ie.scaleX(),kn=Ie.scaleY(),Ln=Ie.rotation(),On=Ie.x(),dn=Ie.y();switch(Mt.type){case"arrow":z(De,{x:On,y:dn,points:Mt.props.points.map((gn,Re)=>Re%2===0?gn*en:gn*kn),rotation:Ln});break;case"line":z(De,{x:On,y:dn,points:Mt.props.points.map((gn,Re)=>Re%2===0?gn*en:gn*kn),rotation:Ln});break;case"freeDraw":z(De,{x:On,y:dn,points:Mt.props.points.map((gn,Re)=>Re%2===0?gn*en:gn*kn),rotation:Ln});break;case"rect":case"image":case"marker":z(De,{x:On,y:dn,width:Math.max(5,Ie.width()*en),height:Math.max(5,Ie.height()*kn),rotation:Ln});break;case"text":z(De,{x:On,y:dn,width:Math.max(50,Ie.width()*en),height:Math.max(20,Ie.height()*kn),fontSize:Math.max(8,(Mt.props.fontSize||16)*en),rotation:Ln});break;case"circle":z(De,{x:On,y:dn,radius:Math.max(5,Mt.props.radius*en),rotation:Ln});break}Ie.scaleX(1),Ie.scaleY(1),Ie.rotation(0)}),Q();return}const we=jt.target;if(!we||typeof we.id!="function")return;const un=we.id(),Hn=A.find(De=>De.id===un);if(!Hn)return;const fi=_.find(De=>De.id===Hn.layerId);if(fi&&fi.locked)return;const pi=we.scaleX(),An=we.scaleY(),Yn=we.rotation(),Wt=we.x(),ge=we.y();switch(Hn.type){case"arrow":z(un,{x:Wt,y:ge,points:Hn.props.points.map((De,Ie)=>Ie%2===0?De*pi:De*An),rotation:Yn});break;case"line":z(un,{x:Wt,y:ge,points:Hn.props.points.map((De,Ie)=>Ie%2===0?De*pi:De*An),rotation:Yn});break;case"freeDraw":z(un,{x:Wt,y:ge,points:Hn.props.points.map((De,Ie)=>Ie%2===0?De*pi:De*An),rotation:Yn});break;case"rect":case"image":case"marker":z(un,{x:Wt,y:ge,width:Math.max(5,we.width()*pi),height:Math.max(5,we.height()*An),rotation:Yn});break;case"text":z(un,{x:Wt,y:ge,width:Math.max(50,we.width()*pi),height:Math.max(20,we.height()*An),fontSize:Math.max(8,(Hn.props.fontSize||16)*pi),rotation:Yn});break;case"circle":z(un,{x:Wt,y:ge,radius:Math.max(5,Hn.props.radius*pi),rotation:Yn});break}we.scaleX(1),we.scaleY(1),we.rotation(0),Q()},_n=jt=>{const we=jt.target,un=we.id();if(!A.find(pi=>pi.id===un))return;const fi=we.x(),Or=we.y();z(un,{x:fi,y:Or}),Q()},$n=jt=>{A.find(un=>un.id===jt)?.type==="marker"?f(jt):B(jt)},mn=jt=>{const we=["Arrow","Rect","Circle","Line","Text","Image","FreeDraw","Marker","Group"];if(!(jt.target.getClassName&&(we.includes(jt.target.getClassName())||jt.target.getParent()?.getClassName()==="Group"))){const{setTool:Hn}=Lt.getState();Hn("select")}},qe=jt=>Lt.getState().bringShapeToFront(jt),Be=jt=>Lt.getState().sendShapeToBack(jt),Ui=jt=>Lt.getState().bringShapeForward(jt),Oi=jt=>Lt.getState().sendShapeBackward(jt);return L.jsxs("div",{ref:e,className:"flex-1 bg-slate-900 overflow-hidden p-0 m-0",children:[L.jsx("input",{type:"file",accept:"image/*",ref:n,style:{display:"none",position:"absolute",left:"-9999px"},onChange:re}),L.jsx(Iyt,{ref:jt=>{t.current=jt,window.__konvaStageRef=jt},width:r.width,height:r.height,scaleX:g,scaleY:g,x:v.x,y:v.y,draggable:D==="hand",onDragEnd:D==="hand"?jt=>b({x:jt.target.x(),y:jt.target.y()}):void 0,style:{cursor:D==="hand"?"grab":D==="select"?Ee?"crosshair":"default":"crosshair"},onMouseDown:Vt,onMouseMove:ee,onMouseUp:Se,onDblClick:mn,onTouchStart:Vt,onTouchMove:ee,onTouchEnd:Se,children:L.jsxs(Lyt,{children:[L.jsxs(sy,{x:zt.x,y:zt.y,children:[L.jsx(wh,{id:"background-rect",x:0,y:0,fill:P,width:Z,height:nt,listening:!1}),at&&Jt&&L.jsx(q5,{image:Jt,x:0,y:0,width:Z,height:nt,listening:!1}),w&&L.jsx(Xyt,{width:Z,height:nt,cellSize:jet}),L.jsx(ubt,{layers:_,shapes:A,selectedShapeIds:X,tool:D,toggleSelection:U,setSelectedShape:B,handleTransformEnd:Ge,handleShapeDragEnd:_n,handleShapeDoubleClick:$n,setContextMenu:Dt,autoEditTextId:o,updateShape:z,setActiveLayer:St}),L.jsx(hbt,{selectBox:Qt})]}),L.jsx(fbt,{transformerRef:i,enabled:a&&X.length>1})]})}),L.jsx(dbt,{contextMenu:Tt,onBringToFront:qe,onSendToBack:Be,onBringForward:Ui,onSendBackward:Oi,onClose:kt,onCopy:ct,onPaste:pt,onDelete:rt,clipboardShape:J,onReplace:lt}),d&&L.jsx(c1t,{shapeId:d,onClose:()=>f(null)})]})}function d1t(){const{zoom:e,zoomIn:t,zoomOut:n,resetView:i,gridEnabled:a,toggleGrid:r,setTool:s,tool:o}=Lt(),c=Lt(y=>y.undo),d=Lt(y=>y.redo),f=Lt(y=>y.toggleLayersPanel),g=Lt(y=>y.layersPanelVisible),v=t5({maxWidth:768});return L.jsx("div",{className:qn("fixed z-50 right-3 bottom-3 transition-all duration-200",{"right-1 left-1 flex justify-center":v}),children:L.jsxs("nav",{className:qn("flex items-center gap-2 overflow-x-auto p-2 bg-blue-900/50 backdrop-blur-lg rounded-xl shadow-2xl",{"w-auto":!v}),style:{maxWidth:v?"95vw":"unset"},children:[L.jsx("button",{onClick:()=>{f(),s("select")},title:g?"Ocultar capas (Shift+L)":"Mostrar capas (Shift+L)",className:qn("flex-shrink-0 text-white rounded p-2  transition-colors duration-200",{"bg-blue-600":g," hover:bg-blue-500/90":!g}),children:L.jsx(fP,{size:20})}),L.jsx("button",{onClick:()=>s("hand"),title:"Mover lienzo (H)",className:qn("p-2 rounded transition-colors duration-200 flex-shrink-0",{"bg-blue-600 text-white":o==="hand","text-white hover:bg-blue-500/90":o!=="hand"}),children:L.jsx(cG,{size:20})}),L.jsx("button",{onClick:c,title:"Deshacer (Ctrl+Z)",className:"p-2 rounded transition-colors text-white hover:bg-blue-500/90 duration-150",children:L.jsx(iq,{size:20})}),L.jsx("button",{onClick:d,title:"Rehacer (Ctrl+Shift+Z)",className:"p-2 rounded transition-colors text-white hover:bg-blue-500/90 duration-150",children:L.jsx(zG,{size:20})}),L.jsx("button",{onClick:n,title:"Alejar",className:"p-2 rounded transition-colors text-white hover:bg-blue-500/90 duration-150",children:L.jsx(hq,{size:20})}),L.jsxs("span",{className:"whitespace-nowrap text-white w-12 text-center select-none",children:[Math.round(e*100),"%"]}),L.jsx("button",{onClick:t,title:"Acercar",className:"p-2 rounded text-white hover:bg-blue-500/90 transition-colors duration-150",children:L.jsx(uq,{size:20})}),L.jsx("button",{onClick:i,title:"Centrar vista",className:"p-2 rounded text-white hover:bg-blue-500/90 transition-colors duration-150",children:L.jsx(xG,{size:20})}),L.jsx("button",{onClick:r,title:"Mostrar/Ocultar cuadrcula",className:qn("p-2 rounded transition-colors duration-150",{"bg-blue-100 text-black":a,"text-white hover:bg-blue-500/90":!a}),children:L.jsx(oG,{size:20})})]})})}function h1t({mode:e,onToggleMode:t,onSave:n,onDiscard:i,onExit:a}){return L.jsxs("div",{className:qn("fixed top-3 left-3  z-50 text-xs","flex items-center justify-between gap-2 px-3 py-2","bg-blue-900/50 backdrop-blur shadow-2xl rounded-2xl","w-auto h-12","transition-all duration-200"),children:[L.jsx("button",{onClick:a,className:"flex items-center justify-center p-2 rounded-lg  text-white hover:bg-blue-800/80 transition",title:"Salir",style:{minWidth:38,minHeight:38},children:L.jsx(PA,{size:20})}),L.jsx("div",{className:"flex-1"}),L.jsxs("div",{className:"flex items-center gap-1",children:[L.jsxs("button",{onClick:t,className:qn("flex items-center gap-1 px-3 py-2 rounded-lg text-white transition font-medium","hover:bg-blue-700",e==="edit"?"bg-blue-500/90":""),title:`Cambiar a modo ${e==="edit"?"visualizacin":"edicin"}`,style:{minWidth:38,minHeight:38},children:[e==="edit"?L.jsx(D1,{size:18}):L.jsx(dh,{size:18}),L.jsx("span",{className:"hidden md:inline",children:e==="edit"?"Edicin":"Visualizacin"})]}),e==="edit"&&L.jsxs(L.Fragment,{children:[L.jsxs("button",{onClick:n,className:"flex items-center gap-1 px-3 py-2 rounded-lg text-white transition font-medium  hover:bg-blue-700",title:"Guardar cambios",style:{minWidth:38,minHeight:38},children:[L.jsx(gP,{size:18}),L.jsx("span",{className:"hidden md:inline",children:"Guardar"})]}),L.jsxs("button",{onClick:i,className:"flex items-center gap-1 px-3 py-2 rounded-lg text-white transition font-medium  hover:bg-blue-700",title:"Descartar cambios",style:{minWidth:38,minHeight:38},children:[L.jsx(yP,{size:18}),L.jsx("span",{className:"hidden md:inline",children:"Descartar"})]})]})]})]})}const f1t=e=>hi.get(`/items/layers?filter[workspace_id][_eq]=${e}&sort=order`),p1t=e=>hi.post("/items/layers",e),m1t=(e,t)=>hi.patch(`/items/layers/${e}`,t),g1t=e=>hi.delete(`/items/layers/${e}`);function v1t(e){return Xp({queryKey:["layers",e],queryFn:()=>f1t(e),select:t=>t.data.data||[],enabled:!!e})}function y1t(){const e=za();return lr({mutationFn:p1t,onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["layers",n.workspace_id]})}})}function b1t(){const e=za();return lr({mutationFn:({id:t,data:n})=>m1t(t,n),onSuccess:(t,{data:n})=>{n?.workspace_id?e.invalidateQueries({queryKey:["layers",n.workspace_id]}):e.invalidateQueries({queryKey:["layers"]})}})}function x1t(){const e=za();return lr({mutationFn:g1t,onSuccess:(t,n,i)=>{e.invalidateQueries({queryKey:["layers"]})}})}const S1t=e=>{if(!e||!Array.isArray(e)||e.length===0)return Promise.resolve({data:{data:[]}});const t=encodeURIComponent(e.join(","));return hi.get(`/items/shapes?filter[layer_id][_in]=${t}&sort=order`)},w1t=e=>hi.post("/items/shapes",e),_1t=(e,t)=>hi.patch(`/items/shapes/${e}`,t),E1t=e=>hi.delete(`/items/shapes/${e}`);function A1t(e){return Xp({queryKey:["shapes",e],queryFn:()=>S1t(e),enabled:!!e&&e.length>0,select:t=>t.data.data||[]})}function C1t(){const e=za();return lr({mutationFn:w1t,onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["shapes",n.layer_id]})}})}function T1t(){const e=za();return lr({mutationFn:({id:t,data:n})=>_1t(t,n),onSuccess:(t,{data:n})=>{n?.layer_id?e.invalidateQueries({queryKey:["shapes",n.layer_id]}):e.invalidateQueries({queryKey:["shapes"]})}})}function R1t(){const e=za();return lr({mutationFn:E1t,onSuccess:(t,n,i)=>{e.invalidateQueries({queryKey:["shapes"]})}})}const V9=["Cargando tu mesa de trabajo!","Preparando tus capas y herramientas...","Ntropia, la creatividad en accin.","La imaginacin nunca duerme.","Tus ideas estn por tomar forma.","Listando shapes y fondos...","Todo listo para crear algo grande."];function M1t({text:e="Cargando Workspace..."}){const t=j.useMemo(()=>V9[Math.floor(Math.random()*V9.length)],[]);return L.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-[2px] transition-all",children:L.jsxs(xn.div,{initial:{opacity:0,scale:.97},animate:{opacity:1,scale:1},className:"bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl p-10 flex flex-col items-center gap-6 border border-white/10",children:[L.jsx(xn.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1.5,ease:"linear"},children:L.jsx(lv,{className:"w-14 h-14 text-[#2563eb] drop-shadow-xl"})}),L.jsx("span",{className:"text-white/90 text-xl font-extrabold tracking-tight",children:e}),L.jsx(xn.div,{className:"w-40 h-2 bg-white/20 rounded-full overflow-hidden",initial:{width:"0%"},animate:{width:"100%"},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},children:L.jsx(xn.div,{className:"h-full bg-[#2563eb] rounded-full",animate:{x:[0,128,0]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},style:{width:"40%"}})}),L.jsx("span",{className:"text-white/70 text-base italic mt-3",children:t})]})})}function D1t(){const{id:e}=wU(),t=_h(),{data:n,isLoading:i}=ftt(e),{data:a,isLoading:r}=v1t(e),s=a?a.map(U=>U.id):[],{data:o,isLoading:c}=A1t(s),d=Lt(U=>U.setAllLayers),f=Lt(U=>U.setAllShapes),g=Lt(U=>U.setBackgroundImage),v=Lt(U=>U.setBackgroundColor),y=Lt(U=>U.setCanvasSize),b=Lt(U=>U.mode),w=Lt(U=>U.toggleMode),E=Lt(U=>U.layers),C=Lt(U=>U.shapes),A=Lt(U=>U.backgroundImage),_=Lt(U=>U.backgroundColor),M=Lt(U=>U.canvasWidth),D=Lt(U=>U.canvasHeight),P=Lt(U=>U.clearAllFlags),B=Lt(U=>U.setAllLayers),k=Lt(U=>U.setAllShapes),z=Lt(U=>U.resetAll),H=y1t(),G=b1t(),Q=x1t(),at=C1t(),Z=T1t(),nt=R1t(),tt=ktt(),I=uT();j.useEffect(()=>{z()},[e,z]),j.useEffect(()=>{a&&d(a)},[a,d]),j.useEffect(()=>{if(o){const U=o.map($=>({...$,id:String($.id),props:$.data,layerId:String($.layer_id)}));f(U)}},[o,f]),j.useEffect(()=>{n&&(g(n.background?`${dv}/assets/${n.background}`:null),n.backgroundColor&&v(n.backgroundColor),n.canvasWidth&&n.canvasHeight&&y({width:n.canvasWidth,height:n.canvasHeight}))},[n,g,v,y]);async function V(){try{let U=n.background;if(A&&!/^https?:\/\//.test(A)&&!/^\/assets\//.test(A)&&A.startsWith("data:")){const pt=await fetch(A).then(St=>St.blob()),rt=uh(),J=pt.type.split("/")[1],lt=await tt.mutateAsync({file:pt,fileName:`${rt}.${J}`});U=lt.data.id||lt.data.data?.id}const $={};let it=E.filter(pt=>!(pt._isNew&&pt._toDelete));for(const[pt,rt]of it.entries()){const J={name:rt.name,order:typeof rt.order=="number"?rt.order:pt,visible:typeof rt.visible=="boolean"?rt.visible:!0,locked:typeof rt.locked=="boolean"?rt.locked:!1,workspace_id:e};if(rt.id&&(J.id=rt.id),rt._toDelete&&rt.id&&!rt._isNew)await Q.mutateAsync(rt.id);else if(rt._isNew&&!rt._toDelete){const lt=await H.mutateAsync(J),St=lt.data.id||lt.data.data?.id;$[rt.id]=St}else rt._dirty&&rt.id&&!rt._isNew&&!rt._toDelete&&await G.mutateAsync({id:rt.id,data:J})}const K=[...it.filter(pt=>!pt._toDelete&&!pt._isNew).map(pt=>pt.id),...Object.values($)];let ct=C.filter(pt=>!(pt._isNew&&pt._toDelete)&&K.includes($[pt.layerId]||pt.layerId));for(const[pt,rt]of ct.entries()){let J={...rt};if(rt.type==="image"&&rt.props?.src&&rt.props.src.startsWith("data:")){const Tt=await fetch(rt.props.src).then(Pt=>Pt.blob()),Dt=uh(),kt=Tt.type.split("/")[1],zt=await tt.mutateAsync({file:Tt,fileName:`${Dt}.${kt}`}),Jt=zt.data?.id||zt.data?.data?.id;J.props={...J.props,src:Jt}}if(rt.type==="marker"&&Array.isArray(rt.props?.images)){const Tt=[];for(const Dt of rt.props.images)if(Dt.startsWith("data:")){const kt=await fetch(Dt).then(Bt=>Bt.blob()),zt=uh(),Jt=kt.type.split("/")[1],Pt=await tt.mutateAsync({file:kt,fileName:`${zt}.${Jt}`}),re=Pt.data?.id||Pt.data?.data?.id;Tt.push(re)}else Tt.push(Dt);J.props={...J.props,images:Tt}}const lt=$[J.layerId]||J.layerId,St={name:J.name,order:typeof J.order=="number"?J.order:pt,layer_id:lt,data:J.props,type:J.type};rt.id&&!rt._isNew&&(St.id=rt.id),rt._toDelete&&rt.id&&!rt._isNew?await nt.mutateAsync(rt.id):rt._isNew&&!rt._toDelete?await at.mutateAsync(St):rt._dirty&&rt.id&&!rt._isNew&&!rt._toDelete&&await Z.mutateAsync({id:rt.id,data:St})}await I.mutateAsync({id:e,data:{background:U||null,backgroundColor:_,canvasWidth:M,canvasHeight:D}}),P(),Mn.success("Canvas guardado exitosamente!"),console.log("[Guardar todo] OK: background",U,"color",_,"size",M,D)}catch(U){Mn.error("Ocurri un error al guardar. Intenta de nuevo."),console.error("Error al guardar todo:",U)}}function X(){if(a&&B(a),o){const U=o.map($=>({...$,id:String($.id),props:$.data,layerId:String($.layer_id)}));k(U)}n&&(g(n.background?`${dv}/assets/${n.background}`:null),n.backgroundColor&&v(n.backgroundColor),n.canvasWidth&&n.canvasHeight&&y({width:n.canvasWidth,height:n.canvasHeight})),P(),Mn("Cambios descartados.",{icon:""})}return i||r||c?L.jsx(M1t,{text:"Cargando tu Workspace..."}):L.jsxs("div",{className:"h-[100dvh] w-[100vw] flex flex-col relative bg-slate-900 overflow-hidden",children:[L.jsx(h1t,{mode:b,onToggleMode:w,onSave:V,onDiscard:X,onExit:()=>t("/")}),L.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[L.jsx(u1t,{}),b==="edit"&&L.jsx(dht,{}),L.jsx(d1t,{}),L.jsx(M0t,{})]})]})}function O1t(){const e=Sl(s=>s.user),{isLoading:t,error:n,data:i}=v3(),a=Al(),r=!!localStorage.getItem("access_token");return r?n?.response?.status===401?L.jsx(ah,{to:"/login",state:{from:a},replace:!0}):e&&i&&e.id===i.id?L.jsx(Rp,{}):r&&(t||!e)?L.jsx(Rp,{}):L.jsx(ah,{to:"/login",state:{from:a},replace:!0}):L.jsx(ah,{to:"/login",state:{from:a},replace:!0})}function N1t(){const e=Sl(r=>r.user),{isLoading:t,error:n,data:i}=v3();Al();const a=!!localStorage.getItem("access_token");return n?.response?.status===401?L.jsx(Rp,{}):a?e&&i&&e.id===i.id?L.jsx(ah,{to:"/dashboard",replace:!0}):a&&(t||!e)?L.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#101726] via-[#232C47] to-[#1C2338]",children:L.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl p-10 flex flex-col items-center gap-6",children:[L.jsx(c3,{className:"w-8 h-8 text-blue-500 animate-spin"}),L.jsx("span",{className:"text-white text-lg",children:"Verificando sesin..."})]})}):L.jsx(Rp,{}):L.jsx(Rp,{})}const $9=[{to:"/dashboard",label:"Inicio",icon:dG},{to:"/workspace",label:"Mesas de trabajo",icon:lv}];function P1t(){const e=Sl(s=>s.user),t=Sl(s=>s.clearUser),n=_h(),[i,a]=j.useState(!1);function r(){g8("Cerrando sesin...",{icon:""}),localStorage.removeItem("access_token"),t(),setTimeout(()=>n("/login"),1e3)}return L.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#101726] via-[#232C47] to-[#1C2338] flex flex-col",children:[L.jsx(Dj,{position:"top-center",toastOptions:{style:{background:"#181F37",color:"#fff",borderRadius:"1rem"},iconTheme:{primary:"#2563eb",secondary:"#fff"}}}),L.jsx("header",{className:"sticky top-0 z-40 backdrop-blur-xl bg-white/5 border-b border-white/10 shadow-md",children:L.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between px-4 py-3",children:[L.jsxs("div",{className:"flex items-center gap-4",children:[L.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-white/10 transition",onClick:()=>a(s=>!s),children:L.jsx(NG,{className:"w-6 h-6 text-[#2563eb]"})}),L.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>n("/dashboard"),children:[L.jsx(lv,{className:"text-[#2563eb] h-7 w-7 drop-shadow"}),L.jsx("span",{className:"text-2xl font-extrabold tracking-tight text-white drop-shadow",children:"Ntropia"})]})]}),L.jsx("nav",{className:"hidden md:flex gap-2",children:$9.map(({to:s,label:o,icon:c})=>L.jsxs(OA,{to:s,className:({isActive:d})=>B6("flex items-center gap-2 px-4 py-2 rounded-2xl font-semibold text-base hover:bg-[#2563eb]/10 transition",d?"bg-[#2563eb]/20 text-[#2563eb]":"text-white/80"),children:[L.jsx(c,{className:"w-5 h-5"})," ",o]},s))}),L.jsxs("div",{className:"flex items-center gap-4",children:[L.jsx("button",{className:"relative p-2 rounded-lg hover:bg-white/10 transition",title:"Notificaciones",onClick:()=>g8("Sin notificaciones nuevas! "),children:L.jsx(LH,{className:"w-6 h-6 text-[#2563eb]"})}),L.jsx(xn.div,{whileHover:{scale:1.06},className:"group relative",children:L.jsxs("button",{className:"flex items-center gap-2 p-1 rounded-full hover:bg-white/10 transition",onClick:()=>n("/profile"),children:[L.jsx("span",{className:"inline-block h-10 w-10 rounded-full overflow-hidden bg-[#e5e9f1] border-2 border-[#2563eb] shadow",children:e?.avatar?L.jsx("img",{src:e.avatar,alt:"avatar",className:"w-full h-full object-cover"}):L.jsx(NA,{className:"w-10 h-10 text-[#2563eb]"})}),L.jsxs("span",{className:"hidden md:flex flex-col text-left",children:[L.jsxs("span",{className:"font-bold text-white text-sm leading-tight",children:[e?.first_name||""," ",e?.last_name||""]}),L.jsx("span",{className:"text-xs text-white/80",children:e?.email||""})]})]})}),L.jsx("button",{onClick:r,className:"p-2 rounded-xl bg-[#2563eb] hover:bg-[#274B8A] text-white font-bold shadow transition ml-2",title:"Cerrar sesin",children:L.jsx(PA,{className:"w-5 h-5"})})]})]})}),L.jsx(Dx,{children:i&&L.jsxs(xn.aside,{initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",stiffness:300,damping:30},className:"fixed inset-y-0 left-0 z-50 w-72 bg-gradient-to-br from-[#16203b] via-[#232C47] to-[#1C2338] shadow-2xl border-r border-[#2563eb]/20 flex flex-col py-6 px-4",children:[L.jsx("button",{className:"absolute top-4 right-4 p-1 rounded-full hover:bg-white/10",onClick:()=>a(!1),children:L.jsx(Yp,{className:"w-6 h-6 text-white"})}),L.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[L.jsx(lv,{className:"text-[#2563eb] h-8 w-8"}),L.jsx("span",{className:"text-2xl font-extrabold tracking-tight text-white drop-shadow",children:"Ntropia"})]}),L.jsx("nav",{className:"flex flex-col gap-2",children:$9.map(({to:s,label:o,icon:c})=>L.jsxs(OA,{to:s,className:({isActive:d})=>B6("flex items-center gap-3 px-4 py-2 rounded-2xl font-semibold text-lg hover:bg-[#2563eb]/20 transition",d?"bg-[#2563eb]/30 text-[#2563eb]":"text-white/90"),onClick:()=>a(!1),children:[L.jsx(c,{className:"w-6 h-6"})," ",o]},s))}),L.jsxs("div",{className:"mt-auto pt-12 flex items-center gap-3",children:[L.jsx("span",{className:"inline-block h-9 w-9 rounded-full overflow-hidden bg-[#e5e9f1] border-2 border-[#2563eb] shadow",children:e?.avatar?L.jsx("img",{src:e.avatar,alt:"avatar",className:"w-full h-full object-cover"}):L.jsx(NA,{className:"w-9 h-9 text-[#2563eb]"})}),L.jsxs("div",{className:"flex flex-col",children:[L.jsx("span",{className:"font-bold text-white text-sm",children:e?.first_name}),L.jsx("span",{className:"text-xs text-white/70",children:e?.email})]})]}),L.jsxs("button",{className:"mt-6 px-4 py-2 rounded-xl bg-[#2563eb] hover:bg-[#274B8A] text-white font-bold shadow transition flex items-center gap-2",onClick:r,children:[L.jsx(PA,{className:"w-5 h-5"})," Cerrar sesin"]})]})}),L.jsx("main",{className:"flex-1 w-full max-w-7xl mx-auto px-4 py-8",children:L.jsx(Rp,{})}),L.jsxs("footer",{className:"text-center text-xs text-white/40 py-4 mt-auto",children:[" ",new Date().getFullYear()," Ntropia  Creado por"," ",L.jsx("a",{href:"https://racoondevs.com",className:"text-white font-bold hover:underline",target:"_blank",rel:"noopener noreferrer",children:"RacoonDevs"})]})]})}function k1t({children:e}){return L.jsxs("div",{className:"w-full h-full min-h-screen bg-slate-900",children:[L.jsx(Dj,{position:"top-center",toastOptions:{style:{background:"#181F37",color:"#fff",borderRadius:"1rem"},iconTheme:{primary:"#2563eb",secondary:"#fff"}}}),e]})}function L1t(){return L.jsxs(FU,{children:[L.jsxs(hl,{element:L.jsx(N1t,{}),children:[L.jsx(hl,{path:"/login",element:L.jsx(lQ,{})}),L.jsx(hl,{path:"/register",element:L.jsx(cQ,{})})]}),L.jsxs(hl,{element:L.jsx(O1t,{}),children:[L.jsx(hl,{element:L.jsx(P1t,{}),children:L.jsx(hl,{path:"/dashboard",element:L.jsx(Det,{})})}),L.jsx(hl,{path:"/workspace/:id",element:L.jsx(k1t,{children:L.jsx(D1t,{})})})]}),L.jsx(hl,{path:"/",element:localStorage.getItem("access_token")?L.jsx(ah,{to:"/dashboard"}):L.jsx(ah,{to:"/login"})}),L.jsx(hl,{path:"*",element:L.jsx(ah,{to:"/"})})]})}const Y9=["Un gran proyecto empieza con una gran idea.","Preparando tu espacio de trabajo!","Ntropia, donde tus ideas toman forma.","La creatividad es inteligencia divirtindose.","Vamos por algo grande hoy!"];function j1t({children:e}){const{isLoading:t,error:n,data:i}=v3(),a=Sl(c=>c.user),r=j.useMemo(()=>Y9[Math.floor(Math.random()*Y9.length)],[]),s=!!localStorage.getItem("access_token");return n?.response?.status===401||!s?e:s&&(t||!a&&!n||i&&!a||i&&a&&i.id!==a.id)?L.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#101726] via-[#232C47] to-[#1C2338]",children:L.jsxs(xn.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl p-10 flex flex-col items-center gap-6 border border-white/10",children:[L.jsx(xn.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1.5,ease:"linear"},children:L.jsx(lv,{className:"w-14 h-14 text-[#2563eb] drop-shadow-xl"})}),L.jsx("span",{className:"text-white/90 text-xl font-extrabold tracking-tight",children:"Cargando Ntropia..."}),L.jsx(xn.div,{className:"w-40 h-2 bg-white/20 rounded-full overflow-hidden",initial:{width:"0%"},animate:{width:"100%"},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},children:L.jsx(xn.div,{className:"h-full bg-[#2563eb] rounded-full",animate:{x:[0,128,0]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},style:{width:"40%"}})}),L.jsx("span",{className:"text-white/70 text-base italic mt-3",children:r})]})}):e}const F1t=new Rq({defaultOptions:{queries:{retry:(e,t)=>t.response?.status===401?!1:e<2,retryDelay:e=>Math.min(1e3*2**e,3e4),staleTime:5*60*1e3,cacheTime:10*60*1e3,refetchOnWindowFocus:!1,refetchOnMount:"always"},mutations:{retry:1}}});X9.createRoot(document.getElementById("root")).render(L.jsx(Y.StrictMode,{children:L.jsx(Pq,{client:F1t,children:L.jsx(oH,{children:L.jsx(j1t,{children:L.jsx(L1t,{})})})})}));
